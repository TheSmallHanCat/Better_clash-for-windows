module.exports=function(e){function t(t){for(var i,o,r=t[0],s=t[1],a=0,c=[];a<r.length;a++)o=r[a],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&c.push(n[o][0]),n[o]=0;for(i in s)Object.prototype.hasOwnProperty.call(s,i)&&(e[i]=s[i]);for(l&&l(t);c.length;)c.shift()()}var i={},n={0:0};function o(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.e=function(e){var t,i,r,s,a,l=[],c=n[e];return 0!==c&&(c?l.push(c[2]):(a=new Promise((function(t,i){c=n[e]=[t,i]})),l.push(c[2]=a),(t=document.createElement("script")).charset="utf-8",t.timeout=120,o.nc&&t.setAttribute("nonce",o.nc),t.src=o.p+""+({}[a=e]||a)+".js",i=new Error,r=function(o){t.onerror=t.onload=null,clearTimeout(s);var r,a=n[e];0!==a&&(a&&(r=o&&("load"===o.type?"missing":o.type),o=o&&o.target&&o.target.src,i.message="正在加载 chunk "+e+" failed.\n("+r+": "+o+")",i.name="ChunkLoadError",i.type=r,i.request=o,a[1](i)),n[e]=void 0)},s=setTimeout((function(){r({type:"timeout",target:t})}),12e4),t.onerror=t.onload=r,document.head.appendChild(t))),Promise.all(l)},o.m=e,o.c=i,o.d=function(e,t,i){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(i,n,function(t){return e[t]}.bind(null,n));return i},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o.oe=function(e){throw console.error(e),e};var r=(s=window.webpackJsonp=window.webpackJsonp||[]).push.bind(s);s.push=t;for(var s=s.slice(),a=0;a<s.length;a++)t(s[a]);var l=r;return o(o.s=686)}([function(e,t,i){"use strict";function n(e,t,...i){return function(e,t){let i;return i=0===t.length?e:e.replace(/\{(\d+)\}/g,(function(e,i){return i=i[0],void 0!==t[i]?t[i]:e})),i}(t,i)}i.d(t,"a",(function(){return n}))},function(e,t,i){"use strict";i.d(t,"t",(function(){return g})),i.d(t,"N",(function(){return p})),i.d(t,"i",(function(){return m})),i.d(t,"o",(function(){return b})),i.d(t,"n",(function(){return _})),i.d(t,"g",(function(){return w})),i.d(t,"h",(function(){return C})),i.d(t,"j",(function(){return y})),i.d(t,"k",(function(){return x})),i.d(t,"T",(function(){return S})),i.d(t,"V",(function(){return k})),i.d(t,"l",(function(){return E})),i.d(t,"A",(function(){return N})),i.d(t,"z",(function(){return I})),i.d(t,"b",(function(){return M})),i.d(t,"G",(function(){return A})),i.d(t,"X",(function(){return P})),i.d(t,"D",(function(){return R})),i.d(t,"f",(function(){return F})),i.d(t,"I",(function(){return j})),i.d(t,"C",(function(){return B})),i.d(t,"B",(function(){return W})),i.d(t,"H",(function(){return V})),i.d(t,"L",(function(){return z})),i.d(t,"x",(function(){return H})),i.d(t,"J",(function(){return U})),i.d(t,"O",(function(){return K})),i.d(t,"F",(function(){return q})),i.d(t,"y",(function(){return G})),i.d(t,"w",(function(){return Y})),i.d(t,"v",(function(){return Q})),i.d(t,"Q",(function(){return J})),i.d(t,"M",(function(){return ee})),i.d(t,"d",(function(){return te})),i.d(t,"c",(function(){return ie})),i.d(t,"U",(function(){return ne})),i.d(t,"S",(function(){return oe})),i.d(t,"Y",(function(){return se})),i.d(t,"q",(function(){return ae})),i.d(t,"P",(function(){return le})),i.d(t,"R",(function(){return ce})),i.d(t,"a",(function(){return ue})),i.d(t,"W",(function(){return ge})),i.d(t,"K",(function(){return pe})),i.d(t,"E",(function(){return fe})),i.d(t,"u",(function(){return me})),i.d(t,"Z",(function(){return ve})),i.d(t,"p",(function(){return be})),i.d(t,"s",(function(){return _e})),i.d(t,"r",(function(){return we})),i.d(t,"e",(function(){return Ce})),i.d(t,"m",(function(){return ye}));t=i(44);var n,o=i(203),r=i(67),s=i(89),a=i(18),l=i(17),c=i(6),d=i(2),h=i(52),u=i(15);function g(e){for(;e.firstChild;)e.firstChild.remove()}function p(e){return null!==(e=null==e?void 0:e.isConnected)&&void 0!==e&&e}class f{constructor(e,t,i,n){this._node=e,this._type=t,this._handler=i,this._options=n||!1,this._node.addEventListener(this._type,this._handler,this._options)}dispose(){this._handler&&(this._node.removeEventListener(this._type,this._handler,this._options),this._node=null,this._handler=null)}}function m(e,t,i,n){return new f(e,t,i,n)}function v(e){return function(t){return e(new s.a(t))}}let b=function(e,t,i,n){let o=i;var s;return"click"===t||"mousedown"===t?o=v(i):"keydown"!==t&&"keypress"!==t&&"keyup"!==t||(s=i,o=function(e){return s(new r.a(e))}),m(e,t,o,n)},_=function(e,t,i){return w(e,v(t),i)};function w(e,t,i){return m(e,u.c&&o.a.pointerEvents?te.POINTER_DOWN:te.MOUSE_DOWN,t,i)}function C(e,t,i){return m(e,u.c&&o.a.pointerEvents?te.POINTER_UP:te.MOUSE_UP,t,i)}function y(e,t){return m(e,"mouseout",i=>{let n=i.relatedTarget;for(;n&&n!==e;)n=n.parentNode;n!==e&&t(i)})}function x(e,t){return m(e,"pointerout",i=>{let n=i.relatedTarget;for(;n&&n!==e;)n=n.parentNode;n!==e&&t(i)})}let S,k,D=null;class L{constructor(e,t=0){this._runner=e,this.priority=t,this._canceled=!1}dispose(){this._canceled=!0}execute(){if(!this._canceled)try{this._runner()}catch(e){Object(l.f)(e)}}static sort(e,t){return t.priority-e.priority}}!function(){let e=[],t=null,i=!1,n=!1,o=()=>{for(i=!1,t=e,e=[],n=!0;0<t.length;){t.sort(L.sort),t.shift().execute()}n=!1};k=(t,n=0)=>(t=new L(t,n),e.push(t),i||(i=!0,n=o,D||(D=self.requestAnimationFrame||self.msRequestAnimationFrame||self.webkitRequestAnimationFrame||self.mozRequestAnimationFrame||self.oRequestAnimationFrame||(e=>setTimeout(()=>e((new Date).getTime()),0))),D.call(self,n)),t),S=(e,i)=>{if(n){var o=new L(e,i);return t.push(o),o}return k(e,i)}}();class O extends d.a{constructor(e,t,i,n=function(e,t){return t},o=8){super();let r=null,s=0,l=this._register(new a.g),c=()=>{s=(new Date).getTime(),i(r),r=null};this._register(m(e,t,e=>{r=n(r,e),e=(new Date).getTime()-s,o<=e?(l.cancel(),c()):l.setIfNotSet(c,o-e)}))}}function E(e,t,i,n,o){return new O(e,t,i,n,o)}function N(e){return document.defaultView.getComputedStyle(e,null)}function I(e){if(e!==document.body)return new M(e.clientWidth,e.clientHeight);if(u.c&&window.visualViewport)return new M(window.visualViewport.width,window.visualViewport.height);if(window.innerWidth&&window.innerHeight)return new M(window.innerWidth,window.innerHeight);if(document.body&&document.body.clientWidth&&document.body.clientHeight)return new M(document.body.clientWidth,document.body.clientHeight);if(document.documentElement&&document.documentElement.clientWidth&&document.documentElement.clientHeight)return new M(document.documentElement.clientWidth,document.documentElement.clientHeight);throw new Error("Unable to figure out browser width and height")}class T{static convertToPixels(e,t){return parseFloat(t)||0}static getDimension(e,t,i){let n=N(e),o="0";return n&&(o=n.getPropertyValue?n.getPropertyValue(t):n.getAttribute(i)),T.convertToPixels(e,o)}static getBorderLeftWidth(e){return T.getDimension(e,"border-left-width","borderLeftWidth")}static getBorderRightWidth(e){return T.getDimension(e,"border-right-width","borderRightWidth")}static getBorderTopWidth(e){return T.getDimension(e,"border-top-width","borderTopWidth")}static getBorderBottomWidth(e){return T.getDimension(e,"border-bottom-width","borderBottomWidth")}static getPaddingLeft(e){return T.getDimension(e,"padding-left","paddingLeft")}static getPaddingRight(e){return T.getDimension(e,"padding-right","paddingRight")}static getPaddingTop(e){return T.getDimension(e,"padding-top","paddingTop")}static getPaddingBottom(e){return T.getDimension(e,"padding-bottom","paddingBottom")}static getMarginLeft(e){return T.getDimension(e,"margin-left","marginLeft")}static getMarginTop(e){return T.getDimension(e,"margin-top","marginTop")}static getMarginRight(e){return T.getDimension(e,"margin-right","marginRight")}static getMarginBottom(e){return T.getDimension(e,"margin-bottom","marginBottom")}}class M{constructor(e,t){this.width=e,this.height=t}with(e=this.width,t=this.height){return e!==this.width||t!==this.height?new M(e,t):this}static is(e){return"object"==typeof e&&"number"==typeof e.height&&"number"==typeof e.width}static lift(e){return e instanceof M?e:new M(e.width,e.height)}static equals(e,t){return e===t||!(!e||!t)&&e.width===t.width&&e.height===t.height}}function A(e){let t=e.offsetParent,i=e.offsetTop,n=e.offsetLeft;for(;null!==(e=e.parentNode)&&e!==document.body&&e!==document.documentElement;){i-=e.scrollTop;var o=$(e)?null:N(e);o&&(n-="rtl"!==o.direction?e.scrollLeft:-e.scrollLeft),e===t&&(n+=T.getBorderLeftWidth(e),i+=T.getBorderTopWidth(e),i+=e.offsetTop,n+=e.offsetLeft,t=e.offsetParent)}return{left:n,top:i}}function P(e,t,i){"number"==typeof t&&(e.style.width=t+"px"),"number"==typeof i&&(e.style.height=i+"px")}function R(e){return{left:(e=e.getBoundingClientRect()).left+F.scrollX,top:e.top+F.scrollY,width:e.width,height:e.height}}const F=new class{get scrollX(){return"number"==typeof window.scrollX?window.scrollX:document.body.scrollLeft+document.documentElement.scrollLeft}get scrollY(){return"number"==typeof window.scrollY?window.scrollY:document.body.scrollTop+document.documentElement.scrollTop}};function j(e){var t=T.getMarginLeft(e)+T.getMarginRight(e);return e.offsetWidth+t}function B(e){var t=T.getBorderLeftWidth(e)+T.getBorderRightWidth(e),i=T.getPaddingLeft(e)+T.getPaddingRight(e);return e.offsetWidth-t-i}function W(e){var t=T.getBorderTopWidth(e)+T.getBorderBottomWidth(e),i=T.getPaddingTop(e)+T.getPaddingBottom(e);return e.offsetHeight-t-i}function V(e){var t=T.getMarginTop(e)+T.getMarginBottom(e);return e.offsetHeight+t}function z(e,t){for(;e;){if(e===t)return!0;e=e.parentNode}return!1}function H(e,t,i){for(;e&&e.nodeType===e.ELEMENT_NODE;){if(e.classList.contains(t))return e;if(i)if("string"==typeof i){if(e.classList.contains(i))return null}else if(e===i)return null;e=e.parentNode}return null}function U(e,t,i){return!!H(e,t,i)}function $(e){return e&&e.host&&e.mode}function K(e){return!!q(e)}function q(e){for(;e.parentNode;){if(e===document.body)return null;e=e.parentNode}return $(e)?e:null}function G(){let e=document.activeElement;for(;null!=e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function Y(e=document.getElementsByTagName("head")[0]){let t=document.createElement("style");return t.type="text/css",t.media="screen",e.appendChild(t),t}let Z=null;function X(){return Z=Z||Y(),Z}function Q(e,t,i=X()){i&&t&&i.sheet.insertRule(e+"{"+t+"}",0)}function J(e,t=X()){if(t){var i,n,o=null!==(n=null==(i=t)?void 0:i.sheet)&&void 0!==n&&n.rules?i.sheet.rules:null!==(n=null==i?void 0:i.sheet)&&void 0!==n&&n.cssRules?i.sheet.cssRules:[];let r=[];for(let t=0;t<o.length;t++){-1!==o[t].selectorText.indexOf(e)&&r.push(t)}for(let e=r.length-1;0<=e;e--)t.sheet.deleteRule(r[e])}}function ee(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&1===e.nodeType&&"string"==typeof e.nodeName}const te={CLICK:"click",AUXCLICK:"auxclick",DBLCLICK:"dblclick",MOUSE_UP:"mouseup",MOUSE_DOWN:"mousedown",MOUSE_OVER:"mouseover",MOUSE_MOVE:"mousemove",MOUSE_OUT:"mouseout",MOUSE_ENTER:"mouseenter",MOUSE_LEAVE:"mouseleave",MOUSE_WHEEL:"wheel",POINTER_UP:"pointerup",POINTER_DOWN:"pointerdown",POINTER_MOVE:"pointermove",CONTEXT_MENU:"contextmenu",WHEEL:"wheel",KEY_DOWN:"keydown",KEY_PRESS:"keypress",KEY_UP:"keyup",LOAD:"load",BEFORE_UNLOAD:"beforeunload",UNLOAD:"unload",ABORT:"abort",ERROR:"error",RESIZE:"resize",SCROLL:"scroll",FULLSCREEN_CHANGE:"fullscreenchange",WK_FULLSCREEN_CHANGE:"webkitfullscreenchange",SELECT:"select",CHANGE:"change",SUBMIT:"submit",RESET:"reset",FOCUS:"focus",FOCUS_IN:"focusin",FOCUS_OUT:"focusout",BLUR:"blur",INPUT:"input",STORAGE:"storage",DRAG_START:"dragstart",DRAG:"drag",DRAG_ENTER:"dragenter",DRAG_LEAVE:"dragleave",DRAG_OVER:"dragover",DROP:"drop",DRAG_END:"dragend",ANIMATION_START:t.j?"webkitAnimationStart":"animationstart",ANIMATION_END:t.j?"webkitAnimationEnd":"animationend",ANIMATION_ITERATION:t.j?"webkitAnimationIteration":"animationiteration"},ie={stop:function(e,t){e.preventDefault?e.preventDefault():e.returnValue=!1,t&&(e.stopPropagation?e.stopPropagation():e.cancelBubble=!0)}};function ne(e){let t=[];for(let i=0;e&&e.nodeType===e.ELEMENT_NODE;i++)t[i]=e.scrollTop,e=e.parentNode;return t}function oe(e,t){for(let i=0;e&&e.nodeType===e.ELEMENT_NODE;i++)e.scrollTop!==t[i]&&(e.scrollTop=t[i]),e=e.parentNode}class re extends d.a{constructor(e){super(),this._onDidFocus=this._register(new c.b),this.onDidFocus=this._onDidFocus.event,this._onDidBlur=this._register(new c.b),this.onDidBlur=this._onDidBlur.event;let t=z(document.activeElement,e),i=!1;const n=()=>{i=!1,t||(t=!0,this._onDidFocus.fire())},o=()=>{t&&(i=!0,window.setTimeout(()=>{i&&(i=!1,t=!1,this._onDidBlur.fire())},0))};this._refreshStateHandler=()=>{z(document.activeElement,e)!==t&&(t?o:n)()},this._register(m(e,te.FOCUS,n,!0)),this._register(m(e,te.BLUR,o,!0))}}function se(e){return new re(e)}function ae(e,...t){if(e.append(...t),1===t.length&&"string"!=typeof t[0])return t[0]}function le(e,t){return e.insertBefore(t,e.firstChild),t}function ce(e,...t){e.innerText="",ae(e,...t)}const de=/([\w\-]+)?(#([\w\-]+))?((\.([\w\-]+))*)/;function he(e,t,i,...o){let r,s=de.exec(t);if(!s)throw new Error("Bad use of emmet");return i=Object.assign({},i||{}),t=s[1]||"div",r=e!==n.HTML?document.createElementNS(e,t):document.createElement(t),s[3]&&(r.id=s[3]),s[4]&&(r.className=s[4].replace(/\./g," ").trim()),Object.keys(i).forEach(e=>{var t=i[e];void 0!==t&&(/^on\w+$/.test(e)?r[e]=t:"selected"===e?t&&r.setAttribute(e,"true"):r.setAttribute(e,t))}),r.append(...o),r}function ue(e,t,...i){return he(n.HTML,e,t,...i)}function ge(...e){for(var t of e)t.style.display="",t.removeAttribute("aria-hidden")}function pe(...e){for(var t of e)t.style.display="none",t.setAttribute("aria-hidden","true")}function fe(e){return Array.prototype.slice.call(document.getElementsByTagName(e),0)}function me(e){return e=window.devicePixelRatio*e,Math.max(1,Math.floor(e))/window.devicePixelRatio}function ve(e){window.open(e,"_blank","noopener")}function be(e){const t=()=>{e(),i=k(t)};let i=k(t);return Object(d.i)(()=>i.dispose())}function _e(e){return e?`url('${h.a.asBrowserUri(e).toString(!0).replace(/'/g,"%27")}')`:"url('')"}function we(e){return`'${e.replace(/'/g,"%27")}'`}(t=n=n||{}).HTML="http://www.w3.org/1999/xhtml",t.SVG="http://www.w3.org/2000/svg",ue.SVG=function(e,t,...i){return he(n.SVG,e,t,...i)},h.b.setPreferredWebSchema(/^https:/.test(window.location.href)?"https":"http");class Ce extends c.b{constructor(){super(),this._subscriptions=new d.b,this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1},this._subscriptions.add(m(window,"keydown",e=>{if(!e.defaultPrevented){var t=new r.a(e);if(6!==t.keyCode||!e.repeat){if(e.altKey&&!this._keyStatus.altKey)this._keyStatus.lastKeyPressed="alt";else if(e.ctrlKey&&!this._keyStatus.ctrlKey)this._keyStatus.lastKeyPressed="ctrl";else if(e.metaKey&&!this._keyStatus.metaKey)this._keyStatus.lastKeyPressed="meta";else if(e.shiftKey&&!this._keyStatus.shiftKey)this._keyStatus.lastKeyPressed="shift";else{if(6===t.keyCode)return;this._keyStatus.lastKeyPressed=void 0}this._keyStatus.altKey=e.altKey,this._keyStatus.ctrlKey=e.ctrlKey,this._keyStatus.metaKey=e.metaKey,this._keyStatus.shiftKey=e.shiftKey,this._keyStatus.lastKeyPressed&&(this._keyStatus.event=e,this.fire(this._keyStatus))}}},!0)),this._subscriptions.add(m(window,"keyup",e=>{e.defaultPrevented||(!e.altKey&&this._keyStatus.altKey?this._keyStatus.lastKeyReleased="alt":!e.ctrlKey&&this._keyStatus.ctrlKey?this._keyStatus.lastKeyReleased="ctrl":!e.metaKey&&this._keyStatus.metaKey?this._keyStatus.lastKeyReleased="meta":!e.shiftKey&&this._keyStatus.shiftKey?this._keyStatus.lastKeyReleased="shift":this._keyStatus.lastKeyReleased=void 0,this._keyStatus.lastKeyPressed!==this._keyStatus.lastKeyReleased&&(this._keyStatus.lastKeyPressed=void 0),this._keyStatus.altKey=e.altKey,this._keyStatus.ctrlKey=e.ctrlKey,this._keyStatus.metaKey=e.metaKey,this._keyStatus.shiftKey=e.shiftKey,this._keyStatus.lastKeyReleased&&(this._keyStatus.event=e,this.fire(this._keyStatus)))},!0)),this._subscriptions.add(m(document.body,"mousedown",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),this._subscriptions.add(m(document.body,"mouseup",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),this._subscriptions.add(m(document.body,"mousemove",e=>{e.buttons&&(this._keyStatus.lastKeyPressed=void 0)},!0)),this._subscriptions.add(m(window,"blur",()=>{this.resetKeyStatus()}))}get keyStatus(){return this._keyStatus}resetKeyStatus(){this.doResetKeyStatus(),this.fire(this._keyStatus)}doResetKeyStatus(){this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1}}static getInstance(){return Ce.instance||(Ce.instance=new Ce),Ce.instance}dispose(){super.dispose(),this._subscriptions.dispose()}}function ye(e,t){const i=window.matchMedia(e);"function"==typeof i.addEventListener?i.addEventListener("change",t):i.addListener(t)}},function(e,t,i){"use strict";i.d(t,"h",(function(){return r})),i.d(t,"g",(function(){return a})),i.d(t,"f",(function(){return l})),i.d(t,"e",(function(){return c})),i.d(t,"i",(function(){return d})),i.d(t,"b",(function(){return h})),i.d(t,"a",(function(){return u})),i.d(t,"d",(function(){return g})),i.d(t,"c",(function(){return p}));var n=i(138),o=i(54);function r(e){return e}class s extends Error{constructor(e){super(`Encountered errors while disposing of store. Errors: [${e.join(", ")}]`),this.errors=e}}function a(e){return"function"==typeof e.dispose&&0===e.dispose.length}function l(e){if(o.a.is(e)){let t=[];for(const i of e)if(i)try{i.dispose()}catch(e){t.push(e)}if(1===t.length)throw t[0];if(1<t.length)throw new s(t);return Array.isArray(e)?[]:e}if(e)return e.dispose(),e}function c(...e){var t=d(()=>l(e));return t}function d(e){const t={dispose:Object(n.a)(()=>{e()})};return t}class h{constructor(){this._toDispose=new Set,this._isDisposed=!1}dispose(){this._isDisposed||(this._isDisposed=!0,this.clear())}clear(){try{l(this._toDispose.values())}finally{this._toDispose.clear()}}add(e){if(!e)return e;if(e===this)throw new Error("Cannot register a disposable on itself!");return this._isDisposed?h.DISABLE_DISPOSED_WARNING||console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(e),e}}h.DISABLE_DISPOSED_WARNING=!1;class u{constructor(){this._store=new h,this._store}dispose(){this._store.dispose()}_register(e){if(e===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(e)}}u.None=Object.freeze({dispose(){}});class g{constructor(){this._isDisposed=!1}get value(){return this._isDisposed?void 0:this._value}set value(e){var t;this._isDisposed||e===this._value||(null!==(t=this._value)&&void 0!==t&&t.dispose(),this._value=e)}clear(){this.value=void 0}dispose(){var e;this._isDisposed=!0,null!==(e=this._value)&&void 0!==e&&e.dispose(),this._value=void 0}clearAndLeak(){var e=this._value;return this._value=void 0,e}}class p{constructor(e){this.object=e}dispose(){}}},function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var n=i(12);class o{constructor(e,t,i,n){i<e||e===i&&n<t?(this.startLineNumber=i,this.startColumn=n,this.endLineNumber=e,this.endColumn=t):(this.startLineNumber=e,this.startColumn=t,this.endLineNumber=i,this.endColumn=n)}isEmpty(){return o.isEmpty(this)}static isEmpty(e){return e.startLineNumber===e.endLineNumber&&e.startColumn===e.endColumn}containsPosition(e){return o.containsPosition(this,e)}static containsPosition(e,t){return!(t.lineNumber<e.startLineNumber||t.lineNumber>e.endLineNumber||t.lineNumber===e.startLineNumber&&t.column<e.startColumn||t.lineNumber===e.endLineNumber&&t.column>e.endColumn)}containsRange(e){return o.containsRange(this,e)}static containsRange(e,t){return!(t.startLineNumber<e.startLineNumber||t.endLineNumber<e.startLineNumber||t.startLineNumber>e.endLineNumber||t.endLineNumber>e.endLineNumber||t.startLineNumber===e.startLineNumber&&t.startColumn<e.startColumn||t.endLineNumber===e.endLineNumber&&t.endColumn>e.endColumn)}strictContainsRange(e){return o.strictContainsRange(this,e)}static strictContainsRange(e,t){return!(t.startLineNumber<e.startLineNumber||t.endLineNumber<e.startLineNumber||t.startLineNumber>e.endLineNumber||t.endLineNumber>e.endLineNumber||t.startLineNumber===e.startLineNumber&&t.startColumn<=e.startColumn||t.endLineNumber===e.endLineNumber&&t.endColumn>=e.endColumn)}plusRange(e){return o.plusRange(this,e)}static plusRange(e,t){let i,n,r,s;return n=t.startLineNumber<e.startLineNumber?(i=t.startLineNumber,t.startColumn):t.startLineNumber===e.startLineNumber?(i=t.startLineNumber,Math.min(t.startColumn,e.startColumn)):(i=e.startLineNumber,e.startColumn),s=t.endLineNumber>e.endLineNumber?(r=t.endLineNumber,t.endColumn):t.endLineNumber===e.endLineNumber?(r=t.endLineNumber,Math.max(t.endColumn,e.endColumn)):(r=e.endLineNumber,e.endColumn),new o(i,n,r,s)}intersectRanges(e){return o.intersectRanges(this,e)}static intersectRanges(e,t){let i=e.startLineNumber,n=e.startColumn,r=e.endLineNumber,s=e.endColumn;var a=t.startLineNumber,l=t.startColumn;e=t.endLineNumber,t=t.endColumn;return i<a?(i=a,n=l):i===a&&(n=Math.max(n,l)),r>e?(r=e,s=t):r===e&&(s=Math.min(s,t)),i>r||i===r&&n>s?null:new o(i,n,r,s)}equalsRange(e){return o.equalsRange(this,e)}static equalsRange(e,t){return!!e&&!!t&&e.startLineNumber===t.startLineNumber&&e.startColumn===t.startColumn&&e.endLineNumber===t.endLineNumber&&e.endColumn===t.endColumn}getEndPosition(){return o.getEndPosition(this)}static getEndPosition(e){return new n.a(e.endLineNumber,e.endColumn)}getStartPosition(){return o.getStartPosition(this)}static getStartPosition(e){return new n.a(e.startLineNumber,e.startColumn)}toString(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"}setEndPosition(e,t){return new o(this.startLineNumber,this.startColumn,e,t)}setStartPosition(e,t){return new o(e,t,this.endLineNumber,this.endColumn)}collapseToStart(){return o.collapseToStart(this)}static collapseToStart(e){return new o(e.startLineNumber,e.startColumn,e.startLineNumber,e.startColumn)}static fromPositions(e,t=e){return new o(e.lineNumber,e.column,t.lineNumber,t.column)}static lift(e){return e?new o(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn):null}static isIRange(e){return e&&"number"==typeof e.startLineNumber&&"number"==typeof e.startColumn&&"number"==typeof e.endLineNumber&&"number"==typeof e.endColumn}static areIntersectingOrTouching(e,t){return!(e.endLineNumber<t.startLineNumber||e.endLineNumber===t.startLineNumber&&e.endColumn<t.startColumn||t.endLineNumber<e.startLineNumber||t.endLineNumber===e.startLineNumber&&t.endColumn<e.startColumn)}static areIntersecting(e,t){return!(e.endLineNumber<t.startLineNumber||e.endLineNumber===t.startLineNumber&&e.endColumn<=t.startColumn||t.endLineNumber<e.startLineNumber||t.endLineNumber===e.startLineNumber&&t.endColumn<=e.startColumn)}static compareRangesUsingStarts(e,t){if(e&&t){var i=0|e.startLineNumber,n=0|t.startLineNumber;return i!=n||((i=0|e.startColumn)!=(n=0|t.startColumn)||(i=0|e.endLineNumber)!=(n=0|t.endLineNumber))?i-n:(0|e.endColumn)-(0|t.endColumn)}return(e?1:0)-(t?1:0)}static compareRangesUsingEnds(e,t){return e.endLineNumber===t.endLineNumber?e.endColumn===t.endColumn?e.startLineNumber===t.startLineNumber?e.startColumn-t.startColumn:e.startLineNumber-t.startLineNumber:e.endColumn-t.endColumn:e.endLineNumber-t.endLineNumber}static spansMultipleLines(e){return e.endLineNumber>e.startLineNumber}}},function(e,t,i){"use strict";i.d(t,"a",(function(){return d})),i.d(t,"Cc",(function(){return u})),i.d(t,"ib",(function(){return g})),i.d(t,"gb",(function(){return p})),i.d(t,"jb",(function(){return f})),i.d(t,"hb",(function(){return m})),i.d(t,"h",(function(){return v})),i.d(t,"b",(function(){return b})),i.d(t,"Pc",(function(){return _})),i.d(t,"Oc",(function(){return w})),i.d(t,"Nc",(function(){return C})),i.d(t,"Tc",(function(){return y})),i.d(t,"nb",(function(){return x})),i.d(t,"pb",(function(){return S})),i.d(t,"ob",(function(){return k})),i.d(t,"lb",(function(){return D})),i.d(t,"kb",(function(){return L})),i.d(t,"mb",(function(){return O})),i.d(t,"tb",(function(){return E})),i.d(t,"vb",(function(){return N})),i.d(t,"ub",(function(){return I})),i.d(t,"wb",(function(){return T})),i.d(t,"yb",(function(){return M})),i.d(t,"xb",(function(){return A})),i.d(t,"qb",(function(){return P})),i.d(t,"sb",(function(){return R})),i.d(t,"rb",(function(){return F})),i.d(t,"f",(function(){return B})),i.d(t,"e",(function(){return W})),i.d(t,"g",(function(){return V})),i.d(t,"c",(function(){return z})),i.d(t,"d",(function(){return H})),i.d(t,"Ec",(function(){return U})),i.d(t,"Gc",(function(){return $})),i.d(t,"Hc",(function(){return K})),i.d(t,"Fc",(function(){return q})),i.d(t,"vc",(function(){return G})),i.d(t,"s",(function(){return Y})),i.d(t,"u",(function(){return Z})),i.d(t,"t",(function(){return X})),i.d(t,"Z",(function(){return Q})),i.d(t,"bb",(function(){return J})),i.d(t,"ab",(function(){return ee})),i.d(t,"K",(function(){return te})),i.d(t,"M",(function(){return ie})),i.d(t,"L",(function(){return ne})),i.d(t,"D",(function(){return oe})),i.d(t,"C",(function(){return re})),i.d(t,"r",(function(){return se})),i.d(t,"B",(function(){return ae})),i.d(t,"cb",(function(){return le})),i.d(t,"eb",(function(){return ce})),i.d(t,"db",(function(){return de})),i.d(t,"fb",(function(){return he})),i.d(t,"wc",(function(){return ue})),i.d(t,"xc",(function(){return ge})),i.d(t,"Bc",(function(){return pe})),i.d(t,"rc",(function(){return fe})),i.d(t,"qc",(function(){return me})),i.d(t,"zb",(function(){return ve})),i.d(t,"Cb",(function(){return be})),i.d(t,"Ab",(function(){return _e})),i.d(t,"Bb",(function(){return we})),i.d(t,"V",(function(){return Ce})),i.d(t,"W",(function(){return ye})),i.d(t,"J",(function(){return xe})),i.d(t,"X",(function(){return Se})),i.d(t,"Y",(function(){return ke})),i.d(t,"v",(function(){return De})),i.d(t,"x",(function(){return Le})),i.d(t,"z",(function(){return Oe})),i.d(t,"w",(function(){return Ee})),i.d(t,"y",(function(){return Ne})),i.d(t,"A",(function(){return Ie})),i.d(t,"H",(function(){return Te})),i.d(t,"E",(function(){return Me})),i.d(t,"G",(function(){return Ae})),i.d(t,"F",(function(){return Pe})),i.d(t,"I",(function(){return Re})),i.d(t,"q",(function(){return Fe})),i.d(t,"O",(function(){return je})),i.d(t,"N",(function(){return Be})),i.d(t,"S",(function(){return We})),i.d(t,"R",(function(){return Ve})),i.d(t,"Q",(function(){return ze})),i.d(t,"P",(function(){return He})),i.d(t,"U",(function(){return Ue})),i.d(t,"T",(function(){return $e})),i.d(t,"i",(function(){return Ke})),i.d(t,"j",(function(){return qe})),i.d(t,"m",(function(){return Ge})),i.d(t,"o",(function(){return Ye})),i.d(t,"n",(function(){return Ze})),i.d(t,"p",(function(){return Xe})),i.d(t,"k",(function(){return Qe})),i.d(t,"l",(function(){return Je})),i.d(t,"Kb",(function(){return et})),i.d(t,"Lb",(function(){return tt})),i.d(t,"Nb",(function(){return it})),i.d(t,"Db",(function(){return nt})),i.d(t,"Eb",(function(){return ot})),i.d(t,"Fb",(function(){return rt})),i.d(t,"Tb",(function(){return st})),i.d(t,"Ub",(function(){return at})),i.d(t,"Vb",(function(){return lt})),i.d(t,"Rb",(function(){return ct})),i.d(t,"Sb",(function(){return dt})),i.d(t,"Pb",(function(){return ht})),i.d(t,"Qb",(function(){return ut})),i.d(t,"Gb",(function(){return gt})),i.d(t,"Ob",(function(){return pt})),i.d(t,"Mb",(function(){return ft})),i.d(t,"Hb",(function(){return mt})),i.d(t,"Jb",(function(){return vt})),i.d(t,"Ib",(function(){return bt})),i.d(t,"Sc",(function(){return _t})),i.d(t,"Mc",(function(){return wt})),i.d(t,"zc",(function(){return Ct})),i.d(t,"Ac",(function(){return yt})),i.d(t,"yc",(function(){return xt})),i.d(t,"Xb",(function(){return St})),i.d(t,"Yb",(function(){return kt})),i.d(t,"Wb",(function(){return Dt})),i.d(t,"bc",(function(){return Lt})),i.d(t,"Zb",(function(){return Ot})),i.d(t,"ac",(function(){return Et})),i.d(t,"cc",(function(){return Nt})),i.d(t,"Qc",(function(){return It})),i.d(t,"Kc",(function(){return Tt})),i.d(t,"Lc",(function(){return Mt})),i.d(t,"Ic",(function(){return At})),i.d(t,"Jc",(function(){return Pt})),i.d(t,"oc",(function(){return Rt})),i.d(t,"pc",(function(){return Ft})),i.d(t,"fc",(function(){return jt})),i.d(t,"ic",(function(){return Bt})),i.d(t,"hc",(function(){return Wt})),i.d(t,"ec",(function(){return Vt})),i.d(t,"mc",(function(){return zt})),i.d(t,"dc",(function(){return Ht})),i.d(t,"gc",(function(){return Ut})),i.d(t,"kc",(function(){return $t})),i.d(t,"lc",(function(){return Kt})),i.d(t,"jc",(function(){return qt})),i.d(t,"sc",(function(){return Gt})),i.d(t,"uc",(function(){return Yt})),i.d(t,"tc",(function(){return Zt})),i.d(t,"Rc",(function(){return Jt})),i.d(t,"nc",(function(){return ei})),i.d(t,"Dc",(function(){return ii}));var n=i(18),o=i(14),r=i(6),s=i(19),a=i(0),l=i(214),c=i(59);const d={ColorContribution:"base.contributions.colors"},h=new class{constructor(){this._onDidChangeSchema=new r.b,this.onDidChangeSchema=this._onDidChangeSchema.event,this.colorSchema={type:"object",properties:{}},this.colorReferenceSchema={type:"string",enum:[],enumDescriptions:[]},this.colorsById={}}registerColor(e,t,i,n=!1,o){this.colorsById[e]={id:e,description:i,defaults:t,needsTransparency:n,deprecationMessage:o};let r={type:"string",description:i,format:"color-hex",defaultSnippets:[{body:"${1:#ff0000}"}]};return o&&(r.deprecationMessage=o),this.colorSchema.properties[e]=r,this.colorReferenceSchema.enum.push(e),this.colorReferenceSchema.enumDescriptions.push(i),this._onDidChangeSchema.fire(),e}resolveDefaultColor(e,t){if((e=this.colorsById[e])&&e.defaults)return ii(e.defaults[t.type],t)}getColorSchema(){return this.colorSchema}toString(){return Object.keys(this.colorsById).sort((e,t)=>{var i=-1===e.indexOf(".")?0:1,n=-1===t.indexOf(".")?0:1;return i!=n?i-n:e.localeCompare(t)}).map(e=>`- \`${e}\`: ${this.colorsById[e].description}`).join("\n")}};function u(e,t,i,n,o){return h.registerColor(e,t,i,n,o)}c.a.add(d.ColorContribution,h);const g=u("foreground",{dark:"#CCCCCC",light:"#616161",hc:"#FFFFFF"},a.a("foreground","整体前景色。这个颜色只在没有被组件覆盖的情况下使用.")),p=u("errorForeground",{dark:"#F48771",light:"#A1260D",hc:"#F48771"},a.a("errorForeground","错误信息的整体前景色。这个颜色只在没有被组件覆盖的情况下使用.")),f=u("icon.foreground",{dark:"#C5C5C5",light:"#424242",hc:"#FFFFFF"},a.a("iconForeground","The default color for icons in the workbench.")),m=u("focusBorder",{dark:"#007FD4",light:"#0090F1",hc:"#F38518"},a.a("focusBorder","Overall border color for focused elements. This color is only used if not overridden by a component.")),v=u("contrastBorder",{light:null,dark:null,hc:"#6FC3DF"},a.a("contrastBorder","An extra border around elements to separate them from others for greater contrast.")),b=u("contrastActiveBorder",{light:null,dark:null,hc:m},a.a("activeContrastBorder","An extra border around active elements to separate them from others for greater contrast.")),_=u("textLink.foreground",{light:"#006AB1",dark:"#3794FF",hc:"#3794FF"},a.a("textLinkForeground","Foreground color for links in text.")),w=u("textLink.activeForeground",{light:"#006AB1",dark:"#3794FF",hc:"#3794FF"},a.a("textLinkActiveForeground","Foreground color for links in text when clicked on and on mouse hover.")),C=u("textCodeBlock.background",{light:"#dcdcdc66",dark:"#0a0a0a66",hc:o.a.black},a.a("textCodeBlockBackground","Background color for code blocks in text.")),y=u("widget.shadow",{dark:Jt(o.a.black,.36),light:Jt(o.a.black,.16),hc:null},a.a("widgetShadow","Shadow color of widgets such as find/replace inside the editor.")),x=u("input.background",{dark:"#3C3C3C",light:o.a.white,hc:o.a.black},a.a("inputBoxBackground","Input box background.")),S=u("input.foreground",{dark:g,light:g,hc:g},a.a("inputBoxForeground","Input box foreground.")),k=u("input.border",{dark:null,light:null,hc:v},a.a("inputBoxBorder","Input box border.")),D=u("inputOption.activeBorder",{dark:"#007ACC00",light:"#007ACC00",hc:v},a.a("inputBoxActiveOptionBorder","Border color of activated options in input fields.")),L=u("inputOption.activeBackground",{dark:Jt(m,.4),light:Jt(m,.2),hc:o.a.transparent},a.a("inputOption.activeBackground","Background color of activated options in input fields.")),O=u("inputOption.activeForeground",{dark:o.a.white,light:o.a.black,hc:null},a.a("inputOption.activeForeground","Foreground color of activated options in input fields.")),E=u("inputValidation.infoBackground",{dark:"#063B49",light:"#D6ECF2",hc:o.a.black},a.a("inputValidationInfoBackground","Input validation background color for information severity.")),N=u("inputValidation.infoForeground",{dark:null,light:null,hc:null},a.a("inputValidationInfoForeground","Input validation foreground color for information severity.")),I=u("inputValidation.infoBorder",{dark:"#007acc",light:"#007acc",hc:v},a.a("inputValidationInfoBorder","Input validation border color for information severity.")),T=u("inputValidation.warningBackground",{dark:"#352A05",light:"#F6F5D2",hc:o.a.black},a.a("inputValidationWarningBackground","Input validation background color for warning severity.")),M=u("inputValidation.warningForeground",{dark:null,light:null,hc:null},a.a("inputValidationWarningForeground","Input validation foreground color for warning severity.")),A=u("inputValidation.warningBorder",{dark:"#B89500",light:"#B89500",hc:v},a.a("inputValidationWarningBorder","Input validation border color for warning severity.")),P=u("inputValidation.errorBackground",{dark:"#5A1D1D",light:"#F2DEDE",hc:o.a.black},a.a("inputValidationErrorBackground","Input validation background color for error severity.")),R=u("inputValidation.errorForeground",{dark:null,light:null,hc:null},a.a("inputValidationErrorForeground","Input validation foreground color for error severity.")),F=u("inputValidation.errorBorder",{dark:"#BE1100",light:"#BE1100",hc:v},a.a("inputValidationErrorBorder","Input validation border color for error severity."));var j=u("dropdown.background",{dark:"#3C3C3C",light:o.a.white,hc:o.a.black},a.a("dropdownBackground","Dropdown background."));t=u("dropdown.foreground",{dark:"#F0F0F0",light:null,hc:o.a.white},a.a("dropdownForeground","Dropdown foreground."));const B=u("button.foreground",{dark:o.a.white,light:o.a.white,hc:o.a.white},a.a("buttonForeground","Button foreground color.")),W=u("button.background",{dark:"#0E639C",light:"#007ACC",hc:null},a.a("buttonBackground","Button background color.")),V=u("button.hoverBackground",{dark:Qt(W,.2),light:Xt(W,.2),hc:null},a.a("buttonHoverBackground","Button background color when hovering.")),z=u("badge.background",{dark:"#4D4D4D",light:"#C4C4C4",hc:o.a.black},a.a("badgeBackground","Badge background color. Badges are small information labels, e.g. for search results count.")),H=u("badge.foreground",{dark:o.a.white,light:"#333",hc:o.a.white},a.a("badgeForeground","Badge foreground color. Badges are small information labels, e.g. for search results count.")),U=u("scrollbar.shadow",{dark:"#000000",light:"#DDDDDD",hc:null},a.a("scrollbarShadow","Scrollbar shadow to indicate that the view is scrolled.")),$=u("scrollbarSlider.background",{dark:o.a.fromHex("#797979").transparent(.4),light:o.a.fromHex("#646464").transparent(.4),hc:Jt(v,.6)},a.a("scrollbarSliderBackground","Scrollbar slider background color.")),K=u("scrollbarSlider.hoverBackground",{dark:o.a.fromHex("#646464").transparent(.7),light:o.a.fromHex("#646464").transparent(.7),hc:Jt(v,.8)},a.a("scrollbarSliderHoverBackground","Scrollbar slider background color when hovering.")),q=u("scrollbarSlider.activeBackground",{dark:o.a.fromHex("#BFBFBF").transparent(.4),light:o.a.fromHex("#000000").transparent(.6),hc:v},a.a("scrollbarSliderActiveBackground","Scrollbar slider background color when clicked on.")),G=u("progressBar.background",{dark:o.a.fromHex("#0E70C0"),light:o.a.fromHex("#0E70C0"),hc:v},a.a("progressBarBackground","Background color of the progress bar that can show for long running operations.")),Y=u("editorError.background",{dark:null,light:null,hc:null},a.a("editorError.background","Background color of error text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),Z=u("editorError.foreground",{dark:"#F14C4C",light:"#E51400",hc:null},a.a("editorError.foreground","Foreground color of error squigglies in the editor.")),X=u("editorError.border",{dark:null,light:null,hc:o.a.fromHex("#E47777").transparent(.8)},a.a("errorBorder","Border color of error boxes in the editor.")),Q=u("editorWarning.background",{dark:null,light:null,hc:null},a.a("editorWarning.background","Background color of warning text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),J=u("editorWarning.foreground",{dark:"#CCA700",light:"#BF8803",hc:null},a.a("editorWarning.foreground","Foreground color of warning squigglies in the editor.")),ee=u("editorWarning.border",{dark:null,light:null,hc:o.a.fromHex("#FFCC00").transparent(.8)},a.a("warningBorder","Border color of warning boxes in the editor.")),te=u("editorInfo.background",{dark:null,light:null,hc:null},a.a("editorInfo.background","Background color of info text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),ie=u("editorInfo.foreground",{dark:"#3794FF",light:"#1a85ff",hc:"#3794FF"},a.a("editorInfo.foreground","Foreground color of info squigglies in the editor.")),ne=u("editorInfo.border",{dark:null,light:null,hc:o.a.fromHex("#3794FF").transparent(.8)},a.a("infoBorder","Border color of info boxes in the editor.")),oe=u("editorHint.foreground",{dark:o.a.fromHex("#eeeeee").transparent(.7),light:"#6c6c6c",hc:null},a.a("editorHint.foreground","Foreground color of hint squigglies in the editor.")),re=u("editorHint.border",{dark:null,light:null,hc:o.a.fromHex("#eeeeee").transparent(.8)},a.a("hintBorder","Border color of hint boxes in the editor.")),se=u("editor.background",{light:"#fffffe",dark:"#1E1E1E",hc:o.a.black},a.a("editorBackground","Editor background color.")),ae=u("editor.foreground",{light:"#333333",dark:"#BBBBBB",hc:o.a.white},a.a("editorForeground","Editor default foreground color.")),le=u("editorWidget.background",{dark:"#252526",light:"#F3F3F3",hc:"#0C141F"},a.a("editorWidgetBackground","Background color of editor widgets, such as find/replace.")),ce=u("editorWidget.foreground",{dark:g,light:g,hc:g},a.a("editorWidgetForeground","Foreground color of editor widgets, such as find/replace.")),de=u("editorWidget.border",{dark:"#454545",light:"#C8C8C8",hc:v},a.a("editorWidgetBorder","Border color of editor widgets. The color is only used if the widget chooses to have a border and if the color is not overridden by a widget.")),he=u("editorWidget.resizeBorder",{light:null,dark:null,hc:null},a.a("editorWidgetResizeBorder","Border color of the resize bar of editor widgets. The color is only used if the widget chooses to have a resize border and if the color is not overridden by a widget.")),ue=u("quickInput.background",{dark:le,light:le,hc:le},a.a("pickerBackground","Quick picker background color. The quick picker widget is the container for pickers like the command palette.")),ge=u("quickInput.foreground",{dark:ce,light:ce,hc:ce},a.a("pickerForeground","Quick picker foreground color. The quick picker widget is the container for pickers like the command palette.")),pe=u("quickInputTitle.background",{dark:new o.a(new o.c(255,255,255,.105)),light:new o.a(new o.c(0,0,0,.06)),hc:"#000000"},a.a("pickerTitleBackground","Quick picker title background color. The quick picker widget is the container for pickers like the command palette.")),fe=u("pickerGroup.foreground",{dark:"#3794FF",light:"#0066BF",hc:o.a.white},a.a("pickerGroupForeground","Quick picker color for grouping labels.")),me=u("pickerGroup.border",{dark:"#3F3F46",light:"#CCCEDB",hc:o.a.white},a.a("pickerGroupBorder","Quick picker color for grouping borders.")),ve=u("keybindingLabel.background",{dark:new o.a(new o.c(128,128,128,.17)),light:new o.a(new o.c(221,221,221,.4)),hc:o.a.transparent},a.a("keybindingLabelBackground","Keybinding label background color. The keybinding label is used to represent a keyboard shortcut.")),be=u("keybindingLabel.foreground",{dark:o.a.fromHex("#CCCCCC"),light:o.a.fromHex("#555555"),hc:o.a.white},a.a("keybindingLabelForeground","Keybinding label foreground color. The keybinding label is used to represent a keyboard shortcut.")),_e=u("keybindingLabel.border",{dark:new o.a(new o.c(51,51,51,.6)),light:new o.a(new o.c(204,204,204,.4)),hc:new o.a(new o.c(111,195,223))},a.a("keybindingLabelBorder","Keybinding label border color. The keybinding label is used to represent a keyboard shortcut.")),we=u("keybindingLabel.bottomBorder",{dark:new o.a(new o.c(68,68,68,.6)),light:new o.a(new o.c(187,187,187,.4)),hc:new o.a(new o.c(111,195,223))},a.a("keybindingLabelBottomBorder","Keybinding label border bottom color. The keybinding label is used to represent a keyboard shortcut.")),Ce=u("editor.selectionBackground",{light:"#ADD6FF",dark:"#264F78",hc:"#f3f518"},a.a("editorSelectionBackground","Color of the editor selection.")),ye=u("editor.selectionForeground",{light:null,dark:null,hc:"#000000"},a.a("editorSelectionForeground","Color of the selected text for high contrast.")),xe=u("editor.inactiveSelectionBackground",{light:Jt(Ce,.5),dark:Jt(Ce,.5),hc:Jt(Ce,.5)},a.a("editorInactiveSelection","Color of the selection in an inactive editor. The color must not be opaque so as not to hide underlying decorations."),!0),Se=u("editor.selectionHighlightBackground",{light:ti(Ce,se,.3,.6),dark:ti(Ce,se,.3,.6),hc:null},a.a("editorSelectionHighlight","Color for regions with the same content as the selection. The color must not be opaque so as not to hide underlying decorations."),!0),ke=u("editor.selectionHighlightBorder",{light:null,dark:null,hc:b},a.a("editorSelectionHighlightBorder","Border color for regions with the same content as the selection.")),De=u("editor.findMatchBackground",{light:"#A8AC94",dark:"#515C6A",hc:null},a.a("editorFindMatch","Color of the current search match.")),Le=u("editor.findMatchHighlightBackground",{light:"#EA5C0055",dark:"#EA5C0055",hc:null},a.a("findMatchHighlight","Color of the other search matches. The color must not be opaque so as not to hide underlying decorations."),!0),Oe=u("editor.findRangeHighlightBackground",{dark:"#3a3d4166",light:"#b4b4b44d",hc:null},a.a("findRangeHighlight","Color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0),Ee=u("editor.findMatchBorder",{light:null,dark:null,hc:b},a.a("editorFindMatchBorder","Border color of the current search match.")),Ne=u("editor.findMatchHighlightBorder",{light:null,dark:null,hc:b},a.a("findMatchHighlightBorder","Border color of the other search matches.")),Ie=u("editor.findRangeHighlightBorder",{dark:null,light:null,hc:Jt(b,.4)},a.a("findRangeHighlightBorder","Border color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0),Te=u("editor.hoverHighlightBackground",{light:"#ADD6FF26",dark:"#264f7840",hc:"#ADD6FF26"},a.a("hoverHighlight","Highlight below the word for which a hover is shown. The color must not be opaque so as not to hide underlying decorations."),!0),Me=u("editorHoverWidget.background",{light:le,dark:le,hc:le},a.a("hoverBackground","Background color of the editor hover.")),Ae=u("editorHoverWidget.foreground",{light:ce,dark:ce,hc:ce},a.a("hoverForeground","Foreground color of the editor hover.")),Pe=u("editorHoverWidget.border",{light:de,dark:de,hc:de},a.a("hoverBorder","Border color of the editor hover.")),Re=u("editorHoverWidget.statusBarBackground",{dark:Qt(Me,.2),light:Xt(Me,.05),hc:le},a.a("statusBarBackground","Background color of the editor hover status bar.")),Fe=u("editorLink.activeForeground",{dark:"#4E94CE",light:o.a.blue,hc:o.a.cyan},a.a("activeLinkForeground","Color of active links.")),je=u("editorInlayHint.foreground",{dark:Jt(H,.8),light:Jt(H,.8),hc:H},a.a("editorInlayHintForeground","Foreground color of inline hints")),Be=u("editorInlayHint.background",{dark:Jt(z,.6),light:Jt(z,.3),hc:z},a.a("editorInlayHintBackground","Background color of inline hints")),We=u("editorInlayHint.typeForeground",{dark:je,light:je,hc:je},a.a("editorInlayHintForegroundTypes","Foreground color of inline hints for types")),Ve=u("editorInlayHint.typeBackground",{dark:Be,light:Be,hc:Be},a.a("editorInlayHintBackgroundTypes","Background color of inline hints for types")),ze=u("editorInlayHint.parameterForeground",{dark:je,light:je,hc:je},a.a("editorInlayHintForegroundParameter","Foreground color of inline hints for parameters")),He=u("editorInlayHint.parameterBackground",{dark:Be,light:Be,hc:Be},a.a("editorInlayHintBackgroundParameter","Background color of inline hints for parameters")),Ue=u("editorLightBulb.foreground",{dark:"#FFCC00",light:"#DDB100",hc:"#FFCC00"},a.a("editorLightBulbForeground","The color used for the lightbulb actions icon.")),$e=u("editorLightBulbAutoFix.foreground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},a.a("editorLightBulbAutoFixForeground","The color used for the lightbulb auto fix actions icon.")),Ke=new o.a(new o.c(155,185,85,.2)),qe=new o.a(new o.c(255,0,0,.2)),Ge=u("diffEditor.insertedTextBackground",{dark:Ke,light:Ke,hc:null},a.a("diffEditorInserted","Background color for text that got inserted. The color must not be opaque so as not to hide underlying decorations."),!0),Ye=u("diffEditor.removedTextBackground",{dark:qe,light:qe,hc:null},a.a("diffEditorRemoved","Background color for text that got removed. The color must not be opaque so as not to hide underlying decorations."),!0),Ze=u("diffEditor.insertedTextBorder",{dark:null,light:null,hc:"#33ff2eff"},a.a("diffEditorInsertedOutline","Outline color for the text that got inserted.")),Xe=u("diffEditor.removedTextBorder",{dark:null,light:null,hc:"#FF008F"},a.a("diffEditorRemovedOutline","Outline color for text that got removed.")),Qe=u("diffEditor.border",{dark:null,light:null,hc:v},a.a("diffEditorBorder","Border color between the two text editors.")),Je=u("diffEditor.diagonalFill",{dark:"#cccccc33",light:"#22222233",hc:null},a.a("diffDiagonalFill","Color of the diff editor's diagonal fill. The diagonal fill is used in side-by-side diff views.")),et=u("list.focusBackground",{dark:null,light:null,hc:null},a.a("listFocusBackground","List/Tree background color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),tt=u("list.focusForeground",{dark:null,light:null,hc:null},a.a("listFocusForeground","List/Tree foreground color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),it=u("list.focusOutline",{dark:m,light:m,hc:b},a.a("listFocusOutline","List/Tree outline color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),nt=u("list.activeSelectionBackground",{dark:"#094771",light:"#0060C0",hc:null},a.a("listActiveSelectionBackground","List/Tree background color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),ot=u("list.activeSelectionForeground",{dark:o.a.white,light:o.a.white,hc:null},a.a("listActiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),rt=u("list.activeSelectionIconForeground",{dark:null,light:null,hc:null},a.a("listActiveSelectionIconForeground","List/Tree icon foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),st=u("list.inactiveSelectionBackground",{dark:"#37373D",light:"#E4E6F1",hc:null},a.a("listInactiveSelectionBackground","List/Tree background color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),at=u("list.inactiveSelectionForeground",{dark:null,light:null,hc:null},a.a("listInactiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),lt=u("list.inactiveSelectionIconForeground",{dark:null,light:null,hc:null},a.a("listInactiveSelectionIconForeground","List/Tree icon foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),ct=u("list.inactiveFocusBackground",{dark:null,light:null,hc:null},a.a("listInactiveFocusBackground","List/Tree background color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),dt=u("list.inactiveFocusOutline",{dark:null,light:null,hc:null},a.a("listInactiveFocusOutline","List/Tree outline color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),ht=u("list.hoverBackground",{dark:"#2A2D2E",light:"#F0F0F0",hc:null},a.a("listHoverBackground","List/Tree background when hovering over items using the mouse.")),ut=u("list.hoverForeground",{dark:null,light:null,hc:null},a.a("listHoverForeground","List/Tree foreground when hovering over items using the mouse.")),gt=u("list.dropBackground",{dark:"#062F4A",light:"#D6EBFF",hc:null},a.a("listDropBackground","List/Tree drag and drop background when moving items around using the mouse.")),pt=u("list.highlightForeground",{dark:"#18A3FF",light:"#0066BF",hc:m},a.a("highlight","List/Tree foreground color of the match highlights when searching inside the list/tree.")),ft=u("list.focusHighlightForeground",{dark:pt,light:{op:5,if:nt,then:pt,else:"#9DDDFF"},hc:pt},a.a("listFocusHighlightForeground","List/Tree foreground color of the match highlights on actively focused items when searching inside the list/tree.")),mt=u("listFilterWidget.background",{light:"#efc1ad",dark:"#653723",hc:o.a.black},a.a("listFilterWidgetBackground","Background color of the type filter widget in lists and trees.")),vt=u("listFilterWidget.outline",{dark:o.a.transparent,light:o.a.transparent,hc:"#f38518"},a.a("listFilterWidgetOutline","Outline color of the type filter widget in lists and trees.")),bt=u("listFilterWidget.noMatchesOutline",{dark:"#BE1100",light:"#BE1100",hc:v},a.a("listFilterWidgetNoMatchesOutline","Outline color of the type filter widget in lists and trees, when there are no matches.")),_t=u("tree.indentGuidesStroke",{dark:"#585858",light:"#a9a9a9",hc:"#a9a9a9"},a.a("treeIndentGuidesStroke","Tree stroke color for the indentation guides.")),wt=u("tree.tableColumnsBorder",{dark:"#CCCCCC20",light:"#61616120",hc:null},a.a("treeIndentGuidesStroke","Tree stroke color for the indentation guides."));i=u("quickInput.list.focusBackground",{dark:null,light:null,hc:null},"",void 0,a.a("quickInput.list.focusBackground deprecation","Please use quickInputList.focusBackground instead"));const Ct=u("quickInputList.focusForeground",{dark:ot,light:ot,hc:ot},a.a("quickInput.listFocusForeground","Quick picker foreground color for the focused item.")),yt=u("quickInputList.focusIconForeground",{dark:rt,light:rt,hc:rt},a.a("quickInput.listFocusIconForeground","Quick picker icon foreground color for the focused item.")),xt=u("quickInputList.focusBackground",{dark:ei(i,nt),light:ei(i,nt),hc:null},a.a("quickInput.listFocusBackground","Quick picker background color for the focused item.")),St=u("menu.border",{dark:null,light:null,hc:v},a.a("menuBorder","Border color of menus.")),kt=u("menu.foreground",{dark:t,light:g,hc:t},a.a("menuForeground","Foreground color of menu items.")),Dt=u("menu.background",{dark:j,light:j,hc:j},a.a("menuBackground","Background color of menu items.")),Lt=u("menu.selectionForeground",{dark:ot,light:ot,hc:ot},a.a("menuSelectionForeground","Foreground color of the selected menu item in menus.")),Ot=u("menu.selectionBackground",{dark:nt,light:nt,hc:nt},a.a("menuSelectionBackground","Background color of the selected menu item in menus.")),Et=u("menu.selectionBorder",{dark:null,light:null,hc:b},a.a("menuSelectionBorder","Border color of the selected menu item in menus.")),Nt=u("menu.separatorBackground",{dark:"#BBBBBB",light:"#888888",hc:v},a.a("menuSeparatorBackground","Color of a separator menu item in menus.")),It=u("toolbar.hoverBackground",{dark:"#5a5d5e50",light:"#b8b8b850",hc:null},a.a("toolbarHoverBackground","Toolbar background when hovering over actions using the mouse")),Tt=u("editor.snippetTabstopHighlightBackground",{dark:new o.a(new o.c(124,124,124,.3)),light:new o.a(new o.c(10,50,100,.2)),hc:new o.a(new o.c(124,124,124,.3))},a.a("snippetTabstopHighlightBackground","Highlight background color of a snippet tabstop.")),Mt=u("editor.snippetTabstopHighlightBorder",{dark:null,light:null,hc:null},a.a("snippetTabstopHighlightBorder","Highlight border color of a snippet tabstop.")),At=u("editor.snippetFinalTabstopHighlightBackground",{dark:null,light:null,hc:null},a.a("snippetFinalTabstopHighlightBackground","Highlight background color of the final tabstop of a snippet.")),Pt=u("editor.snippetFinalTabstopHighlightBorder",{dark:"#525252",light:new o.a(new o.c(10,50,100,.5)),hc:"#525252"},a.a("snippetFinalTabstopHighlightBorder","Highlight border color of the final tabstop of a snippet.")),Rt=u("editorOverviewRuler.findMatchForeground",{dark:"#d186167e",light:"#d186167e",hc:"#AB5A00"},a.a("overviewRulerFindMatchForeground","Overview ruler marker color for find matches. The color must not be opaque so as not to hide underlying decorations."),!0),Ft=u("editorOverviewRuler.selectionHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hc:"#A0A0A0CC"},a.a("overviewRulerSelectionHighlightForeground","Overview ruler marker color for selection highlights. The color must not be opaque so as not to hide underlying decorations."),!0),jt=u("minimap.findMatchHighlight",{light:"#d18616",dark:"#d18616",hc:"#AB5A00"},a.a("minimapFindMatchHighlight","Minimap marker color for find matches."),!0),Bt=u("minimap.selectionOccurrenceHighlight",{light:"#c9c9c9",dark:"#676767",hc:"#ffffff"},a.a("minimapSelectionOccurrenceHighlight","Minimap marker color for repeating editor selections."),!0),Wt=u("minimap.selectionHighlight",{light:"#ADD6FF",dark:"#264F78",hc:"#ffffff"},a.a("minimapSelectionHighlight","Minimap marker color for the editor selection."),!0),Vt=u("minimap.errorHighlight",{dark:new o.a(new o.c(255,18,18,.7)),light:new o.a(new o.c(255,18,18,.7)),hc:new o.a(new o.c(255,50,50,1))},a.a("minimapError","Minimap marker color for errors.")),zt=u("minimap.warningHighlight",{dark:J,light:J,hc:ee},a.a("overviewRuleWarning","Minimap marker color for warnings.")),Ht=u("minimap.background",{dark:null,light:null,hc:null},a.a("minimapBackground","Minimap background color.")),Ut=u("minimap.foregroundOpacity",{dark:o.a.fromHex("#000f"),light:o.a.fromHex("#000f"),hc:o.a.fromHex("#000f")},a.a("minimapForegroundOpacity",'Opacity of foreground elements rendered in the minimap. For example, "#000000c0" will render the elements with 75% opacity.')),$t=u("minimapSlider.background",{light:Jt($,.5),dark:Jt($,.5),hc:Jt($,.5)},a.a("minimapSliderBackground","Minimap slider background color.")),Kt=u("minimapSlider.hoverBackground",{light:Jt(K,.5),dark:Jt(K,.5),hc:Jt(K,.5)},a.a("minimapSliderHoverBackground","Minimap slider background color when hovering.")),qt=u("minimapSlider.activeBackground",{light:Jt(q,.5),dark:Jt(q,.5),hc:Jt(q,.5)},a.a("minimapSliderActiveBackground","Minimap slider background color when clicked on.")),Gt=u("problemsErrorIcon.foreground",{dark:Z,light:Z,hc:Z},a.a("problemsErrorIconForeground","The color used for the problems error icon.")),Yt=u("problemsWarningIcon.foreground",{dark:J,light:J,hc:J},a.a("problemsWarningIconForeground","The color used for the problems warning icon.")),Zt=u("problemsInfoIcon.foreground",{dark:ie,light:ie,hc:ie},a.a("problemsInfoIconForeground","The color used for the problems info icon."));function Xt(e,t){return{op:0,value:e,factor:t}}function Qt(e,t){return{op:1,value:e,factor:t}}function Jt(e,t){return{op:2,value:e,factor:t}}function ei(...e){return{op:3,values:e}}function ti(e,t,i,n){return{op:4,value:e,background:t,factor:i,transparency:n}}function ii(e,t){if(null!==e)return"string"==typeof e?"#"===e[0]?o.a.fromHex(e):t.getColor(e):e instanceof o.a?e:"object"==typeof e?function(e,t){var i;switch(e.op){case 0:return null===(i=ii(e.value,t))||void 0===i?void 0:i.darken(e.factor);case 1:return null===(i=ii(e.value,t))||void 0===i?void 0:i.lighten(e.factor);case 2:return null===(r=ii(e.value,t))||void 0===r?void 0:r.transparent(e.factor);case 3:for(const i of e.values){var n=ii(i,t);if(n)return n}return;case 5:return ii(t.defines(e.if)?e.then:e.else,t);case 4:const a=ii(e.value,t);if(!a)return;var r=ii(e.background,t);return r?(a.isDarkerThan(r)?o.a.getLighterColor(a,r,e.factor):o.a.getDarkerColor(a,r,e.factor)).transparent(e.transparency):a.transparent(e.factor*e.transparency);default:throw Object(s.b)(e)}}(e,t):void 0}const ni="vscode://schemas/workbench-colors";let oi=c.a.as(l.a.JSONContribution);oi.registerSchema(ni,h.getColorSchema());const ri=new n.e(()=>oi.notifySchemaChanged(ni),200);h.onDidChangeSchema(()=>{ri.isScheduled()||ri.schedule()})},function(e,t,i){"use strict";i.d(t,"a",(function(){return v})),i.d(t,"e",(function(){return b})),i.d(t,"c",(function(){return w})),i.d(t,"b",(function(){return C})),i.d(t,"f",(function(){return y})),i.d(t,"n",(function(){return x})),i.d(t,"o",(function(){return S})),i.d(t,"k",(function(){return k})),i.d(t,"j",(function(){return D})),i.d(t,"p",(function(){return L})),i.d(t,"m",(function(){return O})),i.d(t,"l",(function(){return E})),i.d(t,"d",(function(){return n})),i.d(t,"i",(function(){return T})),i.d(t,"g",(function(){return M})),i.d(t,"h",(function(){return A}));var n,o=i(0),r=i(35),s=i(46),a=i(12),l=i(70),c=i(110),d=i(32),h=i(36),u=i(10),g=i(111),p=(t=i(59),i(146)),f=i(19),m=i(105);class v{constructor(e){this.id=e.id,this.precondition=e.precondition,this._kbOpts=e.kbOpts,this._menuOpts=e.menuOpts,this._description=e.description}register(){if(Array.isArray(this._menuOpts)?this._menuOpts.forEach(this._registerMenuItem,this):this._menuOpts&&this._registerMenuItem(this._menuOpts),this._kbOpts)for(const t of Array.isArray(this._kbOpts)?this._kbOpts:[this._kbOpts]){let i=t.kbExpr;this.precondition&&(i=i?u.a.and(i,this.precondition):this.precondition);var e={id:this.id,weight:t.weight,args:t.args,when:i,primary:t.primary,secondary:t.secondary,win:t.win,linux:t.linux,mac:t.mac};g.a.registerKeybindingRule(e)}h.a.registerCommand({id:this.id,handler:(e,t)=>this.runCommand(e,t),description:this._description})}_registerMenuItem(e){d.d.appendMenuItem(e.menuId,{group:e.group,command:{id:this.id,title:e.title,icon:e.icon,precondition:this.precondition},when:e.when,order:e.order})}}class b extends v{constructor(){super(...arguments),this._implementations=[]}addImplementation(e,t,i){return this._implementations.push({priority:e,name:t,implementation:i}),this._implementations.sort((e,t)=>t.priority-e.priority),{dispose:()=>{for(let e=0;e<this._implementations.length;e++)if(this._implementations[e].implementation===i)return void this._implementations.splice(e,1)}}}runCommand(e,t){const i=e.get(m.b);i.trace(`Executing Command '${this.id}' which has ${this._implementations.length} bound.`);for(const o of this._implementations){var n=o.implementation(e,t);if(n)return i.trace(`Command '${this.id}' was handled by '${o.name}'.`),"boolean"==typeof n?void 0:n}i.trace(`The Command '${this.id}' was not handled by any implementation.`)}}class _ extends v{constructor(e,t){super(t),this.command=e}runCommand(e,t){return this.command.runCommand(e,t)}}class w extends v{static bindToContribution(e){return class extends w{constructor(e){super(e),this._callback=e.handler}runEditorCommand(t,i,n){e(i)&&this._callback(e(i),n)}}}runCommand(e,t){const i=e.get(s.a),n=i.getFocusedCodeEditor()||i.getActiveCodeEditor();if(n)return n.invokeWithinContext(e=>{if(e.get(u.b).contextMatchesRules(Object(f.p)(this.precondition)))return this.runEditorCommand(e,n,t)})}}class C extends w{constructor(e){super(C.convertOptions(e)),this.label=e.label,this.alias=e.alias}static convertOptions(e){let t;function i(t){return t.menuId||(t.menuId=d.b.EditorContext),t.title||(t.title=e.label),t.when=u.a.and(e.precondition,t.when),t}return t=Array.isArray(e.menuOpts)?e.menuOpts:e.menuOpts?[e.menuOpts]:[],Array.isArray(e.contextMenuOpts)?t.push(...e.contextMenuOpts.map(i)):e.contextMenuOpts&&t.push(i(e.contextMenuOpts)),e.menuOpts=t,e}runEditorCommand(e,t,i){return this.reportTelemetry(e,t),this.run(e,t,i||{})}reportTelemetry(e,t){e.get(p.a).publicLog2("editorActionInvoked",{name:this.label,id:this.id})}}class y extends C{constructor(){super(...arguments),this._implementations=[]}addImplementation(e,t){return this._implementations.push([e,t]),this._implementations.sort((e,t)=>t[0]-e[0]),{dispose:()=>{for(let e=0;e<this._implementations.length;e++)if(this._implementations[e][1]===t)return void this._implementations.splice(e,1)}}}run(e,t,i){for(const o of this._implementations){var n=o[1](e,t,i);if(n)return"boolean"==typeof n?void 0:n}}}function x(e,t){h.a.registerCommand(e,(function(e,...i){const[n,o]=i;Object(f.c)(r.a.isUri(n)),Object(f.c)(a.a.isIPosition(o));var s=e.get(l.a).getModel(n);if(s){var d=a.a.lift(o);return t(s,d,...i.slice(2))}return e.get(c.a).createModelReference(n).then(e=>new Promise((n,r)=>{try{n(t(e.object.textEditorModel,a.a.lift(o),i.slice(2)))}catch(n){r(n)}}).finally(()=>{e.dispose()}))}))}function S(e,t){h.a.registerCommand(e,(function(e,...i){var[n]=i;Object(f.c)(r.a.isUri(n));var o=e.get(l.a).getModel(n);return o?t(o,...i.slice(1)):e.get(c.a).createModelReference(n).then(e=>new Promise((n,o)=>{try{n(t(e.object.textEditorModel,i.slice(1)))}catch(n){o(n)}}).finally(()=>{e.dispose()}))}))}function k(e){return N.INSTANCE.registerEditorCommand(e),e}function D(e){return e=new e,N.INSTANCE.registerEditorAction(e),e}function L(e){return N.INSTANCE.registerEditorAction(e),e}function O(e){N.INSTANCE.registerEditorAction(e)}function E(e,t){N.INSTANCE.registerEditorContribution(e,t)}(i=n=n||{}).getEditorCommand=function(e){return N.INSTANCE.getEditorCommand(e)},i.getEditorActions=function(){return N.INSTANCE.getEditorActions()},i.getEditorContributions=function(){return N.INSTANCE.getEditorContributions()},i.getSomeEditorContributions=function(e){return N.INSTANCE.getEditorContributions().filter(t=>0<=e.indexOf(t.id))},i.getDiffEditorContributions=function(){return N.INSTANCE.getDiffEditorContributions()};class N{constructor(){this.editorContributions=[],this.diffEditorContributions=[],this.editorActions=[],this.editorCommands=Object.create(null)}registerEditorContribution(e,t){this.editorContributions.push({id:e,ctor:t})}getEditorContributions(){return this.editorContributions.slice(0)}getDiffEditorContributions(){return this.diffEditorContributions.slice(0)}registerEditorAction(e){e.register(),this.editorActions.push(e)}getEditorActions(){return this.editorActions.slice(0)}registerEditorCommand(e){e.register(),this.editorCommands[e.id]=e}getEditorCommand(e){return this.editorCommands[e]||null}}function I(e){return e.register(),e}N.INSTANCE=new N,t.a.add("editor.contributions",N.INSTANCE);const T=I(new b({id:"undo",precondition:void 0,kbOpts:{weight:0,primary:2104},menuOpts:[{menuId:d.b.MenubarEditMenu,group:"1_do",title:o.a({key:"miUndo",comment:["&& denotes a mnemonic"]},"&&Undo"),order:1},{menuId:d.b.CommandPalette,group:"",title:o.a("undo","Undo"),order:1}]}));I(new _(T,{id:"default:undo",precondition:void 0}));const M=I(new b({id:"redo",precondition:void 0,kbOpts:{weight:0,primary:2103,secondary:[3128],mac:{primary:3128}},menuOpts:[{menuId:d.b.MenubarEditMenu,group:"1_do",title:o.a({key:"miRedo",comment:["&& denotes a mnemonic"]},"&&Redo"),order:2},{menuId:d.b.CommandPalette,group:"",title:o.a("redo","Redo"),order:1}]}));I(new _(M,{id:"default:redo",precondition:void 0}));const A=I(new b({id:"editor.action.selectAll",precondition:void 0,kbOpts:{weight:0,kbExpr:null,primary:2079},menuOpts:[{menuId:d.b.MenubarSelectionMenu,group:"1_basic",title:o.a({key:"miSelectAll",comment:["&& denotes a mnemonic"]},"&&Select All"),order:1},{menuId:d.b.CommandPalette,group:"",title:o.a("selectAll","Select All"),order:1}]}))},function(e,t,i){"use strict";i.d(t,"c",(function(){return n})),i.d(t,"b",(function(){return c})),i.d(t,"e",(function(){return d})),i.d(t,"a",(function(){return h})),i.d(t,"d",(function(){return u})),i.d(t,"f",(function(){return g}));var n,o=i(17),r=i(2),s=i(114),a=i(155);!function(e){function t(e){return(t,i=null,n)=>{let o,r=!1;return o=e(e=>{if(!r)return o?o.dispose():r=!0,t.call(i,e)},null,n),r&&o.dispose(),o}}function i(e,t){return a((i,n=null,o)=>e(e=>i.call(n,t(e)),null,o))}function n(e,t){return a((i,n=null,o)=>e(e=>{t(e),i.call(n,e)},null,o))}function o(e,t){return a((i,n=null,o)=>e(e=>t(e)&&i.call(n,e),null,o))}function s(e,t,n){let o=n;return i(e,e=>(o=t(o,e),o))}function a(e){let t;const i=new c({onFirstListenerAdd(){t=e(i.fire,i)},onLastListenerRemove(){t.dispose()}});return i.event}function l(e,t,i=100,n=!1,o){let r,s=void 0,a=void 0,l=0;const d=new c({leakWarningThreshold:o,onFirstListenerAdd(){r=e(e=>{l++,s=t(s,e),n&&!a&&(d.fire(s),s=void 0),clearTimeout(a),a=setTimeout(()=>{var e=s;s=void 0,a=void 0,(!n||1<l)&&d.fire(e),l=0},i)})},onLastListenerRemove(){r.dispose()}});return d.event}function d(e,t=((e,t)=>e===t)){let i,n=!0;return o(e,e=>{var o=n||!t(e,i);return n=!1,i=e,o})}e.None=()=>r.a.None,e.once=t,e.map=i,e.forEach=n,e.filter=o,e.signal=function(e){return e},e.any=function(...e){return(t,i=null,n)=>Object(r.e)(...e.map(e=>e(e=>t.call(i,e),null,n)))},e.reduce=s,e.debounce=l,e.latch=d,e.split=function(t,i){return[e.filter(t,i),e.filter(t,e=>!i(e))]},e.buffer=function(e,t=!1,i=[]){let n=i.slice(),o=e(e=>{n?n.push(e):s.fire(e)});const r=()=>{n&&n.forEach(e=>s.fire(e)),n=null},s=new c({onFirstListenerAdd(){o=o||e(e=>s.fire(e))},onFirstListenerDidAdd(){n&&(t?setTimeout(r):r())},onLastListenerRemove(){o&&o.dispose(),o=null}});return s.event};class h{constructor(e){this.event=e}map(e){return new h(i(this.event,e))}forEach(e){return new h(n(this.event,e))}filter(e){return new h(o(this.event,e))}reduce(e,t){return new h(s(this.event,e,t))}latch(){return new h(d(this.event))}debounce(e,t=100,i=!1,n){return new h(l(this.event,e,t,i,n))}on(e,t,i){return this.event(e,t,i)}once(e,i,n){return t(this.event)(e,i,n)}}e.chain=function(e){return new h(e)},e.fromNodeEventEmitter=function(e,t,i=(e=>e)){const n=(...e)=>o.fire(i(...e)),o=new c({onFirstListenerAdd:()=>e.on(t,n),onLastListenerRemove:()=>e.removeListener(t,n)});return o.event},e.fromDOMEventEmitter=function(e,t,i=(e=>e)){const n=(...e)=>o.fire(i(...e)),o=new c({onFirstListenerAdd:()=>e.addEventListener(t,n),onLastListenerRemove:()=>e.removeEventListener(t,n)});return o.event},e.toPromise=function(e){return new Promise(i=>t(e)(i))}}(n=n||{});class l{constructor(e){this._listenerCount=0,this._invocationCount=0,this._elapsedOverall=0,this._name=`${e}_${l._idPool++}`}start(e){this._stopWatch=new a.a(!0),this._listenerCount=e}stop(){if(this._stopWatch){const e=this._stopWatch.elapsed();this._elapsedOverall+=e,this._invocationCount+=1,console.info(`did FIRE ${this._name}: elapsed_ms: ${e.toFixed(5)}, listener: ${this._listenerCount} (elapsed_overall: ${this._elapsedOverall.toFixed(2)}, invocations: ${this._invocationCount})`),this._stopWatch=void 0}}}l._idPool=0;class c{constructor(e){this._disposed=!1,this._options=e,this._leakageMon=void 0,this._perfMon=null!==(e=this._options)&&void 0!==e&&e._profName?new l(this._options._profName):void 0}get event(){return this._event||(this._event=(e,t,i)=>{this._listeners||(this._listeners=new s.a);var n=this._listeners.isEmpty();n&&this._options&&this._options.onFirstListenerAdd&&this._options.onFirstListenerAdd(this);const o=this._listeners.push(t?[e,t]:e);n&&this._options&&this._options.onFirstListenerDidAdd&&this._options.onFirstListenerDidAdd(this),this._options&&this._options.onListenerDidAdd&&this._options.onListenerDidAdd(this,e,t);const a=null===(t=this._leakageMon)||void 0===t?void 0:t.check(this._listeners.size);return t=Object(r.i)(()=>{a&&a(),this._disposed||(o(),this._options&&this._options.onLastListenerRemove&&(this._listeners&&!this._listeners.isEmpty()||this._options.onLastListenerRemove(this)))}),i instanceof r.b?i.add(t):Array.isArray(i)&&i.push(t),t}),this._event}fire(e){var t;if(this._listeners){for(var i of(this._deliveryQueue||(this._deliveryQueue=new s.a),this._listeners))this._deliveryQueue.push([i,e]);for(null!==(t=this._perfMon)&&void 0!==t&&t.start(this._deliveryQueue.size);0<this._deliveryQueue.size;){const[t,i]=this._deliveryQueue.shift();try{"function"==typeof t?t.call(void 0,i):t[0].call(t[1],i)}catch(e){Object(o.f)(e)}}null!==(t=this._perfMon)&&void 0!==t&&t.stop()}}dispose(){var e,t;this._disposed||(this._disposed=!0,null!==(t=this._listeners)&&void 0!==t&&t.clear(),null!==(e=this._deliveryQueue)&&void 0!==e&&e.clear(),null!==(e=null===(t=this._options)||void 0===t?void 0:t.onLastListenerRemove)&&void 0!==e&&e.call(t),null!==(t=this._leakageMon)&&void 0!==t&&t.dispose())}}class d extends c{constructor(e){super(e),this._isPaused=0,this._eventQueue=new s.a,this._mergeFn=null==e?void 0:e.merge}pause(){this._isPaused++}resume(){if(0!==this._isPaused&&0==--this._isPaused)if(this._mergeFn){var e=Array.from(this._eventQueue);this._eventQueue.clear(),super.fire(this._mergeFn(e))}else for(;!this._isPaused&&0!==this._eventQueue.size;)super.fire(this._eventQueue.shift())}fire(e){this._listeners&&(0!==this._isPaused?this._eventQueue.push(e):super.fire(e))}}class h extends d{constructor(e){super(e),this._delay=null!==(e=e.delay)&&void 0!==e?e:100}fire(e){this._handle||(this.pause(),this._handle=setTimeout(()=>{this._handle=void 0,this.resume()},this._delay)),super.fire(e)}}class u{constructor(){this.buffers=[]}wrapEvent(e){return(t,i,n)=>e(e=>{const n=this.buffers[this.buffers.length-1];n?n.push(()=>t.call(i,e)):t.call(i,e)},void 0,n)}bufferEvents(e){const t=[];return this.buffers.push(t),e=e(),this.buffers.pop(),t.forEach(e=>e()),e}}class g{constructor(){this.listening=!1,this.inputEvent=n.None,this.inputEventListener=r.a.None,this.emitter=new c({onFirstListenerDidAdd:()=>{this.listening=!0,this.inputEventListener=this.inputEvent(this.emitter.fire,this.emitter)},onLastListenerRemove:()=>{this.listening=!1,this.inputEventListener.dispose()}}),this.event=this.emitter.event}set input(e){this.inputEvent=e,this.listening&&(this.inputEventListener.dispose(),this.inputEventListener=e(this.emitter.fire,this.emitter))}dispose(){this.inputEventListener.dispose(),this.emitter.dispose()}}},function(e,t,i){e.exports=i(367)},function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var n,o=i(0);t=i(10);(i=n=n||{}).editorSimpleInput=new t.c("editorSimpleInput",!1,!0),i.editorTextFocus=new t.c("editorTextFocus",!1,o.a("editorTextFocus","Whether the editor text has focus (cursor is blinking)")),i.focus=new t.c("editorFocus",!1,o.a("editorFocus","Whether the editor or an editor widget has focus (e.g. focus is in the find widget)")),i.textInputFocus=new t.c("textInputFocus",!1,o.a("textInputFocus","Whether an editor or a rich text input has focus (cursor is blinking)")),i.readOnly=new t.c("editorReadonly",!1,o.a("editorReadonly","Whether the editor is read only")),i.inDiffEditor=new t.c("inDiffEditor",!1,o.a("inDiffEditor","Whether the context is a diff editor")),i.columnSelection=new t.c("editorColumnSelection",!1,o.a("editorColumnSelection","Whether `editor.columnSelection` is enabled")),i.writable=i.readOnly.toNegated(),i.hasNonEmptySelection=new t.c("editorHasSelection",!1,o.a("editorHasSelection","Whether the editor has text selected")),i.hasOnlyEmptySelection=i.hasNonEmptySelection.toNegated(),i.hasMultipleSelections=new t.c("editorHasMultipleSelections",!1,o.a("editorHasMultipleSelections","Whether the editor has multiple selections")),i.hasSingleSelection=i.hasMultipleSelections.toNegated(),i.tabMovesFocus=new t.c("editorTabMovesFocus",!1,o.a("editorTabMovesFocus","Whether `Tab` will move focus out of the editor")),i.tabDoesNotMoveFocus=i.tabMovesFocus.toNegated(),i.isInWalkThroughSnippet=new t.c("isInEmbeddedEditor",!1,!0),i.canUndo=new t.c("canUndo",!1,!0),i.canRedo=new t.c("canRedo",!1,!0),i.hoverVisible=new t.c("editorHoverVisible",!1,o.a("editorHoverVisible","Whether the editor hover is visible")),i.inCompositeEditor=new t.c("inCompositeEditor",void 0,o.a("inCompositeEditor","Whether the editor is part of a larger editor (e.g. notebooks)")),i.notInCompositeEditor=i.inCompositeEditor.toNegated(),i.languageId=new t.c("editorLangId","",o.a("editorLangId","The language identifier of the editor")),i.hasCompletionItemProvider=new t.c("editorHasCompletionItemProvider",!1,o.a("editorHasCompletionItemProvider","Whether the editor has a completion item provider")),i.hasCodeActionsProvider=new t.c("editorHasCodeActionsProvider",!1,o.a("editorHasCodeActionsProvider","Whether the editor has a code actions provider")),i.hasCodeLensProvider=new t.c("editorHasCodeLensProvider",!1,o.a("editorHasCodeLensProvider","Whether the editor has a code lens provider")),i.hasDefinitionProvider=new t.c("editorHasDefinitionProvider",!1,o.a("editorHasDefinitionProvider","Whether the editor has a definition provider")),i.hasDeclarationProvider=new t.c("editorHasDeclarationProvider",!1,o.a("editorHasDeclarationProvider","Whether the editor has a declaration provider")),i.hasImplementationProvider=new t.c("editorHasImplementationProvider",!1,o.a("editorHasImplementationProvider","Whether the editor has an implementation provider")),i.hasTypeDefinitionProvider=new t.c("editorHasTypeDefinitionProvider",!1,o.a("editorHasTypeDefinitionProvider","Whether the editor has a type definition provider")),i.hasHoverProvider=new t.c("editorHasHoverProvider",!1,o.a("editorHasHoverProvider","Whether the editor has a hover provider")),i.hasDocumentHighlightProvider=new t.c("editorHasDocumentHighlightProvider",!1,o.a("editorHasDocumentHighlightProvider","Whether the editor has a document highlight provider")),i.hasDocumentSymbolProvider=new t.c("editorHasDocumentSymbolProvider",!1,o.a("editorHasDocumentSymbolProvider","Whether the editor has a document symbol provider")),i.hasReferenceProvider=new t.c("editorHasReferenceProvider",!1,o.a("editorHasReferenceProvider","Whether the editor has a reference provider")),i.hasRenameProvider=new t.c("editorHasRenameProvider",!1,o.a("editorHasRenameProvider","Whether the editor has a rename provider")),i.hasSignatureHelpProvider=new t.c("editorHasSignatureHelpProvider",!1,o.a("editorHasSignatureHelpProvider","Whether the editor has a signature help provider")),i.hasInlayHintsProvider=new t.c("editorHasInlayHintsProvider",!1,o.a("editorHasInlayHintsProvider","Whether the editor has an inline hints provider")),i.hasDocumentFormattingProvider=new t.c("editorHasDocumentFormattingProvider",!1,o.a("editorHasDocumentFormattingProvider","Whether the editor has a document formatting provider")),i.hasDocumentSelectionFormattingProvider=new t.c("editorHasDocumentSelectionFormattingProvider",!1,o.a("editorHasDocumentSelectionFormattingProvider","Whether the editor has a document selection formatting provider")),i.hasMultipleDocumentFormattingProvider=new t.c("editorHasMultipleDocumentFormattingProvider",!1,o.a("editorHasMultipleDocumentFormattingProvider","Whether the editor has multiple document formatting providers")),i.hasMultipleDocumentSelectionFormattingProvider=new t.c("editorHasMultipleDocumentSelectionFormattingProvider",!1,o.a("editorHasMultipleDocumentSelectionFormattingProvider","Whether the editor has multiple document selection formatting providers"))},function(e,t,i){"use strict";function n(e){return!e||"string"!=typeof e||0===e.trim().length}i.d(t,"C",(function(){return n})),i.d(t,"v",(function(){return r})),i.d(t,"s",(function(){return s})),i.d(t,"t",(function(){return a})),i.d(t,"U",(function(){return l})),i.d(t,"J",(function(){return c})),i.d(t,"O",(function(){return d})),i.d(t,"p",(function(){return h})),i.d(t,"T",(function(){return u})),i.d(t,"q",(function(){return g})),i.d(t,"N",(function(){return p})),i.d(t,"M",(function(){return f})),i.d(t,"Q",(function(){return m})),i.d(t,"u",(function(){return v})),i.d(t,"x",(function(){return b})),i.d(t,"I",(function(){return _})),i.d(t,"f",(function(){return w})),i.d(t,"h",(function(){return C})),i.d(t,"g",(function(){return y})),i.d(t,"i",(function(){return x})),i.d(t,"G",(function(){return S})),i.d(t,"H",(function(){return k})),i.d(t,"r",(function(){return D})),i.d(t,"R",(function(){return L})),i.d(t,"d",(function(){return O})),i.d(t,"e",(function(){return E})),i.d(t,"E",(function(){return N})),i.d(t,"F",(function(){return I})),i.d(t,"j",(function(){return T})),i.d(t,"z",(function(){return M})),i.d(t,"K",(function(){return P})),i.d(t,"L",(function(){return R})),i.d(t,"m",(function(){return j})),i.d(t,"k",(function(){return W})),i.d(t,"A",(function(){return z})),i.d(t,"a",(function(){return H})),i.d(t,"n",(function(){return U})),i.d(t,"l",(function(){return $})),i.d(t,"D",(function(){return K})),i.d(t,"B",(function(){return q})),i.d(t,"b",(function(){return G})),i.d(t,"S",(function(){return Y})),i.d(t,"o",(function(){return Z})),i.d(t,"P",(function(){return X})),i.d(t,"w",(function(){return Q})),i.d(t,"c",(function(){return J})),i.d(t,"y",(function(){return te}));const o=/{(\d+)}/g;function r(e,...t){return 0===t.length?e:e.replace(o,(function(e,i){return i=parseInt(i,10),isNaN(i)||i<0||i>=t.length?e:t[i]}))}function s(e){return e.replace(/[<>&]/g,(function(e){switch(e){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";default:return e}}))}function a(e){return e.replace(/[\\\{\}\*\+\?\|\^\$\.\[\]\(\)]/g,"\\$&")}function l(e,t=" "){return d(c(e,t),t)}function c(e,t){if(!e||!t)return e;var i=t.length;if(0===i||0===e.length)return e;let n=0;for(;e.indexOf(t,n)===n;)n+=i;return e.substring(n)}function d(e,t){if(!e||!t)return e;var i=t.length,n=e.length;if(0===i||0===n)return e;let o,r=n;for(;-1!==(o=e.lastIndexOf(t,r-1))&&o+i===r;){if(0===o)return"";r=o}return e.substring(0,r)}function h(e){return e.replace(/[\-\\\{\}\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&").replace(/[\*]/g,".*")}function u(e){return e.replace(/\*/g,"")}function g(e,t,i={}){if(!e)throw new Error("Cannot create regex from empty string");t||(e=a(e)),i.wholeWord&&(/\B/.test(e.charAt(0))||(e="\\b"+e),/\B/.test(e.charAt(e.length-1))||(e+="\\b"));let n="";return i.global&&(n+="g"),i.matchCase||(n+="i"),i.multiline&&(n+="m"),i.unicode&&(n+="u"),new RegExp(e,n)}function p(e){return"^"!==e.source&&"^$"!==e.source&&"$"!==e.source&&"^\\s*$"!==e.source&&!(!e.exec("")||0!==e.lastIndex)}function f(e){return(e.global?"g":"")+(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")}function m(e){return e.split(/\r\n|\r|\n/)}function v(e){for(let i=0,n=e.length;i<n;i++){var t=e.charCodeAt(i);if(32!==t&&9!==t)return i}return-1}function b(e,t=0,i=e.length){for(let o=t;o<i;o++){var n=e.charCodeAt(o);if(32!==n&&9!==n)return e.substring(t,o)}return e.substring(t,i)}function _(e,t=e.length-1){for(let n=t;0<=n;n--){var i=e.charCodeAt(n);if(32!==i&&9!==i)return n}return-1}function w(e,t){return e<t?-1:t<e?1:0}function C(e,t,i=0,n=e.length,o=0,r=t.length){for(;i<n&&o<r;i++,o++){var s=e.charCodeAt(i),a=t.charCodeAt(o);if(s<a)return-1;if(a<s)return 1}var l=n-i,c=r-o;return l<c?-1:c<l?1:0}function y(e,t){return x(e,t,0,e.length,0,t.length)}function x(e,t,i=0,n=e.length,o=0,r=t.length){for(;i<n&&o<r;i++,o++){let a=e.charCodeAt(i),l=t.charCodeAt(o);if(a!==l){if(128<=a||128<=l)return C(e.toLowerCase(),t.toLowerCase(),i,n,o,r);S(a)&&(a-=32),S(l)&&(l-=32);var s=a-l;if(0!=s)return s}}var a=n-i,l=r-o;return a<l?-1:l<a?1:0}function S(e){return 97<=e&&e<=122}function k(e){return 65<=e&&e<=90}function D(e,t){return e.length===t.length&&0===x(e,t)}function L(e,t){var i=t.length;return!(t.length>e.length)&&0===x(e,t,0,i)}function O(e,t){let i,n=Math.min(e.length,t.length);for(i=0;i<n;i++)if(e.charCodeAt(i)!==t.charCodeAt(i))return i;return n}function E(e,t){let i,n=Math.min(e.length,t.length);var o=e.length-1,r=t.length-1;for(i=0;i<n;i++)if(e.charCodeAt(o-i)!==t.charCodeAt(r-i))return i;return n}function N(e){return 55296<=e&&e<=56319}function I(e){return 56320<=e&&e<=57343}function T(e,t){return t-56320+(e-55296<<10)+65536}function M(e,t,i){var n=e.charCodeAt(i);return N(n)&&i+1<t&&I(i=e.charCodeAt(i+1))?T(n,i):n}function A(e,t){var i=e.charCodeAt(t-1);return I(i)&&1<t&&N(t=e.charCodeAt(t-2))?T(t,i):i}function P(e,t){const i=ee.getInstance();var n=t,o=e.length,r=M(e,o,t);t+=65536<=r?2:1;let s=i.getGraphemeBreakType(r);for(;t<o;){var a=M(e,o,t),l=i.getGraphemeBreakType(a);if(J(s,l))break;t+=65536<=a?2:1,s=l}return t-n}function R(e,t){const i=ee.getInstance();var n=t,o=A(e,t);t-=65536<=o?2:1;let r=i.getGraphemeBreakType(o);for(;0<t;){var s=A(e,t),a=i.getGraphemeBreakType(s);if(J(a,r))break;t-=65536<=s?2:1,r=a}return n-t}const F=/(?:[\u05BE\u05C0\u05C3\u05C6\u05D0-\u05F4\u0608\u060B\u060D\u061B-\u064A\u066D-\u066F\u0671-\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u0710\u0712-\u072F\u074D-\u07A5\u07B1-\u07EA\u07F4\u07F5\u07FA-\u0815\u081A\u0824\u0828\u0830-\u0858\u085E-\u08BD\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFD3D\uFD50-\uFDFC\uFE70-\uFEFC]|\uD802[\uDC00-\uDD1B\uDD20-\uDE00\uDE10-\uDE33\uDE40-\uDEE4\uDEEB-\uDF35\uDF40-\uDFFF]|\uD803[\uDC00-\uDCFF]|\uD83A[\uDC00-\uDCCF\uDD00-\uDD43\uDD50-\uDFFF]|\uD83B[\uDC00-\uDEBB])/;function j(e){return F.test(e)}const B=/(?:[\u231A\u231B\u23F0\u23F3\u2600-\u27BF\u2B50\u2B55]|\uD83C[\uDDE6-\uDDFF\uDF00-\uDFFF]|\uD83D[\uDC00-\uDE4F\uDE80-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD00-\uDDFF\uDE70-\uDED6])/;function W(e){return B.test(e)}const V=/^[\t\n\r\x20-\x7E]*$/;function z(e){return V.test(e)}const H=/[\u2028\u2029]/;function U(e){return H.test(e)}function $(e){for(let t=0,i=e.length;t<i;t++)if(K(e.charCodeAt(t)))return!0;return!1}function K(e){return 11904<=(e=+e)&&e<=55215||63744<=e&&e<=64255||65281<=e&&e<=65374}function q(e){return 127462<=e&&e<=127487||8986===e||8987===e||9200===e||9203===e||9728<=e&&e<=10175||11088===e||11093===e||127744<=e&&e<=128591||128640<=e&&e<=128764||128992<=e&&e<=129003||129280<=e&&e<=129535||129648<=e&&e<=129750}const G=String.fromCharCode(65279);function Y(e){return!!(e&&0<e.length&&65279===e.charCodeAt(0))}function Z(e,t=!1){return!!e&&(e=t?e.replace(/\\./g,""):e).toLowerCase()!==e}function X(e){return(e%=52)<26?String.fromCharCode(97+e):String.fromCharCode(65+e-26)}function Q(e){return ee.getInstance().getGraphemeBreakType(e)}function J(e,t){return 0===e?5!==t&&7!==t:!(2===e&&3===t||4!==e&&2!==e&&3!==e&&4!==t&&2!==t&&3!==t&&(8===e&&(8===t||9===t||11===t||12===t)||!(11!==e&&9!==e||9!==t&&10!==t)||(12===e||10===e)&&10===t||5===t||13===t||7===t||1===e||13===e&&14===t||6===e&&6===t))}class ee{constructor(){this._data=JSON.parse("[0,0,0,51592,51592,11,44424,44424,11,72251,72254,5,7150,7150,7,48008,48008,11,55176,55176,11,128420,128420,14,3276,3277,5,9979,9980,14,46216,46216,11,49800,49800,11,53384,53384,11,70726,70726,5,122915,122916,5,129320,129327,14,2558,2558,5,5906,5908,5,9762,9763,14,43360,43388,8,45320,45320,11,47112,47112,11,48904,48904,11,50696,50696,11,52488,52488,11,54280,54280,11,70082,70083,1,71350,71350,7,73111,73111,5,127892,127893,14,128726,128727,14,129473,129474,14,2027,2035,5,2901,2902,5,3784,3789,5,6754,6754,5,8418,8420,5,9877,9877,14,11088,11088,14,44008,44008,5,44872,44872,11,45768,45768,11,46664,46664,11,47560,47560,11,48456,48456,11,49352,49352,11,50248,50248,11,51144,51144,11,52040,52040,11,52936,52936,11,53832,53832,11,54728,54728,11,69811,69814,5,70459,70460,5,71096,71099,7,71998,71998,5,72874,72880,5,119149,119149,7,127374,127374,14,128335,128335,14,128482,128482,14,128765,128767,14,129399,129400,14,129680,129685,14,1476,1477,5,2377,2380,7,2759,2760,5,3137,3140,7,3458,3459,7,4153,4154,5,6432,6434,5,6978,6978,5,7675,7679,5,9723,9726,14,9823,9823,14,9919,9923,14,10035,10036,14,42736,42737,5,43596,43596,5,44200,44200,11,44648,44648,11,45096,45096,11,45544,45544,11,45992,45992,11,46440,46440,11,46888,46888,11,47336,47336,11,47784,47784,11,48232,48232,11,48680,48680,11,49128,49128,11,49576,49576,11,50024,50024,11,50472,50472,11,50920,50920,11,51368,51368,11,51816,51816,11,52264,52264,11,52712,52712,11,53160,53160,11,53608,53608,11,54056,54056,11,54504,54504,11,54952,54952,11,68108,68111,5,69933,69940,5,70197,70197,7,70498,70499,7,70845,70845,5,71229,71229,5,71727,71735,5,72154,72155,5,72344,72345,5,73023,73029,5,94095,94098,5,121403,121452,5,126981,127182,14,127538,127546,14,127990,127990,14,128391,128391,14,128445,128449,14,128500,128505,14,128752,128752,14,129160,129167,14,129356,129356,14,129432,129442,14,129648,129651,14,129751,131069,14,173,173,4,1757,1757,1,2274,2274,1,2494,2494,5,2641,2641,5,2876,2876,5,3014,3016,7,3262,3262,7,3393,3396,5,3570,3571,7,3968,3972,5,4228,4228,7,6086,6086,5,6679,6680,5,6912,6915,5,7080,7081,5,7380,7392,5,8252,8252,14,9096,9096,14,9748,9749,14,9784,9786,14,9833,9850,14,9890,9894,14,9938,9938,14,9999,9999,14,10085,10087,14,12349,12349,14,43136,43137,7,43454,43456,7,43755,43755,7,44088,44088,11,44312,44312,11,44536,44536,11,44760,44760,11,44984,44984,11,45208,45208,11,45432,45432,11,45656,45656,11,45880,45880,11,46104,46104,11,46328,46328,11,46552,46552,11,46776,46776,11,47000,47000,11,47224,47224,11,47448,47448,11,47672,47672,11,47896,47896,11,48120,48120,11,48344,48344,11,48568,48568,11,48792,48792,11,49016,49016,11,49240,49240,11,49464,49464,11,49688,49688,11,49912,49912,11,50136,50136,11,50360,50360,11,50584,50584,11,50808,50808,11,51032,51032,11,51256,51256,11,51480,51480,11,51704,51704,11,51928,51928,11,52152,52152,11,52376,52376,11,52600,52600,11,52824,52824,11,53048,53048,11,53272,53272,11,53496,53496,11,53720,53720,11,53944,53944,11,54168,54168,11,54392,54392,11,54616,54616,11,54840,54840,11,55064,55064,11,65438,65439,5,69633,69633,5,69837,69837,1,70018,70018,7,70188,70190,7,70368,70370,7,70465,70468,7,70712,70719,5,70835,70840,5,70850,70851,5,71132,71133,5,71340,71340,7,71458,71461,5,71985,71989,7,72002,72002,7,72193,72202,5,72281,72283,5,72766,72766,7,72885,72886,5,73104,73105,5,92912,92916,5,113824,113827,4,119173,119179,5,121505,121519,5,125136,125142,5,127279,127279,14,127489,127490,14,127570,127743,14,127900,127901,14,128254,128254,14,128369,128370,14,128400,128400,14,128425,128432,14,128468,128475,14,128489,128494,14,128715,128720,14,128745,128745,14,128759,128760,14,129004,129023,14,129296,129304,14,129340,129342,14,129388,129392,14,129404,129407,14,129454,129455,14,129485,129487,14,129659,129663,14,129719,129727,14,917536,917631,5,13,13,2,1160,1161,5,1564,1564,4,1807,1807,1,2085,2087,5,2363,2363,7,2402,2403,5,2507,2508,7,2622,2624,7,2691,2691,7,2786,2787,5,2881,2884,5,3006,3006,5,3072,3072,5,3170,3171,5,3267,3268,7,3330,3331,7,3406,3406,1,3538,3540,5,3655,3662,5,3897,3897,5,4038,4038,5,4184,4185,5,4352,4447,8,6068,6069,5,6155,6157,5,6448,6449,7,6742,6742,5,6783,6783,5,6966,6970,5,7042,7042,7,7143,7143,7,7212,7219,5,7412,7412,5,8206,8207,4,8294,8303,4,8596,8601,14,9410,9410,14,9742,9742,14,9757,9757,14,9770,9770,14,9794,9794,14,9828,9828,14,9855,9855,14,9882,9882,14,9900,9903,14,9929,9933,14,9963,9967,14,9987,9988,14,10006,10006,14,10062,10062,14,10175,10175,14,11744,11775,5,42607,42607,5,43043,43044,7,43263,43263,5,43444,43445,7,43569,43570,5,43698,43700,5,43766,43766,5,44032,44032,11,44144,44144,11,44256,44256,11,44368,44368,11,44480,44480,11,44592,44592,11,44704,44704,11,44816,44816,11,44928,44928,11,45040,45040,11,45152,45152,11,45264,45264,11,45376,45376,11,45488,45488,11,45600,45600,11,45712,45712,11,45824,45824,11,45936,45936,11,46048,46048,11,46160,46160,11,46272,46272,11,46384,46384,11,46496,46496,11,46608,46608,11,46720,46720,11,46832,46832,11,46944,46944,11,47056,47056,11,47168,47168,11,47280,47280,11,47392,47392,11,47504,47504,11,47616,47616,11,47728,47728,11,47840,47840,11,47952,47952,11,48064,48064,11,48176,48176,11,48288,48288,11,48400,48400,11,48512,48512,11,48624,48624,11,48736,48736,11,48848,48848,11,48960,48960,11,49072,49072,11,49184,49184,11,49296,49296,11,49408,49408,11,49520,49520,11,49632,49632,11,49744,49744,11,49856,49856,11,49968,49968,11,50080,50080,11,50192,50192,11,50304,50304,11,50416,50416,11,50528,50528,11,50640,50640,11,50752,50752,11,50864,50864,11,50976,50976,11,51088,51088,11,51200,51200,11,51312,51312,11,51424,51424,11,51536,51536,11,51648,51648,11,51760,51760,11,51872,51872,11,51984,51984,11,52096,52096,11,52208,52208,11,52320,52320,11,52432,52432,11,52544,52544,11,52656,52656,11,52768,52768,11,52880,52880,11,52992,52992,11,53104,53104,11,53216,53216,11,53328,53328,11,53440,53440,11,53552,53552,11,53664,53664,11,53776,53776,11,53888,53888,11,54000,54000,11,54112,54112,11,54224,54224,11,54336,54336,11,54448,54448,11,54560,54560,11,54672,54672,11,54784,54784,11,54896,54896,11,55008,55008,11,55120,55120,11,64286,64286,5,66272,66272,5,68900,68903,5,69762,69762,7,69817,69818,5,69927,69931,5,70003,70003,5,70070,70078,5,70094,70094,7,70194,70195,7,70206,70206,5,70400,70401,5,70463,70463,7,70475,70477,7,70512,70516,5,70722,70724,5,70832,70832,5,70842,70842,5,70847,70848,5,71088,71089,7,71102,71102,7,71219,71226,5,71231,71232,5,71342,71343,7,71453,71455,5,71463,71467,5,71737,71738,5,71995,71996,5,72000,72000,7,72145,72147,7,72160,72160,5,72249,72249,7,72273,72278,5,72330,72342,5,72752,72758,5,72850,72871,5,72882,72883,5,73018,73018,5,73031,73031,5,73109,73109,5,73461,73462,7,94031,94031,5,94192,94193,7,119142,119142,7,119155,119162,4,119362,119364,5,121476,121476,5,122888,122904,5,123184,123190,5,126976,126979,14,127184,127231,14,127344,127345,14,127405,127461,14,127514,127514,14,127561,127567,14,127778,127779,14,127896,127896,14,127985,127986,14,127995,127999,5,128326,128328,14,128360,128366,14,128378,128378,14,128394,128397,14,128405,128406,14,128422,128423,14,128435,128443,14,128453,128464,14,128479,128480,14,128484,128487,14,128496,128498,14,128640,128709,14,128723,128724,14,128736,128741,14,128747,128748,14,128755,128755,14,128762,128762,14,128981,128991,14,129096,129103,14,129292,129292,14,129311,129311,14,129329,129330,14,129344,129349,14,129360,129374,14,129394,129394,14,129402,129402,14,129413,129425,14,129445,129450,14,129466,129471,14,129483,129483,14,129511,129535,14,129653,129655,14,129667,129670,14,129705,129711,14,129731,129743,14,917505,917505,4,917760,917999,5,10,10,3,127,159,4,768,879,5,1471,1471,5,1536,1541,1,1648,1648,5,1767,1768,5,1840,1866,5,2070,2073,5,2137,2139,5,2307,2307,7,2366,2368,7,2382,2383,7,2434,2435,7,2497,2500,5,2519,2519,5,2563,2563,7,2631,2632,5,2677,2677,5,2750,2752,7,2763,2764,7,2817,2817,5,2879,2879,5,2891,2892,7,2914,2915,5,3008,3008,5,3021,3021,5,3076,3076,5,3146,3149,5,3202,3203,7,3264,3265,7,3271,3272,7,3298,3299,5,3390,3390,5,3402,3404,7,3426,3427,5,3535,3535,5,3544,3550,7,3635,3635,7,3763,3763,7,3893,3893,5,3953,3966,5,3981,3991,5,4145,4145,7,4157,4158,5,4209,4212,5,4237,4237,5,4520,4607,10,5970,5971,5,6071,6077,5,6089,6099,5,6277,6278,5,6439,6440,5,6451,6456,7,6683,6683,5,6744,6750,5,6765,6770,7,6846,6846,5,6964,6964,5,6972,6972,5,7019,7027,5,7074,7077,5,7083,7085,5,7146,7148,7,7154,7155,7,7222,7223,5,7394,7400,5,7416,7417,5,8204,8204,5,8233,8233,4,8288,8292,4,8413,8416,5,8482,8482,14,8986,8987,14,9193,9203,14,9654,9654,14,9733,9733,14,9745,9745,14,9752,9752,14,9760,9760,14,9766,9766,14,9774,9775,14,9792,9792,14,9800,9811,14,9825,9826,14,9831,9831,14,9852,9853,14,9872,9873,14,9880,9880,14,9885,9887,14,9896,9897,14,9906,9916,14,9926,9927,14,9936,9936,14,9941,9960,14,9974,9974,14,9982,9985,14,9992,9997,14,10002,10002,14,10017,10017,14,10055,10055,14,10071,10071,14,10145,10145,14,11013,11015,14,11503,11505,5,12334,12335,5,12951,12951,14,42612,42621,5,43014,43014,5,43047,43047,7,43204,43205,5,43335,43345,5,43395,43395,7,43450,43451,7,43561,43566,5,43573,43574,5,43644,43644,5,43710,43711,5,43758,43759,7,44005,44005,5,44012,44012,7,44060,44060,11,44116,44116,11,44172,44172,11,44228,44228,11,44284,44284,11,44340,44340,11,44396,44396,11,44452,44452,11,44508,44508,11,44564,44564,11,44620,44620,11,44676,44676,11,44732,44732,11,44788,44788,11,44844,44844,11,44900,44900,11,44956,44956,11,45012,45012,11,45068,45068,11,45124,45124,11,45180,45180,11,45236,45236,11,45292,45292,11,45348,45348,11,45404,45404,11,45460,45460,11,45516,45516,11,45572,45572,11,45628,45628,11,45684,45684,11,45740,45740,11,45796,45796,11,45852,45852,11,45908,45908,11,45964,45964,11,46020,46020,11,46076,46076,11,46132,46132,11,46188,46188,11,46244,46244,11,46300,46300,11,46356,46356,11,46412,46412,11,46468,46468,11,46524,46524,11,46580,46580,11,46636,46636,11,46692,46692,11,46748,46748,11,46804,46804,11,46860,46860,11,46916,46916,11,46972,46972,11,47028,47028,11,47084,47084,11,47140,47140,11,47196,47196,11,47252,47252,11,47308,47308,11,47364,47364,11,47420,47420,11,47476,47476,11,47532,47532,11,47588,47588,11,47644,47644,11,47700,47700,11,47756,47756,11,47812,47812,11,47868,47868,11,47924,47924,11,47980,47980,11,48036,48036,11,48092,48092,11,48148,48148,11,48204,48204,11,48260,48260,11,48316,48316,11,48372,48372,11,48428,48428,11,48484,48484,11,48540,48540,11,48596,48596,11,48652,48652,11,48708,48708,11,48764,48764,11,48820,48820,11,48876,48876,11,48932,48932,11,48988,48988,11,49044,49044,11,49100,49100,11,49156,49156,11,49212,49212,11,49268,49268,11,49324,49324,11,49380,49380,11,49436,49436,11,49492,49492,11,49548,49548,11,49604,49604,11,49660,49660,11,49716,49716,11,49772,49772,11,49828,49828,11,49884,49884,11,49940,49940,11,49996,49996,11,50052,50052,11,50108,50108,11,50164,50164,11,50220,50220,11,50276,50276,11,50332,50332,11,50388,50388,11,50444,50444,11,50500,50500,11,50556,50556,11,50612,50612,11,50668,50668,11,50724,50724,11,50780,50780,11,50836,50836,11,50892,50892,11,50948,50948,11,51004,51004,11,51060,51060,11,51116,51116,11,51172,51172,11,51228,51228,11,51284,51284,11,51340,51340,11,51396,51396,11,51452,51452,11,51508,51508,11,51564,51564,11,51620,51620,11,51676,51676,11,51732,51732,11,51788,51788,11,51844,51844,11,51900,51900,11,51956,51956,11,52012,52012,11,52068,52068,11,52124,52124,11,52180,52180,11,52236,52236,11,52292,52292,11,52348,52348,11,52404,52404,11,52460,52460,11,52516,52516,11,52572,52572,11,52628,52628,11,52684,52684,11,52740,52740,11,52796,52796,11,52852,52852,11,52908,52908,11,52964,52964,11,53020,53020,11,53076,53076,11,53132,53132,11,53188,53188,11,53244,53244,11,53300,53300,11,53356,53356,11,53412,53412,11,53468,53468,11,53524,53524,11,53580,53580,11,53636,53636,11,53692,53692,11,53748,53748,11,53804,53804,11,53860,53860,11,53916,53916,11,53972,53972,11,54028,54028,11,54084,54084,11,54140,54140,11,54196,54196,11,54252,54252,11,54308,54308,11,54364,54364,11,54420,54420,11,54476,54476,11,54532,54532,11,54588,54588,11,54644,54644,11,54700,54700,11,54756,54756,11,54812,54812,11,54868,54868,11,54924,54924,11,54980,54980,11,55036,55036,11,55092,55092,11,55148,55148,11,55216,55238,9,65056,65071,5,65529,65531,4,68097,68099,5,68159,68159,5,69446,69456,5,69688,69702,5,69808,69810,7,69815,69816,7,69821,69821,1,69888,69890,5,69932,69932,7,69957,69958,7,70016,70017,5,70067,70069,7,70079,70080,7,70089,70092,5,70095,70095,5,70191,70193,5,70196,70196,5,70198,70199,5,70367,70367,5,70371,70378,5,70402,70403,7,70462,70462,5,70464,70464,5,70471,70472,7,70487,70487,5,70502,70508,5,70709,70711,7,70720,70721,7,70725,70725,7,70750,70750,5,70833,70834,7,70841,70841,7,70843,70844,7,70846,70846,7,70849,70849,7,71087,71087,5,71090,71093,5,71100,71101,5,71103,71104,5,71216,71218,7,71227,71228,7,71230,71230,7,71339,71339,5,71341,71341,5,71344,71349,5,71351,71351,5,71456,71457,7,71462,71462,7,71724,71726,7,71736,71736,7,71984,71984,5,71991,71992,7,71997,71997,7,71999,71999,1,72001,72001,1,72003,72003,5,72148,72151,5,72156,72159,7,72164,72164,7,72243,72248,5,72250,72250,1,72263,72263,5,72279,72280,7,72324,72329,1,72343,72343,7,72751,72751,7,72760,72765,5,72767,72767,5,72873,72873,7,72881,72881,7,72884,72884,7,73009,73014,5,73020,73021,5,73030,73030,1,73098,73102,7,73107,73108,7,73110,73110,7,73459,73460,5,78896,78904,4,92976,92982,5,94033,94087,7,94180,94180,5,113821,113822,5,119141,119141,5,119143,119145,5,119150,119154,5,119163,119170,5,119210,119213,5,121344,121398,5,121461,121461,5,121499,121503,5,122880,122886,5,122907,122913,5,122918,122922,5,123628,123631,5,125252,125258,5,126980,126980,14,127183,127183,14,127245,127247,14,127340,127343,14,127358,127359,14,127377,127386,14,127462,127487,6,127491,127503,14,127535,127535,14,127548,127551,14,127568,127569,14,127744,127777,14,127780,127891,14,127894,127895,14,127897,127899,14,127902,127984,14,127987,127989,14,127991,127994,14,128000,128253,14,128255,128317,14,128329,128334,14,128336,128359,14,128367,128368,14,128371,128377,14,128379,128390,14,128392,128393,14,128398,128399,14,128401,128404,14,128407,128419,14,128421,128421,14,128424,128424,14,128433,128434,14,128444,128444,14,128450,128452,14,128465,128467,14,128476,128478,14,128481,128481,14,128483,128483,14,128488,128488,14,128495,128495,14,128499,128499,14,128506,128591,14,128710,128714,14,128721,128722,14,128725,128725,14,128728,128735,14,128742,128744,14,128746,128746,14,128749,128751,14,128753,128754,14,128756,128758,14,128761,128761,14,128763,128764,14,128884,128895,14,128992,129003,14,129036,129039,14,129114,129119,14,129198,129279,14,129293,129295,14,129305,129310,14,129312,129319,14,129328,129328,14,129331,129338,14,129343,129343,14,129351,129355,14,129357,129359,14,129375,129387,14,129393,129393,14,129395,129398,14,129401,129401,14,129403,129403,14,129408,129412,14,129426,129431,14,129443,129444,14,129451,129453,14,129456,129465,14,129472,129472,14,129475,129482,14,129484,129484,14,129488,129510,14,129536,129647,14,129652,129652,14,129656,129658,14,129664,129666,14,129671,129679,14,129686,129704,14,129712,129718,14,129728,129730,14,129744,129750,14,917504,917504,4,917506,917535,4,917632,917759,4,918000,921599,4,0,9,4,11,12,4,14,31,4,169,169,14,174,174,14,1155,1159,5,1425,1469,5,1473,1474,5,1479,1479,5,1552,1562,5,1611,1631,5,1750,1756,5,1759,1764,5,1770,1773,5,1809,1809,5,1958,1968,5,2045,2045,5,2075,2083,5,2089,2093,5,2259,2273,5,2275,2306,5,2362,2362,5,2364,2364,5,2369,2376,5,2381,2381,5,2385,2391,5,2433,2433,5,2492,2492,5,2495,2496,7,2503,2504,7,2509,2509,5,2530,2531,5,2561,2562,5,2620,2620,5,2625,2626,5,2635,2637,5,2672,2673,5,2689,2690,5,2748,2748,5,2753,2757,5,2761,2761,7,2765,2765,5,2810,2815,5,2818,2819,7,2878,2878,5,2880,2880,7,2887,2888,7,2893,2893,5,2903,2903,5,2946,2946,5,3007,3007,7,3009,3010,7,3018,3020,7,3031,3031,5,3073,3075,7,3134,3136,5,3142,3144,5,3157,3158,5,3201,3201,5,3260,3260,5,3263,3263,5,3266,3266,5,3270,3270,5,3274,3275,7,3285,3286,5,3328,3329,5,3387,3388,5,3391,3392,7,3398,3400,7,3405,3405,5,3415,3415,5,3457,3457,5,3530,3530,5,3536,3537,7,3542,3542,5,3551,3551,5,3633,3633,5,3636,3642,5,3761,3761,5,3764,3772,5,3864,3865,5,3895,3895,5,3902,3903,7,3967,3967,7,3974,3975,5,3993,4028,5,4141,4144,5,4146,4151,5,4155,4156,7,4182,4183,7,4190,4192,5,4226,4226,5,4229,4230,5,4253,4253,5,4448,4519,9,4957,4959,5,5938,5940,5,6002,6003,5,6070,6070,7,6078,6085,7,6087,6088,7,6109,6109,5,6158,6158,4,6313,6313,5,6435,6438,7,6441,6443,7,6450,6450,5,6457,6459,5,6681,6682,7,6741,6741,7,6743,6743,7,6752,6752,5,6757,6764,5,6771,6780,5,6832,6845,5,6847,6848,5,6916,6916,7,6965,6965,5,6971,6971,7,6973,6977,7,6979,6980,7,7040,7041,5,7073,7073,7,7078,7079,7,7082,7082,7,7142,7142,5,7144,7145,5,7149,7149,5,7151,7153,5,7204,7211,7,7220,7221,7,7376,7378,5,7393,7393,7,7405,7405,5,7415,7415,7,7616,7673,5,8203,8203,4,8205,8205,13,8232,8232,4,8234,8238,4,8265,8265,14,8293,8293,4,8400,8412,5,8417,8417,5,8421,8432,5,8505,8505,14,8617,8618,14,9000,9000,14,9167,9167,14,9208,9210,14,9642,9643,14,9664,9664,14,9728,9732,14,9735,9741,14,9743,9744,14,9746,9746,14,9750,9751,14,9753,9756,14,9758,9759,14,9761,9761,14,9764,9765,14,9767,9769,14,9771,9773,14,9776,9783,14,9787,9791,14,9793,9793,14,9795,9799,14,9812,9822,14,9824,9824,14,9827,9827,14,9829,9830,14,9832,9832,14,9851,9851,14,9854,9854,14,9856,9861,14,9874,9876,14,9878,9879,14,9881,9881,14,9883,9884,14,9888,9889,14,9895,9895,14,9898,9899,14,9904,9905,14,9917,9918,14,9924,9925,14,9928,9928,14,9934,9935,14,9937,9937,14,9939,9940,14,9961,9962,14,9968,9973,14,9975,9978,14,9981,9981,14,9986,9986,14,9989,9989,14,9998,9998,14,10000,10001,14,10004,10004,14,10013,10013,14,10024,10024,14,10052,10052,14,10060,10060,14,10067,10069,14,10083,10084,14,10133,10135,14,10160,10160,14,10548,10549,14,11035,11036,14,11093,11093,14,11647,11647,5,12330,12333,5,12336,12336,14,12441,12442,5,12953,12953,14,42608,42610,5,42654,42655,5,43010,43010,5,43019,43019,5,43045,43046,5,43052,43052,5,43188,43203,7,43232,43249,5,43302,43309,5,43346,43347,7,43392,43394,5,43443,43443,5,43446,43449,5,43452,43453,5,43493,43493,5,43567,43568,7,43571,43572,7,43587,43587,5,43597,43597,7,43696,43696,5,43703,43704,5,43713,43713,5,43756,43757,5,43765,43765,7,44003,44004,7,44006,44007,7,44009,44010,7,44013,44013,5,44033,44059,12,44061,44087,12,44089,44115,12,44117,44143,12,44145,44171,12,44173,44199,12,44201,44227,12,44229,44255,12,44257,44283,12,44285,44311,12,44313,44339,12,44341,44367,12,44369,44395,12,44397,44423,12,44425,44451,12,44453,44479,12,44481,44507,12,44509,44535,12,44537,44563,12,44565,44591,12,44593,44619,12,44621,44647,12,44649,44675,12,44677,44703,12,44705,44731,12,44733,44759,12,44761,44787,12,44789,44815,12,44817,44843,12,44845,44871,12,44873,44899,12,44901,44927,12,44929,44955,12,44957,44983,12,44985,45011,12,45013,45039,12,45041,45067,12,45069,45095,12,45097,45123,12,45125,45151,12,45153,45179,12,45181,45207,12,45209,45235,12,45237,45263,12,45265,45291,12,45293,45319,12,45321,45347,12,45349,45375,12,45377,45403,12,45405,45431,12,45433,45459,12,45461,45487,12,45489,45515,12,45517,45543,12,45545,45571,12,45573,45599,12,45601,45627,12,45629,45655,12,45657,45683,12,45685,45711,12,45713,45739,12,45741,45767,12,45769,45795,12,45797,45823,12,45825,45851,12,45853,45879,12,45881,45907,12,45909,45935,12,45937,45963,12,45965,45991,12,45993,46019,12,46021,46047,12,46049,46075,12,46077,46103,12,46105,46131,12,46133,46159,12,46161,46187,12,46189,46215,12,46217,46243,12,46245,46271,12,46273,46299,12,46301,46327,12,46329,46355,12,46357,46383,12,46385,46411,12,46413,46439,12,46441,46467,12,46469,46495,12,46497,46523,12,46525,46551,12,46553,46579,12,46581,46607,12,46609,46635,12,46637,46663,12,46665,46691,12,46693,46719,12,46721,46747,12,46749,46775,12,46777,46803,12,46805,46831,12,46833,46859,12,46861,46887,12,46889,46915,12,46917,46943,12,46945,46971,12,46973,46999,12,47001,47027,12,47029,47055,12,47057,47083,12,47085,47111,12,47113,47139,12,47141,47167,12,47169,47195,12,47197,47223,12,47225,47251,12,47253,47279,12,47281,47307,12,47309,47335,12,47337,47363,12,47365,47391,12,47393,47419,12,47421,47447,12,47449,47475,12,47477,47503,12,47505,47531,12,47533,47559,12,47561,47587,12,47589,47615,12,47617,47643,12,47645,47671,12,47673,47699,12,47701,47727,12,47729,47755,12,47757,47783,12,47785,47811,12,47813,47839,12,47841,47867,12,47869,47895,12,47897,47923,12,47925,47951,12,47953,47979,12,47981,48007,12,48009,48035,12,48037,48063,12,48065,48091,12,48093,48119,12,48121,48147,12,48149,48175,12,48177,48203,12,48205,48231,12,48233,48259,12,48261,48287,12,48289,48315,12,48317,48343,12,48345,48371,12,48373,48399,12,48401,48427,12,48429,48455,12,48457,48483,12,48485,48511,12,48513,48539,12,48541,48567,12,48569,48595,12,48597,48623,12,48625,48651,12,48653,48679,12,48681,48707,12,48709,48735,12,48737,48763,12,48765,48791,12,48793,48819,12,48821,48847,12,48849,48875,12,48877,48903,12,48905,48931,12,48933,48959,12,48961,48987,12,48989,49015,12,49017,49043,12,49045,49071,12,49073,49099,12,49101,49127,12,49129,49155,12,49157,49183,12,49185,49211,12,49213,49239,12,49241,49267,12,49269,49295,12,49297,49323,12,49325,49351,12,49353,49379,12,49381,49407,12,49409,49435,12,49437,49463,12,49465,49491,12,49493,49519,12,49521,49547,12,49549,49575,12,49577,49603,12,49605,49631,12,49633,49659,12,49661,49687,12,49689,49715,12,49717,49743,12,49745,49771,12,49773,49799,12,49801,49827,12,49829,49855,12,49857,49883,12,49885,49911,12,49913,49939,12,49941,49967,12,49969,49995,12,49997,50023,12,50025,50051,12,50053,50079,12,50081,50107,12,50109,50135,12,50137,50163,12,50165,50191,12,50193,50219,12,50221,50247,12,50249,50275,12,50277,50303,12,50305,50331,12,50333,50359,12,50361,50387,12,50389,50415,12,50417,50443,12,50445,50471,12,50473,50499,12,50501,50527,12,50529,50555,12,50557,50583,12,50585,50611,12,50613,50639,12,50641,50667,12,50669,50695,12,50697,50723,12,50725,50751,12,50753,50779,12,50781,50807,12,50809,50835,12,50837,50863,12,50865,50891,12,50893,50919,12,50921,50947,12,50949,50975,12,50977,51003,12,51005,51031,12,51033,51059,12,51061,51087,12,51089,51115,12,51117,51143,12,51145,51171,12,51173,51199,12,51201,51227,12,51229,51255,12,51257,51283,12,51285,51311,12,51313,51339,12,51341,51367,12,51369,51395,12,51397,51423,12,51425,51451,12,51453,51479,12,51481,51507,12,51509,51535,12,51537,51563,12,51565,51591,12,51593,51619,12,51621,51647,12,51649,51675,12,51677,51703,12,51705,51731,12,51733,51759,12,51761,51787,12,51789,51815,12,51817,51843,12,51845,51871,12,51873,51899,12,51901,51927,12,51929,51955,12,51957,51983,12,51985,52011,12,52013,52039,12,52041,52067,12,52069,52095,12,52097,52123,12,52125,52151,12,52153,52179,12,52181,52207,12,52209,52235,12,52237,52263,12,52265,52291,12,52293,52319,12,52321,52347,12,52349,52375,12,52377,52403,12,52405,52431,12,52433,52459,12,52461,52487,12,52489,52515,12,52517,52543,12,52545,52571,12,52573,52599,12,52601,52627,12,52629,52655,12,52657,52683,12,52685,52711,12,52713,52739,12,52741,52767,12,52769,52795,12,52797,52823,12,52825,52851,12,52853,52879,12,52881,52907,12,52909,52935,12,52937,52963,12,52965,52991,12,52993,53019,12,53021,53047,12,53049,53075,12,53077,53103,12,53105,53131,12,53133,53159,12,53161,53187,12,53189,53215,12,53217,53243,12,53245,53271,12,53273,53299,12,53301,53327,12,53329,53355,12,53357,53383,12,53385,53411,12,53413,53439,12,53441,53467,12,53469,53495,12,53497,53523,12,53525,53551,12,53553,53579,12,53581,53607,12,53609,53635,12,53637,53663,12,53665,53691,12,53693,53719,12,53721,53747,12,53749,53775,12,53777,53803,12,53805,53831,12,53833,53859,12,53861,53887,12,53889,53915,12,53917,53943,12,53945,53971,12,53973,53999,12,54001,54027,12,54029,54055,12,54057,54083,12,54085,54111,12,54113,54139,12,54141,54167,12,54169,54195,12,54197,54223,12,54225,54251,12,54253,54279,12,54281,54307,12,54309,54335,12,54337,54363,12,54365,54391,12,54393,54419,12,54421,54447,12,54449,54475,12,54477,54503,12,54505,54531,12,54533,54559,12,54561,54587,12,54589,54615,12,54617,54643,12,54645,54671,12,54673,54699,12,54701,54727,12,54729,54755,12,54757,54783,12,54785,54811,12,54813,54839,12,54841,54867,12,54869,54895,12,54897,54923,12,54925,54951,12,54953,54979,12,54981,55007,12,55009,55035,12,55037,55063,12,55065,55091,12,55093,55119,12,55121,55147,12,55149,55175,12,55177,55203,12,55243,55291,10,65024,65039,5,65279,65279,4,65520,65528,4,66045,66045,5,66422,66426,5,68101,68102,5,68152,68154,5,68325,68326,5,69291,69292,5,69632,69632,7,69634,69634,7,69759,69761,5]")}static getInstance(){return ee._INSTANCE||(ee._INSTANCE=new ee),ee._INSTANCE}getGraphemeBreakType(e){if(e<32)return 10===e?3:13===e?2:4;if(e<127)return 0;var t=this._data,i=t.length/3;let n=1;for(;n<=i;)if(e<t[3*n])n*=2;else{if(!(e>t[3*n+1]))return t[3*n+2];n=2*n+1}return 0}}function te(e,t){if(0===e)return 0;var i=function(e,t){let i=A(t,e);for(e-=ie(i);function(e){return 127995<=e&&e<=127999}(i)||65039===i||8419===i;){if(0===e)return;i=A(t,e),e-=ie(i)}var n;if(q(i))return 0<=e&&8205===(n=A(t,e))&&(e-=ie(n)),e}(e,t);return void 0!==i?i:e-=ie(A(t,e))}function ie(e){return 65536<=e?2:1}ee._INSTANCE=null},function(e,t,i){"use strict";i.d(t,"a",(function(){return a})),i.d(t,"e",(function(){return l})),i.d(t,"c",(function(){return O})),i.d(t,"b",(function(){return E})),i.d(t,"d",(function(){return N})),i.d(t,"f",(function(){return M}));t=i(15);var n=i(9);i=i(21);let o=t.k||"";const r=new Map;r.set("false",!1),r.set("true",!0),r.set("isMac",t.f),r.set("isLinux",t.d),r.set("isWindows",t.i),r.set("isWeb",t.h),r.set("isMacNative",t.f&&!t.h),r.set("isEdge",0<=o.indexOf("Edg/")),r.set("isFirefox",0<=o.indexOf("Firefox")),r.set("isChrome",0<=o.indexOf("Chrome")),r.set("isSafari",0<=o.indexOf("Safari"));const s=Object.prototype.hasOwnProperty;class a{static has(e){return u.create(e)}static equals(e,t){return g.create(e,t)}static regex(e,t){return x.create(e,t)}static not(e){return v.create(e)}static and(...e){return D.create(e,null)}static or(...e){return L.create(e,null,!0)}static deserialize(e,t=!1){if(e)return this._deserializeOrExpression(e,t)}static _deserializeOrExpression(e,t){let i=e.split("||");return L.create(i.map(e=>this._deserializeAndExpression(e,t)),null,!0)}static _deserializeAndExpression(e,t){let i=e.split("&&");return D.create(i.map(e=>this._deserializeOne(e,t)),null)}static _deserializeOne(e,t){if(0<=(e=e.trim()).indexOf("!=")){let i=e.split("!=");return m.create(i[0].trim(),this._deserializeValue(i[1],t))}if(0<=e.indexOf("==")){let i=e.split("==");return g.create(i[0].trim(),this._deserializeValue(i[1],t))}if(0<=e.indexOf("=~")){let i=e.split("=~");return x.create(i[0].trim(),this._deserializeRegexValue(i[1],t))}if(0<=e.indexOf(" in ")){let t=e.split(" in ");return p.create(t[0].trim(),t[1].trim())}if(/^[^<=>]+>=[^<=>]+$/.test(e)){const t=e.split(">=");return w.create(t[0].trim(),t[1].trim())}if(/^[^<=>]+>[^<=>]+$/.test(e)){const t=e.split(">");return _.create(t[0].trim(),t[1].trim())}if(/^[^<=>]+<=[^<=>]+$/.test(e)){const t=e.split("<=");return y.create(t[0].trim(),t[1].trim())}if(/^[^<=>]+<[^<=>]+$/.test(e)){const t=e.split("<");return C.create(t[0].trim(),t[1].trim())}return/^\!\s*/.test(e)?v.create(e.substr(1).trim()):u.create(e)}static _deserializeValue(e,t){if("true"===(e=e.trim()))return!0;if("false"===e)return!1;let i=/^'([^']*)'$/.exec(e);return i?i[1].trim():e}static _deserializeRegexValue(e,t){if(Object(n.C)(e)){if(t)throw new Error("missing regexp-value for =~-expression");return console.warn("missing regexp-value for =~-expression"),null}var i=e.indexOf("/"),o=e.lastIndexOf("/");if(i===o||i<0){if(t)throw new Error(`bad regexp-value '${e}', missing /-enclosure`);return console.warn(`bad regexp-value '${e}', missing /-enclosure`),null}i=e.slice(i+1,o),o="i"===e[o+1]?"i":"";try{return new RegExp(i,o)}catch(i){if(t)throw new Error(`bad regexp-value '${e}', parse error: ${i}`);return console.warn(`bad regexp-value '${e}', parse error: ${i}`),null}}}function l(e,t){const i=e?e.substituteConstants():void 0;return t=t?t.substituteConstants():void 0,!i&&!t||!(!i||!t)&&i.equals(t)}function c(e,t){return e.cmp(t)}class d{constructor(){this.type=0}cmp(e){return this.type-e.type}equals(e){return e.type===this.type}substituteConstants(){return this}evaluate(e){return!1}serialize(){return"false"}keys(){return[]}negate(){return h.INSTANCE}}d.INSTANCE=new d;class h{constructor(){this.type=1}cmp(e){return this.type-e.type}equals(e){return e.type===this.type}substituteConstants(){return this}evaluate(e){return!0}serialize(){return"true"}keys(){return[]}negate(){return d.INSTANCE}}h.INSTANCE=new h;class u{constructor(e,t){this.key=e,this.negated=t,this.type=2}static create(e,t=null){var i=r.get(e);return"boolean"==typeof i?(i?h:d).INSTANCE:new u(e,t)}cmp(e){return e.type!==this.type?this.type-e.type:I(this.key,e.key)}equals(e){return e.type===this.type&&this.key===e.key}substituteConstants(){var e=r.get(this.key);return"boolean"==typeof e?(e?h:d).INSTANCE:this}evaluate(e){return!!e.getValue(this.key)}serialize(){return this.key}keys(){return[this.key]}negate(){return this.negated||(this.negated=v.create(this.key,this)),this.negated}}class g{constructor(e,t,i){this.key=e,this.value=t,this.negated=i,this.type=4}static create(e,t,i=null){if("boolean"==typeof t)return(t?u:v).create(e,i);var n=r.get(e);return"boolean"!=typeof n?new g(e,t,i):(t===(n?"true":"false")?h:d).INSTANCE}cmp(e){return e.type!==this.type?this.type-e.type:T(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type&&this.key===e.key&&this.value===e.value}substituteConstants(){var e=r.get(this.key);return"boolean"!=typeof e?this:(this.value===(e?"true":"false")?h:d).INSTANCE}evaluate(e){return e.getValue(this.key)==this.value}serialize(){return`${this.key} == '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=m.create(this.key,this.value,this)),this.negated}}class p{constructor(e,t){this.key=e,this.valueKey=t,this.type=10,this.negated=null}static create(e,t){return new p(e,t)}cmp(e){return e.type!==this.type?this.type-e.type:T(this.key,this.valueKey,e.key,e.valueKey)}equals(e){return e.type===this.type&&this.key===e.key&&this.valueKey===e.valueKey}substituteConstants(){return this}evaluate(e){const t=e.getValue(this.valueKey);return e=e.getValue(this.key),Array.isArray(t)?0<=t.indexOf(e):"string"==typeof e&&"object"==typeof t&&null!==t&&s.call(t,e)}serialize(){return`${this.key} in '${this.valueKey}'`}keys(){return[this.key,this.valueKey]}negate(){return this.negated||(this.negated=f.create(this)),this.negated}}class f{constructor(e){this._actual=e,this.type=11}static create(e){return new f(e)}cmp(e){return e.type!==this.type?this.type-e.type:this._actual.cmp(e._actual)}equals(e){return e.type===this.type&&this._actual.equals(e._actual)}substituteConstants(){return this}evaluate(e){return!this._actual.evaluate(e)}serialize(){throw new Error("Method not implemented.")}keys(){return this._actual.keys()}negate(){return this._actual}}class m{constructor(e,t,i){this.key=e,this.value=t,this.negated=i,this.type=5}static create(e,t,i=null){if("boolean"==typeof t)return(t?v:u).create(e,i);var n=r.get(e);return"boolean"!=typeof n?new m(e,t,i):(t===(n?"true":"false")?d:h).INSTANCE}cmp(e){return e.type!==this.type?this.type-e.type:T(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type&&this.key===e.key&&this.value===e.value}substituteConstants(){var e=r.get(this.key);return"boolean"!=typeof e?this:(this.value===(e?"true":"false")?d:h).INSTANCE}evaluate(e){return e.getValue(this.key)!=this.value}serialize(){return`${this.key} != '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=g.create(this.key,this.value,this)),this.negated}}class v{constructor(e,t){this.key=e,this.negated=t,this.type=3}static create(e,t=null){var i=r.get(e);return"boolean"==typeof i?(i?d:h).INSTANCE:new v(e,t)}cmp(e){return e.type!==this.type?this.type-e.type:I(this.key,e.key)}equals(e){return e.type===this.type&&this.key===e.key}substituteConstants(){var e=r.get(this.key);return"boolean"==typeof e?(e?d:h).INSTANCE:this}evaluate(e){return!e.getValue(this.key)}serialize(){return"!"+this.key}keys(){return[this.key]}negate(){return this.negated||(this.negated=u.create(this.key,this)),this.negated}}function b(e,t){var i;return"string"==typeof e&&(i=parseFloat(e),isNaN(i)||(e=i)),"string"==typeof e||"number"==typeof e?t(e):d.INSTANCE}class _{constructor(e,t,i){this.key=e,this.value=t,this.negated=i,this.type=12}static create(e,t,i=null){return b(t,t=>new _(e,t,i))}cmp(e){return e.type!==this.type?this.type-e.type:T(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type&&this.key===e.key&&this.value===e.value}substituteConstants(){return this}evaluate(e){return"string"!=typeof this.value&&parseFloat(e.getValue(this.key))>this.value}serialize(){return`${this.key} > ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=y.create(this.key,this.value,this)),this.negated}}class w{constructor(e,t,i){this.key=e,this.value=t,this.negated=i,this.type=13}static create(e,t,i=null){return b(t,t=>new w(e,t,i))}cmp(e){return e.type!==this.type?this.type-e.type:T(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type&&this.key===e.key&&this.value===e.value}substituteConstants(){return this}evaluate(e){return"string"!=typeof this.value&&parseFloat(e.getValue(this.key))>=this.value}serialize(){return`${this.key} >= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=C.create(this.key,this.value,this)),this.negated}}class C{constructor(e,t,i){this.key=e,this.value=t,this.negated=i,this.type=14}static create(e,t,i=null){return b(t,t=>new C(e,t,i))}cmp(e){return e.type!==this.type?this.type-e.type:T(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type&&this.key===e.key&&this.value===e.value}substituteConstants(){return this}evaluate(e){return"string"!=typeof this.value&&parseFloat(e.getValue(this.key))<this.value}serialize(){return`${this.key} < ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=w.create(this.key,this.value,this)),this.negated}}class y{constructor(e,t,i){this.key=e,this.value=t,this.negated=i,this.type=15}static create(e,t,i=null){return b(t,t=>new y(e,t,i))}cmp(e){return e.type!==this.type?this.type-e.type:T(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type&&this.key===e.key&&this.value===e.value}substituteConstants(){return this}evaluate(e){return"string"!=typeof this.value&&parseFloat(e.getValue(this.key))<=this.value}serialize(){return`${this.key} <= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=_.create(this.key,this.value,this)),this.negated}}class x{constructor(e,t){this.key=e,this.regexp=t,this.type=7,this.negated=null}static create(e,t){return new x(e,t)}cmp(e){if(e.type!==this.type)return this.type-e.type;if(this.key<e.key)return-1;if(this.key>e.key)return 1;var t=this.regexp?this.regexp.source:"";return t<(e=e.regexp?e.regexp.source:"")?-1:e<t?1:0}equals(e){if(e.type!==this.type)return!1;var t=this.regexp?this.regexp.source:"",i=e.regexp?e.regexp.source:"";return this.key===e.key&&t===i}substituteConstants(){return this}evaluate(e){return e=e.getValue(this.key),!!this.regexp&&this.regexp.test(e)}serialize(){var e=this.regexp?`/${this.regexp.source}/${this.regexp.ignoreCase?"i":""}`:"/invalid/";return`${this.key} =~ ${e}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=S.create(this)),this.negated}}class S{constructor(e){this._actual=e,this.type=8}static create(e){return new S(e)}cmp(e){return e.type!==this.type?this.type-e.type:this._actual.cmp(e._actual)}equals(e){return e.type===this.type&&this._actual.equals(e._actual)}substituteConstants(){return this}evaluate(e){return!this._actual.evaluate(e)}serialize(){throw new Error("Method not implemented.")}keys(){return this._actual.keys()}negate(){return this._actual}}function k(e){let t=null;for(let n=0,o=e.length;n<o;n++){var i=e[n].substituteConstants();if(e[n]!==i&&null===t){t=[];for(let i=0;i<n;i++)t[i]=e[i]}null!==t&&(t[n]=i)}return null===t?e:t}class D{constructor(e,t){this.expr=e,this.negated=t,this.type=6}static create(e,t){return D._normalizeArr(e,t)}cmp(e){if(e.type!==this.type)return this.type-e.type;if(this.expr.length<e.expr.length)return-1;if(this.expr.length>e.expr.length)return 1;for(let i=0,n=this.expr.length;i<n;i++){var t=c(this.expr[i],e.expr[i]);if(0!==t)return t}return 0}equals(e){if(e.type!==this.type)return!1;if(this.expr.length!==e.expr.length)return!1;for(let t=0,i=this.expr.length;t<i;t++)if(!this.expr[t].equals(e.expr[t]))return!1;return!0}substituteConstants(){var e=k(this.expr);return e===this.expr?this:D.create(e,this.negated)}evaluate(e){for(let t=0,i=this.expr.length;t<i;t++)if(!this.expr[t].evaluate(e))return!1;return!0}static _normalizeArr(e,t){const i=[];let n=!1;for(const t of e)if(t)if(1!==t.type){if(0===t.type)return d.INSTANCE;6!==t.type?i.push(t):i.push(...t.expr)}else n=!0;if(0===i.length&&n)return h.INSTANCE;if(0!==i.length){if(1===i.length)return i[0];i.sort(c);for(let e=1;e<i.length;e++)i[e-1].equals(i[e])&&(i.splice(e,1),e--);if(1===i.length)return i[0];for(;1<i.length;){const e=i[i.length-1];if(9!==e.type)break;i.pop();const t=i.pop();var o=0===i.length;(o=L.create(e.expr.map(e=>D.create([e,t],null)),null,o))&&(i.push(o),i.sort(c))}return 1===i.length?i[0]:new D(i,t)}}serialize(){return this.expr.map(e=>e.serialize()).join(" && ")}keys(){const e=[];for(var t of this.expr)e.push(...t.keys());return e}negate(){if(!this.negated){const t=[];for(var e of this.expr)t.push(e.negate());this.negated=L.create(t,this,!0)}return this.negated}}class L{constructor(e,t){this.expr=e,this.negated=t,this.type=9}static create(e,t,i){return L._normalizeArr(e,t,i)}cmp(e){if(e.type!==this.type)return this.type-e.type;if(this.expr.length<e.expr.length)return-1;if(this.expr.length>e.expr.length)return 1;for(let i=0,n=this.expr.length;i<n;i++){var t=c(this.expr[i],e.expr[i]);if(0!==t)return t}return 0}equals(e){if(e.type!==this.type)return!1;if(this.expr.length!==e.expr.length)return!1;for(let t=0,i=this.expr.length;t<i;t++)if(!this.expr[t].equals(e.expr[t]))return!1;return!0}substituteConstants(){var e=k(this.expr);return e===this.expr?this:L.create(e,this.negated,!1)}evaluate(e){for(let t=0,i=this.expr.length;t<i;t++)if(this.expr[t].evaluate(e))return!0;return!1}static _normalizeArr(e,t,i){let n=[],o=!1;if(e){for(let t=0,i=e.length;t<i;t++){var r=e[t];if(r)if(0!==r.type){if(1===r.type)return h.INSTANCE;9!==r.type?n.push(r):n=n.concat(r.expr)}else o=!0}if(0===n.length&&o)return d.INSTANCE;n.sort(c)}if(0!==n.length){if(1===n.length)return n[0];for(let e=1;e<n.length;e++)n[e-1].equals(n[e])&&(n.splice(e,1),e--);if(1===n.length)return n[0];if(i){for(let e=0;e<n.length;e++)for(let t=e+1;t<n.length;t++)M(n[e],n[t])&&(n.splice(t,1),t--);if(1===n.length)return n[0]}return new L(n,t)}}serialize(){return this.expr.map(e=>e.serialize()).join(" || ")}keys(){const e=[];for(var t of this.expr)e.push(...t.keys());return e}negate(){if(!this.negated){let n=[];for(var e of this.expr)n.push(e.negate());for(;1<n.length;){var t=n.shift(),i=n.shift();const e=[];for(const n of A(t))for(const t of A(i))e.push(D.create([n,t],null));t=0===n.length,n.unshift(L.create(e,null,t))}this.negated=n[0]}return this.negated}}class O extends u{constructor(e,t,i){super(e,null),this._defaultValue=t,"object"==typeof i?O._info.push(Object.assign(Object.assign({},i),{key:e})):!0!==i&&O._info.push({key:e,description:i,type:null!=t?typeof t:void 0})}static all(){return O._info.values()}bindTo(e){return e.createKey(this.key,this._defaultValue)}getValue(e){return e.getContextKeyValue(this.key)}toNegated(){return this.negate()}isEqualTo(e){return g.create(this.key,e)}}O._info=[];const E=Object(i.c)("contextKeyService"),N="setContext";function I(e,t){return e<t?-1:t<e?1:0}function T(e,t,i,n){return e<i?-1:i<e?1:t<n?-1:n<t?1:0}function M(e,t){if(6===t.type&&9!==e.type&&6!==e.type)for(const i of t.expr)if(e.equals(i))return!0;const i=A(e.negate()).concat(A(t));i.sort(c);for(let e=0;e<i.length;e++){const t=i[e].negate();for(let o=e+1;o<i.length;o++){var n=i[o];if(t.equals(n))return!0}}return!1}function A(e){return 9===e.type?e.expr:[e]}},function(e,t,i){"use strict";i.d(t,"E",(function(){return g})),i.d(t,"I",(function(){return p})),i.d(t,"H",(function(){return f})),i.d(t,"t",(function(){return n})),i.d(t,"C",(function(){return o})),i.d(t,"h",(function(){return r})),i.d(t,"J",(function(){return m})),i.d(t,"D",(function(){return s})),i.d(t,"n",(function(){return v})),i.d(t,"r",(function(){return a})),i.d(t,"y",(function(){return b})),i.d(t,"z",(function(){return _})),i.d(t,"d",(function(){return w})),i.d(t,"u",(function(){return C})),i.d(t,"B",(function(){return y})),i.d(t,"p",(function(){return x})),i.d(t,"m",(function(){return S})),i.d(t,"i",(function(){return k})),i.d(t,"w",(function(){return D})),i.d(t,"f",(function(){return L})),i.d(t,"e",(function(){return O})),i.d(t,"q",(function(){return E})),i.d(t,"G",(function(){return N})),i.d(t,"b",(function(){return I})),i.d(t,"s",(function(){return T})),i.d(t,"a",(function(){return M})),i.d(t,"g",(function(){return A})),i.d(t,"j",(function(){return P})),i.d(t,"x",(function(){return R})),i.d(t,"v",(function(){return F})),i.d(t,"c",(function(){return j})),i.d(t,"A",(function(){return B})),i.d(t,"o",(function(){return W})),i.d(t,"l",(function(){return V})),i.d(t,"k",(function(){return z})),i.d(t,"F",(function(){return H}));var n,o,r,s,a,l=i(35),c=i(3),d=(t=i(85),i(6)),h=i(2),u=i(23);class g{static getLanguageId(e){return(255&e)>>>0}static getTokenType(e){return(1792&e)>>>8}static getFontStyle(e){return(14336&e)>>>11}static getForeground(e){return(8372224&e)>>>14}static getBackground(e){return(4286578688&e)>>>23}static getClassNameFromMetadata(e){let t="mtk"+this.getForeground(e);return 1&(e=this.getFontStyle(e))&&(t+=" mtki"),2&e&&(t+=" mtkb"),4&e&&(t+=" mtku"),t}static getInlineStyleFromMetadata(e,t){var i=this.getForeground(e);e=this.getFontStyle(e);let n=`color: ${t[i]};`;return 1&e&&(n+="font-style: italic;"),2&e&&(n+="font-weight: bold;"),4&e&&(n+="text-decoration: underline;"),n}}const p=function(){let e=Object.create(null);return e[0]="symbol-method",e[1]="symbol-function",e[2]="symbol-constructor",e[3]="symbol-field",e[4]="symbol-variable",e[5]="symbol-class",e[6]="symbol-struct",e[7]="symbol-interface",e[8]="symbol-module",e[9]="symbol-property",e[10]="symbol-event",e[11]="symbol-operator",e[12]="symbol-unit",e[13]="symbol-value",e[14]="symbol-constant",e[15]="symbol-enum",e[16]="symbol-enum-member",e[17]="symbol-keyword",e[27]="symbol-snippet",e[18]="symbol-text",e[19]="symbol-color",e[20]="symbol-file",e[21]="symbol-reference",e[22]="symbol-customcolor",e[23]="symbol-folder",e[24]="symbol-type-parameter",e[25]="account",e[26]="issues",function(t){var i=e[t];let n=i&&u.d.get(i);return n||(console.info("No codicon found for CompletionItemKind "+t),n=u.b.symbolProperty),n.classNames}}();let f=function(){let e=Object.create(null);return e.method=0,e.function=1,e.constructor=2,e.field=3,e.variable=4,e.class=5,e.struct=6,e.interface=7,e.module=8,e.property=9,e.event=10,e.operator=11,e.unit=12,e.value=13,e.constant=14,e.enum=15,e["enum-member"]=16,e.enumMember=16,e.keyword=17,e.snippet=27,e.text=18,e.color=19,e.file=20,e.reference=21,e.customcolor=22,e.folder=23,e["type-parameter"]=24,e.typeParameter=24,e.account=25,e.issue=26,function(t,i){let n=e[t];return void 0!==n||i||(n=9),n}}();function m(e){return e&&l.a.isUri(e.uri)&&c.a.isIRange(e.range)&&(c.a.isIRange(e.originSelectionRange)||c.a.isIRange(e.targetSelectionRange))}(i=n=n||{})[i.Automatic=0]="Automatic",i[i.Explicit=1]="Explicit",(i=o=o||{})[i.Invoke=1]="Invoke",i[i.TriggerCharacter=2]="TriggerCharacter",i[i.ContentChange=3]="ContentChange",(i=r=r||{})[i.Text=0]="文本",i[i.Read=1]="Read",i[i.Write=2]="Write",function(e){const t=new Map;t.set("file",0),t.set("module",1),t.set("namespace",2),t.set("package",3),t.set("class",4),t.set("method",5),t.set("property",6),t.set("field",7),t.set("constructor",8),t.set("enum",9),t.set("interface",10),t.set("function",11),t.set("variable",12),t.set("constant",13),t.set("string",14),t.set("number",15),t.set("boolean",16),t.set("array",17),t.set("object",18),t.set("key",19),t.set("null",20),t.set("enum-member",21),t.set("struct",22),t.set("event",23),t.set("operator",24),t.set("type-parameter",25);const i=new Map;i.set(0,"file"),i.set(1,"module"),i.set(2,"namespace"),i.set(3,"package"),i.set(4,"class"),i.set(5,"method"),i.set(6,"property"),i.set(7,"field"),i.set(8,"constructor"),i.set(9,"enum"),i.set(10,"interface"),i.set(11,"function"),i.set(12,"variable"),i.set(13,"constant"),i.set(14,"string"),i.set(15,"number"),i.set(16,"boolean"),i.set(17,"array"),i.set(18,"object"),i.set(19,"key"),i.set(20,"null"),i.set(21,"enum-member"),i.set(22,"struct"),i.set(23,"event"),i.set(24,"operator"),i.set(25,"type-parameter"),e.fromString=function(e){return t.get(e)},e.toString=function(e){return i.get(e)},e.toCssClassName=function(e,t){var n=i.get(e);let o=n&&u.d.get("symbol-"+n);return o||(console.info("No codicon found for SymbolKind "+e),o=u.b.symbolProperty),`${t?"inline":"block"} ${o.classNames}`}}(s=s||{});class v{constructor(e){this.value=e}}v.Comment=new v("comment"),v.Imports=new v("imports"),v.Region=new v("region"),(i=a=a||{})[i.Other=0]="Other",i[i.Type=1]="类型",i[i.Parameter=2]="Parameter";const b=new t.a,_=new t.a,w=new t.a,C=new t.a,y=new t.a,x=new t.a,S=new t.a,k=new t.a,D=new t.a,L=new t.a,O=new t.a,E=new t.a,N=new t.a,I=new t.a,T=new t.a,M=new t.a,A=new t.a,P=new t.a,R=new t.a,F=new t.a,j=new t.a,B=new t.a,W=new t.a,V=new t.a,z=new t.a,H=new class{constructor(){this._map=new Map,this._promises=new Map,this._onDidChange=new d.b,this.onDidChange=this._onDidChange.event,this._colorMap=null}fire(e){this._onDidChange.fire({changedLanguages:e,changedColorMap:!1})}register(e,t){return this._map.set(e,t),this.fire([e]),Object(h.i)(()=>{this._map.get(e)===t&&(this._map.delete(e),this.fire([e]))})}registerPromise(e,t){let i=null,n=!1;return this._promises.set(e,t.then(t=>{this._promises.delete(e),!n&&t&&(i=this.register(e,t))})),Object(h.i)(()=>{n=!0,i&&i.dispose()})}getPromise(e){var t=this.get(e);if(t)return Promise.resolve(t);const i=this._promises.get(e);return i?i.then(t=>this.get(e)):null}get(e){return this._map.get(e)||null}setColorMap(e){this._colorMap=e,this._onDidChange.fire({changedLanguages:Array.from(this._map.keys()),changedColorMap:!0})}getColorMap(){return this._colorMap}getDefaultBackground(){return this._colorMap&&2<this._colorMap.length?this._colorMap[2]:null}}},function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));class n{constructor(e,t){this.lineNumber=e,this.column=t}with(e=this.lineNumber,t=this.column){return e===this.lineNumber&&t===this.column?this:new n(e,t)}delta(e=0,t=0){return this.with(this.lineNumber+e,this.column+t)}equals(e){return n.equals(this,e)}static equals(e,t){return!e&&!t||!!e&&!!t&&e.lineNumber===t.lineNumber&&e.column===t.column}isBefore(e){return n.isBefore(this,e)}static isBefore(e,t){return e.lineNumber<t.lineNumber||!(t.lineNumber<e.lineNumber)&&e.column<t.column}isBeforeOrEqual(e){return n.isBeforeOrEqual(this,e)}static isBeforeOrEqual(e,t){return e.lineNumber<t.lineNumber||!(t.lineNumber<e.lineNumber)&&e.column<=t.column}static compare(e,t){var i=0|e.lineNumber,n=0|t.lineNumber;return i!=n?i-n:(0|e.column)-(0|t.column)}clone(){return new n(this.lineNumber,this.column)}toString(){return"("+this.lineNumber+","+this.column+")"}static lift(e){return new n(e.lineNumber,e.column)}static isIPosition(e){return e&&"number"==typeof e.lineNumber&&"number"==typeof e.column}}},function(e,t){function i(e,t,i,n,o,r,s){try{var a=e[r](s),l=a.value}catch(e){return void i(e)}a.done?t(l):Promise.resolve(l).then(n,o)}e.exports=function(e){return function(){var t=this,n=arguments;return new Promise((function(o,r){var s=e.apply(t,n);function a(e){i(s,o,r,a,l,"next",e)}function l(e){i(s,o,r,a,l,"throw",e)}a(void 0)}))}},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,i){"use strict";function n(e,t){return t=Math.pow(10,t),Math.round(e*t)/t}i.d(t,"c",(function(){return o})),i.d(t,"b",(function(){return s})),i.d(t,"a",(function(){return a}));class o{constructor(e,t,i,o=1){this._rgbaBrand=void 0,this.r=0|Math.min(255,Math.max(0,e)),this.g=0|Math.min(255,Math.max(0,t)),this.b=0|Math.min(255,Math.max(0,i)),this.a=n(Math.max(Math.min(1,o),0),3)}static equals(e,t){return e.r===t.r&&e.g===t.g&&e.b===t.b&&e.a===t.a}}class r{constructor(e,t,i,o){this._hslaBrand=void 0,this.h=0|Math.max(Math.min(360,e),0),this.s=n(Math.max(Math.min(1,t),0),3),this.l=n(Math.max(Math.min(1,i),0),3),this.a=n(Math.max(Math.min(1,o),0),3)}static equals(e,t){return e.h===t.h&&e.s===t.s&&e.l===t.l&&e.a===t.a}static fromRGBA(e){var t=e.r/255,i=e.g/255,n=e.b/255,o=e.a,s=Math.max(t,i,n),a=Math.min(t,i,n);let l=0,c=0;e=(a+s)/2;var d=s-a;if(0<d){switch(c=Math.min(e<=.5?d/(2*e):d/(2-2*e),1),s){case t:l=(i-n)/d+(i<n?6:0);break;case i:l=(n-t)/d+2;break;case n:l=(t-i)/d+4}l*=60,l=Math.round(l)}return new r(l,c,e,o)}static _hue2rgb(e,t,i){return i<0&&(i+=1),1<i&&--i,i<1/6?e+6*(t-e)*i:i<.5?t:i<2/3?e+(t-e)*(2/3-i)*6:e}static toRGBA(e){var t=e.h/360,{s:i,l:n,a:e}=e;let s,a,l;return 0===i?s=a=l=n:(i=2*n-(n=n<.5?n*(1+i):n+i-n*i),s=r._hue2rgb(i,n,t+1/3),a=r._hue2rgb(i,n,t),l=r._hue2rgb(i,n,t-1/3)),new o(Math.round(255*s),Math.round(255*a),Math.round(255*l),e)}}class s{constructor(e,t,i,o){this._hsvaBrand=void 0,this.h=0|Math.max(Math.min(360,e),0),this.s=n(Math.max(Math.min(1,t),0),3),this.v=n(Math.max(Math.min(1,i),0),3),this.a=n(Math.max(Math.min(1,o),0),3)}static equals(e,t){return e.h===t.h&&e.s===t.s&&e.v===t.v&&e.a===t.a}static fromRGBA(e){var t=e.r/255,i=e.g/255,n=e.b/255,o=Math.max(t,i,n),r=o-Math.min(t,i,n),a=0===o?0:r/o;let l;return l=0==r?0:o===t?((i-n)/r%6+6)%6:o===i?(n-t)/r+2:(t-i)/r+4,new s(Math.round(60*l),a,o,e.a)}static toRGBA(e){var{h:t,s:i,v:n,a:r}=e,i=(e=n*i)*(1-Math.abs(t/60%2-1)),n=n-e;let[s,a,l]=[0,0,0];return t<60?(s=e,a=i):t<120?(s=i,a=e):t<180?(a=e,l=i):t<240?(a=i,l=e):t<300?(s=i,l=e):t<=360&&(s=e,l=i),s=Math.round(255*(s+n)),a=Math.round(255*(a+n)),l=Math.round(255*(l+n)),new o(s,a,l,r)}}class a{constructor(e){if(!e)throw new Error("颜色需要一个值");if(e instanceof o)this.rgba=e;else if(e instanceof r)this._hsla=e,this.rgba=r.toRGBA(e);else{if(!(e instanceof s))throw new Error("无效颜色参数");this._hsva=e,this.rgba=s.toRGBA(e)}}static fromHex(e){return a.Format.CSS.parseHex(e)||a.red}get hsla(){return this._hsla||r.fromRGBA(this.rgba)}get hsva(){return this._hsva||s.fromRGBA(this.rgba)}equals(e){return!!e&&o.equals(this.rgba,e.rgba)&&r.equals(this.hsla,e.hsla)&&s.equals(this.hsva,e.hsva)}getRelativeLuminance(){return n(.2126*a._relativeLuminanceForComponent(this.rgba.r)+.7152*a._relativeLuminanceForComponent(this.rgba.g)+.0722*a._relativeLuminanceForComponent(this.rgba.b),4)}static _relativeLuminanceForComponent(e){return(e/=255)<=.03928?e/12.92:Math.pow((.055+e)/1.055,2.4)}isLighter(){return 128<=(299*this.rgba.r+587*this.rgba.g+114*this.rgba.b)/1e3}isLighterThan(e){var t=this.getRelativeLuminance();return e.getRelativeLuminance()<t}isDarkerThan(e){return this.getRelativeLuminance()<e.getRelativeLuminance()}lighten(e){return new a(new r(this.hsla.h,this.hsla.s,this.hsla.l+this.hsla.l*e,this.hsla.a))}darken(e){return new a(new r(this.hsla.h,this.hsla.s,this.hsla.l-this.hsla.l*e,this.hsla.a))}transparent(e){var{r:t,g:i,b:n,a:r}=this.rgba;return new a(new o(t,i,n,r*e))}isTransparent(){return 0===this.rgba.a}isOpaque(){return 1===this.rgba.a}opposite(){return new a(new o(255-this.rgba.r,255-this.rgba.g,255-this.rgba.b,this.rgba.a))}toString(){return this._toString||(this._toString=a.Format.CSS.format(this)),this._toString}static getLighterColor(e,t,i){if(e.isLighterThan(t))return e;i=i||.5;var n=e.getRelativeLuminance();t=t.getRelativeLuminance();return e.lighten(i=i*(t-n)/t)}static getDarkerColor(e,t,i){if(e.isDarkerThan(t))return e;i=i||.5;var n=e.getRelativeLuminance();t=t.getRelativeLuminance();return e.darken(i=i*(n-t)/n)}}function l(e){return 2!==(e=e.toString(16)).length?"0"+e:e}function c(e){switch(e){case 48:return 0;case 49:return 1;case 50:return 2;case 51:return 3;case 52:return 4;case 53:return 5;case 54:return 6;case 55:return 7;case 56:return 8;case 57:return 9;case 97:case 65:return 10;case 98:case 66:return 11;case 99:case 67:return 12;case 100:case 68:return 13;case 101:case 69:return 14;case 102:case 70:return 15}return 0}var d;a.white=new a(new o(255,255,255,1)),a.black=new a(new o(0,0,0,1)),a.red=new a(new o(255,0,0,1)),a.blue=new a(new o(0,0,255,1)),a.cyan=new a(new o(0,255,255,1)),a.lightgrey=new a(new o(211,211,211,1)),a.transparent=new a(new o(0,0,0,0)),(t=(t=(d=a=a||{}).Format||(d.Format={})).CSS||(t.CSS={})).formatRGB=function(e){return 1===e.rgba.a?`rgb(${e.rgba.r}, ${e.rgba.g}, ${e.rgba.b})`:d.Format.CSS.formatRGBA(e)},t.formatRGBA=function(e){return`rgba(${e.rgba.r}, ${e.rgba.g}, ${e.rgba.b}, ${+e.rgba.a.toFixed(2)})`},t.formatHSL=function(e){return 1===e.hsla.a?`hsl(${e.hsla.h}, ${(100*e.hsla.s).toFixed(2)}%, ${(100*e.hsla.l).toFixed(2)}%)`:d.Format.CSS.formatHSLA(e)},t.formatHSLA=function(e){return`hsla(${e.hsla.h}, ${(100*e.hsla.s).toFixed(2)}%, ${(100*e.hsla.l).toFixed(2)}%, ${e.hsla.a.toFixed(2)})`},t.formatHex=function(e){return`#${l(e.rgba.r)}${l(e.rgba.g)}${l(e.rgba.b)}`},t.formatHexA=function(e,t=!1){return t&&1===e.rgba.a?d.Format.CSS.formatHex(e):`#${l(e.rgba.r)}${l(e.rgba.g)}${l(e.rgba.b)}${l(Math.round(255*e.rgba.a))}`},t.format=function(e){return e.isOpaque()?d.Format.CSS.formatHex(e):d.Format.CSS.formatRGBA(e)},t.parseHex=function(e){var t=e.length;if(0===t)return null;if(35!==e.charCodeAt(0))return null;if(7===t){var i=16*c(e.charCodeAt(1))+c(e.charCodeAt(2)),n=16*c(e.charCodeAt(3))+c(e.charCodeAt(4)),r=16*c(e.charCodeAt(5))+c(e.charCodeAt(6));return new d(new o(i,n,r,1))}if(9===t){i=16*c(e.charCodeAt(1))+c(e.charCodeAt(2)),n=16*c(e.charCodeAt(3))+c(e.charCodeAt(4)),r=16*c(e.charCodeAt(5))+c(e.charCodeAt(6));var s=16*c(e.charCodeAt(7))+c(e.charCodeAt(8));return new d(new o(i,n,r,s/255))}if(4!==t)return 5!==t?null:(a=c(e.charCodeAt(1)),l=c(e.charCodeAt(2)),t=c(e.charCodeAt(3)),e=c(e.charCodeAt(4)),new d(new o(16*a+a,16*l+l,16*t+t,(16*e+e)/255)));s=c(e.charCodeAt(1));var a=c(e.charCodeAt(2)),l=c(e.charCodeAt(3));return new d(new o(16*s+s,16*a+a,16*l+l))}},function(e,t,i){"use strict";i.d(t,"b",(function(){return u})),i.d(t,"i",(function(){return v})),i.d(t,"f",(function(){return b})),i.d(t,"d",(function(){return _})),i.d(t,"g",(function(){return w})),i.d(t,"h",(function(){return C})),i.d(t,"c",(function(){return y})),i.d(t,"k",(function(){return x})),i.d(t,"j",(function(){return S})),i.d(t,"a",(function(){return k})),i.d(t,"e",(function(){return O}));let n=!1,o=!1,r=!1,s=!1,a=!1,l=!1,c=void 0,d="en",h=void 0;const u="object"==typeof self?self:"object"==typeof global?global:{};let g=void 0;if(void 0!==u.vscode&&void 0!==u.vscode.process?g=u.vscode.process:"undefined"!=typeof process&&(g=process),t="string"==typeof(null===(t=null==g?void 0:g.versions)||void 0===t?void 0:t.electron)&&"renderer"===g.type,"object"!=typeof navigator||t)if("object"==typeof g){if(n="win32"===g.platform,o="darwin"===g.platform,r="linux"===g.platform,r&&!!g.env.SNAP&&g.env.SNAP_REVISION,c="en",d="en",t=g.env.VSCODE_NLS_CONFIG)try{var p=JSON.parse(t),f=p.availableLanguages["*"];c=p.locale,d=f||"en",p._translationsConfigFile}catch(e){}s=!0}else console.error("Unable to resolve platform.");else h=navigator.userAgent,n=0<=h.indexOf("Windows"),o=0<=h.indexOf("Macintosh"),l=(0<=h.indexOf("Macintosh")||0<=h.indexOf("iPad")||0<=h.indexOf("iPhone"))&&!!navigator.maxTouchPoints&&0<navigator.maxTouchPoints,r=0<=h.indexOf("Linux"),a=!0,c=navigator.language,d=c;let m=0;o?m=1:n?m=3:r&&(m=2);const v=n,b=o,_=r,w=s,C=a,y=l,x=h,S=function(){if(u.setImmediate)return u.setImmediate.bind(u);if("function"==typeof u.postMessage&&!u.importScripts){let e=[];u.addEventListener("message",t=>{if(t.data&&t.data.vscodeSetImmediateId)for(let i=0,n=e.length;i<n;i++){const n=e[i];if(n.id===t.data.vscodeSetImmediateId)return e.splice(i,1),void n.callback()}});let t=0;return i=>{var n=++t;e.push({id:n,callback:i}),u.postMessage({vscodeSetImmediateId:n},"*")}}if("function"==typeof(null==g?void 0:g.nextTick))return g.nextTick.bind(g);const e=Promise.resolve();return t=>e.then(t)}(),k=o||l?2:n?1:3;let D=!0,L=!1;function O(){if(!L){L=!0;const t=new Uint8Array(2);t[0]=1,t[1]=2;var e=new Uint16Array(t.buffer);D=513===e[0]}return D}},function(e,t,i){"use strict";i.d(t,"b",(function(){return d})),i.d(t,"g",(function(){return h})),i.d(t,"d",(function(){return o})),i.d(t,"e",(function(){return u})),i.d(t,"a",(function(){return g})),i.d(t,"f",(function(){return f})),i.d(t,"c",(function(){return m}));var n,o,r=i(23),s=i(6),a=i(2),l=i(21),c=(t=i(59),i(133));const d=Object(l.c)("themeService");function h(e){return{id:e}}function u(e){switch(e){case c.a.DARK:return"vs-dark";case c.a.HIGH_CONTRAST:return"hc-black";default:return"vs"}}(n||(n={})).isThemeColor=function(e){return e&&"object"==typeof e&&"string"==typeof e.id},function(e){e.isThemeIcon=function(e){return e&&"object"==typeof e&&"string"==typeof e.id&&(void 0===e.color||n.isThemeColor(e.color))};const t=new RegExp(`^\\$\\((${r.a.iconNameExpression}(?:${r.a.iconModifierExpression})?)\\)$`);e.fromString=function(e){if(e=t.exec(e)){var[,e]=e;return{id:e}}},e.modify=function(e,t){let i=e.id;return-1!==(e=i.lastIndexOf("~"))&&(i=i.substring(0,e)),t&&(i=`${i}~${t}`),{id:i}},e.isEqual=function(e,t){return e.id===t.id&&(null===(e=e.color)||void 0===e?void 0:e.id)===(null===(t=t.color)||void 0===t?void 0:t.id)},e.asThemeIcon=function(e,t){return{id:e.id,color:t?h(t):void 0}},e.asClassNameArray=r.a.asClassNameArray,e.asClassName=r.a.asClassName,e.asCSSSelector=r.a.asCSSSelector}(o=o||{});const g={ThemingContribution:"base.contributions.theming"};let p=new class{constructor(){this.themingParticipants=[],this.themingParticipants=[],this.onThemingParticipantAddedEmitter=new s.b}onColorThemeChange(e){return this.themingParticipants.push(e),this.onThemingParticipantAddedEmitter.fire(e),Object(a.i)(()=>{var t=this.themingParticipants.indexOf(e);this.themingParticipants.splice(t,1)})}getThemingParticipants(){return this.themingParticipants}};function f(e){return p.onColorThemeChange(e)}t.a.add(g.ThemingContribution,p);class m extends a.a{constructor(e){super(),this.themeService=e,this.theme=e.getColorTheme(),this._register(this.themeService.onDidColorThemeChange(e=>this.onThemeChange(e)))}onThemeChange(e){this.theme=e,this.updateStyles()}updateStyles(){}}},function(e,t,i){"use strict";i.d(t,"f",(function(){return o})),i.d(t,"g",(function(){return r})),i.d(t,"h",(function(){return s})),i.d(t,"e",(function(){return l})),i.d(t,"b",(function(){return c})),i.d(t,"c",(function(){return d})),i.d(t,"d",(function(){return h})),i.d(t,"a",(function(){return u}));const n=new class{constructor(){this.listeners=[],this.unexpectedErrorHandler=function(e){setTimeout(()=>{if(e.stack)throw new Error(e.message+"\n\n"+e.stack);throw e},0)}}emit(e){this.listeners.forEach(t=>{t(e)})}onUnexpectedError(e){this.unexpectedErrorHandler(e),this.emit(e)}onUnexpectedExternalError(e){this.unexpectedErrorHandler(e)}};function o(e){l(e)||n.onUnexpectedError(e)}function r(e){l(e)||n.onUnexpectedExternalError(e)}function s(e){if(e instanceof Error){var{name:t,message:i}=e;return{$isError:!0,name:t,message:i,stack:e.stacktrace||e.stack}}return e}const a="Canceled";function l(e){return e instanceof Error&&e.name===a&&e.message===a}function c(){const e=new Error(a);return e.name=e.message,e}function d(e){return e?new Error("Illegal argument: "+e):new Error("Illegal argument")}function h(e){return e?new Error("Illegal state: "+e):new Error("Illegal state")}class u extends Error{constructor(e){super("NotSupported"),e&&(this.message=e)}}},function(e,t,i){"use strict";i.d(t,"k",(function(){return l})),i.d(t,"h",(function(){return c})),i.d(t,"l",(function(){return d})),i.d(t,"a",(function(){return u})),i.d(t,"f",(function(){return g})),i.d(t,"n",(function(){return p})),i.d(t,"i",(function(){return f})),i.d(t,"j",(function(){return m})),i.d(t,"g",(function(){return v})),i.d(t,"c",(function(){return b})),i.d(t,"e",(function(){return _})),i.d(t,"m",(function(){return w})),i.d(t,"b",(function(){return C})),i.d(t,"d",(function(){return n}));var n,o=i(38),r=i(17),s=i(2),a=function(e,t,i,n){return new(i=i||Promise)((function(o,r){function s(e){try{l(n.next(e))}catch(e){r(e)}}function a(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):((t=e.value)instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};function l(e){return!!e&&"function"==typeof e.then}function c(e){const t=new o.b,i=e(t.token),n=new Promise((e,n)=>{const o=t.token.onCancellationRequested(()=>{o.dispose(),t.dispose(),n(Object(r.b)())});Promise.resolve(i).then(i=>{o.dispose(),t.dispose(),e(i)},e=>{o.dispose(),t.dispose(),n(e)})});return new class{cancel(){t.cancel()}then(e,t){return n.then(e,t)}catch(e){return this.then(void 0,e)}finally(e){return n.finally(e)}}}function d(e,t,i){return Promise.race([e,new Promise(e=>t.onCancellationRequested(()=>e(i)))])}class h{constructor(){this.activePromise=null,this.queuedPromise=null,this.queuedPromiseFactory=null}queue(e){if(this.activePromise){if(this.queuedPromiseFactory=e,!this.queuedPromise){const e=()=>{this.queuedPromise=null;var e=this.queue(this.queuedPromiseFactory);return this.queuedPromiseFactory=null,e};this.queuedPromise=new Promise(t=>{this.activePromise.then(e,e).then(t)})}return new Promise((e,t)=>{this.queuedPromise.then(e,t)})}return this.activePromise=e(),new Promise((e,t)=>{this.activePromise.then(t=>{this.activePromise=null,e(t)},e=>{this.activePromise=null,t(e)})})}}class u{constructor(e){this.defaultDelay=e,this.timeout=null,this.completionPromise=null,this.doResolve=null,this.doReject=null,this.task=null}trigger(e,t=this.defaultDelay){return this.task=e,this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise((e,t)=>{this.doResolve=e,this.doReject=t}).then(()=>{if(this.completionPromise=null,this.doResolve=null,this.task){const e=this.task;return this.task=null,e()}})),this.timeout=setTimeout(()=>{this.timeout=null,this.doResolve&&this.doResolve(null)},t),this.completionPromise}isTriggered(){return null!==this.timeout}cancel(){this.cancelTimeout(),this.completionPromise&&(this.doReject&&this.doReject(Object(r.b)()),this.completionPromise=null)}cancelTimeout(){null!==this.timeout&&(clearTimeout(this.timeout),this.timeout=null)}dispose(){this.cancel()}}class g{constructor(e){this.delayer=new u(e),this.throttler=new h}trigger(e,t){return this.delayer.trigger(()=>this.throttler.queue(e),t)}dispose(){this.delayer.dispose()}}function p(e,t){return t?new Promise((i,n)=>{const o=setTimeout(()=>{s.dispose(),i()},e),s=t.onCancellationRequested(()=>{clearTimeout(o),s.dispose(),n(Object(r.b)())})}):c(t=>p(e,t))}function f(e,t=0){const i=setTimeout(e,t);return Object(s.i)(()=>clearTimeout(i))}function m(e,t=(e=>!!e),i=null){let n=0;const o=e.length,r=()=>{if(n>=o)return Promise.resolve(i);const s=e[n++];return Promise.resolve(s()).then(e=>t(e)?Promise.resolve(e):r())};return r()}class v{constructor(e,t){this._token=-1,"function"==typeof e&&"number"==typeof t&&this.setIfNotSet(e,t)}dispose(){this.cancel()}cancel(){-1!==this._token&&(clearTimeout(this._token),this._token=-1)}cancelAndSet(e,t){this.cancel(),this._token=setTimeout(()=>{this._token=-1,e()},t)}setIfNotSet(e,t){-1===this._token&&(this._token=setTimeout(()=>{this._token=-1,e()},t))}}class b{constructor(){this._token=-1}dispose(){this.cancel()}cancel(){-1!==this._token&&(clearInterval(this._token),this._token=-1)}cancelAndSet(e,t){this.cancel(),this._token=setInterval(()=>{e()},t)}}class _{constructor(e,t){this.timeoutToken=-1,this.runner=e,this.timeout=t,this.timeoutHandler=this.onTimeout.bind(this)}dispose(){this.cancel(),this.runner=null}cancel(){this.isScheduled()&&(clearTimeout(this.timeoutToken),this.timeoutToken=-1)}schedule(e=this.timeout){this.cancel(),this.timeoutToken=setTimeout(this.timeoutHandler,e)}get delay(){return this.timeout}set delay(e){this.timeout=e}isScheduled(){return-1!==this.timeoutToken}onTimeout(){this.timeoutToken=-1,this.runner&&this.doRun()}doRun(){this.runner&&this.runner()}}let w;w="function"!=typeof requestIdleCallback||"function"!=typeof cancelIdleCallback?e=>{const t=setTimeout(()=>{const t=Date.now()+15;e(Object.freeze({didTimeout:!0,timeRemaining:()=>Math.max(0,t-Date.now())}))});let i=!1;return{dispose(){i||(i=!0,clearTimeout(t))}}}:(e,t)=>{const i=requestIdleCallback(e,"number"==typeof t?{timeout:t}:void 0);let n=!1;return{dispose(){n||(n=!0,cancelIdleCallback(i))}}};class C{constructor(e){this._didRun=!1,this._executor=()=>{try{this._value=e()}catch(e){this._error=e}finally{this._didRun=!0}},this._handle=w(()=>this._executor())}dispose(){this._handle.dispose()}get value(){if(this._didRun||(this._handle.dispose(),this._executor()),this._error)throw this._error;return this._value}get isInitialized(){return this._didRun}}(i=n=n||{}).settled=function(e){return a(this,void 0,void 0,(function*(){let t=void 0;var i=yield Promise.all(e.map(e=>e.then(e=>e,e=>{t=t||e})));if(void 0!==t)throw t;return i}))},i.withAsyncBody=function(e){return new Promise((t,i)=>a(this,void 0,void 0,(function*(){try{yield e(t,i)}catch(e){i(e)}})))}},function(e,t,i){"use strict";function n(e){return Array.isArray(e)}function o(e){return"string"==typeof e}function r(e){return!("object"!=typeof e||null===e||Array.isArray(e)||e instanceof RegExp||e instanceof Date)}function s(e){return"number"==typeof e&&!isNaN(e)}function a(e){return!0===e||!1===e}function l(e){return void 0===e}function c(e){return!d(e)}function d(e){return l(e)||null===e}function h(e,t){if(!e)throw new Error(t?`Unexpected type, expected '${t}'`:"Unexpected type")}function u(e){if(d(e))throw new Error("Assertion Failed: argument is undefined or null");return e}function g(e){return"function"==typeof e}function p(e,t){var i=Math.min(e.length,t.length);for(let n=0;n<i;n++)!function(e,t){if(o(t)){if(typeof e!==t)throw new Error("argument does not match constraint: typeof "+t)}else if(g(t)){try{if(e instanceof t)return}catch(e){}if((d(e)||e.constructor!==t)&&(1!==t.length||!0!==t.call(void 0,e)))throw new Error("argument does not match one of these constraints: arg instanceof constraint, arg.constructor === constraint, nor constraint(arg) === true")}}(e[n],t[n])}function f(e){const t=[];for(const i of function(e){let t=[],i=Object.getPrototypeOf(e);for(;Object.prototype!==i;)t=t.concat(Object.getOwnPropertyNames(i)),i=Object.getPrototypeOf(i);return t}(e))"function"==typeof e[i]&&t.push(i);return t}function m(e,t){let i={};for(const n of e)i[n]=(e=>function(){var i=Array.prototype.slice.call(arguments,0);return t(e,i)})(n);return i}function v(e){return null===e?void 0:e}function b(e,t="Unreachable"){throw new Error(t)}i.d(t,"f",(function(){return n})),i.d(t,"l",(function(){return o})),i.d(t,"k",(function(){return r})),i.d(t,"j",(function(){return s})),i.d(t,"g",(function(){return a})),i.d(t,"m",(function(){return l})),i.d(t,"h",(function(){return c})),i.d(t,"n",(function(){return d})),i.d(t,"c",(function(){return h})),i.d(t,"a",(function(){return u})),i.d(t,"i",(function(){return g})),i.d(t,"o",(function(){return p})),i.d(t,"e",(function(){return f})),i.d(t,"d",(function(){return m})),i.d(t,"p",(function(){return v})),i.d(t,"b",(function(){return b}))},function(e,t){e.exports=require("path")},function(e,t,i){"use strict";var n,o;i.d(t,"b",(function(){return n})),i.d(t,"a",(function(){return r})),i.d(t,"c",(function(){return a})),i.d(t,"d",(function(){return l})),(o=n=n||{}).serviceIds=new Map,o.DI_TARGET="$di$target",o.DI_DEPENDENCIES="$di$dependencies",o.getServiceDependencies=function(e){return e[o.DI_DEPENDENCIES]||[]};const r=a("instantiationService");function s(e,t,i,o){t[n.DI_TARGET]===t?t[n.DI_DEPENDENCIES].push({id:e,index:i,optional:o}):(t[n.DI_DEPENDENCIES]=[{id:e,index:i,optional:o}],t[n.DI_TARGET]=t)}function a(e){if(n.serviceIds.has(e))return n.serviceIds.get(e);const t=function(e,i,n){if(3!==arguments.length)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");s(t,e,n,!1)};return t.toString=()=>e,n.serviceIds.set(e,t),t}function l(e){return function(t,i,n){if(3!==arguments.length)throw new Error("@optional-decorator can only be used to decorate a parameter");s(e,t,n,!0)}}},function(e,t,i){"use strict";function n(e,t=0){return e[e.length-(1+t)]}function o(e){if(0===e.length)throw new Error("Invalid tail call");return[e.slice(0,e.length-1),e[e.length-1]]}function r(e,t,i=((e,t)=>e===t)){if(e===t)return!0;if(!e||!t)return!1;if(e.length!==t.length)return!1;for(let n=0,o=e.length;n<o;n++)if(!i(e[n],t[n]))return!1;return!0}function s(e,t,i){let n=0,o=e.length-1;for(;n<=o;){var r=(n+o)/2|0,s=i(e[r],t);if(s<0)n=1+r;else{if(!(0<s))return r;o=r-1}}return-(n+1)}function a(e,t){let i=0,n=e.length;if(0===n)return 0;for(;i<n;){var o=Math.floor((i+n)/2);t(e[o])?n=o:i=o+1}return i}function l(e,t,i){if((e|=0)>=t.length)throw new TypeError("invalid index");var n,o=t[Math.floor(t.length*Math.random())];let r=[],s=[],a=[];for(n of t){var c=i(n,o);(c<0?r:0<c?s:a).push(n)}return e<r.length?l(e,r,i):e<r.length+a.length?a[0]:l(e-(r.length+a.length),s,i)}function c(e,t){const i=[];let n=void 0;for(const o of e.slice(0).sort(t))n&&0===t(n[0],o)?n.push(o):(n=[o],i.push(n));return i}function d(e){return e.filter(e=>!!e)}function h(e){return!Array.isArray(e)||0===e.length}function u(e){return Array.isArray(e)&&0<e.length}function g(e,t=(e=>e)){const i=new Set;return e.filter(e=>(e=t(e),!i.has(e)&&(i.add(e),!0)))}function p(e,t){if(-1!==(t=function(e,t){for(let i=e.length-1;0<=i;i--){if(t(e[i]))return i}return-1}(e,t)))return e[t]}function f(e,t){return 0<e.length?e[0]:t}function m(e){return[].concat(...e)}function v(e,t){let i="number"==typeof t?e:0;"number"==typeof t?i=e:(i=0,t=e);const n=[];if(i<=t)for(let e=i;e<t;e++)n.push(e);else for(let e=i;e>t;e--)n.push(e);return n}function b(e,t,i){const n=e.slice(0,t);return t=e.slice(t),n.concat(i,t)}function _(e,t){var i=e.indexOf(t);-1<i&&(e.splice(i,1),e.unshift(t))}function w(e,t){var i=e.indexOf(t);-1<i&&(e.splice(i,1),e.push(t))}function C(e){return Array.isArray(e)?e:[e]}function y(e,t,i,n){return t=x(e,t),i=e.splice(t,i),function(e,t,i){var n=x(e,t),o=(t=e.length,i.length);e.length=t+o;for(let i=t-1;i>=n;i--)e[i+o]=e[i];for(let t=0;t<o;t++)e[t+n]=i[t]}(e,t,n),i}function x(e,t){return t<0?Math.max(t+e.length,0):Math.min(t,e.length)}i.d(t,"t",(function(){return n})),i.d(t,"u",(function(){return o})),i.d(t,"g",(function(){return r})),i.d(t,"d",(function(){return s})),i.d(t,"h",(function(){return a})),i.d(t,"q",(function(){return l})),i.d(t,"l",(function(){return c})),i.d(t,"e",(function(){return d})),i.d(t,"m",(function(){return h})),i.d(t,"n",(function(){return u})),i.d(t,"f",(function(){return g})),i.d(t,"i",(function(){return p})),i.d(t,"j",(function(){return f})),i.d(t,"k",(function(){return m})),i.d(t,"r",(function(){return v})),i.d(t,"b",(function(){return b})),i.d(t,"p",(function(){return _})),i.d(t,"o",(function(){return w})),i.d(t,"c",(function(){return C})),i.d(t,"s",(function(){return y})),i.d(t,"a",(function(){return S}));class S{constructor(e){this.items=e,this.firstIdx=0,this.lastIdx=this.items.length-1}takeWhile(e){let t=this.firstIdx;for(;t<this.items.length&&e(this.items[t]);)t++;var i=t===this.firstIdx?null:this.items.slice(this.firstIdx,t);return this.firstIdx=t,i}takeFromEndWhile(e){let t=this.lastIdx;for(;0<=t&&e(this.items[t]);)t--;var i=t===this.lastIdx?null:this.items.slice(t+1,this.lastIdx+1);return this.lastIdx=t,i}peek(){return this.items[this.firstIdx]}}},function(e,t,i){"use strict";i.d(t,"d",(function(){return s})),i.d(t,"e",(function(){return a})),i.d(t,"c",(function(){return l})),i.d(t,"b",(function(){return c})),i.d(t,"a",(function(){return n}));var n,o=i(6);const r=new class{constructor(){this._icons=new Map,this._onDidRegister=new o.b}add(e){const t=this._icons.get(e.id);t?e.description?t.description=e.description:console.error("Duplicate registration of codicon "+e.id):(this._icons.set(e.id,e),this._onDidRegister.fire(e))}get(e){return this._icons.get(e)}get all(){return this._icons.values()}get onDidRegister(){return this._onDidRegister.event}},s=r;function a(e,t){return new c(e,t)}function l(e){return e?e.replace(/\$\((.*?)\)/g,(e,t)=>` ${t} `).trim():""}class c{constructor(e,t,i){this.id=e,this.definition=t,this.description=i,r.add(this)}get classNames(){return"codicon codicon-"+this.id}get classNamesArray(){return["codicon","codicon-"+this.id]}get cssSelector(){return".codicon.codicon-"+this.id}}!function(e){e.iconNameSegment="[A-Za-z0-9]+",e.iconNameExpression="[A-Za-z0-9\\-]+",e.iconModifierExpression="~[A-Za-z]+";const t=new RegExp(`^(${e.iconNameExpression})(${e.iconModifierExpression})?$`);function i(e){if(e instanceof c)return["codicon","codicon-"+e.id];if(!(e=t.exec(e.id)))return i(c.error);let[,n,o]=e;const r=["codicon","codicon-"+n];return o&&r.push("codicon-modifier-"+o.substr(1)),r}e.asClassNameArray=i,e.asClassName=function(e){return i(e).join(" ")},e.asCSSSelector=function(e){return"."+i(e).join(".")}}(n=n||{}),(i=c=c||{}).add=new i("add",{fontCharacter:"\\ea60"}),i.plus=new i("plus",i.add.definition),i.gistNew=new i("gist-new",i.add.definition),i.repoCreate=new i("repo-create",i.add.definition),i.lightbulb=new i("lightbulb",{fontCharacter:"\\ea61"}),i.lightBulb=new i("light-bulb",{fontCharacter:"\\ea61"}),i.repo=new i("repo",{fontCharacter:"\\ea62"}),i.repoDelete=new i("repo-delete",{fontCharacter:"\\ea62"}),i.gistFork=new i("gist-fork",{fontCharacter:"\\ea63"}),i.repoForked=new i("repo-forked",{fontCharacter:"\\ea63"}),i.gitPullRequest=new i("git-pull-request",{fontCharacter:"\\ea64"}),i.gitPullRequestAbandoned=new i("git-pull-request-abandoned",{fontCharacter:"\\ea64"}),i.recordKeys=new i("record-keys",{fontCharacter:"\\ea65"}),i.keyboard=new i("keyboard",{fontCharacter:"\\ea65"}),i.tag=new i("tag",{fontCharacter:"\\ea66"}),i.tagAdd=new i("tag-add",{fontCharacter:"\\ea66"}),i.tagRemove=new i("tag-remove",{fontCharacter:"\\ea66"}),i.person=new i("person",{fontCharacter:"\\ea67"}),i.personFollow=new i("person-follow",{fontCharacter:"\\ea67"}),i.personOutline=new i("person-outline",{fontCharacter:"\\ea67"}),i.personFilled=new i("person-filled",{fontCharacter:"\\ea67"}),i.gitBranch=new i("git-branch",{fontCharacter:"\\ea68"}),i.gitBranchCreate=new i("git-branch-create",{fontCharacter:"\\ea68"}),i.gitBranchDelete=new i("git-branch-delete",{fontCharacter:"\\ea68"}),i.sourceControl=new i("source-control",{fontCharacter:"\\ea68"}),i.mirror=new i("mirror",{fontCharacter:"\\ea69"}),i.mirrorPublic=new i("mirror-public",{fontCharacter:"\\ea69"}),i.star=new i("star",{fontCharacter:"\\ea6a"}),i.starAdd=new i("star-add",{fontCharacter:"\\ea6a"}),i.starDelete=new i("star-delete",{fontCharacter:"\\ea6a"}),i.starEmpty=new i("star-empty",{fontCharacter:"\\ea6a"}),i.comment=new i("comment",{fontCharacter:"\\ea6b"}),i.commentAdd=new i("comment-add",{fontCharacter:"\\ea6b"}),i.alert=new i("alert",{fontCharacter:"\\ea6c"}),i.warning=new i("warning",{fontCharacter:"\\ea6c"}),i.search=new i("search",{fontCharacter:"\\ea6d"}),i.searchSave=new i("search-save",{fontCharacter:"\\ea6d"}),i.logOut=new i("log-out",{fontCharacter:"\\ea6e"}),i.signOut=new i("sign-out",{fontCharacter:"\\ea6e"}),i.logIn=new i("log-in",{fontCharacter:"\\ea6f"}),i.signIn=new i("sign-in",{fontCharacter:"\\ea6f"}),i.eye=new i("eye",{fontCharacter:"\\ea70"}),i.eyeUnwatch=new i("eye-unwatch",{fontCharacter:"\\ea70"}),i.eyeWatch=new i("eye-watch",{fontCharacter:"\\ea70"}),i.circleFilled=new i("circle-filled",{fontCharacter:"\\ea71"}),i.primitiveDot=new i("primitive-dot",{fontCharacter:"\\ea71"}),i.closeDirty=new i("close-dirty",{fontCharacter:"\\ea71"}),i.debugBreakpoint=new i("debug-breakpoint",{fontCharacter:"\\ea71"}),i.debugBreakpointDisabled=new i("debug-breakpoint-disabled",{fontCharacter:"\\ea71"}),i.debugHint=new i("debug-hint",{fontCharacter:"\\ea71"}),i.primitiveSquare=new i("primitive-square",{fontCharacter:"\\ea72"}),i.edit=new i("edit",{fontCharacter:"\\ea73"}),i.pencil=new i("pencil",{fontCharacter:"\\ea73"}),i.info=new i("info",{fontCharacter:"\\ea74"}),i.issueOpened=new i("issue-opened",{fontCharacter:"\\ea74"}),i.gistPrivate=new i("gist-private",{fontCharacter:"\\ea75"}),i.gitForkPrivate=new i("git-fork-private",{fontCharacter:"\\ea75"}),i.lock=new i("lock",{fontCharacter:"\\ea75"}),i.mirrorPrivate=new i("mirror-private",{fontCharacter:"\\ea75"}),i.close=new i("close",{fontCharacter:"\\ea76"}),i.removeClose=new i("remove-close",{fontCharacter:"\\ea76"}),i.x=new i("x",{fontCharacter:"\\ea76"}),i.repoSync=new i("repo-sync",{fontCharacter:"\\ea77"}),i.sync=new i("sync",{fontCharacter:"\\ea77"}),i.clone=new i("clone",{fontCharacter:"\\ea78"}),i.desktopDownload=new i("desktop-download",{fontCharacter:"\\ea78"}),i.beaker=new i("beaker",{fontCharacter:"\\ea79"}),i.microscope=new i("microscope",{fontCharacter:"\\ea79"}),i.vm=new i("vm",{fontCharacter:"\\ea7a"}),i.deviceDesktop=new i("device-desktop",{fontCharacter:"\\ea7a"}),i.file=new i("file",{fontCharacter:"\\ea7b"}),i.fileText=new i("file-text",{fontCharacter:"\\ea7b"}),i.more=new i("more",{fontCharacter:"\\ea7c"}),i.ellipsis=new i("ellipsis",{fontCharacter:"\\ea7c"}),i.kebabHorizontal=new i("kebab-horizontal",{fontCharacter:"\\ea7c"}),i.mailReply=new i("mail-reply",{fontCharacter:"\\ea7d"}),i.reply=new i("reply",{fontCharacter:"\\ea7d"}),i.organization=new i("organization",{fontCharacter:"\\ea7e"}),i.organizationFilled=new i("organization-filled",{fontCharacter:"\\ea7e"}),i.organizationOutline=new i("organization-outline",{fontCharacter:"\\ea7e"}),i.newFile=new i("new-file",{fontCharacter:"\\ea7f"}),i.fileAdd=new i("file-add",{fontCharacter:"\\ea7f"}),i.newFolder=new i("new-folder",{fontCharacter:"\\ea80"}),i.fileDirectoryCreate=new i("file-directory-create",{fontCharacter:"\\ea80"}),i.trash=new i("trash",{fontCharacter:"\\ea81"}),i.trashcan=new i("trashcan",{fontCharacter:"\\ea81"}),i.history=new i("history",{fontCharacter:"\\ea82"}),i.clock=new i("clock",{fontCharacter:"\\ea82"}),i.folder=new i("folder",{fontCharacter:"\\ea83"}),i.fileDirectory=new i("file-directory",{fontCharacter:"\\ea83"}),i.symbolFolder=new i("symbol-folder",{fontCharacter:"\\ea83"}),i.logoGithub=new i("logo-github",{fontCharacter:"\\ea84"}),i.markGithub=new i("mark-github",{fontCharacter:"\\ea84"}),i.github=new i("github",{fontCharacter:"\\ea84"}),i.terminal=new i("terminal",{fontCharacter:"\\ea85"}),i.console=new i("console",{fontCharacter:"\\ea85"}),i.repl=new i("repl",{fontCharacter:"\\ea85"}),i.zap=new i("zap",{fontCharacter:"\\ea86"}),i.symbolEvent=new i("symbol-event",{fontCharacter:"\\ea86"}),i.error=new i("error",{fontCharacter:"\\ea87"}),i.stop=new i("stop",{fontCharacter:"\\ea87"}),i.variable=new i("variable",{fontCharacter:"\\ea88"}),i.symbolVariable=new i("symbol-variable",{fontCharacter:"\\ea88"}),i.array=new i("array",{fontCharacter:"\\ea8a"}),i.symbolArray=new i("symbol-array",{fontCharacter:"\\ea8a"}),i.symbolModule=new i("symbol-module",{fontCharacter:"\\ea8b"}),i.symbolPackage=new i("symbol-package",{fontCharacter:"\\ea8b"}),i.symbolNamespace=new i("symbol-namespace",{fontCharacter:"\\ea8b"}),i.symbolObject=new i("symbol-object",{fontCharacter:"\\ea8b"}),i.symbolMethod=new i("symbol-method",{fontCharacter:"\\ea8c"}),i.symbolFunction=new i("symbol-function",{fontCharacter:"\\ea8c"}),i.symbolConstructor=new i("symbol-constructor",{fontCharacter:"\\ea8c"}),i.symbolBoolean=new i("symbol-boolean",{fontCharacter:"\\ea8f"}),i.symbolNull=new i("symbol-null",{fontCharacter:"\\ea8f"}),i.symbolNumeric=new i("symbol-numeric",{fontCharacter:"\\ea90"}),i.symbolNumber=new i("symbol-number",{fontCharacter:"\\ea90"}),i.symbolStructure=new i("symbol-structure",{fontCharacter:"\\ea91"}),i.symbolStruct=new i("symbol-struct",{fontCharacter:"\\ea91"}),i.symbolParameter=new i("symbol-parameter",{fontCharacter:"\\ea92"}),i.symbolTypeParameter=new i("symbol-type-parameter",{fontCharacter:"\\ea92"}),i.symbolKey=new i("symbol-key",{fontCharacter:"\\ea93"}),i.symbolText=new i("symbol-text",{fontCharacter:"\\ea93"}),i.symbolReference=new i("symbol-reference",{fontCharacter:"\\ea94"}),i.goToFile=new i("go-to-file",{fontCharacter:"\\ea94"}),i.symbolEnum=new i("symbol-enum",{fontCharacter:"\\ea95"}),i.symbolValue=new i("symbol-value",{fontCharacter:"\\ea95"}),i.symbolRuler=new i("symbol-ruler",{fontCharacter:"\\ea96"}),i.symbolUnit=new i("symbol-unit",{fontCharacter:"\\ea96"}),i.activateBreakpoints=new i("activate-breakpoints",{fontCharacter:"\\ea97"}),i.archive=new i("archive",{fontCharacter:"\\ea98"}),i.arrowBoth=new i("arrow-both",{fontCharacter:"\\ea99"}),i.arrowDown=new i("arrow-down",{fontCharacter:"\\ea9a"}),i.arrowLeft=new i("arrow-left",{fontCharacter:"\\ea9b"}),i.arrowRight=new i("arrow-right",{fontCharacter:"\\ea9c"}),i.arrowSmallDown=new i("arrow-small-down",{fontCharacter:"\\ea9d"}),i.arrowSmallLeft=new i("arrow-small-left",{fontCharacter:"\\ea9e"}),i.arrowSmallRight=new i("arrow-small-right",{fontCharacter:"\\ea9f"}),i.arrowSmallUp=new i("arrow-small-up",{fontCharacter:"\\eaa0"}),i.arrowUp=new i("arrow-up",{fontCharacter:"\\eaa1"}),i.bell=new i("bell",{fontCharacter:"\\eaa2"}),i.bold=new i("bold",{fontCharacter:"\\eaa3"}),i.book=new i("book",{fontCharacter:"\\eaa4"}),i.bookmark=new i("bookmark",{fontCharacter:"\\eaa5"}),i.debugBreakpointConditionalUnverified=new i("debug-breakpoint-conditional-unverified",{fontCharacter:"\\eaa6"}),i.debugBreakpointConditional=new i("debug-breakpoint-conditional",{fontCharacter:"\\eaa7"}),i.debugBreakpointConditionalDisabled=new i("debug-breakpoint-conditional-disabled",{fontCharacter:"\\eaa7"}),i.debugBreakpointDataUnverified=new i("debug-breakpoint-data-unverified",{fontCharacter:"\\eaa8"}),i.debugBreakpointData=new i("debug-breakpoint-data",{fontCharacter:"\\eaa9"}),i.debugBreakpointDataDisabled=new i("debug-breakpoint-data-disabled",{fontCharacter:"\\eaa9"}),i.debugBreakpointLogUnverified=new i("debug-breakpoint-log-unverified",{fontCharacter:"\\eaaa"}),i.debugBreakpointLog=new i("debug-breakpoint-log",{fontCharacter:"\\eaab"}),i.debugBreakpointLogDisabled=new i("debug-breakpoint-log-disabled",{fontCharacter:"\\eaab"}),i.briefcase=new i("briefcase",{fontCharacter:"\\eaac"}),i.broadcast=new i("broadcast",{fontCharacter:"\\eaad"}),i.browser=new i("browser",{fontCharacter:"\\eaae"}),i.bug=new i("bug",{fontCharacter:"\\eaaf"}),i.calendar=new i("calendar",{fontCharacter:"\\eab0"}),i.caseSensitive=new i("case-sensitive",{fontCharacter:"\\eab1"}),i.check=new i("check",{fontCharacter:"\\eab2"}),i.checklist=new i("checklist",{fontCharacter:"\\eab3"}),i.chevronDown=new i("chevron-down",{fontCharacter:"\\eab4"}),i.dropDownButton=new i("drop-down-button",i.chevronDown.definition),i.chevronLeft=new i("chevron-left",{fontCharacter:"\\eab5"}),i.chevronRight=new i("chevron-right",{fontCharacter:"\\eab6"}),i.chevronUp=new i("chevron-up",{fontCharacter:"\\eab7"}),i.chromeClose=new i("chrome-close",{fontCharacter:"\\eab8"}),i.chromeMaximize=new i("chrome-maximize",{fontCharacter:"\\eab9"}),i.chromeMinimize=new i("chrome-minimize",{fontCharacter:"\\eaba"}),i.chromeRestore=new i("chrome-restore",{fontCharacter:"\\eabb"}),i.circleOutline=new i("circle-outline",{fontCharacter:"\\eabc"}),i.debugBreakpointUnverified=new i("debug-breakpoint-unverified",{fontCharacter:"\\eabc"}),i.circleSlash=new i("circle-slash",{fontCharacter:"\\eabd"}),i.circuitBoard=new i("circuit-board",{fontCharacter:"\\eabe"}),i.clearAll=new i("clear-all",{fontCharacter:"\\eabf"}),i.clippy=new i("clippy",{fontCharacter:"\\eac0"}),i.closeAll=new i("close-all",{fontCharacter:"\\eac1"}),i.cloudDownload=new i("cloud-download",{fontCharacter:"\\eac2"}),i.cloudUpload=new i("cloud-upload",{fontCharacter:"\\eac3"}),i.code=new i("code",{fontCharacter:"\\eac4"}),i.collapseAll=new i("collapse-all",{fontCharacter:"\\eac5"}),i.colorMode=new i("color-mode",{fontCharacter:"\\eac6"}),i.commentDiscussion=new i("comment-discussion",{fontCharacter:"\\eac7"}),i.compareChanges=new i("compare-changes",{fontCharacter:"\\eafd"}),i.creditCard=new i("credit-card",{fontCharacter:"\\eac9"}),i.dash=new i("dash",{fontCharacter:"\\eacc"}),i.dashboard=new i("dashboard",{fontCharacter:"\\eacd"}),i.database=new i("database",{fontCharacter:"\\eace"}),i.debugContinue=new i("debug-continue",{fontCharacter:"\\eacf"}),i.debugDisconnect=new i("debug-disconnect",{fontCharacter:"\\ead0"}),i.debugPause=new i("debug-pause",{fontCharacter:"\\ead1"}),i.debugRestart=new i("debug-restart",{fontCharacter:"\\ead2"}),i.debugStart=new i("debug-start",{fontCharacter:"\\ead3"}),i.debugStepInto=new i("debug-step-into",{fontCharacter:"\\ead4"}),i.debugStepOut=new i("debug-step-out",{fontCharacter:"\\ead5"}),i.debugStepOver=new i("debug-step-over",{fontCharacter:"\\ead6"}),i.debugStop=new i("debug-stop",{fontCharacter:"\\ead7"}),i.debug=new i("debug",{fontCharacter:"\\ead8"}),i.deviceCameraVideo=new i("device-camera-video",{fontCharacter:"\\ead9"}),i.deviceCamera=new i("device-camera",{fontCharacter:"\\eada"}),i.deviceMobile=new i("device-mobile",{fontCharacter:"\\eadb"}),i.diffAdded=new i("diff-added",{fontCharacter:"\\eadc"}),i.diffIgnored=new i("diff-ignored",{fontCharacter:"\\eadd"}),i.diffModified=new i("diff-modified",{fontCharacter:"\\eade"}),i.diffRemoved=new i("diff-removed",{fontCharacter:"\\eadf"}),i.diffRenamed=new i("diff-renamed",{fontCharacter:"\\eae0"}),i.diff=new i("diff",{fontCharacter:"\\eae1"}),i.discard=new i("discard",{fontCharacter:"\\eae2"}),i.editorLayout=new i("editor-layout",{fontCharacter:"\\eae3"}),i.emptyWindow=new i("empty-window",{fontCharacter:"\\eae4"}),i.exclude=new i("exclude",{fontCharacter:"\\eae5"}),i.extensions=new i("extensions",{fontCharacter:"\\eae6"}),i.eyeClosed=new i("eye-closed",{fontCharacter:"\\eae7"}),i.fileBinary=new i("file-binary",{fontCharacter:"\\eae8"}),i.fileCode=new i("file-code",{fontCharacter:"\\eae9"}),i.fileMedia=new i("file-media",{fontCharacter:"\\eaea"}),i.filePdf=new i("file-pdf",{fontCharacter:"\\eaeb"}),i.fileSubmodule=new i("file-submodule",{fontCharacter:"\\eaec"}),i.fileSymlinkDirectory=new i("file-symlink-directory",{fontCharacter:"\\eaed"}),i.fileSymlinkFile=new i("file-symlink-file",{fontCharacter:"\\eaee"}),i.fileZip=new i("file-zip",{fontCharacter:"\\eaef"}),i.files=new i("files",{fontCharacter:"\\eaf0"}),i.filter=new i("filter",{fontCharacter:"\\eaf1"}),i.flame=new i("flame",{fontCharacter:"\\eaf2"}),i.foldDown=new i("fold-down",{fontCharacter:"\\eaf3"}),i.foldUp=new i("fold-up",{fontCharacter:"\\eaf4"}),i.fold=new i("fold",{fontCharacter:"\\eaf5"}),i.folderActive=new i("folder-active",{fontCharacter:"\\eaf6"}),i.folderOpened=new i("folder-opened",{fontCharacter:"\\eaf7"}),i.gear=new i("gear",{fontCharacter:"\\eaf8"}),i.gift=new i("gift",{fontCharacter:"\\eaf9"}),i.gistSecret=new i("gist-secret",{fontCharacter:"\\eafa"}),i.gist=new i("gist",{fontCharacter:"\\eafb"}),i.gitCommit=new i("git-commit",{fontCharacter:"\\eafc"}),i.gitCompare=new i("git-compare",{fontCharacter:"\\eafd"}),i.gitMerge=new i("git-merge",{fontCharacter:"\\eafe"}),i.githubAction=new i("github-action",{fontCharacter:"\\eaff"}),i.githubAlt=new i("github-alt",{fontCharacter:"\\eb00"}),i.globe=new i("globe",{fontCharacter:"\\eb01"}),i.grabber=new i("grabber",{fontCharacter:"\\eb02"}),i.graph=new i("graph",{fontCharacter:"\\eb03"}),i.gripper=new i("gripper",{fontCharacter:"\\eb04"}),i.heart=new i("heart",{fontCharacter:"\\eb05"}),i.home=new i("home",{fontCharacter:"\\eb06"}),i.horizontalRule=new i("horizontal-rule",{fontCharacter:"\\eb07"}),i.hubot=new i("hubot",{fontCharacter:"\\eb08"}),i.inbox=new i("inbox",{fontCharacter:"\\eb09"}),i.issueClosed=new i("issue-closed",{fontCharacter:"\\eba4"}),i.issueReopened=new i("issue-reopened",{fontCharacter:"\\eb0b"}),i.issues=new i("issues",{fontCharacter:"\\eb0c"}),i.italic=new i("italic",{fontCharacter:"\\eb0d"}),i.jersey=new i("jersey",{fontCharacter:"\\eb0e"}),i.json=new i("json",{fontCharacter:"\\eb0f"}),i.kebabVertical=new i("kebab-vertical",{fontCharacter:"\\eb10"}),i.key=new i("key",{fontCharacter:"\\eb11"}),i.law=new i("law",{fontCharacter:"\\eb12"}),i.lightbulbAutofix=new i("lightbulb-autofix",{fontCharacter:"\\eb13"}),i.linkExternal=new i("link-external",{fontCharacter:"\\eb14"}),i.link=new i("link",{fontCharacter:"\\eb15"}),i.listOrdered=new i("list-ordered",{fontCharacter:"\\eb16"}),i.listUnordered=new i("list-unordered",{fontCharacter:"\\eb17"}),i.liveShare=new i("live-share",{fontCharacter:"\\eb18"}),i.loading=new i("loading",{fontCharacter:"\\eb19"}),i.location=new i("location",{fontCharacter:"\\eb1a"}),i.mailRead=new i("mail-read",{fontCharacter:"\\eb1b"}),i.mail=new i("mail",{fontCharacter:"\\eb1c"}),i.markdown=new i("markdown",{fontCharacter:"\\eb1d"}),i.megaphone=new i("megaphone",{fontCharacter:"\\eb1e"}),i.mention=new i("mention",{fontCharacter:"\\eb1f"}),i.milestone=new i("milestone",{fontCharacter:"\\eb20"}),i.mortarBoard=new i("mortar-board",{fontCharacter:"\\eb21"}),i.move=new i("move",{fontCharacter:"\\eb22"}),i.multipleWindows=new i("multiple-windows",{fontCharacter:"\\eb23"}),i.mute=new i("mute",{fontCharacter:"\\eb24"}),i.noNewline=new i("no-newline",{fontCharacter:"\\eb25"}),i.note=new i("note",{fontCharacter:"\\eb26"}),i.octoface=new i("octoface",{fontCharacter:"\\eb27"}),i.openPreview=new i("open-preview",{fontCharacter:"\\eb28"}),i.package_=new i("package",{fontCharacter:"\\eb29"}),i.paintcan=new i("paintcan",{fontCharacter:"\\eb2a"}),i.pin=new i("pin",{fontCharacter:"\\eb2b"}),i.play=new i("play",{fontCharacter:"\\eb2c"}),i.run=new i("run",{fontCharacter:"\\eb2c"}),i.plug=new i("plug",{fontCharacter:"\\eb2d"}),i.preserveCase=new i("preserve-case",{fontCharacter:"\\eb2e"}),i.preview=new i("preview",{fontCharacter:"\\eb2f"}),i.project=new i("project",{fontCharacter:"\\eb30"}),i.pulse=new i("pulse",{fontCharacter:"\\eb31"}),i.question=new i("question",{fontCharacter:"\\eb32"}),i.quote=new i("quote",{fontCharacter:"\\eb33"}),i.radioTower=new i("radio-tower",{fontCharacter:"\\eb34"}),i.reactions=new i("reactions",{fontCharacter:"\\eb35"}),i.references=new i("references",{fontCharacter:"\\eb36"}),i.refresh=new i("refresh",{fontCharacter:"\\eb37"}),i.regex=new i("regex",{fontCharacter:"\\eb38"}),i.remoteExplorer=new i("remote-explorer",{fontCharacter:"\\eb39"}),i.remote=new i("remote",{fontCharacter:"\\eb3a"}),i.remove=new i("remove",{fontCharacter:"\\eb3b"}),i.replaceAll=new i("replace-all",{fontCharacter:"\\eb3c"}),i.replace=new i("replace",{fontCharacter:"\\eb3d"}),i.repoClone=new i("repo-clone",{fontCharacter:"\\eb3e"}),i.repoForcePush=new i("repo-force-push",{fontCharacter:"\\eb3f"}),i.repoPull=new i("repo-pull",{fontCharacter:"\\eb40"}),i.repoPush=new i("repo-push",{fontCharacter:"\\eb41"}),i.report=new i("report",{fontCharacter:"\\eb42"}),i.requestChanges=new i("request-changes",{fontCharacter:"\\eb43"}),i.rocket=new i("rocket",{fontCharacter:"\\eb44"}),i.rootFolderOpened=new i("root-folder-opened",{fontCharacter:"\\eb45"}),i.rootFolder=new i("root-folder",{fontCharacter:"\\eb46"}),i.rss=new i("rss",{fontCharacter:"\\eb47"}),i.ruby=new i("ruby",{fontCharacter:"\\eb48"}),i.saveAll=new i("save-all",{fontCharacter:"\\eb49"}),i.saveAs=new i("save-as",{fontCharacter:"\\eb4a"}),i.save=new i("save",{fontCharacter:"\\eb4b"}),i.screenFull=new i("screen-full",{fontCharacter:"\\eb4c"}),i.screenNormal=new i("screen-normal",{fontCharacter:"\\eb4d"}),i.searchStop=new i("search-stop",{fontCharacter:"\\eb4e"}),i.server=new i("server",{fontCharacter:"\\eb50"}),i.settingsGear=new i("settings-gear",{fontCharacter:"\\eb51"}),i.settings=new i("settings",{fontCharacter:"\\eb52"}),i.shield=new i("shield",{fontCharacter:"\\eb53"}),i.smiley=new i("smiley",{fontCharacter:"\\eb54"}),i.sortPrecedence=new i("sort-precedence",{fontCharacter:"\\eb55"}),i.splitHorizontal=new i("split-horizontal",{fontCharacter:"\\eb56"}),i.splitVertical=new i("split-vertical",{fontCharacter:"\\eb57"}),i.squirrel=new i("squirrel",{fontCharacter:"\\eb58"}),i.starFull=new i("star-full",{fontCharacter:"\\eb59"}),i.starHalf=new i("star-half",{fontCharacter:"\\eb5a"}),i.symbolClass=new i("symbol-class",{fontCharacter:"\\eb5b"}),i.symbolColor=new i("symbol-color",{fontCharacter:"\\eb5c"}),i.symbolConstant=new i("symbol-constant",{fontCharacter:"\\eb5d"}),i.symbolEnumMember=new i("symbol-enum-member",{fontCharacter:"\\eb5e"}),i.symbolField=new i("symbol-field",{fontCharacter:"\\eb5f"}),i.symbolFile=new i("symbol-file",{fontCharacter:"\\eb60"}),i.symbolInterface=new i("symbol-interface",{fontCharacter:"\\eb61"}),i.symbolKeyword=new i("symbol-keyword",{fontCharacter:"\\eb62"}),i.symbolMisc=new i("symbol-misc",{fontCharacter:"\\eb63"}),i.symbolOperator=new i("symbol-operator",{fontCharacter:"\\eb64"}),i.symbolProperty=new i("symbol-property",{fontCharacter:"\\eb65"}),i.wrench=new i("wrench",{fontCharacter:"\\eb65"}),i.wrenchSubaction=new i("wrench-subaction",{fontCharacter:"\\eb65"}),i.symbolSnippet=new i("symbol-snippet",{fontCharacter:"\\eb66"}),i.tasklist=new i("tasklist",{fontCharacter:"\\eb67"}),i.telescope=new i("telescope",{fontCharacter:"\\eb68"}),i.textSize=new i("text-size",{fontCharacter:"\\eb69"}),i.threeBars=new i("three-bars",{fontCharacter:"\\eb6a"}),i.thumbsdown=new i("thumbsdown",{fontCharacter:"\\eb6b"}),i.thumbsup=new i("thumbsup",{fontCharacter:"\\eb6c"}),i.tools=new i("tools",{fontCharacter:"\\eb6d"}),i.triangleDown=new i("triangle-down",{fontCharacter:"\\eb6e"}),i.triangleLeft=new i("triangle-left",{fontCharacter:"\\eb6f"}),i.triangleRight=new i("triangle-right",{fontCharacter:"\\eb70"}),i.triangleUp=new i("triangle-up",{fontCharacter:"\\eb71"}),i.twitter=new i("twitter",{fontCharacter:"\\eb72"}),i.unfold=new i("unfold",{fontCharacter:"\\eb73"}),i.unlock=new i("unlock",{fontCharacter:"\\eb74"}),i.unmute=new i("unmute",{fontCharacter:"\\eb75"}),i.unverified=new i("unverified",{fontCharacter:"\\eb76"}),i.verified=new i("verified",{fontCharacter:"\\eb77"}),i.versions=new i("versions",{fontCharacter:"\\eb78"}),i.vmActive=new i("vm-active",{fontCharacter:"\\eb79"}),i.vmOutline=new i("vm-outline",{fontCharacter:"\\eb7a"}),i.vmRunning=new i("vm-running",{fontCharacter:"\\eb7b"}),i.watch=new i("watch",{fontCharacter:"\\eb7c"}),i.whitespace=new i("whitespace",{fontCharacter:"\\eb7d"}),i.wholeWord=new i("whole-word",{fontCharacter:"\\eb7e"}),i.window=new i("window",{fontCharacter:"\\eb7f"}),i.wordWrap=new i("word-wrap",{fontCharacter:"\\eb80"}),i.zoomIn=new i("zoom-in",{fontCharacter:"\\eb81"}),i.zoomOut=new i("zoom-out",{fontCharacter:"\\eb82"}),i.listFilter=new i("list-filter",{fontCharacter:"\\eb83"}),i.listFlat=new i("list-flat",{fontCharacter:"\\eb84"}),i.listSelection=new i("list-selection",{fontCharacter:"\\eb85"}),i.selection=new i("selection",{fontCharacter:"\\eb85"}),i.listTree=new i("list-tree",{fontCharacter:"\\eb86"}),i.debugBreakpointFunctionUnverified=new i("debug-breakpoint-function-unverified",{fontCharacter:"\\eb87"}),i.debugBreakpointFunction=new i("debug-breakpoint-function",{fontCharacter:"\\eb88"}),i.debugBreakpointFunctionDisabled=new i("debug-breakpoint-function-disabled",{fontCharacter:"\\eb88"}),i.debugStackframeActive=new i("debug-stackframe-active",{fontCharacter:"\\eb89"}),i.debugStackframeDot=new i("debug-stackframe-dot",{fontCharacter:"\\eb8a"}),i.debugStackframe=new i("debug-stackframe",{fontCharacter:"\\eb8b"}),i.debugStackframeFocused=new i("debug-stackframe-focused",{fontCharacter:"\\eb8b"}),i.debugBreakpointUnsupported=new i("debug-breakpoint-unsupported",{fontCharacter:"\\eb8c"}),i.symbolString=new i("symbol-string",{fontCharacter:"\\eb8d"}),i.debugReverseContinue=new i("debug-reverse-continue",{fontCharacter:"\\eb8e"}),i.debugStepBack=new i("debug-step-back",{fontCharacter:"\\eb8f"}),i.debugRestartFrame=new i("debug-restart-frame",{fontCharacter:"\\eb90"}),i.callIncoming=new i("call-incoming",{fontCharacter:"\\eb92"}),i.callOutgoing=new i("call-outgoing",{fontCharacter:"\\eb93"}),i.menu=new i("menu",{fontCharacter:"\\eb94"}),i.expandAll=new i("expand-all",{fontCharacter:"\\eb95"}),i.feedback=new i("feedback",{fontCharacter:"\\eb96"}),i.groupByRefType=new i("group-by-ref-type",{fontCharacter:"\\eb97"}),i.ungroupByRefType=new i("ungroup-by-ref-type",{fontCharacter:"\\eb98"}),i.account=new i("account",{fontCharacter:"\\eb99"}),i.bellDot=new i("bell-dot",{fontCharacter:"\\eb9a"}),i.debugConsole=new i("debug-console",{fontCharacter:"\\eb9b"}),i.library=new i("library",{fontCharacter:"\\eb9c"}),i.output=new i("output",{fontCharacter:"\\eb9d"}),i.runAll=new i("run-all",{fontCharacter:"\\eb9e"}),i.syncIgnored=new i("sync-ignored",{fontCharacter:"\\eb9f"}),i.pinned=new i("pinned",{fontCharacter:"\\eba0"}),i.githubInverted=new i("github-inverted",{fontCharacter:"\\eba1"}),i.debugAlt=new i("debug-alt",{fontCharacter:"\\eb91"}),i.serverProcess=new i("server-process",{fontCharacter:"\\eba2"}),i.serverEnvironment=new i("server-environment",{fontCharacter:"\\eba3"}),i.pass=new i("pass",{fontCharacter:"\\eba4"}),i.stopCircle=new i("stop-circle",{fontCharacter:"\\eba5"}),i.playCircle=new i("play-circle",{fontCharacter:"\\eba6"}),i.record=new i("record",{fontCharacter:"\\eba7"}),i.debugAltSmall=new i("debug-alt-small",{fontCharacter:"\\eba8"}),i.vmConnect=new i("vm-connect",{fontCharacter:"\\eba9"}),i.cloud=new i("cloud",{fontCharacter:"\\ebaa"}),i.merge=new i("merge",{fontCharacter:"\\ebab"}),i.exportIcon=new i("export",{fontCharacter:"\\ebac"}),i.graphLeft=new i("graph-left",{fontCharacter:"\\ebad"}),i.magnet=new i("magnet",{fontCharacter:"\\ebae"}),i.notebook=new i("notebook",{fontCharacter:"\\ebaf"}),i.redo=new i("redo",{fontCharacter:"\\ebb0"}),i.checkAll=new i("check-all",{fontCharacter:"\\ebb1"}),i.pinnedDirty=new i("pinned-dirty",{fontCharacter:"\\ebb2"}),i.passFilled=new i("pass-filled",{fontCharacter:"\\ebb3"}),i.circleLargeFilled=new i("circle-large-filled",{fontCharacter:"\\ebb4"}),i.circleLargeOutline=new i("circle-large-outline",{fontCharacter:"\\ebb5"}),i.combine=new i("combine",{fontCharacter:"\\ebb6"}),i.gather=new i("gather",{fontCharacter:"\\ebb6"}),i.table=new i("table",{fontCharacter:"\\ebb7"}),i.variableGroup=new i("variable-group",{fontCharacter:"\\ebb8"}),i.typeHierarchy=new i("type-hierarchy",{fontCharacter:"\\ebb9"}),i.typeHierarchySub=new i("type-hierarchy-sub",{fontCharacter:"\\ebba"}),i.typeHierarchySuper=new i("type-hierarchy-super",{fontCharacter:"\\ebbb"}),i.gitPullRequestCreate=new i("git-pull-request-create",{fontCharacter:"\\ebbc"}),i.runAbove=new i("run-above",{fontCharacter:"\\ebbd"}),i.runBelow=new i("run-below",{fontCharacter:"\\ebbe"}),i.notebookTemplate=new i("notebook-template",{fontCharacter:"\\ebbf"}),i.debugRerun=new i("debug-rerun",{fontCharacter:"\\ebc0"}),i.workspaceTrusted=new i("workspace-trusted",{fontCharacter:"\\ebc1"}),i.workspaceUntrusted=new i("workspace-untrusted",{fontCharacter:"\\ebc2"}),i.workspaceUnspecified=new i("workspace-unspecified",{fontCharacter:"\\ebc3"}),i.terminalCmd=new i("terminal-cmd",{fontCharacter:"\\ebc4"}),i.terminalDebian=new i("terminal-debian",{fontCharacter:"\\ebc5"}),i.terminalLinux=new i("terminal-linux",{fontCharacter:"\\ebc6"}),i.terminalPowershell=new i("terminal-powershell",{fontCharacter:"\\ebc7"}),i.terminalTmux=new i("terminal-tmux",{fontCharacter:"\\ebc8"}),i.terminalUbuntu=new i("terminal-ubuntu",{fontCharacter:"\\ebc9"}),i.terminalBash=new i("terminal-bash",{fontCharacter:"\\ebca"}),i.arrowSwap=new i("arrow-swap",{fontCharacter:"\\ebcb"}),i.copy=new i("copy",{fontCharacter:"\\ebcc"}),i.personAdd=new i("person-add",{fontCharacter:"\\ebcd"}),i.filterFilled=new i("filter-filled",{fontCharacter:"\\ebce"}),i.wand=new i("wand",{fontCharacter:"\\ebcf"}),i.debugLineByLine=new i("debug-line-by-line",{fontCharacter:"\\ebd0"}),i.inspect=new i("inspect",{fontCharacter:"\\ebd1"}),i.layers=new i("layers",{fontCharacter:"\\ebd2"}),i.layersDot=new i("layers-dot",{fontCharacter:"\\ebd3"}),i.layersActive=new i("layers-active",{fontCharacter:"\\ebd4"}),i.compass=new i("compass",{fontCharacter:"\\ebd5"}),i.compassDot=new i("compass-dot",{fontCharacter:"\\ebd6"}),i.compassActive=new i("compass-active",{fontCharacter:"\\ebd7"}),i.azure=new i("azure",{fontCharacter:"\\ebd8"}),i.issueDraft=new i("issue-draft",{fontCharacter:"\\ebd9"}),i.gitPullRequestClosed=new i("git-pull-request-closed",{fontCharacter:"\\ebda"}),i.gitPullRequestDraft=new i("git-pull-request-draft",{fontCharacter:"\\ebdb"}),i.debugAll=new i("debug-all",{fontCharacter:"\\ebdc"}),i.debugCoverage=new i("debug-coverage",{fontCharacter:"\\ebdd"}),i.runErrors=new i("run-errors",{fontCharacter:"\\ebde"}),i.folderLibrary=new i("folder-library",{fontCharacter:"\\ebdf"}),i.debugContinueSmall=new i("debug-continue-small",{fontCharacter:"\\ebe0"}),i.beakerStop=new i("beaker-stop",{fontCharacter:"\\ebe1"}),i.graphLine=new i("graph-line",{fontCharacter:"\\ebe2"}),i.graphScatter=new i("graph-scatter",{fontCharacter:"\\ebe3"}),i.pieChart=new i("pie-chart",{fontCharacter:"\\ebe4"}),i.bracket=new i("bracket",i.json.definition),i.bracketDot=new i("bracket-dot",{fontCharacter:"\\ebe5"}),i.bracketError=new i("bracket-error",{fontCharacter:"\\ebe6"}),i.lockSmall=new i("lock-small",{fontCharacter:"\\ebe7"}),i.azureDevops=new i("azure-devops",{fontCharacter:"\\ebe8"}),i.verifiedFilled=new i("verified-filled",{fontCharacter:"\\ebe9"})},function(e,t){e.exports=require("electron")},function(e,t,i){"use strict";i.d(t,"g",(function(){return n})),i.d(t,"f",(function(){return o})),i.d(t,"e",(function(){return s})),i.d(t,"d",(function(){return a})),i.d(t,"c",(function(){return l})),i.d(t,"b",(function(){return c})),i.d(t,"a",(function(){return d})),i.d(t,"i",(function(){return u})),i.d(t,"h",(function(){return g})),i.d(t,"l",(function(){return p})),i.d(t,"k",(function(){return f})),i.d(t,"j",(function(){return m}));var n=Symbol(),o=Symbol(),r=Symbol(),s=Symbol(),a=Symbol(),l=Symbol(),c=Symbol(),d=Symbol(),h=Symbol(),u=function(){if("win32"===process.platform){if("x64"===process.arch)return n;if("ia32"===process.arch)return o;if("arm"===process.arch)return r;if("arm64"===process.arch)return s}if("darwin"===process.platform){if("x64"===process.arch)return a;if("arm64"===process.arch)return l}if("linux"===process.platform){if("x64"===process.arch)return c;if("arm64"===process.arch)return d}return h},g=function(){var e=u();return[o,r].includes(e)?o:e},p=function(){return[r,s,o,n].includes(u())},f=function(){return[a,l].includes(u())},m=function(){return[c,d].includes(u())}},function(e,t,i){"use strict";i.d(t,"b",(function(){return g})),i.d(t,"f",(function(){return p})),i.d(t,"c",(function(){return f})),i.d(t,"d",(function(){return b})),i.d(t,"e",(function(){return _})),i.d(t,"g",(function(){return w}));var n=i(17),o=i(12),r=i(3),s=i(29),a=i(42),l=i(49),c=i(189);i.d(t,"a",(function(){return c.a}));const d=()=>!0,h=()=>!1,u=e=>" "===e||"\t"===e;class g{constructor(e,t,i){this._cursorMoveConfigurationBrand=void 0,this._languageId=e;const n=i.options;if(i=n.get(129),this.readOnly=n.get(80),this.tabSize=t.tabSize,this.indentSize=t.indentSize,this.insertSpaces=t.insertSpaces,this.stickyTabStops=n.get(103),this.lineHeight=n.get(58),this.pageSize=Math.max(1,Math.floor(i.height/this.lineHeight)-2),this.useTabStops=n.get(114),this.wordSeparators=n.get(115),this.emptySelectionClipboard=n.get(32),this.copyWithSyntaxHighlighting=n.get(21),this.multiCursorMergeOverlapping=n.get(68),this.multiCursorPaste=n.get(70),this.autoClosingBrackets=n.get(5),this.autoClosingQuotes=n.get(8),this.autoClosingDelete=n.get(6),this.autoClosingOvertype=n.get(7),this.autoSurround=n.get(11),this.autoIndent=n.get(9),this.surroundingPairs={},this._electricChars=null,this.shouldAutoCloseBefore={quote:g._getShouldAutoClose(e,this.autoClosingQuotes),bracket:g._getShouldAutoClose(e,this.autoClosingBrackets)},this.autoClosingPairs=l.b.getAutoClosingPairs(e),e=g._getSurroundingPairs(e))for(const t of e)this.surroundingPairs[t.open]=t.close}static shouldRecreate(e){return e.hasChanged(129)||e.hasChanged(115)||e.hasChanged(32)||e.hasChanged(68)||e.hasChanged(70)||e.hasChanged(5)||e.hasChanged(8)||e.hasChanged(6)||e.hasChanged(7)||e.hasChanged(11)||e.hasChanged(114)||e.hasChanged(58)||e.hasChanged(80)}get electricChars(){if(!this._electricChars){this._electricChars={};var e=g._getElectricCharacters(this._languageId);if(e)for(const t of e)this._electricChars[t]=!0}return this._electricChars}normalizeIndentation(e){return a.c.normalizeIndentation(e,this.indentSize,this.insertSpaces)}static _getElectricCharacters(e){try{return l.b.getElectricCharacters(e)}catch(e){return Object(n.f)(e),null}}static _getShouldAutoClose(e,t){switch(t){case"beforeWhitespace":return u;case"languageDefined":return g._getLanguageDefinedShouldAutoClose(e);case"always":return d;case"never":return h}}static _getLanguageDefinedShouldAutoClose(e){try{const t=l.b.getAutoCloseBeforeSet(e);return e=>-1!==t.indexOf(e)}catch(e){return Object(n.f)(e),h}}static _getSurroundingPairs(e){try{return l.b.getSurroundingPairs(e)}catch(e){return Object(n.f)(e),null}}}class p{constructor(e,t,i,n){this._singleCursorStateBrand=void 0,this.selectionStart=e,this.selectionStartLeftoverVisibleColumns=t,this.position=i,this.leftoverVisibleColumns=n,this.selection=p._computeSelection(this.selectionStart,this.position)}equals(e){return this.selectionStartLeftoverVisibleColumns===e.selectionStartLeftoverVisibleColumns&&this.leftoverVisibleColumns===e.leftoverVisibleColumns&&this.position.equals(e.position)&&this.selectionStart.equalsRange(e.selectionStart)}hasSelection(){return!this.selection.isEmpty()||!this.selectionStart.isEmpty()}move(e,t,i,n){return e?new p(this.selectionStart,this.selectionStartLeftoverVisibleColumns,new o.a(t,i),n):new p(new r.a(t,i,t,i),n,new o.a(t,i),n)}static _computeSelection(e,t){let i,n,o,r;return n=!e.isEmpty()&&t.isBeforeOrEqual(e.getStartPosition())?(i=e.endLineNumber,e.endColumn):(i=e.startLineNumber,e.startColumn),o=t.lineNumber,r=t.column,new s.a(i,n,o,r)}}class f{constructor(e,t,i,n){this._cursorContextBrand=void 0,this.model=e,this.viewModel=t,this.coordinatesConverter=i,this.cursorConfig=n}}class m{constructor(e){this.modelState=e,this.viewState=null}}class v{constructor(e){this.modelState=null,this.viewState=e}}class b{constructor(e,t){this._cursorStateBrand=void 0,this.modelState=e,this.viewState=t}static fromModelState(e){return new m(e)}static fromViewState(e){return new v(e)}static fromModelSelection(e){var t=e.selectionStartLineNumber,i=e.selectionStartColumn,n=e.positionLineNumber;e=e.positionColumn,e=new p(new r.a(t,i,t,i),0,new o.a(n,e),0);return b.fromModelState(e)}static fromModelSelections(e){let t=[];for(let i=0,n=e.length;i<n;i++)t[i]=this.fromModelSelection(e[i]);return t}equals(e){return this.viewState.equals(e.viewState)&&this.modelState.equals(e.modelState)}}class _{constructor(e,t,i){this._editOperationResultBrand=void 0,this.type=e,this.commands=t,this.shouldPushStackElementBefore=i.shouldPushStackElementBefore,this.shouldPushStackElementAfter=i.shouldPushStackElementAfter}}function w(e){return"'"===e||'"'===e||"`"===e}},function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var i=function(e,t){var i=e[1]||"",n=e[3];return n?t&&"function"==typeof btoa?(e=function(e){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */"}(n),t=n.sources.map((function(e){return"/*# sourceURL="+n.sourceRoot+e+" */"})),[i].concat(t).concat([e]).join("\n")):[i].join("\n"):i}(t,e);return t[2]?"@media "+t[2]+"{"+i+"}":i})).join("")},t.i=function(e,i){"string"==typeof e&&(e=[[null,e,""]]);for(var n={},o=0;o<this.length;o++){var r=this[o][0];"number"==typeof r&&(n[r]=!0)}for(o=0;o<e.length;o++){var s=e[o];"number"==typeof s[0]&&n[s[0]]||(i&&!s[2]?s[2]=i:i&&(s[2]="("+s[2]+") and ("+i+")"),t.push(s))}},t}},function(e,t,i){"use strict";function n(e,t){for(var i=[],n={},o=0;o<t.length;o++){var r=(s=t[o])[0],s={id:e+":"+o,css:s[1],media:s[2],sourceMap:s[3]};n[r]?n[r].parts.push(s):i.push(n[r]={id:r,parts:[s]})}return i}if(i.r(t),i.d(t,"default",(function(){return g})),t="undefined"!=typeof document,"undefined"!=typeof DEBUG&&DEBUG&&!t)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var o={},r=t&&(document.head||document.getElementsByTagName("head")[0]),s=null,a=0,l=!1,c=function(){},d=null,h="data-vue-ssr-id",u="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function g(e,t,i,r){l=i,d=r||{};var s=n(e,t);return p(s),function(t){for(var i=[],r=0;r<s.length;r++){var a=s[r];(l=o[a.id]).refs--,i.push(l)}t?p(s=n(e,t)):s=[];var l;for(r=0;r<i.length;r++)if(0===(l=i[r]).refs){for(var c=0;c<l.parts.length;c++)l.parts[c]();delete o[l.id]}}}function p(e){for(var t=0;t<e.length;t++){var i=e[t],n=o[i.id];if(n){n.refs++;for(var r=0;r<n.parts.length;r++)n.parts[r](i.parts[r]);for(;r<i.parts.length;r++)n.parts.push(m(i.parts[r]));n.parts.length>i.parts.length&&(n.parts.length=i.parts.length)}else{var s=[];for(r=0;r<i.parts.length;r++)s.push(m(i.parts[r]));o[i.id]={id:i.id,refs:1,parts:s}}}}function f(){var e=document.createElement("style");return e.type="text/css",r.appendChild(e),e}function m(e){var t,i,n,o=document.querySelector("style["+h+'~="'+e.id+'"]');if(o){if(l)return c;o.parentNode.removeChild(o)}return n=u?(t=a++,o=s=s||f(),i=_.bind(null,o,t,!1),_.bind(null,o,t,!0)):(o=f(),i=function(e,t){var i=t.css,n=t.media,o=t.sourceMap;if(n&&e.setAttribute("media",n),d.ssrId&&e.setAttribute(h,t.id),o&&(i+="\n/*# sourceURL="+o.sources[0]+" */",i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */"),e.styleSheet)e.styleSheet.cssText=i;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(i))}}.bind(null,o),function(){o.parentNode.removeChild(o)}),i(e),function(t){t?t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap||i(e=t):n()}}var v,b=(v=[],function(e,t){return v[e]=t,v.filter(Boolean).join("\n")});function _(e,t,i,n){i=i?"":n.css,e.styleSheet?e.styleSheet.cssText=b(t,i):(n=document.createTextNode(i),(i=e.childNodes)[t]&&e.removeChild(i[t]),i.length?e.insertBefore(n,i[t]):e.appendChild(n))}},function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var n=i(12);class o extends i(3).a{constructor(e,t,i,n){super(e,t,i,n),this.selectionStartLineNumber=e,this.selectionStartColumn=t,this.positionLineNumber=i,this.positionColumn=n}toString(){return"["+this.selectionStartLineNumber+","+this.selectionStartColumn+" -> "+this.positionLineNumber+","+this.positionColumn+"]"}equalsSelection(e){return o.selectionsEqual(this,e)}static selectionsEqual(e,t){return e.selectionStartLineNumber===t.selectionStartLineNumber&&e.selectionStartColumn===t.selectionStartColumn&&e.positionLineNumber===t.positionLineNumber&&e.positionColumn===t.positionColumn}getDirection(){return this.selectionStartLineNumber===this.startLineNumber&&this.selectionStartColumn===this.startColumn?0:1}setEndPosition(e,t){return 0===this.getDirection()?new o(this.startLineNumber,this.startColumn,e,t):new o(e,t,this.startLineNumber,this.startColumn)}getPosition(){return new n.a(this.positionLineNumber,this.positionColumn)}setStartPosition(e,t){return 0===this.getDirection()?new o(e,t,this.endLineNumber,this.endColumn):new o(this.endLineNumber,this.endColumn,e,t)}static fromPositions(e,t=e){return new o(e.lineNumber,e.column,t.lineNumber,t.column)}static liftSelection(e){return new o(e.selectionStartLineNumber,e.selectionStartColumn,e.positionLineNumber,e.positionColumn)}static selectionsArrEqual(e,t){if(e&&!t||!e&&t)return!1;if(!e&&!t)return!0;if(e.length!==t.length)return!1;for(let i=0,n=e.length;i<n;i++)if(!this.selectionsEqual(e[i],t[i]))return!1;return!0}static isISelection(e){return e&&"number"==typeof e.selectionStartLineNumber&&"number"==typeof e.selectionStartColumn&&"number"==typeof e.positionLineNumber&&"number"==typeof e.positionColumn}static createWithDirection(e,t,i,n,r){return 0===r?new o(e,t,i,n):new o(i,n,e,t)}}},function(e,t){e.exports=require("fs")},function(e,t){e.exports=function(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,i){"use strict";i.d(t,"f",(function(){return g})),i.d(t,"b",(function(){return p})),i.d(t,"a",(function(){return f})),i.d(t,"d",(function(){return m})),i.d(t,"e",(function(){return v})),i.d(t,"c",(function(){return b}));var n=i(65),o=i(23),r=i(6),s=i(54),a=i(2),l=i(114),c=i(36),d=i(10),h=i(21),u=i(16);t=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;0<=a;a--)(o=e[a])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s},i=function(e,t){return function(i,n){t(i,n,e)}};function g(e){return void 0!==e.command}class p{constructor(e){this.id=p._idPool++,this._debugName=e}}p._idPool=0,p.CommandPalette=new p("CommandPalette"),p.EditorContext=new p("EditorContext"),p.SimpleEditorContext=new p("SimpleEditorContext"),p.EditorContextCopy=new p("EditorContextCopy"),p.EditorContextPeek=new p("EditorContextPeek"),p.MenubarEditMenu=new p("MenubarEditMenu"),p.MenubarCopy=new p("MenubarCopy"),p.MenubarGoMenu=new p("MenubarGoMenu"),p.MenubarSelectionMenu=new p("MenubarSelectionMenu"),p.InlineCompletionsActions=new p("InlineCompletionsActions");const f=Object(h.c)("menuService"),m=new class{constructor(){this._commands=new Map,this._menuItems=new Map,this._onDidChangeMenu=new r.b,this.onDidChangeMenu=this._onDidChangeMenu.event,this._commandPaletteChangeEvent={has:e=>e===p.CommandPalette}}addCommand(e){return this.addCommands(s.a.single(e))}addCommands(e){for(const t of e)this._commands.set(t.id,t);return this._onDidChangeMenu.fire(this._commandPaletteChangeEvent),Object(a.i)(()=>{let t=!1;for(const i of e)t=this._commands.delete(i.id)||t;t&&this._onDidChangeMenu.fire(this._commandPaletteChangeEvent)})}getCommand(e){return this._commands.get(e)}getCommands(){const e=new Map;return this._commands.forEach((t,i)=>e.set(i,t)),e}appendMenuItem(e,t){return this.appendMenuItems(s.a.single({id:e,item:t}))}appendMenuItems(e){const t=new Set,i=new l.a;for(var{id:n,item:o}of e){let e=this._menuItems.get(n);e||(e=new l.a,this._menuItems.set(n,e)),i.push(e.push(o)),t.add(n)}return this._onDidChangeMenu.fire(t),Object(a.i)(()=>{if(0<i.size){for(var e of i)e();this._onDidChangeMenu.fire(t),i.clear()}})}getMenuItems(e){let t;return t=this._menuItems.has(e)?[...this._menuItems.get(e)]:[],e===p.CommandPalette&&this._appendImplicitItems(t),t}_appendImplicitItems(e){const t=new Set;for(const i of e)g(i)&&(t.add(i.command.id),i.alt&&t.add(i.alt.id));this._commands.forEach((i,n)=>{t.has(n)||e.push({command:i})})}};class v extends n.e{constructor(e,t,i,n){super("submenuitem."+e.submenu.id,"string"==typeof e.title?e.title:e.title.value,[],"submenu"),this.item=e,this._menuService=t,this._contextKeyService=i,this._options=n}get actions(){const e=[],t=this._menuService.createMenu(this.item.submenu,this._contextKeyService);var i,o=t.getActions(this._options);for([,i]of(t.dispose(),o))0<i.length&&(e.push(...i),e.push(new n.d));return e.length&&e.pop(),e}}let b=class e{constructor(t,i,n,r,s){var a;this._commandService=s,this.id=t.id,this.label=null!=n&&n.renderShortTitle&&t.shortTitle?"string"==typeof t.shortTitle?t.shortTitle:t.shortTitle.value:"string"==typeof t.title?t.title:t.title.value,this.tooltip=null!==(a="string"==typeof t.tooltip?t.tooltip:null===(a=t.tooltip)||void 0===a?void 0:a.value)&&void 0!==a?a:"",this.enabled=!t.precondition||r.contextMatchesRules(t.precondition),this.checked=void 0,t.toggled&&(a=t.toggled.condition?t.toggled:{condition:t.toggled},this.checked=r.contextMatchesRules(a.condition),this.checked&&a.tooltip&&(this.tooltip="string"==typeof a.tooltip?a.tooltip:a.tooltip.value),a.title&&(this.label="string"==typeof a.title?a.title:a.title.value)),this.item=t,this.alt=i?new e(i,void 0,n,r,s):void 0,this._options=n,u.d.isThemeIcon(t.icon)&&(this.class=o.a.asClassName(t.icon))}dispose(){}run(...e){var t;let i=[];return null!==(t=this._options)&&void 0!==t&&t.arg&&(i=[...i,this._options.arg]),null!==(t=this._options)&&void 0!==t&&t.shouldForwardArgs&&(i=[...i,...e]),this._commandService.executeCommand(this.id,...i)}};b=t([i(3,d.b),i(4,c.b)],b)},function(e,t){e.exports=require("vuex")},function(e,t,i){"use strict";i.d(t,"h",(function(){return s})),i.d(t,"b",(function(){return a})),i.d(t,"j",(function(){return l})),i.d(t,"a",(function(){return c})),i.d(t,"k",(function(){return g})),i.d(t,"l",(function(){return f})),i.d(t,"o",(function(){return _})),i.d(t,"i",(function(){return n})),i.d(t,"e",(function(){return y})),i.d(t,"f",(function(){return S})),i.d(t,"n",(function(){return k})),i.d(t,"c",(function(){return O})),i.d(t,"d",(function(){return E})),i.d(t,"m",(function(){return N})),i.d(t,"g",(function(){return T}));var n,o=i(0),r=i(15);t=i(163);const s=8;class a{constructor(e){this._values=e}hasChanged(e){return this._values[e]}}class l{constructor(){this._values=[]}_read(e){return this._values[e]}get(e){return this._values[e]}_write(e,t){this._values[e]=t}}class c{constructor(){this.stableMinimapLayoutInput=null,this.stableFitMaxMinimapScale=0,this.stableFitRemainingWidth=0}}class d{constructor(e,t,i,n){this.id=e,this.name=t,this.defaultValue=i,this.schema=n}compute(e,t,i){return i}}class h{constructor(e,t=null){this.schema=void 0,this.id=e,this.name="_never_",this.defaultValue=void 0,this.deps=t}validate(e){return this.defaultValue}}class u{constructor(e,t,i,n){this.id=e,this.name=t,this.defaultValue=i,this.schema=n}validate(e){return void 0===e?this.defaultValue:e}compute(e,t,i){return i}}function g(e,t){return void 0===e?t:"false"!==e&&Boolean(e)}class p extends u{constructor(e,t,i,n){void 0!==n&&(n.type="boolean",n.default=i),super(e,t,i,n)}validate(e){return g(e,this.defaultValue)}}function f(e,t,i,n){return void 0===e?t:(e=parseInt(e,10),isNaN(e)?t:(e=Math.max(i,e),0|(e=Math.min(n,e))))}class m extends u{constructor(e,t,i,n,o,r){void 0!==r&&(r.type="integer",r.default=i,r.minimum=n,r.maximum=o),super(e,t,i,r),this.minimum=n,this.maximum=o}static clampedInt(e,t,i,n){return f(e,t,i,n)}validate(e){return m.clampedInt(e,this.defaultValue,this.minimum,this.maximum)}}class v extends u{constructor(e,t,i,n,o){void 0!==o&&(o.type="number",o.default=i),super(e,t,i,o),this.validationFn=n}static clamp(e,t,i){return e<t?t:i<e?i:e}static float(e,t){return"number"==typeof e?e:void 0===e?t:(e=parseFloat(e),isNaN(e)?t:e)}validate(e){return this.validationFn(v.float(e,this.defaultValue))}}class b extends u{static string(e,t){return"string"!=typeof e?t:e}constructor(e,t,i,n){void 0!==n&&(n.type="string",n.default=i),super(e,t,i,n)}validate(e){return b.string(e,this.defaultValue)}}function _(e,t,i){return"string"!=typeof e||-1===i.indexOf(e)?t:e}class w extends u{constructor(e,t,i,n,o){void 0!==o&&(o.type="string",o.enum=n,o.default=i),super(e,t,i,o),this._allowedValues=n}validate(e){return _(e,this.defaultValue,this._allowedValues)}}class C extends d{constructor(e,t,i,n,o,r,s){void 0!==s&&(s.type="string",s.enum=o,s.default=n),super(e,t,i,s),this._allowedValues=o,this._convert=r}validate(e){return"string"!=typeof e||-1===this._allowedValues.indexOf(e)?this.defaultValue:this._convert(e)}}(i=n=n||{})[i.Line=1]="Line",i[i.Block=2]="Block",i[i.Underline=3]="Underline",i[i.LineThin=4]="LineThin",i[i.BlockOutline=5]="BlockOutline",i[i.UnderlineThin=6]="UnderlineThin";class y extends d{constructor(){super(44,"fontLigatures",y.OFF,{anyOf:[{type:"boolean",description:o.a("fontLigatures","Enables/Disables font ligatures ('calt' and 'liga' font features). Change this to a string for fine-grained control of the 'font-feature-settings' CSS property.")},{type:"string",description:o.a("fontFeatureSettings","Explicit 'font-feature-settings' CSS property. A boolean can be passed instead if one only needs to turn on/off ligatures.")}],description:o.a("fontLigaturesGeneral","Configures font ligatures or font features. Can be either a boolean to enable/disable ligatures or a string for the value of the CSS 'font-feature-settings' property."),default:!1})}validate(e){return void 0===e?this.defaultValue:"string"==typeof e?"false"===e?y.OFF:"true"===e?y.ON:e:Boolean(e)?y.ON:y.OFF}}y.OFF='"liga" off, "calt" off',y.ON='"liga" on, "calt" on';class x extends d{constructor(){super(46,"fontWeight",O.fontWeight,{anyOf:[{type:"number",minimum:x.MINIMUM_VALUE,maximum:x.MAXIMUM_VALUE,errorMessage:o.a("fontWeightErrorMessage",'Only "normal" and "bold" keywords or numbers between 1 and 1000 are allowed.')},{type:"string",pattern:"^(normal|bold|1000|[1-9][0-9]{0,2})$"},{enum:x.SUGGESTION_VALUES}],default:O.fontWeight,description:o.a("fontWeight",'Controls the font weight. Accepts "normal" and "bold" keywords or numbers between 1 and 1000.')})}validate(e){return"normal"===e||"bold"===e?e:String(m.clampedInt(e,O.fontWeight,x.MINIMUM_VALUE,x.MAXIMUM_VALUE))}}x.SUGGESTION_VALUES=["normal","bold","100","200","300","400","500","600","700","800","900"],x.MINIMUM_VALUE=1,x.MAXIMUM_VALUE=1e3;class S extends h{constructor(){super(129,[49,57,37,64,91,59,60,93,116,119,120,121,2])}compute(e,t,i){return S.computeLayout(t,{memory:e.memory,outerWidth:e.outerWidth,outerHeight:e.outerHeight,isDominatedByLongLines:e.isDominatedByLongLines,lineHeight:e.fontInfo.lineHeight,viewLineCount:e.viewLineCount,lineNumbersDigitCount:e.lineNumbersDigitCount,typicalHalfwidthCharacterWidth:e.fontInfo.typicalHalfwidthCharacterWidth,maxDigitWidth:e.fontInfo.maxDigitWidth,pixelRatio:e.pixelRatio})}static computeContainedMinimapLineCount(e){var t=e.height/e.lineHeight,i=e.scrollBeyondLastLine?t-1:0,n=(e.viewLineCount+i)/(e.pixelRatio*e.height);return{typicalViewportLineCount:t,extraLinesBeyondLastLine:i,desiredRatio:n,minimapLineCount:Math.floor(e.viewLineCount/n)}}static _computeMinimapLayout(e,t){var i=e.outerWidth,n=e.outerHeight,o=e.pixelRatio;if(!e.minimap.enabled)return{renderMinimap:0,minimapLeft:0,minimapWidth:0,minimapHeightIsEditorHeight:!1,minimapIsSampling:!1,minimapScale:1,minimapLineHeight:1,minimapCanvasInnerWidth:0,minimapCanvasInnerHeight:Math.floor(o*n),minimapCanvasOuterWidth:0,minimapCanvasOuterHeight:n};var r,a=(r=t.stableMinimapLayoutInput)&&e.outerHeight===r.outerHeight&&e.lineHeight===r.lineHeight&&e.typicalHalfwidthCharacterWidth===r.typicalHalfwidthCharacterWidth&&e.pixelRatio===r.pixelRatio&&e.scrollBeyondLastLine===r.scrollBeyondLastLine&&e.minimap.enabled===r.minimap.enabled&&e.minimap.side===r.minimap.side&&e.minimap.size===r.minimap.size&&e.minimap.showSlider===r.minimap.showSlider&&e.minimap.renderCharacters===r.minimap.renderCharacters&&e.minimap.maxColumn===r.minimap.maxColumn&&e.minimap.scale===r.minimap.scale&&e.verticalScrollbarWidth===r.verticalScrollbarWidth&&e.isViewportWrapping===r.isViewportWrapping,l=e.lineHeight,c=e.typicalHalfwidthCharacterWidth,d=e.scrollBeyondLastLine,h=e.minimap.renderCharacters;let u=2<=o?Math.round(2*e.minimap.scale):e.minimap.scale;var g=e.minimap.maxColumn,p=e.minimap.size,f=e.minimap.side,m=e.verticalScrollbarWidth,v=e.viewLineCount,b=e.remainingWidth,_=e.isViewportWrapping,w=h?2:3;let C=Math.floor(o*n);var y=C/o;let x=!1,k=!1,D=w*u,L=u/o,O=1;if("fill"===p||"fit"===p){var{typicalViewportLineCount:E,extraLinesBeyondLastLine:r,desiredRatio:d,minimapLineCount:n}=S.computeContainedMinimapLineCount({viewLineCount:v,scrollBeyondLastLine:d,height:n,lineHeight:l,pixelRatio:o});if(1<v/n)x=!0,k=!0,u=1,D=1,L=u/o;else{let i=!1,s=u+1;"fit"===p&&(n=Math.ceil((v+r)*D),_&&a&&b<=t.stableFitRemainingWidth?(i=!0,s=t.stableFitMaxMinimapScale):i=n>C),"fill"!==p&&!i||(x=!0,p=u,D=Math.min(l*o,Math.max(1,Math.floor(1/d))),_&&a&&b<=t.stableFitRemainingWidth&&(s=t.stableFitMaxMinimapScale),u=Math.min(s,Math.max(1,Math.floor(D/w))),u>p&&(O=Math.min(2,u/p)),L=u/o/O,C=Math.ceil(Math.max(E,v+r)*D),_?(t.stableMinimapLayoutInput=e,t.stableFitRemainingWidth=b,t.stableFitMaxMinimapScale=u):(t.stableMinimapLayoutInput=null,t.stableFitRemainingWidth=0))}}return g=Math.floor(g*L),b=Math.min(g,Math.max(0,Math.floor((b-m-2)*L/(c+L)))+s),o=(c=Math.floor(o*b))/o,{renderMinimap:h?1:2,minimapLeft:"left"===f?0:i-b-m,minimapWidth:b,minimapHeightIsEditorHeight:x,minimapIsSampling:k,minimapScale:u,minimapLineHeight:D,minimapCanvasInnerWidth:c=Math.floor(c*O),minimapCanvasInnerHeight:C,minimapCanvasOuterWidth:o,minimapCanvasOuterHeight:y}}static computeLayout(e,t){var i=0|t.outerWidth,n=0|t.outerHeight,o=0|t.lineHeight,r=0|t.lineNumbersDigitCount,s=t.typicalHalfwidthCharacterWidth,a=t.maxDigitWidth,l=t.pixelRatio,d=t.viewLineCount,h="inherit"===(L=e.get(121))?e.get(120):L,u="inherit"===h?e.get(116):h,g=e.get(119),p=e.get(2),f=t.isDominatedByLongLines,v=e.get(49),b=0!==e.get(59).renderType,_=e.get(60),w=e.get(93),C=e.get(64),y=e.get(91),x=y.verticalScrollbarSize,k=y.verticalHasArrows,D=y.arrowSize,L=y.horizontalScrollbarSize;const O=e.get(57);let E;y=e.get(37),E="string"==typeof O&&/^\d+(\.\d+)?ch$/.test(O)?(e=parseFloat(O.substr(0,O.length-2)),m.clampedInt(e*s,0,0,1e3)):m.clampedInt(O,0,0,1e3),y&&(E+=16);let N=0;b&&(_=Math.max(r,_),N=Math.round(_*a));let I=0;v&&(I=o);let T=0,M=T+I,A=M+N,P=A+E;v=i-I-N-E;let R=!1,F=!1,j=-1;return 2!==p&&("inherit"===h&&f?(R=!0,F=!0):"on"===u||"bounded"===u?F=!0:"wordWrapColumn"===u&&(j=g)),0!==(t=S._computeMinimapLayout({outerWidth:i,outerHeight:n,lineHeight:o,typicalHalfwidthCharacterWidth:s,pixelRatio:l,scrollBeyondLastLine:w,minimap:C,verticalScrollbarWidth:x,viewLineCount:d,remainingWidth:v,isViewportWrapping:F},t.memory||new c)).renderMinimap&&0===t.minimapLeft&&(T+=t.minimapWidth,M+=t.minimapWidth,A+=t.minimapWidth,P+=t.minimapWidth),v-=t.minimapWidth,s=Math.max(1,Math.floor((v-x-2)/s)),D=k?D:0,F&&(j=Math.max(1,s),"bounded"===u&&(j=Math.min(j,g))),{width:i,height:n,glyphMarginLeft:T,glyphMarginWidth:I,lineNumbersLeft:M,lineNumbersWidth:N,decorationsLeft:A,decorationsWidth:E,contentLeft:P,contentWidth:v,minimap:t,viewportColumn:s,isWordWrapMinified:R,isViewportWrapping:F,wrappingColumn:j,verticalScrollbarWidth:x,horizontalScrollbarHeight:L,overviewRuler:{top:D,width:x,height:n-2*D,right:0}}}}function k(e){var t=e.get(86);return"editable"===t?e.get(80):"on"!==t}function D(e,t){if("string"!=typeof e)return t;switch(e){case"hidden":return 2;case"visible":return 3;default:return 1}}function L(e,t,i){return-1===(e=i.indexOf(e))?t:i[e]}const O={fontFamily:r.f?"Menlo, Monaco, 'Courier New', monospace":r.d?"'Droid Sans Mono', 'monospace', monospace, 'Droid Sans Fallback'":"Consolas, 'Courier New', monospace",fontWeight:"normal",fontSize:r.f?12:14,lineHeight:0,letterSpacing:0},E={tabSize:4,indentSize:4,insertSpaces:!0,detectIndentation:!0,trimAutoWhitespace:!0,largeFileOptimizations:!0,bracketPairColorizationOptions:{enabled:!1}},N=[];function I(e){return N[e.id]=e}const T={acceptSuggestionOnCommitCharacter:I(new p(0,"acceptSuggestionOnCommitCharacter",!0,{markdownDescription:o.a("acceptSuggestionOnCommitCharacter","Controls whether suggestions should be accepted on commit characters. For example, in JavaScript, the semi-colon (`;`) can be a commit character that accepts a suggestion and types that character.")})),acceptSuggestionOnEnter:I(new w(1,"acceptSuggestionOnEnter","on",["on","smart","off"],{markdownEnumDescriptions:["",o.a("acceptSuggestionOnEnterSmart","Only accept a suggestion with `Enter` when it makes a textual change."),""],markdownDescription:o.a("acceptSuggestionOnEnter","Controls whether suggestions should be accepted on `Enter`, in addition to `Tab`. Helps to avoid ambiguity between inserting new lines or accepting suggestions.")})),accessibilitySupport:I(new class extends d{constructor(){super(2,"accessibilitySupport",0,{type:"string",enum:["auto","on","off"],enumDescriptions:[o.a("accessibilitySupport.auto","The editor will use platform APIs to detect when a Screen Reader is attached."),o.a("accessibilitySupport.on","The editor will be permanently optimized for usage with a Screen Reader. Word wrapping will be disabled."),o.a("accessibilitySupport.off","The editor will never be optimized for usage with a Screen Reader.")],default:"auto",description:o.a("accessibilitySupport","Controls whether the editor should run in a mode where it is optimized for screen readers. Setting to on will disable word wrapping.")})}validate(e){switch(e){case"auto":return 0;case"off":return 1;case"on":return 2}return this.defaultValue}compute(e,t,i){return 0===i?e.accessibilitySupport:i}}),accessibilityPageSize:I(new m(3,"accessibilityPageSize",10,1,1073741824,{description:o.a("accessibilityPageSize","Controls the number of lines in the editor that can be read out by a screen reader at once. When we detect a screen reader we automatically set the default to be 500. Warning: this has a performance implication for numbers larger than the default.")})),ariaLabel:I(new b(4,"ariaLabel",o.a("editorViewAccessibleLabel","Editor content"))),autoClosingBrackets:I(new w(5,"autoClosingBrackets","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",o.a("editor.autoClosingBrackets.languageDefined","Use language configurations to determine when to autoclose brackets."),o.a("editor.autoClosingBrackets.beforeWhitespace","Autoclose brackets only when the cursor is to the left of whitespace."),""],description:o.a("autoClosingBrackets","Controls whether the editor should automatically close brackets after the user adds an opening bracket.")})),autoClosingDelete:I(new w(6,"autoClosingDelete","auto",["always","auto","never"],{enumDescriptions:["",o.a("editor.autoClosingDelete.auto","Remove adjacent closing quotes or brackets only if they were automatically inserted."),""],description:o.a("autoClosingDelete","Controls whether the editor should remove adjacent closing quotes or brackets when deleting.")})),autoClosingOvertype:I(new w(7,"autoClosingOvertype","auto",["always","auto","never"],{enumDescriptions:["",o.a("editor.autoClosingOvertype.auto","Type over closing quotes or brackets only if they were automatically inserted."),""],description:o.a("autoClosingOvertype","Controls whether the editor should type over closing quotes or brackets.")})),autoClosingQuotes:I(new w(8,"autoClosingQuotes","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",o.a("editor.autoClosingQuotes.languageDefined","Use language configurations to determine when to autoclose quotes."),o.a("editor.autoClosingQuotes.beforeWhitespace","Autoclose quotes only when the cursor is to the left of whitespace."),""],description:o.a("autoClosingQuotes","Controls whether the editor should automatically close quotes after the user adds an opening quote.")})),autoIndent:I(new C(9,"autoIndent",4,"full",["none","keep","brackets","advanced","full"],(function(e){switch(e){case"none":return 0;case"keep":return 1;case"brackets":return 2;case"advanced":return 3;case"full":return 4}}),{enumDescriptions:[o.a("editor.autoIndent.none","The editor will not insert indentation automatically."),o.a("editor.autoIndent.keep","The editor will keep the current line's indentation."),o.a("editor.autoIndent.brackets","The editor will keep the current line's indentation and honor language defined brackets."),o.a("editor.autoIndent.advanced","The editor will keep the current line's indentation, honor language defined brackets and invoke special onEnterRules defined by languages."),o.a("editor.autoIndent.full","The editor will keep the current line's indentation, honor language defined brackets, invoke special onEnterRules defined by languages, and honor indentationRules defined by languages.")],description:o.a("autoIndent","Controls whether the editor should automatically adjust the indentation when users type, paste, move or indent lines.")})),automaticLayout:I(new p(10,"automaticLayout",!1)),autoSurround:I(new w(11,"autoSurround","languageDefined",["languageDefined","quotes","brackets","never"],{enumDescriptions:[o.a("editor.autoSurround.languageDefined","Use language configurations to determine when to automatically surround selections."),o.a("editor.autoSurround.quotes","Surround with quotes but not brackets."),o.a("editor.autoSurround.brackets","Surround with brackets but not quotes."),""],description:o.a("autoSurround","Controls whether the editor should automatically surround selections when typing quotes or brackets.")})),bracketPairColorization:I(new class extends d{constructor(){var e={enabled:E.bracketPairColorizationOptions.enabled};super(12,"bracketPairColorization",e,{"editor.bracketPairColorization.enabled":{type:"boolean",default:e.enabled,description:o.a("bracketPairColorization.enabled","Controls whether bracket pair colorization is enabled or not. Use 'workbench.colorCustomizations' to override the bracket highlight colors.")}})}validate(e){return e&&"object"==typeof e?{enabled:g(e.enabled,this.defaultValue.enabled)}:this.defaultValue}}),bracketPairGuides:I(new class extends d{constructor(){var e={bracketPairs:!1,bracketPairsHorizontal:"active",highlightActiveBracketPair:!0,indentation:!0,highlightActiveIndentation:!0};super(13,"guides",e,{"editor.guides.bracketPairs":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[o.a("editor.guides.bracketPairs.true","Enables bracket pair guides."),o.a("editor.guides.bracketPairs.active","Enables bracket pair guides only for the active bracket pair."),o.a("editor.guides.bracketPairs.false","Disables bracket pair guides.")],default:e.bracketPairs,description:o.a("editor.guides.bracketPairs","Controls whether bracket pair guides are enabled or not.")},"editor.guides.bracketPairsHorizontal":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[o.a("editor.guides.bracketPairsHorizontal.true","Enables horizontal guides as addition to vertical bracket pair guides."),o.a("editor.guides.bracketPairsHorizontal.active","Enables horizontal guides only for the active bracket pair."),o.a("editor.guides.bracketPairsHorizontal.false","Disables horizontal bracket pair guides.")],default:e.bracketPairsHorizontal,description:o.a("editor.guides.bracketPairsHorizontal","Controls whether horizontal bracket pair guides are enabled or not.")},"editor.guides.highlightActiveBracketPair":{type:"boolean",default:e.highlightActiveBracketPair,description:o.a("editor.guides.highlightActiveBracketPair","Controls whether bracket pair guides are enabled or not.")},"editor.guides.indentation":{type:"boolean",default:e.indentation,description:o.a("editor.guides.indentation","Controls whether the editor should render indent guides.")},"editor.guides.highlightActiveIndentation":{type:"boolean",default:e.highlightActiveIndentation,description:o.a("editor.guides.highlightActiveIndentation","Controls whether the editor should highlight the active indent guide.")}})}validate(e){return e&&"object"==typeof e?{bracketPairs:L(e.bracketPairs,this.defaultValue.bracketPairs,[!0,!1,"active"]),bracketPairsHorizontal:L(e.bracketPairsHorizontal,this.defaultValue.bracketPairsHorizontal,[!0,!1,"active"]),highlightActiveBracketPair:g(e.highlightActiveBracketPair,this.defaultValue.highlightActiveBracketPair),indentation:g(e.indentation,this.defaultValue.indentation),highlightActiveIndentation:g(e.highlightActiveIndentation,this.defaultValue.highlightActiveIndentation)}:this.defaultValue}}),stickyTabStops:I(new p(103,"stickyTabStops",!1,{description:o.a("stickyTabStops","Emulate selection behavior of tab characters when using spaces for indentation. Selection will stick to tab stops.")})),codeLens:I(new p(14,"codeLens",!0,{description:o.a("codeLens","Controls whether the editor shows CodeLens.")})),codeLensFontFamily:I(new b(15,"codeLensFontFamily","",{description:o.a("codeLensFontFamily","Controls the font family for CodeLens.")})),codeLensFontSize:I(new m(16,"codeLensFontSize",0,0,100,{type:"number",default:0,minimum:0,maximum:100,markdownDescription:o.a("codeLensFontSize","Controls the font size in pixels for CodeLens. When set to `0`, the 90% of `#editor.fontSize#` is used.")})),colorDecorators:I(new p(17,"colorDecorators",!0,{description:o.a("colorDecorators","Controls whether the editor should render the inline color decorators and color picker.")})),columnSelection:I(new p(18,"columnSelection",!1,{description:o.a("columnSelection","Enable that the selection with the mouse and keys is doing column selection.")})),comments:I(new class extends d{constructor(){var e={insertSpace:!0,ignoreEmptyLines:!0};super(19,"comments",e,{"editor.comments.insertSpace":{type:"boolean",default:e.insertSpace,description:o.a("comments.insertSpace","Controls whether a space character is inserted when commenting.")},"editor.comments.ignoreEmptyLines":{type:"boolean",default:e.ignoreEmptyLines,description:o.a("comments.ignoreEmptyLines","Controls if empty lines should be ignored with toggle, add or remove actions for line comments.")}})}validate(e){return e&&"object"==typeof e?{insertSpace:g(e.insertSpace,this.defaultValue.insertSpace),ignoreEmptyLines:g(e.ignoreEmptyLines,this.defaultValue.ignoreEmptyLines)}:this.defaultValue}}),contextmenu:I(new p(20,"contextmenu",!0)),copyWithSyntaxHighlighting:I(new p(21,"copyWithSyntaxHighlighting",!0,{description:o.a("copyWithSyntaxHighlighting","Controls whether syntax highlighting should be copied into the clipboard.")})),cursorBlinking:I(new C(22,"cursorBlinking",1,"blink",["blink","smooth","phase","expand","solid"],(function(e){switch(e){case"blink":return 1;case"smooth":return 2;case"phase":return 3;case"expand":return 4;case"solid":return 5}}),{description:o.a("cursorBlinking","Control the cursor animation style.")})),cursorSmoothCaretAnimation:I(new p(23,"cursorSmoothCaretAnimation",!1,{description:o.a("cursorSmoothCaretAnimation","Controls whether the smooth caret animation should be enabled.")})),cursorStyle:I(new C(24,"cursorStyle",n.Line,"line",["line","block","underline","line-thin","block-outline","underline-thin"],(function(e){switch(e){case"line":return n.Line;case"block":return n.Block;case"underline":return n.Underline;case"line-thin":return n.LineThin;case"block-outline":return n.BlockOutline;case"underline-thin":return n.UnderlineThin}}),{description:o.a("cursorStyle","Controls the cursor style.")})),cursorSurroundingLines:I(new m(25,"cursorSurroundingLines",0,0,1073741824,{description:o.a("cursorSurroundingLines","Controls the minimal number of visible leading and trailing lines surrounding the cursor. Known as 'scrollOff' or 'scrollOffset' in some other editors.")})),cursorSurroundingLinesStyle:I(new w(26,"cursorSurroundingLinesStyle","default",["default","all"],{enumDescriptions:[o.a("cursorSurroundingLinesStyle.default","`cursorSurroundingLines` is enforced only when triggered via the keyboard or API."),o.a("cursorSurroundingLinesStyle.all","`cursorSurroundingLines` is enforced always.")],description:o.a("cursorSurroundingLinesStyle","Controls when `cursorSurroundingLines` should be enforced.")})),cursorWidth:I(new m(27,"cursorWidth",0,0,1073741824,{markdownDescription:o.a("cursorWidth","Controls the width of the cursor when `#editor.cursorStyle#` is set to `line`.")})),disableLayerHinting:I(new p(28,"disableLayerHinting",!1)),disableMonospaceOptimizations:I(new p(29,"disableMonospaceOptimizations",!1)),domReadOnly:I(new p(30,"domReadOnly",!1)),dragAndDrop:I(new p(31,"dragAndDrop",!0,{description:o.a("dragAndDrop","Controls whether the editor should allow moving selections via drag and drop.")})),emptySelectionClipboard:I(new class extends p{constructor(){super(32,"emptySelectionClipboard",!0,{description:o.a("emptySelectionClipboard","Controls whether copying without a selection copies the current line.")})}compute(e,t,i){return i&&e.emptySelectionClipboard}}),extraEditorClassName:I(new b(33,"extraEditorClassName","")),fastScrollSensitivity:I(new v(34,"fastScrollSensitivity",5,e=>e<=0?5:e,{markdownDescription:o.a("fastScrollSensitivity","Scrolling speed multiplier when pressing `Alt`.")})),find:I(new class extends d{constructor(){var e={cursorMoveOnType:!0,seedSearchStringFromSelection:"always",autoFindInSelection:"never",globalFindClipboard:!1,addExtraSpaceOnTop:!0,loop:!0};super(35,"find",e,{"editor.find.cursorMoveOnType":{type:"boolean",default:e.cursorMoveOnType,description:o.a("find.cursorMoveOnType","Controls whether the cursor should jump to find matches while typing.")},"editor.find.seedSearchStringFromSelection":{type:"string",enum:["never","always","selection"],default:e.seedSearchStringFromSelection,enumDescriptions:[o.a("editor.find.seedSearchStringFromSelection.never","Never seed search string from the editor selection."),o.a("editor.find.seedSearchStringFromSelection.always","Always seed search string from the editor selection, including word at cursor position."),o.a("editor.find.seedSearchStringFromSelection.selection","Only seed search string from the editor selection.")],description:o.a("find.seedSearchStringFromSelection","Controls whether the search string in the Find Widget is seeded from the editor selection.")},"editor.find.autoFindInSelection":{type:"string",enum:["never","always","multiline"],default:e.autoFindInSelection,enumDescriptions:[o.a("editor.find.autoFindInSelection.never","Never turn on Find in Selection automatically (default)."),o.a("editor.find.autoFindInSelection.always","Always turn on Find in Selection automatically."),o.a("editor.find.autoFindInSelection.multiline","Turn on Find in Selection automatically when multiple lines of content are selected.")],description:o.a("find.autoFindInSelection","Controls the condition for turning on Find in Selection automatically.")},"editor.find.globalFindClipboard":{type:"boolean",default:e.globalFindClipboard,description:o.a("find.globalFindClipboard","Controls whether the Find Widget should read or modify the shared find clipboard on macOS."),included:r.f},"editor.find.addExtraSpaceOnTop":{type:"boolean",default:e.addExtraSpaceOnTop,description:o.a("find.addExtraSpaceOnTop","Controls whether the Find Widget should add extra lines on top of the editor. When true, you can scroll beyond the first line when the Find Widget is visible.")},"editor.find.loop":{type:"boolean",default:e.loop,description:o.a("find.loop","Controls whether the search automatically restarts from the beginning (or the end) when no further matches can be found.")}})}validate(e){if(!e||"object"!=typeof e)return this.defaultValue;var t=e;return{cursorMoveOnType:g(t.cursorMoveOnType,this.defaultValue.cursorMoveOnType),seedSearchStringFromSelection:"boolean"==typeof e.seedSearchStringFromSelection?e.seedSearchStringFromSelection?"always":"never":_(t.seedSearchStringFromSelection,this.defaultValue.seedSearchStringFromSelection,["never","always","selection"]),autoFindInSelection:"boolean"==typeof e.autoFindInSelection?e.autoFindInSelection?"always":"never":_(t.autoFindInSelection,this.defaultValue.autoFindInSelection,["never","always","multiline"]),globalFindClipboard:g(t.globalFindClipboard,this.defaultValue.globalFindClipboard),addExtraSpaceOnTop:g(t.addExtraSpaceOnTop,this.defaultValue.addExtraSpaceOnTop),loop:g(t.loop,this.defaultValue.loop)}}}),fixedOverflowWidgets:I(new p(36,"fixedOverflowWidgets",!1)),folding:I(new p(37,"folding",!0,{description:o.a("folding","Controls whether the editor has code folding enabled.")})),foldingStrategy:I(new w(38,"foldingStrategy","auto",["auto","indentation"],{enumDescriptions:[o.a("foldingStrategy.auto","Use a language-specific folding strategy if available, else the indentation-based one."),o.a("foldingStrategy.indentation","Use the indentation-based folding strategy.")],description:o.a("foldingStrategy","Controls the strategy for computing folding ranges.")})),foldingHighlight:I(new p(39,"foldingHighlight",!0,{description:o.a("foldingHighlight","Controls whether the editor should highlight folded ranges.")})),foldingImportsByDefault:I(new p(40,"foldingImportsByDefault",!1,{description:o.a("foldingImportsByDefault","Controls whether the editor automatically collapses import ranges.")})),unfoldOnClickAfterEndOfLine:I(new p(41,"unfoldOnClickAfterEndOfLine",!1,{description:o.a("unfoldOnClickAfterEndOfLine","Controls whether clicking on the empty content after a folded line will unfold the line.")})),fontFamily:I(new b(42,"fontFamily",O.fontFamily,{description:o.a("fontFamily","Controls the font family.")})),fontInfo:I(new class extends h{constructor(){super(43)}compute(e,t,i){return e.fontInfo}}),fontLigatures2:I(new y),fontSize:I(new class extends u{constructor(){super(45,"fontSize",O.fontSize,{type:"number",minimum:6,maximum:100,default:O.fontSize,description:o.a("fontSize","Controls the font size in pixels.")})}validate(e){return 0===(e=v.float(e,this.defaultValue))?O.fontSize:v.clamp(e,6,100)}compute(e,t,i){return e.fontInfo.fontSize}}),fontWeight:I(new x),formatOnPaste:I(new p(47,"formatOnPaste",!1,{description:o.a("formatOnPaste","Controls whether the editor should automatically format the pasted content. A formatter must be available and the formatter should be able to format a range in a document.")})),formatOnType:I(new p(48,"formatOnType",!1,{description:o.a("formatOnType","Controls whether the editor should automatically format the line after typing.")})),glyphMargin:I(new p(49,"glyphMargin",!0,{description:o.a("glyphMargin","Controls whether the editor should render the vertical glyph margin. Glyph margin is mostly used for debugging.")})),gotoLocation:I(new class extends d{constructor(){var e={multiple:"peek",multipleDefinitions:"peek",multipleTypeDefinitions:"peek",multipleDeclarations:"peek",multipleImplementations:"peek",multipleReferences:"peek",alternativeDefinitionCommand:"editor.action.goToReferences",alternativeTypeDefinitionCommand:"editor.action.goToReferences",alternativeDeclarationCommand:"editor.action.goToReferences",alternativeImplementationCommand:"",alternativeReferenceCommand:""},t={type:"string",enum:["peek","gotoAndPeek","goto"],default:e.multiple,enumDescriptions:[o.a("editor.gotoLocation.multiple.peek","Show peek view of the results (default)"),o.a("editor.gotoLocation.multiple.gotoAndPeek","Go to the primary result and show a peek view"),o.a("editor.gotoLocation.multiple.goto","Go to the primary result and enable peek-less navigation to others")]},i=["","editor.action.referenceSearch.trigger","editor.action.goToReferences","editor.action.peekImplementation","editor.action.goToImplementation","editor.action.peekTypeDefinition","editor.action.goToTypeDefinition","editor.action.peekDeclaration","editor.action.revealDeclaration","editor.action.peekDefinition","editor.action.revealDefinitionAside","editor.action.revealDefinition"];super(50,"gotoLocation",e,{"editor.gotoLocation.multiple":{deprecationMessage:o.a("editor.gotoLocation.multiple.deprecated","This setting is deprecated, please use separate settings like 'editor.editor.gotoLocation.multipleDefinitions' or 'editor.editor.gotoLocation.multipleImplementations' instead.")},"editor.gotoLocation.multipleDefinitions":Object.assign({description:o.a("editor.editor.gotoLocation.multipleDefinitions","Controls the behavior the 'Go to Definition'-command when multiple target locations exist.")},t),"editor.gotoLocation.multipleTypeDefinitions":Object.assign({description:o.a("editor.editor.gotoLocation.multipleTypeDefinitions","Controls the behavior the 'Go to Type Definition'-command when multiple target locations exist.")},t),"editor.gotoLocation.multipleDeclarations":Object.assign({description:o.a("editor.editor.gotoLocation.multipleDeclarations","Controls the behavior the 'Go to Declaration'-command when multiple target locations exist.")},t),"editor.gotoLocation.multipleImplementations":Object.assign({description:o.a("editor.editor.gotoLocation.multipleImplemenattions","Controls the behavior the 'Go to Implementations'-command when multiple target locations exist.")},t),"editor.gotoLocation.multipleReferences":Object.assign({description:o.a("editor.editor.gotoLocation.multipleReferences","Controls the behavior the 'Go to References'-command when multiple target locations exist.")},t),"editor.gotoLocation.alternativeDefinitionCommand":{type:"string",default:e.alternativeDefinitionCommand,enum:i,description:o.a("alternativeDefinitionCommand","Alternative command id that is being executed when the result of 'Go to Definition' is the current location.")},"editor.gotoLocation.alternativeTypeDefinitionCommand":{type:"string",default:e.alternativeTypeDefinitionCommand,enum:i,description:o.a("alternativeTypeDefinitionCommand","Alternative command id that is being executed when the result of 'Go to Type Definition' is the current location.")},"editor.gotoLocation.alternativeDeclarationCommand":{type:"string",default:e.alternativeDeclarationCommand,enum:i,description:o.a("alternativeDeclarationCommand","Alternative command id that is being executed when the result of 'Go to Declaration' is the current location.")},"editor.gotoLocation.alternativeImplementationCommand":{type:"string",default:e.alternativeImplementationCommand,enum:i,description:o.a("alternativeImplementationCommand","Alternative command id that is being executed when the result of 'Go to Implementation' is the current location.")},"editor.gotoLocation.alternativeReferenceCommand":{type:"string",default:e.alternativeReferenceCommand,enum:i,description:o.a("alternativeReferenceCommand","Alternative command id that is being executed when the result of 'Go to Reference' is the current location.")}})}validate(e){if(!e||"object"!=typeof e)return this.defaultValue;var t=e;return{multiple:_(t.multiple,this.defaultValue.multiple,["peek","gotoAndPeek","goto"]),multipleDefinitions:null!==(e=t.multipleDefinitions)&&void 0!==e?e:_(t.multipleDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleTypeDefinitions:null!==(e=t.multipleTypeDefinitions)&&void 0!==e?e:_(t.multipleTypeDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleDeclarations:null!==(e=t.multipleDeclarations)&&void 0!==e?e:_(t.multipleDeclarations,"peek",["peek","gotoAndPeek","goto"]),multipleImplementations:null!==(e=t.multipleImplementations)&&void 0!==e?e:_(t.multipleImplementations,"peek",["peek","gotoAndPeek","goto"]),multipleReferences:null!==(e=t.multipleReferences)&&void 0!==e?e:_(t.multipleReferences,"peek",["peek","gotoAndPeek","goto"]),alternativeDefinitionCommand:b.string(t.alternativeDefinitionCommand,this.defaultValue.alternativeDefinitionCommand),alternativeTypeDefinitionCommand:b.string(t.alternativeTypeDefinitionCommand,this.defaultValue.alternativeTypeDefinitionCommand),alternativeDeclarationCommand:b.string(t.alternativeDeclarationCommand,this.defaultValue.alternativeDeclarationCommand),alternativeImplementationCommand:b.string(t.alternativeImplementationCommand,this.defaultValue.alternativeImplementationCommand),alternativeReferenceCommand:b.string(t.alternativeReferenceCommand,this.defaultValue.alternativeReferenceCommand)}}}),hideCursorInOverviewRuler:I(new p(51,"hideCursorInOverviewRuler",!1,{description:o.a("hideCursorInOverviewRuler","Controls whether the cursor should be hidden in the overview ruler.")})),hover:I(new class extends d{constructor(){var e={enabled:!0,delay:300,sticky:!0,above:!0};super(52,"hover",e,{"editor.hover.enabled":{type:"boolean",default:e.enabled,description:o.a("hover.enabled","Controls whether the hover is shown.")},"editor.hover.delay":{type:"number",default:e.delay,description:o.a("hover.delay","Controls the delay in milliseconds after which the hover is shown.")},"editor.hover.sticky":{type:"boolean",default:e.sticky,description:o.a("hover.sticky","Controls whether the hover should remain visible when mouse is moved over it.")},"editor.hover.above":{type:"boolean",default:e.above,description:o.a("hover.above","Prefer showing hovers above the line, if there's space.")}})}validate(e){return e&&"object"==typeof e?{enabled:g(e.enabled,this.defaultValue.enabled),delay:m.clampedInt(e.delay,this.defaultValue.delay,0,1e4),sticky:g(e.sticky,this.defaultValue.sticky),above:g(e.above,this.defaultValue.above)}:this.defaultValue}}),inDiffEditor:I(new p(53,"inDiffEditor",!1)),letterSpacing:I(new v(55,"letterSpacing",O.letterSpacing,e=>v.clamp(e,-5,20),{description:o.a("letterSpacing","Controls the letter spacing in pixels.")})),lightbulb:I(new class extends d{constructor(){var e={enabled:!0};super(56,"lightbulb",e,{"editor.lightbulb.enabled":{type:"boolean",default:e.enabled,description:o.a("codeActions","Enables the code action lightbulb in the editor.")}})}validate(e){return e&&"object"==typeof e?{enabled:g(e.enabled,this.defaultValue.enabled)}:this.defaultValue}}),lineDecorationsWidth:I(new u(57,"lineDecorationsWidth",10)),lineHeight:I(new class extends v{constructor(){super(58,"lineHeight",O.lineHeight,e=>v.clamp(e,0,150),{markdownDescription:o.a("lineHeight","Controls the line height. \n - Use 0 to automatically compute the line height from the font size.\n - Values between 0 and 8 will be used as a multiplier with the font size.\n - Values greater than or equal to 8 will be used as effective values.")})}compute(e,t,i){return e.fontInfo.lineHeight}}),lineNumbers:I(new class extends d{constructor(){super(59,"lineNumbers",{renderType:1,renderFn:null},{type:"string",enum:["off","on","relative","interval"],enumDescriptions:[o.a("lineNumbers.off","Line numbers are not rendered."),o.a("lineNumbers.on","Line numbers are rendered as absolute number."),o.a("lineNumbers.relative","Line numbers are rendered as distance in lines to cursor position."),o.a("lineNumbers.interval","Line numbers are rendered every 10 lines.")],default:"on",description:o.a("lineNumbers","Controls the display of line numbers.")})}validate(e){let t=this.defaultValue.renderType,i=this.defaultValue.renderFn;return void 0!==e&&("function"==typeof e?(t=4,i=e):t="interval"===e?3:"relative"===e?2:"on"===e?1:0),{renderType:t,renderFn:i}}}),lineNumbersMinChars:I(new m(60,"lineNumbersMinChars",5,1,300)),linkedEditing:I(new p(61,"linkedEditing",!1,{description:o.a("linkedEditing","Controls whether the editor has linked editing enabled. Depending on the language, related symbols, e.g. HTML tags, are updated while editing.")})),links:I(new p(62,"links",!0,{description:o.a("links","Controls whether the editor should detect links and make them clickable.")})),matchBrackets:I(new w(63,"matchBrackets","always",["always","near","never"],{description:o.a("matchBrackets","Highlight matching brackets.")})),minimap:I(new class extends d{constructor(){var e={enabled:!0,size:"proportional",side:"right",showSlider:"mouseover",renderCharacters:!0,maxColumn:120,scale:1};super(64,"minimap",e,{"editor.minimap.enabled":{type:"boolean",default:e.enabled,description:o.a("minimap.enabled","Controls whether the minimap is shown.")},"editor.minimap.size":{type:"string",enum:["proportional","fill","fit"],enumDescriptions:[o.a("minimap.size.proportional","The minimap has the same size as the editor contents (and might scroll)."),o.a("minimap.size.fill","The minimap will stretch or shrink as necessary to fill the height of the editor (no scrolling)."),o.a("minimap.size.fit","The minimap will shrink as necessary to never be larger than the editor (no scrolling).")],default:e.size,description:o.a("minimap.size","Controls the size of the minimap.")},"editor.minimap.side":{type:"string",enum:["left","right"],default:e.side,description:o.a("minimap.side","Controls the side where to render the minimap.")},"editor.minimap.showSlider":{type:"string",enum:["always","mouseover"],default:e.showSlider,description:o.a("minimap.showSlider","Controls when the minimap slider is shown.")},"editor.minimap.scale":{type:"number",default:e.scale,minimum:1,maximum:3,enum:[1,2,3],description:o.a("minimap.scale","Scale of content drawn in the minimap: 1, 2 or 3.")},"editor.minimap.renderCharacters":{type:"boolean",default:e.renderCharacters,description:o.a("minimap.renderCharacters","Render the actual characters on a line as opposed to color blocks.")},"editor.minimap.maxColumn":{type:"number",default:e.maxColumn,description:o.a("minimap.maxColumn","Limit the width of the minimap to render at most a certain number of columns.")}})}validate(e){return e&&"object"==typeof e?{enabled:g(e.enabled,this.defaultValue.enabled),size:_(e.size,this.defaultValue.size,["proportional","fill","fit"]),side:_(e.side,this.defaultValue.side,["right","left"]),showSlider:_(e.showSlider,this.defaultValue.showSlider,["always","mouseover"]),renderCharacters:g(e.renderCharacters,this.defaultValue.renderCharacters),scale:m.clampedInt(e.scale,1,1,3),maxColumn:m.clampedInt(e.maxColumn,this.defaultValue.maxColumn,1,1e4)}:this.defaultValue}}),mouseStyle:I(new w(65,"mouseStyle","text",["text","default","copy"])),mouseWheelScrollSensitivity:I(new v(66,"mouseWheelScrollSensitivity",1,e=>0===e?1:e,{markdownDescription:o.a("mouseWheelScrollSensitivity","A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.")})),mouseWheelZoom:I(new p(67,"mouseWheelZoom",!1,{markdownDescription:o.a("mouseWheelZoom","Zoom the font of the editor when using mouse wheel and holding `Ctrl`.")})),multiCursorMergeOverlapping:I(new p(68,"multiCursorMergeOverlapping",!0,{description:o.a("multiCursorMergeOverlapping","Merge multiple cursors when they are overlapping.")})),multiCursorModifier:I(new C(69,"multiCursorModifier","altKey","alt",["ctrlCmd","alt"],(function(e){return"ctrlCmd"===e?r.f?"metaKey":"ctrlKey":"altKey"}),{markdownEnumDescriptions:[o.a("multiCursorModifier.ctrlCmd","Maps to `Control` on Windows and Linux and to `Command` on macOS."),o.a("multiCursorModifier.alt","Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],markdownDescription:o.a({key:"multiCursorModifier",comment:["- `ctrlCmd` refers to a value the setting can take and should not be localized.","- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized."]},"The modifier to be used to add multiple cursors with the mouse. The 前往 Definition and Open Link mouse gestures will adapt such that they do not conflict with the multicursor modifier. [Read more](https://code.visualstudio.com/docs/editor/codebasics#_multicursor-modifier).")})),multiCursorPaste:I(new w(70,"multiCursorPaste","spread",["spread","full"],{markdownEnumDescriptions:[o.a("multiCursorPaste.spread","Each cursor pastes a single line of the text."),o.a("multiCursorPaste.full","Each cursor pastes the full text.")],markdownDescription:o.a("multiCursorPaste","Controls pasting when the line count of the pasted text matches the cursor count.")})),occurrencesHighlight:I(new p(71,"occurrencesHighlight",!0,{description:o.a("occurrencesHighlight","Controls whether the editor should highlight semantic symbol occurrences.")})),overviewRulerBorder:I(new p(72,"overviewRulerBorder",!0,{description:o.a("overviewRulerBorder","Controls whether a border should be drawn around the overview ruler.")})),overviewRulerLanes:I(new m(73,"overviewRulerLanes",3,0,3)),padding:I(new class extends d{constructor(){super(74,"padding",{top:0,bottom:0},{"editor.padding.top":{type:"number",default:0,minimum:0,maximum:1e3,description:o.a("padding.top","Controls the amount of space between the top edge of the editor and the first line.")},"editor.padding.bottom":{type:"number",default:0,minimum:0,maximum:1e3,description:o.a("padding.bottom","Controls the amount of space between the bottom edge of the editor and the last line.")}})}validate(e){return e&&"object"==typeof e?{top:m.clampedInt(e.top,0,0,1e3),bottom:m.clampedInt(e.bottom,0,0,1e3)}:this.defaultValue}}),parameterHints:I(new class extends d{constructor(){var e={enabled:!0,cycle:!1};super(75,"parameterHints",e,{"editor.parameterHints.enabled":{type:"boolean",default:e.enabled,description:o.a("parameterHints.enabled","Enables a pop-up that shows parameter documentation and type information as you type.")},"editor.parameterHints.cycle":{type:"boolean",default:e.cycle,description:o.a("parameterHints.cycle","Controls whether the parameter hints menu cycles or closes when reaching the end of the list.")}})}validate(e){return e&&"object"==typeof e?{enabled:g(e.enabled,this.defaultValue.enabled),cycle:g(e.cycle,this.defaultValue.cycle)}:this.defaultValue}}),peekWidgetDefaultFocus:I(new w(76,"peekWidgetDefaultFocus","tree",["tree","editor"],{enumDescriptions:[o.a("peekWidgetDefaultFocus.tree","Focus the tree when opening peek"),o.a("peekWidgetDefaultFocus.editor","Focus the editor when opening peek")],description:o.a("peekWidgetDefaultFocus","Controls whether to focus the inline editor or the tree in the peek widget.")})),definitionLinkOpensInPeek:I(new p(77,"definitionLinkOpensInPeek",!1,{description:o.a("definitionLinkOpensInPeek","Controls whether the 前往 Definition mouse gesture always opens the peek widget.")})),quickSuggestions:I(new class extends d{constructor(){var e={other:!0,comments:!1,strings:!1};super(78,"quickSuggestions",e,{anyOf:[{type:"boolean"},{type:"object",properties:{strings:{type:"boolean",default:e.strings,description:o.a("quickSuggestions.strings","Enable quick suggestions inside strings.")},comments:{type:"boolean",default:e.comments,description:o.a("quickSuggestions.comments","Enable quick suggestions inside comments.")},other:{type:"boolean",default:e.other,description:o.a("quickSuggestions.other","Enable quick suggestions outside of strings and comments.")}}}],default:e,description:o.a("quickSuggestions","Controls whether suggestions should automatically show up while typing.")}),this.defaultValue=e}validate(e){return"boolean"==typeof e?e:e&&"object"==typeof e?!!((e={other:g((e=e).other,this.defaultValue.other),comments:g(e.comments,this.defaultValue.comments),strings:g(e.strings,this.defaultValue.strings)}).other&&e.comments&&e.strings)||!!(e.other||e.comments||e.strings)&&e:this.defaultValue}}),quickSuggestionsDelay:I(new m(79,"quickSuggestionsDelay",10,0,1073741824,{description:o.a("quickSuggestionsDelay","Controls the delay in milliseconds after which quick suggestions will show up.")})),readOnly:I(new p(80,"readOnly",!1)),renameOnType:I(new p(81,"renameOnType",!1,{description:o.a("renameOnType","Controls whether the editor auto renames on type."),markdownDeprecationMessage:o.a("renameOnTypeDeprecate","Deprecated, use `editor.linkedEditing` instead.")})),renderControlCharacters:I(new p(82,"renderControlCharacters",!0,{description:o.a("renderControlCharacters","Controls whether the editor should render control characters."),restricted:!0})),renderFinalNewline:I(new p(83,"renderFinalNewline",!0,{description:o.a("renderFinalNewline","Render last line number when the file ends with a newline.")})),renderLineHighlight:I(new w(84,"renderLineHighlight","line",["none","gutter","line","all"],{enumDescriptions:["","","",o.a("renderLineHighlight.all","Highlights both the gutter and the current line.")],description:o.a("renderLineHighlight","Controls how the editor should render the current line highlight.")})),renderLineHighlightOnlyWhenFocus:I(new p(85,"renderLineHighlightOnlyWhenFocus",!1,{description:o.a("renderLineHighlightOnlyWhenFocus","Controls if the editor should render the current line highlight only when the editor is focused.")})),renderValidationDecorations:I(new w(86,"renderValidationDecorations","editable",["editable","on","off"])),renderWhitespace:I(new w(87,"renderWhitespace","selection",["none","boundary","selection","trailing","all"],{enumDescriptions:["",o.a("renderWhitespace.boundary","Render whitespace characters except for single spaces between words."),o.a("renderWhitespace.selection","Render whitespace characters only on selected text."),o.a("renderWhitespace.trailing","Render only trailing whitespace characters."),""],description:o.a("renderWhitespace","Controls how the editor should render whitespace characters.")})),revealHorizontalRightPadding:I(new m(88,"revealHorizontalRightPadding",30,0,1e3)),roundedSelection:I(new p(89,"roundedSelection",!0,{description:o.a("roundedSelection","Controls whether selections should have rounded corners.")})),rulers:I(new class extends d{constructor(){var e=[],t={type:"number",description:o.a("rulers.size","Number of monospace characters at which this editor ruler will render.")};super(90,"rulers",e,{type:"array",items:{anyOf:[t,{type:["object"],properties:{column:t,color:{type:"string",description:o.a("rulers.color","Color of this editor ruler."),format:"color-hex"}}}]},default:e,description:o.a("rulers","Render vertical rulers after a certain number of monospace characters. Use multiple values for multiple rulers. No rulers are drawn if array is empty.")})}validate(e){if(Array.isArray(e)){let i=[];for(var t of e)"number"==typeof t?i.push({column:m.clampedInt(t,0,0,1e4),color:null}):t&&"object"==typeof t&&(t=t,i.push({column:m.clampedInt(t.column,0,0,1e4),color:t.color}));return i.sort((e,t)=>e.column-t.column),i}return this.defaultValue}}),scrollbar:I(new class extends d{constructor(){var e={vertical:1,horizontal:1,arrowSize:11,useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,horizontalScrollbarSize:12,horizontalSliderSize:12,verticalScrollbarSize:14,verticalSliderSize:14,handleMouseWheel:!0,alwaysConsumeMouseWheel:!0,scrollByPage:!1};super(91,"scrollbar",e,{"editor.scrollbar.vertical":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[o.a("scrollbar.vertical.auto","The vertical scrollbar will be visible only when necessary."),o.a("scrollbar.vertical.visible","The vertical scrollbar will always be visible."),o.a("scrollbar.vertical.fit","The vertical scrollbar will always be hidden.")],default:"auto",description:o.a("scrollbar.vertical","Controls the visibility of the vertical scrollbar.")},"editor.scrollbar.horizontal":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[o.a("scrollbar.horizontal.auto","The horizontal scrollbar will be visible only when necessary."),o.a("scrollbar.horizontal.visible","The horizontal scrollbar will always be visible."),o.a("scrollbar.horizontal.fit","The horizontal scrollbar will always be hidden.")],default:"auto",description:o.a("scrollbar.horizontal","Controls the visibility of the horizontal scrollbar.")},"editor.scrollbar.verticalScrollbarSize":{type:"number",default:e.verticalScrollbarSize,description:o.a("scrollbar.verticalScrollbarSize","The width of the vertical scrollbar.")},"editor.scrollbar.horizontalScrollbarSize":{type:"number",default:e.horizontalScrollbarSize,description:o.a("scrollbar.horizontalScrollbarSize","The height of the horizontal scrollbar.")},"editor.scrollbar.scrollByPage":{type:"boolean",default:e.scrollByPage,description:o.a("scrollbar.scrollByPage","Controls whether clicks scroll by page or jump to click position.")}})}validate(e){if(!e||"object"!=typeof e)return this.defaultValue;var t=e,i=m.clampedInt(t.horizontalScrollbarSize,this.defaultValue.horizontalScrollbarSize,0,1e3);e=m.clampedInt(t.verticalScrollbarSize,this.defaultValue.verticalScrollbarSize,0,1e3);return{arrowSize:m.clampedInt(t.arrowSize,this.defaultValue.arrowSize,0,1e3),vertical:D(t.vertical,this.defaultValue.vertical),horizontal:D(t.horizontal,this.defaultValue.horizontal),useShadows:g(t.useShadows,this.defaultValue.useShadows),verticalHasArrows:g(t.verticalHasArrows,this.defaultValue.verticalHasArrows),horizontalHasArrows:g(t.horizontalHasArrows,this.defaultValue.horizontalHasArrows),handleMouseWheel:g(t.handleMouseWheel,this.defaultValue.handleMouseWheel),alwaysConsumeMouseWheel:g(t.alwaysConsumeMouseWheel,this.defaultValue.alwaysConsumeMouseWheel),horizontalScrollbarSize:i,horizontalSliderSize:m.clampedInt(t.horizontalSliderSize,i,0,1e3),verticalScrollbarSize:e,verticalSliderSize:m.clampedInt(t.verticalSliderSize,e,0,1e3),scrollByPage:g(t.scrollByPage,this.defaultValue.scrollByPage)}}}),scrollBeyondLastColumn:I(new m(92,"scrollBeyondLastColumn",5,0,1073741824,{description:o.a("scrollBeyondLastColumn","Controls the number of extra characters beyond which the editor will scroll horizontally.")})),scrollBeyondLastLine:I(new p(93,"scrollBeyondLastLine",!0,{description:o.a("scrollBeyondLastLine","Controls whether the editor will scroll beyond the last line.")})),scrollPredominantAxis:I(new p(94,"scrollPredominantAxis",!0,{description:o.a("scrollPredominantAxis","Scroll only along the predominant axis when scrolling both vertically and horizontally at the same time. Prevents horizontal drift when scrolling vertically on a trackpad.")})),selectionClipboard:I(new p(95,"selectionClipboard",!0,{description:o.a("selectionClipboard","Controls whether the Linux primary clipboard should be supported."),included:r.d})),selectionHighlight:I(new p(96,"selectionHighlight",!0,{description:o.a("selectionHighlight","Controls whether the editor should highlight matches similar to the selection.")})),selectOnLineNumbers:I(new p(97,"selectOnLineNumbers",!0)),showFoldingControls:I(new w(98,"showFoldingControls","mouseover",["always","mouseover"],{enumDescriptions:[o.a("showFoldingControls.always","Always show the folding controls."),o.a("showFoldingControls.mouseover","Only show the folding controls when the mouse is over the gutter.")],description:o.a("showFoldingControls","Controls when the folding controls on the gutter are shown.")})),showUnused:I(new p(99,"showUnused",!0,{description:o.a("showUnused","Controls fading out of unused code.")})),showDeprecated:I(new p(124,"showDeprecated",!0,{description:o.a("showDeprecated","Controls strikethrough deprecated variables.")})),inlayHints:I(new class extends d{constructor(){var e={enabled:!0,fontSize:0,fontFamily:""};super(125,"inlayHints",e,{"editor.inlayHints.enabled":{type:"boolean",default:e.enabled,description:o.a("inlayHints.enable","Enables the inlay hints in the editor.")},"editor.inlayHints.fontSize":{type:"number",default:e.fontSize,markdownDescription:o.a("inlayHints.fontSize","Controls font size of inlay hints in the editor. A default of 90% of `#editor.fontSize#` is used when the configured value is less than `5` or greater than the editor font size.")},"editor.inlayHints.fontFamily":{type:"string",default:e.fontFamily,markdownDescription:o.a("inlayHints.fontFamily","Controls font family of inlay hints in the editor. When set to empty, the `#editor.fontFamily#` is used.")}})}validate(e){return e&&"object"==typeof e?{enabled:g(e.enabled,this.defaultValue.enabled),fontSize:m.clampedInt(e.fontSize,this.defaultValue.fontSize,0,100),fontFamily:b.string(e.fontFamily,this.defaultValue.fontFamily)}:this.defaultValue}}),snippetSuggestions:I(new w(100,"snippetSuggestions","inline",["top","bottom","inline","none"],{enumDescriptions:[o.a("snippetSuggestions.top","Show snippet suggestions on top of other suggestions."),o.a("snippetSuggestions.bottom","Show snippet suggestions below other suggestions."),o.a("snippetSuggestions.inline","Show snippets suggestions with other suggestions."),o.a("snippetSuggestions.none","Do not show snippet suggestions.")],description:o.a("snippetSuggestions","Controls whether snippets are shown with other suggestions and how they are sorted.")})),smartSelect:I(new class extends d{constructor(){super(101,"smartSelect",{selectLeadingAndTrailingWhitespace:!0},{"editor.smartSelect.selectLeadingAndTrailingWhitespace":{description:o.a("selectLeadingAndTrailingWhitespace","Whether leading and trailing whitespace should always be selected."),default:!0,type:"boolean"}})}validate(e){return e&&"object"==typeof e?{selectLeadingAndTrailingWhitespace:g(e.selectLeadingAndTrailingWhitespace,this.defaultValue.selectLeadingAndTrailingWhitespace)}:this.defaultValue}}),smoothScrolling:I(new p(102,"smoothScrolling",!1,{description:o.a("smoothScrolling","Controls whether the editor will scroll using an animation.")})),stopRenderingLineAfter:I(new m(104,"stopRenderingLineAfter",1e4,-1,1073741824)),suggest:I(new class extends d{constructor(){var e={insertMode:"insert",filterGraceful:!0,snippetsPreventQuickSuggestions:!0,localityBonus:!1,shareSuggestSelections:!1,showIcons:!0,showStatusBar:!1,preview:!1,previewMode:"subwordSmart",showInlineDetails:!0,showMethods:!0,showFunctions:!0,showConstructors:!0,showDeprecated:!0,showFields:!0,showVariables:!0,showClasses:!0,showStructs:!0,showInterfaces:!0,showModules:!0,showProperties:!0,showEvents:!0,showOperators:!0,showUnits:!0,showValues:!0,showConstants:!0,showEnums:!0,showEnumMembers:!0,showKeywords:!0,showWords:!0,showColors:!0,showFiles:!0,showReferences:!0,showFolders:!0,showTypeParameters:!0,showSnippets:!0,showUsers:!0,showIssues:!0};super(105,"suggest",e,{"editor.suggest.insertMode":{type:"string",enum:["insert","replace"],enumDescriptions:[o.a("suggest.insertMode.insert","Insert suggestion without overwriting text right of the cursor."),o.a("suggest.insertMode.replace","Insert suggestion and overwrite text right of the cursor.")],default:e.insertMode,description:o.a("suggest.insertMode","Controls whether words are overwritten when accepting completions. Note that this depends on extensions opting into this feature.")},"editor.suggest.filterGraceful":{type:"boolean",default:e.filterGraceful,description:o.a("suggest.filterGraceful","Controls whether filtering and sorting suggestions accounts for small typos.")},"editor.suggest.localityBonus":{type:"boolean",default:e.localityBonus,description:o.a("suggest.localityBonus","Controls whether sorting favors words that appear close to the cursor.")},"editor.suggest.shareSuggestSelections":{type:"boolean",default:e.shareSuggestSelections,markdownDescription:o.a("suggest.shareSuggestSelections","Controls whether remembered suggestion selections are shared between multiple workspaces and windows (needs `#editor.suggestSelection#`).")},"editor.suggest.snippetsPreventQuickSuggestions":{type:"boolean",default:e.snippetsPreventQuickSuggestions,description:o.a("suggest.snippetsPreventQuickSuggestions","Controls whether an active snippet prevents quick suggestions.")},"editor.suggest.showIcons":{type:"boolean",default:e.showIcons,description:o.a("suggest.showIcons","Controls whether to show or hide icons in suggestions.")},"editor.suggest.showStatusBar":{type:"boolean",default:e.showStatusBar,description:o.a("suggest.showStatusBar","Controls the visibility of the status bar at the bottom of the suggest widget.")},"editor.suggest.preview":{type:"boolean",default:e.preview,description:o.a("suggest.preview","Controls whether to preview the suggestion outcome in the editor.")},"editor.suggest.showInlineDetails":{type:"boolean",default:e.showInlineDetails,description:o.a("suggest.showInlineDetails","Controls whether suggest details show inline with the label or only in the details widget")},"editor.suggest.maxVisibleSuggestions":{type:"number",deprecationMessage:o.a("suggest.maxVisibleSuggestions.dep","This setting is deprecated. The suggest widget can now be resized.")},"editor.suggest.filteredTypes":{type:"object",deprecationMessage:o.a("deprecated","This setting is deprecated, please use separate settings like 'editor.suggest.showKeywords' or 'editor.suggest.showSnippets' instead.")},"editor.suggest.showMethods":{type:"boolean",default:!0,markdownDescription:o.a("editor.suggest.showMethods","When enabled IntelliSense shows `method`-suggestions.")},"editor.suggest.showFunctions":{type:"boolean",default:!0,markdownDescription:o.a("editor.suggest.showFunctions","When enabled IntelliSense shows `function`-suggestions.")},"editor.suggest.showConstructors":{type:"boolean",default:!0,markdownDescription:o.a("editor.suggest.showConstructors","When enabled IntelliSense shows `constructor`-suggestions.")},"editor.suggest.showDeprecated":{type:"boolean",default:!0,markdownDescription:o.a("editor.suggest.showDeprecated","When enabled IntelliSense shows `deprecated`-suggestions.")},"editor.suggest.showFields":{type:"boolean",default:!0,markdownDescription:o.a("editor.suggest.showFields","When enabled IntelliSense shows `field`-suggestions.")},"editor.suggest.showVariables":{type:"boolean",default:!0,markdownDescription:o.a("editor.suggest.showVariables","When enabled IntelliSense shows `variable`-suggestions.")},"editor.suggest.showClasses":{type:"boolean",default:!0,markdownDescription:o.a("editor.suggest.showClasss","When enabled IntelliSense shows `class`-suggestions.")},"editor.suggest.showStructs":{type:"boolean",default:!0,markdownDescription:o.a("editor.suggest.showStructs","When enabled IntelliSense shows `struct`-suggestions.")},"editor.suggest.showInterfaces":{type:"boolean",default:!0,markdownDescription:o.a("editor.suggest.showInterfaces","When enabled IntelliSense shows `interface`-suggestions.")},"editor.suggest.showModules":{type:"boolean",default:!0,markdownDescription:o.a("editor.suggest.showModules","When enabled IntelliSense shows `module`-suggestions.")},"editor.suggest.showProperties":{type:"boolean",default:!0,markdownDescription:o.a("editor.suggest.showPropertys","When enabled IntelliSense shows `property`-suggestions.")},"editor.suggest.showEvents":{type:"boolean",default:!0,markdownDescription:o.a("editor.suggest.showEvents","When enabled IntelliSense shows `event`-suggestions.")},"editor.suggest.showOperators":{type:"boolean",default:!0,markdownDescription:o.a("editor.suggest.showOperators","When enabled IntelliSense shows `operator`-suggestions.")},"editor.suggest.showUnits":{type:"boolean",default:!0,markdownDescription:o.a("editor.suggest.showUnits","When enabled IntelliSense shows `unit`-suggestions.")},"editor.suggest.showValues":{type:"boolean",default:!0,markdownDescription:o.a("editor.suggest.showValues","When enabled IntelliSense shows `value`-suggestions.")},"editor.suggest.showConstants":{type:"boolean",default:!0,markdownDescription:o.a("editor.suggest.showConstants","When enabled IntelliSense shows `constant`-suggestions.")},"editor.suggest.showEnums":{type:"boolean",default:!0,markdownDescription:o.a("editor.suggest.showEnums","When enabled IntelliSense shows `enum`-suggestions.")},"editor.suggest.showEnumMembers":{type:"boolean",default:!0,markdownDescription:o.a("editor.suggest.showEnumMembers","When enabled IntelliSense shows `enumMember`-suggestions.")},"editor.suggest.showKeywords":{type:"boolean",default:!0,markdownDescription:o.a("editor.suggest.showKeywords","When enabled IntelliSense shows `keyword`-suggestions.")},"editor.suggest.showWords":{type:"boolean",default:!0,markdownDescription:o.a("editor.suggest.showTexts","When enabled IntelliSense shows `text`-suggestions.")},"editor.suggest.showColors":{type:"boolean",default:!0,markdownDescription:o.a("editor.suggest.showColors","When enabled IntelliSense shows `color`-suggestions.")},"editor.suggest.showFiles":{type:"boolean",default:!0,markdownDescription:o.a("editor.suggest.showFiles","When enabled IntelliSense shows `file`-suggestions.")},"editor.suggest.showReferences":{type:"boolean",default:!0,markdownDescription:o.a("editor.suggest.showReferences","When enabled IntelliSense shows `reference`-suggestions.")},"editor.suggest.showCustomcolors":{type:"boolean",default:!0,markdownDescription:o.a("editor.suggest.showCustomcolors","When enabled IntelliSense shows `customcolor`-suggestions.")},"editor.suggest.showFolders":{type:"boolean",default:!0,markdownDescription:o.a("editor.suggest.showFolders","When enabled IntelliSense shows `folder`-suggestions.")},"editor.suggest.showTypeParameters":{type:"boolean",default:!0,markdownDescription:o.a("editor.suggest.showTypeParameters","When enabled IntelliSense shows `typeParameter`-suggestions.")},"editor.suggest.showSnippets":{type:"boolean",default:!0,markdownDescription:o.a("editor.suggest.showSnippets","When enabled IntelliSense shows `snippet`-suggestions.")},"editor.suggest.showUsers":{type:"boolean",default:!0,markdownDescription:o.a("editor.suggest.showUsers","When enabled IntelliSense shows `user`-suggestions.")},"editor.suggest.showIssues":{type:"boolean",default:!0,markdownDescription:o.a("editor.suggest.showIssues","When enabled IntelliSense shows `issues`-suggestions.")}})}validate(e){return e&&"object"==typeof e?{insertMode:_(e.insertMode,this.defaultValue.insertMode,["insert","replace"]),filterGraceful:g(e.filterGraceful,this.defaultValue.filterGraceful),snippetsPreventQuickSuggestions:g(e.snippetsPreventQuickSuggestions,this.defaultValue.filterGraceful),localityBonus:g(e.localityBonus,this.defaultValue.localityBonus),shareSuggestSelections:g(e.shareSuggestSelections,this.defaultValue.shareSuggestSelections),showIcons:g(e.showIcons,this.defaultValue.showIcons),showStatusBar:g(e.showStatusBar,this.defaultValue.showStatusBar),preview:g(e.preview,this.defaultValue.preview),previewMode:_(e.previewMode,this.defaultValue.previewMode,["prefix","subword","subwordSmart"]),showInlineDetails:g(e.showInlineDetails,this.defaultValue.showInlineDetails),showMethods:g(e.showMethods,this.defaultValue.showMethods),showFunctions:g(e.showFunctions,this.defaultValue.showFunctions),showConstructors:g(e.showConstructors,this.defaultValue.showConstructors),showDeprecated:g(e.showDeprecated,this.defaultValue.showDeprecated),showFields:g(e.showFields,this.defaultValue.showFields),showVariables:g(e.showVariables,this.defaultValue.showVariables),showClasses:g(e.showClasses,this.defaultValue.showClasses),showStructs:g(e.showStructs,this.defaultValue.showStructs),showInterfaces:g(e.showInterfaces,this.defaultValue.showInterfaces),showModules:g(e.showModules,this.defaultValue.showModules),showProperties:g(e.showProperties,this.defaultValue.showProperties),showEvents:g(e.showEvents,this.defaultValue.showEvents),showOperators:g(e.showOperators,this.defaultValue.showOperators),showUnits:g(e.showUnits,this.defaultValue.showUnits),showValues:g(e.showValues,this.defaultValue.showValues),showConstants:g(e.showConstants,this.defaultValue.showConstants),showEnums:g(e.showEnums,this.defaultValue.showEnums),showEnumMembers:g(e.showEnumMembers,this.defaultValue.showEnumMembers),showKeywords:g(e.showKeywords,this.defaultValue.showKeywords),showWords:g(e.showWords,this.defaultValue.showWords),showColors:g(e.showColors,this.defaultValue.showColors),showFiles:g(e.showFiles,this.defaultValue.showFiles),showReferences:g(e.showReferences,this.defaultValue.showReferences),showFolders:g(e.showFolders,this.defaultValue.showFolders),showTypeParameters:g(e.showTypeParameters,this.defaultValue.showTypeParameters),showSnippets:g(e.showSnippets,this.defaultValue.showSnippets),showUsers:g(e.showUsers,this.defaultValue.showUsers),showIssues:g(e.showIssues,this.defaultValue.showIssues)}:this.defaultValue}}),inlineSuggest:I(new class extends d{constructor(){var e={enabled:!0,mode:"subwordSmart"};super(54,"inlineSuggest",e,{"editor.inlineSuggest.enabled":{type:"boolean",default:e.enabled,description:o.a("inlineSuggest.enabled","Controls whether to automatically show inline suggestions in the editor.")}})}validate(e){return e&&"object"==typeof e?{enabled:g(e.enabled,this.defaultValue.enabled),mode:_(e.mode,this.defaultValue.mode,["prefix","subword","subwordSmart"])}:this.defaultValue}}),suggestFontSize:I(new m(106,"suggestFontSize",0,0,1e3,{markdownDescription:o.a("suggestFontSize","Font size for the suggest widget. When set to `0`, the value of `#editor.fontSize#` is used.")})),suggestLineHeight:I(new m(107,"suggestLineHeight",0,0,1e3,{markdownDescription:o.a("suggestLineHeight","Line height for the suggest widget. When set to `0`, the value of `#editor.lineHeight#` is used. The minimum value is 8.")})),suggestOnTriggerCharacters:I(new p(108,"suggestOnTriggerCharacters",!0,{description:o.a("suggestOnTriggerCharacters","Controls whether suggestions should automatically show up when typing trigger characters.")})),suggestSelection:I(new w(109,"suggestSelection","recentlyUsed",["first","recentlyUsed","recentlyUsedByPrefix"],{markdownEnumDescriptions:[o.a("suggestSelection.first","Always select the first suggestion."),o.a("suggestSelection.recentlyUsed","Select recent suggestions unless further typing selects one, e.g. `console.| -> console.log` because `log` has been completed recently."),o.a("suggestSelection.recentlyUsedByPrefix","Select suggestions based on previous prefixes that have completed those suggestions, e.g. `co -> console` and `con -> const`.")],description:o.a("suggestSelection","Controls how suggestions are pre-selected when showing the suggest list.")})),tabCompletion:I(new w(110,"tabCompletion","off",["on","off","onlySnippets"],{enumDescriptions:[o.a("tabCompletion.on","Tab complete will insert the best matching suggestion when pressing tab."),o.a("tabCompletion.off","Disable tab completions."),o.a("tabCompletion.onlySnippets","Tab complete snippets when their prefix match. Works best when 'quickSuggestions' aren't enabled.")],description:o.a("tabCompletion","Enables tab completions.")})),tabIndex:I(new m(111,"tabIndex",0,-1,1073741824)),unusualLineTerminators:I(new w(112,"unusualLineTerminators","prompt",["auto","off","prompt"],{enumDescriptions:[o.a("unusualLineTerminators.auto","Unusual line terminators are automatically removed."),o.a("unusualLineTerminators.off","Unusual line terminators are ignored."),o.a("unusualLineTerminators.prompt","Unusual line terminators prompt to be removed.")],description:o.a("unusualLineTerminators","Remove unusual line terminators that might cause problems.")})),useShadowDOM:I(new p(113,"useShadowDOM",!0)),useTabStops:I(new p(114,"useTabStops",!0,{description:o.a("useTabStops","Inserting and deleting whitespace follows tab stops.")})),wordSeparators:I(new b(115,"wordSeparators",t.b,{description:o.a("wordSeparators","Characters that will be used as word separators when doing word related navigations or operations.")})),wordWrap:I(new w(116,"wordWrap","off",["off","on","wordWrapColumn","bounded"],{markdownEnumDescriptions:[o.a("wordWrap.off","Lines will never wrap."),o.a("wordWrap.on","Lines will wrap at the viewport width."),o.a({key:"wordWrap.wordWrapColumn",comment:["- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Lines will wrap at `#editor.wordWrapColumn#`."),o.a({key:"wordWrap.bounded",comment:["- viewport means the edge of the visible window size.","- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Lines will wrap at the minimum of viewport and `#editor.wordWrapColumn#`.")],description:o.a({key:"wordWrap",comment:["- 'off', 'on', 'wordWrapColumn' and 'bounded' refer to values the setting can take and should not be localized.","- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Controls how lines should wrap.")})),wordWrapBreakAfterCharacters:I(new b(117,"wordWrapBreakAfterCharacters"," \t})]?|/&.,;¢°′″‰℃、。｡､￠，．：；？！％・･ゝゞヽヾーァィゥェォッャュョヮヵヶぁぃぅぇぉっゃゅょゎゕゖㇰㇱㇲㇳㇴㇵㇶㇷㇸㇹㇺㇻㇼㇽㇾㇿ々〻ｧｨｩｪｫｬｭｮｯｰ”〉》」』】〕）］｝｣")),wordWrapBreakBeforeCharacters:I(new b(118,"wordWrapBreakBeforeCharacters","([{‘“〈《「『【〔（［｛｢£¥＄￡￥+＋")),wordWrapColumn:I(new m(119,"wordWrapColumn",80,1,1073741824,{markdownDescription:o.a({key:"wordWrapColumn",comment:["- `editor.wordWrap` refers to a different setting and should not be localized.","- 'wordWrapColumn' and 'bounded' refer to values the different setting can take and should not be localized."]},"Controls the wrapping column of the editor when `#editor.wordWrap#` is `wordWrapColumn` or `bounded`.")})),wordWrapOverride1:I(new w(120,"wordWrapOverride1","inherit",["off","on","inherit"])),wordWrapOverride2:I(new w(121,"wordWrapOverride2","inherit",["off","on","inherit"])),wrappingIndent:I(new C(122,"wrappingIndent",1,"same",["none","same","indent","deepIndent"],(function(e){switch(e){case"none":return 0;case"same":return 1;case"indent":return 2;case"deepIndent":return 3}}),{enumDescriptions:[o.a("wrappingIndent.none","No indentation. Wrapped lines begin at column 1."),o.a("wrappingIndent.same","Wrapped lines get the same indentation as the parent."),o.a("wrappingIndent.indent","Wrapped lines get +1 indentation toward the parent."),o.a("wrappingIndent.deepIndent","Wrapped lines get +2 indentation toward the parent.")],description:o.a("wrappingIndent","Controls the indentation of wrapped lines.")})),wrappingStrategy:I(new w(123,"wrappingStrategy","simple",["simple","advanced"],{enumDescriptions:[o.a("wrappingStrategy.simple","Assumes that all characters are of the same width. This is a fast algorithm that works correctly for monospace fonts and certain scripts (like Latin characters) where glyphs are of equal width."),o.a("wrappingStrategy.advanced","Delegates wrapping points computation to the browser. This is a slow algorithm, that might cause freezes for large files, but it works correctly in all cases.")],description:o.a("wrappingStrategy","Controls the algorithm that computes wrapping points.")})),editorClassName:I(new class extends h{constructor(){super(126,[65,33])}compute(e,t,i){const n=["monaco-editor"];return t.get(33)&&n.push(t.get(33)),e.extraEditorClassName&&n.push(e.extraEditorClassName),"default"===t.get(65)?n.push("mouse-default"):"copy"===t.get(65)&&n.push("mouse-copy"),t.get(99)&&n.push("showUnused"),t.get(124)&&n.push("showDeprecated"),n.join(" ")}}),pixelRatio:I(new class extends h{constructor(){super(127)}compute(e,t,i){return e.pixelRatio}}),tabFocusMode:I(new class extends h{constructor(){super(128,[80])}compute(e,t,i){return!!t.get(80)||e.tabFocusMode}}),layoutInfo:I(new S),wrappingInfo:I(new class extends h{constructor(){super(130,[129])}compute(e,t,i){return t=t.get(129),{isDominatedByLongLines:e.isDominatedByLongLines,isWordWrapMinified:t.isWordWrapMinified,isViewportWrapping:t.isViewportWrapping,wrappingColumn:t.wrappingColumn}}})}},function(e,t,i){"use strict";i.d(t,"a",(function(){return h})),i.d(t,"b",(function(){return v}));var n=i(72),o=i(15);const r=/^\w[\w\d+.-]*$/,s=/^\//,a=/^\/\//;function l(e,t){if(!e.scheme&&t)throw new Error(`[UriError]: 跳转方案 is missing: {scheme: "", authority: "${e.authority}", path: "${e.path}", query: "${e.query}", fragment: "${e.fragment}"}`);if(e.scheme&&!r.test(e.scheme))throw new Error("[UriError]: 跳转方案 contains illegal characters.");if(e.path)if(e.authority){if(!s.test(e.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(a.test(e.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}const c="/",d=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class h{constructor(e,t,i,n,o,r=!1){"object"==typeof e?(this.scheme=e.scheme||"",this.authority=e.authority||"",this.path=e.path||"",this.query=e.query||"",this.fragment=e.fragment||""):(this.scheme=(e=e)||r?e:"file",this.authority=t||"",this.path=function(e,t){switch(e){case"https":case"http":case"file":t?t[0]!==c&&(t=c+t):t=c}return t}(this.scheme,i||""),this.query=n||"",this.fragment=o||"",l(this,r))}static isUri(e){return e instanceof h||!!e&&"string"==typeof e.authority&&"string"==typeof e.fragment&&"string"==typeof e.path&&"string"==typeof e.query&&"string"==typeof e.scheme&&"string"==typeof e.fsPath&&"function"==typeof e.with&&"function"==typeof e.toString}get fsPath(){return v(this,!1)}with(e){if(!e)return this;let{scheme:t,authority:i,path:n,query:o,fragment:r}=e;return void 0===t?t=this.scheme:null===t&&(t=""),void 0===i?i=this.authority:null===i&&(i=""),void 0===n?n=this.path:null===n&&(n=""),void 0===o?o=this.query:null===o&&(o=""),void 0===r?r=this.fragment:null===r&&(r=""),t===this.scheme&&i===this.authority&&n===this.path&&o===this.query&&r===this.fragment?this:new g(t,i,n,o,r)}static parse(e,t=!1){return(e=d.exec(e))?new g(e[2]||"",w(e[4]||""),w(e[5]||""),w(e[7]||""),w(e[9]||""),t):new g("","","","","")}static file(e){let t="";var i;return(e=o.i?e.replace(/\\/g,c):e)[0]===c&&e[1]===c&&(e=-1===(i=e.indexOf(c,2))?(t=e.substring(2),c):(t=e.substring(2,i),e.substring(i)||c)),new g("file",t,e,"","")}static from(e){return l(e=new g(e.scheme,e.authority,e.path,e.query,e.fragment),!0),e}static joinPath(e,...t){if(!e.path)throw new Error("[UriError]: cannot call joinPath on URI without path");let i;return i=o.i&&"file"===e.scheme?h.file(n.i.join(v(e,!0),...t)).path:n.e.join(e.path,...t),e.with({path:i})}toString(e=!1){return b(this,e)}toJSON(){return this}static revive(e){if(e){if(e instanceof h)return e;{const t=new g(e);return t._formatted=e.external,t._fsPath=e._sep===u?e.fsPath:null,t}}return e}}const u=o.i?1:void 0;class g extends h{constructor(){super(...arguments),this._formatted=null,this._fsPath=null}get fsPath(){return this._fsPath||(this._fsPath=v(this,!1)),this._fsPath}toString(e=!1){return e?b(this,!0):(this._formatted||(this._formatted=b(this,!1)),this._formatted)}toJSON(){const e={$mid:1};return this._fsPath&&(e.fsPath=this._fsPath,e._sep=u),this._formatted&&(e.external=this._formatted),this.path&&(e.path=this.path),this.scheme&&(e.scheme=this.scheme),this.authority&&(e.authority=this.authority),this.query&&(e.query=this.query),this.fragment&&(e.fragment=this.fragment),e}}const p={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function f(e,t){let i=void 0,n=-1;for(let r=0;r<e.length;r++){var o=e.charCodeAt(r);97<=o&&o<=122||65<=o&&o<=90||48<=o&&o<=57||45===o||46===o||95===o||126===o||t&&47===o?(-1!==n&&(i+=encodeURIComponent(e.substring(n,r)),n=-1),void 0!==i&&(i+=e.charAt(r))):(void 0===i&&(i=e.substr(0,r)),void 0!==(o=p[o])?(-1!==n&&(i+=encodeURIComponent(e.substring(n,r)),n=-1),i+=o):-1===n&&(n=r))}return-1!==n&&(i+=encodeURIComponent(e.substring(n))),void 0!==i?i:e}function m(e){let t=void 0;for(let n=0;n<e.length;n++){var i=e.charCodeAt(n);35===i||63===i?(void 0===t&&(t=e.substr(0,n)),t+=p[i]):void 0!==t&&(t+=e[n])}return void 0!==t?t:e}function v(e,t){let i;return i=e.authority&&1<e.path.length&&"file"===e.scheme?`//${e.authority}${e.path}`:47===e.path.charCodeAt(0)&&(65<=e.path.charCodeAt(1)&&e.path.charCodeAt(1)<=90||97<=e.path.charCodeAt(1)&&e.path.charCodeAt(1)<=122)&&58===e.path.charCodeAt(2)?t?e.path.substr(1):e.path[1].toLowerCase()+e.path.substr(2):e.path,o.i&&(i=i.replace(/\//g,"\\")),i}function b(e,t){const i=t?m:f;let n="",{scheme:o,authority:r,path:s,query:a,fragment:l}=e;if(o&&(n+=o,n+=":"),!r&&"file"!==o||(n+=c,n+=c),r){let e=r.indexOf("@");if(-1!==e){const t=r.substr(0,e);r=r.substr(e+1),e=t.indexOf(":"),-1===e?n+=i(t,!1):(n+=i(t.substr(0,e),!1),n+=":",n+=i(t.substr(e+1),!1)),n+="@"}r=r.toLowerCase(),e=r.indexOf(":"),-1===e?n+=i(r,!1):(n+=i(r.substr(0,e),!1),n+=r.substr(e))}var d;return s&&(3<=s.length&&47===s.charCodeAt(0)&&58===s.charCodeAt(2)?65<=(d=s.charCodeAt(1))&&d<=90&&(s=`/${String.fromCharCode(d+32)}:${s.substr(3)}`):2<=s.length&&58===s.charCodeAt(1)&&65<=(d=s.charCodeAt(0))&&d<=90&&(s=`${String.fromCharCode(d+32)}:${s.substr(2)}`),n+=i(s,!0)),a&&(n+="?",n+=i(a,!1)),l&&(n+="#",n+=t?l:f(l,!1)),n}const _=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function w(e){return e.match(_)?e.replace(_,e=>function e(t){try{return decodeURIComponent(t)}catch(i){return 3<t.length?t.substr(0,3)+e(t.substr(3)):t}}(e)):e}},function(e,t,i){"use strict";i.d(t,"b",(function(){return l})),i.d(t,"a",(function(){return c}));var n=i(6),o=i(54),r=i(2),s=i(114),a=i(19);i=i(21);const l=Object(i.c)("commandService"),c=new class{constructor(){this._commands=new Map,this._onDidRegisterCommand=new n.b,this.onDidRegisterCommand=this._onDidRegisterCommand.event}registerCommand(e,t){if(!e)throw new Error("invalid command");if("string"==typeof e){if(!t)throw new Error("invalid command");return this.registerCommand({id:e,handler:t})}if(e.description){const t=[];for(var i of e.description.args)t.push(i.constraint);const n=e.handler;e.handler=function(e,...i){return Object(a.o)(i,t),n(e,...i)}}const{id:n}=e;let o=this._commands.get(n);o||(o=new s.a,this._commands.set(n,o));let l=o.unshift(e);return e=Object(r.i)(()=>{l();const e=this._commands.get(n);null!=e&&e.isEmpty()&&this._commands.delete(n)}),this._onDidRegisterCommand.fire(n),e}registerCommandAlias(e,t){return c.registerCommand(e,(e,...i)=>e.get(l).executeCommand(t,...i))}getCommand(e){const t=this._commands.get(e);if(t&&!t.isEmpty())return o.a.first(t)}getCommands(){const e=new Map;for(const i of this._commands.keys()){var t=this.getCommand(i);t&&e.set(i,t)}return e}};c.registerCommand("noop",()=>{})},function(e,t,i){"use strict";function n(e,t,i,n,o,r,s,a){var l,c,d="function"==typeof e?e.options:e;return t&&(d.render=t,d.staticRenderFns=i,d._compiled=!0),n&&(d.functional=!0),r&&(d._scopeId="data-v-"+r),s?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),o&&o.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},d._ssrRegister=l):o&&(l=a?function(){o.call(this,(d.functional?this.parent:this).$root.$options.shadowRoot)}:o),l&&(d.functional?(d._injectStyles=l,c=d.render,d.render=function(e,t){return l.call(t),c(e,t)}):(a=d.beforeCreate,d.beforeCreate=a?[].concat(a,l):[l])),{exports:e,options:d}}i.d(t,"a",(function(){return n}))},function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i.d(t,"b",(function(){return l}));var n,o,r=i(6);const s=Object.freeze((function(e,t){const i=setTimeout(e.bind(t),0);return{dispose(){clearTimeout(i)}}}));(o=n=n||{}).isCancellationToken=function(e){return e===o.None||e===o.Cancelled||e instanceof a||!(!e||"object"!=typeof e)&&"boolean"==typeof e.isCancellationRequested&&"function"==typeof e.onCancellationRequested},o.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:r.c.None}),o.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:s});class a{constructor(){this._isCancelled=!1,this._emitter=null}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?s:(this._emitter||(this._emitter=new r.b),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}}class l{constructor(e){this._token=void 0,this._parentListener=void 0,this._parentListener=e&&e.onCancellationRequested(this.cancel,this)}get token(){return this._token||(this._token=new a),this._token}cancel(){this._token?this._token instanceof a&&this._token.cancel():this._token=n.Cancelled}dispose(e=!1){e&&this.cancel(),this._parentListener&&this._parentListener.dispose(),this._token?this._token instanceof a&&this._token.dispose():this._token=n.None}}},function(e,t,i){"use strict";i.d(t,"m",(function(){return x})),i.d(t,"d",(function(){return S})),i.d(t,"a",(function(){return k})),i.d(t,"l",(function(){return D})),i.d(t,"j",(function(){return L})),i.d(t,"i",(function(){return O})),i.d(t,"e",(function(){return E})),i.d(t,"k",(function(){return N})),i.d(t,"h",(function(){return I})),i.d(t,"b",(function(){return M})),i.d(t,"g",(function(){return A})),i.d(t,"f",(function(){return P})),i.d(t,"c",(function(){return R}));var n=i(213),o=i.n(n),r=(t=i(43),i.n(t)),s=(n=i(31),i.n(n)),a=(t=i(13),n=i.n(t),t=i(7),i.n(t)),l=i(358),c=i(30),d=i(20),h=(t=i(359),t=i(53),i.n(t)),u=i(51),g=i(24),p=(t=i(88),i(40)),f=i(41),m=i(25),v=(t=i(275),i.n(t));function b(e,t){var i,n=Object.keys(e);return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(e),t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)),n}function _(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?b(Object(i),!0).forEach((function(t){s()(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):b(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var w,C,y,x=function(e){return new Promise((function(t){return setTimeout(t,e)}))},S=function(e){return Object(l.createHash)("md5").update(e).digest("hex")},k=function e(t){c.existsSync(t)&&(c.readdirSync(t).forEach((function(i,n){i=d.join(t,i),c.lstatSync(i).isDirectory()?e(i):c.unlinkSync(i)})),c.rmdirSync(t))},D=(w=n()(a.a.mark((function e(t,i,n){var o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=c.readFileSync(t).toString(),(o=h.a.parseDocument(o)).set(i,n),c.writeFileSync(t,o.toString());case 4:case"end":return e.stop()}}),e)}))),function(e,t,i){return w.apply(this,arguments)}),L=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:function(){},o=u.a.state.app.settings.showNotifications;void 0!==o&&o&&(new Notification(e,_({body:t,silent:!0},i)).onclick=function(){!0!==(null==i?void 0:i.hideWindowOnClick)&&g.ipcRenderer.invoke("window-control","show"),n()})},O=(C=n()(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.ipcRenderer.invoke("dialog","showMessageBox",_({title:"Clash for Windows"},t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(e){return C.apply(this,arguments)}),E=function(e){return JSON.parse(JSON.stringify(e))},N=function(e){for(var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:2,i=!(2<arguments.length&&void 0!==arguments[2])||arguments[2],n=["B","KB","MB","GB","TB","PB","EB"],o=0;v()(e).dividedBy(1024).isGreaterThan(1)&&o<n.length;)e=v()(e).dividedBy(1024),o++;return"".concat(e.toFixed(t)).concat(i?" ":"").concat(n[o])},I=(n()(a.a.mark((function e(t){var i,n,o,s,l;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=t.method,n=t.target,s=t.checkTimes,o=void 0===s?10:s,l=t.ags,s=void 0===l?[]:l,l=0;case 2:return e.next=5,i.apply(void 0,r()(s));case 5:if(e.t0=e.sent,e.t1=n,e.t0===e.t1)return e.abrupt("return");e.next=9;break;case 9:return e.next=11,x(1e3);case 11:if(o<=(l+=1))return e.abrupt("return");e.next=14;break;case 14:e.next=2;break;case 16:case"end":return e.stop()}}),e)}))),function(e,t){if(e.length<=t)return e;var i=parseInt(t/2);t-=i;return e.slice(0,i)+"..."+e.slice(-t)}),T=null,M=(y=n()(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.ipcRenderer.invoke("app","getVersion");case 2:return t=e.sent,null===T&&(T=p.a.get(f.a.LAST_VERSION_CODE)||"",p.a.put(f.a.LAST_VERSION_CODE,t)),e.abrupt("return",T!==t);case 5:case"end":return e.stop()}}),e)}))),function(){return y.apply(this,arguments)}),A=function(e){var t=(c=e||{}).nameServers,i=c.fallbackServers,n=c.fakeIPFilters,o=c.stackType,s=void 0===(l=c.interfaceName)?"":l,a=(e=void 0===(a=c.isAutoDetectInterface)||a,void 0===(l=c.dnsHijacks)?[]:l),l=c.isAutoRedir,c=c.isAutoRedirAutoRoute;return(o={dns:{enable:!0,"enhanced-mode":"fake-ip",nameserver:void 0===t?["114.114.114.114","223.5.5.5","8.8.8.8"]:t,fallback:void 0===i?[]:i},tun:{enable:!0,stack:["gvisor","system"][void 0===o?0:o],"auto-route":!0}}).dns["fake-ip-filter"]=void 0===n?["+.stun.*.*","+.stun.*.*.*","+.stun.*.*.*.*","+.stun.*.*.*.*.*","*.n.n.srv.nintendo.net","+.stun.playstation.net","xbox.*.*.microsoft.com","*.*.xboxlive.com"].concat(r()(Object(m.l)()?["*.msftncsi.com","*.msftconnecttest.com","WORKGROUP"]:Object(m.k)()?["apps.apple.com"]:[])):n,e?o.tun["auto-detect-interface"]=!0:o["interface-name"]=s,o.tun["dns-hijack"]=a,Object(m.j)()&&(o["auto-redir"]={enable:l,"auto-route":c}),o},P=function e(t){return Object.values(t).map((function(t){return"object"===o()(t)?e(t):t})).join("\n")},R=function(e){return 0<e&&e<65536}},function(e,t,i){"use strict";t.a={put:function(e,t){window.localStorage.setItem(e,JSON.stringify(t))},get:function(e){var t=window.localStorage.getItem(e);if(""!==t)try{return JSON.parse(t)}catch(t){console.error("get [".concat(e,"] from cache failed with error:"),t)}}}},function(e,t,i){"use strict";t.a={SYSTEM_PROXY:"systemProxy",LAST_CLASH_PID:"lastClashPID",LAST_USER_EXE_PIDS:"lastUserExePids",LAST_LOG_FILE_PATH:"lastLogFilePath",AD_IMAGES:"adImages",CONNECTION_ORDER_INDEX:"connectionOrderIndex",CONNECTION_ORDER_REVERSE_TAGS:"connectionOrderReverseTags",AUTO_LAUNCH:"autoLaunch",GEOIP_URL:"geoipDownloadRawURL",GEOIP_TOKEN:"geoipDownloadToken",TAP_INFO:"tapInfo",PROXY_SHOW_SEC_IDXS:"proxyShowSecIdxs",PROXY_HIDE_TIMEOUT_SEC_NAMES:"proxyHideTimeoutSecNames",PROXY_FILTER_KEYWORD:"proxyFilterKeyword",IS_PIN_ENABLED:"isPinEnabled",MENU_ITEM_ORDER:"menuItemOrder",CURRENT_ROUTE_PATH:"currentRoutePath",DETECTED_INTERFACE_NAME:"detectedInterfaceName",SYSTEM_PROXY_COMMAND:"systemProxyCommand",IS_DIFF_EIDTOR_SEPARATED:"isDiffEditorSeparated",IS_LIGHTWEIGHT_MODE_CLOSE:"isLightweightModeClose",IS_MIXIN:"isProfileMixin",LAST_VERSION_CODE:"lastVersionCode",ROUTER_HIJACK_MAC_ADDRESSES:"routerHijackMacAddresses",DHCP_MAC_ALIAS:"dhcpMacAlias",TUN_SETTINGS:"tunSettings",IS_TUN:"isTunEnabled",LOG_MOUDLE_LEVEL:"logModuleLevel",LOG_MODULE_STYLE:"logModuleStyle",LOG_MODULE_SEARCH_TEXT:"logModuleSearchText",CONNECTION_MODULE_SEARCH_TEXT:"connectionModuleSearchText",TEST_SCRIPT_CONTENT:"testScriptContent"}},function(e,t,i){"use strict";i.d(t,"c",(function(){return Ot})),i.d(t,"a",(function(){return Et})),i.d(t,"b",(function(){return jt}));var n=i(17),o=i(6),r=i(2),s=i(9),a=i(35),l=i(34),c=i(12),d=i(3),h=i(29),u=i(50),g=i(188);class p{constructor(){this.spacesDiff=0,this.looksLikeAlignment=!1}}function f(e,t,i){var n=Math.min(e.getLineCount(),1e4);let o=0,r=0,s="",a=0,l=[0,0,0,0,0,0,0,0,0];var c=new p;for(let g=1;g<=n;g++){var d=e.getLineLength(g);let n=e.getLineContent(g);var h=d<=65536;let p=!1,f=0,m=0,v=0;for(let t=0,i=d;t<i;t++){var u=h?n.charCodeAt(t):e.getLineCharCode(g,t);if(9===u)v++;else{if(32!==u){p=!0,f=t;break}m++}}p&&(0<v?o++:1<m&&r++,function(e,t,i,n,o){let r;for(o.spacesDiff=0,o.looksLikeAlignment=!1,r=0;r<t&&r<n&&e.charCodeAt(r)===i.charCodeAt(r);r++);let s=0,a=0;for(let i=r;i<t;i++)32===e.charCodeAt(i)?s++:a++;let l=0,c=0;for(let e=r;e<n;e++)32===i.charCodeAt(e)?l++:c++;var d,h;0<s&&0<a||0<l&&0<c||(d=Math.abs(a-c),h=Math.abs(s-l),0!==d?h%d==0&&(o.spacesDiff=h/d):0<(o.spacesDiff=h)&&0<=l-1&&l-1<e.length&&l<i.length&&32!==i.charCodeAt(l)&&32===e.charCodeAt(l-1)&&44===e.charCodeAt(e.length-1)&&(o.looksLikeAlignment=!0))}(s,a,n,f,c),(!c.looksLikeAlignment||i&&t===c.spacesDiff)&&((d=c.spacesDiff)<=8&&l[d]++,s=n,a=f))}let g=i;o!==r&&(g=o<r);let f=t;if(g){let e=g?0:.1*n;[2,4,6,8,3,5,7].forEach(t=>{var i=l[t];i>e&&(e=i,f=t)}),4===f&&0<l[4]&&0<l[2]&&l[2]>=l[4]/2&&(f=2)}return{insertSpaces:g,tabSize:f}}function m(e){return(1&e.metadata)>>>0}function v(e,t){e.metadata=254&e.metadata|t<<0}function b(e){return(2&e.metadata)>>>1==1}function _(e,t){e.metadata=253&e.metadata|(t?1:0)<<1}function w(e){return(4&e.metadata)>>>2==1}function C(e,t){e.metadata=251&e.metadata|(t?1:0)<<2}function y(e,t){e.metadata=231&e.metadata|t<<3}function x(e,t){e.metadata=223&e.metadata|(t?1:0)<<5}class S{constructor(e,t,i){this.metadata=0,v(((this.parent=this).left=this).right=this,1),this.start=t,this.end=i,this.delta=0,this.maxEnd=i,this.id=e,this.ownerId=0,this.options=null,C(this,!1),y(this,1),x(this,!1),this.cachedVersionId=0,this.cachedAbsoluteStart=t,this.cachedAbsoluteEnd=i,this.range=null,_(this,!1)}reset(e,t,i,n){this.start=t,this.end=i,this.maxEnd=i,this.cachedVersionId=e,this.cachedAbsoluteStart=t,this.cachedAbsoluteEnd=i,this.range=n}setOptions(e){this.options=e,C(this,"squiggly-error"===(e=this.options.className)||"squiggly-warning"===e||"squiggly-info"===e),y(this,this.options.stickiness),x(this,this.options.collapseOnReplaceEdit)}setCachedOffsets(e,t,i){this.cachedVersionId!==i&&(this.range=null),this.cachedVersionId=i,this.cachedAbsoluteStart=e,this.cachedAbsoluteEnd=t}detach(){this.parent=null,this.left=null,this.right=null}}const k=new S(null,0,0);k.parent=k,k.left=k,k.right=k,v(k,0);class D{constructor(){this.root=k,this.requestNormalizeDelta=!1}intervalSearch(e,t,i,n,o){return this.root===k?[]:function(e,t,i,n,o,r){let s=e.root,a=0,l=0,c=0,d=[],h=0;for(;s!==k;)if(b(s))_(s.left,!1),_(s.right,!1),s===s.parent.right&&(a-=s.parent.delta),s=s.parent;else{if(!b(s.left)){if(a+s.maxEnd<t){_(s,!0);continue}if(s.left!==k){s=s.left;continue}}if(l=a+s.start,i<l)_(s,!0);else{if(c=a+s.end,t<=c){s.setCachedOffsets(l,c,r);let e=!0;n&&s.ownerId&&s.ownerId!==n&&(e=!1),o&&w(s)&&(e=!1),e&&(d[h++]=s)}_(s,!0),s.right===k||b(s.right)||(a+=s.delta,s=s.right)}}return _(e.root,!1),d}(this,e,t,i,n,o)}search(e,t,i){return this.root===k?[]:function(e,t,i,n){let o=e.root,r=0,s=0,a=0,l=[],c=0;for(;o!==k;)if(b(o))_(o.left,!1),_(o.right,!1),o===o.parent.right&&(r-=o.parent.delta),o=o.parent;else if(o.left===k||b(o.left)){s=r+o.start,a=r+o.end,o.setCachedOffsets(s,a,n);let e=!0;t&&o.ownerId&&o.ownerId!==t&&(e=!1),i&&w(o)&&(e=!1),e&&(l[c++]=o),_(o,!0),o.right===k||b(o.right)||(r+=o.delta,o=o.right)}else o=o.left;return _(e.root,!1),l}(this,e,t,i)}collectNodesFromOwner(e){return function(e,t){let i=e.root,n=[],o=0;for(;i!==k;)b(i)?(_(i.left,!1),_(i.right,!1),i=i.parent):i.left===k||b(i.left)?(i.ownerId===t&&(n[o++]=i),_(i,!0),i.right===k||b(i.right)||(i=i.right)):i=i.left;return _(e.root,!1),n}(this,e)}collectNodesPostOrder(){return function(e){let t=e.root,i=[],n=0;for(;t!==k;)b(t)?(_(t.left,!1),_(t.right,!1),t=t.parent):t.left===k||b(t.left)?t.right===k||b(t.right)?(i[n++]=t,_(t,!0)):t=t.right:t=t.left;return _(e.root,!1),i}(this)}insert(e){O(this,e),this._normalizeDeltaIfNecessary()}delete(e){E(this,e),this._normalizeDeltaIfNecessary()}resolveNode(e,t){const i=e;let n=0;for(;e!==this.root;)e===e.parent.right&&(n+=e.parent.delta),e=e.parent;var o=i.start+n,r=i.end+n;i.setCachedOffsets(o,r,t)}acceptReplace(e,t,i,n){var o=function(e,t,i){let n=e.root,o=0,r=0,s=0,a=[],l=0;for(;n!==k;)if(b(n))_(n.left,!1),_(n.right,!1),n===n.parent.right&&(o-=n.parent.delta),n=n.parent;else{if(!b(n.left)){if(o+n.maxEnd<t){_(n,!0);continue}if(n.left!==k){n=n.left;continue}}r=o+n.start,i<r?_(n,!0):(s=o+n.end,t<=s&&(n.setCachedOffsets(r,s,0),a[l++]=n),_(n,!0),n.right===k||b(n.right)||(o+=n.delta,n=n.right))}return _(e.root,!1),a}(this,e,e+t);for(let e=0,t=o.length;e<t;e++)E(this,o[e]);this._normalizeDeltaIfNecessary(),function(e,t,i,n){let o=e.root,r=0,s=0;for(var a=n-(i-t);o!==k;)if(b(o))_(o.left,!1),_(o.right,!1),o===o.parent.right&&(r-=o.parent.delta),A(o),o=o.parent;else{if(!b(o.left)){if(r+o.maxEnd<t){_(o,!0);continue}if(o.left!==k){o=o.left;continue}}s=r+o.start,i<s?(o.start+=a,o.end+=a,o.delta+=a,(o.delta<-1073741824||1073741824<o.delta)&&(e.requestNormalizeDelta=!0),_(o,!0)):(_(o,!0),o.right===k||b(o.right)||(r+=o.delta,o=o.right))}_(e.root,!1)}(this,e,e+t,i),this._normalizeDeltaIfNecessary();for(let r=0,s=o.length;r<s;r++){const s=o[r];s.start=s.cachedAbsoluteStart,s.end=s.cachedAbsoluteEnd,function(e,t,i,n,o){var r=(24&e.metadata)>>>3,s=0==r||2==r,a=1==r||2==r,l=i-t,c=n,d=Math.min(l,c),h=e.start;let u=!1;r=e.end;let g=!1;t<=h&&r<=i&&(32&e.metadata)>>>5==1&&(e.start=t,u=!0,e.end=t,g=!0),n=o?1:0<l?2:0,!u&&L(h,s,t,n)&&(u=!0),!g&&L(r,a,t,n)&&(g=!0),0<d&&!o&&(n=c<l?2:0,!u&&L(h,s,t+d,n)&&(u=!0),!g&&L(r,a,t+d,n)&&(g=!0)),o=o?1:0,!u&&L(h,s,i,o)&&(e.start=t+c,u=!0),!g&&L(r,a,i,o)&&(e.end=t+c,g=!0),l=c-l,u||(e.start=Math.max(0,h+l)),g||(e.end=Math.max(0,r+l)),e.start>e.end&&(e.end=e.start)}(s,e,e+t,i,n),s.maxEnd=s.end,O(this,s)}this._normalizeDeltaIfNecessary()}_normalizeDeltaIfNecessary(){this.requestNormalizeDelta&&(this.requestNormalizeDelta=!1,function(e){let t=e.root,i=0;for(;t!==k;)t=t.left===k||b(t.left)?t.right===k||b(t.right)?(t.start=i+t.start,t.end=i+t.end,t.delta=0,A(t),_(t,!0),_(t.left,!1),_(t.right,!1),t===t.parent.right&&(i-=t.parent.delta),t.parent):(i+=t.delta,t.right):t.left;_(e.root,!1)}(this))}}function L(e,t,i,n){return e<i||!(i<e)&&1!==n&&(2===n||t)}function O(e,t){if(e.root===k)return t.parent=k,t.left=k,t.right=k,v(t,0),e.root=t,e.root;!function(e,t){let i=0,n=e.root;for(var o=t.start,r=t.end;;)if(function(e,t,i,n){return e!==i?e-i:t-n}(o,r,n.start+i,n.end+i)<0){if(n.left===k){t.start-=i,t.end-=i,t.maxEnd-=i,n.left=t;break}n=n.left}else{if(n.right===k){t.start-=i+n.delta,t.end-=i+n.delta,t.maxEnd-=i+n.delta,n.right=t;break}i+=n.delta,n=n.right}t.parent=n,t.left=k,t.right=k,v(t,1)}(e,t),P(t.parent);let i=t;for(;i!==e.root&&1===m(i.parent);){var n;i.parent===i.parent.parent.left?1===m(n=i.parent.parent.right)?(v(i.parent,0),v(n,0),v(i.parent.parent,1),i=i.parent.parent):(i===i.parent.right&&(i=i.parent,I(e,i)),v(i.parent,0),v(i.parent.parent,1),T(e,i.parent.parent)):1===m(n=i.parent.parent.left)?(v(i.parent,0),v(n,0),v(i.parent.parent,1),i=i.parent.parent):(i===i.parent.left&&(i=i.parent,T(e,i)),v(i.parent,0),v(i.parent.parent,1),I(e,i.parent.parent))}return v(e.root,0),t}function E(e,t){let i,n;if(t.left===k?(i=t.right,n=t,i.delta+=t.delta,(i.delta<-1073741824||1073741824<i.delta)&&(e.requestNormalizeDelta=!0),i.start+=t.delta,i.end+=t.delta):t.right===k?(i=t.left,n=t):(n=function(e){for(;e.left!==k;)e=e.left;return e}(t.right),i=n.right,i.start+=n.delta,i.end+=n.delta,i.delta+=n.delta,(i.delta<-1073741824||1073741824<i.delta)&&(e.requestNormalizeDelta=!0),n.start+=t.delta,n.end+=t.delta,n.delta=t.delta,(n.delta<-1073741824||1073741824<n.delta)&&(e.requestNormalizeDelta=!0)),n===e.root)return e.root=i,v(i,0),t.detach(),N(),A(i),void(e.root.parent=k);var o=1===m(n);if(n===n.parent.left?n.parent.left=i:n.parent.right=i,n===t?i.parent=n.parent:(n.parent===t?i.parent=n:i.parent=n.parent,n.left=t.left,n.right=t.right,n.parent=t.parent,v(n,m(t)),t===e.root?e.root=n:t===t.parent.left?t.parent.left=n:t.parent.right=n,n.left!==k&&(n.left.parent=n),n.right!==k&&(n.right.parent=n)),t.detach(),o)return P(i.parent),n!==t&&(P(n),P(n.parent)),void N();let r;for(P(i),P(i.parent),n!==t&&(P(n),P(n.parent));i!==e.root&&0===m(i);)i=i===i.parent.left?(r=i.parent.right,1===m(r)&&(v(r,0),v(i.parent,1),I(e,i.parent),r=i.parent.right),0===m(r.left)&&0===m(r.right)?(v(r,1),i.parent):(0===m(r.right)&&(v(r.left,0),v(r,1),T(e,r),r=i.parent.right),v(r,m(i.parent)),v(i.parent,0),v(r.right,0),I(e,i.parent),e.root)):(r=i.parent.left,1===m(r)&&(v(r,0),v(i.parent,1),T(e,i.parent),r=i.parent.left),0===m(r.left)&&0===m(r.right)?(v(r,1),i.parent):(0===m(r.left)&&(v(r.right,0),v(r,1),I(e,r),r=i.parent.left),v(r,m(i.parent)),v(i.parent,0),v(r.left,0),T(e,i.parent),e.root));v(i,0),N()}function N(){k.parent=k,k.delta=0,k.start=0,k.end=0}function I(e,t){const i=t.right;i.delta+=t.delta,(i.delta<-1073741824||1073741824<i.delta)&&(e.requestNormalizeDelta=!0),i.start+=t.delta,i.end+=t.delta,t.right=i.left,i.left!==k&&(i.left.parent=t),i.parent=t.parent,t.parent===k?e.root=i:t===t.parent.left?t.parent.left=i:t.parent.right=i,(i.left=t).parent=i,A(t),A(i)}function T(e,t){const i=t.left;t.delta-=i.delta,(t.delta<-1073741824||1073741824<t.delta)&&(e.requestNormalizeDelta=!0),t.start-=i.delta,t.end-=i.delta,t.left=i.right,i.right!==k&&(i.right.parent=t),i.parent=t.parent,t.parent===k?e.root=i:t===t.parent.right?t.parent.right=i:t.parent.left=i,(i.right=t).parent=i,A(t),A(i)}function M(e){let t=e.end;var i;return e.left===k||(i=e.left.maxEnd)>t&&(t=i),e.right===k||(e=e.right.maxEnd+e.delta)>t&&(t=e),t}function A(e){e.maxEnd=M(e)}function P(e){for(;e!==k;){var t=M(e);if(e.maxEnd===t)return;e.maxEnd=t,e=e.parent}}class R{constructor(e,t){this.piece=e,this.color=t,this.size_left=0,this.lf_left=0,((this.parent=this).left=this).right=this}next(){if(this.right!==F)return j(this.right);let e=this;for(;e.parent!==F&&e.parent.left!==e;)e=e.parent;return e.parent===F?F:e.parent}prev(){if(this.left!==F)return B(this.left);let e=this;for(;e.parent!==F&&e.parent.right!==e;)e=e.parent;return e.parent===F?F:e.parent}detach(){this.parent=null,this.left=null,this.right=null}}const F=new R(null,0);function j(e){for(;e.left!==F;)e=e.left;return e}function B(e){for(;e.right!==F;)e=e.right;return e}function W(e){return e===F?0:e.size_left+e.piece.length+W(e.right)}function V(e){return e===F?0:e.lf_left+e.piece.lineFeedCnt+V(e.right)}function z(){F.parent=F}function H(e,t){let i=t.right;i.size_left+=t.size_left+(t.piece?t.piece.length:0),i.lf_left+=t.lf_left+(t.piece?t.piece.lineFeedCnt:0),t.right=i.left,i.left!==F&&(i.left.parent=t),i.parent=t.parent,t.parent===F?e.root=i:t.parent.left===t?t.parent.left=i:t.parent.right=i,(i.left=t).parent=i}function U(e,t){let i=t.left;t.left=i.right,i.right!==F&&(i.right.parent=t),i.parent=t.parent,t.size_left-=i.size_left+(i.piece?i.piece.length:0),t.lf_left-=i.lf_left+(i.piece?i.piece.lineFeedCnt:0),t.parent===F?e.root=i:t===t.parent.right?t.parent.right=i:t.parent.left=i,(i.right=t).parent=i}function $(e,t){let i,n;if(i=t.left===F?(n=t,n.right):t.right===F?(n=t,n.left):(n=j(t.right),n.right),n===e.root)return e.root=i,i.color=0,t.detach(),z(),void(e.root.parent=F);var o,r,s,a=1===n.color;if(n===n.parent.left?n.parent.left=i:n.parent.right=i,n===t?(i.parent=n.parent,G(e,i)):(n.parent===t?i.parent=n:i.parent=n.parent,G(e,i),n.left=t.left,n.right=t.right,n.parent=t.parent,n.color=t.color,t===e.root?e.root=n:t===t.parent.left?t.parent.left=n:t.parent.right=n,n.left!==F&&(n.left.parent=n),n.right!==F&&(n.right.parent=n),n.size_left=t.size_left,n.lf_left=t.lf_left,G(e,n)),t.detach(),i.parent.left===i&&(o=W(i),r=V(i),o===i.parent.size_left&&r===i.parent.lf_left||(s=o-i.parent.size_left,t=r-i.parent.lf_left,i.parent.size_left=o,i.parent.lf_left=r,q(e,i.parent,s,t))),G(e,i.parent),a)z();else{let t;for(;i!==e.root&&0===i.color;)i=i===i.parent.left?(t=i.parent.right,1===t.color&&(t.color=0,i.parent.color=1,H(e,i.parent),t=i.parent.right),0===t.left.color&&0===t.right.color?(t.color=1,i.parent):(0===t.right.color&&(t.left.color=0,t.color=1,U(e,t),t=i.parent.right),t.color=i.parent.color,i.parent.color=0,t.right.color=0,H(e,i.parent),e.root)):(t=i.parent.left,1===t.color&&(t.color=0,i.parent.color=1,U(e,i.parent),t=i.parent.left),0===t.left.color&&0===t.right.color?(t.color=1,i.parent):(0===t.left.color&&(t.right.color=0,t.color=1,H(e,t),t=i.parent.left),t.color=i.parent.color,i.parent.color=0,t.left.color=0,U(e,i.parent),e.root));i.color=0,z()}}function K(e,t){for(G(e,t);t!==e.root&&1===t.parent.color;)if(t.parent===t.parent.parent.left){const i=t.parent.parent.right;1===i.color?(t.parent.color=0,i.color=0,t.parent.parent.color=1,t=t.parent.parent):(t===t.parent.right&&H(e,t=t.parent),t.parent.color=0,t.parent.parent.color=1,U(e,t.parent.parent))}else{const i=t.parent.parent.left;1===i.color?(t.parent.color=0,i.color=0,t.parent.parent.color=1,t=t.parent.parent):(t===t.parent.left&&U(e,t=t.parent),t.parent.color=0,t.parent.parent.color=1,H(e,t.parent.parent))}e.root.color=0}function q(e,t,i,n){for(;t!==e.root&&t!==F;)t.parent.left===t&&(t.parent.size_left+=i,t.parent.lf_left+=n),t=t.parent}function G(e,t){var i,n;if(t!==e.root){for(;t!==e.root&&t===t.parent.right;)t=t.parent;if(t!==e.root)for(i=W((t=t.parent).left)-t.size_left,n=V(t.left)-t.lf_left,t.size_left+=i,t.lf_left+=n;t!==e.root&&(0!=i||0!=n);)t.parent.left===t&&(t.parent.size_left+=i,t.parent.lf_left+=n),t=t.parent}}F.parent=F,F.left=F,F.right=F,F.color=0;var Y=i(131);const Z=65535;function X(e){let t;return t=new(e[e.length-1]<65536?Uint16Array:Uint32Array)(e.length),t.set(e,0),t}class Q{constructor(e,t,i,n,o){this.lineStarts=e,this.cr=t,this.lf=i,this.crlf=n,this.isBasicASCII=o}}function J(e,t=!0){let i=[0],n=1;for(let t=0,r=e.length;t<r;t++){var o=e.charCodeAt(t);13===o?t+1<r&&10===e.charCodeAt(t+1)?(i[n++]=t+2,t++):i[n++]=t+1:10===o&&(i[n++]=t+1)}return t?X(i):i}class ee{constructor(e,t,i,n,o){this.bufferIndex=e,this.start=t,this.end=i,this.lineFeedCnt=n,this.length=o}}class te{constructor(e,t){this.buffer=e,this.lineStarts=t}}class ie{constructor(e,t){this._pieces=[],this._tree=e,this._BOM=t,this._index=0,e.root!==F&&e.iterate(e.root,e=>(e!==F&&this._pieces.push(e.piece),!0))}read(){return 0===this._pieces.length?0===this._index?(this._index++,this._BOM):null:this._index>this._pieces.length-1?null:0===this._index?this._BOM+this._tree.getPieceContent(this._pieces[this._index++]):this._tree.getPieceContent(this._pieces[this._index++])}}class ne{constructor(e){this._limit=e,this._cache=[]}get(e){for(let i=this._cache.length-1;0<=i;i--){var t=this._cache[i];if(t.nodeStartOffset<=e&&t.nodeStartOffset+t.node.piece.length>=e)return t}return null}get2(e){for(let i=this._cache.length-1;0<=i;i--){var t=this._cache[i];if(t.nodeStartLineNumber&&t.nodeStartLineNumber<e&&t.nodeStartLineNumber+t.node.piece.lineFeedCnt>=e)return t}return null}set(e){this._cache.length>=this._limit&&this._cache.shift(),this._cache.push(e)}validate(e){let t=!1,i=this._cache;for(let o=0;o<i.length;o++){var n=i[o];(null===n.node.parent||n.nodeStartOffset>=e)&&(i[o]=null,t=!0)}if(t){let e=[];for(const t of i)null!==t&&e.push(t);this._cache=e}}}class oe{constructor(e,t,i){this.create(e,t,i)}create(e,t,i){this._buffers=[new te("",[0])],this._lastChangeBufferPos={line:0,column:0},this.root=F,this._lineCnt=1,this._length=0,this._EOL=t,this._EOLLength=t.length,this._EOLNormalized=i;let n=null;for(let t=0,i=e.length;t<i;t++){var o;0<e[t].buffer.length&&(e[t].lineStarts||(e[t].lineStarts=J(e[t].buffer)),o=new ee(t+1,{line:0,column:0},{line:e[t].lineStarts.length-1,column:e[t].buffer.length-e[t].lineStarts[e[t].lineStarts.length-1]},e[t].lineStarts.length-1,e[t].buffer.length),this._buffers.push(e[t]),n=this.rbInsertRight(n,o))}this._searchCache=new ne(1),this._lastVisitedLine={lineNumber:0,value:""},this.computeBufferMetadata()}normalizeEOL(e){var t;let i=65535-Math.floor(21845),n=2*i,o="",r=0,s=[];this.iterate(this.root,t=>{var a=this.getNodeContent(t),l=a.length;return r<=i||r+l<n?(o+=a,r+=l,!0):(t=o.replace(/\r\n|\r|\n/g,e),s.push(new te(t,J(t))),o=a,r=l,!0)}),0<r&&(t=o.replace(/\r\n|\r|\n/g,e),s.push(new te(t,J(t)))),this.create(s,e,!0)}getEOL(){return this._EOL}setEOL(e){this._EOL=e,this._EOLLength=this._EOL.length,this.normalizeEOL(e)}createSnapshot(e){return new ie(this,e)}getOffsetAt(e,t){let i=0,n=this.root;for(;n!==F;)if(n.left!==F&&n.lf_left+1>=e)n=n.left;else{if(n.lf_left+n.piece.lineFeedCnt+1>=e)return i+=n.size_left,i+(this.getAccumulatedValue(n,e-n.lf_left-2)+t-1);e-=n.lf_left+n.piece.lineFeedCnt,i+=n.size_left+n.piece.length,n=n.right}return i}getPositionAt(e){e=Math.floor(e),e=Math.max(0,e);let t=this.root,i=0;for(var n=e;t!==F;)if(0!==t.size_left&&t.size_left>=e)t=t.left;else{if(t.size_left+t.piece.length>=e){var o=this.getIndexOf(t,e-t.size_left);return i+=t.lf_left+o.index,0!==o.index?new c.a(i+1,o.remainder+1):(o=this.getOffsetAt(i+1,1),new c.a(i+1,n-o+1))}if(e-=t.size_left+t.piece.length,i+=t.lf_left+t.piece.lineFeedCnt,t.right===F)return o=this.getOffsetAt(i+1,1),new c.a(i+1,n-e-o+1);t=t.right}return new c.a(1,1)}getValueInRange(e,t){if(e.startLineNumber===e.endLineNumber&&e.startColumn===e.endColumn)return"";var i=this.nodeAt2(e.startLineNumber,e.startColumn);e=this.nodeAt2(e.endLineNumber,e.endColumn);let n=this.getValueInRange2(i,e);return!t||t===this._EOL&&this._EOLNormalized&&t===this.getEOL()&&this._EOLNormalized?n:n.replace(/\r\n|\r|\n/g,t)}getValueInRange2(e,t){if(e.node===t.node){var i=e.node;let n=this._buffers[i.piece.bufferIndex].buffer;return i=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start),n.substring(i+e.remainder,i+t.remainder)}let n=e.node,o=this._buffers[n.piece.bufferIndex].buffer;i=this.offsetInBuffer(n.piece.bufferIndex,n.piece.start);let r=o.substring(i+e.remainder,i+n.piece.length);for(n=n.next();n!==F;){let e=this._buffers[n.piece.bufferIndex].buffer;var s=this.offsetInBuffer(n.piece.bufferIndex,n.piece.start);if(n===t.node){r+=e.substring(s,s+t.remainder);break}r+=e.substr(s,n.piece.length),n=n.next()}return r}getLinesContent(){let e=[],t=0,i="",n=!1;return this.iterate(this.root,o=>{if(o===F)return!0;var r=o.piece;let s=r.length;if(0===s)return!0;const a=this._buffers[r.bufferIndex].buffer;var l=this._buffers[r.bufferIndex].lineStarts,c=(o=r.start.line,r.end.line);let d=l[o]+r.start.column;if(n&&(10===a.charCodeAt(d)&&(d++,s--),e[t++]=i,i="",n=!1,0===s))return!0;if(o===c)return this._EOLNormalized||13!==a.charCodeAt(d+s-1)?i+=a.substr(d,s):(n=!0,i+=a.substr(d,s-1)),!0;i+=this._EOLNormalized?a.substring(d,Math.max(d,l[o+1]-this._EOLLength)):a.substring(d,l[o+1]).replace(/(\r\n|\r|\n)$/,""),e[t++]=i;for(let n=o+1;n<c;n++)i=this._EOLNormalized?a.substring(l[n],l[n+1]-this._EOLLength):a.substring(l[n],l[n+1]).replace(/(\r\n|\r|\n)$/,""),e[t++]=i;return this._EOLNormalized||13!==a.charCodeAt(l[c]+r.end.column-1)?i=a.substr(l[c],r.end.column):(n=!0,0===r.end.column?t--:i=a.substr(l[c],r.end.column-1)),!0}),n&&(e[t++]=i,i=""),e[t++]=i,e}getLength(){return this._length}getLineCount(){return this._lineCnt}getLineContent(e){return this._lastVisitedLine.lineNumber===e||((this._lastVisitedLine.lineNumber=e)===this._lineCnt?this._lastVisitedLine.value=this.getLineRawContent(e):this._EOLNormalized?this._lastVisitedLine.value=this.getLineRawContent(e,this._EOLLength):this._lastVisitedLine.value=this.getLineRawContent(e).replace(/(\r\n|\r|\n)$/,"")),this._lastVisitedLine.value}_getCharCode(e){if(e.remainder===e.node.piece.length){var t=e.node.next();if(!t)return 0;let i=this._buffers[t.piece.bufferIndex];return t=this.offsetInBuffer(t.piece.bufferIndex,t.piece.start),i.buffer.charCodeAt(t)}{let t=this._buffers[e.node.piece.bufferIndex];return e=this.offsetInBuffer(e.node.piece.bufferIndex,e.node.piece.start)+e.remainder,t.buffer.charCodeAt(e)}}getLineCharCode(e,t){return t=this.nodeAt2(e,t+1),this._getCharCode(t)}getLineLength(e){return e!==this.getLineCount()?this.getOffsetAt(e+1,1)-this.getOffsetAt(e,1)-this._EOLLength:(e=this.getOffsetAt(e,1),this.getLength()-e)}findMatchesInNode(e,t,i,n,o,r,s,a,l,c,h){let u=this._buffers[e.piece.bufferIndex];var g=this.offsetInBuffer(e.piece.bufferIndex,e.piece.start);let p=this.offsetInBuffer(e.piece.bufferIndex,o);var f,m=this.offsetInBuffer(e.piece.bufferIndex,r),v={line:0,column:0};let b,_;t._wordSeparators?(b=u.buffer.substring(p,m),_=e=>e+p,t.reset(0)):(b=u.buffer,_=e=>e,t.reset(p));do{if(f=t.next(b)){if(_(f.index)>=m)return c;this.positionInBuffer(e,_(f.index)-g,v);var w=this.getLineFeedCnt(e.piece.bufferIndex,o,v),C=v.line===o.line?v.column-o.column+n:v.column+1,y=C+f[0].length;if(h[c++]=Object(Y.d)(new d.a(i+w,C,i+w,y),f,a),_(f.index)+f[0].length>=m)return c;if(l<=c)return c}}while(f);return c}findMatchesLineByLine(e,t,i,n){var o=[];let r=0;var s=new Y.b(t.wordSeparators,t.regex);let a=this.nodeAt2(e.startLineNumber,e.startColumn);if(null===a)return[];var l=this.nodeAt2(e.endLineNumber,e.endColumn);if(null===l)return[];let c=this.positionInBuffer(a.node,a.remainder);var d=this.positionInBuffer(l.node,l.remainder);if(a.node===l.node)return this.findMatchesInNode(a.node,s,e.startLineNumber,e.startColumn,c,d,t,i,n,r,o),o;let h=e.startLineNumber,u=a.node;for(;u!==l.node;){var g=this.getLineFeedCnt(u.piece.bufferIndex,c,u.piece.end);if(1<=g){var p=this._buffers[u.piece.bufferIndex].lineStarts,f=this.offsetInBuffer(u.piece.bufferIndex,u.piece.start),m=p[c.line+g];p=h===e.startLineNumber?e.startColumn:1;if(r=this.findMatchesInNode(u,s,h,p,c,this.positionInBuffer(u,m-f),t,i,n,r,o),r>=n)return o;h+=g}if(f=h===e.startLineNumber?e.startColumn-1:0,h===e.endLineNumber)return g=this.getLineContent(h).substring(f,e.endColumn-1),r=this._findMatchesInLine(t,s,g,e.endLineNumber,f,r,o,i,n),o;if(r=this._findMatchesInLine(t,s,this.getLineContent(h).substr(f),h,f,r,o,i,n),r>=n)return o;h++,a=this.nodeAt2(h,1),u=a.node,c=this.positionInBuffer(a.node,a.remainder)}if(h===e.endLineNumber){var v=h===e.startLineNumber?e.startColumn-1:0,b=this.getLineContent(h).substring(v,e.endColumn-1);return r=this._findMatchesInLine(t,s,b,e.endLineNumber,v,r,o,i,n),o}return v=h===e.startLineNumber?e.startColumn:1,r=this.findMatchesInNode(l.node,s,h,v,c,d,t,i,n,r,o),o}_findMatchesInLine(e,t,i,n,o,r,s,a,l){var c,h=e.wordSeparators;if(!a&&e.simpleSearch){var g=e.simpleSearch,p=g.length,f=i.length;let t=-p;for(;-1!==(t=i.indexOf(g,t+p));)if((!h||Object(Y.e)(h,i,f,t,p))&&(s[r++]=new u.b(new d.a(n,t+1+o,n,t+1+p+o),null),l<=r))return r;return r}t.reset(0);do{if((c=t.next(i))&&(s[r++]=Object(Y.d)(new d.a(n,c.index+1+o,n,c.index+1+c[0].length+o),c,a),l<=r))return r}while(c);return r}insert(e,t,i=!1){if(this._EOLNormalized=this._EOLNormalized&&i,this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",this.root!==F){var{node:n,remainder:o,nodeStartOffset:r}=this.nodeAt(e),s=n.piece,a=s.bufferIndex;i=this.positionInBuffer(n,o);if(0===n.piece.bufferIndex&&s.end.line===this._lastChangeBufferPos.line&&s.end.column===this._lastChangeBufferPos.column&&r+s.length===e&&t.length<Z)return this.appendToNode(n,t),void this.computeBufferMetadata();if(r===e)this.insertContentToNodeLeft(t,n),this._searchCache.validate(e);else if(r+n.piece.length>e){let e=[],r=new ee(s.bufferIndex,i,s.end,this.getLineFeedCnt(s.bufferIndex,i,s.end),this.offsetInBuffer(a,s.end)-this.offsetInBuffer(a,i));this.shouldCheckCRLF()&&this.endWithCR(t)&&10===this.nodeCharCodeAt(n,o)&&(a={line:r.start.line+1,column:0},r=new ee(r.bufferIndex,a,r.end,this.getLineFeedCnt(r.bufferIndex,a,r.end),r.length-1),t+="\n"),this.shouldCheckCRLF()&&this.startWithLF(t)&&13===this.nodeCharCodeAt(n,o-1)?(o=this.positionInBuffer(n,o-1),this.deleteNodeTail(n,o),t="\r"+t,0===n.piece.length&&e.push(n)):this.deleteNodeTail(n,i);var l=this.createNewPieces(t);0<r.length&&this.rbInsertRight(n,r);let c=n;for(let e=0;e<l.length;e++)c=this.rbInsertRight(c,l[e]);this.deleteNodes(e)}else this.insertContentToNodeRight(t,n)}else{var c=this.createNewPieces(t);let e=this.rbInsertLeft(null,c[0]);for(let t=1;t<c.length;t++)e=this.rbInsertRight(e,c[t])}this.computeBufferMetadata()}delete(e,t){if(this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",!(t<=0||this.root===F)){var i=this.nodeAt(e),n=this.nodeAt(e+t);let a=i.node;var o=n.node;if(a===o){var r=this.positionInBuffer(a,i.remainder),s=this.positionInBuffer(a,n.remainder);return i.nodeStartOffset!==e?(i.nodeStartOffset+a.piece.length===e+t?(this.deleteNodeTail(a,r),this.validateCRLFWithNextNode(a)):this.shrinkNode(a,r,s),void this.computeBufferMetadata()):t!==a.piece.length?(this.deleteNodeHead(a,s),this._searchCache.validate(e),this.validateCRLFWithPrevNode(a),void this.computeBufferMetadata()):(s=a.next(),$(this,a),this.validateCRLFWithPrevNode(s),void this.computeBufferMetadata())}let l=[];i=this.positionInBuffer(a,i.remainder),this.deleteNodeTail(a,i),this._searchCache.validate(e),0===a.piece.length&&l.push(a),n=this.positionInBuffer(o,n.remainder),this.deleteNodeHead(o,n),0===o.piece.length&&l.push(o);for(let e=a.next();e!==F&&e!==o;e=e.next())l.push(e);n=0===a.piece.length?a.prev():a,this.deleteNodes(l),this.validateCRLFWithNextNode(n),this.computeBufferMetadata()}}insertContentToNodeLeft(e,t){let i=[];var n,o;this.shouldCheckCRLF()&&this.endWithCR(e)&&this.startWithLF(t)&&(n={line:(o=t.piece).start.line+1,column:0},o=new ee(o.bufferIndex,n,o.end,this.getLineFeedCnt(o.bufferIndex,n,o.end),o.length-1),t.piece=o,e+="\n",q(this,t,-1,-1),0===t.piece.length&&i.push(t));var r=this.createNewPieces(e);let s=this.rbInsertLeft(t,r[r.length-1]);for(let e=r.length-2;0<=e;e--)s=this.rbInsertLeft(s,r[e]);this.validateCRLFWithPrevNode(s),this.deleteNodes(i)}insertContentToNodeRight(e,t){this.adjustCarriageReturnFromNext(e,t)&&(e+="\n");var i=this.createNewPieces(e);let n=t=this.rbInsertRight(t,i[0]);for(let e=1;e<i.length;e++)n=this.rbInsertRight(n,i[e]);this.validateCRLFWithPrevNode(t)}positionInBuffer(e,t,i){var n=e.piece,o=(e=e.piece.bufferIndex,this._buffers[e].lineStarts),r=o[n.start.line]+n.start.column+t;let s=n.start.line,a=n.end.line,l=0;var c;let d=0;for(;s<=a&&(l=s+(a-s)/2|0,d=o[l],l!==a);)if(c=o[l+1],r<d)a=l-1;else{if(!(c<=r))break;s=l+1}return i?(i.line=l,i.column=r-d,null):{line:l,column:r-d}}getLineFeedCnt(e,t,i){if(0===i.column)return i.line-t.line;var n=this._buffers[e].lineStarts;if(i.line===n.length-1)return i.line-t.line;var o=n[i.line+1];if((n=n[i.line]+i.column)+1<o)return i.line-t.line;return 13===this._buffers[e].buffer.charCodeAt(n-1)?i.line-t.line+1:i.line-t.line}offsetInBuffer(e,t){return this._buffers[e].lineStarts[t.line]+t.column}deleteNodes(e){for(let t=0;t<e.length;t++)$(this,e[t])}createNewPieces(e){if(e.length>Z){let n=[];for(;e.length>Z;){var t=e.charCodeAt(Z-1);let i;e=13===t||55296<=t&&t<=56319?(i=e.substring(0,Z-1),e.substring(Z-1)):(i=e.substring(0,Z),e.substring(Z)),t=J(i),n.push(new ee(this._buffers.length,{line:0,column:0},{line:t.length-1,column:i.length-t[t.length-1]},t.length-1,i.length)),this._buffers.push(new te(i,t))}var i=J(e);return n.push(new ee(this._buffers.length,{line:0,column:0},{line:i.length-1,column:e.length-i[i.length-1]},i.length-1,e.length)),this._buffers.push(new te(e,i)),n}let n=this._buffers[0].buffer.length;const o=J(e,!1);let r=this._lastChangeBufferPos;if(this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-1]===n&&0!==n&&this.startWithLF(e)&&this.endWithCR(this._buffers[0].buffer)){this._lastChangeBufferPos={line:this._lastChangeBufferPos.line,column:this._lastChangeBufferPos.column+1},r=this._lastChangeBufferPos;for(let e=0;e<o.length;e++)o[e]+=n+1;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(o.slice(1)),this._buffers[0].buffer+="_"+e,n+=1}else{if(0!==n)for(let e=0;e<o.length;e++)o[e]+=n;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(o.slice(1)),this._buffers[0].buffer+=e}var s=this._buffers[0].buffer.length;i={line:i=this._buffers[0].lineStarts.length-1,column:s-this._buffers[0].lineStarts[i]},s=new ee(0,r,i,this.getLineFeedCnt(0,r,i),s-n);return this._lastChangeBufferPos=i,[s]}getLineRawContent(e,t=0){let i=this.root,n="";var o=this._searchCache.get2(e);if(o){i=o.node;var r=this.getAccumulatedValue(i,e-o.nodeStartLineNumber-1);let a=this._buffers[i.piece.bufferIndex].buffer;var s=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);if(o.nodeStartLineNumber+i.piece.lineFeedCnt!==e)return o=this.getAccumulatedValue(i,e-o.nodeStartLineNumber),a.substring(s+r,s+o-t);n=a.substring(s+r,s+i.piece.length)}else{let o=0;for(var a=e;i!==F;)if(i.left!==F&&i.lf_left>=e-1)i=i.left;else{if(i.lf_left+i.piece.lineFeedCnt>e-1){var l=this.getAccumulatedValue(i,e-i.lf_left-2),c=this.getAccumulatedValue(i,e-i.lf_left-1);let n=this._buffers[i.piece.bufferIndex].buffer;var d=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);return o+=i.size_left,this._searchCache.set({node:i,nodeStartOffset:o,nodeStartLineNumber:a-(e-1-i.lf_left)}),n.substring(d+l,d+c-t)}if(i.lf_left+i.piece.lineFeedCnt===e-1){d=this.getAccumulatedValue(i,e-i.lf_left-2);let t=this._buffers[i.piece.bufferIndex].buffer;c=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start),n=t.substring(c+d,c+i.piece.length);break}e-=i.lf_left+i.piece.lineFeedCnt,o+=i.size_left+i.piece.length,i=i.right}}for(i=i.next();i!==F;){let e=this._buffers[i.piece.bufferIndex].buffer;if(0<i.piece.lineFeedCnt){var h=this.getAccumulatedValue(i,0),u=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);return n+=e.substring(u,u+h-t),n}h=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start),n+=e.substr(h,i.piece.length),i=i.next()}return n}computeBufferMetadata(){let e=this.root,t=1,i=0;for(;e!==F;)t+=e.lf_left+e.piece.lineFeedCnt,i+=e.size_left+e.piece.length,e=e.right;this._lineCnt=t,this._length=i,this._searchCache.validate(this._length)}getIndexOf(e,t){var i=e.piece,n=this.positionInBuffer(e,t),o=n.line-i.start.line;return this.offsetInBuffer(i.bufferIndex,i.end)-this.offsetInBuffer(i.bufferIndex,i.start)===t&&(i=this.getLineFeedCnt(e.piece.bufferIndex,i.start,n))!==o?{index:i,remainder:0}:{index:o,remainder:n.column}}getAccumulatedValue(e,t){if(t<0)return 0;var i=e.piece;e=this._buffers[i.bufferIndex].lineStarts;return(t=i.start.line+t+1)>i.end.line?e[i.end.line]+i.end.column-e[i.start.line]-i.start.column:e[t]-e[i.start.line]-i.start.column}deleteNodeTail(e,t){var i=e.piece,n=i.lineFeedCnt,o=this.offsetInBuffer(i.bufferIndex,i.end),r=t,s=this.offsetInBuffer(i.bufferIndex,r);n=(t=this.getLineFeedCnt(i.bufferIndex,i.start,r))-n,s-=o,o=i.length+s;e.piece=new ee(i.bufferIndex,i.start,r,t,o),q(this,e,s,n)}deleteNodeHead(e,t){var i=e.piece,n=i.lineFeedCnt,o=this.offsetInBuffer(i.bufferIndex,i.start),r=t,s=this.getLineFeedCnt(i.bufferIndex,r,i.end);t=s-n,n=o-this.offsetInBuffer(i.bufferIndex,r),o=i.length+n;e.piece=new ee(i.bufferIndex,r,i.end,s,o),q(this,e,n,t)}shrinkNode(e,t,i){var n=e.piece,o=n.start,r=n.end,s=n.length,a=n.lineFeedCnt,l=t,c=this.getLineFeedCnt(n.bufferIndex,n.start,l);o=this.offsetInBuffer(n.bufferIndex,t)-this.offsetInBuffer(n.bufferIndex,o);e.piece=new ee(n.bufferIndex,n.start,l,c,o),q(this,e,o-s,c-a),i=new ee(n.bufferIndex,i,r,this.getLineFeedCnt(n.bufferIndex,i,r),this.offsetInBuffer(n.bufferIndex,r)-this.offsetInBuffer(n.bufferIndex,i)),i=this.rbInsertRight(e,i),this.validateCRLFWithPrevNode(i)}appendToNode(e,t){this.adjustCarriageReturnFromNext(t,e)&&(t+="\n");var i=this.shouldCheckCRLF()&&this.startWithLF(t)&&this.endWithCR(e),n=this._buffers[0].buffer.length;this._buffers[0].buffer+=t;const o=J(t,!1);for(let e=0;e<o.length;e++)o[e]+=n;i&&(a=this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-2],this._buffers[0].lineStarts.pop(),this._lastChangeBufferPos={line:this._lastChangeBufferPos.line-1,column:n-a}),this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(o.slice(1));var r,s={line:r=this._buffers[0].lineStarts.length-1,column:this._buffers[0].buffer.length-this._buffers[0].lineStarts[r]},a=(i=e.piece.length+t.length,e.piece.lineFeedCnt);a=(r=this.getLineFeedCnt(0,e.piece.start,s))-a;e.piece=new ee(e.piece.bufferIndex,e.piece.start,s,r,i),this._lastChangeBufferPos=s,q(this,e,t.length,a)}nodeAt(e){let t=this.root;var i=this._searchCache.get(e);if(i)return{node:i.node,nodeStartOffset:i.nodeStartOffset,remainder:e-i.nodeStartOffset};let n=0;for(;t!==F;)if(t.size_left>e)t=t.left;else{if(t.size_left+t.piece.length>=e){n+=t.size_left;var o={node:t,remainder:e-t.size_left,nodeStartOffset:n};return this._searchCache.set(o),o}e-=t.size_left+t.piece.length,n+=t.size_left+t.piece.length,t=t.right}return null}nodeAt2(e,t){let i=this.root,n=0;for(;i!==F;)if(i.left!==F&&i.lf_left>=e-1)i=i.left;else{if(i.lf_left+i.piece.lineFeedCnt>e-1){var o=this.getAccumulatedValue(i,e-i.lf_left-2),r=this.getAccumulatedValue(i,e-i.lf_left-1);return n+=i.size_left,{node:i,remainder:Math.min(o+t-1,r),nodeStartOffset:n}}if(i.lf_left+i.piece.lineFeedCnt===e-1){if((r=this.getAccumulatedValue(i,e-i.lf_left-2))+t-1<=i.piece.length)return{node:i,remainder:r+t-1,nodeStartOffset:n};t-=i.piece.length-r;break}e-=i.lf_left+i.piece.lineFeedCnt,n+=i.size_left+i.piece.length,i=i.right}for(i=i.next();i!==F;){if(0<i.piece.lineFeedCnt){var s=this.getAccumulatedValue(i,0),a=this.offsetOfNode(i);return{node:i,remainder:Math.min(t-1,s),nodeStartOffset:a}}if(i.piece.length>=t-1)return{node:i,remainder:t-1,nodeStartOffset:a=this.offsetOfNode(i)};t-=i.piece.length,i=i.next()}return null}nodeCharCodeAt(e,t){if(e.piece.lineFeedCnt<1)return-1;let i=this._buffers[e.piece.bufferIndex];return t=this.offsetInBuffer(e.piece.bufferIndex,e.piece.start)+t,i.buffer.charCodeAt(t)}offsetOfNode(e){if(!e)return 0;let t=e.size_left;for(;e!==this.root;)e.parent.right===e&&(t+=e.parent.size_left+e.parent.piece.length),e=e.parent;return t}shouldCheckCRLF(){return!(this._EOLNormalized&&"\n"===this._EOL)}startWithLF(e){if("string"==typeof e)return 10===e.charCodeAt(0);if(e===F||0===e.piece.lineFeedCnt)return!1;var t=e.piece,i=this._buffers[t.bufferIndex].lineStarts,n=t.start.line;e=i[n]+t.start.column;return n!==i.length-1&&!(e+1<i[n+1])&&10===this._buffers[t.bufferIndex].buffer.charCodeAt(e)}endWithCR(e){return"string"==typeof e?13===e.charCodeAt(e.length-1):e!==F&&0!==e.piece.lineFeedCnt&&13===this.nodeCharCodeAt(e,e.piece.length-1)}validateCRLFWithPrevNode(e){var t;this.shouldCheckCRLF()&&this.startWithLF(e)&&(t=e.prev(),this.endWithCR(t)&&this.fixCRLF(t,e))}validateCRLFWithNextNode(e){var t;this.shouldCheckCRLF()&&this.endWithCR(e)&&(t=e.next(),this.startWithLF(t)&&this.fixCRLF(e,t))}fixCRLF(e,t){let i=[];var n=this._buffers[e.piece.bufferIndex].lineStarts;let o;o=0===e.piece.end.column?{line:e.piece.end.line-1,column:n[e.piece.end.line]-n[e.piece.end.line-1]-1}:{line:e.piece.end.line,column:e.piece.end.column-1};var r=e.piece.length-1,s=e.piece.lineFeedCnt-1;e.piece=new ee(e.piece.bufferIndex,e.piece.start,o,s,r),q(this,e,-1,-1),0===e.piece.length&&i.push(e),n={line:t.piece.start.line+1,column:0},s=t.piece.length-1,r=this.getLineFeedCnt(t.piece.bufferIndex,n,t.piece.end),t.piece=new ee(t.piece.bufferIndex,n,t.piece.end,r,s),q(this,t,-1,-1),0===t.piece.length&&i.push(t),t=this.createNewPieces("\r\n"),this.rbInsertRight(e,t[0]);for(let e=0;e<i.length;e++)$(this,i[e])}adjustCarriageReturnFromNext(e,t){if(this.shouldCheckCRLF()&&this.endWithCR(e)){let o=t.next();var i,n;if(this.startWithLF(o))return e+="\n",1===o.piece.length?$(this,o):(n={line:(i=o.piece).start.line+1,column:0},t=i.length-1,e=this.getLineFeedCnt(i.bufferIndex,n,i.end),o.piece=new ee(i.bufferIndex,n,i.end,e,t),q(this,o,-1,-1)),!0}return!1}iterate(e,t){return e===F?t(F):this.iterate(e.left,t)&&t(e)&&this.iterate(e.right,t)}getNodeContent(e){if(e===F)return"";let t=this._buffers[e.piece.bufferIndex];var i=e.piece;e=this.offsetInBuffer(i.bufferIndex,i.start),i=this.offsetInBuffer(i.bufferIndex,i.end);return t.buffer.substring(e,i)}getPieceContent(e){let t=this._buffers[e.bufferIndex];var i=this.offsetInBuffer(e.bufferIndex,e.start);e=this.offsetInBuffer(e.bufferIndex,e.end);return t.buffer.substring(i,e)}rbInsertRight(e,t){let i=new R(t,1);if(i.left=F,i.right=F,i.parent=F,i.size_left=0,i.lf_left=0,this.root===F)this.root=i,i.color=0;else if(e.right===F)e.right=i,i.parent=e;else{let t=j(e.right);t.left=i,i.parent=t}return K(this,i),i}rbInsertLeft(e,t){let i=new R(t,1);if(i.left=F,i.right=F,i.parent=F,i.size_left=0,i.lf_left=0,this.root===F)this.root=i,i.color=0;else if(e.left===F)e.left=i,i.parent=e;else{let t=B(e.left);t.right=i,i.parent=t}return K(this,i),i}}var re=i(144),se=i(236);class ae extends r.a{constructor(e,t,i,n,r,s,a){super(),this._onDidChangeContent=this._register(new o.b),this._BOM=t,this._mightContainNonBasicASCII=!s,this._mightContainRTL=n,this._mightContainUnusualLineTerminators=r,this._pieceTree=new oe(e,i,a)}mightContainRTL(){return this._mightContainRTL}mightContainUnusualLineTerminators(){return this._mightContainUnusualLineTerminators}resetMightContainUnusualLineTerminators(){this._mightContainUnusualLineTerminators=!1}mightContainNonBasicASCII(){return this._mightContainNonBasicASCII}getBOM(){return this._BOM}getEOL(){return this._pieceTree.getEOL()}createSnapshot(e){return this._pieceTree.createSnapshot(e?this._BOM:"")}getOffsetAt(e,t){return this._pieceTree.getOffsetAt(e,t)}getPositionAt(e){return this._pieceTree.getPositionAt(e)}getRangeAt(e,t){return t=e+t,e=this.getPositionAt(e),t=this.getPositionAt(t),new d.a(e.lineNumber,e.column,t.lineNumber,t.column)}getValueInRange(e,t=0){return e.isEmpty()?"":(t=this._getEndOfLine(t),this._pieceTree.getValueInRange(e,t))}getValueLengthInRange(e,t=0){if(e.isEmpty())return 0;if(e.startLineNumber===e.endLineNumber)return e.endColumn-e.startColumn;var i=this.getOffsetAt(e.startLineNumber,e.startColumn);return this.getOffsetAt(e.endLineNumber,e.endColumn)-i}getCharacterCountInRange(e,t=0){if(this._mightContainNonBasicASCII){let a=0;var i=e.startLineNumber,n=e.endLineNumber;for(let t=i;t<=n;t++){const l=this.getLineContent(t);var o=t===i?e.startColumn-1:0,r=t===n?e.endColumn-1:l.length;for(let e=o;e<r;e++)s.E(l.charCodeAt(e))?(a+=1,e+=1):a+=1}return a+=this._getEndOfLine(t).length*(n-i),a}return this.getValueLengthInRange(e,t)}getLength(){return this._pieceTree.getLength()}getLineCount(){return this._pieceTree.getLineCount()}getLinesContent(){return this._pieceTree.getLinesContent()}getLineContent(e){return this._pieceTree.getLineContent(e)}getLineCharCode(e,t){return this._pieceTree.getLineCharCode(e,t)}getLineLength(e){return this._pieceTree.getLineLength(e)}getLineFirstNonWhitespaceColumn(e){return-1===(e=s.u(this.getLineContent(e)))?0:e+1}getLineLastNonWhitespaceColumn(e){return-1===(e=s.I(this.getLineContent(e)))?0:e+2}_getEndOfLine(e){switch(e){case 1:return"\n";case 2:return"\r\n";case 0:return this.getEOL();default:throw new Error("Unknown EOL preference")}}setEOL(e){this._pieceTree.setEOL(e)}applyEdits(e,t,i){let n=this._mightContainRTL,o=this._mightContainUnusualLineTerminators,r=this._mightContainNonBasicASCII,a=!0,l=[];for(let t=0;t<e.length;t++){let i=e[t];a&&i._isTracked&&(a=!1);var c,d,h=i.range;if(i.text){let e=!0;r||(e=!s.A(i.text),r=e),!n&&e&&(n=s.m(i.text)),!o&&e&&(o=s.n(i.text))}let u="",g=0,p=0,f=0;i.text&&([g,p,f,c]=Object(re.f)(i.text),d=this.getEOL(),u=0===c||c===("\r\n"===d?2:1)?i.text:i.text.replace(/\r\n|\r|\n/g,d)),l[t]={sortIndex:t,identifier:i.identifier||null,range:h,rangeOffset:this.getOffsetAt(h.startLineNumber,h.startColumn),rangeLength:this.getValueLengthInRange(h),text:u,eolCount:g,firstLineLength:p,lastLineLength:f,forceMoveMarkers:Boolean(i.forceMoveMarkers),isAutoWhitespaceEdit:i.isAutoWhitespaceEdit||!1}}l.sort(ae._sortOpsAscending);let g=!1;for(let e=0,t=l.length-1;e<t;e++){var p=l[e].range.getEndPosition();let t=l[e+1].range.getStartPosition();if(t.isBeforeOrEqual(p)){if(t.isBefore(p))throw new Error("Overlapping ranges are not allowed!");g=!0}}a&&(l=this._reduceOperations(l));var f=i||t?ae._getInverseEditRanges(l):[];let m=[];if(t)for(let e=0;e<l.length;e++){let t=l[e];var v=f[e];if(t.isAutoWhitespaceEdit&&t.range.isEmpty())for(let e=v.startLineNumber;e<=v.endLineNumber;e++){let i="";e===v.startLineNumber&&(i=this.getLineContent(t.range.startLineNumber),-1!==s.u(i))||m.push({lineNumber:e,oldContent:i})}}let b=null;if(i){let e=0;b=[];for(let t=0;t<l.length;t++){var _=l[t],w=f[t],C=this.getValueInRange(_.range),y=_.rangeOffset+e;e+=_.text.length-C.length,b[t]={sortIndex:_.sortIndex,identifier:_.identifier,range:w,text:C,textChange:new se.a(_.rangeOffset,C,y,_.text)}}g||b.sort((e,t)=>e.sortIndex-t.sortIndex)}this._mightContainRTL=n,this._mightContainUnusualLineTerminators=o,this._mightContainNonBasicASCII=r,i=this._doApplyEdits(l);let x=null;if(t&&0<m.length){m.sort((e,t)=>t.lineNumber-e.lineNumber),x=[];for(let e=0,t=m.length;e<t;e++){var S,k,D=m[e].lineNumber;0<e&&m[e-1].lineNumber===D||(S=m[e].oldContent,0!==(k=this.getLineContent(D)).length&&k!==S&&-1===s.u(k)&&x.push(D))}}return this._onDidChangeContent.fire(),new u.a(b,i,x)}_reduceOperations(e){return e.length<1e3?e:[this._toSingleEditOperation(e)]}_toSingleEditOperation(e){let t=!1;var i=e[0].range,n=e[e.length-1].range,o=new d.a(i.startLineNumber,i.startColumn,n.endLineNumber,n.endColumn);let r=i.startLineNumber,s=i.startColumn;const a=[];for(let i=0,n=e.length;i<n;i++){var l=e[i],c=l.range;t=t||l.forceMoveMarkers,a.push(this.getValueInRange(new d.a(r,s,c.startLineNumber,c.startColumn))),0<l.text.length&&a.push(l.text),r=c.endLineNumber,s=c.endColumn}var h=a.join(""),[u,n,i]=Object(re.f)(h);return{sortIndex:0,identifier:e[0].identifier,range:o,rangeOffset:this.getOffsetAt(o.startLineNumber,o.startColumn),rangeLength:this.getValueLengthInRange(o,0),text:h,eolCount:u,firstLineLength:n,lastLineLength:i,forceMoveMarkers:t,isAutoWhitespaceEdit:!1}}_doApplyEdits(e){e.sort(ae._sortOpsDescending);let t=[];for(let a=0;a<e.length;a++){var i=e[a],n=i.range.startLineNumber,o=i.range.startColumn,r=i.range.endLineNumber,s=i.range.endColumn;n===r&&o===s&&0===i.text.length||(i.text?(this._pieceTree.delete(i.rangeOffset,i.rangeLength),this._pieceTree.insert(i.rangeOffset,i.text,!0)):this._pieceTree.delete(i.rangeOffset,i.rangeLength),s=new d.a(n,o,r,s),t.push({range:s,rangeLength:i.rangeLength,text:i.text,rangeOffset:i.rangeOffset,forceMoveMarkers:i.forceMoveMarkers}))}return t}findMatchesLineByLine(e,t,i,n){return this._pieceTree.findMatchesLineByLine(e,t,i,n)}static _getInverseEditRanges(e){let t=[],i=0,n=0,o=null;for(let a=0,l=e.length;a<l;a++){var r,s=e[a];let l,c,h;c=o?o.range.endLineNumber===s.range.startLineNumber?(l=i,n+(s.range.startColumn-o.range.endColumn)):(l=i+(s.range.startLineNumber-o.range.endLineNumber),s.range.startColumn):(l=s.range.startLineNumber,s.range.startColumn),h=0<s.text.length?1===(r=s.eolCount+1)?new d.a(l,c,l,c+s.firstLineLength):new d.a(l,c,l+r-1,s.lastLineLength+1):new d.a(l,c,l,c),i=h.endLineNumber,n=h.endColumn,t.push(h),o=s}return t}static _sortOpsAscending(e,t){var i=d.a.compareRangesUsingEnds(e.range,t.range);return 0===i?e.sortIndex-t.sortIndex:i}static _sortOpsDescending(e,t){var i=d.a.compareRangesUsingEnds(e.range,t.range);return 0===i?t.sortIndex-e.sortIndex:-i}}class le{constructor(e,t,i,n,o,r,s,a,l){this._chunks=e,this._bom=t,this._cr=i,this._lf=n,this._crlf=o,this._containsRTL=r,this._containsUnusualLineTerminators=s,this._isBasicASCII=a,this._normalizeEOL=l}_getEOL(e){var t=this._cr+this._lf+this._crlf,i=this._cr+this._crlf;return 0===t?1===e?"\n":"\r\n":t/2<i?"\r\n":"\n"}create(e){var t=this._getEOL(e);let i=this._chunks;if(this._normalizeEOL&&("\r\n"===t&&(0<this._cr||0<this._lf)||"\n"===t&&(0<this._cr||0<this._crlf)))for(let e=0,r=i.length;e<r;e++){var n=i[e].buffer.replace(/\r\n|\r|\n/g,t),o=J(n);i[e]=new te(n,o)}return{textBuffer:e=new ae(i,this._bom,t,this._containsRTL,this._containsUnusualLineTerminators,this._isBasicASCII,this._normalizeEOL),disposable:e}}}class ce{constructor(){this.chunks=[],this.BOM="",this._hasPreviousChar=!1,this._previousChar=0,this._tmpLineStarts=[],this.cr=0,this.lf=0,this.crlf=0,this.containsRTL=!1,this.containsUnusualLineTerminators=!1,this.isBasicASCII=!0}acceptChunk(e){var t;0!==e.length&&(0===this.chunks.length&&s.S(e)&&(this.BOM=s.b,e=e.substr(1)),13===(t=e.charCodeAt(e.length-1))||55296<=t&&t<=56319?(this._acceptChunk1(e.substr(0,e.length-1),!1),this._hasPreviousChar=!0):(this._acceptChunk1(e,!1),this._hasPreviousChar=!1),this._previousChar=t)}_acceptChunk1(e,t){!t&&0===e.length||(this._hasPreviousChar?this._acceptChunk2(String.fromCharCode(this._previousChar)+e):this._acceptChunk2(e))}_acceptChunk2(e){var t=function(e,t){e.length=0;let i=1,n=e[0]=0,o=0,r=0,s=!0;for(let l=0,c=t.length;l<c;l++){var a=t.charCodeAt(l);13===a?l+1<c&&10===t.charCodeAt(l+1)?(r++,e[i++]=l+2,l++):(n++,e[i++]=l+1):10===a?(o++,e[i++]=l+1):s&&9!==a&&(a<32||126<a)&&(s=!1)}var l=new Q(X(e),n,o,r,s);return e.length=0,l}(this._tmpLineStarts,e);this.chunks.push(new te(e,t.lineStarts)),this.cr+=t.cr,this.lf+=t.lf,this.crlf+=t.crlf,this.isBasicASCII&&(this.isBasicASCII=t.isBasicASCII),this.isBasicASCII||this.containsRTL||(this.containsRTL=s.m(e)),this.isBasicASCII||this.containsUnusualLineTerminators||(this.containsUnusualLineTerminators=s.n(e))}finish(e=!0){return this._finish(),new le(this.chunks,this.BOM,this.cr,this.lf,this.crlf,this.containsRTL,this.containsUnusualLineTerminators,this.isBasicASCII,e)}_finish(){if(0===this.chunks.length&&this._acceptChunk1("",!0),this._hasPreviousChar){this._hasPreviousChar=!1;let t=this.chunks[this.chunks.length-1];t.buffer+=String.fromCharCode(this._previousChar);var e=J(t.buffer);t.lineStarts=e,13===this._previousChar&&this.cr++}}}var de=i(99),he=i(22),ue=i(118),ge=i(11),pe=i(107),fe=i(155),me=i(15);class ve{constructor(){this._beginState=[],this._valid=[],this._len=0,this._invalidLineStartIndex=0}_reset(e){this._beginState=[],this._valid=[],this._len=0,this._invalidLineStartIndex=0,e&&this._setBeginState(0,e)}flush(e){this._reset(e)}get invalidLineStartIndex(){return this._invalidLineStartIndex}_invalidateLine(e){e<this._len&&(this._valid[e]=!1),e<this._invalidLineStartIndex&&(this._invalidLineStartIndex=e)}_isValid(e){return e<this._len&&this._valid[e]}getBeginState(e){return e<this._len?this._beginState[e]:null}_ensureLine(e){for(;e>=this._len;)this._beginState[this._len]=null,this._valid[this._len]=!1,this._len++}_deleteLines(e,t){0!==t&&(e+t>this._len&&(t=this._len-e),this._beginState.splice(e,t),this._valid.splice(e,t),this._len-=t)}_insertLines(e,t){if(0!==t){const i=[],n=[];for(let e=0;e<t;e++)i[e]=null,n[e]=!1;this._beginState=he.b(this._beginState,e,i),this._valid=he.b(this._valid,e,n),this._len+=t}}_setValid(e,t){this._ensureLine(e),this._valid[e]=t}_setBeginState(e,t){this._ensureLine(e),this._beginState[e]=t}setEndState(e,t,i){if(this._setValid(t,!0),this._invalidLineStartIndex=t+1,t!==e-1){var n=this.getBeginState(t+1);if(null===n||!i.equals(n))return this._setBeginState(t+1,i),void this._invalidateLine(t+1);let o=t+1;for(;o<e&&this._isValid(o);)o++;this._invalidLineStartIndex=o}}setFakeTokens(e){this._setValid(e,!1)}applyEdits(e,t){var i=e.endLineNumber-e.startLineNumber;for(let n=Math.min(i,t);0<=n;n--)this._invalidateLine(e.startLineNumber+n-1);this._acceptDeleteRange(e),this._acceptInsertText(new c.a(e.startLineNumber,e.startColumn),t)}_acceptDeleteRange(e){e.startLineNumber-1>=this._len||this._deleteLines(e.startLineNumber,e.endLineNumber-e.startLineNumber)}_acceptInsertText(e,t){e.lineNumber-1>=this._len||this._insertLines(e.lineNumber,t)}}class be extends r.a{constructor(e,t){super(),this._textModel=e,this._languageIdCodec=t,this._isDisposed=!1,this._tokenizationStateStore=new ve,this._tokenizationSupport=null,this._register(ge.F.onDidChange(e=>{var t=this._textModel.getLanguageId();-1!==e.changedLanguages.indexOf(t)&&(this._resetTokenizationState(),this._textModel.clearTokens())})),this._register(this._textModel.onDidChangeContentFast(e=>{if(e.isFlush)this._resetTokenizationState();else{for(let n=0,o=e.changes.length;n<o;n++){var t=e.changes[n],[i]=Object(re.f)(t.text);this._tokenizationStateStore.applyEdits(t.range,i)}this._beginBackgroundTokenization()}})),this._register(this._textModel.onDidChangeAttached(()=>{this._beginBackgroundTokenization()})),this._register(this._textModel.onDidChangeLanguage(()=>{this._resetTokenizationState(),this._textModel.clearTokens()})),this._resetTokenizationState()}dispose(){this._isDisposed=!0,super.dispose()}_resetTokenizationState(){var[e,t]=function(e){var t=e.getLanguageId();let i=e.isTooLargeForTokenization()?null:ge.F.get(t),o=null;if(i)try{o=i.getInitialState()}catch(e){Object(n.f)(e),i=null}return[i,o]}(this._textModel);this._tokenizationSupport=e,this._tokenizationStateStore.flush(t),this._beginBackgroundTokenization()}_beginBackgroundTokenization(){this._textModel.isAttachedToEditor()&&this._hasLinesToTokenize()&&me.j(()=>{this._isDisposed||this._revalidateTokensNow()})}_revalidateTokensNow(){var e=this._textModel.getLineCount(),t=new re.b;const i=fe.a.create(!1);for(;this._hasLinesToTokenize()&&!(1<i.elapsed())&&!(e<=this._tokenizeOneInvalidLine(t)););this._beginBackgroundTokenization(),this._textModel.setTokens(t.tokens,!this._hasLinesToTokenize())}tokenizeViewport(e,t){var i=new re.b;this._tokenizeViewport(i,e,t),this._textModel.setTokens(i.tokens,!this._hasLinesToTokenize())}reset(){this._resetTokenizationState(),this._textModel.clearTokens()}forceTokenization(e){var t=new re.b;this._updateTokensUntilLine(t,e),this._textModel.setTokens(t.tokens,!this._hasLinesToTokenize())}isCheapToTokenize(e){if(!this._tokenizationSupport)return!0;var t=this._tokenizationStateStore.invalidLineStartIndex+1;return!(t<e)&&(e<t||this._textModel.getLineLength(e)<2048)}_hasLinesToTokenize(){return!!this._tokenizationSupport&&this._tokenizationStateStore.invalidLineStartIndex<this._textModel.getLineCount()}_tokenizeOneInvalidLine(e){if(!this._hasLinesToTokenize())return this._textModel.getLineCount()+1;var t=this._tokenizationStateStore.invalidLineStartIndex+1;return this._updateTokensUntilLine(e,t),t}_updateTokensUntilLine(e,t){if(this._tokenizationSupport){var i=this._textModel.getLanguageId(),n=this._textModel.getLineCount(),o=t-1;for(let t=this._tokenizationStateStore.invalidLineStartIndex;t<=o;t++){var r=this._textModel.getLineContent(t+1),s=this._tokenizationStateStore.getBeginState(t);s=_e(this._languageIdCodec,i,this._tokenizationSupport,r,!0,s);e.add(t+1,s.tokens),this._tokenizationStateStore.setEndState(n,t,s.endState),t=this._tokenizationStateStore.invalidLineStartIndex-1}}}_tokenizeViewport(e,t,i){if(this._tokenizationSupport&&!(i<=this._tokenizationStateStore.invalidLineStartIndex))if(t<=this._tokenizationStateStore.invalidLineStartIndex)this._updateTokensUntilLine(e,i);else{let s=this._textModel.getLineFirstNonWhitespaceColumn(t);const a=[];let l=null;for(let e=t-1;1<s&&1<=e;e--){var n=this._textModel.getLineFirstNonWhitespaceColumn(e);if(0!==n&&n<s){if(l=this._tokenizationStateStore.getBeginState(e-1),l)break;a.push(this._textModel.getLineContent(e)),s=n}}l=l||this._tokenizationSupport.getInitialState();var o=this._textModel.getLanguageId();let c=l;for(let e=a.length-1;0<=e;e--){c=_e(this._languageIdCodec,o,this._tokenizationSupport,a[e],!1,c).endState}for(let n=t;n<=i;n++){var r=this._textModel.getLineContent(n);r=_e(this._languageIdCodec,o,this._tokenizationSupport,r,!0,c);e.add(n,r.tokens),this._tokenizationStateStore.setFakeTokens(n-1),c=r.endState}}}}function _e(e,t,i,o,r,s){let a=null;if(i)try{a=i.tokenize2(o,r,s.clone(),0)}catch(e){Object(n.f)(e)}return a=a||Object(pe.d)(e.encodeLanguageId(t),o,s,0),ue.a.convertToEndOffset(a.tokens,o.length),a}var we=i(163),Ce=i(49),ye=i(136),xe=i(145),Se=i(14),ke=i(130);class De{constructor(e,t,i){this.range=e,this.nestingLevel=t,this.isInvalid=i}}class Le extends class{constructor(e,t,i,n){this.range=e,this.openingBracketRange=t,this.closingBracketRange=i,this.nestingLevel=n}}{constructor(e,t,i,n,o){super(e,t,i,n),this.minVisibleColumnIndentation=o}}class Oe{constructor(e,t){this.lineCount=e,this.columnCount=t}toString(){return`${this.lineCount},${this.columnCount}`}}const Ee=Math.pow(2,26);function Ne(e,t){return e*Ee+t}function Ie(e){var t=e;e=Math.floor(t/Ee);return new Oe(e,t=t-e*Ee)}function Te(e,t){return t<Ee?e+t:e-e%Ee+t}function Me(e){return Ne(e.lineNumber-1,e.column-1)}function Ae(e,t){var i=e,n=Math.floor(i/Ee);e=i-n*Ee,i=(i=t)-(t=Math.floor(i/Ee))*Ee;return new d.a(n+1,1+e,t+1,1+i)}class Pe{constructor(e,t,i){this.startOffset=e,this.endOffset=t,this.newLength=i}}class Re{constructor(e,t){this.documentLength=t,this.nextEditIdx=0,this.deltaOldToNewLineCount=0,this.deltaOldToNewColumnCount=0,this.deltaLineIdxInOld=-1,this.edits=e.map(e=>Fe.from(e))}getOffsetBeforeChange(e){return this.adjustNextEdit(e),this.translateCurToOld(e)}getDistanceToNextChange(e){this.adjustNextEdit(e);var t,i=this.edits[this.nextEditIdx],n=i?this.translateOldToCur(i.offsetObj):this.documentLength;return(i=t=n)-(e=n=e)<=0?0:(n=Math.floor(e/Ee),i-=(t=Math.floor(i/Ee))*Ee,n!==t?Ne(t-n,i):Ne(0,i-(e-n*Ee)))}translateOldToCur(e){return e.lineCount===this.deltaLineIdxInOld?Ne(e.lineCount+this.deltaOldToNewLineCount,e.columnCount+this.deltaOldToNewColumnCount):Ne(e.lineCount+this.deltaOldToNewLineCount,e.columnCount)}translateCurToOld(e){return(e=Ie(e)).lineCount-this.deltaOldToNewLineCount===this.deltaLineIdxInOld?Ne(e.lineCount-this.deltaOldToNewLineCount,e.columnCount-this.deltaOldToNewColumnCount):Ne(e.lineCount-this.deltaOldToNewLineCount,e.columnCount)}adjustNextEdit(e){for(;this.nextEditIdx<this.edits.length;){var t=this.edits[this.nextEditIdx];if(!((o=this.translateOldToCur(t.endOffsetAfterObj))<=e))break;this.nextEditIdx++;var i=Ie(o),n=Ie(this.translateOldToCur(t.endOffsetBeforeObj)),o=i.lineCount-n.lineCount;this.deltaOldToNewLineCount+=o,o=this.deltaLineIdxInOld===t.endOffsetBeforeObj.lineCount?this.deltaOldToNewColumnCount:0,n=i.columnCount-n.columnCount,this.deltaOldToNewColumnCount=o+n,this.deltaLineIdxInOld=t.endOffsetBeforeObj.lineCount}}}class Fe{constructor(e,t,i){this.endOffsetBeforeObj=Ie(t),this.endOffsetAfterObj=Ie(Te(e,i)),this.offsetObj=Ie(e)}static from(e){return new Fe(e.startOffset,e.endOffset,e.newLength)}}var je=i(189);const Be=new Array;class We{constructor(e,t){this.items=e,this.additionalItems=t}static create(e,t){if(e<=128&&0===t.length){let i=We.cache[e];return i||(i=new We(e,t),We.cache[e]=i),i}return new We(e,t)}static getEmpty(){return this.empty}add(e,t){var i=(t=t.getKey(e))>>5;if(0==i)return(e=1<<t|this.items)===this.items?this:We.create(e,this.additionalItems);i--;const n=this.additionalItems.slice(0);for(;n.length<i;)n.push(0);return n[i]|=1<<(31&t),We.create(this.items,n)}merge(e){var t=this.items|e.items;if(this.additionalItems===Be&&e.additionalItems===Be)return t===this.items?this:t===e.items?e:We.create(t,Be);const i=new Array;for(let t=0;t<Math.max(this.additionalItems.length,e.additionalItems.length);t++){var n=this.additionalItems[t]||0,o=e.additionalItems[t]||0;i.push(n|o)}return We.create(t,i)}intersects(e){if(0!=(this.items&e.items))return!0;for(let t=0;t<Math.min(this.additionalItems.length,e.additionalItems.length);t++)if(0!=(this.additionalItems[t]&e.additionalItems[t]))return!0;return!1}}We.cache=new Array(129),We.empty=We.create(0,Be);const Ve={getKey:e=>e};class ze{constructor(){this.items=new Map}getKey(e){let t=this.items.get(e);return void 0===t&&(t=this.items.size,this.items.set(e,t)),t}}class He{constructor(e){this._length=e}get length(){return this._length}}class Ue extends He{constructor(e,t,i,n,o){super(e),this.openingBracket=t,this.child=i,this.closingBracket=n,this.missingOpeningBracketIds=o}static create(e,t,i){let n=e.length;return t&&(n=Te(n,t.length)),i&&(n=Te(n,i.length)),new Ue(n,e,t,i,t?t.missingOpeningBracketIds:We.getEmpty())}get kind(){return 2}get listHeight(){return 0}get childrenLength(){return 3}getChild(e){switch(e){case 0:return this.openingBracket;case 1:return this.child;case 2:return this.closingBracket}throw new Error("Invalid child index")}get children(){const e=new Array;return e.push(this.openingBracket),this.child&&e.push(this.child),this.closingBracket&&e.push(this.closingBracket),e}canBeReused(e){return null!==this.closingBracket&&!e.intersects(this.missingOpeningBracketIds)}deepClone(){return new Ue(this.length,this.openingBracket.deepClone(),this.child&&this.child.deepClone(),this.closingBracket&&this.closingBracket.deepClone(),this.missingOpeningBracketIds)}computeMinIndentation(e,t){return this.child?this.child.computeMinIndentation(Te(e,this.openingBracket.length),t):Number.MAX_SAFE_INTEGER}}class $e extends He{constructor(e,t,i){super(e),this.listHeight=t,this._missingOpeningBracketIds=i,this.cachedMinIndentation=-1}static create23(e,t,i,n=!1){let o=e.length,r=e.missingOpeningBracketIds;if(e.listHeight!==t.listHeight)throw new Error("Invalid list heights");if(o=Te(o,t.length),r=r.merge(t.missingOpeningBracketIds),i){if(e.listHeight!==i.listHeight)throw new Error("Invalid list heights");o=Te(o,i.length),r=r.merge(i.missingOpeningBracketIds)}return new(n?qe:Ke)(o,e.listHeight+1,e,t,i,r)}static getEmpty(){return new Ye(0,0,[],We.getEmpty())}get kind(){return 4}get missingOpeningBracketIds(){return this._missingOpeningBracketIds}throwIfImmutable(){}makeLastElementMutable(){this.throwIfImmutable();var e=this.childrenLength;if(0!==e){const i=this.getChild(e-1);var t=4===i.kind?i.toMutable():i;return i!==t&&this.setChild(e-1,t),t}}makeFirstElementMutable(){if(this.throwIfImmutable(),0!==this.childrenLength){const t=this.getChild(0);var e=4===t.kind?t.toMutable():t;return t!==e&&this.setChild(0,e),e}}canBeReused(e){if(e.intersects(this.missingOpeningBracketIds))return!1;let t,i=this;for(;4===i.kind&&0<(t=i.childrenLength);)i=i.getChild(t-1);return i.canBeReused(e)}handleChildrenChanged(){this.throwIfImmutable();var e=this.childrenLength;let t=this.getChild(0).length,i=this.getChild(0).missingOpeningBracketIds;for(let o=1;o<e;o++){var n=this.getChild(o);t=Te(t,n.length),i=i.merge(n.missingOpeningBracketIds)}this._length=t,this._missingOpeningBracketIds=i,this.cachedMinIndentation=-1}computeMinIndentation(e,t){if(-1!==this.cachedMinIndentation)return this.cachedMinIndentation;let i=Number.MAX_SAFE_INTEGER,n=e;for(let e=0;e<this.childrenLength;e++){const o=this.getChild(e);o&&(i=Math.min(i,o.computeMinIndentation(n,t)),n=Te(n,o.length))}return this.cachedMinIndentation=i,i}}class Ke extends $e{constructor(e,t,i,n,o,r){super(e,t,r),this._item1=i,this._item2=n,this._item3=o}get childrenLength(){return null!==this._item3?3:2}getChild(e){switch(e){case 0:return this._item1;case 1:return this._item2;case 2:return this._item3}throw new Error("Invalid child index")}setChild(e,t){switch(e){case 0:return void(this._item1=t);case 1:return void(this._item2=t);case 2:return void(this._item3=t)}throw new Error("Invalid child index")}get children(){return this._item3?[this._item1,this._item2,this._item3]:[this._item1,this._item2]}get item1(){return this._item1}get item2(){return this._item2}get item3(){return this._item3}deepClone(){return new Ke(this.length,this.listHeight,this._item1.deepClone(),this._item2.deepClone(),this._item3?this._item3.deepClone():null,this.missingOpeningBracketIds)}appendChildOfSameHeight(e){if(this._item3)throw new Error("Cannot append to a full (2,3) tree node");this.throwIfImmutable(),this._item3=e,this.handleChildrenChanged()}unappendChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();var e=this._item3;return this._item3=null,this.handleChildrenChanged(),e}prependChildOfSameHeight(e){if(this._item3)throw new Error("Cannot prepend to a full (2,3) tree node");this.throwIfImmutable(),this._item3=this._item2,this._item2=this._item1,this._item1=e,this.handleChildrenChanged()}unprependChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();var e=this._item1;return this._item1=this._item2,this._item2=this._item3,this._item3=null,this.handleChildrenChanged(),e}toMutable(){return this}}class qe extends Ke{toMutable(){return new Ke(this.length,this.listHeight,this.item1,this.item2,this.item3,this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}class Ge extends $e{constructor(e,t,i,n){super(e,t,n),this._children=i}get childrenLength(){return this._children.length}getChild(e){return this._children[e]}setChild(e,t){this._children[e]=t}get children(){return this._children}deepClone(){const e=new Array(this._children.length);for(let t=0;t<this._children.length;t++)e[t]=this._children[t].deepClone();return new Ge(this.length,this.listHeight,e,this.missingOpeningBracketIds)}appendChildOfSameHeight(e){this.throwIfImmutable(),this._children.push(e),this.handleChildrenChanged()}unappendChild(){this.throwIfImmutable();var e=this._children.pop();return this.handleChildrenChanged(),e}prependChildOfSameHeight(e){this.throwIfImmutable(),this._children.unshift(e),this.handleChildrenChanged()}unprependChild(){this.throwIfImmutable();var e=this._children.shift();return this.handleChildrenChanged(),e}toMutable(){return this}}class Ye extends Ge{toMutable(){return new Ge(this.length,this.listHeight,[...this.children],this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}const Ze=[];class Xe extends He{get listHeight(){return 0}get childrenLength(){return 0}getChild(e){return null}get children(){return Ze}deepClone(){return this}}class Qe extends Xe{get kind(){return 0}get missingOpeningBracketIds(){return We.getEmpty()}canBeReused(e){return!0}computeMinIndentation(e,t){var i=(0===(i=Ie(e)).columnCount?i.lineCount:i.lineCount+1)+1,n=(e=Te(e,this.length),Math.floor(e/Ee)+1);let o=Number.MAX_SAFE_INTEGER;for(let e=i;e<=n;e++){var r=t.getLineFirstNonWhitespaceColumn(e),s=t.getLineContent(e);0!==r&&(r=je.a.visibleColumnFromColumn(s,r,t.getOptions().tabSize),o=Math.min(o,r))}return o}}class Je extends Xe{constructor(e){super(e)}static create(e){var t=e,i=Je.cacheByLength.get(t);return i||(e=new Je(e),Je.cacheByLength.set(t,e),e)}get kind(){return 1}get missingOpeningBracketIds(){return We.getEmpty()}canBeReused(e){return!1}computeMinIndentation(e,t){return Number.MAX_SAFE_INTEGER}}Je.cacheByLength=new Map;class et extends Xe{constructor(e,t){super(t),this.missingOpeningBracketIds=e}get kind(){return 3}canBeReused(e){return!e.intersects(this.missingOpeningBracketIds)}computeMinIndentation(e,t){return Number.MAX_SAFE_INTEGER}}class tt{constructor(e,t,i,n,o){this.length=e,this.kind=t,this.bracketId=i,this.bracketIds=n,this.astNode=o}}class it{constructor(e,t){this.textModel=e,this.bracketTokens=t,this.reader=new nt(this.textModel,this.bracketTokens),this._offset=0,this.didPeek=!1,this.peeked=null,this.textBufferLineCount=e.getLineCount(),this.textBufferLastLineLength=e.getLineLength(this.textBufferLineCount)}get offset(){return this._offset}get length(){return Ne(this.textBufferLineCount,this.textBufferLastLineLength)}skip(e){this.didPeek=!1,this._offset=Te(this._offset,e),e=Ie(this._offset),this.reader.setPosition(e.lineCount,e.columnCount)}read(){let e;return e=this.peeked?(this.didPeek=!1,this.peeked):this.reader.read(),e&&(this._offset=Te(this._offset,e.length)),e}peek(){return this.didPeek||(this.peeked=this.reader.read(),this.didPeek=!0),this.peeked}}class nt{constructor(e,t){this.textModel=e,this.bracketTokens=t,this.lineIdx=0,this.line=null,this.lineCharOffset=0,this.lineTokens=null,this.lineTokenOffset=0,this.peekedToken=null,this.textBufferLineCount=e.getLineCount(),this.textBufferLastLineLength=e.getLineLength(this.textBufferLineCount)}setPosition(e,t){e===this.lineIdx?(this.lineCharOffset=t,this.lineTokenOffset=0===this.lineCharOffset?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset)):(this.lineIdx=e,this.lineCharOffset=t,this.line=null),this.peekedToken=null}read(){if(this.peekedToken){var e=this.peekedToken;return this.peekedToken=null,this.lineCharOffset+=e.length,e}if(this.lineIdx>this.textBufferLineCount-1||this.lineIdx===this.textBufferLineCount-1&&this.lineCharOffset>=this.textBufferLastLineLength)return null;null===this.line&&(this.lineTokens=this.textModel.getLineTokens(this.lineIdx+1),this.line=this.lineTokens.getLineContent(),this.lineTokenOffset=0===this.lineCharOffset?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset));var t=this.lineIdx,i=this.lineCharOffset;let n=0;for(;;){const e=this.lineTokens;var o=e.getCount();let c=null;if(this.lineTokenOffset<o){for(var r=e.getMetadata(this.lineTokenOffset);this.lineTokenOffset+1<o&&r===e.getMetadata(this.lineTokenOffset+1);)this.lineTokenOffset++;var s=0===ge.E.getTokenType(r),a=e.getEndOffset(this.lineTokenOffset);if(s&&a!==this.lineCharOffset){var l=e.getLanguageId(this.lineTokenOffset);s=this.line.substring(this.lineCharOffset,a);const t=this.bracketTokens.getSingleLanguageBracketTokens(l),i=t.regExpGlobal;i&&(i.lastIndex=0,(s=i.exec(s))&&(c=t.getToken(s[0]),c&&(this.lineCharOffset+=s.index)))}if(n+=a-this.lineCharOffset,c){if(t===this.lineIdx&&i===this.lineCharOffset)return this.lineCharOffset+=c.length,c;this.peekedToken=c;break}this.lineTokenOffset++,this.lineCharOffset=a}else{if(this.lineIdx===this.textBufferLineCount-1)break;if(this.lineIdx++,this.lineTokens=this.textModel.getLineTokens(this.lineIdx+1),this.lineTokenOffset=0,this.line=this.lineTokens.getLineContent(),this.lineCharOffset=0,n+=33,1e3<n)break}if(1500<n)break}var c,d,h=(c=t,h=i,d=this.lineIdx,e=this.lineCharOffset,c!==d?Ne(d-c,e):Ne(0,e-h));return new tt(h,0,-1,We.getEmpty(),new Qe(h))}}class ot{constructor(e,t){this.text=e,this._offset=0,this.idx=0;const i=t.getRegExpStr()?new RegExp(t.getRegExpStr()+"|\n","g"):null,n=[];let o=0,r=0,s=0,a=0;const l=new Array;for(let e=0;e<60;e++)l.push(new tt(Ne(0,e),0,-1,We.getEmpty(),new Qe(Ne(0,e))));const c=new Array;for(let e=0;e<60;e++)c.push(new tt(Ne(1,e),0,-1,We.getEmpty(),new Qe(Ne(1,e))));if(i)for(i.lastIndex=0;null!==(g=i.exec(e));){var d,h,u=g.index,g=g[0];if("\n"===g)o++,r=u+1;else{if(s!==u){let e;e=a===o?(d=u-s)<l.length?l[d]:(h=Ne(0,d),new tt(h,0,-1,We.getEmpty(),new Qe(h))):(h=u-r,1==(d=o-a)&&h<c.length?c[h]:(h=Ne(d,h),new tt(h,0,-1,We.getEmpty(),new Qe(h)))),n.push(e)}n.push(t.getToken(g)),s=u+g.length,a=o}}var p,f=e.length;s!==f&&(p=a===o?Ne(0,f-s):Ne(o-a,f-r),n.push(new tt(p,0,-1,We.getEmpty(),new Qe(p)))),this.length=Ne(o,f-r),this.tokens=n}get offset(){return this._offset}read(){return this.tokens[this.idx++]||null}peek(){return this.tokens[this.idx]||null}skip(e){throw new n.a}}class rt{constructor(e){this.map=e,this.hasRegExp=!1,this._regExpGlobal=null}static createFromLanguage(e,t){function i(e,i){return t.getKey(`${e}:::${i}`)}var n,o,r,s,a=e.characterPair.getColorizedBrackets();const l=new Map,c=new Set;for([n,o]of a){c.add(n);let t=l.get(o);var d=i(e.languageId,n);t||(t={openingBrackets:We.getEmpty(),first:d},l.set(o,t)),t.openingBrackets=t.openingBrackets.add(d,Ve)}const h=new Map;for([r,s]of l){var u=Ne(0,r.length);h.set(r,new tt(u,2,s.first,s.openingBrackets,Je.create(u)))}for(const t of c){var g=Ne(0,t.length),p=i(e.languageId,t);h.set(t,new tt(g,1,p,We.getEmpty().add(p,Ve),Je.create(g)))}return new rt(h)}getRegExpStr(){if(this.isEmpty)return null;{const e=[...this.map.keys()];return e.sort(),e.reverse(),e.map(e=>function(e){var t=Object(s.t)(e);return(e=/^[\w ]+$/.test(e))?`\\b${t}\\b`:t}(e)).join("|")}}get regExpGlobal(){var e;return this.hasRegExp||(e=this.getRegExpStr(),this._regExpGlobal=e?new RegExp(e,"g"):null,this.hasRegExp=!0),this._regExpGlobal}getToken(e){return this.map.get(e)}get isEmpty(){return 0===this.map.size}}class st{constructor(e,t){this.denseKeyProvider=e,this.getLanguageConfiguration=t,this.languageIdToBracketTokens=new Map}didLanguageChange(e){const t=this.languageIdToBracketTokens.get(e);return!!t&&(e=rt.createFromLanguage(this.getLanguageConfiguration(e),this.denseKeyProvider).getRegExpStr(),t.getRegExpStr()!==e)}getSingleLanguageBracketTokens(e){let t=this.languageIdToBracketTokens.get(e);return t||(t=rt.createFromLanguage(this.getLanguageConfiguration(e),this.denseKeyProvider),this.languageIdToBracketTokens.set(e,t)),t}}function at(e,t=!1){if(0===e.length)return null;if(1===e.length)return e[0];let i=e.length;for(;3<i;){var n=i>>1;for(let r=0;r<n;r++){var o=r<<1;e[r]=$e.create23(e[o],e[1+o],3+o===i?e[2+o]:null,t)}i=n}return $e.create23(e[0],e[1],3<=i?e[2]:null,t)}function lt(e,t){return Math.abs(e.listHeight-t.listHeight)}function ct(e,t){return e.listHeight===t.listHeight?$e.create23(e,t,null,!1):e.listHeight>t.listHeight?function(e,t){let i=e=e.toMutable();const n=new Array;let o;for(;;){if(t.listHeight===i.listHeight){o=t;break}if(4!==i.kind)throw new Error("unexpected");n.push(i),i=i.makeLastElementMutable()}for(let e=n.length-1;0<=e;e--){const t=n[e];o?o=3<=t.childrenLength?$e.create23(t.unappendChild(),o,null,!1):void t.appendChildOfSameHeight(o):t.handleChildrenChanged()}return o?$e.create23(e,o,null,!1):e}(e,t):function(e,t){let i=e=e.toMutable();const n=new Array;for(;t.listHeight!==i.listHeight;){if(4!==i.kind)throw new Error("unexpected");n.push(i),i=i.makeFirstElementMutable()}let o=t;for(let e=n.length-1;0<=e;e--){const t=n[e];o?o=3<=t.childrenLength?$e.create23(o,t.unprependChild(),null,!1):void t.prependChildOfSameHeight(o):t.handleChildrenChanged()}return o?$e.create23(o,e,null,!1):e}(t,e)}class dt{constructor(e){this.lastOffset=0,this.nextNodes=[e],this.offsets=[0],this.idxs=[]}readLongestNodeAt(e,t){if(e<this.lastOffset)throw new Error("Invalid offset");for(this.lastOffset=e;;){const r=ut(this.nextNodes);if(!r)return;var i,n=ut(this.offsets);if(e<n)return;if(n<e)Te(n,r.length)<=e||-1===(i=ht(r))?this.nextNodeAfterCurrent():(this.nextNodes.push(r.getChild(i)),this.offsets.push(n),this.idxs.push(i));else{if(t(r))return this.nextNodeAfterCurrent(),r;var o=ht(r);if(-1===o)return void this.nextNodeAfterCurrent();this.nextNodes.push(r.getChild(o)),this.offsets.push(n),this.idxs.push(o)}}}nextNodeAfterCurrent(){for(;;){var e=ut(this.offsets),t=ut(this.nextNodes);if(this.nextNodes.pop(),this.offsets.pop(),0===this.idxs.length)break;const n=ut(this.nextNodes);var i=ht(n,this.idxs[this.idxs.length-1]);if(-1!==i){this.nextNodes.push(n.getChild(i)),this.offsets.push(Te(e,t.length)),this.idxs[this.idxs.length-1]=i;break}this.idxs.pop()}}}function ht(e,t=-1){for(;;){if(++t>=e.childrenLength)return-1;if(e.getChild(t))return t}}function ut(e){return 0<e.length?e[e.length-1]:void 0}function gt(e,t,i,n){return new pt(e,t,i,n).parseDocument()}class pt{constructor(e,t,i,n){if(this.tokenizer=e,this.createImmutableLists=n,this._itemsConstructed=0,this._itemsFromCache=0,i&&n)throw new Error("Not supported");this.oldNodeReader=i?new dt(i):void 0,this.positionMapper=new Re(t,e.length)}parseDocument(){this._itemsConstructed=0,this._itemsFromCache=0;let e=this.parseList(We.getEmpty());return e=e||$e.getEmpty(),e}parseList(e){const t=new Array;for(;;){const n=this.tokenizer.peek();if(!n||2===n.kind&&n.bracketIds.intersects(e))break;var i=this.parseChild(e);4===i.kind&&0===i.childrenLength||t.push(i)}return this.oldNodeReader?function(e){if(0===e.length)return null;if(1===e.length)return e[0];let t=0;function i(){if(t>=e.length)return null;var i=t,n=e[i].listHeight;for(t++;t<e.length&&e[t].listHeight===n;)t++;return 2<=t-i?at(0===i&&t===e.length?e:e.slice(i,t),!1):e[i]}let n=i(),o=i();if(!o)return n;for(let e=i();e;e=i())o=lt(n,o)<=lt(o,e)?(n=ct(n,o),e):ct(o,e);return ct(n,o)}(t):at(t,this.createImmutableLists)}parseChild(e){if(this.oldNodeReader){const i=this.positionMapper.getDistanceToNextChange(this.tokenizer.offset);if(0!==i){var t=this.oldNodeReader.readLongestNodeAt(this.positionMapper.getOffsetBeforeChange(this.tokenizer.offset),t=>t.length<i&&t.canBeReused(e));if(t)return this._itemsFromCache++,this.tokenizer.skip(t.length),t}}this._itemsConstructed++;var i=this.tokenizer.read();switch(i.kind){case 2:return new et(i.bracketIds,i.length);case 0:return i.astNode;case 1:var n=e.merge(i.bracketIds);n=this.parseList(n);const t=this.tokenizer.peek();return t&&2===t.kind&&(t.bracketId===i.bracketId||t.bracketIds.intersects(i.bracketIds))?(this.tokenizer.read(),Ue.create(i.astNode,n,t.astNode)):Ue.create(i.astNode,n,null);default:throw new Error("unexpected")}}}class ft extends r.a{constructor(e,t){super(),this.textModel=e,this.languageConfigurationService=t,this.cache=this._register(new r.d),this.onDidChangeEmitter=new o.b,this.onDidChange=this.onDidChangeEmitter.event,this.bracketsRequested=!1,this._register(e.onDidChangeOptions(e=>{this.cache.clear(),this.updateCache()})),this._register(e.onDidChangeLanguage(e=>{this.cache.clear(),this.updateCache()})),this._register(this.languageConfigurationService.onDidChange(e=>{var t;(!e.languageId||null!==(t=this.cache.value)&&void 0!==t&&t.object.didLanguageChange(e.languageId))&&(this.cache.clear(),this.updateCache())}))}get isDocumentSupported(){return this.textModel.getValueLength()<=5e6}updateCache(){if(this.bracketsRequested&&this.isDocumentSupported){if(!this.cache.value){const i=new r.b;this.cache.value=(e=i.add(new mt(this.textModel,e=>this.languageConfigurationService.getLanguageConfiguration(e))),t=i,{object:e,dispose:()=>null==t?void 0:t.dispose()}),i.add(this.cache.value.object.onDidChange(e=>this.onDidChangeEmitter.fire(e))),this.onDidChangeEmitter.fire()}}else this.cache.clear(),this.onDidChangeEmitter.fire();var e,t}handleContentChanged(e){var t;null!==(t=this.cache.value)&&void 0!==t&&t.object.handleContentChanged(e)}getBracketPairsInRange(e){var t;return this.bracketsRequested=!0,this.updateCache(),(null===(t=this.cache.value)||void 0===t?void 0:t.object.getBracketPairsInRange(e,!1))||[]}getBracketPairsInRangeWithMinIndentation(e){var t;return this.bracketsRequested=!0,this.updateCache(),(null===(t=this.cache.value)||void 0===t?void 0:t.object.getBracketPairsInRange(e,!0))||[]}getBracketsInRange(e){var t;return this.bracketsRequested=!0,this.updateCache(),(null===(t=this.cache.value)||void 0===t?void 0:t.object.getBracketsInRange(e))||[]}}class mt extends r.a{constructor(e,t){super(),this.textModel=e,this.getLanguageConfiguration=t,this.didChangeEmitter=new o.b,this.denseKeyProvider=new ze,this.brackets=new st(this.denseKeyProvider,this.getLanguageConfiguration),this.onDidChange=this.didChangeEmitter.event,this._register(e.onBackgroundTokenizationStateChanged(()=>{var t;2===e.backgroundTokenizationState&&(t=void 0===this.initialAstWithoutTokens,this.initialAstWithoutTokens=void 0,t||this.didChangeEmitter.fire())})),this._register(e.onDidChangeTokens(({ranges:e})=>{e=e.map(e=>new Pe(Ne(e.fromLineNumber-1,0),Ne(e.toLineNumber,0),Ne(e.toLineNumber-e.fromLineNumber+1,0))),this.astWithTokens=this.parseDocumentFromTextBuffer(e,this.astWithTokens,!1),this.initialAstWithoutTokens||this.didChangeEmitter.fire()})),0===e.backgroundTokenizationState?(t=this.brackets.getSingleLanguageBracketTokens(this.textModel.getLanguageId()),t=new ot(this.textModel.getValue(),t),this.initialAstWithoutTokens=gt(t,[],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens):2===e.backgroundTokenizationState?(this.initialAstWithoutTokens=void 0,this.astWithTokens=this.parseDocumentFromTextBuffer([],void 0,!1)):1===e.backgroundTokenizationState&&(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer([],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens)}didLanguageChange(e){return this.brackets.didLanguageChange(e)}handleContentChanged(e){e=e.changes.map(e=>{const t=d.a.lift(e.range);return new Pe(Me(t.getStartPosition()),Me(t.getEndPosition()),(e=e.text,Ne((e=Object(s.Q)(e)).length-1,e[e.length-1].length)))}).reverse(),this.astWithTokens=this.parseDocumentFromTextBuffer(e,this.astWithTokens,!1),this.initialAstWithoutTokens&&(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer(e,this.initialAstWithoutTokens,!1))}parseDocumentFromTextBuffer(e,t,i){return gt(new it(this.textModel,this.brackets),e,t,i)}getBracketsInRange(e){var t=Ne(e.startLineNumber-1,e.startColumn-1),i=Ne(e.endLineNumber-1,e.endColumn-1),n=new Array;return function e(t,i,n,o,r,s,a=0){if(1===t.kind){const e=Ae(i,n);s.push(new De(e,a-1,!1))}else if(3===t.kind){const e=Ae(i,n);s.push(new De(e,a-1,!0))}else if(4===t.kind)for(const l of t.children)n=Te(i,l.length),i<=r&&o<=n&&e(l,i,n,o,r,s,a),i=n;else if(2===t.kind){a++;{const l=t.openingBracket;n=Te(i,l.length),i<=r&&o<=n&&e(l,i,n,o,r,s,a),i=n}if(t.child){const l=t.child;n=Te(i,l.length),i<=r&&o<=n&&e(l,i,n,o,r,s,a),i=n}if(t.closingBracket){const l=t.closingBracket;n=Te(i,l.length),i<=r&&o<=n&&e(l,i,n,o,r,s,a),i=n}}}(e=this.initialAstWithoutTokens||this.astWithTokens,0,e.length,t,i,n),n}getBracketPairsInRange(e,t){var i=new Array,n=Me(e.getStartPosition()),o=Me(e.getEndPosition());e=this.initialAstWithoutTokens||this.astWithTokens,t=new vt(i,t,this.textModel);return function e(t,i,n,o,r,s,a=0){var l;if(2===t.kind){const e=Te(i,t.openingBracket.length);let o=-1;s.includeMinIndentation&&(o=t.computeMinIndentation(i,s.textModel)),s.result.push(new Le(Ae(i,n),Ae(i,e),t.closingBracket?Ae(Te(e,(null===(l=t.child)||void 0===l?void 0:l.length)||0),n):void 0,a,o)),a++}let c=i;for(const i of t.children){const t=c;c=Te(c,i.length),t<=r&&o<=c&&e(i,t,c,o,r,s,a)}}(e,0,e.length,n,o,t),i}}class vt{constructor(e,t,i){this.result=e,this.includeMinIndentation=t,this.textModel=i}}var bt=i(45),_t=i(16);class wt extends r.a{constructor(e){super(),this.textModel=e,this.colorProvider=new Ct,this.onDidChangeEmitter=new o.b,this.onDidChange=this.onDidChangeEmitter.event,this.colorizationOptions=e.getOptions().bracketPairColorizationOptions,this._register(e.onDidChangeOptions(t=>{this.colorizationOptions=e.getOptions().bracketPairColorizationOptions})),this._register(e.bracketPairs.onDidChange(e=>{this.onDidChangeEmitter.fire()}))}getDecorationsInRange(e,t,i){if(void 0===t)return[];if(!this.colorizationOptions.enabled)return[];const n=new Array;for(const t of this.textModel.bracketPairs.getBracketsInRange(e))n.push({id:`bracket${t.range.toString()}-${t.nestingLevel}`,options:{description:"BracketPairColorization",inlineClassName:this.colorProvider.getInlineClassName(t)},ownerId:0,range:t.range});return n}getAllDecorations(e,t){return void 0!==e&&this.colorizationOptions.enabled?this.getDecorationsInRange(new d.a(1,1,this.textModel.getLineCount(),1),e,t):[]}}class Ct{constructor(){this.unexpectedClosingBracketClassName="unexpected-closing-bracket"}getInlineClassName(e){return e.isInvalid?this.unexpectedClosingBracketClassName:this.getInlineClassNameOfLevel(e.nestingLevel)}getInlineClassNameOfLevel(e){return"bracket-highlighting-"+e%30}}function yt(e,t){return("string"==typeof e?function(e){const t=new ce;return t.acceptChunk(e),t.finish()}(e):e).create(t)}Object(_t.f)((e,t)=>{const i=[bt.c,bt.d,bt.e,bt.f,bt.g,bt.h],n=new Ct;t.addRule(`.monaco-editor .${n.unexpectedClosingBracketClassName} { color: ${e.getColor(bt.i)}; }`);var o=i.map(t=>e.getColor(t)).filter(e=>!!e).filter(e=>!e.isTransparent());for(let e=0;e<30;e++){var r=o[e%o.length];t.addRule(`.monaco-editor .${n.getInlineClassNameOfLevel(e)} { color: ${r}; }`)}}),t=i(80),_t=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;0<=a;a--)(o=e[a])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s},i=function(e,t){return function(i,n){t(i,n,e)}};let xt=0;class St{constructor(e){this._source=e,this._eos=!1}read(){if(this._eos)return null;let e=[],t=0,i=0;for(;;){var n=this._source.read();if(null===n)return this._eos=!0,0===t?null:e.join("");if(0<n.length&&(e[t++]=n,i+=n.length),65536<=i)return e.join("")}}}const kt=()=>{throw new Error("Invalid change accessor")};class Dt{constructor(){this._searchCanceledBrand=void 0}}function Lt(e){return e instanceof Dt?null:e}Dt.INSTANCE=new Dt;let Ot=class e extends r.a{constructor(t,i,n,r=null,l,c,h){super(),this._undoRedoService=l,this._modeService=c,this._languageConfigurationService=h,this._onWillDispose=this._register(new o.b),this.onWillDispose=this._onWillDispose.event,this._onDidChangeDecorations=this._register(new Vt(e=>this.handleBeforeFireDecorationsChangedEvent(e))),this.onDidChangeDecorations=this._onDidChangeDecorations.event,this._onDidChangeLanguage=this._register(new o.b),this.onDidChangeLanguage=this._onDidChangeLanguage.event,this._onDidChangeLanguageConfiguration=this._register(new o.b),this.onDidChangeLanguageConfiguration=this._onDidChangeLanguageConfiguration.event,this._onDidChangeTokens=this._register(new o.b),this.onDidChangeTokens=this._onDidChangeTokens.event,this._onDidChangeOptions=this._register(new o.b),this.onDidChangeOptions=this._onDidChangeOptions.event,this._onDidChangeAttached=this._register(new o.b),this.onDidChangeAttached=this._onDidChangeAttached.event,this._onDidChangeContentOrInjectedText=this._register(new o.b),this.onDidChangeContentOrInjectedText=this._onDidChangeContentOrInjectedText.event,this._eventEmitter=this._register(new zt),this._backgroundTokenizationState=0,this._onBackgroundTokenizationStateChanged=this._register(new o.b),this.onBackgroundTokenizationStateChanged=this._onBackgroundTokenizationStateChanged.event,this._register(this._eventEmitter.fastEvent(e=>{this._onDidChangeContentOrInjectedText.fire(e.rawContentChangedEvent)})),xt++,this.id="$model"+xt,this.isForSimpleWidget=i.isForSimpleWidget,this._associatedResource=null==r?a.a.parse("inmemory://model/"+xt):r,this._attachedEditorCount=0;var{textBuffer:r,disposable:t}=yt(t,i.defaultEOL);this._buffer=r,this._bufferDisposable=t,this._options=e.resolveOptions(this._buffer,i),r=this._buffer.getLineCount(),t=this._buffer.getValueLengthInRange(new d.a(1,1,r,this._buffer.getLineLength(r)+1),0),i.largeFileOptimizations?this._isTooLargeForTokenization=t>e.LARGE_FILE_SIZE_THRESHOLD||r>e.LARGE_FILE_LINE_COUNT_THRESHOLD:this._isTooLargeForTokenization=!1,this._isTooLargeForSyncing=t>e.MODEL_SYNC_LIMIT,this._versionId=1,this._alternativeVersionId=1,this._initialUndoRedoSnapshot=null,this._isDisposed=!1,this._isDisposing=!1,this._languageId=n||pe.a,this._languageRegistryListener=this._languageConfigurationService.onDidChange(e=>{e.affects(this._languageId)&&this._onDidChangeLanguageConfiguration.fire({})}),this._instanceId=s.P(xt),this._lastDecorationId=0,this._decorations=Object.create(null),this._decorationsTree=new Tt,this._commandManager=new g.a(this,this._undoRedoService),this._isUndoing=!1,this._isRedoing=!1,this._trimAutoWhitespaceLines=null,this._tokens=new re.d(this._modeService.languageIdCodec),this._tokens2=new re.e(this._modeService.languageIdCodec),this._tokenization=new be(this,this._modeService.languageIdCodec),this._bracketPairColorizer=this._register(new ft(this,this._languageConfigurationService)),this._decorationProvider=this._register(new wt(this)),this._register(this._decorationProvider.onDidChange(()=>{this._onDidChangeDecorations.beginDeferredEmit(),this._onDidChangeDecorations.fire(),this._onDidChangeDecorations.endDeferredEmit()}))}static resolveOptions(e,t){return t.detectIndentation?(e=f(e,t.tabSize,t.insertSpaces),new u.h({tabSize:e.tabSize,indentSize:e.tabSize,insertSpaces:e.insertSpaces,trimAutoWhitespace:t.trimAutoWhitespace,defaultEOL:t.defaultEOL,bracketPairColorizationOptions:t.bracketPairColorizationOptions})):new u.h({tabSize:t.tabSize,indentSize:t.indentSize,insertSpaces:t.insertSpaces,trimAutoWhitespace:t.trimAutoWhitespace,defaultEOL:t.defaultEOL,bracketPairColorizationOptions:t.bracketPairColorizationOptions})}onDidChangeContentFast(e){return this._eventEmitter.fastEvent(t=>e(t.contentChangedEvent))}onDidChangeContent(e){return this._eventEmitter.slowEvent(t=>e(t.contentChangedEvent))}get bracketPairs(){return this._bracketPairColorizer}get backgroundTokenizationState(){return this._backgroundTokenizationState}handleTokenizationProgress(e){2===this._backgroundTokenizationState||this._backgroundTokenizationState!==(e=e?2:1)&&(this._backgroundTokenizationState=e,this._onBackgroundTokenizationStateChanged.fire())}dispose(){this._isDisposing=!0,this._onWillDispose.fire(),this._languageRegistryListener.dispose(),this._tokenization.dispose(),this._isDisposed=!0,super.dispose(),this._bufferDisposable.dispose(),this._isDisposing=!1;const e=new ae([],"","\n",!1,!1,!0,!0);e.dispose(),this._buffer=e}_assertNotDisposed(){if(this._isDisposed)throw new Error("Model is disposed!")}_emitContentChangedEvent(e,t){this._bracketPairColorizer.handleContentChanged(t),this._isDisposing||this._eventEmitter.fire(new de.a(e,t))}setValue(e){var t;this._assertNotDisposed(),null!==e&&(({textBuffer:t,disposable:e}=yt(e,this._options.defaultEOL)),this._setValueFromTextBuffer(t,e))}_createContentChanged2(e,t,i,n,o,r,s){return{changes:[{range:e,rangeOffset:t,rangeLength:i,text:n}],eol:this._buffer.getEOL(),versionId:this.getVersionId(),isUndoing:o,isRedoing:r,isFlush:s}}_setValueFromTextBuffer(e,t){this._assertNotDisposed();var i=this.getFullModelRange(),n=this.getValueLengthInRange(i),o=this.getLineCount();i=this.getLineMaxColumn(o);this._buffer=e,this._bufferDisposable.dispose(),this._bufferDisposable=t,this._increaseVersionId(),this._tokens.flush(),this._tokens2.flush(),this._decorations=Object.create(null),this._decorationsTree=new Tt,this._commandManager.clear(),this._trimAutoWhitespaceLines=null,this._emitContentChangedEvent(new de.d([new de.f],this._versionId,!1,!1),this._createContentChanged2(new d.a(1,1,o,i),0,n,this.getValue(),!1,!1,!0))}setEOL(e){this._assertNotDisposed();var t,i,n=1===e?"\r\n":"\n";this._buffer.getEOL()!==n&&(i=this.getFullModelRange(),t=this.getValueLengthInRange(i),e=this.getLineCount(),i=this.getLineMaxColumn(e),this._onBeforeEOLChange(),this._buffer.setEOL(n),this._increaseVersionId(),this._onAfterEOLChange(),this._emitContentChangedEvent(new de.d([new de.e],this._versionId,!1,!1),this._createContentChanged2(new d.a(1,1,e,i),0,t,this.getValue(),!1,!1,!1)))}_onBeforeEOLChange(){this._decorationsTree.ensureAllNodesHaveRanges(this)}_onAfterEOLChange(){var e=this.getVersionId(),t=this._decorationsTree.collectNodesPostOrder();for(let r=0,s=t.length;r<s;r++){const s=t[r];var i=s.range,n=s.cachedAbsoluteStart-s.start,o=this._buffer.getOffsetAt(i.startLineNumber,i.startColumn);i=this._buffer.getOffsetAt(i.endLineNumber,i.endColumn);s.cachedAbsoluteStart=o,s.cachedAbsoluteEnd=i,s.cachedVersionId=e,s.start=o-n,s.end=i-n,A(s)}}onBeforeAttached(){this._attachedEditorCount++,1===this._attachedEditorCount&&this._onDidChangeAttached.fire(void 0)}onBeforeDetached(){this._attachedEditorCount--,0===this._attachedEditorCount&&this._onDidChangeAttached.fire(void 0)}isAttachedToEditor(){return 0<this._attachedEditorCount}getAttachedEditorCount(){return this._attachedEditorCount}isTooLargeForSyncing(){return this._isTooLargeForSyncing}isTooLargeForTokenization(){return this._isTooLargeForTokenization}isDisposed(){return this._isDisposed}isDominatedByLongLines(){if(this._assertNotDisposed(),this.isTooLargeForTokenization())return!1;let e=0,t=0;var i=this._buffer.getLineCount();for(let o=1;o<=i;o++){var n=this._buffer.getLineLength(o);1e4<=n?t+=n:e+=n}return t>e}get uri(){return this._associatedResource}getOptions(){return this._assertNotDisposed(),this._options}getFormattingOptions(){return{tabSize:this._options.indentSize,insertSpaces:this._options.insertSpaces}}updateOptions(e){this._assertNotDisposed();var t=(void 0!==e.tabSize?e:this._options).tabSize,i=(void 0!==e.indentSize?e:this._options).indentSize,n=(void 0!==e.insertSpaces?e:this._options).insertSpaces,o=(void 0!==e.trimAutoWhitespace?e:this._options).trimAutoWhitespace;e=void 0!==e.bracketColorizationOptions?e.bracketColorizationOptions:this._options.bracketPairColorizationOptions,o=new u.h({tabSize:t,indentSize:i,insertSpaces:n,defaultEOL:this._options.defaultEOL,trimAutoWhitespace:o,bracketPairColorizationOptions:e});this._options.equals(o)||(e=this._options.createChangeEvent(o),this._options=o,this._onDidChangeOptions.fire(e))}detectIndentation(e,t){this._assertNotDisposed(),e=f(this._buffer,t,e),this.updateOptions({insertSpaces:e.insertSpaces,tabSize:e.tabSize,indentSize:e.tabSize})}static _normalizeIndentationFromWhitespace(e,t,i){let n=0;for(let i=0;i<e.length;i++)"\t"===e.charAt(i)?n+=t:n++;let o="";if(!i){var r=Math.floor(n/t);n%=t;for(let e=0;e<r;e++)o+="\t"}for(let e=0;e<n;e++)o+=" ";return o}static normalizeIndentation(t,i,n){let o=s.u(t);return-1===o&&(o=t.length),e._normalizeIndentationFromWhitespace(t.substring(0,o),i,n)+t.substring(o)}normalizeIndentation(t){return this._assertNotDisposed(),e.normalizeIndentation(t,this._options.indentSize,this._options.insertSpaces)}getVersionId(){return this._assertNotDisposed(),this._versionId}mightContainRTL(){return this._buffer.mightContainRTL()}mightContainUnusualLineTerminators(){return this._buffer.mightContainUnusualLineTerminators()}removeUnusualLineTerminators(e=null){const t=this.findMatches(s.a.source,!1,!0,!1,null,!1,1073741824);this._buffer.resetMightContainUnusualLineTerminators(),this.pushEditOperations(e,t.map(e=>({range:e.range,text:null})),()=>null)}mightContainNonBasicASCII(){return this._buffer.mightContainNonBasicASCII()}getAlternativeVersionId(){return this._assertNotDisposed(),this._alternativeVersionId}getInitialUndoRedoSnapshot(){return this._assertNotDisposed(),this._initialUndoRedoSnapshot}getOffsetAt(e){return this._assertNotDisposed(),e=this._validatePosition(e.lineNumber,e.column,0),this._buffer.getOffsetAt(e.lineNumber,e.column)}getPositionAt(e){return this._assertNotDisposed(),e=Math.min(this._buffer.getLength(),Math.max(0,e)),this._buffer.getPositionAt(e)}_increaseVersionId(){this._versionId=this._versionId+1,this._alternativeVersionId=this._versionId}_overwriteVersionId(e){this._versionId=e}_overwriteAlternativeVersionId(e){this._alternativeVersionId=e}_overwriteInitialUndoRedoSnapshot(e){this._initialUndoRedoSnapshot=e}getValue(e,t=!1){this._assertNotDisposed();var i=this.getFullModelRange();e=this.getValueInRange(i,e);return t?this._buffer.getBOM()+e:e}createSnapshot(e=!1){return new St(this._buffer.createSnapshot(e))}getValueLength(e,t=!1){this._assertNotDisposed();var i=this.getFullModelRange();e=this.getValueLengthInRange(i,e);return t?this._buffer.getBOM().length+e:e}getValueInRange(e,t=0){return this._assertNotDisposed(),this._buffer.getValueInRange(this.validateRange(e),t)}getValueLengthInRange(e,t=0){return this._assertNotDisposed(),this._buffer.getValueLengthInRange(this.validateRange(e),t)}getCharacterCountInRange(e,t=0){return this._assertNotDisposed(),this._buffer.getCharacterCountInRange(this.validateRange(e),t)}getLineCount(){return this._assertNotDisposed(),this._buffer.getLineCount()}getLineContent(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineContent(e)}getLineLength(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLength(e)}getLinesContent(){return this._assertNotDisposed(),this._buffer.getLinesContent()}getEOL(){return this._assertNotDisposed(),this._buffer.getEOL()}getEndOfLineSequence(){return this._assertNotDisposed(),"\n"===this._buffer.getEOL()?0:1}getLineMinColumn(e){return this._assertNotDisposed(),1}getLineMaxColumn(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLength(e)+1}getLineFirstNonWhitespaceColumn(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineFirstNonWhitespaceColumn(e)}getLineLastNonWhitespaceColumn(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLastNonWhitespaceColumn(e)}_validateRangeRelaxedNoAllocations(e){var t=this._buffer.getLineCount(),i=e.startLineNumber,n=e.startColumn;let o=Math.floor("number"!=typeof i||isNaN(i)?1:i),r=Math.floor("number"!=typeof n||isNaN(n)?1:n);o<1?(o=1,r=1):o>t?(o=t,r=this.getLineMaxColumn(o)):r<=1?r=1:r>=(a=this.getLineMaxColumn(o))&&(r=a);var s=e.endLineNumber,a=e.endColumn;let l=Math.floor("number"!=typeof s||isNaN(s)?1:s),c=Math.floor("number"!=typeof a||isNaN(a)?1:a);return l<1?(l=1,c=1):l>t?(l=t,c=this.getLineMaxColumn(l)):c<=1?c=1:c>=(t=this.getLineMaxColumn(l))&&(c=t),i===o&&n===r&&s===l&&a===c&&e instanceof d.a&&!(e instanceof h.a)?e:new d.a(o,r,l,c)}_isValidPosition(e,t,i){return"number"==typeof e&&"number"==typeof t&&(!isNaN(e)&&!isNaN(t)&&(!(e<1||t<1)&&((0|e)===e&&(0|t)===t&&(!(this._buffer.getLineCount()<e)&&(1===t||!(this.getLineMaxColumn(e)<t)&&(1!==i||(t=this._buffer.getLineCharCode(e,t-2),!s.E(t))))))))}_validatePosition(e,t,i){var n=Math.floor("number"!=typeof e||isNaN(e)?1:e);e=Math.floor("number"!=typeof t||isNaN(t)?1:t),t=this._buffer.getLineCount();return n<1?new c.a(1,1):t<n?new c.a(t,this.getLineMaxColumn(t)):e<=1?new c.a(n,1):(t=this.getLineMaxColumn(n))<=e?new c.a(n,t):1===i&&(i=this._buffer.getLineCharCode(n,e-2),s.E(i))?new c.a(n,e-1):new c.a(n,e)}validatePosition(e){return this._assertNotDisposed(),e instanceof c.a&&this._isValidPosition(e.lineNumber,e.column,1)?e:this._validatePosition(e.lineNumber,e.column,1)}_isValidRange(e,t){var i=e.startLineNumber,n=e.startColumn,o=e.endLineNumber;e=e.endColumn;return!!this._isValidPosition(i,n,0)&&(!!this._isValidPosition(o,e,0)&&(1!==t||(n=1<n?this._buffer.getLineCharCode(i,n-2):0,e=1<e&&e<=this._buffer.getLineLength(o)?this._buffer.getLineCharCode(o,e-2):0,n=s.E(n),e=s.E(e),!n&&!e)))}validateRange(e){if(this._assertNotDisposed(),e instanceof d.a&&!(e instanceof h.a)&&this._isValidRange(e,1))return e;var t=this._validatePosition(e.startLineNumber,e.startColumn,0),i=this._validatePosition(e.endLineNumber,e.endColumn,0),n=t.lineNumber,o=t.column,r=i.lineNumber;e=i.column,t=1<o?this._buffer.getLineCharCode(n,o-2):0,i=1<e&&e<=this._buffer.getLineLength(r)?this._buffer.getLineCharCode(r,e-2):0,t=s.E(t),i=s.E(i);return t||i?n===r&&o===e?new d.a(n,o-1,r,e-1):t&&i?new d.a(n,o-1,r,e+1):t?new d.a(n,o-1,r,e):new d.a(n,o,r,e+1):new d.a(n,o,r,e)}modifyPosition(e,t){return this._assertNotDisposed(),t=this.getOffsetAt(e)+t,this.getPositionAt(Math.min(this._buffer.getLength(),Math.max(0,t)))}getFullModelRange(){this._assertNotDisposed();var e=this.getLineCount();return new d.a(1,1,e,this.getLineMaxColumn(e))}findMatchesLineByLine(e,t,i,n){return this._buffer.findMatchesLineByLine(e,t,i,n)}findMatches(e,t,i,n,o,r,s=999){this._assertNotDisposed();let a=null;null!==t&&(t=Array.isArray(t)?t:[t]).every(e=>d.a.isIRange(e))&&(a=t.map(e=>this.validateRange(e))),null===a&&(a=[this.getFullModelRange()]),a=a.sort((e,t)=>e.startLineNumber-t.startLineNumber||e.startColumn-t.startColumn);const l=[];let c;if(l.push(a.reduce((e,t)=>d.a.areIntersecting(e,t)?e.plusRange(t):(l.push(e),t))),!i&&e.indexOf("\n")<0){const t=new Y.a(e,i,n,o).parseSearchRequest();if(!t)return[];c=e=>this.findMatchesLineByLine(e,t,r,s)}else c=t=>Y.c.findMatches(this,new Y.a(e,i,n,o),t,r,s);return l.map(c).reduce((e,t)=>e.concat(t),[])}findNextMatch(e,t,i,n,o,r){this._assertNotDisposed();var s=this.validatePosition(t);if(!i&&e.indexOf("\n")<0){var a=new Y.a(e,i,n,o).parseSearchRequest();if(!a)return null;t=this.getLineCount(),t=new d.a(s.lineNumber,s.column,t,this.getLineMaxColumn(t));let l=this.findMatchesLineByLine(t,a,r,1);return Y.c.findNextMatch(this,new Y.a(e,i,n,o),s,r),0<l.length?l[0]:(t=new d.a(1,1,s.lineNumber,this.getLineMaxColumn(s.lineNumber)),l=this.findMatchesLineByLine(t,a,r,1),0<l.length?l[0]:null)}return Y.c.findNextMatch(this,new Y.a(e,i,n,o),s,r)}findPreviousMatch(e,t,i,n,o,r){return this._assertNotDisposed(),t=this.validatePosition(t),Y.c.findPreviousMatch(this,new Y.a(e,i,n,o),t,r)}pushStackElement(){this._commandManager.pushStackElement()}popStackElement(){this._commandManager.popStackElement()}pushEOL(e){if(("\n"===this.getEOL()?0:1)!==e)try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),null===this._initialUndoRedoSnapshot&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEOL(e)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_validateEditOperation(e){return e instanceof u.i?e:new u.i(e.identifier||null,this.validateRange(e.range),e.text,e.forceMoveMarkers||!1,e.isAutoWhitespaceEdit||!1,e._isTracked||!1)}_validateEditOperations(e){const t=[];for(let i=0,n=e.length;i<n;i++)t[i]=this._validateEditOperation(e[i]);return t}pushEditOperations(e,t,i){try{return this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._pushEditOperations(e,this._validateEditOperations(t),i)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_pushEditOperations(e,t,i){if(this._options.trimAutoWhitespace&&this._trimAutoWhitespaceLines){var n=t.map(e=>({range:this.validateRange(e.range),text:e.text}));let i=!0;if(e)for(let t=0,a=e.length;t<a;t++){var o=e[t];let a=!1;for(let e=0,t=n.length;e<t;e++){var r=(s=n[e].range).startLineNumber>o.endLineNumber,s=o.startLineNumber>s.endLineNumber;if(!r&&!s){a=!0;break}}if(!a){i=!1;break}}if(i)for(let e=0,i=this._trimAutoWhitespaceLines.length;e<i;e++){var a,l=this._trimAutoWhitespaceLines[e],c=this.getLineMaxColumn(l);let i=!0;for(let e=0,t=n.length;e<t;e++){let t=n[e].range,o=n[e].text;if(!(l<t.startLineNumber||l>t.endLineNumber||l===t.startLineNumber&&t.startColumn===c&&t.isEmpty()&&o&&0<o.length&&"\n"===o.charAt(0)||l===t.startLineNumber&&1===t.startColumn&&t.isEmpty()&&o&&0<o.length&&"\n"===o.charAt(o.length-1))){i=!1;break}}i&&(a=new d.a(l,1,l,c),t.push(new u.i(null,a,null,!1,!1,!1)))}this._trimAutoWhitespaceLines=null}return null===this._initialUndoRedoSnapshot&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEditOperation(e,t,i)}_applyUndo(e,t,i,n){e=e.map(e=>{var t=this.getPositionAt(e.newPosition),i=this.getPositionAt(e.newEnd);return{range:new d.a(t.lineNumber,t.column,i.lineNumber,i.column),text:e.oldText}}),this._applyUndoRedoEdits(e,t,!0,!1,i,n)}_applyRedo(e,t,i,n){e=e.map(e=>{var t=this.getPositionAt(e.oldPosition),i=this.getPositionAt(e.oldEnd);return{range:new d.a(t.lineNumber,t.column,i.lineNumber,i.column),text:e.newText}}),this._applyUndoRedoEdits(e,t,!1,!0,i,n)}_applyUndoRedoEdits(e,t,i,n,o,r){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._isUndoing=i,this._isRedoing=n,this.applyEdits(e,!1),this.setEOL(t),this._overwriteAlternativeVersionId(o)}finally{this._isUndoing=!1,this._isRedoing=!1,this._eventEmitter.endDeferredEmit(r),this._onDidChangeDecorations.endDeferredEmit()}}applyEdits(e,t=!1){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit();var i=this._validateEditOperations(e);return this._doApplyEdits(i,t)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_doApplyEdits(e,t){var i=this._buffer.getLineCount(),n=(t=this._buffer.applyEdits(e,this._options.trimAutoWhitespace,t),this._buffer.getLineCount()),o=t.changes;if(this._trimAutoWhitespaceLines=t.trimAutoWhitespaceLineNumbers,0!==o.length){for(let e=0,t=o.length;e<t;e++){const t=o[e];var[r,s,a]=Object(re.f)(t.text);this._tokens.acceptEdit(t.range,r,s),this._tokens2.acceptEdit(t.range,r,s,a,0<t.text.length?t.text.charCodeAt(0):0),this._decorationsTree.acceptReplace(t.rangeOffset,t.rangeLength,t.text.length,t.forceMoveMarkers)}let e=[];this._increaseVersionId();let t=i;for(let i=0,r=o.length;i<r;i++){var l=o[i],[d]=Object(re.f)(l.text);this._onDidChangeDecorations.fire();var h=l.range.startLineNumber,u=l.range.endLineNumber,g=u-h,p=d,f=Math.min(g,p),m=n-t-(l=p-g)+h;d=m+p,d=this._decorationsTree.getInjectedTextInInterval(this,this.getOffsetAt(new c.a(m,1)),this.getOffsetAt(new c.a(d,this.getLineMaxColumn(d))),0),d=de.b.fromDecorations(d);const r=new he.a(d);for(let t=f;0<=t;t--){var v=h+t;const i=m+t;r.takeFromEndWhile(e=>e.lineNumber>i);var b=r.takeFromEndWhile(e=>e.lineNumber===i);e.push(new de.g(v,this.getLineContent(i),b))}if(f<g&&e.push(new de.h(h+f+1,u)),f<p){const i=new he.a(d);var d,_=p-f,w=n-t-_+(d=h+f)+1;let o=[],r=[];for(let e=0;e<_;e++){let t=w+e;r[e]=this.getLineContent(t),i.takeWhile(e=>e.lineNumber<t),o[e]=i.takeWhile(e=>e.lineNumber===t)}e.push(new de.i(d+1,h+p,r,o))}t+=l}this._emitContentChangedEvent(new de.d(e,this.getVersionId(),this._isUndoing,this._isRedoing),{changes:o,eol:this._buffer.getEOL(),versionId:this.getVersionId(),isUndoing:this._isUndoing,isRedoing:this._isRedoing,isFlush:!1})}return null===t.reverseEdits?void 0:t.reverseEdits}undo(){return this._undoRedoService.undo(this.uri)}canUndo(){return this._undoRedoService.canUndo(this.uri)}redo(){return this._undoRedoService.redo(this.uri)}canRedo(){return this._undoRedoService.canRedo(this.uri)}handleBeforeFireDecorationsChangedEvent(e){if(null!==e&&0!==e.size){e=[...e].map(e=>new de.g(e,this.getLineContent(e),this._getInjectedTextInLine(e))),this._onDidChangeContentOrInjectedText.fire(new de.c(e))}}changeDecorations(e,t=0){this._assertNotDisposed();try{return this._onDidChangeDecorations.beginDeferredEmit(),this._changeDecorations(t,e)}finally{this._onDidChangeDecorations.endDeferredEmit()}}_changeDecorations(e,t){let i={addDecoration:(t,i)=>this._deltaDecorationsImpl(e,[],[{range:t,options:i}])[0],changeDecoration:(e,t)=>{this._changeDecorationImpl(e,t)},changeDecorationOptions:(e,t)=>{this._changeDecorationOptionsImpl(e,Wt(t))},removeDecoration:t=>{this._deltaDecorationsImpl(e,[t],[])},deltaDecorations:(t,i)=>0===t.length&&0===i.length?[]:this._deltaDecorationsImpl(e,t,i)},o=null;try{o=t(i)}catch(t){Object(n.f)(t)}return i.addDecoration=kt,i.changeDecoration=kt,i.changeDecorationOptions=kt,i.removeDecoration=kt,i.deltaDecorations=kt,o}deltaDecorations(e,t,i=0){if(this._assertNotDisposed(),0===(e=e||[]).length&&0===t.length)return[];try{return this._onDidChangeDecorations.beginDeferredEmit(),this._deltaDecorationsImpl(i,e,t)}finally{this._onDidChangeDecorations.endDeferredEmit()}}_getTrackedRange(e){return this.getDecorationRange(e)}_setTrackedRange(e,t,i){const n=e?this._decorations[e]:null;if(!n)return t?this._deltaDecorationsImpl(0,[],[{range:t,options:Bt[i]}])[0]:null;if(!t)return this._decorationsTree.delete(n),delete this._decorations[n.id],null;var o=this._validateRangeRelaxedNoAllocations(t);e=this._buffer.getOffsetAt(o.startLineNumber,o.startColumn),t=this._buffer.getOffsetAt(o.endLineNumber,o.endColumn);return this._decorationsTree.delete(n),n.reset(this.getVersionId(),e,t,o),n.setOptions(Bt[i]),this._decorationsTree.insert(n),n.id}removeAllDecorationsWithOwnerId(e){if(!this._isDisposed){var t=this._decorationsTree.collectNodesFromOwner(e);for(let e=0,n=t.length;e<n;e++){var i=t[e];this._decorationsTree.delete(i),delete this._decorations[i.id]}}}getDecorationOptions(e){return(e=this._decorations[e])?e.options:null}getDecorationRange(e){return(e=this._decorations[e])?this._decorationsTree.getNodeRange(this,e):null}getLineDecorations(e,t=0,i=!1){return e<1||e>this.getLineCount()?[]:this.getLinesDecorations(e,e,t,i)}getLinesDecorations(e,t,i=0,n=!1){var o=this.getLineCount();e=Math.min(o,Math.max(1,e)),o=Math.min(o,Math.max(1,t)),t=this.getLineMaxColumn(o),t=new d.a(e,1,o,t);const r=this._getDecorationsInRange(t,i,n);return r.push(...this._decorationProvider.getDecorationsInRange(t,i,n)),r}getDecorationsInRange(e,t=0,i=!1){e=this.validateRange(e);const n=this._getDecorationsInRange(e,t,i);return n.push(...this._decorationProvider.getDecorationsInRange(e,t,i)),n}getOverviewRulerDecorations(e=0,t=!1){return this._decorationsTree.getAll(this,e,t,!0)}getInjectedTextDecorations(e=0){return this._decorationsTree.getAllInjectedText(this,e)}_getInjectedTextInLine(e){var t=this._buffer.getOffsetAt(e,1),i=t+this._buffer.getLineLength(e);i=this._decorationsTree.getInjectedTextInInterval(this,t,i,0);return de.b.fromDecorations(i).filter(t=>t.lineNumber===e)}getAllDecorations(e=0,t=!1){let i=this._decorationsTree.getAll(this,e,t,!1);return i=i.concat(this._decorationProvider.getAllDecorations(e,t)),i}_getDecorationsInRange(e,t,i){var n=this._buffer.getOffsetAt(e.startLineNumber,e.startColumn);e=this._buffer.getOffsetAt(e.endLineNumber,e.endColumn);return this._decorationsTree.getAllInInterval(this,n,e,t,i)}getRangeAt(e,t){return this._buffer.getRangeAt(e,t-e)}_changeDecorationImpl(e,t){const i=this._decorations[e];var n,o;i&&(i.options.after&&(n=this.getDecorationRange(e),this._onDidChangeDecorations.recordLineAffectedByInjectedText(n.endLineNumber)),i.options.before&&(o=this.getDecorationRange(e),this._onDidChangeDecorations.recordLineAffectedByInjectedText(o.startLineNumber)),e=this._validateRangeRelaxedNoAllocations(t),o=this._buffer.getOffsetAt(e.startLineNumber,e.startColumn),t=this._buffer.getOffsetAt(e.endLineNumber,e.endColumn),this._decorationsTree.delete(i),i.reset(this.getVersionId(),o,t,e),this._decorationsTree.insert(i),this._onDidChangeDecorations.checkAffectedAndFire(i.options),i.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(e.endLineNumber),i.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(e.startLineNumber))}_changeDecorationOptionsImpl(e,t){const i=this._decorations[e];var n,o;i&&(n=!(!i.options.overviewRuler||!i.options.overviewRuler.color),e=!(!t.overviewRuler||!t.overviewRuler.color),this._onDidChangeDecorations.checkAffectedAndFire(i.options),this._onDidChangeDecorations.checkAffectedAndFire(t),(i.options.after||t.after)&&(o=this._decorationsTree.getNodeRange(this,i),this._onDidChangeDecorations.recordLineAffectedByInjectedText(o.endLineNumber)),(i.options.before||t.before)&&(o=this._decorationsTree.getNodeRange(this,i),this._onDidChangeDecorations.recordLineAffectedByInjectedText(o.startLineNumber)),n!=e?(this._decorationsTree.delete(i),i.setOptions(t),this._decorationsTree.insert(i)):i.setOptions(t))}_deltaDecorationsImpl(e,t,i){var n=this.getVersionId(),o=t.length;let r=0;var s,a,l,c,d=i.length;let h=0,u=new Array(d);for(;r<o||h<d;){let g=null;if(r<o){for(;g=this._decorations[t[r++]],!g&&r<o;);g&&(g.options.after&&(c=this._decorationsTree.getNodeRange(this,g),this._onDidChangeDecorations.recordLineAffectedByInjectedText(c.endLineNumber)),g.options.before&&(s=this._decorationsTree.getNodeRange(this,g),this._onDidChangeDecorations.recordLineAffectedByInjectedText(s.startLineNumber)),this._decorationsTree.delete(g),this._onDidChangeDecorations.checkAffectedAndFire(g.options))}h<d?(g||(a=++this._lastDecorationId,l=`${this._instanceId};${a}`,g=new S(l,0,0),this._decorations[l]=g),c=i[h],s=this._validateRangeRelaxedNoAllocations(c.range),a=Wt(c.options),l=this._buffer.getOffsetAt(s.startLineNumber,s.startColumn),c=this._buffer.getOffsetAt(s.endLineNumber,s.endColumn),g.ownerId=e,g.reset(n,l,c,s),g.setOptions(a),g.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(s.endLineNumber),g.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(s.startLineNumber),this._onDidChangeDecorations.checkAffectedAndFire(a),this._decorationsTree.insert(g),u[h]=g.id,h++):g&&delete this._decorations[g.id]}return u}setTokens(e,t=!1){if(0!==e.length){let t=[];for(let o=0,r=e.length;o<r;o++){var i=e[o];let r=0,s=0,a=!1;for(let e=0,t=i.tokens.length;e<t;e++){var n=i.startLineNumber+e;a?(this._tokens.setTokens(this._languageId,n-1,this._buffer.getLineLength(n),i.tokens[e],!1),s=n):this._tokens.setTokens(this._languageId,n-1,this._buffer.getLineLength(n),i.tokens[e],!0)&&(a=!0,r=n,s=n)}a&&t.push({fromLineNumber:r,toLineNumber:s})}0<t.length&&this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:!1,ranges:t})}this.handleTokenizationProgress(t)}setSemanticTokens(e,t){this._tokens2.set(e,t),this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:null!==e,ranges:[{fromLineNumber:1,toLineNumber:this.getLineCount()}]})}hasCompleteSemanticTokens(){return this._tokens2.isComplete()}hasSomeSemanticTokens(){return!this._tokens2.isEmpty()}setPartialSemanticTokens(e,t){this.hasCompleteSemanticTokens()||(t=this._tokens2.setPartial(e,t),this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:!0,ranges:[{fromLineNumber:t.startLineNumber,toLineNumber:t.endLineNumber}]}))}tokenizeViewport(e,t){e=Math.max(1,e),t=Math.min(this._buffer.getLineCount(),t),this._tokenization.tokenizeViewport(e,t)}clearTokens(){this._tokens.flush(),this._emitModelTokensChangedEvent({tokenizationSupportChanged:!0,semanticTokensApplied:!1,ranges:[{fromLineNumber:1,toLineNumber:this._buffer.getLineCount()}]})}_emitModelTokensChangedEvent(e){this._isDisposing||this._onDidChangeTokens.fire(e)}resetTokenization(){this._tokenization.reset()}forceTokenization(e){if(e<1||e>this.getLineCount())throw new Error("Illegal value for lineNumber");this._tokenization.forceTokenization(e)}isCheapToTokenize(e){return this._tokenization.isCheapToTokenize(e)}tokenizeIfCheap(e){this.isCheapToTokenize(e)&&this.forceTokenization(e)}getLineTokens(e){if(e<1||e>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._getLineTokens(e)}_getLineTokens(e){var t=this.getLineContent(e);t=this._tokens.getTokens(this._languageId,e-1,t);return this._tokens2.addSemanticTokens(e,t)}getLanguageId(){return this._languageId}setMode(e){var t;this._languageId!==e&&(t={oldLanguage:this._languageId,newLanguage:e},this._languageId=e,this._onDidChangeLanguage.fire(t),this._onDidChangeLanguageConfiguration.fire({}))}getLanguageIdAtPosition(e,t){t=this.validatePosition(new c.a(e,t));const i=this.getLineTokens(t.lineNumber);return i.getLanguageId(i.findTokenIndexAtOffset(t.column-1))}getLanguageConfiguration(e){return this._languageConfigurationService.getLanguageConfiguration(e)}getWordAtPosition(t){this._assertNotDisposed();var i=this.validatePosition(t);const n=this.getLineContent(i.lineNumber),o=this._getLineTokens(i.lineNumber);var r=o.findTokenIndexAtOffset(i.column-1),[s,a]=e._findLanguageBoundaries(o,r);if((a=Object(we.d)(i.column,this.getLanguageConfiguration(o.getLanguageId(r)).getWordDefinition(),n.substring(s,a),s))&&a.startColumn<=t.column&&t.column<=a.endColumn)return a;if(0<r&&s===i.column-1){var a,[a,s]=e._findLanguageBoundaries(o,r-1);if((a=Object(we.d)(i.column,this.getLanguageConfiguration(o.getLanguageId(r-1)).getWordDefinition(),n.substring(a,s),a))&&a.startColumn<=t.column&&t.column<=a.endColumn)return a}return null}static _findLanguageBoundaries(e,t){var i=e.getLanguageId(t);let n=0;for(let o=t;0<=o&&e.getLanguageId(o)===i;o--)n=e.getStartOffset(o);let o=e.getLineContent().length;for(let n=t,r=e.getCount();n<r&&e.getLanguageId(n)===i;n++)o=e.getEndOffset(n);return[n,o]}getWordUntilPosition(e){const t=this.getWordAtPosition(e);return t?{word:t.word.substr(0,e.column-t.startColumn),startColumn:t.startColumn,endColumn:e.column}:{word:"",startColumn:e.column,endColumn:e.column}}findMatchingBracketUp(e,t){var i=e.toLowerCase();e=this.validatePosition(t);let n=this._getLineTokens(e.lineNumber);return t=n.getLanguageId(n.findTokenIndexAtOffset(e.column-1)),(t=this.getLanguageConfiguration(t).brackets)&&(i=t.textIsBracket[i])?Lt(this._findMatchingBracketUp(i,e,null)):null}matchBracket(e){return this._matchBracket(this.validatePosition(e))}_establishBracketSearchOffsets(e,t,i,n){var o=t.getCount(),r=t.getLanguageId(n);let s=Math.max(0,e.column-1-i.maxBracketLength);for(let e=n-1;0<=e;e--){var a=t.getEndOffset(e);if(a<=s)break;if(Object(ye.b)(t.getStandardTokenType(e))||t.getLanguageId(e)!==r){s=a;break}}let l=Math.min(t.getLineContent().length,e.column-1+i.maxBracketLength);for(let e=n+1;e<o;e++){var c=t.getStartOffset(e);if(c>=l)break;if(Object(ye.b)(t.getStandardTokenType(e))||t.getLanguageId(e)!==r){l=c;break}}return{searchStartOffset:s,searchEndOffset:l}}_matchBracket(e){var t=e.lineNumber;const i=this._getLineTokens(t),n=this._buffer.getLineContent(t);if((c=i.findTokenIndexAtOffset(e.column-1))<0)return null;var o=this.getLanguageConfiguration(i.getLanguageId(c)).brackets;if(o&&!Object(ye.b)(i.getStandardTokenType(c))){let{searchStartOffset:a,searchEndOffset:l}=this._establishBracketSearchOffsets(e,i,o,c),d=null;for(;;){var r=xe.a.findNextBracketInRange(o.forwardRegex,t,n,a,l);if(!r)break;if(r.startColumn<=e.column&&e.column<=r.endColumn){var s=n.substring(r.startColumn-1,r.endColumn-1).toLowerCase();if(s=this._matchFoundBracket(r,o.textIsBracket[s],o.textIsOpenBracket[s],null)){if(s instanceof Dt)return null;d=s}}a=r.endColumn-1}if(d)return d}if(0<c&&i.getStartOffset(c)===e.column-1){var a=c-1,l=this.getLanguageConfiguration(i.getLanguageId(a)).brackets;if(l&&!Object(ye.b)(i.getStandardTokenType(a))){var c,{searchStartOffset:c,searchEndOffset:a}=this._establishBracketSearchOffsets(e,i,l,a);if((c=xe.a.findPrevBracketInRange(l.reversedRegex,t,n,c,a))&&c.startColumn<=e.column&&e.column<=c.endColumn&&(a=n.substring(c.startColumn-1,c.endColumn-1).toLowerCase(),a=this._matchFoundBracket(c,l.textIsBracket[a],l.textIsOpenBracket[a],null)))return a instanceof Dt?null:a}}return null}_matchFoundBracket(e,t,i,n){return t&&(n=i?this._findMatchingBracketDown(t,e.getEndPosition(),n):this._findMatchingBracketUp(t,e.getStartPosition(),n))?n instanceof Dt?n:[e,n]:null}_findMatchingBracketUp(e,t,i){var n=e.languageId;const o=e.reversedRegex;let r=-1,s=0;var a=(t,n,a,l)=>{for(;;){if(i&&++s%100==0&&!i())return Dt.INSTANCE;var c=xe.a.findPrevBracketInRange(o,t,n,a,l);if(!c)break;var d=n.substring(c.startColumn-1,c.endColumn-1).toLowerCase();if(e.isOpen(d)?r++:e.isClose(d)&&r--,0===r)return c;l=c.startColumn-1}return null};for(let e=t.lineNumber;1<=e;e--){const i=this._getLineTokens(e);var l=i.getCount(),c=this._buffer.getLineContent(e);let o=l-1,r=c.length,s=c.length;e===t.lineNumber&&(o=i.findTokenIndexAtOffset(t.column-1),r=t.column-1,s=t.column-1);let u=!0;for(;0<=o;o--){var d=i.getLanguageId(o)===n&&!Object(ye.b)(i.getStandardTokenType(o));if(d)u?r=i.getStartOffset(o):(r=i.getStartOffset(o),s=i.getEndOffset(o));else if(u&&r!==s){var h=a(e,c,r,s);if(h)return h}u=d}if(u&&r!==s&&(l=a(e,c,r,s)))return l}return null}_findMatchingBracketDown(e,t,i){var n=e.languageId;const o=e.forwardRegex;let r=1,s=0;var a=(t,n,a,l)=>{for(;;){if(i&&++s%100==0&&!i())return Dt.INSTANCE;var c=xe.a.findNextBracketInRange(o,t,n,a,l);if(!c)break;var d=n.substring(c.startColumn-1,c.endColumn-1).toLowerCase();if(e.isOpen(d)?r++:e.isClose(d)&&r--,0===r)return c;a=c.endColumn-1}return null},l=this.getLineCount();for(let e=t.lineNumber;e<=l;e++){const i=this._getLineTokens(e);var c=i.getCount(),d=this._buffer.getLineContent(e);let o=0,r=0,s=0;e===t.lineNumber&&(o=i.findTokenIndexAtOffset(t.column-1),r=t.column-1,s=t.column-1);let l=!0;for(;o<c;o++){var h=i.getLanguageId(o)===n&&!Object(ye.b)(i.getStandardTokenType(o));if(h)l||(r=i.getStartOffset(o)),s=i.getEndOffset(o);else if(l&&r!==s){var u=a(e,d,r,s);if(u)return u}l=h}if(l&&r!==s){var g=a(e,d,r,s);if(g)return g}}return null}findPrevBracket(e){var t=this.validatePosition(e);let i=null,n=null;for(let e=t.lineNumber;1<=e;e--){const c=this._getLineTokens(e);var o=c.getCount(),r=this._buffer.getLineContent(e);let d=o-1,h=r.length,u=r.length;e===t.lineNumber&&(d=c.findTokenIndexAtOffset(t.column-1),h=t.column-1,u=t.column-1,i!==(l=c.getLanguageId(d))&&(i=l,n=this.getLanguageConfiguration(i).brackets));let g=!0;for(;0<=d;d--){var s=c.getLanguageId(d);if(i!==s){if(n&&g&&h!==u){var a=xe.a.findPrevBracketInRange(n.reversedRegex,e,r,h,u);if(a)return this._toFoundBracket(n,a);g=!1}i=s,n=this.getLanguageConfiguration(i).brackets}if(a=!!n&&!Object(ye.b)(c.getStandardTokenType(d)))g?h=c.getStartOffset(d):(h=c.getStartOffset(d),u=c.getEndOffset(d));else if(n&&g&&h!==u&&(s=xe.a.findPrevBracketInRange(n.reversedRegex,e,r,h,u)))return this._toFoundBracket(n,s);g=a}if(n&&g&&h!==u){var l=xe.a.findPrevBracketInRange(n.reversedRegex,e,r,h,u);if(l)return this._toFoundBracket(n,l)}}return null}findNextBracket(e){var t=this.validatePosition(e),i=this.getLineCount();let n=null,o=null;for(let e=t.lineNumber;e<=i;e++){const i=this._getLineTokens(e);var r=i.getCount(),s=this._buffer.getLineContent(e);let d=0,h=0,u=0;e===t.lineNumber&&(d=i.findTokenIndexAtOffset(t.column-1),h=t.column-1,u=t.column-1,n!==(c=i.getLanguageId(d))&&(n=c,o=this.getLanguageConfiguration(n).brackets));let g=!0;for(;d<r;d++){var a=i.getLanguageId(d);if(n!==a){if(o&&g&&h!==u){var l=xe.a.findNextBracketInRange(o.forwardRegex,e,s,h,u);if(l)return this._toFoundBracket(o,l);g=!1}n=a,o=this.getLanguageConfiguration(n).brackets}if(l=!!o&&!Object(ye.b)(i.getStandardTokenType(d)))g||(h=i.getStartOffset(d)),u=i.getEndOffset(d);else if(o&&g&&h!==u&&(a=xe.a.findNextBracketInRange(o.forwardRegex,e,s,h,u)))return this._toFoundBracket(o,a);g=l}if(o&&g&&h!==u){var c=xe.a.findNextBracketInRange(o.forwardRegex,e,s,h,u);if(c)return this._toFoundBracket(o,c)}}return null}findEnclosingBrackets(e,t){let i;if(void 0===t)i=null;else{const e=Date.now();i=()=>Date.now()-e<=t}var n=this.validatePosition(e),o=this.getLineCount();const r=new Map;let s=[];var a=(e,t)=>{if(!r.has(e)){let i=[];for(let e=0,n=t?t.brackets.length:0;e<n;e++)i[e]=0;r.set(e,i)}s=r.get(e)};let l=0;var c=(e,t,n,o,r)=>{for(;;){if(i&&++l%100==0&&!i())return Dt.INSTANCE;var a=xe.a.findNextBracketInRange(e.forwardRegex,t,n,o,r);if(!a)break;var c=n.substring(a.startColumn-1,a.endColumn-1).toLowerCase();const d=e.textIsBracket[c];if(d&&(d.isOpen(c)?s[d.index]++:d.isClose(c)&&s[d.index]--,-1===s[d.index]))return this._matchFoundBracket(a,d,!1,i);o=a.endColumn-1}return null};let d=null,h=null;for(let e=n.lineNumber;e<=o;e++){const t=this._getLineTokens(e);var u=t.getCount(),g=this._buffer.getLineContent(e);let i=0,o=0,r=0;e===n.lineNumber&&(i=t.findTokenIndexAtOffset(n.column-1),o=n.column-1,r=n.column-1,d!==(m=t.getLanguageId(i))&&(d=m,h=this.getLanguageConfiguration(d).brackets,a(d,h)));let s=!0;for(;i<u;i++){var p=t.getLanguageId(i);if(d!==p){if(h&&s&&o!==r){var f=c(h,e,g,o,r);if(f)return Lt(f);s=!1}d=p,h=this.getLanguageConfiguration(d).brackets,a(d,h)}if(f=!!h&&!Object(ye.b)(t.getStandardTokenType(i)))s||(o=t.getStartOffset(i)),r=t.getEndOffset(i);else if(h&&s&&o!==r&&(p=c(h,e,g,o,r)))return Lt(p);s=f}if(h&&s&&o!==r){var m=c(h,e,g,o,r);if(m)return Lt(m)}}return null}_toFoundBracket(e,t){if(!t)return null;let i=this.getValueInRange(t);i=i.toLowerCase();var n=e.textIsBracket[i];return n?{range:t,open:n.open,close:n.close,isOpen:e.textIsOpenBracket[i]}:null}static computeIndentLevel(e,t){let i=0,n=0;for(var o=e.length;n<o;){var r=e.charCodeAt(n);if(32===r)i++;else{if(9!==r)break;i=i-i%t+t}n++}return n===o?-1:i}_computeIndentLevel(t){return e.computeIndentLevel(this._buffer.getLineContent(t+1),this._options.tabSize)}getActiveIndentGuide(e,t,i){this._assertNotDisposed();const n=this.getLineCount();if(e<1||e>n)throw new Error("Illegal value for lineNumber");var o=this.getLanguageConfiguration(this._languageId).foldingRules,r=Boolean(o&&o.offSide);let s=-2,a=-1,l=-2,c=-1;var d=e=>{if(-1!==s&&(-2===s||s>e-1)){s=-1,a=-1;for(let i=e-2;0<=i;i--){var t=this._computeIndentLevel(i);if(0<=t){s=i,a=t;break}}}if(-2===l){l=-1,c=-1;for(let t=e;t<n;t++){var i=this._computeIndentLevel(t);if(0<=i){l=t,c=i;break}}}};let h=-2,u=-1,g=-2,p=-1;var f=e=>{if(-2===h){h=-1,u=-1;for(let i=e-2;0<=i;i--){var t=this._computeIndentLevel(i);if(0<=t){h=i,u=t;break}}}if(-1!==g&&(-2===g||g<e-1)){g=-1,p=-1;for(let t=e;t<n;t++){var i=this._computeIndentLevel(t);if(0<=i){g=t,p=i;break}}}};let m=0,v=!0,b=0,_=!0,w=0,C=0;for(let o=0;v||_;o++){var y,x=e-o,S=e+o;1<o&&(x<1||x<t)&&(v=!1),1<o&&(S>n||i<S)&&(_=!1),5e4<o&&(v=!1,_=!1);let s=-1;v&&(s=0<=(y=this._computeIndentLevel(x-1))?(l=x-1,c=y,Math.ceil(y/this._options.indentSize)):(d(x),this._getIndentLevelForWhitespaceLine(r,a,c)));let g=-1;if(_&&(g=0<=(y=this._computeIndentLevel(S-1))?(h=S-1,u=y,Math.ceil(y/this._options.indentSize)):(f(S),this._getIndentLevelForWhitespaceLine(r,u,p))),0!==o){if(1===o){if(S<=n&&0<=g&&C+1===g){v=!1,m=S,b=S,w=g;continue}if(1<=x&&0<=s&&s-1===C){_=!1,m=x,b=x,w=s;continue}if(m=e,b=e,w=C,0===w)return{startLineNumber:m,endLineNumber:b,indent:w}}v&&(s>=w?m=x:v=!1),_&&(g>=w?b=S:_=!1)}else C=s}return{startLineNumber:m,endLineNumber:b,indent:w}}getLinesBracketGuides(e,t,i,n){var o,r,a,l,c;const h=[],g=this._bracketPairColorizer.getBracketPairsInRangeWithMinIndentation(new d.a(e,1,t,this.getLineMaxColumn(t)));let p=void 0;i&&0<g.length&&(o=e<=i.lineNumber&&i.lineNumber<=t?g.filter(e=>e.range.containsPosition(i)):this._bracketPairColorizer.getBracketPairsInRange(d.a.fromPositions(i)),p=null===(o=Object(he.i)(o,e=>e.range.startLineNumber!==e.range.endLineNumber))||void 0===o?void 0:o.range);const f=new he.a(g),m=new Array,v=new Array,b=new Et;for(let i=e;i<=t;i++){let e=new Array;0<v.length&&(e=e.concat(v),v.length=0),h.push(e);for(const e of f.takeWhile(e=>e.openingBracketRange.startLineNumber<=i)||[])if(e.range.startLineNumber!==e.range.endLineNumber){var _=Math.min(this.getVisibleColumnFromPosition(e.openingBracketRange.getStartPosition()),this.getVisibleColumnFromPosition(null!==(C=null===(w=e.closingBracketRange)||void 0===w?void 0:w.getStartPosition())&&void 0!==C?C:e.range.getEndPosition()),e.minVisibleColumnIndentation+1);let t=!1;e.closingBracketRange&&s.u(this.getLineContent(e.closingBracketRange.startLineNumber))<e.closingBracketRange.startColumn-1&&(t=!0);var w=e.openingBracketRange.getStartPosition(),C=null!==(C=null===(C=e.closingBracketRange)||void 0===C?void 0:C.getStartPosition())&&void 0!==C?C:e.range.getEndPosition();void 0===e.closingBracketRange?m[e.nestingLevel]=null:m[e.nestingLevel]={nestingLevel:e.nestingLevel,guideVisibleColumn:_,start:w,visibleStartColumn:this.getVisibleColumnFromPosition(w),end:C,visibleEndColumn:this.getVisibleColumnFromPosition(C),bracketPair:e,renderHorizontalEndLineAtTheBottom:t}}for(const t of m)t&&(r=p&&t.bracketPair.range.equalsRange(p),a=b.getInlineClassNameOfLevel(t.nestingLevel)+(n.highlightActive&&r?" "+b.activeClassName:""),(r&&n.horizontalGuides!==u.c.Disabled||n.includeInactive&&n.horizontalGuides===u.c.Enabled)&&(t.start.lineNumber===i&&t.guideVisibleColumn<t.visibleStartColumn&&e.push(new u.d(t.guideVisibleColumn,a,new u.e(!1,t.start.column))),t.end.lineNumber===i+1&&t.guideVisibleColumn<t.visibleEndColumn&&v.push(new u.d(t.guideVisibleColumn,a,new u.e(!t.renderHorizontalEndLineAtTheBottom,t.end.column)))));let t=Number.MAX_SAFE_INTEGER;for(let o=m.length-1;0<=o;o--){const r=m[o];r&&(l=n.highlightActive&&p&&r.bracketPair.range.equalsRange(p),c=b.getInlineClassNameOfLevel(r.nestingLevel)+(l?" "+b.activeClassName:""),(l||n.includeInactive)&&r.renderHorizontalEndLineAtTheBottom&&r.end.lineNumber===i+1&&v.push(new u.d(r.guideVisibleColumn,c,null)),r.end.lineNumber<=i||r.start.lineNumber>=i||r.guideVisibleColumn>=t&&!l||(t=r.guideVisibleColumn,(l||n.includeInactive)&&e.push(new u.d(r.guideVisibleColumn,c,null))))}e.sort((e,t)=>e.visibleColumn-t.visibleColumn)}return h}getVisibleColumnFromPosition(e){return je.a.visibleColumnFromColumn(this.getLineContent(e.lineNumber),e.column,this._options.tabSize)+1}getLinesIndentGuides(e,t){this._assertNotDisposed();var i=this.getLineCount();if(e<1||i<e)throw new Error("Illegal value for startLineNumber");if(t<1||i<t)throw new Error("Illegal value for endLineNumber");var n=this.getLanguageConfiguration(this._languageId).foldingRules,o=Boolean(n&&n.offSide);let r=new Array(t-e+1),s=-2,a=-1,l=-2,c=-1;for(let n=e;n<=t;n++){var d=n-e,h=this._computeIndentLevel(n-1);if(0<=h)s=n-1,a=h,r[d]=Math.ceil(h/this._options.indentSize);else{if(-2===s){s=-1,a=-1;for(let e=n-2;0<=e;e--){var u=this._computeIndentLevel(e);if(0<=u){s=e,a=u;break}}}if(-1!==l&&(-2===l||l<n-1)){l=-1,c=-1;for(let e=n;e<i;e++){var g=this._computeIndentLevel(e);if(0<=g){l=e,c=g;break}}}r[d]=this._getIndentLevelForWhitespaceLine(o,a,c)}}return r}_getIndentLevelForWhitespaceLine(e,t,i){return-1===t||-1===i?0:t<i?1+Math.floor(t/this._options.indentSize):t===i||e?Math.ceil(i/this._options.indentSize):1+Math.floor(i/this._options.indentSize)}normalizePosition(e,t){return e}getLineIndentColumn(e){return function(e){let t=0;for(const i of e){if(" "!==i&&"\t"!==i)break;t++}return t}(this.getLineContent(e))+1}};Ot.MODEL_SYNC_LIMIT=52428800,Ot.LARGE_FILE_SIZE_THRESHOLD=20971520,Ot.LARGE_FILE_LINE_COUNT_THRESHOLD=3e5,Ot.DEFAULT_CREATION_OPTIONS={isForSimpleWidget:!1,tabSize:l.d.tabSize,indentSize:l.d.indentSize,insertSpaces:l.d.insertSpaces,detectIndentation:!1,defaultEOL:1,trimAutoWhitespace:l.d.trimAutoWhitespace,largeFileOptimizations:l.d.largeFileOptimizations,bracketPairColorizationOptions:l.d.bracketPairColorizationOptions},Ot=_t([i(4,ke.a),i(5,t.a),i(6,Ce.a)],Ot);class Et{constructor(){this.activeClassName="indent-active"}getInlineClassNameOfLevel(e){return"bracket-indent-guide lvl-"+e%30}}function Nt(e){return!(!e.options.overviewRuler||!e.options.overviewRuler.color)}function It(e){return e.options.after||e.options.before}class Tt{constructor(){this._decorationsTree0=new D,this._decorationsTree1=new D,this._injectedTextDecorationsTree=new D}ensureAllNodesHaveRanges(e){this.getAll(e,0,!1,!1)}_ensureNodesHaveRanges(e,t){for(const i of t)null===i.range&&(i.range=e.getRangeAt(i.cachedAbsoluteStart,i.cachedAbsoluteEnd));return t}getAllInInterval(e,t,i,n,o){var r=e.getVersionId();r=this._intervalSearch(t,i,n,o,r);return this._ensureNodesHaveRanges(e,r)}_intervalSearch(e,t,i,n,o){const r=this._decorationsTree0.intervalSearch(e,t,i,n,o);var s=this._decorationsTree1.intervalSearch(e,t,i,n,o);o=this._injectedTextDecorationsTree.intervalSearch(e,t,i,n,o);return r.concat(s).concat(o)}getInjectedTextInInterval(e,t,i,n){var o=e.getVersionId();o=this._injectedTextDecorationsTree.intervalSearch(t,i,n,!1,o);return this._ensureNodesHaveRanges(e,o).filter(e=>e.options.showIfCollapsed||!e.range.isEmpty())}getAllInjectedText(e,t){var i=e.getVersionId();i=this._injectedTextDecorationsTree.search(t,!1,i);return this._ensureNodesHaveRanges(e,i).filter(e=>e.options.showIfCollapsed||!e.range.isEmpty())}getAll(e,t,i,n){var o=e.getVersionId();o=this._search(t,i,n,o);return this._ensureNodesHaveRanges(e,o)}_search(e,t,i,n){if(i)return this._decorationsTree1.search(e,t,n);{const o=this._decorationsTree0.search(e,t,n);return i=this._decorationsTree1.search(e,t,n),n=this._injectedTextDecorationsTree.search(e,t,n),o.concat(i).concat(n)}}collectNodesFromOwner(e){const t=this._decorationsTree0.collectNodesFromOwner(e);var i=this._decorationsTree1.collectNodesFromOwner(e);e=this._injectedTextDecorationsTree.collectNodesFromOwner(e);return t.concat(i).concat(e)}collectNodesPostOrder(){const e=this._decorationsTree0.collectNodesPostOrder();var t=this._decorationsTree1.collectNodesPostOrder(),i=this._injectedTextDecorationsTree.collectNodesPostOrder();return e.concat(t).concat(i)}insert(e){(It(e)?this._injectedTextDecorationsTree:Nt(e)?this._decorationsTree1:this._decorationsTree0).insert(e)}delete(e){(It(e)?this._injectedTextDecorationsTree:Nt(e)?this._decorationsTree1:this._decorationsTree0).delete(e)}getNodeRange(e,t){var i=e.getVersionId();return t.cachedVersionId!==i&&this._resolveNode(t,i),null===t.range&&(t.range=e.getRangeAt(t.cachedAbsoluteStart,t.cachedAbsoluteEnd)),t.range}_resolveNode(e,t){(It(e)?this._injectedTextDecorationsTree:Nt(e)?this._decorationsTree1:this._decorationsTree0).resolveNode(e,t)}acceptReplace(e,t,i,n){this._decorationsTree0.acceptReplace(e,t,i,n),this._decorationsTree1.acceptReplace(e,t,i,n),this._injectedTextDecorationsTree.acceptReplace(e,t,i,n)}}function Mt(e){return e.replace(/[^a-z0-9\-_]/gi," ")}class At{constructor(e){this.color=e.color||"",this.darkColor=e.darkColor||""}}class Pt extends At{constructor(e){super(e),this._resolvedColor=null,this.position="number"==typeof e.position?e.position:u.g.Center}getColor(e){return this._resolvedColor||("light"!==e.type&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,e):this._resolvedColor=this._resolveColor(this.color,e)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=null}_resolveColor(e,t){if("string"==typeof e)return e;let i=e?t.getColor(e.id):null;return i?i.toString():""}}class Rt extends At{constructor(e){super(e),this.position=e.position}getColor(e){return this._resolvedColor||("light"!==e.type&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,e):this._resolvedColor=this._resolveColor(this.color,e)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=void 0}_resolveColor(e,t){return"string"==typeof e?Se.a.fromHex(e):t.getColor(e.id)}}class Ft{constructor(e){this.content=e.content||"",this.inlineClassName=e.inlineClassName||null,this.inlineClassNameAffectsLetterSpacing=e.inlineClassNameAffectsLetterSpacing||!1}static from(e){return e instanceof Ft?e:new Ft(e)}}class jt{constructor(e){this.description=e.description,this.stickiness=e.stickiness||0,this.zIndex=e.zIndex||0,this.className=e.className?Mt(e.className):null,this.hoverMessage=e.hoverMessage||null,this.glyphMarginHoverMessage=e.glyphMarginHoverMessage||null,this.isWholeLine=e.isWholeLine||!1,this.showIfCollapsed=e.showIfCollapsed||!1,this.collapseOnReplaceEdit=e.collapseOnReplaceEdit||!1,this.overviewRuler=e.overviewRuler?new Pt(e.overviewRuler):null,this.minimap=e.minimap?new Rt(e.minimap):null,this.glyphMarginClassName=e.glyphMarginClassName?Mt(e.glyphMarginClassName):null,this.linesDecorationsClassName=e.linesDecorationsClassName?Mt(e.linesDecorationsClassName):null,this.firstLineDecorationClassName=e.firstLineDecorationClassName?Mt(e.firstLineDecorationClassName):null,this.marginClassName=e.marginClassName?Mt(e.marginClassName):null,this.inlineClassName=e.inlineClassName?Mt(e.inlineClassName):null,this.inlineClassNameAffectsLetterSpacing=e.inlineClassNameAffectsLetterSpacing||!1,this.beforeContentClassName=e.beforeContentClassName?Mt(e.beforeContentClassName):null,this.afterContentClassName=e.afterContentClassName?Mt(e.afterContentClassName):null,this.after=e.after?Ft.from(e.after):null,this.before=e.before?Ft.from(e.before):null}static register(e){return new jt(e)}static createDynamic(e){return new jt(e)}}jt.EMPTY=jt.register({description:"empty"});const Bt=[jt.register({description:"tracked-range-always-grows-when-typing-at-edges",stickiness:0}),jt.register({description:"tracked-range-never-grows-when-typing-at-edges",stickiness:1}),jt.register({description:"tracked-range-grows-only-when-typing-before",stickiness:2}),jt.register({description:"tracked-range-grows-only-when-typing-after",stickiness:3})];function Wt(e){return e instanceof jt?e:jt.createDynamic(e)}class Vt extends r.a{constructor(e){super(),this.handleBeforeFire=e,this._actual=this._register(new o.b),this.event=this._actual.event,this._affectedInjectedTextLines=null,this._deferredCnt=0,this._shouldFire=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(){var e;this._deferredCnt--,0===this._deferredCnt&&(this._shouldFire&&(this.handleBeforeFire(this._affectedInjectedTextLines),e={affectsMinimap:this._affectsMinimap,affectsOverviewRuler:this._affectsOverviewRuler},this._shouldFire=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1,this._actual.fire(e)),null!==(e=this._affectedInjectedTextLines)&&void 0!==e&&e.clear(),this._affectedInjectedTextLines=null)}recordLineAffectedByInjectedText(e){this._affectedInjectedTextLines||(this._affectedInjectedTextLines=new Set),this._affectedInjectedTextLines.add(e)}checkAffectedAndFire(e){this._affectsMinimap||(this._affectsMinimap=!(!e.minimap||!e.minimap.position)),this._affectsOverviewRuler||(this._affectsOverviewRuler=!(!e.overviewRuler||!e.overviewRuler.color)),this._shouldFire=!0}fire(){this._affectsMinimap=!0,this._affectsOverviewRuler=!0,this._shouldFire=!0}}class zt extends r.a{constructor(){super(),this._fastEmitter=this._register(new o.b),this.fastEvent=this._fastEmitter.event,this._slowEmitter=this._register(new o.b),this.slowEvent=this._slowEmitter.event,this._deferredCnt=0,this._deferredEvent=null}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(e=null){this._deferredCnt--,0===this._deferredCnt&&null!==this._deferredEvent&&(this._deferredEvent.rawContentChangedEvent.resultingSelection=e,e=this._deferredEvent,this._deferredEvent=null,this._fastEmitter.fire(e),this._slowEmitter.fire(e))}fire(e){0<this._deferredCnt?this._deferredEvent?this._deferredEvent=this._deferredEvent.merge(e):this._deferredEvent=e:(this._fastEmitter.fire(e),this._slowEmitter.fire(e))}}},function(e,t,i){var n=i(377),o=i(378),r=i(280),s=i(379);e.exports=function(e){return n(e)||o(e)||r(e)||s()},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,i){"use strict";i.d(t,"d",(function(){return r})),i.d(t,"b",(function(){return s})),i.d(t,"l",(function(){return a})),i.d(t,"c",(function(){return l})),i.d(t,"a",(function(){return c})),i.d(t,"g",(function(){return h})),i.d(t,"j",(function(){return u})),i.d(t,"f",(function(){return g})),i.d(t,"h",(function(){return p})),i.d(t,"k",(function(){return f})),i.d(t,"e",(function(){return m})),i.d(t,"i",(function(){return v}));var n=i(6);class o{constructor(){this._zoomLevel=0,this._lastZoomLevelChangeTime=0,this._onDidChangeZoomLevel=new n.b,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event,this._zoomFactor=1}getZoomLevel(){return this._zoomLevel}getTimeSinceLastZoomLevelChanged(){return Date.now()-this._lastZoomLevelChangeTime}getZoomFactor(){return this._zoomFactor}getPixelRatio(){var e=document.createElement("canvas").getContext("2d");return(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)}}function r(){return o.INSTANCE.getZoomLevel()}function s(){return o.INSTANCE.getTimeSinceLastZoomLevelChanged()}function a(e){return o.INSTANCE.onDidChangeZoomLevel(e)}function l(){return o.INSTANCE.getZoomFactor()}function c(){return o.INSTANCE.getPixelRatio()}o.INSTANCE=new o;const d=navigator.userAgent,h=0<=d.indexOf("Firefox"),u=0<=d.indexOf("AppleWebKit"),g=0<=d.indexOf("Chrome"),p=!g&&0<=d.indexOf("Safari"),f=!g&&!p&&u,m=0<=d.indexOf("Android"),v=window.matchMedia&&window.matchMedia("(display-mode: standalone)").matches},function(e,t,i){"use strict";i.d(t,"B",(function(){return s})),i.d(t,"C",(function(){return a})),i.d(t,"z",(function(){return u})),i.d(t,"y",(function(){return g})),i.d(t,"A",(function(){return f})),i.d(t,"a",(function(){return m})),i.d(t,"D",(function(){return v})),i.d(t,"b",(function(){return b})),i.d(t,"G",(function(){return _})),i.d(t,"x",(function(){return w})),i.d(t,"j",(function(){return C})),i.d(t,"k",(function(){return y})),i.d(t,"F",(function(){return x})),i.d(t,"E",(function(){return S})),i.d(t,"H",(function(){return D})),i.d(t,"I",(function(){return L})),i.d(t,"J",(function(){return O})),i.d(t,"K",(function(){return E})),i.d(t,"N",(function(){return N})),i.d(t,"L",(function(){return I})),i.d(t,"O",(function(){return T})),i.d(t,"M",(function(){return M})),i.d(t,"c",(function(){return A})),i.d(t,"d",(function(){return P})),i.d(t,"e",(function(){return R})),i.d(t,"f",(function(){return F})),i.d(t,"g",(function(){return j})),i.d(t,"h",(function(){return B})),i.d(t,"i",(function(){return W})),i.d(t,"r",(function(){return V})),i.d(t,"s",(function(){return z})),i.d(t,"t",(function(){return H})),i.d(t,"u",(function(){return U})),i.d(t,"v",(function(){return $})),i.d(t,"w",(function(){return K})),i.d(t,"l",(function(){return q})),i.d(t,"m",(function(){return G})),i.d(t,"n",(function(){return Y})),i.d(t,"o",(function(){return Z})),i.d(t,"p",(function(){return X})),i.d(t,"q",(function(){return Q}));var n=i(0),o=i(14),r=i(4);t=i(16);const s=Object(r.Cc)("editor.lineHighlightBackground",{dark:null,light:null,hc:null},n.a("lineHighlight","Background color for the highlight of line at the cursor position.")),a=Object(r.Cc)("editor.lineHighlightBorder",{dark:"#282828",light:"#eeeeee",hc:"#f38518"},n.a("lineHighlightBorderBox","Background color for the border around the line at the cursor position.")),l=Object(r.Cc)("editor.rangeHighlightBackground",{dark:"#ffffff0b",light:"#fdff0033",hc:null},n.a("rangeHighlight","Background color of highlighted ranges, like by quick open and find features. The color must not be opaque so as not to hide underlying decorations."),!0),c=Object(r.Cc)("editor.rangeHighlightBorder",{dark:null,light:null,hc:r.b},n.a("rangeHighlightBorder","Background color of the border around highlighted ranges."),!0),d=Object(r.Cc)("editor.symbolHighlightBackground",{dark:r.x,light:r.x,hc:null},n.a("symbolHighlight","Background color of highlighted symbol, like for go to definition or go next/previous symbol. The color must not be opaque so as not to hide underlying decorations."),!0),h=Object(r.Cc)("editor.symbolHighlightBorder",{dark:null,light:null,hc:r.b},n.a("symbolHighlightBorder","Background color of the border around highlighted symbols."),!0),u=Object(r.Cc)("editorCursor.foreground",{dark:"#AEAFAD",light:o.a.black,hc:o.a.white},n.a("caret","Color of the editor cursor.")),g=Object(r.Cc)("editorCursor.background",null,n.a("editorCursorBackground","The background color of the editor cursor. Allows customizing the color of a character overlapped by a block cursor.")),p=Object(r.Cc)("editorWhitespace.foreground",{dark:"#e3e4e229",light:"#33333333",hc:"#e3e4e229"},n.a("editorWhitespaces","Color of whitespace characters in the editor.")),f=Object(r.Cc)("editorIndentGuide.background",{dark:p,light:p,hc:p},n.a("editorIndentGuides","Color of the editor indentation guides.")),m=Object(r.Cc)("editorIndentGuide.activeBackground",{dark:p,light:p,hc:p},n.a("editorActiveIndentGuide","Color of the active editor indentation guides.")),v=Object(r.Cc)("editorLineNumber.foreground",{dark:"#858585",light:"#237893",hc:o.a.white},n.a("editorLineNumbers","Color of editor line numbers."));i=Object(r.Cc)("editorActiveLineNumber.foreground",{dark:"#c6c6c6",light:"#0B216F",hc:r.b},n.a("editorActiveLineNumber","Color of editor active line number"),!1,n.a("deprecatedEditorActiveLineNumber","Id is deprecated. Use 'editorLineNumber.activeForeground' instead."));const b=Object(r.Cc)("editorLineNumber.activeForeground",{dark:i,light:i,hc:i},n.a("editorActiveLineNumber","Color of editor active line number")),_=Object(r.Cc)("editorRuler.foreground",{dark:"#5A5A5A",light:o.a.lightgrey,hc:o.a.white},n.a("editorRuler","Color of the editor rulers.")),w=Object(r.Cc)("editorCodeLens.foreground",{dark:"#999999",light:"#919191",hc:"#999999"},n.a("editorCodeLensForeground","Foreground color of editor CodeLens")),C=Object(r.Cc)("editorBracketMatch.background",{dark:"#0064001a",light:"#0064001a",hc:"#0064001a"},n.a("editorBracketMatchBackground","Background color behind matching brackets")),y=Object(r.Cc)("editorBracketMatch.border",{dark:"#888",light:"#B9B9B9",hc:r.h},n.a("editorBracketMatchBorder","Color for matching brackets boxes")),x=Object(r.Cc)("editorOverviewRuler.border",{dark:"#7f7f7f4d",light:"#7f7f7f4d",hc:"#7f7f7f4d"},n.a("editorOverviewRulerBorder","Color of the overview ruler border.")),S=Object(r.Cc)("editorOverviewRuler.background",null,n.a("editorOverviewRulerBackground","Background color of the editor overview ruler. Only used when the minimap is enabled and placed on the right side of the editor.")),k=Object(r.Cc)("editorGutter.background",{dark:r.r,light:r.r,hc:r.r},n.a("editorGutter","Background color of the editor gutter. The gutter contains the glyph margins and the line numbers.")),D=Object(r.Cc)("editorUnnecessaryCode.border",{dark:null,light:null,hc:o.a.fromHex("#fff").transparent(.8)},n.a("unnecessaryCodeBorder","Border color of unnecessary (unused) source code in the editor.")),L=Object(r.Cc)("editorUnnecessaryCode.opacity",{dark:o.a.fromHex("#000a"),light:o.a.fromHex("#0007"),hc:null},n.a("unnecessaryCodeOpacity","Opacity of unnecessary (unused) source code in the editor. For example, \"#000000c0\" will render the code with 75% opacity. For high contrast themes, use the  'editorUnnecessaryCode.border' theme color to underline unnecessary code instead of fading it out.")),O=Object(r.Cc)("editorGhostText.border",{dark:null,light:null,hc:o.a.fromHex("#fff").transparent(.8)},n.a("editorGhostTextBorder","Border color of ghost text in the editor.")),E=Object(r.Cc)("editorGhostText.foreground",{dark:o.a.fromHex("#ffffff56"),light:o.a.fromHex("#0007"),hc:null},n.a("editorGhostTextForeground","Foreground color of the ghost text in the editor."));i=new o.a(new o.c(0,122,204,.6));const N=Object(r.Cc)("editorOverviewRuler.rangeHighlightForeground",{dark:i,light:i,hc:i},n.a("overviewRulerRangeHighlight","Overview ruler marker color for range highlights. The color must not be opaque so as not to hide underlying decorations."),!0),I=Object(r.Cc)("editorOverviewRuler.errorForeground",{dark:new o.a(new o.c(255,18,18,.7)),light:new o.a(new o.c(255,18,18,.7)),hc:new o.a(new o.c(255,50,50,1))},n.a("overviewRuleError","Overview ruler marker color for errors.")),T=Object(r.Cc)("editorOverviewRuler.warningForeground",{dark:r.bb,light:r.bb,hc:r.ab},n.a("overviewRuleWarning","Overview ruler marker color for warnings.")),M=Object(r.Cc)("editorOverviewRuler.infoForeground",{dark:r.M,light:r.M,hc:r.L},n.a("overviewRuleInfo","Overview ruler marker color for infos.")),A=Object(r.Cc)("editorBracketHighlight.foreground1",{dark:"#FFD700",light:"#0431FAFF",hc:"#FFD700"},n.a("editorBracketHighlightForeground1","Foreground color of brackets (1). Requires enabling bracket pair colorization.")),P=Object(r.Cc)("editorBracketHighlight.foreground2",{dark:"#DA70D6",light:"#319331FF",hc:"#DA70D6"},n.a("editorBracketHighlightForeground2","Foreground color of brackets (2). Requires enabling bracket pair colorization.")),R=Object(r.Cc)("editorBracketHighlight.foreground3",{dark:"#179FFF",light:"#7B3814FF",hc:"#87CEFA"},n.a("editorBracketHighlightForeground3","Foreground color of brackets (3). Requires enabling bracket pair colorization.")),F=Object(r.Cc)("editorBracketHighlight.foreground4",{dark:"#00000000",light:"#00000000",hc:"#00000000"},n.a("editorBracketHighlightForeground4","Foreground color of brackets (4). Requires enabling bracket pair colorization.")),j=Object(r.Cc)("editorBracketHighlight.foreground5",{dark:"#00000000",light:"#00000000",hc:"#00000000"},n.a("editorBracketHighlightForeground5","Foreground color of brackets (5). Requires enabling bracket pair colorization.")),B=Object(r.Cc)("editorBracketHighlight.foreground6",{dark:"#00000000",light:"#00000000",hc:"#00000000"},n.a("editorBracketHighlightForeground6","Foreground color of brackets (6). Requires enabling bracket pair colorization.")),W=Object(r.Cc)("editorBracketHighlight.unexpectedBracket.foreground",{dark:new o.a(new o.c(255,18,18,.8)),light:new o.a(new o.c(255,18,18,.8)),hc:new o.a(new o.c(255,50,50,1))},n.a("editorBracketHighlightUnexpectedBracketForeground","Foreground color of unexpected brackets.")),V=Object(r.Cc)("editorBracketPairGuide.background1",{dark:"#00000000",light:"#00000000",hc:"#00000000"},n.a("editorBracketPairGuide.background1","Background color of inactive bracket pair guides (1). Requires enabling bracket pair guides.")),z=Object(r.Cc)("editorBracketPairGuide.background2",{dark:"#00000000",light:"#00000000",hc:"#00000000"},n.a("editorBracketPairGuide.background2","Background color of inactive bracket pair guides (2). Requires enabling bracket pair guides.")),H=Object(r.Cc)("editorBracketPairGuide.background3",{dark:"#00000000",light:"#00000000",hc:"#00000000"},n.a("editorBracketPairGuide.background3","Background color of inactive bracket pair guides (3). Requires enabling bracket pair guides.")),U=Object(r.Cc)("editorBracketPairGuide.background4",{dark:"#00000000",light:"#00000000",hc:"#00000000"},n.a("editorBracketPairGuide.background4","Background color of inactive bracket pair guides (4). Requires enabling bracket pair guides.")),$=Object(r.Cc)("editorBracketPairGuide.background5",{dark:"#00000000",light:"#00000000",hc:"#00000000"},n.a("editorBracketPairGuide.background5","Background color of inactive bracket pair guides (5). Requires enabling bracket pair guides.")),K=Object(r.Cc)("editorBracketPairGuide.background6",{dark:"#00000000",light:"#00000000",hc:"#00000000"},n.a("editorBracketPairGuide.background6","Background color of inactive bracket pair guides (6). Requires enabling bracket pair guides.")),q=Object(r.Cc)("editorBracketPairGuide.activeBackground1",{dark:"#00000000",light:"#00000000",hc:"#00000000"},n.a("editorBracketPairGuide.activeBackground1","Background color of active bracket pair guides (1). Requires enabling bracket pair guides.")),G=Object(r.Cc)("editorBracketPairGuide.activeBackground2",{dark:"#00000000",light:"#00000000",hc:"#00000000"},n.a("editorBracketPairGuide.activeBackground2","Background color of active bracket pair guides (2). Requires enabling bracket pair guides.")),Y=Object(r.Cc)("editorBracketPairGuide.activeBackground3",{dark:"#00000000",light:"#00000000",hc:"#00000000"},n.a("editorBracketPairGuide.activeBackground3","Background color of active bracket pair guides (3). Requires enabling bracket pair guides.")),Z=Object(r.Cc)("editorBracketPairGuide.activeBackground4",{dark:"#00000000",light:"#00000000",hc:"#00000000"},n.a("editorBracketPairGuide.activeBackground4","Background color of active bracket pair guides (4). Requires enabling bracket pair guides.")),X=Object(r.Cc)("editorBracketPairGuide.activeBackground5",{dark:"#00000000",light:"#00000000",hc:"#00000000"},n.a("editorBracketPairGuide.activeBackground5","Background color of active bracket pair guides (5). Requires enabling bracket pair guides.")),Q=Object(r.Cc)("editorBracketPairGuide.activeBackground6",{dark:"#00000000",light:"#00000000",hc:"#00000000"},n.a("editorBracketPairGuide.activeBackground6","Background color of active bracket pair guides (6). Requires enabling bracket pair guides."));Object(t.f)((e,t)=>{var i=e.getColor(r.r);i&&t.addRule(`.monaco-editor, .monaco-editor-background, .monaco-editor .inputarea.ime-input { background-color: ${i}; }`),(i=e.getColor(r.B))&&t.addRule(`.monaco-editor, .monaco-editor .inputarea.ime-input { color: ${i}; }`),(i=e.getColor(k))&&t.addRule(`.monaco-editor .margin { background-color: ${i}; }`),(i=e.getColor(l))&&t.addRule(`.monaco-editor .rangeHighlight { background-color: ${i}; }`),(i=e.getColor(c))&&t.addRule(`.monaco-editor .rangeHighlight { border: 1px ${"hc"===e.type?"dotted":"solid"} ${i}; }`),(i=e.getColor(d))&&t.addRule(`.monaco-editor .symbolHighlight { background-color: ${i}; }`),(i=e.getColor(h))&&t.addRule(`.monaco-editor .symbolHighlight { border: 1px ${"hc"===e.type?"dotted":"solid"} ${i}; }`),(e=e.getColor(p))&&(t.addRule(`.monaco-editor .mtkw { color: ${e} !important; }`),t.addRule(`.monaco-editor .mtkz { color: ${e} !important; }`))})},function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i=i(21);const n=Object(i.c)("codeEditorService")},function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i.d(t,"b",(function(){return o}));class n{constructor(e){this.domNode=e,this._maxWidth=-1,this._width=-1,this._height=-1,this._top=-1,this._left=-1,this._bottom=-1,this._right=-1,this._fontFamily="",this._fontWeight="",this._fontSize=-1,this._fontFeatureSettings="",this._lineHeight=-1,this._letterSpacing=-100,this._className="",this._display="",this._position="",this._visibility="",this._backgroundColor="",this._layerHint=!1,this._contain="none",this._boxShadow=""}setMaxWidth(e){this._maxWidth!==e&&(this._maxWidth=e,this.domNode.style.maxWidth=this._maxWidth+"px")}setWidth(e){this._width!==e&&(this._width=e,this.domNode.style.width=this._width+"px")}setHeight(e){this._height!==e&&(this._height=e,this.domNode.style.height=this._height+"px")}setTop(e){this._top!==e&&(this._top=e,this.domNode.style.top=this._top+"px")}unsetTop(){-1!==this._top&&(this._top=-1,this.domNode.style.top="")}setLeft(e){this._left!==e&&(this._left=e,this.domNode.style.left=this._left+"px")}setBottom(e){this._bottom!==e&&(this._bottom=e,this.domNode.style.bottom=this._bottom+"px")}setRight(e){this._right!==e&&(this._right=e,this.domNode.style.right=this._right+"px")}setFontFamily(e){this._fontFamily!==e&&(this._fontFamily=e,this.domNode.style.fontFamily=this._fontFamily)}setFontWeight(e){this._fontWeight!==e&&(this._fontWeight=e,this.domNode.style.fontWeight=this._fontWeight)}setFontSize(e){this._fontSize!==e&&(this._fontSize=e,this.domNode.style.fontSize=this._fontSize+"px")}setFontFeatureSettings(e){this._fontFeatureSettings!==e&&(this._fontFeatureSettings=e,this.domNode.style.fontFeatureSettings=this._fontFeatureSettings)}setLineHeight(e){this._lineHeight!==e&&(this._lineHeight=e,this.domNode.style.lineHeight=this._lineHeight+"px")}setLetterSpacing(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.domNode.style.letterSpacing=this._letterSpacing+"px")}setClassName(e){this._className!==e&&(this._className=e,this.domNode.className=this._className)}toggleClassName(e,t){this.domNode.classList.toggle(e,t),this._className=this.domNode.className}setDisplay(e){this._display!==e&&(this._display=e,this.domNode.style.display=this._display)}setPosition(e){this._position!==e&&(this._position=e,this.domNode.style.position=this._position)}setVisibility(e){this._visibility!==e&&(this._visibility=e,this.domNode.style.visibility=this._visibility)}setBackgroundColor(e){this._backgroundColor!==e&&(this._backgroundColor=e,this.domNode.style.backgroundColor=this._backgroundColor)}setLayerHinting(e){this._layerHint!==e&&(this._layerHint=e,this.domNode.style.transform=this._layerHint?"translate3d(0px, 0px, 0px)":"")}setBoxShadow(e){this._boxShadow!==e&&(this._boxShadow=e,this.domNode.style.boxShadow=e)}setContain(e){this._contain!==e&&(this._contain=e,this.domNode.style.contain=this._contain)}setAttribute(e,t){this.domNode.setAttribute(e,t)}removeAttribute(e){this.domNode.removeAttribute(e)}appendChild(e){this.domNode.appendChild(e.domNode)}removeChild(e){this.domNode.removeChild(e.domNode)}}function o(e){return new n(e)}},function(e,t,i){"use strict";i.d(t,"b",(function(){return b})),i.d(t,"g",(function(){return _})),i.d(t,"a",(function(){return C})),i.d(t,"c",(function(){return x})),i.d(t,"e",(function(){return k})),i.d(t,"d",(function(){return O})),i.d(t,"f",(function(){return N}));var n=i(38),o=i(17),r=i(83),s=i(2),a=i(155),l=i(19),c=i(35),d=i(12),h=i(3),u=i(11),g=i(110),p=i(143),f=i(0),m=i(32),v=(t=i(36),i=i(10),function(e,t,i,n){return new(i=i||Promise)((function(o,r){function s(e){try{l(n.next(e))}catch(e){r(e)}}function a(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):((t=e.value)instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))});const b={Visible:new i.c("suggestWidgetVisible",!1,Object(f.a)("suggestWidgetVisible","Whether suggestion are visible")),DetailsVisible:new i.c("suggestWidgetDetailsVisible",!1,Object(f.a)("suggestWidgetDetailsVisible","Whether suggestion details are visible")),MultipleSuggestions:new i.c("suggestWidgetMultipleSuggestions",!1,Object(f.a)("suggestWidgetMultipleSuggestions","Whether there are multiple suggestions to pick from")),MakesTextEdit:new i.c("suggestionMakesTextEdit",!0,Object(f.a)("suggestionMakesTextEdit","Whether inserting the current suggestion yields in a change or has everything already been typed")),AcceptSuggestionsOnEnter:new i.c("acceptSuggestionOnEnter",!0,Object(f.a)("acceptSuggestionOnEnter","Whether suggestions are inserted when pressing Enter")),HasInsertAndReplaceRange:new i.c("suggestionHasInsertAndReplaceRange",!1,Object(f.a)("suggestionHasInsertAndReplaceRange","Whether the current suggestion has insert and replace behaviour")),InsertMode:new i.c("suggestionInsertMode",void 0,{type:"string",description:Object(f.a)("suggestionInsertMode","Whether the default behaviour is to insert or replace")}),CanResolve:new i.c("suggestionCanResolve",!1,Object(f.a)("suggestionCanResolve","Whether the current suggestion supports to resolve further details"))},_=new m.b("suggestWidgetStatusBar");class w{constructor(e,t,i,n){this.position=e,this.completion=t,this.container=i,this.provider=n,this.isInvalid=!1,this.score=r.a.Default,this.distance=0,this.textLabel=("string"==typeof t.label?t:t.label).label,this.labelLow=this.textLabel.toLowerCase(),this.isInvalid=!this.textLabel,this.sortTextLow=t.sortText&&t.sortText.toLowerCase(),this.filterTextLow=t.filterText&&t.filterText.toLowerCase(),h.a.isIRange(t.range)?(this.editStart=new d.a(t.range.startLineNumber,t.range.startColumn),this.editInsertEnd=new d.a(t.range.endLineNumber,t.range.endColumn),this.editReplaceEnd=new d.a(t.range.endLineNumber,t.range.endColumn),this.isInvalid=this.isInvalid||h.a.spansMultipleLines(t.range)||t.range.startLineNumber!==e.lineNumber):(this.editStart=new d.a(t.range.insert.startLineNumber,t.range.insert.startColumn),this.editInsertEnd=new d.a(t.range.insert.endLineNumber,t.range.insert.endColumn),this.editReplaceEnd=new d.a(t.range.replace.endLineNumber,t.range.replace.endColumn),this.isInvalid=this.isInvalid||h.a.spansMultipleLines(t.range.insert)||h.a.spansMultipleLines(t.range.replace)||t.range.insert.startLineNumber!==e.lineNumber||t.range.replace.startLineNumber!==e.lineNumber||t.range.insert.startColumn!==t.range.replace.startColumn),"function"!=typeof n.resolveCompletionItem&&(this._resolveCache=Promise.resolve(),this._isResolved=!0)}get isResolved(){return!!this._isResolved}resolve(e){return v(this,void 0,void 0,(function*(){if(!this._resolveCache){const t=e.onCancellationRequested(()=>{this._resolveCache=void 0,this._isResolved=!1});this._resolveCache=Promise.resolve(this.provider.resolveCompletionItem(this.completion,e)).then(e=>{Object.assign(this.completion,e),this._isResolved=!0,t.dispose()},e=>{Object(o.e)(e)&&(this._resolveCache=void 0,this._isResolved=!1)})}return this._resolveCache}))}}class C{constructor(e=2,t=new Set,i=new Set,n=!0){this.snippetSortOrder=e,this.kindFilter=t,this.providerFilter=i,this.showDeprecated=n}}let y;function x(){return y}C.default=new C;class S{constructor(e,t,i,n){this.items=e,this.needsClipboard=t,this.durations=i,this.disposable=n}}function k(e,t,i=C.default,r={triggerKind:0},l=n.a.None){return v(this,void 0,void 0,(function*(){const n=new a.a(!0);t=t.clone();const c=(y=e.getWordAtPosition(t))?new h.a(t.lineNumber,y.startColumn,t.lineNumber,y.endColumn):h.a.fromPositions(t),d={replace:c,insert:c.setEndPosition(t.lineNumber,t.column)},g=[],f=new s.b,m=[];let b=!1;const _=(e,n,o)=>{var r,a;if(n){for(var l of n.suggestions)i.kindFilter.has(l.kind)||!i.showDeprecated&&null!==(r=null==l?void 0:l.tags)&&void 0!==r&&r.includes(1)||(l.range||(l.range=d),l.sortText||(l.sortText=("string"==typeof l.label?l:l.label).label),!b&&l.insertTextRules&&4&l.insertTextRules&&(b=p.c.guessNeedsClipboard(l.insertText)),g.push(new w(t,l,n,e)));Object(s.g)(n)&&f.add(n),m.push({providerName:null!==(a=e._debugDisplayName)&&void 0!==a?a:"unkown_provider",elapsedProvider:null!==(a=n.duration)&&void 0!==a?a:-1,elapsedOverall:o.elapsed()})}};var C,y=v(this,void 0,void 0,(function*(){}));for(C of u.d.orderedGroups(e)){var x=g.length;if(yield Promise.all(C.map(n=>v(this,void 0,void 0,(function*(){if(!(0<i.providerFilter.size)||i.providerFilter.has(n))try{var s=new a.a(!0),c=yield n.provideCompletionItems(e,t,r,l);_(n,c,s)}catch(s){Object(o.g)(s)}})))),x!==g.length||l.isCancellationRequested)break}return yield y,l.isCancellationRequested?(f.dispose(),Promise.reject(Object(o.b)())):new S(g.sort(O(i.snippetSortOrder)),b,{entries:m,elapsed:n.elapsed()},f)}))}function D(e,t){if(e.sortTextLow&&t.sortTextLow){if(e.sortTextLow<t.sortTextLow)return-1;if(e.sortTextLow>t.sortTextLow)return 1}return e.completion.label<t.completion.label?-1:e.completion.label>t.completion.label?1:e.completion.kind-t.completion.kind}const L=new Map;function O(e){return L.get(e)}L.set(0,(function(e,t){if(e.completion.kind!==t.completion.kind){if(27===e.completion.kind)return-1;if(27===t.completion.kind)return 1}return D(e,t)})),L.set(2,(function(e,t){if(e.completion.kind!==t.completion.kind){if(27===e.completion.kind)return 1;if(27===t.completion.kind)return-1}return D(e,t)})),L.set(1,D),t.a.registerCommand("_executeCompletionItemProvider",(e,...t)=>v(void 0,void 0,void 0,(function*(){var[i,o,r,s]=t;Object(l.c)(c.a.isUri(i)),Object(l.c)(d.a.isIPosition(o)),Object(l.c)("string"==typeof r||!r),Object(l.c)("number"==typeof s||!s);const a=yield e.get(g.a).createModelReference(i);try{const e={incomplete:!1,suggestions:[]},t=[],i=yield k(a.object.textEditorModel,d.a.lift(o),void 0,{triggerCharacter:r,triggerKind:r?1:0});for(const o of i.items)t.length<(null!=s?s:0)&&t.push(o.resolve(n.a.None)),e.incomplete=e.incomplete||o.container.incomplete,e.suggestions.push(o.completion);try{return yield Promise.all(t),e}finally{setTimeout(()=>i.disposable.dispose(),100)}}finally{a.dispose()}})));const E=new class{constructor(){this.onlyOnceSuggestions=[]}provideCompletionItems(){var e={suggestions:this.onlyOnceSuggestions.slice(0)};return this.onlyOnceSuggestions.length=0,e}};function N(e,t){setTimeout(()=>{E.onlyOnceSuggestions.push(...t),e.getContribution("editor.contrib.suggestController").triggerSuggest((new Set).add(E))},0)}u.d.register("*",E)},function(e,t,i){"use strict";i.d(t,"a",(function(){return y})),i.d(t,"c",(function(){return x})),i.d(t,"b",(function(){return L}));var n=i(6),o=i(2),r=i(9),s=i(163),a=i(84),l=i(136);class c{constructor(e){var t;e.autoClosingPairs?this._autoClosingPairs=e.autoClosingPairs.map(e=>new a.c(e)):e.brackets?this._autoClosingPairs=e.brackets.map(e=>new a.c({open:e[0],close:e[1]})):this._autoClosingPairs=[],e.colorizedBracketPairs?this._colorizedBracketPairs=d(e.colorizedBracketPairs.map(e=>[e[0],e[1]])):e.brackets?this._colorizedBracketPairs=d(e.brackets.map(e=>[e[0],e[1]]).filter(e=>!("<"===e[0]&&">"===e[1]))):this._colorizedBracketPairs=[],e.__electricCharacterSupport&&e.__electricCharacterSupport.docComment&&(t=e.__electricCharacterSupport.docComment,this._autoClosingPairs.push(new a.c({open:t.open,close:t.close||""}))),this._autoCloseBefore="string"==typeof e.autoCloseBefore?e.autoCloseBefore:c.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED,this._surroundingPairs=e.surroundingPairs||this._autoClosingPairs}getAutoClosingPairs(){return this._autoClosingPairs}getAutoCloseBeforeSet(){return this._autoCloseBefore}static shouldAutoClosePair(e,t,i){return 0===t.getTokenCount()||(i=t.findTokenIndexAtOffset(i-2),i=t.getStandardTokenType(i),e.isOK(i))}getSurroundingPairs(){return this._surroundingPairs}getColorizedBrackets(){return this._colorizedBracketPairs}}function d(e){return e.filter(([e,t])=>""!==e&&""!==t)}c.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED=";:.,=}])> \n\t";var h=i(145);class u{constructor(e){this._richEditBrackets=e}getElectricCharacters(){let e=[];if(this._richEditBrackets)for(const i of this._richEditBrackets.brackets)for(const n of i.close){var t=n.charAt(n.length-1);e.push(t)}return e=e.filter((e,t,i)=>i.indexOf(e)===t),e}onElectricCharacter(e,t,i){if(!this._richEditBrackets||0===this._richEditBrackets.brackets.length)return null;var n=t.findTokenIndexAtOffset(i-1);if(Object(l.b)(t.getStandardTokenType(n)))return null;n=this._richEditBrackets.reversedRegex;const o=t.getLineContent().substring(0,i-1)+e;return(e=h.a.findPrevBracketInRange(n,1,o,0,o.length))?(n=o.substring(e.startColumn-1,e.endColumn-1).toLowerCase(),this._richEditBrackets.textIsOpenBracket[n]?null:(e=t.getActualLineContentBefore(e.startColumn-1),/^\s*$/.test(e)?{matchOpenBracket:n}:null)):null}}function g(e){return e.global&&(e.lastIndex=0),1}class p{constructor(e){this._indentationRules=e}shouldIncrease(e){return!!(this._indentationRules&&this._indentationRules.increaseIndentPattern&&g(this._indentationRules.increaseIndentPattern)&&this._indentationRules.increaseIndentPattern.test(e))}shouldDecrease(e){return!!(this._indentationRules&&this._indentationRules.decreaseIndentPattern&&g(this._indentationRules.decreaseIndentPattern)&&this._indentationRules.decreaseIndentPattern.test(e))}shouldIndentNextLine(e){return!!(this._indentationRules&&this._indentationRules.indentNextLinePattern&&g(this._indentationRules.indentNextLinePattern)&&this._indentationRules.indentNextLinePattern.test(e))}shouldIgnore(e){return!!(this._indentationRules&&this._indentationRules.unIndentedLinePattern&&g(this._indentationRules.unIndentedLinePattern)&&this._indentationRules.unIndentedLinePattern.test(e))}getIndentMetadata(e){let t=0;return this.shouldIncrease(e)&&(t+=1),this.shouldDecrease(e)&&(t+=2),this.shouldIndentNextLine(e)&&(t+=4),this.shouldIgnore(e)&&(t+=8),t}}var f=i(17);class m{constructor(e){(e=e||{}).brackets=e.brackets||[["(",")"],["{","}"],["[","]"]],this._brackets=[],e.brackets.forEach(e=>{var t=m._createOpenBracketRegExp(e[0]),i=m._createCloseBracketRegExp(e[1]);t&&i&&this._brackets.push({open:e[0],openRegExp:t,close:e[1],closeRegExp:i})}),this._regExpRules=e.onEnterRules||[]}onEnter(e,t,i,n){if(3<=e)for(let e=0,o=this._regExpRules.length;e<o;e++){let o=this._regExpRules[e];if([{reg:o.beforeText,text:i},{reg:o.afterText,text:n},{reg:o.previousLineText,text:t}].every(e=>!e.reg||(e.reg.lastIndex=0,e.reg.test(e.text))))return o.action}if(2<=e&&0<i.length&&0<n.length)for(let e=0,t=this._brackets.length;e<t;e++){let t=this._brackets[e];if(t.openRegExp.test(i)&&t.closeRegExp.test(n))return{indentAction:a.b.IndentOutdent}}if(2<=e&&0<i.length)for(let e=0,t=this._brackets.length;e<t;e++){if(this._brackets[e].openRegExp.test(i))return{indentAction:a.b.Indent}}return null}static _createOpenBracketRegExp(e){let t=r.t(e);return/\B/.test(t.charAt(0))||(t="\\b"+t),t+="\\s*$",m._safeRegExp(t)}static _createCloseBracketRegExp(e){let t=r.t(e);return/\B/.test(t.charAt(t.length-1))||(t+="\\b"),t="^\\s*"+t,m._safeRegExp(t)}static _safeRegExp(e){try{return new RegExp(e)}catch(e){return Object(f.f)(e),null}}}var v=i(21),b=i(56),_=i(80),w=i(125);t=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;0<=a;a--)(o=e[a])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s},i=function(e,t){return function(i,n){t(i,n,e)}};class C{constructor(e){this.languageId=e}affects(e){return!this.languageId||this.languageId===e}}const y=Object(v.c)("languageConfigurationService");let x=class extends o.a{constructor(e,t){super(),this.configurationService=e,this.modeService=t,this.onDidChangeEmitter=this._register(new n.b),this.onDidChange=this.onDidChangeEmitter.event,this.configurations=new Map;const i=new Set(Object.values(S));this._register(this.configurationService.onDidChangeConfiguration(e=>{var t=e.change.keys.some(e=>i.has(e));e=e.change.overrides.filter(([,e])=>e.some(e=>i.has(e))).map(([e])=>this.modeService.validateLanguageId(e));if(t)this.configurations.clear(),this.onDidChangeEmitter.fire(new C(void 0));else for(const t of e)t&&(this.configurations.delete(t),this.onDidChangeEmitter.fire(new C(t)))})),this._register(L.onDidChange(e=>{this.configurations.delete(e.languageId),this.onDidChangeEmitter.fire(new C(e.languageId))}))}getLanguageConfiguration(e){let t=this.configurations.get(e);return t||(t=function(e,t,i){let n=L.getLanguageConfiguration(e);if(!n){if(!(e=i.validateLanguageId(e)))throw new Error("Unexpected languageId");n=new I(e,{})}return t=function(e,t){var i=t.getValue(S.brackets,{overrideIdentifier:e});e=t.getValue(S.colorizedBracketPairs,{overrideIdentifier:e});return{brackets:k(i),colorizedBracketPairs:k(e)}}(n.languageId,t),t=E([n.underlyingConfig,t]),t=new I(n.languageId,t)}(e,this.configurationService,this.modeService),this.configurations.set(e,t)),t}};x=t([i(0,b.a),i(1,_.a)],x);const S={brackets:"editor.language.brackets",colorizedBracketPairs:"editor.language.colorizedBracketPairs"};function k(e){if(Array.isArray(e))return e.map(e=>{if(Array.isArray(e)&&2===e.length)return[e[0],e[1]]}).filter(e=>!!e)}class D{constructor(e){this.languageId=e}}const L=new class{constructor(){this._entries=new Map,this._onDidChange=new n.b,this.onDidChange=this._onDidChange.event}register(e,t,i=0){let n=this._entries.get(e);n||(n=new O(e),this._entries.set(e,n));const r=n.register(t,i);return this._onDidChange.fire(new D(e)),Object(o.i)(()=>{r.dispose(),this._onDidChange.fire(new D(e))})}getLanguageConfiguration(e){let t=this._entries.get(e);return(null==t?void 0:t.getResolvedConfiguration())||null}getIndentationRules(e){return(e=this.getLanguageConfiguration(e))&&e.indentationRules||null}_getElectricCharacterSupport(e){return(e=this.getLanguageConfiguration(e))&&e.electricCharacter||null}getElectricCharacters(e){let t=this._getElectricCharacterSupport(e);return t?t.getElectricCharacters():[]}onElectricCharacter(e,t,i){t=Object(l.a)(t,i-1);let n=this._getElectricCharacterSupport(t.languageId);return n?n.onElectricCharacter(e,t,i-t.firstCharOffset):null}getComments(e){return(e=this.getLanguageConfiguration(e))&&e.comments||null}_getCharacterPairSupport(e){return(e=this.getLanguageConfiguration(e))&&e.characterPair||null}getAutoClosingPairs(e){const t=this._getCharacterPairSupport(e);return new a.a(t?t.getAutoClosingPairs():[])}getAutoCloseBeforeSet(e){let t=this._getCharacterPairSupport(e);return t?t.getAutoCloseBeforeSet():c.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED}getSurroundingPairs(e){let t=this._getCharacterPairSupport(e);return t?t.getSurroundingPairs():[]}shouldAutoClosePair(e,t,i){return t=Object(l.a)(t,i-1),c.shouldAutoClosePair(e,t,i-t.firstCharOffset)}getWordDefinition(e){return(e=this.getLanguageConfiguration(e))?Object(s.c)(e.wordDefinition||null):Object(s.c)(null)}getFoldingRules(e){return(e=this.getLanguageConfiguration(e))?e.foldingRules:{}}getIndentRulesSupport(e){return(e=this.getLanguageConfiguration(e))&&e.indentRulesSupport||null}getPrecedingValidLine(e,t,i){var n=e.getLanguageIdAtPosition(t,0);if(1<t){let r,s=-1;for(r=t-1;1<=r;r--){if(e.getLanguageIdAtPosition(r,0)!==n)return s;var o=e.getLineContent(r);if(!i.shouldIgnore(o)&&!/^\s+$/.test(o)&&""!==o)return r;s=r}}return-1}getInheritIndentForLine(e,t,i,n=!0){if(e<4)return null;const o=this.getIndentRulesSupport(t.getLanguageId());if(!o)return null;if(i<=1)return{indentation:"",action:null};var s=this.getPrecedingValidLine(t,i,o);if(s<0)return null;if(s<1)return{indentation:"",action:null};if(e=t.getLineContent(s),o.shouldIncrease(e)||o.shouldIndentNextLine(e))return{indentation:r.x(e),action:a.b.Indent,line:s};if(o.shouldDecrease(e))return{indentation:r.x(e),action:null,line:s};if(1===s)return{indentation:r.x(t.getLineContent(s)),action:null,line:s};if(i=s-1,!(3&(e=o.getIndentMetadata(t.getLineContent(i))))&&4&e){let e=0;for(let n=i-1;0<n;n--)if(!o.shouldIndentNextLine(t.getLineContent(n))){e=n;break}return{indentation:r.x(t.getLineContent(e+1)),action:null,line:e+1}}if(n)return{indentation:r.x(t.getLineContent(s)),action:null,line:s};for(let e=s;0<e;e--){var l=t.getLineContent(e);if(o.shouldIncrease(l))return{indentation:r.x(l),action:a.b.Indent,line:e};if(o.shouldIndentNextLine(l)){let i=0;for(let n=e-1;0<n;n--)if(!o.shouldIndentNextLine(t.getLineContent(e))){i=n;break}return{indentation:r.x(t.getLineContent(i+1)),action:null,line:i+1}}if(o.shouldDecrease(l))return{indentation:r.x(l),action:null,line:e}}return{indentation:r.x(t.getLineContent(1)),action:null,line:1}}getGoodIndentForLine(e,t,i,n,o){if(e<4)return null;const s=this.getLanguageConfiguration(i);if(!s)return null;const l=this.getIndentRulesSupport(i);if(!l)return null;var c=this.getInheritIndentForLine(e,t,n);i=t.getLineContent(n);if(c){if(void 0!==(n=c.line)&&(e=s.onEnter(e,"",t.getLineContent(n),""))){let s=r.x(t.getLineContent(n));return e.removeText&&(s=s.substring(0,s.length-e.removeText)),e.indentAction===a.b.Indent||e.indentAction===a.b.IndentOutdent?s=o.shiftIndent(s):e.indentAction===a.b.Outdent&&(s=o.unshiftIndent(s)),l.shouldDecrease(i)&&(s=o.unshiftIndent(s)),e.appendText&&(s+=e.appendText),r.x(s)}return l.shouldDecrease(i)?c.action===a.b.Indent?c.indentation:o.unshiftIndent(c.indentation):c.action===a.b.Indent?o.shiftIndent(c.indentation):c.indentation}return null}getIndentForEnter(e,t,i,n){if(e<4)return null;t.forceTokenization(i.startLineNumber);const o=t.getLineTokens(i.startLineNumber),s=Object(l.a)(o,i.startColumn-1),c=s.getLineContent();let d,h,u=!1;if(d=0<s.firstCharOffset&&o.getLanguageId(0)!==s.languageId?(u=!0,c.substr(0,i.startColumn-1-s.firstCharOffset)):o.getLineContent().substring(0,i.startColumn-1),i.isEmpty())h=c.substr(i.startColumn-1-s.firstCharOffset);else{h=this.getScopedLineTokens(t,i.endLineNumber,i.endColumn).getLineContent().substr(i.endColumn-1-s.firstCharOffset)}const g=this.getIndentRulesSupport(s.languageId);if(!g)return null;const p=d;var f=r.x(d),m={getLineTokens:e=>t.getLineTokens(e),getLanguageId:()=>t.getLanguageId(),getLanguageIdAtPosition:(e,i)=>t.getLanguageIdAtPosition(e,i),getLineContent:e=>e===i.startLineNumber?p:t.getLineContent(e)},v=r.x(o.getLineContent());if(!(e=this.getInheritIndentForLine(e,m,i.startLineNumber+1)))return{beforeEnter:m=u?v:f,afterEnter:m};let b=u?v:e.indentation;return e.action===a.b.Indent&&(b=n.shiftIndent(b)),g.shouldDecrease(h)&&(b=n.unshiftIndent(b)),{beforeEnter:u?v:f,afterEnter:b}}getIndentActionForType(e,t,i,n,o){if(e<4)return null;const r=this.getScopedLineTokens(t,i.startLineNumber,i.startColumn);if(r.firstCharOffset)return null;const s=this.getIndentRulesSupport(r.languageId);if(!s)return null;const l=r.getLineContent();var c=l.substr(0,i.startColumn-1-r.firstCharOffset);let d;if(i.isEmpty())d=l.substr(i.startColumn-1-r.firstCharOffset);else{d=this.getScopedLineTokens(t,i.endLineNumber,i.endColumn).getLineContent().substr(i.endColumn-1-r.firstCharOffset)}if(s.shouldDecrease(c+d)||!s.shouldDecrease(c+n+d))return null;{if(!(i=this.getInheritIndentForLine(e,t,i.startLineNumber,!1)))return null;let n=i.indentation;return i.action!==a.b.Indent&&(n=o.unshiftIndent(n)),n}}getIndentMetadata(e,t){const i=this.getIndentRulesSupport(e.getLanguageId());return!i||t<1||t>e.getLineCount()?null:i.getIndentMetadata(e.getLineContent(t))}getEnterAction(e,t,i){const n=this.getScopedLineTokens(t,i.startLineNumber,i.startColumn),o=this.getLanguageConfiguration(n.languageId);if(!o)return null;const r=n.getLineContent();var s=r.substr(0,i.startColumn-1-n.firstCharOffset);let l;if(i.isEmpty())l=r.substr(i.startColumn-1-n.firstCharOffset);else{l=this.getScopedLineTokens(t,i.endLineNumber,i.endColumn).getLineContent().substr(i.endColumn-1-n.firstCharOffset)}let c="";if(1<i.startLineNumber&&0===n.firstCharOffset){const e=this.getScopedLineTokens(t,i.startLineNumber-1);e.languageId===n.languageId&&(c=e.getLineContent())}if(!(e=o.onEnter(e,c,s,l)))return null;s=e.indentAction;let d=e.appendText;e=e.removeText||0,d?s===a.b.Indent&&(d="\t"+d):d=s===a.b.Indent||s===a.b.IndentOutdent?"\t":"";let h=this.getIndentationAtPosition(t,i.startLineNumber,i.startColumn);return e&&(h=h.substring(0,h.length-e)),{indentAction:s,appendText:d,removeText:e,indentation:h}}getIndentationAtPosition(e,t,i){t=e.getLineContent(t);let n=r.x(t);return n.length>i-1&&(n=n.substring(0,i-1)),n}getScopedLineTokens(e,t,i){e.forceTokenization(t);var n=e.getLineTokens(t);i=void 0===i?e.getLineMaxColumn(t)-1:i-1;return Object(l.a)(n,i)}};class O{constructor(e){this.languageId=e,this._resolved=null,this._entries=[],this._order=0,this._resolved=null}register(e,t){const i=new N(e,t,++this._order);return this._entries.push(i),this._resolved=null,Object(o.i)(()=>{for(let e=0;e<this._entries.length;e++)if(this._entries[e]===i){this._entries.splice(e,1),this._resolved=null;break}})}getResolvedConfiguration(){var e;return this._resolved||(e=this._resolve())&&(this._resolved=new I(this.languageId,e)),this._resolved}_resolve(){return 0===this._entries.length?null:(this._entries.sort(N.cmp),E(this._entries.map(e=>e.configuration)))}}function E(e){let t={comments:void 0,brackets:void 0,wordPattern:void 0,indentationRules:void 0,onEnterRules:void 0,autoClosingPairs:void 0,surroundingPairs:void 0,autoCloseBefore:void 0,folding:void 0,colorizedBracketPairs:void 0,__electricCharacterSupport:void 0};for(const i of e)t={comments:i.comments||t.comments,brackets:i.brackets||t.brackets,wordPattern:i.wordPattern||t.wordPattern,indentationRules:i.indentationRules||t.indentationRules,onEnterRules:i.onEnterRules||t.onEnterRules,autoClosingPairs:i.autoClosingPairs||t.autoClosingPairs,surroundingPairs:i.surroundingPairs||t.surroundingPairs,autoCloseBefore:i.autoCloseBefore||t.autoCloseBefore,folding:i.folding||t.folding,colorizedBracketPairs:i.colorizedBracketPairs||t.colorizedBracketPairs,__electricCharacterSupport:i.__electricCharacterSupport||t.__electricCharacterSupport};return t}class N{constructor(e,t,i){this.configuration=e,this.priority=t,this.order=i}static cmp(e,t){return e.priority===t.priority?e.order-t.order:e.priority-t.priority}}class I{constructor(e,t){this.languageId=e,this.underlyingConfig=t,this._brackets=null,this._electricCharacter=null,this._onEnterSupport=this.underlyingConfig.brackets||this.underlyingConfig.indentationRules||this.underlyingConfig.onEnterRules?new m(this.underlyingConfig):null,this.comments=I._handleComments(this.underlyingConfig),this.characterPair=new c(this.underlyingConfig),this.wordDefinition=this.underlyingConfig.wordPattern||s.a,this.indentationRules=this.underlyingConfig.indentationRules,this.underlyingConfig.indentationRules?this.indentRulesSupport=new p(this.underlyingConfig.indentationRules):this.indentRulesSupport=null,this.foldingRules=this.underlyingConfig.folding||{}}getWordDefinition(){return Object(s.c)(this.wordDefinition)}get brackets(){return!this._brackets&&this.underlyingConfig.brackets&&(this._brackets=new h.b(this.languageId,this.underlyingConfig.brackets)),this._brackets}get electricCharacter(){return this._electricCharacter||(this._electricCharacter=new u(this.brackets)),this._electricCharacter}onEnter(e,t,i,n){return this._onEnterSupport?this._onEnterSupport.onEnter(e,t,i,n):null}static _handleComments(e){var t=e.comments;if(!t)return null;let i={};return t.lineComment&&(i.lineCommentToken=t.lineComment),t.blockComment&&([e,t]=t.blockComment,i.blockCommentStartToken=e,i.blockCommentEndToken=t),i}}Object(w.b)(y,x)},function(e,t,i){"use strict";i.d(t,"g",(function(){return n})),i.d(t,"f",(function(){return o})),i.d(t,"h",(function(){return a})),i.d(t,"b",(function(){return l})),i.d(t,"c",(function(){return r})),i.d(t,"d",(function(){return c})),i.d(t,"e",(function(){return d})),i.d(t,"i",(function(){return h})),i.d(t,"a",(function(){return u}));var n,o,r,s=i(55);(i=n=n||{})[i.Left=1]="Left",i[i.Center=2]="Center",i[i.Right=4]="Right",i[i.Full=7]="Full",(i=o=o||{})[i.Inline=1]="Inline",i[i.Gutter=2]="Gutter";class a{constructor(e){this._textModelResolvedOptionsBrand=void 0,this.tabSize=Math.max(1,0|e.tabSize),this.indentSize=0|e.tabSize,this.insertSpaces=Boolean(e.insertSpaces),this.defaultEOL=0|e.defaultEOL,this.trimAutoWhitespace=Boolean(e.trimAutoWhitespace),this.bracketPairColorizationOptions=e.bracketPairColorizationOptions}equals(e){return this.tabSize===e.tabSize&&this.indentSize===e.indentSize&&this.insertSpaces===e.insertSpaces&&this.defaultEOL===e.defaultEOL&&this.trimAutoWhitespace===e.trimAutoWhitespace&&Object(s.d)(this.bracketPairColorizationOptions,e.bracketPairColorizationOptions)}createChangeEvent(e){return{tabSize:this.tabSize!==e.tabSize,indentSize:this.indentSize!==e.indentSize,insertSpaces:this.insertSpaces!==e.insertSpaces,trimAutoWhitespace:this.trimAutoWhitespace!==e.trimAutoWhitespace}}}class l{constructor(e,t){this._findMatchBrand=void 0,this.range=e,this.matches=t}}(i=r=r||{})[i.Disabled=0]="Disabled",i[i.EnabledForActive=1]="EnabledForActive",i[i.Enabled=2]="Enabled";class c{constructor(e,t,i){this.visibleColumn=e,this.className=t,this.horizontalLine=i}}class d{constructor(e,t){this.top=e,this.endColumn=t}}class h{constructor(e,t,i,n,o,r){this.identifier=e,this.range=t,this.text=i,this.forceMoveMarkers=n,this.isAutoWhitespaceEdit=o,this._isTracked=r}}class u{constructor(e,t,i){this.reverseEdits=e,this.changes=t,this.trimAutoWhitespaceLineNumbers=i}}},function(e,t,i){"use strict";var n=i(166),o=i(33);o=i.n(o),i=i(267);n.a.use(o.a),t.a=new o.a.Store({modules:i.default,strict:!1,plugins:[function(e){e.subscribe((function(t){["CHANGE_PROFILES","CHANGE_PROFILES_INDEX","CHANGE_PROFILE","APPEND_PROFILE","DELETE_PROFILE"].includes(t.type)&&e.commit("SAVE_PROFILES")}))}]})},function(e,t,i){"use strict";i.d(t,"c",(function(){return n})),i.d(t,"b",(function(){return s})),i.d(t,"a",(function(){return l}));var n,o=i(15),r=i(35);(i=n=n||{}).inMemory="inmemory",i.vscode="vscode",i.internal="private",i.walkThrough="walkThrough",i.walkThroughSnippet="walkThroughSnippet",i.http="http",i.https="https",i.file="file",i.mailto="mailto",i.untitled="untitled",i.data="data",i.command="command",i.vscodeRemote="vscode-remote",i.vscodeRemoteResource="vscode-remote-resource",i.userData="vscode-userdata",i.vscodeCustomEditor="vscode-custom-editor",i.vscodeNotebook="vscode-notebook",i.vscodeNotebookCell="vscode-notebook-cell",i.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",i.vscodeNotebookCellOutput="vscode-notebook-cell-output",i.vscodeInteractive="vscode-interactive",i.vscodeInteractiveInput="vscode-interactive-input",i.vscodeSettings="vscode-settings",i.vscodeWorkspaceTrust="vscode-workspace-trust",i.vscodeTerminal="vscode-terminal",i.webviewPanel="webview-panel",i.vscodeWebview="vscode-webview",i.extension="extension",i.vscodeFileResource="vscode-file",i.tmp="tmp";const s=new class{constructor(){this._hosts=Object.create(null),this._ports=Object.create(null),this._connectionTokens=Object.create(null),this._preferredWebSchema="http",this._delegate=null}setPreferredWebSchema(e){this._preferredWebSchema=e}rewrite(e){if(this._delegate)return this._delegate(e);var t=e.authority;let i=this._hosts[t];i&&-1!==i.indexOf(":")&&(i=`[${i}]`);var s=this._ports[t];t=this._connectionTokens[t];let a="path="+encodeURIComponent(e.path);return"string"==typeof t&&(a+="&tkn="+encodeURIComponent(t)),r.a.from({scheme:o.h?this._preferredWebSchema:n.vscodeRemoteResource,authority:`${i}:${s}`,path:"/vscode-remote-resource",query:a})}};class a{asBrowserUri(e,t){const i=this.toUri(e,t);return i.scheme===n.vscodeRemote?s.rewrite(i):i.scheme===n.file&&(o.g||"function"==typeof o.b.importScripts&&o.b.origin===`${n.vscodeFileResource}://${a.FALLBACK_AUTHORITY}`)?i.with({scheme:n.vscodeFileResource,authority:i.authority||a.FALLBACK_AUTHORITY,query:null,fragment:null}):i}toUri(e,t){return r.a.isUri(e)?e:r.a.parse(t.toUrl(e))}}a.FALLBACK_AUTHORITY="vscode-app";const l=new a},function(e,t){e.exports=require("yaml")},function(e,t,i){"use strict";var n;i.d(t,"a",(function(){return n})),function(e){e.is=function(e){return e&&"object"==typeof e&&"function"==typeof e[Symbol.iterator]};const t=Object.freeze([]);e.empty=function(){return t},e.single=function*(e){yield e},e.from=function(e){return e||t},e.isEmpty=function(e){return!e||!0===e[Symbol.iterator]().next().done},e.first=function(e){return e[Symbol.iterator]().next().value},e.some=function(e,t){for(const i of e)if(t(i))return!0;return!1},e.find=function(e,t){for(const i of e)if(t(i))return i},e.filter=function*(e,t){for(const i of e)t(i)&&(yield i)},e.map=function*(e,t){let i=0;for(const n of e)yield t(n,i++)},e.concat=function*(...e){for(const t of e)for(const e of t)yield e},e.concatNested=function*(e){for(const t of e)for(const e of t)yield e},e.reduce=function(e,t,i){let n=i;for(const i of e)n=t(n,i);return n},e.slice=function*(e,t,i=e.length){for(t<0&&(t+=e.length),i<0?i+=e.length:i>e.length&&(i=e.length);t<i;t++)yield e[t]},e.consume=function(t,i=Number.POSITIVE_INFINITY){const n=[];if(0===i)return[n,t];const o=t[Symbol.iterator]();for(let t=0;t<i;t++){var r=o.next();if(r.done)return[n,e.empty()];n.push(r.value)}return[n,{[Symbol.iterator]:()=>o}]},e.equals=function(e,t,i=((e,t)=>e===t)){const n=e[Symbol.iterator](),o=t[Symbol.iterator]();for(;;){var r=n.next(),s=o.next();if(r.done!==s.done)return!1;if(r.done)return!0;if(!i(r.value,s.value))return!1}}}(n=n||{})},function(e,t,i){"use strict";i.d(t,"b",(function(){return o})),i.d(t,"c",(function(){return r})),i.d(t,"a",(function(){return a})),i.d(t,"f",(function(){return l})),i.d(t,"d",(function(){return c})),i.d(t,"e",(function(){return d}));var n=i(19);function o(e){if(!e||"object"!=typeof e)return e;if(e instanceof RegExp)return e;const t=Array.isArray(e)?[]:{};return Object.keys(e).forEach(i=>{e[i]&&"object"==typeof e[i]?t[i]=o(e[i]):t[i]=e[i]}),t}function r(e){if(!e||"object"!=typeof e)return e;const t=[e];for(;0<t.length;){const e=t.shift();Object.freeze(e);for(const n in e){var i;s.call(e,n)&&("object"!=typeof(i=e[n])||Object.isFrozen(i)||t.push(i))}}return e}const s=Object.prototype.hasOwnProperty;function a(e,t){return function e(t,i,o){if(Object(n.n)(t))return t;const r=i(t);if(void 0!==r)return r;if(Object(n.f)(t)){const n=[];for(const r of t)n.push(e(r,i,o));return n}if(Object(n.k)(t)){if(o.has(t))throw new Error("Cannot clone recursive data-structure");o.add(t);const n={};for(var a in t)s.call(t,a)&&(n[a]=e(t[a],i,o));return o.delete(t),n}return t}(e,t,new Set)}function l(e,t,i=!0){return Object(n.k)(e)?(Object(n.k)(t)&&Object.keys(t).forEach(o=>{o in e?i&&(Object(n.k)(e[o])&&Object(n.k)(t[o])?l(e[o],t[o],i):e[o]=t[o]):e[o]=t[o]}),e):t}function c(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(typeof e!=typeof t)return!1;if("object"!=typeof e)return!1;if(Array.isArray(e)!==Array.isArray(t))return!1;let i,n;if(Array.isArray(e)){if(e.length!==t.length)return!1;for(i=0;i<e.length;i++)if(!c(e[i],t[i]))return!1}else{const o=[];for(n in e)o.push(n);o.sort();const r=[];for(n in t)r.push(n);if(r.sort(),!c(o,r))return!1;for(i=0;i<o.length;i++)if(!c(e[o[i]],t[o[i]]))return!1}return!0}function d(e,t,i){return void 0===(e=t(e))?i:e}},function(e,t,i){"use strict";i.d(t,"a",(function(){return r})),i.d(t,"g",(function(){return s})),i.d(t,"b",(function(){return a})),i.d(t,"f",(function(){return l})),i.d(t,"d",(function(){return c})),i.d(t,"c",(function(){return d})),i.d(t,"e",(function(){return h}));var n=i(156),o=(t=i(21),i(59));const r=Object(t.c)("configurationService");function s(e,t){var i,n=Object.create(null);for(i in e)a(n,i,e[i],t);return n}function a(e,t,i,n){const o=t.split(".");var r=o.pop();let s=e;for(let e=0;e<o.length;e++){var a=o[e];let i=s[a];switch(typeof i){case"undefined":i=s[a]=Object.create(null);break;case"object":break;default:return void n(`Ignoring ${t} as ${o.slice(0,e+1).join(".")} is ${JSON.stringify(i)}`)}s=i}if("object"==typeof s&&null!==s)try{s[r]=i}catch(e){n(`Ignoring ${t} as ${o.join(".")} is ${JSON.stringify(s)}`)}else n(`Ignoring ${t} as ${o.join(".")} is ${JSON.stringify(s)}`)}function l(e,t){!function e(t,i){const n=i.shift();if(0!==i.length){if(-1!==Object.keys(t).indexOf(n)){const o=t[n];"object"!=typeof o||Array.isArray(o)||(e(o,i),0===Object.keys(o).length&&delete t[n])}}else delete t[n]}(e,t.split("."))}function c(e,t,i){return void 0===(t=function(e,t){let i=e;for(const e of t){if("object"!=typeof i||null===i)return;i=i[e]}return i}(e,t.split(".")))?i:t}function d(){var e=o.a.as(n.a.Configuration).getConfigurationProperties();return Object.keys(e)}function h(){var e,t=Object.create(null),i=o.a.as(n.a.Configuration).getConfigurationProperties();for(e in i){a(t,e,i[e].default,e=>console.error("Conflict in default settings: "+e))}return t}},function(e,t,i){var n=i(374),o=i(375),r=i(280),s=i(376);e.exports=function(e,t){return n(e)||o(e,t)||r(e,t)||s()},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i=i(21);const n=Object(i.c)("keybindingService")},function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var n=i(224),o=i(19);const r=new class{constructor(){this.data=new Map}add(e,t){n.a(o.l(e)),n.a(o.k(t)),n.a(!this.data.has(e),"There is already an extension with this id"),this.data.set(e,t)}as(e){return this.data.get(e)||null}}},function(e,t,i){"use strict";i.d(t,"i",(function(){return d})),i.d(t,"e",(function(){return h})),i.d(t,"f",(function(){return u})),i.d(t,"c",(function(){return g})),i.d(t,"b",(function(){return p})),i.d(t,"d",(function(){return f})),i.d(t,"g",(function(){return m})),i.d(t,"h",(function(){return v})),i.d(t,"j",(function(){return b})),i.d(t,"a",(function(){return n}));var n,o,r=i(205),s=i(52),a=i(72),l=i(9),c=i(35);function d(e){return Object(c.b)(e,!0)}const h=new class{constructor(e){this._ignorePathCasing=e}compare(e,t,i=!1){return e===t?0:Object(l.f)(this.getComparisonKey(e,i),this.getComparisonKey(t,i))}isEqual(e,t,i=!1){return e===t||!(!e||!t)&&this.getComparisonKey(e,i)===this.getComparisonKey(t,i)}getComparisonKey(e,t=!1){return e.with({path:this._ignorePathCasing(e)?e.path.toLowerCase():void 0,fragment:t?null:void 0}).toString()}joinPath(e,...t){return c.a.joinPath(e,...t)}basenameOrAuthority(e){return p(e)||e.authority}basename(e){return a.e.basename(e.path)}dirname(e){if(0===e.path.length)return e;let t;return e.scheme===s.c.file?t=c.a.file(a.b(d(e))).path:(t=a.e.dirname(e.path),e.authority&&t.length&&47!==t.charCodeAt(0)&&(console.error(`dirname("${e.toString})) resulted in a relative path`),t="/")),e.with({path:t})}normalizePath(e){if(!e.path.length)return e;let t;return t=e.scheme===s.c.file?c.a.file(a.d(d(e))).path:a.e.normalize(e.path),e.with({path:t})}resolvePath(e,t){return e.scheme!==s.c.file?(t=r.d(t),e.with({path:a.e.resolve(e.path,t)})):(t=c.a.file(a.g(d(e),t)),e.with({authority:t.authority,path:t.path}))}}(()=>!1),u=h.isEqual.bind(h),g=h.basenameOrAuthority.bind(h),p=h.basename.bind(h),f=h.dirname.bind(h),m=h.joinPath.bind(h),v=h.normalizePath.bind(h),b=h.resolvePath.bind(h);(o=n=n||{}).META_DATA_LABEL="label",o.META_DATA_DESCRIPTION="description",o.META_DATA_SIZE="size",o.META_DATA_MIME="mime",o.parseMetaData=function(e){const t=new Map;return e.path.substring(e.path.indexOf(";")+1,e.path.lastIndexOf(";")).split(";").forEach(e=>{var[i,e]=e.split(":");i&&e&&t.set(i,e)}),(e=e.path.substring(0,e.path.indexOf(";")))&&t.set(o.META_DATA_MIME,e),t}},function(e,t,i){"use strict";i.d(t,"b",(function(){return n})),i.d(t,"a",(function(){return o}));var n={INIT:Symbol(),DEFAULT:Symbol(),SYSTEM_PROXY:Symbol()},o={CONNECTED:Symbol(),DISCONNECTED:Symbol()}},function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i.d(t,"b",(function(){return l}));var n,o=i(1),r=i(22),s=i(92),a=i(2);t=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;0<=a;a--)(o=e[a])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s};(i=n=n||{}).Tap="-monaco-gesturetap",i.Change="-monaco-gesturechange",i.Start="-monaco-gesturestart",i.End="-monaco-gesturesend",i.Contextmenu="-monaco-gesturecontextmenu";class l extends a.a{constructor(){super(),this.dispatched=!1,this.activeTouches={},this.handle=null,this.targets=[],this.ignoreTargets=[],this._lastSetTapCountTime=0,this._register(o.i(document,"touchstart",e=>this.onTouchStart(e),{passive:!1})),this._register(o.i(document,"touchend",e=>this.onTouchEnd(e))),this._register(o.i(document,"touchmove",e=>this.onTouchMove(e),{passive:!1}))}static addTarget(e){return l.isTouchDevice()?(l.INSTANCE||(l.INSTANCE=new l),l.INSTANCE.targets.push(e),{dispose:()=>{l.INSTANCE.targets=l.INSTANCE.targets.filter(t=>t!==e)}}):a.a.None}static ignoreTarget(e){return l.isTouchDevice()?(l.INSTANCE||(l.INSTANCE=new l),l.INSTANCE.ignoreTargets.push(e),{dispose:()=>{l.INSTANCE.ignoreTargets=l.INSTANCE.ignoreTargets.filter(t=>t!==e)}}):a.a.None}static isTouchDevice(){return"ontouchstart"in window||0<navigator.maxTouchPoints}dispose(){this.handle&&(this.handle.dispose(),this.handle=null),super.dispose()}onTouchStart(e){var t=Date.now();this.handle&&(this.handle.dispose(),this.handle=null);for(let o=0,r=e.targetTouches.length;o<r;o++){var i=e.targetTouches.item(o);this.activeTouches[i.identifier]={id:i.identifier,initialTarget:i.target,initialTimeStamp:t,initialPageX:i.pageX,initialPageY:i.pageY,rollingTimestamps:[t],rollingPageX:[i.pageX],rollingPageY:[i.pageY]};let r=this.newGestureEvent(n.Start,i.target);r.pageX=i.pageX,r.pageY=i.pageY,this.dispatchEvent(r)}this.dispatched&&(e.preventDefault(),e.stopPropagation(),this.dispatched=!1)}onTouchEnd(e){var t=Date.now(),i=Object.keys(this.activeTouches).length;for(let g=0,p=e.changedTouches.length;g<p;g++){var o,s,a,c,d,h,u=e.changedTouches.item(g);if(this.activeTouches.hasOwnProperty(String(u.identifier))){let e=this.activeTouches[u.identifier],g=Date.now()-e.initialTimeStamp;if(g<l.HOLD_DELAY&&Math.abs(e.initialPageX-r.t(e.rollingPageX))<30&&Math.abs(e.initialPageY-r.t(e.rollingPageY))<30){let t=this.newGestureEvent(n.Tap,e.initialTarget);t.pageX=r.t(e.rollingPageX),t.pageY=r.t(e.rollingPageY),this.dispatchEvent(t)}else if(g>=l.HOLD_DELAY&&Math.abs(e.initialPageX-r.t(e.rollingPageX))<30&&Math.abs(e.initialPageY-r.t(e.rollingPageY))<30){let t=this.newGestureEvent(n.Contextmenu,e.initialTarget);t.pageX=r.t(e.rollingPageX),t.pageY=r.t(e.rollingPageY),this.dispatchEvent(t)}else 1===i&&(o=r.t(e.rollingPageX),s=r.t(e.rollingPageY),a=r.t(e.rollingTimestamps)-e.rollingTimestamps[0],c=o-e.rollingPageX[0],d=s-e.rollingPageY[0],h=this.targets.filter(t=>e.initialTarget instanceof Node&&t.contains(e.initialTarget)),this.inertia(h,t,Math.abs(c)/a,0<c?1:-1,o,Math.abs(d)/a,0<d?1:-1,s));this.dispatchEvent(this.newGestureEvent(n.End,e.initialTarget)),delete this.activeTouches[u.identifier]}else console.warn("move of an UNKNOWN touch",u)}this.dispatched&&(e.preventDefault(),e.stopPropagation(),this.dispatched=!1)}newGestureEvent(e,t){let i=document.createEvent("CustomEvent");return i.initEvent(e,!1,!0),i.initialTarget=t,i.tapCount=0,i}dispatchEvent(e){if(e.type===n.Tap){var t=(new Date).getTime();let i=0;i=t-this._lastSetTapCountTime>l.CLEAR_TAP_COUNT_TIME?1:2,this._lastSetTapCountTime=t,e.tapCount=i}else e.type!==n.Change&&e.type!==n.Contextmenu||(this._lastSetTapCountTime=0);for(let t=0;t<this.ignoreTargets.length;t++)if(e.initialTarget instanceof Node&&this.ignoreTargets[t].contains(e.initialTarget))return;this.targets.forEach(t=>{e.initialTarget instanceof Node&&t.contains(e.initialTarget)&&(t.dispatchEvent(e),this.dispatched=!0)})}inertia(e,t,i,r,s,a,c,d){this.handle=o.V(()=>{var o=Date.now();let h=o-t,u=0,g=0,p=!0;i+=l.SCROLL_FRICTION*h,a+=l.SCROLL_FRICTION*h,0<i&&(p=!1,u=r*i*h),0<a&&(p=!1,g=c*a*h);let f=this.newGestureEvent(n.Change);f.translationX=u,f.translationY=g,e.forEach(e=>e.dispatchEvent(f)),p||this.inertia(e,o,i,r,s+u,a,c,d+g)})}onTouchMove(e){var t=Date.now();for(let o=0,s=e.changedTouches.length;o<s;o++){var i=e.changedTouches.item(o);if(this.activeTouches.hasOwnProperty(String(i.identifier))){let e=this.activeTouches[i.identifier],o=this.newGestureEvent(n.Change,e.initialTarget);o.translationX=i.pageX-r.t(e.rollingPageX),o.translationY=i.pageY-r.t(e.rollingPageY),o.pageX=i.pageX,o.pageY=i.pageY,this.dispatchEvent(o),3<e.rollingPageX.length&&(e.rollingPageX.shift(),e.rollingPageY.shift(),e.rollingTimestamps.shift()),e.rollingPageX.push(i.pageX),e.rollingPageY.push(i.pageY),e.rollingTimestamps.push(t)}else console.warn("end of an UNKNOWN touch",i)}this.dispatched&&(e.preventDefault(),e.stopPropagation(),this.dispatched=!1)}}l.SCROLL_FRICTION=-.005,l.HOLD_DELAY=700,l.CLEAR_TAP_COUNT_TIME=400,t([s.a],l,"isTouchDevice",null)},function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i.d(t,"c",(function(){return o})),i.d(t,"b",(function(){return r})),i.d(t,"e",(function(){return s})),i.d(t,"d",(function(){return a})),i.d(t,"f",(function(){return l})),i.d(t,"h",(function(){return c})),i.d(t,"i",(function(){return d})),i.d(t,"g",(function(){return h}));var n,o,r,s,a,l,c,d,h;t=i(0);(i=n=n||{}).noSelection=t.a("noSelection","No selection"),i.singleSelectionRange=t.a("singleSelectionRange","Line {0}, Column {1} ({2} selected)"),i.singleSelection=t.a("singleSelection","Line {0}, Column {1}"),i.multiSelectionRange=t.a("multiSelectionRange","{0} selections ({1} characters selected)"),i.multiSelection=t.a("multiSelection","{0} selections"),i.emergencyConfOn=t.a("emergencyConfOn","Now changing the setting `accessibilitySupport` to 'on'."),i.openingDocs=t.a("openingDocs","Now opening the Editor Accessibility documentation page."),i.readonlyDiffEditor=t.a("readonlyDiffEditor"," in a read-only pane of a diff editor."),i.editableDiffEditor=t.a("editableDiffEditor"," in a pane of a diff editor."),i.readonlyEditor=t.a("readonlyEditor"," in a read-only code editor"),i.editableEditor=t.a("editableEditor"," in a code editor"),i.changeConfigToOnMac=t.a("changeConfigToOnMac","To configure the editor to be optimized for usage with a Screen Reader press Command+E now."),i.changeConfigToOnWinLinux=t.a("changeConfigToOnWinLinux","To configure the editor to be optimized for usage with a Screen Reader press Control+E now."),i.auto_on=t.a("auto_on","The editor is configured to be optimized for usage with a Screen Reader."),i.auto_off=t.a("auto_off","The editor is configured to never be optimized for usage with a Screen Reader, which is not the case at this time."),i.tabFocusModeOnMsg=t.a("tabFocusModeOnMsg","Pressing Tab in the current editor will move focus to the next focusable element. Toggle this behavior by pressing {0}."),i.tabFocusModeOnMsgNoKb=t.a("tabFocusModeOnMsgNoKb","Pressing Tab in the current editor will move focus to the next focusable element. The command {0} is currently not triggerable by a keybinding."),i.tabFocusModeOffMsg=t.a("tabFocusModeOffMsg","Pressing Tab in the current editor will insert the tab character. Toggle this behavior by pressing {0}."),i.tabFocusModeOffMsgNoKb=t.a("tabFocusModeOffMsgNoKb","Pressing Tab in the current editor will insert the tab character. The command {0} is currently not triggerable by a keybinding."),i.openDocMac=t.a("openDocMac","Press Command+H now to open a browser window with more information related to editor accessibility."),i.openDocWinLinux=t.a("openDocWinLinux","Press Control+H now to open a browser window with more information related to editor accessibility."),i.outroMsg=t.a("outroMsg","You can dismiss this tooltip and return to the editor by pressing Escape or Shift+Escape."),i.showAccessibilityHelpAction=t.a("showAccessibilityHelpAction","Show Accessibility Help"),(o=o||{}).inspectTokensAction=t.a("inspectTokens","Developer: Inspect Tokens"),(r=r||{}).gotoLineActionLabel=t.a("gotoLineActionLabel","Go to Line/Column..."),(s=s||{}).helpQuickAccessActionLabel=t.a("helpQuickAccess","Show all Quick Access Providers"),(i=a=a||{}).quickCommandActionLabel=t.a("quickCommandActionLabel","Command Palette"),i.quickCommandHelp=t.a("quickCommandActionHelp","Show And Run Commands"),(i=l=l||{}).quickOutlineActionLabel=t.a("quickOutlineActionLabel","Go to Symbol..."),i.quickOutlineByCategoryActionLabel=t.a("quickOutlineByCategoryActionLabel","Go to Symbol by Category..."),(i=c=c||{}).editorViewAccessibleLabel=t.a("editorViewAccessibleLabel","Editor content"),i.accessibilityHelpMessage=t.a("accessibilityHelpMessage","Press Alt+F1 for Accessibility Options."),(d=d||{}).toggleHighContrast=t.a("toggleHighContrast","Toggle High Contrast Theme"),(h=h||{}).bulkEditServiceSummary=t.a("bulkEditServiceSummary","Made {0} edits in {1} files")},function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i.d(t,"b",(function(){return o})),t=i(79),i=i(21),t.a;const n=Object(i.c)("notificationService");class o{}},function(e,t,i){"use strict";i.d(t,"a",(function(){return s})),i.d(t,"b",(function(){return a})),i.d(t,"d",(function(){return l})),i.d(t,"e",(function(){return c})),i.d(t,"c",(function(){return d}));var n=i(6),o=(t=i(2),i(0)),r=function(e,t,i,n){return new(i=i||Promise)((function(o,r){function s(e){try{l(n.next(e))}catch(e){r(e)}}function a(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):((t=e.value)instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};class s extends t.a{constructor(e,t="",i="",o=!0,r){super(),this._onDidChange=this._register(new n.b),this.onDidChange=this._onDidChange.event,this._enabled=!0,this._id=e,this._label=t,this._cssClass=i,this._enabled=o,this._actionCallback=r}get id(){return this._id}get label(){return this._label}set label(e){this._setLabel(e)}_setLabel(e){this._label!==e&&(this._label=e,this._onDidChange.fire({label:e}))}get tooltip(){return this._tooltip||""}set tooltip(e){this._setTooltip(e)}_setTooltip(e){this._tooltip!==e&&(this._tooltip=e,this._onDidChange.fire({tooltip:e}))}get class(){return this._cssClass}set class(e){this._setClass(e)}_setClass(e){this._cssClass!==e&&(this._cssClass=e,this._onDidChange.fire({class:e}))}get enabled(){return this._enabled}set enabled(e){this._setEnabled(e)}_setEnabled(e){this._enabled!==e&&(this._enabled=e,this._onDidChange.fire({enabled:e}))}get checked(){return this._checked}set checked(e){this._setChecked(e)}_setChecked(e){this._checked!==e&&(this._checked=e,this._onDidChange.fire({checked:e}))}run(e,t){return r(this,void 0,void 0,(function*(){this._actionCallback&&(yield this._actionCallback(e))}))}}class a extends t.a{constructor(){super(...arguments),this._onBeforeRun=this._register(new n.b),this.onBeforeRun=this._onBeforeRun.event,this._onDidRun=this._register(new n.b),this.onDidRun=this._onDidRun.event}run(e,t){return r(this,void 0,void 0,(function*(){if(e.enabled){this._onBeforeRun.fire({action:e});let i=void 0;try{yield this.runAction(e,t)}catch(e){i=e}this._onDidRun.fire({action:e,error:i})}}))}runAction(e,t){return r(this,void 0,void 0,(function*(){yield e.run(t)}))}}class l extends s{constructor(e){super(l.ID,e,e?"separator text":"separator"),this.checked=!1,this.enabled=!1}}l.ID="vs.actions.separator";class c{constructor(e,t,i,n){this.tooltip="",this.enabled=!0,this.checked=!1,this.id=e,this.label=t,this.class=n,this._actions=i}get actions(){return this._actions}dispose(){}run(){return r(this,void 0,void 0,(function*(){}))}}class d extends s{constructor(){super(d.ID,o.a("submenu.empty","(empty)"),void 0,!1)}}d.ID="vs.actions.empty"},function(e,t){e.exports=require("electron-log")},function(e,t,i){"use strict";i.d(t,"a",(function(){return c}));var n=i(44),o=i(71),r=i(127),s=i(15);const a=s.f?256:2048,l=s.f?2048:256;class c{constructor(e){this._standardKeyboardEventBrand=!0,this.browserEvent=e,this.target=e.target,this.ctrlKey=e.ctrlKey,this.shiftKey=e.shiftKey,this.altKey=e.altKey,this.metaKey=e.metaKey,this.keyCode=function(e){if(e.charCode){var t=String.fromCharCode(e.charCode).toUpperCase();return o.d.fromString(t)}if(3===(e=e.keyCode))return 7;if(n.g){if(59===e)return 80;if(107===e)return 81;if(109===e)return 83;if(s.f&&224===e)return 57}else if(n.j){if(91===e)return 57;if(s.f&&93===e)return 57;if(!s.f&&92===e)return 57}return o.a[e]||0}(e),this.code=e.code,this.ctrlKey=this.ctrlKey||5===this.keyCode,this.altKey=this.altKey||6===this.keyCode,this.shiftKey=this.shiftKey||4===this.keyCode,this.metaKey=this.metaKey||57===this.keyCode,this._asKeybinding=this._computeKeybinding(),this._asRuntimeKeybinding=this._computeRuntimeKeybinding()}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation&&this.browserEvent.stopPropagation()}toKeybinding(){return this._asRuntimeKeybinding}equals(e){return this._asKeybinding===e}_computeKeybinding(){let e=0;5!==this.keyCode&&4!==this.keyCode&&6!==this.keyCode&&57!==this.keyCode&&(e=this.keyCode);let t=0;return this.ctrlKey&&(t|=a),this.altKey&&(t|=512),this.shiftKey&&(t|=1024),this.metaKey&&(t|=l),t|=e,t}_computeRuntimeKeybinding(){let e=0;return 5!==this.keyCode&&4!==this.keyCode&&6!==this.keyCode&&57!==this.keyCode&&(e=this.keyCode),new r.d(this.ctrlKey,this.shiftKey,this.altKey,this.metaKey,e)}}},function(e,t,i){"use strict";i.d(t,"i",(function(){return s})),i.d(t,"b",(function(){return l})),i.d(t,"c",(function(){return c})),i.d(t,"f",(function(){return d})),i.d(t,"g",(function(){return h})),i.d(t,"a",(function(){return u})),i.d(t,"e",(function(){return g})),i.d(t,"h",(function(){return p})),i.d(t,"d",(function(){return f}));var n=i(9),o=i(12),r=i(3);class s{constructor(e,t,i,n){this._viewportBrand=void 0,this.top=0|e,this.left=0|t,this.width=0|i,this.height=0|n}}class a{constructor(e,t){this.outputLineIndex=e,this.outputOffset=t}toString(){return`${this.outputLineIndex}:${this.outputOffset}`}toPosition(e,t){return t=0<this.outputLineIndex?t:0,new o.a(e+this.outputLineIndex,t+this.outputOffset+1)}}class l{constructor(e,t,i,n,o){this.breakOffsets=e,this.breakOffsetsVisibleColumn=t,this.wrappedTextIndentLength=i,this.injectionOffsets=n,this.injectionOptions=o}getInputOffsetOfOutputPosition(e,t){let i=0;if(i=0===e?t:this.breakOffsets[e-1]+t,null!==this.injectionOffsets)for(let e=0;e<this.injectionOffsets.length&&i>this.injectionOffsets[e];e++)i<this.injectionOffsets[e]+this.injectionOptions[e].content.length?i=this.injectionOffsets[e]:i-=this.injectionOptions[e].content.length;return i}getOutputPositionOfInputOffset(e,t=2){let i=0;if(null!==this.injectionOffsets)for(let n=0;n<this.injectionOffsets.length&&!(e<this.injectionOffsets[n])&&(1===t||e!==this.injectionOffsets[n]);n++)i+=this.injectionOptions[n].content.length;return e+=i,this.getOutputPositionOfOffsetInUnwrappedLine(e,t)}getOutputPositionOfOffsetInUnwrappedLine(e,t=2){let i=0,n=this.breakOffsets.length-1,o=0,r=0;for(;i<=n;){o=i+(n-i)/2|0;var s=this.breakOffsets[o];if(r=0<o?this.breakOffsets[o-1]:0,0===t)if(e<=r)n=o-1;else{if(!(s<e))break;i=o+1}else if(e<r)n=o-1;else{if(!(s<=e))break;i=o+1}}return new a(o,e-r)}outputPositionToOffsetInUnwrappedLine(e,t){let i=(0<e?this.breakOffsets[e-1]:0)+t;return 0<e&&(i-=this.wrappedTextIndentLength),i}normalizeOffsetAroundInjections(e,t){var i=this.getInjectedTextAtOffset(e);if(!i)return e;if(2===t)return e===i.offsetInUnwrappedLine+i.length?i.offsetInUnwrappedLine+i.length:i.offsetInUnwrappedLine;if(1===t){let e=i.offsetInUnwrappedLine+i.length,t=i.injectedTextIndex;for(;t+1<this.injectionOffsets.length&&this.injectionOffsets[t+1]===this.injectionOffsets[t];)e+=this.injectionOptions[t+1].content.length,t++;return e}let n=i.offsetInUnwrappedLine,o=i.injectedTextIndex;for(;0<=o-1&&this.injectionOffsets[o-1]===this.injectionOffsets[o];)n-=this.injectionOptions[o-1].content.length,o++;return n}getInjectedText(e,t){return t=this.outputPositionToOffsetInUnwrappedLine(e,t),(t=this.getInjectedTextAtOffset(t))?{options:this.injectionOptions[t.injectedTextIndex]}:null}getInjectedTextAtOffset(e){var t=this.injectionOffsets,i=this.injectionOptions;if(null!==t){let s=0;for(let a=0;a<t.length;a++){var n=i[a].content.length,o=t[a]+s,r=t[a]+s+n;if(e<o)break;if(e<=r)return{injectedTextIndex:a,offsetInUnwrappedLine:o,length:n};s+=n}}}}class c{constructor(e,t){this.tabSize=e,this.data=t}}class d{constructor(e,t,i,n,o,r,s){this._viewLineDataBrand=void 0,this.content=e,this.continuesWithWrappedLine=t,this.minColumn=i,this.maxColumn=n,this.startVisibleColumn=o,this.tokens=r,this.inlineDecorations=s}}class h{constructor(e,t,i,n,o,r,s,a,l,c){this.minColumn=e,this.maxColumn=t,this.content=i,this.continuesWithWrappedLine=n,this.isBasicASCII=h.isBasicASCII(i,r),this.containsRTL=h.containsRTL(i,this.isBasicASCII,o),this.tokens=s,this.inlineDecorations=a,this.tabSize=l,this.startVisibleColumn=c}static isBasicASCII(e,t){return!t||n.A(e)}static containsRTL(e,t,i){return!(t||!i)&&n.m(e)}}class u{constructor(e,t,i){this.range=e,this.inlineClassName=t,this.type=i}}class g{constructor(e,t,i,n){this.startOffset=e,this.endOffset=t,this.inlineClassName=i,this.inlineClassNameAffectsLetterSpacing=n}toInlineDecoration(e){return new u(new r.a(e,this.startOffset+1,e,this.endOffset+1),this.inlineClassName,this.inlineClassNameAffectsLetterSpacing?3:0)}}class p{constructor(e,t){this._viewModelDecorationBrand=void 0,this.range=e,this.options=t}}class f{constructor(e,t,i){this.color=e,this.zIndex=t,this.data=i}static cmp(e,t){return e.zIndex===t.zIndex?e.color<t.color?-1:e.color>t.color?1:0:e.zIndex-t.zIndex}}},function(e,t,i){"use strict";i.d(t,"a",(function(){return o})),i.d(t,"b",(function(){return r}));var n=i(6);class o{constructor(e,t,i){const o=e=>this.emitter.fire(e);this.emitter=new n.b({onFirstListenerAdd:()=>e.addEventListener(t,o,i),onLastListenerRemove:()=>e.removeEventListener(t,o,i)})}get event(){return this.emitter.event}dispose(){this.emitter.dispose()}}function r(e){return e.preventDefault(),e.stopPropagation(),e}},function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i.d(t,"b",(function(){return o})),i=i(21);const n=Object(i.c)("modelService");function o(e){return!e.isTooLargeForSyncing()&&!e.isForSimpleWidget}},function(e,t,i){"use strict";i.d(t,"a",(function(){return a})),i.d(t,"b",(function(){return u})),i.d(t,"d",(function(){return p})),i.d(t,"c",(function(){return f}));class n{constructor(){this._keyCodeToStr=[],this._strToKeyCode=Object.create(null)}define(e,t){this._keyCodeToStr[e]=t,this._strToKeyCode[t.toLowerCase()]=e}keyCodeToStr(e){return this._keyCodeToStr[e]}strToKeyCode(e){return this._strToKeyCode[e.toLowerCase()]||0}}const o=new n,r=new n,s=new n,a=new Array(230),l={},c=[],d=Object.create(null),h=Object.create(null),u=[],g=[];for(let e=0;e<=193;e++)u[e]=-1;for(let e=0;e<=126;e++)g[e]=-1;var p;function f(e,t){return(e|(65535&t)<<16>>>0)>>>0}!function(){let e=[],t=[];for(const i of[[0,1,0,"None",0,"unknown",0,"VK_UNKNOWN","",""],[0,1,1,"Hyper",0,"",0,"","",""],[0,1,2,"Super",0,"",0,"","",""],[0,1,3,"Fn",0,"",0,"","",""],[0,1,4,"FnLock",0,"",0,"","",""],[0,1,5,"Suspend",0,"",0,"","",""],[0,1,6,"Resume",0,"",0,"","",""],[0,1,7,"Turbo",0,"",0,"","",""],[0,1,8,"Sleep",0,"",0,"VK_SLEEP","",""],[0,1,9,"WakeUp",0,"",0,"","",""],[31,0,10,"KeyA",31,"A",65,"VK_A","",""],[32,0,11,"KeyB",32,"B",66,"VK_B","",""],[33,0,12,"KeyC",33,"C",67,"VK_C","",""],[34,0,13,"KeyD",34,"D",68,"VK_D","",""],[35,0,14,"KeyE",35,"E",69,"VK_E","",""],[36,0,15,"KeyF",36,"F",70,"VK_F","",""],[37,0,16,"KeyG",37,"G",71,"VK_G","",""],[38,0,17,"KeyH",38,"H",72,"VK_H","",""],[39,0,18,"KeyI",39,"I",73,"VK_I","",""],[40,0,19,"KeyJ",40,"J",74,"VK_J","",""],[41,0,20,"KeyK",41,"K",75,"VK_K","",""],[42,0,21,"KeyL",42,"L",76,"VK_L","",""],[43,0,22,"KeyM",43,"M",77,"VK_M","",""],[44,0,23,"KeyN",44,"N",78,"VK_N","",""],[45,0,24,"KeyO",45,"O",79,"VK_O","",""],[46,0,25,"KeyP",46,"P",80,"VK_P","",""],[47,0,26,"KeyQ",47,"Q",81,"VK_Q","",""],[48,0,27,"KeyR",48,"R",82,"VK_R","",""],[49,0,28,"KeyS",49,"S",83,"VK_S","",""],[50,0,29,"KeyT",50,"T",84,"VK_T","",""],[51,0,30,"KeyU",51,"U",85,"VK_U","",""],[52,0,31,"KeyV",52,"V",86,"VK_V","",""],[53,0,32,"KeyW",53,"W",87,"VK_W","",""],[54,0,33,"KeyX",54,"X",88,"VK_X","",""],[55,0,34,"KeyY",55,"Y",89,"VK_Y","",""],[56,0,35,"KeyZ",56,"Z",90,"VK_Z","",""],[22,0,36,"Digit1",22,"1",49,"VK_1","",""],[23,0,37,"Digit2",23,"2",50,"VK_2","",""],[24,0,38,"Digit3",24,"3",51,"VK_3","",""],[25,0,39,"Digit4",25,"4",52,"VK_4","",""],[26,0,40,"Digit5",26,"5",53,"VK_5","",""],[27,0,41,"Digit6",27,"6",54,"VK_6","",""],[28,0,42,"Digit7",28,"7",55,"VK_7","",""],[29,0,43,"Digit8",29,"8",56,"VK_8","",""],[30,0,44,"Digit9",30,"9",57,"VK_9","",""],[21,0,45,"Digit0",21,"0",48,"VK_0","",""],[3,1,46,"Enter",3,"Enter",13,"VK_RETURN","",""],[9,1,47,"Escape",9,"Escape",27,"VK_ESCAPE","",""],[1,1,48,"Backspace",1,"Backspace",8,"VK_BACK","",""],[2,1,49,"Tab",2,"Tab",9,"VK_TAB","",""],[10,1,50,"Space",10,"Space",32,"VK_SPACE","",""],[83,0,51,"Minus",83,"-",189,"VK_OEM_MINUS","-","OEM_MINUS"],[81,0,52,"Equal",81,"=",187,"VK_OEM_PLUS","=","OEM_PLUS"],[87,0,53,"BracketLeft",87,"[",219,"VK_OEM_4","[","OEM_4"],[89,0,54,"BracketRight",89,"]",221,"VK_OEM_6","]","OEM_6"],[88,0,55,"Backslash",88,"\\",220,"VK_OEM_5","\\","OEM_5"],[0,0,56,"IntlHash",0,"",0,"","",""],[80,0,57,"Semicolon",80,";",186,"VK_OEM_1",";","OEM_1"],[90,0,58,"Quote",90,"'",222,"VK_OEM_7","'","OEM_7"],[86,0,59,"Backquote",86,"`",192,"VK_OEM_3","`","OEM_3"],[82,0,60,"Comma",82,",",188,"VK_OEM_COMMA",",","OEM_COMMA"],[84,0,61,"Period",84,".",190,"VK_OEM_PERIOD",".","OEM_PERIOD"],[85,0,62,"Slash",85,"/",191,"VK_OEM_2","/","OEM_2"],[8,1,63,"CapsLock",8,"CapsLock",20,"VK_CAPITAL","",""],[59,1,64,"F1",59,"F1",112,"VK_F1","",""],[60,1,65,"F2",60,"F2",113,"VK_F2","",""],[61,1,66,"F3",61,"F3",114,"VK_F3","",""],[62,1,67,"F4",62,"F4",115,"VK_F4","",""],[63,1,68,"F5",63,"F5",116,"VK_F5","",""],[64,1,69,"F6",64,"F6",117,"VK_F6","",""],[65,1,70,"F7",65,"F7",118,"VK_F7","",""],[66,1,71,"F8",66,"F8",119,"VK_F8","",""],[67,1,72,"F9",67,"F9",120,"VK_F9","",""],[68,1,73,"F10",68,"F10",121,"VK_F10","",""],[69,1,74,"F11",69,"F11",122,"VK_F11","",""],[70,1,75,"F12",70,"F12",123,"VK_F12","",""],[0,1,76,"PrintScreen",0,"",0,"","",""],[79,1,77,"ScrollLock",79,"ScrollLock",145,"VK_SCROLL","",""],[7,1,78,"Pause",7,"PauseBreak",19,"VK_PAUSE","",""],[19,1,79,"Insert",19,"Insert",45,"VK_INSERT","",""],[14,1,80,"Home",14,"Home",36,"VK_HOME","",""],[11,1,81,"PageUp",11,"PageUp",33,"VK_PRIOR","",""],[20,1,82,"Delete",20,"Delete",46,"VK_DELETE","",""],[13,1,83,"End",13,"End",35,"VK_END","",""],[12,1,84,"PageDown",12,"PageDown",34,"VK_NEXT","",""],[17,1,85,"ArrowRight",17,"RightArrow",39,"VK_RIGHT","Right",""],[15,1,86,"ArrowLeft",15,"LeftArrow",37,"VK_LEFT","Left",""],[18,1,87,"ArrowDown",18,"DownArrow",40,"VK_DOWN","Down",""],[16,1,88,"ArrowUp",16,"UpArrow",38,"VK_UP","Up",""],[78,1,89,"NumLock",78,"NumLock",144,"VK_NUMLOCK","",""],[108,1,90,"NumpadDivide",108,"NumPad_Divide",111,"VK_DIVIDE","",""],[103,1,91,"NumpadMultiply",103,"NumPad_Multiply",106,"VK_MULTIPLY","",""],[106,1,92,"NumpadSubtract",106,"NumPad_Subtract",109,"VK_SUBTRACT","",""],[104,1,93,"NumpadAdd",104,"NumPad_Add",107,"VK_ADD","",""],[3,1,94,"NumpadEnter",3,"",0,"","",""],[94,1,95,"Numpad1",94,"NumPad1",97,"VK_NUMPAD1","",""],[95,1,96,"Numpad2",95,"NumPad2",98,"VK_NUMPAD2","",""],[96,1,97,"Numpad3",96,"NumPad3",99,"VK_NUMPAD3","",""],[97,1,98,"Numpad4",97,"NumPad4",100,"VK_NUMPAD4","",""],[98,1,99,"Numpad5",98,"NumPad5",101,"VK_NUMPAD5","",""],[99,1,100,"Numpad6",99,"NumPad6",102,"VK_NUMPAD6","",""],[100,1,101,"Numpad7",100,"NumPad7",103,"VK_NUMPAD7","",""],[101,1,102,"Numpad8",101,"NumPad8",104,"VK_NUMPAD8","",""],[102,1,103,"Numpad9",102,"NumPad9",105,"VK_NUMPAD9","",""],[93,1,104,"Numpad0",93,"NumPad0",96,"VK_NUMPAD0","",""],[107,1,105,"NumpadDecimal",107,"NumPad_Decimal",110,"VK_DECIMAL","",""],[92,0,106,"IntlBackslash",92,"OEM_102",226,"VK_OEM_102","",""],[58,1,107,"ContextMenu",58,"ContextMenu",93,"","",""],[0,1,108,"Power",0,"",0,"","",""],[0,1,109,"NumpadEqual",0,"",0,"","",""],[71,1,110,"F13",71,"F13",124,"VK_F13","",""],[72,1,111,"F14",72,"F14",125,"VK_F14","",""],[73,1,112,"F15",73,"F15",126,"VK_F15","",""],[74,1,113,"F16",74,"F16",127,"VK_F16","",""],[75,1,114,"F17",75,"F17",128,"VK_F17","",""],[76,1,115,"F18",76,"F18",129,"VK_F18","",""],[77,1,116,"F19",77,"F19",130,"VK_F19","",""],[0,1,117,"F20",0,"",0,"VK_F20","",""],[0,1,118,"F21",0,"",0,"VK_F21","",""],[0,1,119,"F22",0,"",0,"VK_F22","",""],[0,1,120,"F23",0,"",0,"VK_F23","",""],[0,1,121,"F24",0,"",0,"VK_F24","",""],[0,1,122,"打开",0,"",0,"","",""],[0,1,123,"Help",0,"",0,"","",""],[0,1,124,"Select",0,"",0,"","",""],[0,1,125,"Again",0,"",0,"","",""],[0,1,126,"Undo",0,"",0,"","",""],[0,1,127,"Cut",0,"",0,"","",""],[0,1,128,"Copy",0,"",0,"","",""],[0,1,129,"Paste",0,"",0,"","",""],[0,1,130,"Find",0,"",0,"","",""],[0,1,131,"AudioVolumeMute",112,"AudioVolumeMute",173,"VK_VOLUME_MUTE","",""],[0,1,132,"AudioVolumeUp",113,"AudioVolumeUp",175,"VK_VOLUME_UP","",""],[0,1,133,"AudioVolumeDown",114,"AudioVolumeDown",174,"VK_VOLUME_DOWN","",""],[105,1,134,"NumpadComma",105,"NumPad_Separator",108,"VK_SEPARATOR","",""],[110,0,135,"IntlRo",110,"ABNT_C1",193,"VK_ABNT_C1","",""],[0,1,136,"KanaMode",0,"",0,"","",""],[0,0,137,"IntlYen",0,"",0,"","",""],[0,1,138,"Convert",0,"",0,"","",""],[0,1,139,"NonConvert",0,"",0,"","",""],[0,1,140,"Lang1",0,"",0,"","",""],[0,1,141,"Lang2",0,"",0,"","",""],[0,1,142,"Lang3",0,"",0,"","",""],[0,1,143,"Lang4",0,"",0,"","",""],[0,1,144,"Lang5",0,"",0,"","",""],[0,1,145,"Abort",0,"",0,"","",""],[0,1,146,"Props",0,"",0,"","",""],[0,1,147,"NumpadParenLeft",0,"",0,"","",""],[0,1,148,"NumpadParenRight",0,"",0,"","",""],[0,1,149,"NumpadBackspace",0,"",0,"","",""],[0,1,150,"NumpadMemoryStore",0,"",0,"","",""],[0,1,151,"NumpadMemoryRecall",0,"",0,"","",""],[0,1,152,"NumpadMemoryClear",0,"",0,"","",""],[0,1,153,"NumpadMemoryAdd",0,"",0,"","",""],[0,1,154,"NumpadMemorySubtract",0,"",0,"","",""],[0,1,155,"NumpadClear",0,"",0,"","",""],[0,1,156,"NumpadClearEntry",0,"",0,"","",""],[5,1,0,"",5,"Ctrl",17,"VK_CONTROL","",""],[4,1,0,"",4,"Shift",16,"VK_SHIFT","",""],[6,1,0,"",6,"Alt",18,"VK_MENU","",""],[57,1,0,"",57,"Meta",0,"VK_COMMAND","",""],[5,1,157,"ControlLeft",5,"",0,"VK_LCONTROL","",""],[4,1,158,"ShiftLeft",4,"",0,"VK_LSHIFT","",""],[6,1,159,"AltLeft",6,"",0,"VK_LMENU","",""],[57,1,160,"MetaLeft",57,"",0,"VK_LWIN","",""],[5,1,161,"ControlRight",5,"",0,"VK_RCONTROL","",""],[4,1,162,"ShiftRight",4,"",0,"VK_RSHIFT","",""],[6,1,163,"AltRight",6,"",0,"VK_RMENU","",""],[57,1,164,"MetaRight",57,"",0,"VK_RWIN","",""],[0,1,165,"BrightnessUp",0,"",0,"","",""],[0,1,166,"BrightnessDown",0,"",0,"","",""],[0,1,167,"MediaPlay",0,"",0,"","",""],[0,1,168,"MediaRecord",0,"",0,"","",""],[0,1,169,"MediaFastForward",0,"",0,"","",""],[0,1,170,"MediaRewind",0,"",0,"","",""],[114,1,171,"MediaTrackNext",119,"MediaTrackNext",176,"VK_MEDIA_NEXT_TRACK","",""],[115,1,172,"MediaTrackPrevious",120,"MediaTrackPrevious",177,"VK_MEDIA_PREV_TRACK","",""],[116,1,173,"MediaStop",121,"MediaStop",178,"VK_MEDIA_STOP","",""],[0,1,174,"Eject",0,"",0,"","",""],[117,1,175,"MediaPlayPause",122,"MediaPlayPause",179,"VK_MEDIA_PLAY_PAUSE","",""],[0,1,176,"MediaSelect",123,"LaunchMediaPlayer",181,"VK_MEDIA_LAUNCH_MEDIA_SELECT","",""],[0,1,177,"LaunchMail",124,"LaunchMail",180,"VK_MEDIA_LAUNCH_MAIL","",""],[0,1,178,"LaunchApp2",125,"LaunchApp2",183,"VK_MEDIA_LAUNCH_APP2","",""],[0,1,179,"LaunchApp1",0,"",0,"VK_MEDIA_LAUNCH_APP1","",""],[0,1,180,"SelectTask",0,"",0,"","",""],[0,1,181,"LaunchScreenSaver",0,"",0,"","",""],[0,1,182,"BrowserSearch",115,"BrowserSearch",170,"VK_BROWSER_SEARCH","",""],[0,1,183,"BrowserHome",116,"BrowserHome",172,"VK_BROWSER_HOME","",""],[112,1,184,"BrowserBack",117,"BrowserBack",166,"VK_BROWSER_BACK","",""],[113,1,185,"BrowserForward",118,"BrowserForward",167,"VK_BROWSER_FORWARD","",""],[0,1,186,"BrowserStop",0,"",0,"VK_BROWSER_STOP","",""],[0,1,187,"BrowserRefresh",0,"",0,"VK_BROWSER_REFRESH","",""],[0,1,188,"BrowserFavorites",0,"",0,"VK_BROWSER_FAVORITES","",""],[0,1,189,"ZoomToggle",0,"",0,"","",""],[0,1,190,"MailReply",0,"",0,"","",""],[0,1,191,"MailForward",0,"",0,"","",""],[0,1,192,"MailSend",0,"",0,"","",""],[109,1,0,"",109,"KeyInComposition",229,"","",""],[111,1,0,"",111,"ABNT_C2",194,"VK_ABNT_C2","",""],[91,1,0,"",91,"OEM_8",223,"VK_OEM_8","",""],[0,1,0,"",0,"",0,"VK_CLEAR","",""],[0,1,0,"",0,"",0,"VK_KANA","",""],[0,1,0,"",0,"",0,"VK_HANGUL","",""],[0,1,0,"",0,"",0,"VK_JUNJA","",""],[0,1,0,"",0,"",0,"VK_FINAL","",""],[0,1,0,"",0,"",0,"VK_HANJA","",""],[0,1,0,"",0,"",0,"VK_KANJI","",""],[0,1,0,"",0,"",0,"VK_CONVERT","",""],[0,1,0,"",0,"",0,"VK_NONCONVERT","",""],[0,1,0,"",0,"",0,"VK_ACCEPT","",""],[0,1,0,"",0,"",0,"VK_MODECHANGE","",""],[0,1,0,"",0,"",0,"VK_SELECT","",""],[0,1,0,"",0,"",0,"VK_PRINT","",""],[0,1,0,"",0,"",0,"VK_EXECUTE","",""],[0,1,0,"",0,"",0,"VK_SNAPSHOT","",""],[0,1,0,"",0,"",0,"VK_HELP","",""],[0,1,0,"",0,"",0,"VK_APPS","",""],[0,1,0,"",0,"",0,"VK_PROCESSKEY","",""],[0,1,0,"",0,"",0,"VK_PACKET","",""],[0,1,0,"",0,"",0,"VK_DBE_SBCSCHAR","",""],[0,1,0,"",0,"",0,"VK_DBE_DBCSCHAR","",""],[0,1,0,"",0,"",0,"VK_ATTN","",""],[0,1,0,"",0,"",0,"VK_CRSEL","",""],[0,1,0,"",0,"",0,"VK_EXSEL","",""],[0,1,0,"",0,"",0,"VK_EREOF","",""],[0,1,0,"",0,"",0,"VK_PLAY","",""],[0,1,0,"",0,"",0,"VK_ZOOM","",""],[0,1,0,"",0,"",0,"VK_NONAME","",""],[0,1,0,"",0,"",0,"VK_PA1","",""],[0,1,0,"",0,"",0,"VK_OEM_CLEAR","",""]]){const[,n,p,f,m,v,b,_,w,C]=i;if(t[p]||(t[p]=!0,c[p]=f,d[f]=p,h[f.toLowerCase()]=p,n&&0!==(u[p]=m)&&3!==m&&5!==m&&4!==m&&6!==m&&57!==m&&(g[m]=p)),!e[m]){if(e[m]=!0,!v)throw new Error(`String representation missing for key code ${m} around scan code ${f}`);o.define(m,v),r.define(m,w||v),s.define(m,C||w||v)}b&&(a[b]=m),_&&(l[_]=m)}g[3]=46}(),(t=p=p||{}).toString=function(e){return o.keyCodeToStr(e)},t.fromString=function(e){return o.strToKeyCode(e)},t.toUserSettingsUS=function(e){return r.keyCodeToStr(e)},t.toUserSettingsGeneral=function(e){return s.keyCodeToStr(e)},t.fromUserSettings=function(e){return r.strToKeyCode(e)||s.strToKeyCode(e)},t.toElectronAccelerator=function(e){if(93<=e&&e<=108)return null;switch(e){case 16:return"Up";case 18:return"Down";case 15:return"Left";case 17:return"Right"}return o.keyCodeToStr(e)}},function(e,t,i){"use strict";i.d(t,"i",(function(){return m})),i.d(t,"e",(function(){return v})),i.d(t,"d",(function(){return b})),i.d(t,"g",(function(){return _})),i.d(t,"f",(function(){return w})),i.d(t,"b",(function(){return C})),i.d(t,"a",(function(){return y})),i.d(t,"c",(function(){return x})),i.d(t,"h",(function(){return S}));var n=i(15);let o;if(void 0!==n.b.vscode&&void 0!==n.b.vscode.process){const e=n.b.vscode.process;o={get platform(){return e.platform},get arch(){return e.arch},get env(){return e.env},cwd:()=>e.cwd(),nextTick:e=>Object(n.j)(e)}}else o="undefined"!=typeof process?{get platform(){return process.platform},get arch(){return process.arch},get env(){return process.env},cwd:()=>process.env.VSCODE_CWD||process.cwd(),nextTick:e=>process.nextTick(e)}:{get platform(){return n.i?"win32":n.f?"darwin":"linux"},get arch(){},nextTick:e=>Object(n.j)(e),get env(){return{}},cwd:()=>"/"};const r=o.cwd,s=o.env;i=o.platform;const a=47,l=92;class c extends Error{constructor(e,t,i){let n;"string"==typeof t&&0===t.indexOf("not ")?(n="must not be",t=t.replace(/^not /,"")):n="must be";var o=-1!==e.indexOf(".")?"property":"argument";t=`The "${e}" ${o} ${n} of type ${t}`;super(t+=". Received type "+typeof i),this.code="ERR_INVALID_ARG_TYPE"}}function d(e,t){if("string"!=typeof e)throw new c(t,"string",e)}function h(e){return e===a||e===l}function u(e){return e===a}function g(e){return e>=65&&e<=90||e>=97&&e<=122}function p(e,t,i,n){let o="",r=0,s=-1,l=0,c=0;for(let h=0;h<=e.length;++h){if(h<e.length)c=e.charCodeAt(h);else{if(n(c))break;c=a}if(n(c)){if(s!==h-1&&1!==l)if(2===l){if(o.length<2||2!==r||46!==o.charCodeAt(o.length-1)||46!==o.charCodeAt(o.length-2)){if(2<o.length){var d=o.lastIndexOf(i);r=-1===d?(o="",0):(o=o.slice(0,d),o.length-1-o.lastIndexOf(i)),s=h,l=0;continue}if(0!==o.length){o="",r=0,s=h,l=0;continue}}t&&(o+=0<o.length?i+"..":"..",r=2)}else 0<o.length?o+=`${i}${e.slice(s+1,h)}`:o=e.slice(s+1,h),r=h-s-1;s=h,l=0}else 46===c&&-1!==l?++l:l=-1}return o}function f(e,t){if(null===t||"object"!=typeof t)throw new c("pathObject","Object",t);var i=t.dir||t.root,n=t.base||`${t.name||""}${t.ext||""}`;return i?i===t.root?`${i}${n}`:`${i}${e}${n}`:n}const m={resolve(...e){let t="",i="",n=!1;for(let u=e.length-1;-1<=u;u--){let p;if(0<=u){if(p=e[u],d(p,"path"),0===p.length)continue}else 0===t.length?p=r():(p=s["="+t]||r(),(void 0===p||p.slice(0,2).toLowerCase()!==t.toLowerCase()&&p.charCodeAt(2)===l)&&(p=t+"\\"));var o=p.length;let f=0,m="",v=!1;var a=p.charCodeAt(0);if(1===o)h(a)&&(f=1,v=!0);else if(h(a))if(v=!0,h(p.charCodeAt(1))){let e=2,t=e;for(;e<o&&!h(p.charCodeAt(e));)e++;if(e<o&&e!==t){var c=p.slice(t,e);for(t=e;e<o&&h(p.charCodeAt(e));)e++;if(e<o&&e!==t){for(t=e;e<o&&!h(p.charCodeAt(e));)e++;e!==o&&e===t||(m=`\\\\${c}\\${p.slice(t,e)}`,f=e)}}}else f=1;else g(a)&&58===p.charCodeAt(1)&&(m=p.slice(0,2),(f=2)<o&&h(p.charCodeAt(2))&&(v=!0,f=3));if(0<m.length)if(0<t.length){if(m.toLowerCase()!==t.toLowerCase())continue}else t=m;if(n){if(0<t.length)break}else if(i=`${p.slice(f)}\\${i}`,n=v,v&&0<t.length)break}return i=p(i,!n,"\\",h),n?`${t}\\${i}`:`${t}${i}`||"."},normalize(e){d(e,"path");var t=e.length;if(0===t)return".";let i,n=0,o=!1;var r=e.charCodeAt(0);if(1===t)return u(r)?"\\":e;if(h(r))if(o=!0,h(e.charCodeAt(1))){let o=2,r=o;for(;o<t&&!h(e.charCodeAt(o));)o++;if(o<t&&o!==r){var s=e.slice(r,o);for(r=o;o<t&&h(e.charCodeAt(o));)o++;if(o<t&&o!==r){for(r=o;o<t&&!h(e.charCodeAt(o));)o++;if(o===t)return`\\\\${s}\\${e.slice(r)}\\`;o!==r&&(i=`\\\\${s}\\${e.slice(r,o)}`,n=o)}}}else n=1;else g(r)&&58===e.charCodeAt(1)&&(i=e.slice(0,2),(n=2)<t&&h(e.charCodeAt(2))&&(o=!0,n=3));let a=n<t?p(e.slice(n),!o,"\\",h):"";return 0!==a.length||o||(a="."),0<a.length&&h(e.charCodeAt(t-1))&&(a+="\\"),void 0===i?o?"\\"+a:a:o?`${i}\\${a}`:`${i}${a}`},isAbsolute(e){d(e,"path");var t=e.length;if(0===t)return!1;var i=e.charCodeAt(0);return h(i)||2<t&&g(i)&&58===e.charCodeAt(1)&&h(e.charCodeAt(2))},join(...e){if(0===e.length)return".";let t,i;for(let o=0;o<e.length;++o){var n=e[o];d(n,"path"),0<n.length&&(void 0===t?t=i=n:t+="\\"+n)}if(void 0===t)return".";let o=!0,r=0;var s;if("string"==typeof i&&h(i.charCodeAt(0))&&(++r,1<(s=i.length)&&h(i.charCodeAt(1))&&(++r,2<s&&(h(i.charCodeAt(2))?++r:o=!1))),o){for(;r<t.length&&h(t.charCodeAt(r));)r++;2<=r&&(t="\\"+t.slice(r))}return m.normalize(t)},relative(e,t){if(d(e,"from"),d(t,"to"),e===t)return"";const i=m.resolve(e),n=m.resolve(t);if(i===n)return"";if((e=i.toLowerCase())===(t=n.toLowerCase()))return"";let o=0;for(;o<e.length&&e.charCodeAt(o)===l;)o++;let r=e.length;for(;r-1>o&&e.charCodeAt(r-1)===l;)r--;var s=r-o;let a=0;for(;a<t.length&&t.charCodeAt(a)===l;)a++;let c=t.length;for(;c-1>a&&t.charCodeAt(c-1)===l;)c--;var h=c-a,u=s<h?s:h;let g=-1,p=0;for(;p<u;p++){var f=e.charCodeAt(o+p);if(f!==t.charCodeAt(a+p))break;f===l&&(g=p)}if(p!==u){if(-1===g)return n}else{if(u<h){if(t.charCodeAt(a+p)===l)return n.slice(a+p+1);if(2===p)return n.slice(a+p)}u<s&&(e.charCodeAt(o+p)===l?g=p:2===p&&(g=3)),-1===g&&(g=0)}let v="";for(p=o+g+1;p<=r;++p)p!==r&&e.charCodeAt(p)!==l||(v+=0===v.length?"..":"\\..");return a+=g,0<v.length?`${v}${n.slice(a,c)}`:(n.charCodeAt(a)===l&&++a,n.slice(a,c))},toNamespacedPath(e){if("string"!=typeof e)return e;if(0===e.length)return"";const t=m.resolve(e);if(t.length<=2)return e;if(t.charCodeAt(0)===l){if(t.charCodeAt(1)===l){var i=t.charCodeAt(2);if(63!==i&&46!==i)return"\\\\?\\UNC\\"+t.slice(2)}}else if(g(t.charCodeAt(0))&&58===t.charCodeAt(1)&&t.charCodeAt(2)===l)return"\\\\?\\"+t;return e},dirname(e){d(e,"path");var t=e.length;if(0===t)return".";let i=-1,n=0;var o=e.charCodeAt(0);if(1===t)return h(o)?e:".";if(h(o)){if(i=n=1,h(e.charCodeAt(1))){let o=2,r=o;for(;o<t&&!h(e.charCodeAt(o));)o++;if(o<t&&o!==r){for(r=o;o<t&&h(e.charCodeAt(o));)o++;if(o<t&&o!==r){for(r=o;o<t&&!h(e.charCodeAt(o));)o++;if(o===t)return e;o!==r&&(i=n=o+1)}}}}else g(o)&&58===e.charCodeAt(1)&&(i=2<t&&h(e.charCodeAt(2))?3:2,n=i);let r=-1,s=!0;for(let i=t-1;i>=n;--i)if(h(e.charCodeAt(i))){if(!s){r=i;break}}else s=!1;if(-1===r){if(-1===i)return".";r=i}return e.slice(0,r)},basename(e,t){void 0!==t&&d(t,"ext"),d(e,"path");let i,n=0,o=-1,r=!0;if(2<=e.length&&g(e.charCodeAt(0))&&58===e.charCodeAt(1)&&(n=2),void 0!==t&&0<t.length&&t.length<=e.length){if(t===e)return"";let a=t.length-1,l=-1;for(i=e.length-1;i>=n;--i){var s=e.charCodeAt(i);if(h(s)){if(!r){n=i+1;break}}else-1===l&&(r=!1,l=i+1),0<=a&&(s===t.charCodeAt(a)?-1==--a&&(o=i):(a=-1,o=l))}return n===o?o=l:-1===o&&(o=e.length),e.slice(n,o)}for(i=e.length-1;i>=n;--i)if(h(e.charCodeAt(i))){if(!r){n=i+1;break}}else-1===o&&(r=!1,o=i+1);return-1===o?"":e.slice(n,o)},extname(e){d(e,"path");let t=0,i=-1,n=0,o=-1,r=!0,s=0;2<=e.length&&58===e.charCodeAt(1)&&g(e.charCodeAt(0))&&(t=n=2);for(let l=e.length-1;l>=t;--l){var a=e.charCodeAt(l);if(h(a)){if(r)continue;n=l+1;break}-1===o&&(r=!1,o=l+1),46===a?-1===i?i=l:1!==s&&(s=1):-1!==i&&(s=-1)}return-1===i||-1===o||0===s||1===s&&i===o-1&&i===n+1?"":e.slice(i,o)},format:f.bind(null,"\\"),parse(e){d(e,"path");const t={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return t;var i=e.length;let n=0,o=e.charCodeAt(0);if(1===i)return h(o)?t.root=t.dir=e:t.base=t.name=e,t;if(h(o)){if(n=1,h(e.charCodeAt(1))){let t=2,o=t;for(;t<i&&!h(e.charCodeAt(t));)t++;if(t<i&&t!==o){for(o=t;t<i&&h(e.charCodeAt(t));)t++;if(t<i&&t!==o){for(o=t;t<i&&!h(e.charCodeAt(t));)t++;t===i?n=t:t!==o&&(n=t+1)}}}}else if(g(o)&&58===e.charCodeAt(1)){if(i<=2)return t.root=t.dir=e,t;if(n=2,h(e.charCodeAt(2))){if(3===i)return t.root=t.dir=e,t;n=3}}0<n&&(t.root=e.slice(0,n));let r=-1,s=n,a=-1,l=!0,c=e.length-1,u=0;for(;c>=n;--c){if(o=e.charCodeAt(c),h(o)){if(l)continue;s=c+1;break}-1===a&&(l=!1,a=c+1),46===o?-1===r?r=c:1!==u&&(u=1):-1!==r&&(u=-1)}return-1!==a&&(-1===r||0===u||1===u&&r===a-1&&r===s+1?t.base=t.name=e.slice(s,a):(t.name=e.slice(s,r),t.base=e.slice(s,a),t.ext=e.slice(r,a))),t.dir=0<s&&s!==n?e.slice(0,s-1):t.root,t},sep:"\\",delimiter:";",win32:null,posix:null},v={resolve(...e){let t="",i=!1;for(let n=e.length-1;-1<=n&&!i;n--){const o=0<=n?e[n]:r();d(o,"path"),0!==o.length&&(t=`${o}/${t}`,i=o.charCodeAt(0)===a)}return t=p(t,!i,"/",u),i?"/"+t:0<t.length?t:"."},normalize(e){if(d(e,"path"),0===e.length)return".";var t=e.charCodeAt(0)===a,i=e.charCodeAt(e.length-1)===a;return 0===(e=p(e,!t,"/",u)).length?t?"/":i?"./":".":(i&&(e+="/"),t?"/"+e:e)},isAbsolute:e=>(d(e,"path"),0<e.length&&e.charCodeAt(0)===a),join(...e){if(0===e.length)return".";let t;for(let n=0;n<e.length;++n){var i=e[n];d(i,"path"),0<i.length&&(void 0===t?t=i:t+="/"+i)}return void 0===t?".":v.normalize(t)},relative(e,t){if(d(e,"from"),d(t,"to"),e===t)return"";if((e=v.resolve(e))===(t=v.resolve(t)))return"";var i=e.length,n=i-1,o=t.length-1,r=n<o?n:o;let s=-1,l=0;for(;l<r;l++){var c=e.charCodeAt(1+l);if(c!==t.charCodeAt(1+l))break;c===a&&(s=l)}if(l===r)if(r<o){if(t.charCodeAt(1+l)===a)return t.slice(1+l+1);if(0===l)return t.slice(1+l)}else r<n&&(e.charCodeAt(1+l)===a?s=l:0===l&&(s=0));let h="";for(l=1+s+1;l<=i;++l)l!==i&&e.charCodeAt(l)!==a||(h+=0===h.length?"..":"/..");return`${h}${t.slice(1+s)}`},toNamespacedPath:e=>e,dirname(e){if(d(e,"path"),0===e.length)return".";var t=e.charCodeAt(0)===a;let i=-1,n=!0;for(let t=e.length-1;1<=t;--t)if(e.charCodeAt(t)===a){if(!n){i=t;break}}else n=!1;return-1===i?t?"/":".":t&&1===i?"//":e.slice(0,i)},basename(e,t){void 0!==t&&d(t,"ext"),d(e,"path");let i,n=0,o=-1,r=!0;if(void 0!==t&&0<t.length&&t.length<=e.length){if(t===e)return"";let l=t.length-1,c=-1;for(i=e.length-1;0<=i;--i){var s=e.charCodeAt(i);if(s===a){if(!r){n=i+1;break}}else-1===c&&(r=!1,c=i+1),0<=l&&(s===t.charCodeAt(l)?-1==--l&&(o=i):(l=-1,o=c))}return n===o?o=c:-1===o&&(o=e.length),e.slice(n,o)}for(i=e.length-1;0<=i;--i)if(e.charCodeAt(i)===a){if(!r){n=i+1;break}}else-1===o&&(r=!1,o=i+1);return-1===o?"":e.slice(n,o)},extname(e){d(e,"path");let t=-1,i=0,n=-1,o=!0,r=0;for(let l=e.length-1;0<=l;--l){var s=e.charCodeAt(l);if(s===a){if(o)continue;i=l+1;break}-1===n&&(o=!1,n=l+1),46===s?-1===t?t=l:1!==r&&(r=1):-1!==t&&(r=-1)}return-1===t||-1===n||0===r||1===r&&t===n-1&&t===i+1?"":e.slice(t,n)},format:f.bind(null,"/"),parse(e){d(e,"path");const t={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return t;var i=e.charCodeAt(0)===a;let n;n=i?(t.root="/",1):0;let o=-1,r=0,s=-1,l=!0,c=e.length-1,h=0;for(;c>=n;--c){var u=e.charCodeAt(c);if(u===a){if(l)continue;r=c+1;break}-1===s&&(l=!1,s=c+1),46===u?-1===o?o=c:1!==h&&(h=1):-1!==o&&(h=-1)}if(-1!==s){const n=0===r&&i?1:r;-1===o||0===h||1===h&&o===s-1&&o===r+1?t.base=t.name=e.slice(n,s):(t.name=e.slice(n,o),t.base=e.slice(n,s),t.ext=e.slice(o,s))}return 0<r?t.dir=e.slice(0,r-1):i&&(t.dir="/"),t},sep:"/",delimiter:":",win32:null,posix:null};v.win32=m.win32=m,v.posix=m.posix=v;const b=("win32"===i?m:v).normalize,_=("win32"===i?m:v).resolve,w=("win32"===i?m:v).relative,C=("win32"===i?m:v).dirname,y=("win32"===i?m:v).basename,x=("win32"===i?m:v).extname,S=("win32"===i?m:v).sep},function(e,t,i){"use strict";i.d(t,"b",(function(){return d})),i.d(t,"a",(function(){return h})),i.d(t,"c",(function(){return u}));var n=i(1),o=i(15);t=i(398);let r,s,a,l,c;function d(e){r=document.createElement("div"),r.className="monaco-aria-container";var t=()=>{const e=document.createElement("div");return e.className="monaco-alert",e.setAttribute("role","alert"),e.setAttribute("aria-atomic","true"),r.appendChild(e),e};s=t(),a=t(),l=(t=()=>{const e=document.createElement("div");return e.className="monaco-status",e.setAttribute("role","complementary"),e.setAttribute("aria-live","polite"),e.setAttribute("aria-atomic","true"),r.appendChild(e),e})(),c=t(),e.appendChild(r)}function h(e){r&&(s.textContent!==e?(n.t(a),g(s,e)):(n.t(s),g(a,e)))}function u(e){r&&(o.f?h(e):l.textContent!==e?(n.t(c),g(l,e)):(n.t(l),g(c,e)))}function g(e,t){n.t(e),t.length>2e4&&(t=t.substr(0,2e4)),e.textContent=t,e.style.visibility="hidden",e.style.visibility="visible"}},function(e,t,i){"use strict";i.d(t,"c",(function(){return h})),i.d(t,"b",(function(){return g})),i.d(t,"a",(function(){return f}));var n,o,r=i(9);class s{constructor(){this._value="",this._pos=0}reset(e){return this._value=e,this._pos=0,this}next(){return this._pos+=1,this}hasNext(){return this._pos<this._value.length-1}cmp(e){return e.charCodeAt(0)-this._value.charCodeAt(this._pos)}value(){return this._value[this._pos]}}class a{constructor(e=!0){this._caseSensitive=e}reset(e){return this._value=e,this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let e=!0;for(;this._to<this._value.length;this._to++)if(46===this._value.charCodeAt(this._to)){if(!e)break;this._from++}else e=!1;return this}cmp(e){return(this._caseSensitive?Object(r.h):Object(r.i))(e,this._value,0,e.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}class l{constructor(e=!0,t=!0){this._splitOnBackslash=e,this._caseSensitive=t}reset(e){return this._value=e.replace(/\\$|\/$/,""),this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let e=!0;for(;this._to<this._value.length;this._to++){var t=this._value.charCodeAt(this._to);if(47===t||this._splitOnBackslash&&92===t){if(!e)break;this._from++}else e=!1}return this}cmp(e){return(this._caseSensitive?Object(r.h):Object(r.i))(e,this._value,0,e.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}class c{constructor(e){this._ignorePathCasing=e,this._states=[],this._stateIdx=0}reset(e){return this._value=e,this._states=[],this._value.scheme&&this._states.push(1),this._value.authority&&this._states.push(2),this._value.path&&(this._pathIterator=new l(!1,!this._ignorePathCasing(e)),this._pathIterator.reset(e.path),this._pathIterator.value()&&this._states.push(3)),this._value.query&&this._states.push(4),this._value.fragment&&this._states.push(5),this._stateIdx=0,this}next(){return 3===this._states[this._stateIdx]&&this._pathIterator.hasNext()?this._pathIterator.next():this._stateIdx+=1,this}hasNext(){return 3===this._states[this._stateIdx]&&this._pathIterator.hasNext()||this._stateIdx<this._states.length-1}cmp(e){if(1===this._states[this._stateIdx])return Object(r.g)(e,this._value.scheme);if(2===this._states[this._stateIdx])return Object(r.g)(e,this._value.authority);if(3===this._states[this._stateIdx])return this._pathIterator.cmp(e);if(4===this._states[this._stateIdx])return Object(r.f)(e,this._value.query);if(5===this._states[this._stateIdx])return Object(r.f)(e,this._value.fragment);throw new Error}value(){if(1===this._states[this._stateIdx])return this._value.scheme;if(2===this._states[this._stateIdx])return this._value.authority;if(3===this._states[this._stateIdx])return this._pathIterator.value();if(4===this._states[this._stateIdx])return this._value.query;if(5===this._states[this._stateIdx])return this._value.fragment;throw new Error}}class d{constructor(){this.height=1}rotateLeft(){const e=this.right;return this.right=e.left,(e.left=this).updateHeight(),e.updateHeight(),e}rotateRight(){const e=this.left;return this.left=e.right,(e.right=this).updateHeight(),e.updateHeight(),e}updateHeight(){this.height=1+Math.max(this.heightLeft,this.heightRight)}balanceFactor(){return this.heightRight-this.heightLeft}get heightLeft(){var e;return null!==(e=null===(e=this.left)||void 0===e?void 0:e.height)&&void 0!==e?e:0}get heightRight(){var e;return null!==(e=null===(e=this.right)||void 0===e?void 0:e.height)&&void 0!==e?e:0}}class h{constructor(e){this._iter=e}static forUris(e=(()=>!1)){return new h(new c(e))}static forStrings(){return new h(new s)}static forConfigKeys(){return new h(new a)}clear(){this._root=void 0}set(e,t){const i=this._iter.reset(e);let n;this._root||(this._root=new d,this._root.segment=i.value());const o=[];for(n=this._root;;){var r=i.cmp(n.segment);if(0<r)n.left||(n.left=new d,n.left.segment=i.value()),o.push([-1,n]),n=n.left;else if(r<0)n.right||(n.right=new d,n.right.segment=i.value()),o.push([1,n]),n=n.right;else{if(!i.hasNext())break;i.next(),n.mid||(n.mid=new d,n.mid.segment=i.value()),o.push([0,n]),n=n.mid}}var s=n.value;n.value=t,n.key=e;for(let e=o.length-1;0<=e;e--){const t=o[e][1];if(t.updateHeight(),(l=t.balanceFactor())<-1||1<l){var a=o[e][0],l=o[e+1][0];if(1===a&&1===l)o[e][1]=t.rotateLeft();else if(-1===a&&-1===l)o[e][1]=t.rotateRight();else if(1===a&&-1===l)t.right=o[e+1][1]=o[e+1][1].rotateRight(),o[e][1]=t.rotateLeft();else{if(-1!==a||1!==l)throw new Error;t.left=o[e+1][1]=o[e+1][1].rotateLeft(),o[e][1]=t.rotateRight()}if(0<e)switch(o[e-1][0]){case-1:o[e-1][1].left=o[e][1];break;case 1:o[e-1][1].right=o[e][1];break;case 0:o[e-1][1].mid=o[e][1]}else this._root=o[0][1]}}return s}get(e){return null===(e=this._getNode(e))||void 0===e?void 0:e.value}_getNode(e){const t=this._iter.reset(e);let i=this._root;for(;i;){var n=t.cmp(i.segment);if(0<n)i=i.left;else if(n<0)i=i.right;else{if(!t.hasNext())break;t.next(),i=i.mid}}return i}has(e){return!(void 0===(null==(e=this._getNode(e))?void 0:e.value)&&void 0===(null==e?void 0:e.mid))}delete(e){return this._delete(e,!1)}deleteSuperstr(e){return this._delete(e,!0)}_delete(e,t){const i=this._iter.reset(e),n=[];let o=this._root;for(;o;){var r=i.cmp(o.segment);if(0<r)n.push([-1,o]),o=o.left;else if(r<0)n.push([1,o]),o=o.right;else{if(!i.hasNext())break;i.next(),n.push([0,o]),o=o.mid}}if(o){if(t?(o.left=void 0,o.mid=void 0,o.right=void 0,o.height=1):(o.key=void 0,o.value=void 0),!o.mid&&!o.value)if(o.left&&o.right){var s=this._min(o.right);const{key:e,value:t,segment:i}=s;this._delete(s.key,!1),o.key=e,o.value=t,o.segment=i}else{var a=null!==(s=o.left)&&void 0!==s?s:o.right;if(0<n.length){const[e,t]=n[n.length-1];switch(e){case-1:t.left=a;break;case 0:t.mid=a;break;case 1:t.right=a}}else this._root=a}for(let e=n.length-1;0<=e;e--){const t=n[e][1];t.updateHeight();var l=t.balanceFactor();if(1<l?(0<=t.right.balanceFactor()||(t.right=n[e+1][1]=n[e+1][1].rotateRight()),n[e][1]=t.rotateLeft()):l<-1&&(t.left.balanceFactor()<=0||(t.left=n[e+1][1]=n[e+1][1].rotateLeft()),n[e][1]=t.rotateRight()),0<e)switch(n[e-1][0]){case-1:n[e-1][1].left=n[e][1];break;case 1:n[e-1][1].right=n[e][1];break;case 0:n[e-1][1].mid=n[e][1]}else this._root=n[0][1]}}}_min(e){for(;e.left;)e=e.left;return e}findSubstr(e){const t=this._iter.reset(e);let i=this._root,n=void 0;for(;i;){var o=t.cmp(i.segment);if(0<o)i=i.left;else if(o<0)i=i.right;else{if(!t.hasNext())break;t.next(),n=i.value||n,i=i.mid}}return i&&i.value||n}findSuperstr(e){const t=this._iter.reset(e);let i=this._root;for(;i;){var n=t.cmp(i.segment);if(0<n)i=i.left;else if(n<0)i=i.right;else{if(!t.hasNext())return i.mid?this._entries(i.mid):void 0;t.next(),i=i.mid}}}forEach(e){for(var[t,i]of this)e(i,t)}*[Symbol.iterator](){yield*this._entries(this._root)}*_entries(e){e&&(e.left&&(yield*this._entries(e.left)),e.value&&(yield[e.key,e.value]),e.mid&&(yield*this._entries(e.mid)),e.right&&(yield*this._entries(e.right)))}}class u{constructor(e,t){this.uri=e,this.value=t}}class g{constructor(e,t){this[n]="ResourceMap",e instanceof g?(this.map=new Map(e.map),this.toKey=null!=t?t:g.defaultToKey):(this.map=new Map,this.toKey=null!=e?e:g.defaultToKey)}set(e,t){return this.map.set(this.toKey(e),new u(e,t)),this}get(e){return null===(e=this.map.get(this.toKey(e)))||void 0===e?void 0:e.value}has(e){return this.map.has(this.toKey(e))}get size(){return this.map.size}clear(){this.map.clear()}delete(e){return this.map.delete(this.toKey(e))}forEach(e,t){for(var[i,n]of(void 0!==t&&(e=e.bind(t)),this.map))e(n.value,n.uri,this)}*values(){for(var e of this.map.values())yield e.value}*keys(){for(var e of this.map.values())yield e.uri}*entries(){for(var e of this.map.values())yield[e.uri,e.value]}*[(n=Symbol.toStringTag,Symbol.iterator)](){for(var[,e]of this.map)yield[e.uri,e.value]}}g.defaultToKey=e=>e.toString();class p{constructor(){this[o]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var e;return null===(e=this._head)||void 0===e?void 0:e.value}get last(){var e;return null===(e=this._tail)||void 0===e?void 0:e.value}has(e){return this._map.has(e)}get(e,t=0){if(e=this._map.get(e))return 0!==t&&this.touch(e,t),e.value}set(e,t,i=0){let n=this._map.get(e);if(n)n.value=t,0!==i&&this.touch(n,i);else{switch(n={key:e,value:t,next:void 0,previous:void 0},i){case 0:this.addItemLast(n);break;case 1:this.addItemFirst(n);break;default:this.addItemLast(n)}this._map.set(e,n),this._size++}return this}delete(e){return!!this.remove(e)}remove(e){var t=this._map.get(e);if(t)return this._map.delete(e),this.removeItem(t),this._size--,t.value}shift(){if(this._head||this._tail){if(!this._head||!this._tail)throw new Error("Invalid list");var e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}}forEach(e,t){var i=this._state;let n=this._head;for(;n;){if((t?e.bind(t):e)(n.value,n.key,this),this._state!==i)throw new Error("LinkedMap got modified during iteration.");n=n.next}}keys(){const e=this,t=this._state;let i=this._head;const n={[Symbol.iterator]:()=>n,next(){if(e._state!==t)throw new Error("LinkedMap got modified during iteration.");if(i){var n={value:i.key,done:!1};return i=i.next,n}return{value:void 0,done:!0}}};return n}values(){const e=this,t=this._state;let i=this._head;const n={[Symbol.iterator]:()=>n,next(){if(e._state!==t)throw new Error("LinkedMap got modified during iteration.");if(i){var n={value:i.value,done:!1};return i=i.next,n}return{value:void 0,done:!0}}};return n}entries(){const e=this,t=this._state;let i=this._head;const n={[Symbol.iterator]:()=>n,next(){if(e._state!==t)throw new Error("LinkedMap got modified during iteration.");if(i){var n={value:[i.key,i.value],done:!1};return i=i.next,n}return{value:void 0,done:!0}}};return n}[(o=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(e){if(!(e>=this.size))if(0!==e){let t=this._head,i=this.size;for(;t&&i>e;)this._map.delete(t.key),t=t.next,i--;this._head=t,this._size=i,t&&(t.previous=void 0),this._state++}else this.clear()}addItemFirst(e){if(this._head||this._tail){if(!this._head)throw new Error("Invalid list");e.next=this._head,this._head.previous=e}else this._tail=e;this._head=e,this._state++}addItemLast(e){if(this._head||this._tail){if(!this._tail)throw new Error("Invalid list");e.previous=this._tail,this._tail.next=e}else this._head=e;this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{const t=e.next,i=e.previous;if(!t||!i)throw new Error("Invalid list");t.previous=i,i.next=t}e.next=void 0,e.previous=void 0,this._state++}touch(e,t){if(!this._head||!this._tail)throw new Error("Invalid list");if(1===t||2===t)if(1===t){if(e!==this._head){const t=e.next,i=e.previous;e===this._tail?(i.next=void 0,this._tail=i):(t.previous=i,i.next=t),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}}else if(2===t&&e!==this._tail){const t=e.next,i=e.previous;e===this._head?(t.previous=void 0,this._head=t):(t.previous=i,i.next=t),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}toJSON(){const e=[];return this.forEach((t,i)=>{e.push([i,t])}),e}fromJSON(e){for(var[t,i]of(this.clear(),e))this.set(t,i)}}class f extends p{constructor(e,t=1){super(),this._limit=e,this._ratio=Math.min(Math.max(0,t),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get(e,t=2){return super.get(e,t)}peek(e){return super.get(e,0)}set(e,t){return super.set(e,t,2),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}}},function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var n=i(3);class o{static insert(e,t){return{range:new n.a(e.lineNumber,e.column,e.lineNumber,e.column),text:t,forceMoveMarkers:!0}}static delete(e){return{range:e,text:null}}static replace(e,t){return{range:e,text:t}}static replaceMove(e,t){return{range:e,text:t,forceMoveMarkers:!0}}}},function(e,t,i){"use strict";i.d(t,"c",(function(){return n})),i.d(t,"a",(function(){return o})),i.d(t,"b",(function(){return a}));var n,o,r=i(79),s=i(0);t=i(21);(i=n=n||{})[i.Hint=1]="Hint",i[i.Info=2]="Info",i[i.Warning=4]="Warning",i[i.Error=8]="错误",function(e){e.compare=function(e,t){return t-e};const t=Object.create(null);t[e.Error]=Object(s.a)("sev.error","错误"),t[e.Warning]=Object(s.a)("sev.warning","Warning"),t[e.Info]=Object(s.a)("sev.info","Info"),e.toString=function(e){return t[e]||""},e.fromSeverity=function(t){switch(t){case r.a.Error:return e.Error;case r.a.Warning:return e.Warning;case r.a.Info:return e.Info;case r.a.Ignore:return e.Hint}},e.toSeverity=function(t){switch(t){case e.Error:return r.a.Error;case e.Warning:return r.a.Warning;case e.Info:return r.a.Info;case e.Hint:return r.a.Ignore}}}(n=n||{}),function(e){const t="";function i(e,i){let o=[t];return e.source?o.push(e.source.replace("¦","\\¦")):o.push(t),e.code?"string"==typeof e.code?o.push(e.code.replace("¦","\\¦")):o.push(e.code.value.replace("¦","\\¦")):o.push(t),void 0!==e.severity&&null!==e.severity?o.push(n.toString(e.severity)):o.push(t),e.message&&i?o.push(e.message.replace("¦","\\¦")):o.push(t),void 0!==e.startLineNumber&&null!==e.startLineNumber?o.push(e.startLineNumber.toString()):o.push(t),void 0!==e.startColumn&&null!==e.startColumn?o.push(e.startColumn.toString()):o.push(t),void 0!==e.endLineNumber&&null!==e.endLineNumber?o.push(e.endLineNumber.toString()):o.push(t),void 0!==e.endColumn&&null!==e.endColumn?o.push(e.endColumn.toString()):o.push(t),o.push(t),o.join("¦")}e.makeKey=function(e){return i(e,!0)},e.makeKeyOptionalMessage=i}(o=o||{});const a=Object(t.c)("markerService")},function(e,t,i){"use strict";i.d(t,"a",(function(){return o})),i.d(t,"c",(function(){return r})),i.d(t,"e",(function(){return s})),i.d(t,"d",(function(){return a})),i.d(t,"b",(function(){return l}));var n=i(29);class o{constructor(e,t,i=!1){this._range=e,this._text=t,this.insertsAutoWhitespace=i}getEditOperations(e,t){t.addTrackedEditOperation(this._range,this._text)}computeCursorState(e,t){return t=t.getInverseEditOperations()[0].range,new n.a(t.endLineNumber,t.endColumn,t.endLineNumber,t.endColumn)}}class r{constructor(e,t){this._range=e,this._text=t}getEditOperations(e,t){t.addTrackedEditOperation(this._range,this._text)}computeCursorState(e,t){return t=t.getInverseEditOperations()[0].range,new n.a(t.startLineNumber,t.startColumn,t.endLineNumber,t.endColumn)}}class s{constructor(e,t,i=!1){this._range=e,this._text=t,this.insertsAutoWhitespace=i}getEditOperations(e,t){t.addTrackedEditOperation(this._range,this._text)}computeCursorState(e,t){return t=t.getInverseEditOperations()[0].range,new n.a(t.startLineNumber,t.startColumn,t.startLineNumber,t.startColumn)}}class a{constructor(e,t,i,n,o=!1){this._range=e,this._text=t,this._columnDeltaOffset=n,this._lineNumberDeltaOffset=i,this.insertsAutoWhitespace=o}getEditOperations(e,t){t.addTrackedEditOperation(this._range,this._text)}computeCursorState(e,t){return t=t.getInverseEditOperations()[0].range,new n.a(t.endLineNumber+this._lineNumberDeltaOffset,t.endColumn+this._columnDeltaOffset,t.endLineNumber+this._lineNumberDeltaOffset,t.endColumn+this._columnDeltaOffset)}}class l{constructor(e,t,i,n=!1){this._range=e,this._text=t,this._initialSelection=i,this._forceMoveMarkers=n,this._selectionId=null}getEditOperations(e,t){t.addTrackedEditOperation(this._range,this._text,this._forceMoveMarkers),this._selectionId=t.trackSelection(this._initialSelection)}computeCursorState(e,t){return t.getTrackedSelection(this._selectionId)}}},function(e,t,i){"use strict";i.d(t,"a",(function(){return O})),i.d(t,"b",(function(){return y})),i.d(t,"d",(function(){return E})),i.d(t,"c",(function(){return I})),i.d(t,"p",(function(){return T})),i.d(t,"q",(function(){return M})),i.d(t,"r",(function(){return A})),i.d(t,"e",(function(){return P})),i.d(t,"j",(function(){return R})),i.d(t,"l",(function(){return F})),i.d(t,"k",(function(){return j})),i.d(t,"n",(function(){return B})),i.d(t,"o",(function(){return W})),i.d(t,"f",(function(){return V})),i.d(t,"g",(function(){return z})),i.d(t,"m",(function(){return H})),i.d(t,"h",(function(){return U})),i.d(t,"i",(function(){return $}));var n=i(1),o=i(139),r=i(65),s=i(23),a=i(14),l=i(6),c=i(55),d=(i(418),i(5)),h=i(46),u=i(183),g=i(142),p=i(193),f=i(2),m=(i(458),i(3)),v=i(42);const b={showArrow:!0,showFrame:!0,className:"",frameColor:L=new a.a(new a.c(0,122,204)),arrowColor:L,keepEditorSelection:!1};class _{constructor(e,t,i,n,o,r){this.id="",this.domNode=e,this.afterLineNumber=t,this.afterColumn=i,this.heightInLines=n,this._onDomNodeTop=o,this._onComputedHeight=r}onDomNodeTop(e){this._onDomNodeTop(e)}onComputedHeight(e){this._onComputedHeight(e)}}class w{constructor(e,t){this._id=e,this._domNode=t}getId(){return this._id}getDomNode(){return this._domNode}getPosition(){return null}}class C{constructor(e){this._editor=e,this._ruleName=C._IdGenerator.nextId(),this._decorations=[],this._color=null,this._height=-1}dispose(){this.hide(),n.Q(this._ruleName)}set color(e){this._color!==e&&(this._color=e,this._updateStyle())}set height(e){this._height!==e&&(this._height=e,this._updateStyle())}_updateStyle(){n.Q(this._ruleName),n.v(".monaco-editor "+this._ruleName,`border-style: solid; border-color: transparent; border-bottom-color: ${this._color}; border-width: ${this._height}px; bottom: -${this._height}px; margin-left: -${this._height}px; `)}show(e){this._decorations=this._editor.deltaDecorations(this._decorations,[{range:m.a.fromPositions(e),options:{description:"zone-widget-arrow",className:this._ruleName,stickiness:1}}])}hide(){this._editor.deltaDecorations(this._decorations,[])}}C._IdGenerator=new p.a(".arrow-decoration-");var y,x=i(0),S=i(220),k=i(10),D=i(125),L=(t=i(21),i(4));p=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;0<=a;a--)(o=e[a])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s},i=function(e,t){return function(i,n){t(i,n,e)}};const O=Object(t.c)("IPeekViewService");function E(e){let t=e.get(h.a).getFocusedCodeEditor();return t instanceof u.a?t.getParentEditor():t}Object(D.b)(O,class{constructor(){this._widgets=new Map}addExclusiveWidget(e,t){const i=this._widgets.get(e);i&&(i.listener.dispose(),i.widget.dispose()),this._widgets.set(e,{widget:t,listener:t.onDidClose(()=>{const i=this._widgets.get(e);i&&i.widget===t&&(i.listener.dispose(),this._widgets.delete(e))})})}}),(D=y=y||{}).inPeekEditor=new k.c("inReferenceSearchEditor",!0,x.a("inReferenceSearchEditor","Whether the current code editor is embedded inside peek")),D.notInPeekEditor=D.inPeekEditor.toNegated(),(D=class{constructor(e,t){e instanceof u.a&&y.inPeekEditor.bindTo(t)}dispose(){}}).ID="editor.contrib.referenceController",D=p([i(1,k.b)],D),Object(d.l)(D.ID,D);const N={headerBackgroundColor:a.a.white,primaryHeadingColor:a.a.fromHex("#333333"),secondaryHeadingColor:a.a.fromHex("#6c6c6cb3")};let I=class extends class{constructor(e,t={}){this._arrow=null,this._overlayWidget=null,this._resizeSash=null,this._positionMarkerId=[],this._viewZone=null,this._disposables=new f.b,this.container=null,this._isShowing=!1,this.editor=e,this.options=c.b(t),c.f(this.options,b,!1),this.domNode=document.createElement("div"),this.options.isAccessible||(this.domNode.setAttribute("aria-hidden","true"),this.domNode.setAttribute("role","presentation")),this._disposables.add(this.editor.onDidLayoutChange(e=>{var t=this._getWidth(e);this.domNode.style.width=t+"px",this.domNode.style.left=this._getLeft(e)+"px",this._onWidth(t)}))}dispose(){this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._viewZone&&this.editor.changeViewZones(e=>{this._viewZone&&e.removeZone(this._viewZone.id),this._viewZone=null}),this.editor.deltaDecorations(this._positionMarkerId,[]),this._positionMarkerId=[],this._disposables.dispose()}create(){this.domNode.classList.add("zone-widget"),this.options.className&&this.domNode.classList.add(this.options.className),this.container=document.createElement("div"),this.container.classList.add("zone-widget-container"),this.domNode.appendChild(this.container),this.options.showArrow&&(this._arrow=new C(this.editor),this._disposables.add(this._arrow)),this._fillContainer(this.container),this._initSash(),this._applyStyles()}style(e){e.frameColor&&(this.options.frameColor=e.frameColor),e.arrowColor&&(this.options.arrowColor=e.arrowColor),this._applyStyles()}_applyStyles(){var e;this.container&&this.options.frameColor&&(e=this.options.frameColor.toString(),this.container.style.borderTopColor=e,this.container.style.borderBottomColor=e),this._arrow&&this.options.arrowColor&&(e=this.options.arrowColor.toString(),this._arrow.color=e)}_getWidth(e){return e.width-e.minimap.minimapWidth-e.verticalScrollbarWidth}_getLeft(e){return 0<e.minimap.minimapWidth&&0===e.minimap.minimapLeft?e.minimap.minimapWidth:0}_onViewZoneTop(e){this.domNode.style.top=e+"px"}_onViewZoneHeight(e){var t;this.domNode.style.height=e+"px",this.container&&(t=e-this._decoratingElementsHeight(),this.container.style.height=t+"px",e=this.editor.getLayoutInfo(),this._doLayout(t,this._getWidth(e))),this._resizeSash&&this._resizeSash.layout()}get position(){var[e]=this._positionMarkerId;if(e){const t=this.editor.getModel();if(t){const i=t.getDecorationRange(e);if(i)return i.getStartPosition()}}}show(e,t){e=m.a.isIRange(e)?m.a.lift(e):m.a.fromPositions(e),this._isShowing=!0,this._showImpl(e,t),this._isShowing=!1,this._positionMarkerId=this.editor.deltaDecorations(this._positionMarkerId,[{range:e,options:v.b.EMPTY}])}hide(){this._viewZone&&(this.editor.changeViewZones(e=>{this._viewZone&&e.removeZone(this._viewZone.id)}),this._viewZone=null),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._arrow&&this._arrow.hide()}_decoratingElementsHeight(){var e=this.editor.getOption(58);let t=0;return this.options.showArrow&&(t+=2*Math.round(e/3)),this.options.showFrame&&(t+=2*(e=Math.round(e/9))),t}_showImpl(e,t){const i=e.getStartPosition();var n=this.editor.getLayoutInfo();const o=this._getWidth(n);this.domNode.style.width=o+"px",this.domNode.style.left=this._getLeft(n)+"px";const r=document.createElement("div");r.style.overflow="hidden";var s=this.editor.getOption(58);n=Math.max(12,this.editor.getLayoutInfo().height/s*.8);t=Math.min(t,n);let a=0,l=0;if(this._arrow&&this.options.showArrow&&(a=Math.round(s/3),this._arrow.height=a,this._arrow.show(i)),this.options.showFrame&&(l=Math.round(s/9)),this.editor.changeViewZones(e=>{this._viewZone&&e.removeZone(this._viewZone.id),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this.domNode.style.top="-1000px",this._viewZone=new _(r,i.lineNumber,i.column,t,e=>this._onViewZoneTop(e),e=>this._onViewZoneHeight(e)),this._viewZone.id=e.addZone(this._viewZone),this._overlayWidget=new w("vs.editor.contrib.zoneWidget"+this._viewZone.id,this.domNode),this.editor.addOverlayWidget(this._overlayWidget)}),this.container&&this.options.showFrame){const e=this.options.frameWidth||l;this.container.style.borderTopWidth=e+"px",this.container.style.borderBottomWidth=e+"px"}s=t*s-this._decoratingElementsHeight(),this.container&&(this.container.style.top=a+"px",this.container.style.height=s+"px",this.container.style.overflow="hidden"),this._doLayout(s,o),this.options.keepEditorSelection||this.editor.setSelection(e);const c=this.editor.getModel();c&&((e=e.endLineNumber+1)<=c.getLineCount()?this.revealLine(e,!1):this.revealLine(c.getLineCount(),!0))}revealLine(e,t){t?this.editor.revealLineInCenter(e,0):this.editor.revealLine(e,0)}setCssClass(e,t){this.container&&(t&&this.container.classList.remove(t),this.container.classList.add(e))}_onWidth(e){}_doLayout(e,t){}_relayout(e){this._viewZone&&this._viewZone.heightInLines!==e&&this.editor.changeViewZones(t=>{this._viewZone&&(this._viewZone.heightInLines=e,t.layoutZone(this._viewZone.id))})}_initSash(){if(!this._resizeSash){let e;this._resizeSash=this._disposables.add(new g.b(this.domNode,this,{orientation:1})),this.options.isResizeable||(this._resizeSash.hide(),this._resizeSash.state=0),this._disposables.add(this._resizeSash.onDidStart(t=>{this._viewZone&&(e={startY:t.startY,heightInLines:this._viewZone.heightInLines})})),this._disposables.add(this._resizeSash.onDidEnd(()=>{e=void 0})),this._disposables.add(this._resizeSash.onDidChange(t=>{e&&(t=(t=(t.currentY-e.startY)/this.editor.getOption(58))<0?Math.ceil(t):Math.floor(t),5<(t=e.heightInLines+t)&&t<35&&this._relayout(t))}))}}getHorizontalSashLeft(){return 0}getHorizontalSashTop(){return(null===this.domNode.style.height?0:parseInt(this.domNode.style.height))-this._decoratingElementsHeight()/2}getHorizontalSashWidth(){var e=this.editor.getLayoutInfo();return e.width-e.minimap.minimapWidth}}{constructor(e,t,i){super(e,t),this.instantiationService=i,this._onDidClose=new l.b,this.onDidClose=this._onDidClose.event,c.f(this.options,N,!1)}dispose(){this.disposed||(this.disposed=!0,super.dispose(),this._onDidClose.fire(this))}style(e){let t=this.options;e.headerBackgroundColor&&(t.headerBackgroundColor=e.headerBackgroundColor),e.primaryHeadingColor&&(t.primaryHeadingColor=e.primaryHeadingColor),e.secondaryHeadingColor&&(t.secondaryHeadingColor=e.secondaryHeadingColor),super.style(e)}_applyStyles(){super._applyStyles();let e=this.options;this._headElement&&e.headerBackgroundColor&&(this._headElement.style.backgroundColor=e.headerBackgroundColor.toString()),this._primaryHeading&&e.primaryHeadingColor&&(this._primaryHeading.style.color=e.primaryHeadingColor.toString()),this._secondaryHeading&&e.secondaryHeadingColor&&(this._secondaryHeading.style.color=e.secondaryHeadingColor.toString()),this._bodyElement&&e.frameColor&&(this._bodyElement.style.borderColor=e.frameColor.toString())}_fillContainer(e){this.setCssClass("peekview-widget"),this._headElement=n.a(".head"),this._bodyElement=n.a(".body"),this._fillHead(this._headElement),this._fillBody(this._bodyElement),e.appendChild(this._headElement),e.appendChild(this._bodyElement)}_fillHead(e,t){const i=n.a(".peekview-title");this.options.supportOnTitleClick&&(i.classList.add("clickable"),n.o(i,"click",e=>this._onTitleClick(e))),n.q(this._headElement,i),this._fillTitleIcon(i),this._primaryHeading=n.a("span.filename"),this._secondaryHeading=n.a("span.dirname"),this._metaHeading=n.a("span.meta"),n.q(i,this._primaryHeading,this._secondaryHeading,this._metaHeading);var a=n.a(".peekview-actions");n.q(this._headElement,a);var l=this._getActionBarOptions();this._actionbarWidget=new o.a(a,l),this._disposables.add(this._actionbarWidget),t||this._actionbarWidget.push(new r.a("peekview.close",x.a("label.close","Close"),s.b.close.classNames,!0,()=>(this.dispose(),Promise.resolve())),{label:!1,icon:!0})}_fillTitleIcon(e){}_getActionBarOptions(){return{actionViewItemProvider:S.b.bind(void 0,this.instantiationService),orientation:0}}_onTitleClick(e){}setTitle(e,t){this._primaryHeading&&this._secondaryHeading&&(this._primaryHeading.innerText=e,this._primaryHeading.setAttribute("title",e),t?this._secondaryHeading.innerText=t:n.t(this._secondaryHeading))}setMetaTitle(e){this._metaHeading&&(e?(this._metaHeading.innerText=e,n.W(this._metaHeading)):n.K(this._metaHeading))}_doLayout(e,t){var i;!this._isShowing&&e<0?this.dispose():(i=Math.ceil(1.2*this.editor.getOption(58)),e=Math.round(e-(i+2)),this._doLayoutHead(i,t),this._doLayoutBody(e,t))}_doLayoutHead(e,t){this._headElement&&(this._headElement.style.height=e+"px",this._headElement.style.lineHeight=this._headElement.style.height)}_doLayoutBody(e,t){this._bodyElement&&(this._bodyElement.style.height=e+"px")}};I=p([i(2,t.a)],I);const T=Object(L.Cc)("peekViewTitle.background",{dark:Object(L.Rc)(L.M,.1),light:Object(L.Rc)(L.M,.1),hc:null},x.a("peekViewTitleBackground","Background color of the peek view title area.")),M=Object(L.Cc)("peekViewTitleLabel.foreground",{dark:a.a.white,light:a.a.black,hc:a.a.white},x.a("peekViewTitleForeground","Color of the peek view title.")),A=Object(L.Cc)("peekViewTitleDescription.foreground",{dark:"#ccccccb3",light:"#616161",hc:"#FFFFFF99"},x.a("peekViewTitleInfoForeground","Color of the peek view title info.")),P=Object(L.Cc)("peekView.border",{dark:L.M,light:L.M,hc:L.h},x.a("peekViewBorder","Color of the peek view borders and arrow.")),R=Object(L.Cc)("peekViewResult.background",{dark:"#252526",light:"#F3F3F3",hc:a.a.black},x.a("peekViewResultsBackground","Background color of the peek view result list.")),F=Object(L.Cc)("peekViewResult.lineForeground",{dark:"#bbbbbb",light:"#646465",hc:a.a.white},x.a("peekViewResultsMatchForeground","Foreground color for line nodes in the peek view result list.")),j=Object(L.Cc)("peekViewResult.fileForeground",{dark:a.a.white,light:"#1E1E1E",hc:a.a.white},x.a("peekViewResultsFileForeground","Foreground color for file nodes in the peek view result list.")),B=Object(L.Cc)("peekViewResult.selectionBackground",{dark:"#3399ff33",light:"#3399ff33",hc:null},x.a("peekViewResultsSelectionBackground","Background color of the selected entry in the peek view result list.")),W=Object(L.Cc)("peekViewResult.selectionForeground",{dark:a.a.white,light:"#6C6C6C",hc:a.a.white},x.a("peekViewResultsSelectionForeground","Foreground color of the selected entry in the peek view result list.")),V=Object(L.Cc)("peekViewEditor.background",{dark:"#001F33",light:"#F2F8FC",hc:a.a.black},x.a("peekViewEditorBackground","Background color of the peek view editor.")),z=Object(L.Cc)("peekViewEditorGutter.background",{dark:V,light:V,hc:V},x.a("peekViewEditorGutterBackground","Background color of the gutter in the peek view editor.")),H=Object(L.Cc)("peekViewResult.matchHighlightBackground",{dark:"#ea5c004d",light:"#ea5c004d",hc:null},x.a("peekViewResultsMatchHighlight","Match highlight color in the peek view result list.")),U=Object(L.Cc)("peekViewEditor.matchHighlightBackground",{dark:"#ff8f0099",light:"#f5d802de",hc:null},x.a("peekViewEditorMatchHighlight","Match highlight color in the peek view editor.")),$=Object(L.Cc)("peekViewEditor.matchHighlightBorder",{dark:null,light:null,hc:L.b},x.a("peekViewEditorMatchHighlightBorder","Match highlight border in the peek view editor."))},function(e,t,i){"use strict";var n,o,r=i(9);(i=n=n||{})[i.Ignore=0]="Ignore",i[i.Info=1]="Info",i[i.Warning=2]="Warning",i[i.Error=3]="错误",(o=n=n||{}).fromValue=function(e){return e?r.r("error",e)?o.Error:r.r("warning",e)||r.r("warn",e)?o.Warning:r.r("info",e)?o.Info:o.Ignore:o.Ignore},o.toString=function(e){switch(e){case o.Error:return"error";case o.Warning:return"warning";case o.Info:return"info";default:return"ignore"}},t.a=n},function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i=i(21);const n=Object(i.c)("modeService")},function(e,t,i){"use strict";i.d(t,"b",(function(){return n})),i.d(t,"d",(function(){return o})),i.d(t,"c",(function(){return r})),i.d(t,"a",(function(){return a}));class n{constructor(e){this.value=e}equals(e){return this.value===e.value}contains(e){return this.equals(e)||""===this.value||e.value.startsWith(this.value+n.sep)}intersects(e){return this.contains(e)||e.contains(this)}append(e){return new n(this.value+n.sep+e)}}function o(e,t){return!(e.include&&!e.include.intersects(t)||e.excludes&&e.excludes.some(i=>s(t,i,e.include))||!e.includeSourceActions&&n.Source.contains(t))}function r(e,t){const i=t.kind?new n(t.kind):void 0;return!(!(!e.include||i&&e.include.contains(i))||e.excludes&&i&&e.excludes.some(t=>s(i,t,e.include))||!e.includeSourceActions&&i&&n.Source.contains(i)||e.onlyIncludePreferredActions&&!t.isPreferred)}function s(e,t,i){return!(!t.contains(e)||i&&t.contains(i))}n.sep=".",n.None=new n("@@none@@"),n.Empty=new n(""),n.QuickFix=new n("quickfix"),n.Refactor=new n("refactor"),n.Source=new n("source"),n.SourceOrganizeImports=n.Source.append("organizeImports"),n.SourceFixAll=n.Source.append("fixAll");class a{constructor(e,t,i){this.kind=e,this.apply=t,this.preferred=i}static fromUser(e,t){return e&&"object"==typeof e?new a(a.getKindFromUser(e,t.kind),a.getApplyFromUser(e,t.apply),a.getPreferredUser(e)):new a(t.kind,t.apply,!1)}static getApplyFromUser(e,t){switch("string"==typeof e.apply?e.apply.toLowerCase():""){case"first":return"first";case"never":return"never";case"ifsingle":return"ifSingle";default:return t}}static getKindFromUser(e,t){return"string"==typeof e.kind?new n(e.kind):t}static getPreferredUser(e){return"boolean"==typeof e.preferred&&e.preferred}}},function(e,t,i){"use strict";i.d(t,"a",(function(){return r})),i.d(t,"b",(function(){return s})),i.d(t,"e",(function(){return a})),i.d(t,"c",(function(){return l})),i.d(t,"f",(function(){return c})),i.d(t,"d",(function(){return d})),i.d(t,"g",(function(){return h}));const n="undefined"!=typeof Buffer;let o;class r{constructor(e){this.buffer=e,this.byteLength=this.buffer.byteLength}static wrap(e){return n&&!Buffer.isBuffer(e)&&(e=Buffer.from(e.buffer,e.byteOffset,e.byteLength)),new r(e)}toString(){return n?this.buffer.toString():(o=o||new TextDecoder,o.decode(this.buffer))}}function s(e,t){return e[t+0]<<0>>>0|e[t+1]<<8>>>0}function a(e,t,i){e[i+0]=255&t,e[i+1]=255&(t>>>=8)}function l(e,t){return e[t]*Math.pow(2,24)+e[t+1]*Math.pow(2,16)+e[t+2]*Math.pow(2,8)+e[t+3]}function c(e,t,i){e[i+3]=t,e[i+2]=t>>>=8,e[i+1]=t>>>=8,e[i]=t>>>=8}function d(e,t){return e[t]}function h(e,t,i){e[i]=t}},function(e,t,i){"use strict";i.d(t,"j",(function(){return r})),i.d(t,"h",(function(){return s})),i.d(t,"f",(function(){return a})),i.d(t,"i",(function(){return _})),i.d(t,"g",(function(){return S})),i.d(t,"b",(function(){return k})),i.d(t,"c",(function(){return D})),i.d(t,"a",(function(){return n})),i.d(t,"d",(function(){return j})),i.d(t,"e",(function(){return B}));t=i(74);var n,o=i(9);function r(...e){return function(t,i){for(let o=0,r=e.length;o<r;o++){var n=e[o](t,i);if(n)return n}return null}}const s=function(e,t,i){if(!i||i.length<t.length)return null;let n;return n=e?o.R(i,t):0===i.indexOf(t),n?0<t.length?[{start:0,end:t.length}]:[]:null}.bind(void 0,!0);function a(e,t){return-1===(t=t.toLowerCase().indexOf(e.toLowerCase()))?null:[{start:t,end:t+e.length}]}function l(e){return 97<=e&&e<=122}function c(e){return 65<=e&&e<=90}function d(e){return 48<=e&&e<=57}function h(e){return 32===e||9===e||10===e||13===e}const u=new Set;function g(e){return h(e)||u.has(e)}function p(e,t){return e===t||g(e)&&g(t)}function f(e){return l(e)||c(e)||d(e)}function m(e,t){return 0===t.length?t=[e]:e.end===t[0].start?t[0].start=e.start:t.unshift(e),t}function v(e,t){for(let n=t;n<e.length;n++){var i=e.charCodeAt(n);if(c(i)||d(i)||0<n&&!f(e.charCodeAt(n-1)))return n}return e.length}function b(e,t){if(!t)return null;if(0===(t=t.trim()).length)return null;if(!function(e){let t,i=0,n=0,o=0;for(let r=0;r<e.length;r++)c(t=e.charCodeAt(r))&&i++,l(t)&&n++,h(t)&&o++;return 0!==i&&0!==n||0!==o?i<=5:e.length<=30}(e))return null;if(60<t.length)return null;var i=function(e){let t,i=0,n=0,o=0,r=0;for(let s=0;s<e.length;s++)c(t=e.charCodeAt(s))&&i++,l(t)&&n++,f(t)&&o++,d(t)&&r++;return{upperPercent:i/e.length,lowerPercent:n/e.length,alphaPercent:o/e.length,numericPercent:r/e.length}}(t);if(!function(e){var{upperPercent:t,lowerPercent:i,alphaPercent:n,numericPercent:e}=e;return.2<i&&t<.8&&.6<n&&e<.2}(i)){if(!function(e){var{upperPercent:t,lowerPercent:e}=e;return 0===e&&.6<t}(i))return null;t=t.toLowerCase()}let n=null,o=0;for(e=e.toLowerCase();o<t.length&&null===(n=function e(t,i,n,o){if(n===t.length)return[];if(o===i.length)return null;if(t[n]!==i[o].toLowerCase())return null;{let r=null,s=o+1;for(r=e(t,i,n+1,o+1);!r&&(s=v(i,s))<i.length;)r=e(t,i,n+1,s),s++;return null===r?null:m({start:o,end:o+1},r)}}(e,t,0,o));)o=v(t,o+1);return n}function _(e,t,i=!1){if(!t||0===t.length)return null;let n=null,o=0;for(e=e.toLowerCase(),t=t.toLowerCase();o<t.length&&null===(n=function e(t,i,n,o,r){if(n===t.length)return[];if(o===i.length)return null;if(p(t.charCodeAt(n),i.charCodeAt(o))){let s=null,a=o+1;if(s=e(t,i,n+1,o+1,r),!r)for(;!s&&(a=w(i,a))<i.length;)s=e(t,i,n+1,a,r),a++;return null===s?null:m({start:o,end:o+1},s)}return null}(e,t,0,o,i));)o=w(t,o+1);return n}function w(e,t){for(let i=t;i<e.length;i++)if(g(e.charCodeAt(i))||0<i&&g(e.charCodeAt(i-1)))return i;return e.length}"`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?".split("").forEach(e=>u.add(e.charCodeAt(0)));const C=r(s,b,a),y=r(s,b,(function(e,t){return function e(t,i,n,o){if(n===t.length)return[];if(o===i.length)return null;if(t[n]!==i[o])return e(t,i,n,o+1);{let r=null;return(r=e(t,i,n+1,o+1))?m({start:o,end:o+1},r):null}}(e.toLowerCase(),t.toLowerCase(),0,0)})),x=new t.a(1e4);function S(e,t,i=!1){if("string"!=typeof e||"string"!=typeof t)return null;let n=x.get(e);n||(n=new RegExp(o.p(e),"i"),x.set(e,n));var r=n.exec(t);return r?[{start:r.index,end:r.index+r[0].length}]:(i?y:C)(e,t)}function k(e,t,i,n,o,r){for(var s=Math.min(13,e.length);i<s;i++){var a=j(e,t,i,n,o,r,!1);if(a)return a}return[0,r]}function D(e){if(void 0===e)return[];const t=[];var i=e[1];for(let o=e.length-1;1<o;o--){var n=e[o]+i;const r=t[t.length-1];r&&r.end===n?r.end=n+1:t.push({start:n,end:n+1})}return t}const L=128;function O(){const e=[],t=[];for(let e=0;e<=L;e++)t[e]=0;for(let i=0;i<=L;i++)e.push(t.slice(0));return e}function E(e){const t=[];for(let i=0;i<=e;i++)t[i]=0;return t}const N=E(256),I=E(256),T=O(),M=O(),A=O();function P(e,t){if(t<0||t>=e.length)return!1;var i=e.codePointAt(t);switch(i){case 95:case 45:case 46:case 32:case 47:case 92:case 39:case 34:case 58:case 36:case 60:case 40:case 91:return!0;case void 0:return!1;default:return!!o.B(i)}}function R(e,t){if(t<0||t>=e.length)return!1;switch(e.charCodeAt(t)){case 32:case 9:return!0;default:return!1}}function F(e,t,i){return t[e]!==i[e]}function j(e,t,i,n,o,r,s){var a=e.length>L?L:e.length,l=n.length>L?L:n.length;if(!(a<=i||l<=r||l-r<a-i)&&function(e,t,i,n,o,r,s){for(;t<i&&o<r;)e[t]===n[o]&&(N[t]=o,t+=1),o+=1;return t===i}(t,i,a,o,r,l)){!function(e,t,i,n,o,r){let s=e-1,a=t-1;for(;s>=i&&a>=n;)o[s]===r[a]&&(I[s]=a,s--),a--}(a,l,i,r,t,o);let b=1,_=1,w=i,C=r;var c=[!1];for(b=1,w=i;w<a;b++,w++){var d=N[w],h=I[w],u=w+1<a?I[w+1]:l;for(_=d-r+1,C=d;C<u;_++,C++){let s=Number.MIN_SAFE_INTEGER,a=!1;C<=h&&(s=function(e,t,i,n,o,r,s,a,l,c,d){if(t[i]!==r[s])return Number.MIN_SAFE_INTEGER;let h=1,u=!1;return s===i-n?h=e[i]===o[s]?7:5:!F(s,o,r)||0!==s&&F(s-1,o,r)?!P(r,s)||0!==s&&P(r,s-1)?(P(r,s-1)||R(r,s-1))&&(h=5,u=!0):h=5:(h=e[i]===o[s]?7:5,u=!0),1<h&&i===n&&(d[0]=!0),u=u||F(s,o,r)||P(r,s-1)||R(r,s-1),i===n?l<s&&(h-=u?3:5):h+=c?u?2:0:u?0:1,s+1===a&&(h-=u?3:5),h}(e,t,w,i,n,o,C,l,r,0===T[b-1][_-1],c));let u=0;s!==Number.MAX_SAFE_INTEGER&&(a=!0,u=s+M[b-1][_-1]);var g=C>d,p=g?M[b][_-1]+(0<T[b][_-1]?-5:0):0,f=C>d+1&&0<T[b][_-1],m=f?M[b][_-2]+(0<T[b][_-2]?-5:0):0;if(f&&(!g||p<=m)&&(!a||m>=u))M[b][_]=m,A[b][_]=3,T[b][_]=0;else if(g&&(!a||p>=u))M[b][_]=p,A[b][_]=2,T[b][_]=0;else{if(!a)throw new Error("not possible");M[b][_]=u,A[b][_]=1,T[b][_]=T[b-1][_-1]+1}}}if(c[0]||s){b--,_--;const e=[M[b][_],r];let c=0,d=0;for(;1<=b;){let s=_;do{var v=A[b][s];if(3===v)s-=2;else{if(2!==v)break;s-=1}}while(1<=s);1<c&&t[i+b-1]===o[r+_-1]&&!F(s+r-1,n,o)&&c+1>T[b][s]&&(s=_),s===_?c++:c=1,d=d||s,b--,_=s-1,e.push(_)}return l===a&&(e[0]+=2),s=d-a,e[0]-=s,e}}}function B(e,t,i,n,o,r,s){return function(e,t,i,n,o,r,s,a){let l=j(e,t,i,n,o,r,a);if(3<=e.length){var c=Math.min(7,e.length-1);for(let t=i+1;t<c;t++){const s=function(e,t){if(!(t+1>=e.length)){var i=e[t],n=e[t+1];return i!==n?e.slice(0,t)+n+i+e.slice(t+2):void 0}}(e,t);if(s){const e=j(s,s.toLowerCase(),i,n,o,r,a);e&&(e[0]-=3,(!l||e[0]>l[0])&&(l=e))}}}return l}(e,t,i,n,o,r,0,s)}(t=n=n||{}).Default=[-100,0],t.isDefault=function(e){return!e||2===e.length&&-100===e[0]&&0===e[1]}},function(e,t,i){"use strict";var n;i.d(t,"b",(function(){return n})),i.d(t,"c",(function(){return o})),i.d(t,"a",(function(){return r})),(t=n=n||{})[t.None=0]="None",t[t.Indent=1]="Indent",t[t.IndentOutdent=2]="IndentOutdent",t[t.Outdent=3]="Outdent";class o{constructor(e){if(this._standardAutoClosingPairConditionalBrand=void 0,this.open=e.open,this.close=e.close,this._standardTokenMask=0,Array.isArray(e.notIn))for(let t=0,i=e.notIn.length;t<i;t++)switch(e.notIn[t]){case"string":this._standardTokenMask|=2;break;case"comment":this._standardTokenMask|=1;break;case"regex":this._standardTokenMask|=4}}isOK(e){return 0==(this._standardTokenMask&e)}}class r{constructor(e){this.autoClosingPairsOpenByStart=new Map,this.autoClosingPairsOpenByEnd=new Map,this.autoClosingPairsCloseByStart=new Map,this.autoClosingPairsCloseByEnd=new Map,this.autoClosingPairsCloseSingleChar=new Map;for(const t of e)s(this.autoClosingPairsOpenByStart,t.open.charAt(0),t),s(this.autoClosingPairsOpenByEnd,t.open.charAt(t.open.length-1),t),s(this.autoClosingPairsCloseByStart,t.close.charAt(0),t),s(this.autoClosingPairsCloseByEnd,t.close.charAt(t.close.length-1),t),1===t.close.length&&1===t.open.length&&s(this.autoClosingPairsCloseSingleChar,t.close,t)}}function s(e,t,i){e.has(t)?e.get(t).push(i):e.set(t,[i])}},function(e,t,i){"use strict";i.d(t,"a",(function(){return u})),i.d(t,"b",(function(){return f}));var n=i(6),o=i(169),r=i(2),s=i(74),a=i(129),l=i(254),c=i(72),d=i(70);function h(e){return"string"!=typeof e&&(Array.isArray(e)?e.every(h):!!e.exclusive)}class u{constructor(){this._clock=0,this._entries=[],this._onDidChange=new n.b}get onDidChange(){return this._onDidChange.event}register(e,t){let i={selector:e,provider:t,_score:-1,_time:this._clock++};return this._entries.push(i),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),Object(r.i)(()=>{var e;!i||0<=(e=this._entries.indexOf(i))&&(this._entries.splice(e,1),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),i=void 0)})}has(e){return 0<this.all(e).length}all(e){if(!e)return[];this._updateScores(e);const t=[];for(var i of this._entries)0<i._score&&t.push(i.provider);return t}ordered(e){const t=[];return this._orderedForEach(e,e=>t.push(e.provider)),t}orderedGroups(e){const t=[];let i,n;return this._orderedForEach(e,e=>{i&&n===e._score?i.push(e.provider):(n=e._score,i=[e.provider],t.push(i))}),t}_orderedForEach(e,t){if(e){this._updateScores(e);for(const e of this._entries)0<e._score&&t(e)}}_updateScores(e){var t={uri:e.uri.toString(),language:e.getLanguageId()};if(!this._lastCandidate||this._lastCandidate.language!==t.language||this._lastCandidate.uri!==t.uri){for(var i of(this._lastCandidate=t,this._entries))if(i._score=function e(t,i,n,o){if(Array.isArray(t)){let s=0;for(const a of t){var r=e(a,i,n,o);if(10===r)return r;r>s&&(s=r)}return s}if("string"==typeof t)return o?"*"===t?5:t===n?10:0:0;if(t){var{language:s,pattern:a,scheme:d,hasAccessToAllModels:t}=t;if(!o&&!t)return 0;let e=0;if(d)if(d===i.scheme)e=10;else{if("*"!==d)return 0;e=5}if(s)if(s===n)e=10;else{if("*"!==s)return 0;e=Math.max(e,5)}if(a){let t;if(t="string"==typeof a?a:Object.assign(Object.assign({},a),{base:Object(c.d)(a.base)}),t!==i.fsPath&&!Object(l.a)(t,i.fsPath))return 0;e=10}return e}return 0}(i.selector,e.uri,e.getLanguageId(),Object(d.b)(e)),h(i.selector)&&0<i._score){for(var n of this._entries)n._score=0;i._score=1e3;break}this._entries.sort(u._compareByScoreAndTime)}}static _compareByScoreAndTime(e,t){return e._score<t._score?1:e._score>t._score?-1:e._time<t._time?1:e._time>t._time?-1:0}}const g=new WeakMap;let p=0;class f{constructor(e,t,i=Number.MAX_SAFE_INTEGER){this._registry=e,this.min=t,this.max=i,this._cache=new s.a(50,.7)}_key(e){return e.id+this._registry.all(e).reduce((e,t)=>Object(o.b)(function(e){let t=g.get(e);return void 0===t&&(t=++p,g.set(e,t)),t}(t),e),0)}_clamp(e){return void 0===e?this.min:Math.min(this.max,Math.max(this.min,Math.floor(1.3*e)))}get(e){return e=this._key(e),e=this._cache.get(e),this._clamp(null==e?void 0:e.value)}update(e,t){var i=this._key(e);let n=this._cache.get(i);return n||(n=new a.a,this._cache.set(i,n)),n.update(t),this.get(e)}}},function(e,t){e.exports=require("lodash")},function(e,t){e.exports=require("axios")},function(e,t){e.exports=require("moment")},function(e,t,i){"use strict";i.d(t,"a",(function(){return s})),i.d(t,"b",(function(){return a}));var n=i(44),o=i(235),r=i(15);class s{constructor(e){this.timestamp=Date.now(),this.browserEvent=e,this.leftButton=0===e.button,this.middleButton=1===e.button,this.rightButton=2===e.button,this.buttons=e.buttons,this.target=e.target,this.detail=e.detail||1,"dblclick"===e.type&&(this.detail=2),this.ctrlKey=e.ctrlKey,this.shiftKey=e.shiftKey,this.altKey=e.altKey,this.metaKey=e.metaKey,"number"==typeof e.pageX?(this.posx=e.pageX,this.posy=e.pageY):(this.posx=e.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,this.posy=e.clientY+document.body.scrollTop+document.documentElement.scrollTop),e=o.a.getPositionOfChildWindowRelativeToAncestorWindow(self,e.view),this.posx-=e.left,this.posy-=e.top}preventDefault(){this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent.stopPropagation()}}class a{constructor(e,t=0,i=0){this.browserEvent=e||null,this.target=e?e.target||e.targetNode||e.srcElement:null,this.deltaY=i,this.deltaX=t,e&&(t=i=e,void 0!==i.wheelDeltaY?this.deltaY=i.wheelDeltaY/120:void 0!==t.VERTICAL_AXIS&&t.axis===t.VERTICAL_AXIS?this.deltaY=-t.detail/3:"wheel"===e.type&&(e.deltaMode===e.DOM_DELTA_LINE?n.g&&!r.f?this.deltaY=-e.deltaY/3:this.deltaY=-e.deltaY:this.deltaY=-e.deltaY/40),void 0!==i.wheelDeltaX?n.h&&r.i?this.deltaX=-i.wheelDeltaX/120:this.deltaX=i.wheelDeltaX/120:void 0!==t.HORIZONTAL_AXIS&&t.axis===t.HORIZONTAL_AXIS?this.deltaX=-e.detail/3:"wheel"===e.type&&(e.deltaMode===e.DOM_DELTA_LINE?n.g&&!r.f?this.deltaX=-e.deltaX/3:this.deltaX=-e.deltaX:this.deltaX=-e.deltaX/40),0===this.deltaY&&0===this.deltaX&&e.wheelDelta&&(this.deltaY=e.wheelDelta/120))}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation()}}},function(e,t,i){"use strict";i.d(t,"b",(function(){return n})),i.d(t,"a",(function(){return o})),t=i(10),i=i(21);const n=Object(i.c)("accessibilityService"),o=new t.c("accessibilityModeEnabled",!1)},function(e,t,i){"use strict";i.d(t,"a",(function(){return a})),i.d(t,"b",(function(){return l})),i.d(t,"c",(function(){return c}));var n=i(2),o=i(9),r=i(35),s=(i=i(21),function(e,t,i,n){return new(i=i||Promise)((function(o,r){function s(e){try{l(n.next(e))}catch(e){r(e)}}function a(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):((t=e.value)instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))});const a=Object(i.c)("openerService"),l=Object.freeze({_serviceBrand:void 0,registerOpener:()=>n.a.None,registerValidator:()=>n.a.None,registerExternalUriResolver:()=>n.a.None,setDefaultExternalOpener(){},registerExternalOpener:()=>n.a.None,open(){return s(this,void 0,void 0,(function*(){return!1}))},resolveExternalUri(e){return s(this,void 0,void 0,(function*(){return{resolved:e,dispose(){}}}))}});function c(e,t){return r.a.isUri(e)?Object(o.r)(e.scheme,t):Object(o.R)(e,t+":")}},function(e,t,i){"use strict";function n(e,t,i){let n=null,o=null;if("function"==typeof i.value?(n="value",o=i.value,0!==o.length&&console.warn("Memoize should only be used in functions with zero parameters")):"function"==typeof i.get&&(n="get",o=i.get),!o)throw new Error("not supported");const r="$memoize$"+t;i[n]=function(...e){return this.hasOwnProperty(r)||Object.defineProperty(this,r,{configurable:!1,enumerable:!1,writable:!1,value:o.apply(this,e)}),this[r]}}i.d(t,"a",(function(){return n}))},function(e,t,i){"use strict";i.d(t,"a",(function(){return c}));var n=i(26),o=i(12),r=i(3),s=i(9),a=i(238);class l{constructor(e,t,i){this._cursorPositionBrand=void 0,this.lineNumber=e,this.column=t,this.leftoverVisibleColumns=i}}class c{static leftPosition(e,t){if(t.column>e.getLineMinColumn(t.lineNumber))return t.delta(void 0,-s.L(e.getLineContent(t.lineNumber),t.column-1));if(1<t.lineNumber){var i=t.lineNumber-1;return new o.a(i,e.getLineMaxColumn(i))}return t}static leftPositionAtomicSoftTabs(e,t,i){if(t.column<=e.getLineIndentColumn(t.lineNumber)){var n=e.getLineMinColumn(t.lineNumber),r=e.getLineContent(t.lineNumber);if(-1!==(i=a.a.atomicPosition(r,t.column-1,i,0))&&n<=i+1)return new o.a(t.lineNumber,i+1)}return this.leftPosition(e,t)}static left(e,t,i){return i=e.stickyTabStops?c.leftPositionAtomicSoftTabs(t,i,e.tabSize):c.leftPosition(t,i),new l(i.lineNumber,i.column,0)}static moveLeft(e,t,i,n,o){let r,s;return s=i.hasSelection()&&!n?(r=i.selection.startLineNumber,i.selection.startColumn):(o=i.position.delta(void 0,-(o-1)),o=t.normalizePosition(c.clipPositionColumn(o,t),0),r=(o=c.left(e,t,o)).lineNumber,o.column),i.move(n,r,s,0)}static clipPositionColumn(e,t){return new o.a(e.lineNumber,c.clipRange(e.column,t.getLineMinColumn(e.lineNumber),t.getLineMaxColumn(e.lineNumber)))}static clipRange(e,t,i){return e<t?t:i<e?i:e}static rightPosition(e,t,i){return i<e.getLineMaxColumn(t)?i+=s.K(e.getLineContent(t),i-1):t<e.getLineCount()&&(i=e.getLineMinColumn(t+=1)),new o.a(t,i)}static rightPositionAtomicSoftTabs(e,t,i,n,r){if(i<e.getLineIndentColumn(t)){var s=e.getLineContent(t);if(-1!==(n=a.a.atomicPosition(s,i-1,n,1)))return new o.a(t,n+1)}return this.rightPosition(e,t,i)}static right(e,t,i){return i=e.stickyTabStops?c.rightPositionAtomicSoftTabs(t,i.lineNumber,i.column,e.tabSize,e.indentSize):c.rightPosition(t,i.lineNumber,i.column),new l(i.lineNumber,i.column,0)}static moveRight(e,t,i,n,o){let r,s;return s=i.hasSelection()&&!n?(r=i.selection.endLineNumber,i.selection.endColumn):(o=i.position.delta(void 0,o-1),o=t.normalizePosition(c.clipPositionColumn(o,t),1),r=(o=c.right(e,t,o)).lineNumber,o.column),i.move(n,r,s,0)}static vertical(e,t,i,o,r,s,a){var c=n.a.visibleColumnFromColumn(t.getLineContent(i),o,e.tabSize)+r,d=t.getLineCount(),h=1===i&&1===o,u=i===d&&o===t.getLineMaxColumn(i);u=s<i?h:u;return o=(i=s)<1?(i=1,a?t.getLineMinColumn(i):Math.min(t.getLineMaxColumn(i),o)):d<i?(i=d,a?t.getLineMaxColumn(i):Math.min(t.getLineMaxColumn(i),o)):n.a.columnFromVisibleColumn2(e,t,i,c),r=u?0:c-n.a.visibleColumnFromColumn(t.getLineContent(i),o,e.tabSize),new l(i,o,r)}static down(e,t,i,n,o,r,s){return this.vertical(e,t,i,n,o,i+r,s)}static moveDown(e,t,i,n,o){let r,s;return s=i.hasSelection()&&!n?(r=i.selection.endLineNumber,i.selection.endColumn):(r=i.position.lineNumber,i.position.column),o=c.down(e,t,r,s,i.leftoverVisibleColumns,o,!0),i.move(n,o.lineNumber,o.column,o.leftoverVisibleColumns)}static translateDown(e,t,i){var s=i.selection,a=c.down(e,t,s.selectionStartLineNumber,s.selectionStartColumn,i.selectionStartLeftoverVisibleColumns,1,!1);i=c.down(e,t,s.positionLineNumber,s.positionColumn,i.leftoverVisibleColumns,1,!1);return new n.f(new r.a(a.lineNumber,a.column,a.lineNumber,a.column),a.leftoverVisibleColumns,new o.a(i.lineNumber,i.column),i.leftoverVisibleColumns)}static up(e,t,i,n,o,r,s){return this.vertical(e,t,i,n,o,i-r,s)}static moveUp(e,t,i,n,o){let r,s;return s=i.hasSelection()&&!n?(r=i.selection.startLineNumber,i.selection.startColumn):(r=i.position.lineNumber,i.position.column),o=c.up(e,t,r,s,i.leftoverVisibleColumns,o,!0),i.move(n,o.lineNumber,o.column,o.leftoverVisibleColumns)}static translateUp(e,t,i){var s=i.selection,a=c.up(e,t,s.selectionStartLineNumber,s.selectionStartColumn,i.selectionStartLeftoverVisibleColumns,1,!1);i=c.up(e,t,s.positionLineNumber,s.positionColumn,i.leftoverVisibleColumns,1,!1);return new n.f(new r.a(a.lineNumber,a.column,a.lineNumber,a.column),a.leftoverVisibleColumns,new o.a(i.lineNumber,i.column),i.leftoverVisibleColumns)}static _isBlankLine(e,t){return 0===e.getLineFirstNonWhitespaceColumn(t)}static moveToPrevBlankLine(e,t,i,n){let o=i.position.lineNumber;for(;1<o&&this._isBlankLine(t,o);)o--;for(;1<o&&!this._isBlankLine(t,o);)o--;return i.move(n,o,t.getLineMinColumn(o),0)}static moveToNextBlankLine(e,t,i,n){var o=t.getLineCount();let r=i.position.lineNumber;for(;r<o&&this._isBlankLine(t,r);)r++;for(;r<o&&!this._isBlankLine(t,r);)r++;return i.move(n,r,t.getLineMinColumn(r),0)}static moveToBeginningOfLine(e,t,i,n){var o=i.position.lineNumber,r=t.getLineMinColumn(o),s=t.getLineFirstNonWhitespaceColumn(o)||r;let a;return a=(t=i.position.column)===s?r:s,i.move(n,o,a,0)}static moveToEndOfLine(e,t,i,n,o){var r=i.position.lineNumber;t=t.getLineMaxColumn(r);return i.move(n,r,t,o?1073741824-t:0)}static moveToBeginningOfBuffer(e,t,i,n){return i.move(n,1,1,0)}static moveToEndOfBuffer(e,t,i,n){var o=t.getLineCount();t=t.getLineMaxColumn(o);return i.move(n,o,t,0)}}},function(e,t,i){"use strict";i.d(t,"b",(function(){return g})),i.d(t,"a",(function(){return f}));var n=i(44),o=i(6),r=i(2),s=i(15),a=i(34);class l{constructor(e,t){this.chr=e,this.type=t,this.width=0}fulfill(e){this.width=e}}class c{constructor(e,t){this._bareFontInfo=e,this._requests=t,this._container=null,this._testElements=null}read(){this._createDomElements(),document.body.appendChild(this._container),this._readFromDomElements(),document.body.removeChild(this._container),this._container=null,this._testElements=null}_createDomElements(){var e=this._bareFontInfo.getMassagedFontFamily(n.h?a.c.fontFamily:null);const t=document.createElement("div");t.style.position="absolute",t.style.top="-50000px",t.style.width="50000px";const i=document.createElement("div");i.style.fontFamily=e,i.style.fontWeight=this._bareFontInfo.fontWeight,i.style.fontSize=this._bareFontInfo.fontSize+"px",i.style.fontFeatureSettings=this._bareFontInfo.fontFeatureSettings,i.style.lineHeight=this._bareFontInfo.lineHeight+"px",i.style.letterSpacing=this._bareFontInfo.letterSpacing+"px",t.appendChild(i);const o=document.createElement("div");o.style.fontFamily=e,o.style.fontWeight="bold",o.style.fontSize=this._bareFontInfo.fontSize+"px",o.style.fontFeatureSettings=this._bareFontInfo.fontFeatureSettings,o.style.lineHeight=this._bareFontInfo.lineHeight+"px",o.style.letterSpacing=this._bareFontInfo.letterSpacing+"px",t.appendChild(o);const r=document.createElement("div");r.style.fontFamily=e,r.style.fontWeight=this._bareFontInfo.fontWeight,r.style.fontSize=this._bareFontInfo.fontSize+"px",r.style.fontFeatureSettings=this._bareFontInfo.fontFeatureSettings,r.style.lineHeight=this._bareFontInfo.lineHeight+"px",r.style.letterSpacing=this._bareFontInfo.letterSpacing+"px",r.style.fontStyle="italic",t.appendChild(r);const s=[];for(const e of this._requests){let t;0===e.type&&(t=i),2===e.type&&(t=o),1===e.type&&(t=r),t.appendChild(document.createElement("br"));var l=document.createElement("span");c._render(l,e),t.appendChild(l),s.push(l)}this._container=t,this._testElements=s}static _render(e,t){if(" "===t.chr){let t=" ";for(let e=0;e<8;e++)t+=t;e.innerText=t}else{let i=t.chr;for(let e=0;e<8;e++)i+=i;e.textContent=i}}_readFromDomElements(){for(let t=0,i=this._requests.length;t<i;t++){const i=this._requests[t];var e=this._testElements[t];i.fulfill(e.offsetWidth/256)}}}var d=i(256),h=(t=i(196),i(197));class u{constructor(){this._keys=Object.create(null),this._values=Object.create(null)}has(e){return e=e.getId(),!!this._values[e]}get(e){return e=e.getId(),this._values[e]}put(e,t){var i=e.getId();this._keys[i]=e,this._values[i]=t}remove(e){e=e.getId(),delete this._keys[e],delete this._values[e]}getValues(){return Object.keys(this._keys).map(e=>this._values[e])}}function g(){p.INSTANCE.clearCache()}class p extends r.a{constructor(){super(),this._onDidChange=this._register(new o.b),this.onDidChange=this._onDidChange.event,this._cache=new u,this._evictUntrustedReadingsTimeout=-1}dispose(){-1!==this._evictUntrustedReadingsTimeout&&(clearTimeout(this._evictUntrustedReadingsTimeout),this._evictUntrustedReadingsTimeout=-1),super.dispose()}clearCache(){this._cache=new u,this._onDidChange.fire()}_writeToCache(e,t){this._cache.put(e,t),t.isTrusted||-1!==this._evictUntrustedReadingsTimeout||(this._evictUntrustedReadingsTimeout=setTimeout(()=>{this._evictUntrustedReadingsTimeout=-1,this._evictUntrustedReadings()},5e3))}_evictUntrustedReadings(){let e=!1;for(const t of this._cache.getValues())t.isTrusted||(e=!0,this._cache.remove(t));e&&this._onDidChange.fire()}readConfiguration(e){if(!this._cache.has(e)){let t=p._actualReadConfiguration(e);(t.typicalHalfwidthCharacterWidth<=2||t.typicalFullwidthCharacterWidth<=2||t.spaceWidth<=2||t.maxDigitWidth<=2)&&(t=new h.b({zoomLevel:n.d(),pixelRatio:n.a(),fontFamily:t.fontFamily,fontWeight:t.fontWeight,fontSize:t.fontSize,fontFeatureSettings:t.fontFeatureSettings,lineHeight:t.lineHeight,letterSpacing:t.letterSpacing,isMonospace:t.isMonospace,typicalHalfwidthCharacterWidth:Math.max(t.typicalHalfwidthCharacterWidth,5),typicalFullwidthCharacterWidth:Math.max(t.typicalFullwidthCharacterWidth,5),canUseHalfwidthRightwardsArrow:t.canUseHalfwidthRightwardsArrow,spaceWidth:Math.max(t.spaceWidth,5),middotWidth:Math.max(t.middotWidth,5),wsmiddotWidth:Math.max(t.wsmiddotWidth,5),maxDigitWidth:Math.max(t.maxDigitWidth,5)},!1)),this._writeToCache(e,t)}return this._cache.get(e)}static createRequest(e,t,i,n){return t=new l(e,t),i.push(t),n&&n.push(t),t}static _actualReadConfiguration(e){var t=[],i=[],o=this.createRequest("n",0,t,i),r=this.createRequest("ｍ",0,t,null),s=this.createRequest(" ",0,t,i),l=this.createRequest("0",0,t,i),d=this.createRequest("1",0,t,i),u=this.createRequest("2",0,t,i),g=this.createRequest("3",0,t,i),p=this.createRequest("4",0,t,i),f=this.createRequest("5",0,t,i),m=this.createRequest("6",0,t,i),v=this.createRequest("7",0,t,i),b=this.createRequest("8",0,t,i),_=this.createRequest("9",0,t,i),w=this.createRequest("→",0,t,i),C=this.createRequest("￫",0,t,null),y=this.createRequest("·",0,t,i),x=this.createRequest(String.fromCharCode(11825),0,t,null),S="|/-_ilm%";for(let e=0,n=S.length;e<n;e++)this.createRequest(S.charAt(e),0,t,i),this.createRequest(S.charAt(e),1,t,i),this.createRequest(S.charAt(e),2,t,i);!function(e,t){new c(e,t).read()}(e,t),_=Math.max(l.width,d.width,u.width,g.width,p.width,f.width,m.width,v.width,b.width,_.width);let k=e.fontFeatureSettings===a.e.OFF;var D=i[0].width;for(let e=1,t=i.length;k&&e<t;e++){var L=D-i[e].width;if(L<-.001||.001<L){k=!1;break}}let O=!0;return k&&C.width!==D&&(O=!1),C.width>w.width&&(O=!1),w=2e3<n.b(),new h.b({zoomLevel:n.d(),pixelRatio:n.a(),fontFamily:e.fontFamily,fontWeight:e.fontWeight,fontSize:e.fontSize,fontFeatureSettings:e.fontFeatureSettings,lineHeight:e.lineHeight,letterSpacing:e.letterSpacing,isMonospace:k,typicalHalfwidthCharacterWidth:o.width,typicalFullwidthCharacterWidth:r.width,canUseHalfwidthRightwardsArrow:O,spaceWidth:s.width,middotWidth:y.width,wsmiddotWidth:x.width,maxDigitWidth:_},w)}}p.INSTANCE=new p;class f extends t.a{constructor(e,t,i=null,o){super(e,t),this.accessibilityService=o,this._elementSizeObserver=this._register(new d.a(i,t.dimension,()=>this._recomputeOptions())),this._register(p.INSTANCE.onDidChange(()=>this._recomputeOptions())),this._validatedOptions.get(10)&&this._elementSizeObserver.startObserving(),this._register(n.l(e=>this._recomputeOptions())),this._register(this.accessibilityService.onDidChangeScreenReaderOptimized(()=>this._recomputeOptions())),this._recomputeOptions()}static applyFontInfoSlow(e,t){e.style.fontFamily=t.getMassagedFontFamily(n.h?a.c.fontFamily:null),e.style.fontWeight=t.fontWeight,e.style.fontSize=t.fontSize+"px",e.style.fontFeatureSettings=t.fontFeatureSettings,e.style.lineHeight=t.lineHeight+"px",e.style.letterSpacing=t.letterSpacing+"px"}static applyFontInfo(e,t){e.setFontFamily(t.getMassagedFontFamily(n.h?a.c.fontFamily:null)),e.setFontWeight(t.fontWeight),e.setFontSize(t.fontSize),e.setFontFeatureSettings(t.fontFeatureSettings),e.setLineHeight(t.lineHeight),e.setLetterSpacing(t.letterSpacing)}observeReferenceElement(e){this._elementSizeObserver.observe(e)}updatePixelRatio(){this._recomputeOptions()}static _getExtraEditorClassName(){let e="";return n.h||n.k||(e+="no-user-select "),n.h&&(e+="no-minimap-shadow "),s.f&&(e+="mac "),e}_getEnvConfiguration(){return{extraEditorClassName:f._getExtraEditorClassName(),outerWidth:this._elementSizeObserver.getWidth(),outerHeight:this._elementSizeObserver.getHeight(),emptySelectionClipboard:n.j||n.g,pixelRatio:n.a(),zoomLevel:n.d(),accessibilitySupport:this.accessibilityService.isScreenReaderOptimized()?2:this.accessibilityService.getAccessibilitySupport()}}readConfiguration(e){return p.INSTANCE.readConfiguration(e)}}},function(e,t,i){"use strict";i.d(t,"b",(function(){return d})),i.d(t,"a",(function(){return h})),i.d(t,"c",(function(){return f}));var n=i(18),o=i(23),r=i(6),s=i(0),a=i(214),l=(t=i(59),i(16));const c=new class{constructor(){this._onDidChange=new r.b,this.onDidChange=this._onDidChange.event,this.iconSchema={definitions:{icons:{type:"object",properties:{fontId:{type:"string",description:Object(s.a)("iconDefintion.fontId","The id of the font to use. If not set, the font that is defined first is used.")},fontCharacter:{type:"string",description:Object(s.a)("iconDefintion.fontCharacter","The font character associated with the icon definition.")}},additionalProperties:!1,defaultSnippets:[{body:{fontCharacter:"\\\\e030"}}]}},type:"object",properties:{}},this.iconReferenceSchema={type:"string",pattern:`^${o.a.iconNameExpression}$`,enum:[],enumDescriptions:[]},this.iconsById={},this.iconFontsById={}}registerIcon(e,t,i,n){const o=this.iconsById[e];var r;if(o)return i&&!o.description&&(o.description=i,this.iconSchema.properties[e].markdownDescription=`${i} $(${e})`,-1!==(r=this.iconReferenceSchema.enum.indexOf(e))&&(this.iconReferenceSchema.enumDescriptions[r]=i),this._onDidChange.fire()),o;this.iconsById[e]={id:e,description:i,defaults:t,deprecationMessage:n};let s={$ref:"#/definitions/icons"};return n&&(s.deprecationMessage=n),i&&(s.markdownDescription=`${i}: $(${e})`),this.iconSchema.properties[e]=s,this.iconReferenceSchema.enum.push(e),this.iconReferenceSchema.enumDescriptions.push(i||""),this._onDidChange.fire(),{id:e}}getIcons(){return Object.keys(this.iconsById).map(e=>this.iconsById[e])}getIcon(e){return this.iconsById[e]}getIconSchema(){return this.iconSchema}getIconFont(e){return this.iconFontsById[e]}toString(){var e=(e,t)=>e.id.localeCompare(t.id),t=e=>{for(;l.d.isThemeIcon(e.defaults);)e=this.iconsById[e.defaults.id];return"codicon codicon-"+(e?e.id:"")};let i=[];i.push("| preview     | identifier                        | default codicon ID                | description"),i.push("| ----------- | --------------------------------- | --------------------------------- | --------------------------------- |");const n=Object.keys(this.iconsById).map(e=>this.iconsById[e]);for(const o of n.filter(e=>!!e.description).sort(e))i.push(`|<i class="${t(o)}"></i>|${o.id}|${(l.d.isThemeIcon(o.defaults)?o.defaults:o).id}|${o.description||""}|`);i.push("| preview     | identifier                        "),i.push("| ----------- | --------------------------------- |");for(const o of n.filter(e=>!l.d.isThemeIcon(e.defaults)).sort(e))i.push(`|<i class="${t(o)}"></i>|${o.id}|`);return i.join("\n")}};function d(e,t,i,n){return c.registerIcon(e,t,i,n)}function h(){return c}t.a.add("base.contributions.icons",c),function(){for(const e of o.d.all)c.registerIcon(e.id,e.definition,e.description);o.d.onDidRegister(e=>c.registerIcon(e.id,e.definition,e.description))}();const u="vscode://schemas/icons";let g=t.a.as(a.a.JSONContribution);g.registerSchema(u,c.getIconSchema());const p=new n.e(()=>g.notifySchemaChanged(u),200);c.onDidChange(()=>{p.isScheduled()||p.schedule()});const f=d("widget-close",o.b.close,Object(s.a)("widgetClose","Icon for the close action in widgets."))},function(e,t){e.exports=require("child_process")},function(e,t,i){var n;self.MonacoEnvironment={globalAPI:!(n={editorWorkerService:"editor.worker.js"}),getWorkerUrl:function(e,t){var o=i.p,r=(o?o.replace(/\/$/,"")+"/":"")+n[t];return/^((http:)|(https:)|(file:)|(\/\/))/.test(r)&&(o=(o=String(window.location)).substr(0,o.length-window.location.hash.length-window.location.search.length-window.location.pathname.length),r.substring(0,o.length)!==o)?(/^(\/\/)/.test(r)&&(r=window.location.protocol+r),t=new Blob(["/*"+t+'*/importScripts("'+r+'");'],{type:"application/javascript"}),URL.createObjectURL(t)):r}},i(395),i(400),i(403),i(708),i(406),i(407),i(704),i(414),i(706),i(494),i(116),i(495),i(709),i(498),i(245),i(693),i(508),i(509),i(264),i(710),i(272),i(270),i(271),i(510),i(711),i(513),i(514),i(181),i(515),i(694),i(518),i(712),i(521),i(705),i(695),i(713),i(707),i(524),i(714),i(715),i(199),i(229),i(527),i(252),i(528),i(529),i(530),i(531),i(226),i(532),e.exports=i(681),i(553),i(554),i(555)},function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var n=i(1),o=i(67),r=i(89),s=i(62);class a extends i(2).a{onclick(e,t){this._register(n.i(e,n.d.CLICK,e=>t(new r.a(e))))}onmousedown(e,t){this._register(n.i(e,n.d.MOUSE_DOWN,e=>t(new r.a(e))))}onmouseover(e,t){this._register(n.i(e,n.d.MOUSE_OVER,e=>t(new r.a(e))))}onnonbubblingmouseout(e,t){this._register(n.j(e,e=>t(new r.a(e))))}onkeydown(e,t){this._register(n.i(e,n.d.KEY_DOWN,e=>t(new o.a(e))))}onkeyup(e,t){this._register(n.i(e,n.d.KEY_UP,e=>t(new o.a(e))))}oninput(e,t){this._register(n.i(e,n.d.INPUT,t))}onblur(e,t){this._register(n.i(e,n.d.BLUR,t))}onfocus(e,t){this._register(n.i(e,n.d.FOCUS,t))}ignoreGesture(e){s.b.ignoreTarget(e)}}},function(e,t,i){"use strict";i.d(t,"f",(function(){return n})),i.d(t,"b",(function(){return o})),i.d(t,"g",(function(){return r})),i.d(t,"h",(function(){return s})),i.d(t,"i",(function(){return a})),i.d(t,"e",(function(){return l})),i.d(t,"d",(function(){return c})),i.d(t,"c",(function(){return d})),i.d(t,"a",(function(){return h}));class n{constructor(){this.changeType=1}}class o{constructor(e,t,i,n,o){this.ownerId=e,this.lineNumber=t,this.column=i,this.options=n,this.order=o}static applyInjectedText(e,t){if(!t||0===t.length)return e;let i="",n=0;for(const o of t)i+=e.substring(n,o.column-1),n=o.column-1,i+=o.options.content;return i+=e.substring(n),i}static fromDecorations(e){const t=[];for(const i of e)i.options.before&&0<i.options.before.content.length&&t.push(new o(i.ownerId,i.range.startLineNumber,i.range.startColumn,i.options.before,0)),i.options.after&&0<i.options.after.content.length&&t.push(new o(i.ownerId,i.range.endLineNumber,i.range.endColumn,i.options.after,1));return t.sort((e,t)=>e.lineNumber===t.lineNumber?e.column===t.column?e.order-t.order:e.column-t.column:e.lineNumber-t.lineNumber),t}}class r{constructor(e,t,i){this.changeType=2,this.lineNumber=e,this.detail=t,this.injectedText=i}}class s{constructor(e,t){this.changeType=3,this.fromLineNumber=e,this.toLineNumber=t}}class a{constructor(e,t,i,n){this.changeType=4,this.injectedTexts=n,this.fromLineNumber=e,this.toLineNumber=t,this.detail=i}}class l{constructor(){this.changeType=5}}class c{constructor(e,t,i,n){this.changes=e,this.versionId=t,this.isUndoing=i,this.isRedoing=n,this.resultingSelection=null}containsEvent(e){for(let t=0,i=this.changes.length;t<i;t++)if(this.changes[t].changeType===e)return!0;return!1}static merge(e,t){var i=[].concat(e.changes).concat(t.changes),n=t.versionId,o=e.isUndoing||t.isUndoing;t=e.isRedoing||t.isRedoing;return new c(i,n,o,t)}}class d{constructor(e){this.changes=e}}class h{constructor(e,t){this.rawContentChangedEvent=e,this.contentChangedEvent=t}merge(e){var t=c.merge(this.rawContentChangedEvent,e.rawContentChangedEvent);e=h._mergeChangeEvents(this.contentChangedEvent,e.contentChangedEvent);return new h(t,e)}static _mergeChangeEvents(e,t){return{changes:[].concat(e.changes).concat(t.changes),eol:t.eol,versionId:t.versionId,isUndoing:e.isUndoing||t.isUndoing,isRedoing:e.isRedoing||t.isRedoing,isFlush:e.isFlush||t.isFlush}}}},function(e,t,i){"use strict";i.d(t,"d",(function(){return o})),i.d(t,"a",(function(){return s})),i.d(t,"b",(function(){return a})),i.d(t,"e",(function(){return l})),i.d(t,"c",(function(){return d}));var n=i(4);function o(e,t){const i=Object.create(null);for(var o in t){var r=t[o];r&&(i[o]=Object(n.Dc)(r,e))}return i}function r(e,t,i){function n(){var n=o(e.getColorTheme(),t);"function"==typeof i?i(n):i.style(n)}return n(),e.onDidColorThemeChange(n)}function s(e,t,i){return r(t,{badgeBackground:(null==i?void 0:i.badgeBackground)||n.c,badgeForeground:(null==i?void 0:i.badgeForeground)||n.d,badgeBorder:n.h},e)}function a(e,t,i){return r(t,Object.assign(Object.assign({},l),i||{}),e)}const l={listFocusBackground:n.Kb,listFocusForeground:n.Lb,listFocusOutline:n.Nb,listActiveSelectionBackground:n.Db,listActiveSelectionForeground:n.Eb,listActiveSelectionIconForeground:n.Fb,listFocusAndSelectionBackground:n.Db,listFocusAndSelectionForeground:n.Eb,listInactiveSelectionBackground:n.Tb,listInactiveSelectionIconForeground:n.Vb,listInactiveSelectionForeground:n.Ub,listInactiveFocusBackground:n.Rb,listInactiveFocusOutline:n.Sb,listHoverBackground:n.Pb,listHoverForeground:n.Qb,listDropBackground:n.Gb,listSelectionOutline:n.b,listHoverOutline:n.b,listFilterWidgetBackground:n.Hb,listFilterWidgetOutline:n.Jb,listFilterWidgetNoMatchesOutline:n.Ib,listMatchesShadow:n.Tc,treeIndentGuidesStroke:n.Sc,tableColumnsBorder:n.Mc},c={shadowColor:n.Tc,borderColor:n.Xb,foregroundColor:n.Yb,backgroundColor:n.Wb,selectionForegroundColor:n.bc,selectionBackgroundColor:n.Zb,selectionBorderColor:n.ac,separatorColor:n.cc};function d(e,t,i){return r(t,Object.assign(Object.assign({},c),i),e)}},function(e,t,i){"use strict";i.d(t,"b",(function(){return u})),i.d(t,"a",(function(){return p})),i.d(t,"c",(function(){return f}));var n=i(17),o=i(6),r=i(193),s=i(2),a=i(74),l=i(60),c=i(9),d=i(3),h=i(0);class u{constructor(e,t,i,n){this.isProviderFirst=e,this.parent=t,this.link=i,this._rangeCallback=n,this.id=r.b.nextId()}get uri(){return this.link.uri}get range(){var e;return null!==(e=null!==(e=this._range)&&void 0!==e?e:this.link.targetSelectionRange)&&void 0!==e?e:this.link.range}set range(e){this._range=e,this._rangeCallback(this)}get ariaMessage(){var e=null===(e=this.parent.getPreview(this))||void 0===e?void 0:e.preview(this.range);return e?Object(h.a)({key:"aria.oneReference.preview",comment:["Placeholders are: 0: filename, 1:line number, 2: column number, 3: preview snippet of source code"]},"symbol in {0} on line {1} at column {2}, {3}",Object(l.b)(this.uri),this.range.startLineNumber,this.range.startColumn,e.value):Object(h.a)("aria.oneReference","symbol in {0} on line {1} at column {2}",Object(l.b)(this.uri),this.range.startLineNumber,this.range.startColumn)}}class g{constructor(e){this._modelReference=e}dispose(){this._modelReference.dispose()}preview(e,t=8){const i=this._modelReference.object.textEditorModel;if(i){var n,{startLineNumber:o,startColumn:n,endLineNumber:r,endColumn:s}=e,r=(t=i.getWordUntilPosition({lineNumber:o,column:n-t}),n=new d.a(o,t.startColumn,o,n),new d.a(r,s,r,1073741824));return{value:(n=i.getValueInRange(n).replace(/^\s+/,""))+(e=i.getValueInRange(e))+i.getValueInRange(r).replace(/\s+$/,""),highlight:{start:n.length,end:n.length+e.length}}}}}class p{constructor(e,t){this.parent=e,this.uri=t,this.children=[],this._previews=new a.b}dispose(){Object(s.f)(this._previews.values()),this._previews.clear()}getPreview(e){return this._previews.get(e.uri)}get ariaMessage(){var e=this.children.length;return 1===e?Object(h.a)("aria.fileReferences.1","1 symbol in {0}, full path {1}",Object(l.b)(this.uri),this.uri.fsPath):Object(h.a)("aria.fileReferences.N","{0} symbols in {1}, full path {2}",e,Object(l.b)(this.uri),this.uri.fsPath)}resolve(e){return function(e,t,i,n){return new(i=i||Promise)((function(o,r){function s(e){try{l(n.next(e))}catch(e){r(e)}}function a(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):((t=e.value)instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))}(this,void 0,void 0,(function*(){if(0!==this._previews.size)return this;for(var t of this.children)if(!this._previews.has(t.uri))try{var i=yield e.createModelReference(t.uri);this._previews.set(t.uri,new g(i))}catch(t){Object(n.f)(t)}return this}))}}class f{constructor(e,t){this.groups=[],this.references=[],this._onDidChangeReferenceRange=new o.b,this.onDidChangeReferenceRange=this._onDidChangeReferenceRange.event,this._links=e,this._title=t;var i,n,[r]=e;let s;for(i of(e.sort(f._compareReferences),e))s&&l.e.isEqual(s.uri,i.uri,!0)||(s=new p(this,i.uri),this.groups.push(s)),0!==s.children.length&&0===f._compareReferences(i,s.children[s.children.length-1])||(n=new u(r===i,s,i,e=>this._onDidChangeReferenceRange.fire(e)),this.references.push(n),s.children.push(n))}dispose(){Object(s.f)(this.groups),this._onDidChangeReferenceRange.dispose(),this.groups.length=0}clone(){return new f(this._links,this._title)}get title(){return this._title}get isEmpty(){return 0===this.groups.length}get ariaMessage(){return this.isEmpty?Object(h.a)("aria.result.0","No results found"):1===this.references.length?Object(h.a)("aria.result.1","找到 1 symbol in {0}",this.references[0].uri.fsPath):1===this.groups.length?Object(h.a)("aria.result.n1","找到 {0} symbols in {1}",this.references.length,this.groups[0].uri.fsPath):Object(h.a)("aria.result.nm","找到 {0} symbols in {1} files",this.references.length,this.groups.length)}nextOrPreviousReference(e,t){let{parent:i}=e,n=i.children.indexOf(e);var o=i.children.length;return 1===(e=i.parent.groups.length)||t&&n+1<o||!t&&0<n?(n=t?(n+1)%o:(n+o-1)%o,i.children[n]):(n=i.parent.groups.indexOf(i),t?(n=(n+1)%e,i.parent.groups[n].children[0]):(n=(n+e-1)%e,i.parent.groups[n].children[i.parent.groups[n].children.length-1]))}nearestReference(e,t){var i=this.references.map((i,n)=>({idx:n,prefixLen:c.d(i.uri.toString(),e.toString()),offsetDist:100*Math.abs(i.range.startLineNumber-t.lineNumber)+Math.abs(i.range.startColumn-t.column)})).sort((e,t)=>e.prefixLen>t.prefixLen?-1:e.prefixLen<t.prefixLen?1:e.offsetDist<t.offsetDist?-1:e.offsetDist>t.offsetDist?1:0)[0];if(i)return this.references[i.idx]}referenceAt(e,t){for(const i of this.references)if(i.uri.toString()===e.toString()&&d.a.containsPosition(i.range,t))return i}firstReference(){for(const e of this.references)if(e.isProviderFirst)return e;return this.references[0]}static _compareReferences(e,t){return l.e.compare(e.uri,t.uri)||d.a.compareRangesUsingStarts(e.range,t.range)}}},function(e,t,i){"use strict";i.d(t,"b",(function(){return n})),i.d(t,"a",(function(){return o})),i=i(21);class n{constructor(e){this.callback=e}report(e){this._value=e,this.callback(this._value)}}n.None=Object.freeze({report(){}});const o=Object(i.c)("editorProgressService")},function(e,t,i){"use strict";i.d(t,"a",(function(){return p})),i.d(t,"b",(function(){return f})),i.d(t,"d",(function(){return m})),i.d(t,"c",(function(){return v}));var n=i(9),o=i(3),r=i(38),s=i(2),a=i(5),l=i(10),c=i(114),d=i(21);t=i(125),i=i(0);const h=Object(d.c)("IEditorCancelService"),u=new l.c("cancellableOperation",!1,Object(i.a)("cancellableOperation","Whether the editor runs a cancellable operation, e.g. like 'Peek References'"));Object(t.b)(h,class{constructor(){this._tokens=new WeakMap}add(e,t){let i,n=this._tokens.get(e);return n||(n=e.invokeWithinContext(e=>({key:u.bindTo(e.get(l.b)),tokens:new c.a})),this._tokens.set(e,n)),n.key.set(!0),i=n.tokens.push(t),()=>{i&&(i(),n.key.set(!n.tokens.isEmpty()),i=void 0)}}cancel(e){const t=this._tokens.get(e);if(t){const e=t.tokens.pop();e&&(e.cancel(),t.key.set(!t.tokens.isEmpty()))}}},!0);class g extends r.b{constructor(e,t){super(t),this.editor=e,this._unregister=e.invokeWithinContext(t=>t.get(h).add(e,this))}dispose(){this._unregister(),super.dispose()}}Object(a.k)(new class extends a.c{constructor(){super({id:"editor.cancelOperation",kbOpts:{weight:100,primary:9},precondition:u})}runEditorCommand(e,t){e.get(h).cancel(t)}});class p{constructor(e,t){if(this.flags=t,0!=(1&this.flags)){const t=e.getModel();this.modelVersionId=t?n.v("{0}#{1}",t.uri.toString(),t.getVersionId()):null}else this.modelVersionId=null;0!=(4&this.flags)?this.position=e.getPosition():this.position=null,0!=(2&this.flags)?this.selection=e.getSelection():this.selection=null,0!=(8&this.flags)?(this.scrollLeft=e.getScrollLeft(),this.scrollTop=e.getScrollTop()):(this.scrollLeft=-1,this.scrollTop=-1)}_equals(e){return e instanceof p&&(this.modelVersionId===e.modelVersionId&&this.scrollLeft===e.scrollLeft&&this.scrollTop===e.scrollTop&&!(!this.position&&e.position||this.position&&!e.position||this.position&&e.position&&!this.position.equals(e.position))&&!(!this.selection&&e.selection||this.selection&&!e.selection||this.selection&&e.selection&&!this.selection.equalsRange(e.selection)))}validate(e){return this._equals(new p(e,this.flags))}}class f extends g{constructor(e,t,i,n){super(e,n),this._listener=new s.b,4&t&&this._listener.add(e.onDidChangeCursorPosition(e=>{i&&o.a.containsPosition(i,e.position)||this.cancel()})),2&t&&this._listener.add(e.onDidChangeCursorSelection(e=>{i&&o.a.containsRange(i,e.selection)||this.cancel()})),8&t&&this._listener.add(e.onDidScrollChange(e=>this.cancel())),1&t&&(this._listener.add(e.onDidChangeModel(e=>this.cancel())),this._listener.add(e.onDidChangeModelContent(e=>this.cancel())))}dispose(){this._listener.dispose(),super.dispose()}}class m extends r.b{constructor(e,t){super(t),this._listener=e.onDidChangeContent(()=>this.cancel())}dispose(){this._listener.dispose(),super.dispose()}}class v{constructor(e,t,i){this._visiblePosition=e,this._visiblePositionScrollDelta=t,this._cursorPosition=i}static capture(e){let t=null,i=0;if(0!==e.getScrollTop()){const o=e.getVisibleRanges();var n;0<o.length&&(t=o[0].getStartPosition(),n=e.getTopForPosition(t.lineNumber,t.column),i=e.getScrollTop()-n)}return new v(t,i,e.getPosition())}restore(e){var t;this._visiblePosition&&(t=e.getTopForPosition(this._visiblePosition.lineNumber,this._visiblePosition.column),e.setScrollTop(t+this._visiblePositionScrollDelta))}restoreRelativeVerticalPositionOfCursor(e){var t=e.getPosition();this._cursorPosition&&t&&(t=e.getTopForLineNumber(t.lineNumber)-e.getTopForLineNumber(this._cursorPosition.lineNumber),e.setScrollTop(e.getScrollTop()+t))}}},function(e,t,i){"use strict";i.d(t,"a",(function(){return r})),i.d(t,"b",(function(){return s})),i.d(t,"c",(function(){return a})),i.d(t,"e",(function(){return l})),i.d(t,"d",(function(){return c}));var n=i(17),o=i(134);class r{constructor(e="",t=!1){if(this.value=e,"string"!=typeof this.value)throw Object(n.c)("value");"boolean"==typeof t?(this.isTrusted=t,this.supportThemeIcons=!1,this.supportHtml=!1):(this.isTrusted=null!==(e=t.isTrusted)&&void 0!==e?e:void 0,this.supportThemeIcons=null!==(e=t.supportThemeIcons)&&void 0!==e&&e,this.supportHtml=null!==(t=t.supportHtml)&&void 0!==t&&t)}appendText(e,t=0){return this.value+=(this.supportThemeIcons?Object(o.a)(e):e).replace(/[\\`*_{}[\]()#+\-!]/g,"\\$&").replace(/([ \t]+)/g,(e,t)=>"&nbsp;".repeat(t.length)).replace(/\>/gm,"\\>").replace(/\n/g,1===t?"\\\n":"\n\n"),this}appendMarkdown(e){return this.value+=e,this}appendCodeblock(e,t){return this.value+="\n```",this.value+=e,this.value+="\n",this.value+=t,this.value+="\n```\n",this}}function s(e){return a(e)?!e.value:!Array.isArray(e)||e.every(s)}function a(e){return e instanceof r||!(!e||"object"!=typeof e)&&!("string"!=typeof e.value||"boolean"!=typeof e.isTrusted&&void 0!==e.isTrusted||"boolean"!=typeof e.supportThemeIcons&&void 0!==e.supportThemeIcons)}function l(e){return e&&e.replace(/\\([\\`*_{}[\]()#+\-.!])/g,"$1")}function c(e){const t=[];var i=e.split("|").map(e=>e.trim());e=i[0];var n,o,r=i[1];return r&&(n=/height=(\d+)/.exec(r),o=/width=(\d+)/.exec(r),i=n?n[1]:"",r=o?o[1]:"",n=isFinite(parseInt(r)),o=isFinite(parseInt(i)),n&&t.push(`width="${r}"`),o&&t.push(`height="${i}"`)),{href:e,dimensions:t}}},function(e,t,i){"use strict";i.d(t,"b",(function(){return r})),i.d(t,"c",(function(){return n})),i.d(t,"a",(function(){return l})),i.d(t,"d",(function(){return c}));var n,o=i(6);t=i(2),i=i(21);const r=Object(i.c)("logService");(i=n=n||{})[i.Trace=0]="Trace",i[i.Debug=1]="Debug",i[i.Info=2]="Info",i[i.Warning=3]="Warning",i[i.Error=4]="错误",i[i.Critical=5]="Critical",i[i.Off=6]="Off";const s=n.Info;class a extends t.a{constructor(){super(...arguments),this.level=s,this._onDidChangeLogLevel=this._register(new o.b)}setLevel(e){this.level!==e&&(this.level=e,this._onDidChangeLogLevel.fire(this.level))}getLevel(){return this.level}}class l extends a{constructor(e=s){super(),this.setLevel(e)}trace(e,...t){this.getLevel()<=n.Trace&&console.log("%cTRACE","color: #888",e,...t)}debug(e,...t){this.getLevel()<=n.Debug&&console.log("%cDEBUG","background: #eee; color: #888",e,...t)}info(e,...t){this.getLevel()<=n.Info&&console.log("%c INFO","color: #33f",e,...t)}error(e,...t){this.getLevel()<=n.Error&&console.log("%c  ERR","color: #f33",e,...t)}dispose(){}}class c extends t.a{constructor(e){super(),this.logger=e,this._register(e)}getLevel(){return this.logger.getLevel()}trace(e,...t){this.logger.trace(e,...t)}debug(e,...t){this.logger.debug(e,...t)}info(e,...t){this.logger.info(e,...t)}error(e,...t){this.logger.error(e,...t)}}},function(e,t,i){"use strict";i.d(t,"b",(function(){return n})),i.d(t,"a",(function(){return o})),i=i(21);const n=Object(i.c)("contextViewService"),o=Object(i.c)("contextMenuService")},function(e,t,i){"use strict";i.d(t,"b",(function(){return o})),i.d(t,"a",(function(){return r})),i.d(t,"c",(function(){return s})),i.d(t,"d",(function(){return a}));var n=i(150);const o=new class{clone(){return this}equals(e){return this===e}},r="vs.editor.nullMode";function s(e,t,i,o){return new n.b([new n.a(o,"",e)],i)}function a(e,t,i,r){let s=new Uint32Array(2);return s[0]=r,s[1]=(e<<0|16384|2<<23)>>>0,new n.c(s,null===i?o:i)}},function(e,t,i){"use strict";i.d(t,"b",(function(){return h})),i.d(t,"a",(function(){return n}));var n,o,r=i(19),s=i(26),a=i(93),l=i(151),c=i(12),d=i(3);class h{static addCursorDown(e,t,i){let n=[],o=0;for(let l=0,c=t.length;l<c;l++){var r=t[l];n[o++]=new s.d(r.modelState,r.viewState),n[o++]=i?s.d.fromModelState(a.a.translateDown(e.cursorConfig,e.model,r.modelState)):s.d.fromViewState(a.a.translateDown(e.cursorConfig,e,r.viewState))}return n}static addCursorUp(e,t,i){let n=[],o=0;for(let l=0,c=t.length;l<c;l++){var r=t[l];n[o++]=new s.d(r.modelState,r.viewState),n[o++]=i?s.d.fromModelState(a.a.translateUp(e.cursorConfig,e.model,r.modelState)):s.d.fromViewState(a.a.translateUp(e.cursorConfig,e,r.viewState))}return n}static moveToBeginningOfLine(e,t,i){let n=[];for(let r=0,s=t.length;r<s;r++){var o=t[r];n[r]=this._moveToLineStart(e,o,i)}return n}static _moveToLineStart(e,t,i){var n=t.viewState.position.column,o=n===t.modelState.position.column,r=t.viewState.position.lineNumber;r=e.getLineFirstNonWhitespaceColumn(r);return o||n===r?this._moveToLineStartByModel(e,t,i):this._moveToLineStartByView(e,t,i)}static _moveToLineStartByView(e,t,i){return s.d.fromViewState(a.a.moveToBeginningOfLine(e.cursorConfig,e,t.viewState,i))}static _moveToLineStartByModel(e,t,i){return s.d.fromModelState(a.a.moveToBeginningOfLine(e.cursorConfig,e.model,t.modelState,i))}static moveToEndOfLine(e,t,i,n){let o=[];for(let s=0,a=t.length;s<a;s++){var r=t[s];o[s]=this._moveToLineEnd(e,r,i,n)}return o}static _moveToLineEnd(e,t,i,n){var o=t.viewState.position,r=e.getLineMaxColumn(o.lineNumber),s=o.column===r,a=t.modelState.position,l=e.model.getLineMaxColumn(a.lineNumber);a=r-o.column==l-a.column;return s||a?this._moveToLineEndByModel(e,t,i,n):this._moveToLineEndByView(e,t,i,n)}static _moveToLineEndByView(e,t,i,n){return s.d.fromViewState(a.a.moveToEndOfLine(e.cursorConfig,e,t.viewState,i,n))}static _moveToLineEndByModel(e,t,i,n){return s.d.fromModelState(a.a.moveToEndOfLine(e.cursorConfig,e.model,t.modelState,i,n))}static expandLineSelection(e,t){let i=[];for(let a=0,l=t.length;a<l;a++){var n=t[a],o=n.modelState.selection.startLineNumber,r=e.model.getLineCount();let l,h=n.modelState.selection.endLineNumber;l=h===r?e.model.getLineMaxColumn(r):(h++,1),i[a]=s.d.fromModelState(new s.f(new d.a(o,1,o,1),0,new c.a(h,l),0))}return i}static moveToBeginningOfBuffer(e,t,i){let n=[];for(let r=0,l=t.length;r<l;r++){var o=t[r];n[r]=s.d.fromModelState(a.a.moveToBeginningOfBuffer(e.cursorConfig,e.model,o.modelState,i))}return n}static moveToEndOfBuffer(e,t,i){let n=[];for(let r=0,l=t.length;r<l;r++){var o=t[r];n[r]=s.d.fromModelState(a.a.moveToEndOfBuffer(e.cursorConfig,e.model,o.modelState,i))}return n}static selectAll(e,t){var i=e.model.getLineCount();e=e.model.getLineMaxColumn(i);return s.d.fromModelState(new s.f(new d.a(1,1,1,1),0,new c.a(i,e),0))}static line(e,t,i,n,o){if(n=e.model.validatePosition(n),o=o?e.coordinatesConverter.validateViewPosition(new c.a(o.lineNumber,o.column),n):e.coordinatesConverter.convertModelPositionToViewPosition(n),!i||!t.modelState.hasSelection()){var r=e.model.getLineCount();let t=n.lineNumber+1,i=1;return t>r&&(t=r,i=e.model.getLineMaxColumn(t)),s.d.fromModelState(new s.f(new d.a(n.lineNumber,1,t,i),0,new c.a(t,i),0))}if(r=t.modelState.selectionStart.getStartPosition().lineNumber,n.lineNumber<r)return s.d.fromViewState(t.viewState.move(t.modelState.hasSelection(),o.lineNumber,1,0));if(n.lineNumber>r){r=e.getLineCount();let i=o.lineNumber+1,n=1;return i>r&&(i=r,n=e.getLineMaxColumn(i)),s.d.fromViewState(t.viewState.move(t.modelState.hasSelection(),i,n,0))}return e=t.modelState.selectionStart.getEndPosition(),s.d.fromModelState(t.modelState.move(t.modelState.hasSelection(),e.lineNumber,e.column,0))}static word(e,t,i,n){return n=e.model.validatePosition(n),s.d.fromModelState(l.a.word(e.cursorConfig,e.model,t.modelState,i,n))}static cancelSelection(e,t){if(!t.modelState.hasSelection())return new s.d(t.modelState,t.viewState);var i=t.viewState.position.lineNumber;t=t.viewState.position.column;return s.d.fromViewState(new s.f(new d.a(i,t,i,t),0,new c.a(i,t),0))}static moveTo(e,t,i,n,o){return n=e.model.validatePosition(n),n=o?e.coordinatesConverter.validateViewPosition(new c.a(o.lineNumber,o.column),n):e.coordinatesConverter.convertModelPositionToViewPosition(n),s.d.fromViewState(t.viewState.move(i,n.lineNumber,n.column,0))}static simpleMove(e,t,i,n,o,r){switch(i){case 0:return 4===r?this._moveHalfLineLeft(e,t,n):this._moveLeft(e,t,n,o);case 1:return 4===r?this._moveHalfLineRight(e,t,n):this._moveRight(e,t,n,o);case 2:return 2===r?this._moveUpByViewLines(e,t,n,o):this._moveUpByModelLines(e,t,n,o);case 3:return 2===r?this._moveDownByViewLines(e,t,n,o):this._moveDownByModelLines(e,t,n,o);case 4:return 2===r?t.map(t=>s.d.fromViewState(a.a.moveToPrevBlankLine(e.cursorConfig,e,t.viewState,n))):t.map(t=>s.d.fromModelState(a.a.moveToPrevBlankLine(e.cursorConfig,e.model,t.modelState,n)));case 5:return 2===r?t.map(t=>s.d.fromViewState(a.a.moveToNextBlankLine(e.cursorConfig,e,t.viewState,n))):t.map(t=>s.d.fromModelState(a.a.moveToNextBlankLine(e.cursorConfig,e.model,t.modelState,n)));case 6:return this._moveToViewMinColumn(e,t,n);case 7:return this._moveToViewFirstNonWhitespaceColumn(e,t,n);case 8:return this._moveToViewCenterColumn(e,t,n);case 9:return this._moveToViewMaxColumn(e,t,n);case 10:return this._moveToViewLastNonWhitespaceColumn(e,t,n);default:return null}}static viewportMove(e,t,i,n,o){var r=e.getCompletelyVisibleViewRange(),s=e.coordinatesConverter.convertViewRangeToModelRange(r);switch(i){case 11:var a=this._firstLineNumberInRange(e.model,s,o),l=e.model.getLineFirstNonWhitespaceColumn(a);return[this._moveToModelPosition(e,t[0],n,a,l)];case 13:var c=this._lastLineNumberInRange(e.model,s,o),d=e.model.getLineFirstNonWhitespaceColumn(c);return[this._moveToModelPosition(e,t[0],n,c,d)];case 12:return c=Math.round((s.startLineNumber+s.endLineNumber)/2),d=e.model.getLineFirstNonWhitespaceColumn(c),[this._moveToModelPosition(e,t[0],n,c,d)];case 14:{let i=[];for(let o=0,s=t.length;o<s;o++){var h=t[o];i[o]=this.findPositionInViewportIfOutside(e,h,r,n)}return i}default:return null}}static findPositionInViewportIfOutside(e,t,i,n){var o=t.viewState.position.lineNumber;if(i.startLineNumber<=o&&o<=i.endLineNumber-1)return new s.d(t.modelState,t.viewState);{let r;return r=o>i.endLineNumber-1?i.endLineNumber-1:o<i.startLineNumber?i.startLineNumber:o,o=a.a.vertical(e.cursorConfig,e,o,t.viewState.position.column,t.viewState.leftoverVisibleColumns,r,!1),s.d.fromViewState(t.viewState.move(n,o.lineNumber,o.column,o.leftoverVisibleColumns))}}static _firstLineNumberInRange(e,t,i){let n=t.startLineNumber;return t.startColumn!==e.getLineMinColumn(n)&&n++,Math.min(t.endLineNumber,n+i-1)}static _lastLineNumberInRange(e,t,i){let n=t.startLineNumber;return t.startColumn!==e.getLineMinColumn(n)&&n++,Math.max(n,t.endLineNumber-i+1)}static _moveLeft(e,t,i,n){return t.map(t=>s.d.fromViewState(a.a.moveLeft(e.cursorConfig,e,t.viewState,i,n)))}static _moveHalfLineLeft(e,t,i){let n=[];for(let l=0,c=t.length;l<c;l++){var o=t[l],r=o.viewState.position.lineNumber;r=Math.round(e.getLineContent(r).length/2);n[l]=s.d.fromViewState(a.a.moveLeft(e.cursorConfig,e,o.viewState,i,r))}return n}static _moveRight(e,t,i,n){return t.map(t=>s.d.fromViewState(a.a.moveRight(e.cursorConfig,e,t.viewState,i,n)))}static _moveHalfLineRight(e,t,i){let n=[];for(let l=0,c=t.length;l<c;l++){var o=t[l],r=o.viewState.position.lineNumber;r=Math.round(e.getLineContent(r).length/2);n[l]=s.d.fromViewState(a.a.moveRight(e.cursorConfig,e,o.viewState,i,r))}return n}static _moveDownByViewLines(e,t,i,n){let o=[];for(let l=0,c=t.length;l<c;l++){var r=t[l];o[l]=s.d.fromViewState(a.a.moveDown(e.cursorConfig,e,r.viewState,i,n))}return o}static _moveDownByModelLines(e,t,i,n){let o=[];for(let l=0,c=t.length;l<c;l++){var r=t[l];o[l]=s.d.fromModelState(a.a.moveDown(e.cursorConfig,e.model,r.modelState,i,n))}return o}static _moveUpByViewLines(e,t,i,n){let o=[];for(let l=0,c=t.length;l<c;l++){var r=t[l];o[l]=s.d.fromViewState(a.a.moveUp(e.cursorConfig,e,r.viewState,i,n))}return o}static _moveUpByModelLines(e,t,i,n){let o=[];for(let l=0,c=t.length;l<c;l++){var r=t[l];o[l]=s.d.fromModelState(a.a.moveUp(e.cursorConfig,e.model,r.modelState,i,n))}return o}static _moveToViewPosition(e,t,i,n,o){return s.d.fromViewState(t.viewState.move(i,n,o,0))}static _moveToModelPosition(e,t,i,n,o){return s.d.fromModelState(t.modelState.move(i,n,o,0))}static _moveToViewMinColumn(e,t,i){let n=[];for(let a=0,l=t.length;a<l;a++){var o=t[a],r=o.viewState.position.lineNumber,s=e.getLineMinColumn(r);n[a]=this._moveToViewPosition(e,o,i,r,s)}return n}static _moveToViewFirstNonWhitespaceColumn(e,t,i){let n=[];for(let a=0,l=t.length;a<l;a++){var o=t[a],r=o.viewState.position.lineNumber,s=e.getLineFirstNonWhitespaceColumn(r);n[a]=this._moveToViewPosition(e,o,i,r,s)}return n}static _moveToViewCenterColumn(e,t,i){let n=[];for(let a=0,l=t.length;a<l;a++){var o=t[a],r=o.viewState.position.lineNumber,s=Math.round((e.getLineMaxColumn(r)+e.getLineMinColumn(r))/2);n[a]=this._moveToViewPosition(e,o,i,r,s)}return n}static _moveToViewMaxColumn(e,t,i){let n=[];for(let a=0,l=t.length;a<l;a++){var o=t[a],r=o.viewState.position.lineNumber,s=e.getLineMaxColumn(r);n[a]=this._moveToViewPosition(e,o,i,r,s)}return n}static _moveToViewLastNonWhitespaceColumn(e,t,i){let n=[];for(let a=0,l=t.length;a<l;a++){var o=t[a],r=o.viewState.position.lineNumber,s=e.getLineLastNonWhitespaceColumn(r);n[a]=this._moveToViewPosition(e,o,i,r,s)}return n}}(o=n=n||{}).description={description:"Move cursor to a logical position in the view",args:[{name:"Cursor move argument object",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t* 'to': A mandatory logical position value providing where to move the cursor.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'left', 'right', 'up', 'down', 'prevBlankLine', 'nextBlankLine',\n\t\t\t\t\t\t'wrappedLineStart', 'wrappedLineEnd', 'wrappedLineColumnCenter'\n\t\t\t\t\t\t'wrappedLineFirstNonWhitespaceCharacter', 'wrappedLineLastNonWhitespaceCharacter'\n\t\t\t\t\t\t'viewPortTop', 'viewPortCenter', 'viewPortBottom', 'viewPortIfOutside'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'by': Unit to move. Default is computed based on 'to' value.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'line', 'wrappedLine', 'character', 'halfLine'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'value': Number of units to move. Default is '1'.\n\t\t\t\t\t* 'select': If 'true' makes the selection. Default is 'false'.\n\t\t\t\t",constraint:function(e){return!!r.k(e)&&!(!r.l(e.to)||!r.m(e.select)&&!r.g(e.select)||!r.m(e.by)&&!r.l(e.by)||!r.m(e.value)&&!r.j(e.value))},schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["left","right","up","down","prevBlankLine","nextBlankLine","wrappedLineStart","wrappedLineEnd","wrappedLineColumnCenter","wrappedLineFirstNonWhitespaceCharacter","wrappedLineLastNonWhitespaceCharacter","viewPortTop","viewPortCenter","viewPortBottom","viewPortIfOutside"]},by:{type:"string",enum:["line","wrappedLine","character","halfLine"]},value:{type:"number",default:1},select:{type:"boolean",default:!1}}}}]},o.RawDirection={Left:"left",Right:"right",Up:"up",Down:"down",PrevBlankLine:"prevBlankLine",NextBlankLine:"nextBlankLine",WrappedLineStart:"wrappedLineStart",WrappedLineFirstNonWhitespaceCharacter:"wrappedLineFirstNonWhitespaceCharacter",WrappedLineColumnCenter:"wrappedLineColumnCenter",WrappedLineEnd:"wrappedLineEnd",WrappedLineLastNonWhitespaceCharacter:"wrappedLineLastNonWhitespaceCharacter",ViewPortTop:"viewPortTop",ViewPortCenter:"viewPortCenter",ViewPortBottom:"viewPortBottom",ViewPortIfOutside:"viewPortIfOutside"},o.RawUnit={Line:"line",WrappedLine:"wrappedLine",Character:"character",HalfLine:"halfLine"},o.parse=function(e){if(!e.to)return null;let t;switch(e.to){case o.RawDirection.Left:t=0;break;case o.RawDirection.Right:t=1;break;case o.RawDirection.Up:t=2;break;case o.RawDirection.Down:t=3;break;case o.RawDirection.PrevBlankLine:t=4;break;case o.RawDirection.NextBlankLine:t=5;break;case o.RawDirection.WrappedLineStart:t=6;break;case o.RawDirection.WrappedLineFirstNonWhitespaceCharacter:t=7;break;case o.RawDirection.WrappedLineColumnCenter:t=8;break;case o.RawDirection.WrappedLineEnd:t=9;break;case o.RawDirection.WrappedLineLastNonWhitespaceCharacter:t=10;break;case o.RawDirection.ViewPortTop:t=11;break;case o.RawDirection.ViewPortBottom:t=13;break;case o.RawDirection.ViewPortCenter:t=12;break;case o.RawDirection.ViewPortIfOutside:t=14;break;default:return null}let i=0;switch(e.by){case o.RawUnit.Line:i=1;break;case o.RawUnit.WrappedLine:i=2;break;case o.RawUnit.Character:i=3;break;case o.RawUnit.HalfLine:i=4}return{direction:t,unit:i,select:!!e.select,value:e.value||1}}},function(e,t,i){"use strict";var n={name:"EscCapture",methods:{handleKeyDown:function(e){(e.metaKey||e.ctrlKey)&&87===e.keyCode&&this.$emit("esc"),27===e.keyCode&&this.$emit("esc")}},mounted:function(){this.$el.focus&&this.$el.focus()}};i=i(37),n=Object(i.a)(n,(function(){var e=this.$createElement;return(this._self._c||e)("div",this._g({staticClass:"no-esc",attrs:{tabindex:"0"},on:{keydown:this.handleKeyDown}},this.$listeners),[this._t("default")],2)}),[],!1,null,"3ccabdf6",null);t.a=n.exports},function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i=i(21);const n=Object(i.c)("textModelService")},function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var n=i(127),o=i(15),r=i(36);i=i(59);class s{constructor(){this._coreKeybindings=[],this._extensionKeybindings=[],this._cachedMergedKeybindings=null}static bindToCurrentPlatform(e){if(1===o.a){if(e&&e.win)return e.win}else if(2===o.a){if(e&&e.mac)return e.mac}else if(e&&e.linux)return e.linux;return e}registerKeybindingRule(e){var t,i=s.bindToCurrentPlatform(e);if(i&&i.primary&&(t=Object(n.e)(i.primary,o.a))&&this._registerDefaultKeybinding(t,e.id,e.args,e.weight,0,e.when),i&&Array.isArray(i.secondary))for(let t=0,s=i.secondary.length;t<s;t++){var r=i.secondary[t];(r=Object(n.e)(r,o.a))&&this._registerDefaultKeybinding(r,e.id,e.args,e.weight,-t-1,e.when)}}registerCommandAndKeybindingRule(e){this.registerKeybindingRule(e),r.a.registerCommand(e)}static _mightProduceChar(e){return 21<=e&&e<=30||31<=e&&e<=56||80===e||81===e||82===e||83===e||84===e||85===e||86===e||110===e||111===e||87===e||88===e||89===e||90===e||91===e||92===e}_assertNoCtrlAlt(e,t){e.ctrlKey&&e.altKey&&!e.metaKey&&s._mightProduceChar(e.keyCode)&&console.warn("Ctrl+Alt+ keybindings should not be used by default under Windows. Offender: ",e," for ",t)}_registerDefaultKeybinding(e,t,i,n,r,s){1===o.a&&this._assertNoCtrlAlt(e.parts[0],t),this._coreKeybindings.push({keybinding:e.parts,command:t,commandArgs:i,when:s,weight1:n,weight2:r,extensionId:null,isBuiltinExtension:!1}),this._cachedMergedKeybindings=null}getDefaultKeybindings(){return this._cachedMergedKeybindings||(this._cachedMergedKeybindings=[].concat(this._coreKeybindings).concat(this._extensionKeybindings),this._cachedMergedKeybindings.sort(l)),this._cachedMergedKeybindings.slice(0)}}const a=new s;function l(e,t){return e.weight1!==t.weight1?e.weight1-t.weight1:e.command<t.command?-1:e.command>t.command?1:e.weight2-t.weight2}i.a.add("platform.keybindingsRegistry",a)},function(e,t,i){"use strict";i.d(t,"c",(function(){return s})),i.d(t,"b",(function(){return a})),i.d(t,"a",(function(){return l}));var n=i(9),o=i(12),r=i(3);const s=!1;class a{constructor(e,t,i,n,o){this.value=e,this.selectionStart=t,this.selectionEnd=i,this.selectionStartPosition=n,this.selectionEndPosition=o}toString(){return"[ <"+this.value+">, selectionStart: "+this.selectionStart+", selectionEnd: "+this.selectionEnd+"]"}static readFromTextArea(e){return new a(e.getValue(),e.getSelectionStart(),e.getSelectionEnd(),null,null)}collapseSelection(){return new a(this.value,this.value.length,this.value.length,null,null)}writeToTextArea(e,t,i){s&&console.log("writeToTextArea "+e+": "+this.toString()),t.setValue(e,this.value),i&&t.setSelectionRange(e,this.selectionStart,this.selectionEnd)}deduceEditorPosition(e){if(e<=this.selectionStart){var t=this.value.substring(e,this.selectionStart);return this._finishDeduceEditorPosition(this.selectionStartPosition,t,-1)}if(e>=this.selectionEnd)return t=this.value.substring(this.selectionEnd,e),this._finishDeduceEditorPosition(this.selectionEndPosition,t,1);const i=this.value.substring(this.selectionStart,e);return-1===i.indexOf(String.fromCharCode(8230))?this._finishDeduceEditorPosition(this.selectionStartPosition,i,1):(e=this.value.substring(e,this.selectionEnd),this._finishDeduceEditorPosition(this.selectionEndPosition,e,-1))}_finishDeduceEditorPosition(e,t,i){let n=0,o=-1;for(;-1!==(o=t.indexOf("\n",o+1));)n++;return[e,i*t.length,n]}static selectedText(e){return new a(e,0,e.length,null,null)}static deduceInput(e,t,i){if(!e)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};s&&(console.log("------------------------deduceInput"),console.log("PREVIOUS STATE: "+e.toString()),console.log("CURRENT STATE: "+t.toString()));let o=e.value;var r=e.selectionStart,a=e.selectionEnd;let l=t.value;var c=t.selectionStart,d=t.selectionEnd;e=o.substring(a),t=l.substring(d),e=n.e(e,t);if(l=l.substring(0,l.length-e),o=o.substring(0,o.length-e),t=o.substring(0,r),e=l.substring(0,c),e=n.d(t,e),l=l.substring(e),o=o.substring(e),c-=e,r-=e,d-=e,a-=e,s&&(console.log("AFTER DIFFING PREVIOUS STATE: <"+o+">, selectionStart: "+r+", selectionEnd: "+a),console.log("AFTER DIFFING CURRENT STATE: <"+l+">, selectionStart: "+c+", selectionEnd: "+d)),i&&c==d&&0<o.length){let e=null;if(c===l.length?l.startsWith(o)&&(e=l.substring(o.length)):l.endsWith(o)&&(e=l.substring(0,l.length-o.length)),null!==e&&0<e.length&&(/\uFE0F/.test(e)||n.k(e)))return{text:e,replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0}}if(c==d){if(o===l&&0==r&&a===o.length&&c===l.length&&-1===l.indexOf("\n")&&n.l(l))return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};const i=t.length-e;return s&&console.log("REMOVE PREVIOUS: "+(t.length-e)+" chars"),{text:l,replacePrevCharCnt:i,replaceNextCharCnt:0,positionDelta:0}}return{text:l,replacePrevCharCnt:a-r,replaceNextCharCnt:0,positionDelta:0}}static deduceAndroidCompositionInput(e,t){if(!e)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};if(s&&(console.log("------------------------deduceAndroidCompositionInput"),console.log("PREVIOUS STATE: "+e.toString()),console.log("CURRENT STATE: "+t.toString())),e.value===t.value)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:t.selectionEnd-e.selectionEnd};var i=Math.min(n.d(e.value,t.value),e.selectionEnd),o=Math.min(n.e(e.value,t.value),e.value.length-e.selectionEnd),r=e.value.substring(i,e.value.length-o),a=t.value.substring(i,t.value.length-o),l=e.selectionStart-i;o=e.selectionEnd-i,e=t.selectionStart-i,i=t.selectionEnd-i;return s&&(console.log("AFTER DIFFING PREVIOUS STATE: <"+r+">, selectionStart: "+l+", selectionEnd: "+o),console.log("AFTER DIFFING CURRENT STATE: <"+a+">, selectionStart: "+e+", selectionEnd: "+i)),{text:a,replacePrevCharCnt:o,replaceNextCharCnt:r.length-o,positionDelta:i-a.length}}}a.EMPTY=new a("",0,0,null,null);class l{static _getPageOfLine(e,t){return Math.floor((e-1)/t)}static _getRangeForPage(e,t){return e*=t,new r.a(1+e,1,e+t+1,1)}static fromEditorSelection(e,t,i,n,s){var c=l._getPageOfLine(i.startLineNumber,n);const d=l._getRangeForPage(c,n);var h=l._getPageOfLine(i.endLineNumber,n);const u=l._getRangeForPage(h,n);var g=d.intersectRanges(new r.a(1,1,i.startLineNumber,i.startColumn));let p=t.getValueInRange(g,1);n=t.getLineCount(),g=t.getLineMaxColumn(n),g=u.intersectRanges(new r.a(i.endLineNumber,i.endColumn,n,g));let f,m=t.getValueInRange(g,1);return f=c===h||c+1===h?t.getValueInRange(i,1):(c=d.intersectRanges(i),h=u.intersectRanges(i),t.getValueInRange(c,1)+String.fromCharCode(8230)+t.getValueInRange(h,1)),s&&(500<p.length&&(p=p.substring(p.length-500,p.length)),500<m.length&&(m=m.substring(0,500)),1e3<f.length&&(f=f.substring(0,500)+String.fromCharCode(8230)+f.substring(f.length-500,f.length))),new a(p+f+m,p.length,p.length+f.length,new o.a(i.startLineNumber,i.startColumn),new o.a(i.endLineNumber,i.endColumn))}}},function(e,t,i){"use strict";i.d(t,"a",(function(){return g})),i.d(t,"c",(function(){return h})),i.d(t,"b",(function(){return f}));var n,o=i(6),r=i(2),s=i(19),a=i(18),l=function(e,t,i,n){return new(i=i||Promise)((function(o,r){function s(e){try{l(n.next(e))}catch(e){r(e)}}function a(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):((t=e.value)instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};(t=n=n||{})[t.None=0]="None",t[t.Initialized=1]="Initialized",t[t.Closed=2]="Closed";class c extends r.a{constructor(e,t=Object.create(null)){super(),this.database=e,this.options=t,this._onDidChangeStorage=this._register(new o.b),this.onDidChangeStorage=this._onDidChangeStorage.event,this.state=n.None,this.cache=new Map,this.flushDelayer=new a.f(c.DEFAULT_FLUSH_DELAY),this.pendingDeletes=new Set,this.pendingInserts=new Map,this.whenFlushedCallbacks=[],this.registerListeners()}registerListeners(){this._register(this.database.onDidChangeItemsExternal(e=>this.onDidChangeItemsExternal(e)))}onDidChangeItemsExternal(e){var t;null!==(t=e.changed)&&void 0!==t&&t.forEach((e,t)=>this.accept(t,e)),null!==(e=e.deleted)&&void 0!==e&&e.forEach(e=>this.accept(e,void 0))}accept(e,t){if(this.state!==n.Closed){let i=!1;Object(s.n)(t)?i=this.cache.delete(e):this.cache.get(e)!==t&&(this.cache.set(e,t),i=!0),i&&this._onDidChangeStorage.fire(e)}}get(e,t){return e=this.cache.get(e),Object(s.n)(e)?t:e}getBoolean(e,t){return e=this.get(e),Object(s.n)(e)?t:"true"===e}getNumber(e,t){return e=this.get(e),Object(s.n)(e)?t:parseInt(e,10)}set(e,t){return l(this,void 0,void 0,(function*(){if(this.state!==n.Closed){if(Object(s.n)(t))return this.delete(e);var i=String(t);return this.cache.get(e)!==i?(this.cache.set(e,i),this.pendingInserts.set(e,i),this.pendingDeletes.delete(e),this._onDidChangeStorage.fire(e),this.flushDelayer.trigger(()=>this.flushPending())):void 0}}))}delete(e){return l(this,void 0,void 0,(function*(){if(this.state!==n.Closed&&this.cache.delete(e))return this.pendingDeletes.has(e)||this.pendingDeletes.add(e),this.pendingInserts.delete(e),this._onDidChangeStorage.fire(e),this.flushDelayer.trigger(()=>this.flushPending())}))}get hasPending(){return 0<this.pendingInserts.size||0<this.pendingDeletes.size}flushPending(){return l(this,void 0,void 0,(function*(){if(this.hasPending){var e={insert:this.pendingInserts,delete:this.pendingDeletes};return this.pendingDeletes=new Set,this.pendingInserts=new Map,this.database.updateItems(e).finally(()=>{var e;if(!this.hasPending)for(;this.whenFlushedCallbacks.length;)null!==(e=this.whenFlushedCallbacks.pop())&&void 0!==e&&e()})}}))}dispose(){this.flushDelayer.dispose(),super.dispose()}}c.DEFAULT_FLUSH_DELAY=100;class d{constructor(){this.onDidChangeItemsExternal=o.c.None,this.items=new Map}updateItems(e){return l(this,void 0,void 0,(function*(){e.insert&&e.insert.forEach((e,t)=>this.items.set(t,e)),e.delete&&e.delete.forEach(e=>this.items.delete(e))}))}}var h;i=i(21);const u="__$__targetStorageMarker",g=Object(i.c)("storageService");(i=h=h||{})[i.NONE=0]="NONE",i[i.SHUTDOWN=1]="SHUTDOWN";class p extends r.a{constructor(e={flushInterval:p.DEFAULT_FLUSH_INTERVAL}){super(),this.options=e,this._onDidChangeValue=this._register(new o.e),this._onDidChangeTarget=this._register(new o.e),this._onWillSaveState=this._register(new o.b),this.onWillSaveState=this._onWillSaveState.event,this._workspaceKeyTargets=void 0,this._globalKeyTargets=void 0}emitDidChangeValue(e,t){t===u?(0===e?this._globalKeyTargets=void 0:1===e&&(this._workspaceKeyTargets=void 0),this._onDidChangeTarget.fire({scope:e})):this._onDidChangeValue.fire({scope:e,key:t,target:this.getKeyTargets(e)[t]})}get(e,t,i){return null===(t=this.getStorage(t))||void 0===t?void 0:t.get(e,i)}getBoolean(e,t,i){return null===(t=this.getStorage(t))||void 0===t?void 0:t.getBoolean(e,i)}getNumber(e,t,i){return null===(t=this.getStorage(t))||void 0===t?void 0:t.getNumber(e,i)}store(e,t,i,n){Object(s.n)(t)?this.remove(e,i):this.withPausedEmitters(()=>{var o;this.updateKeyTarget(e,i,n),null!==(o=this.getStorage(i))&&void 0!==o&&o.set(e,t)})}remove(e,t){this.withPausedEmitters(()=>{var i;this.updateKeyTarget(e,t,void 0),null!==(i=this.getStorage(t))&&void 0!==i&&i.delete(e)})}withPausedEmitters(e){this._onDidChangeValue.pause(),this._onDidChangeTarget.pause();try{e()}finally{this._onDidChangeValue.resume(),this._onDidChangeTarget.resume()}}updateKeyTarget(e,t,i){const n=this.getKeyTargets(t);"number"==typeof i?n[e]!==i&&(n[e]=i,null!==(i=this.getStorage(t))&&void 0!==i&&i.set(u,JSON.stringify(n))):"number"==typeof n[e]&&(delete n[e],null!==(t=this.getStorage(t))&&void 0!==t&&t.set(u,JSON.stringify(n)))}get workspaceKeyTargets(){return this._workspaceKeyTargets||(this._workspaceKeyTargets=this.loadKeyTargets(1)),this._workspaceKeyTargets}get globalKeyTargets(){return this._globalKeyTargets||(this._globalKeyTargets=this.loadKeyTargets(0)),this._globalKeyTargets}getKeyTargets(e){return 0===e?this.globalKeyTargets:this.workspaceKeyTargets}loadKeyTargets(e){if(e=this.get(u,e))try{return JSON.parse(e)}catch(e){}return Object.create(null)}}p.DEFAULT_FLUSH_INTERVAL=6e4;class f extends p{constructor(){super(),this.globalStorage=this._register(new c(new d)),this.workspaceStorage=this._register(new c(new d)),this._register(this.workspaceStorage.onDidChangeStorage(e=>this.emitDidChangeValue(1,e))),this._register(this.globalStorage.onDidChangeStorage(e=>this.emitDidChangeValue(0,e)))}getStorage(e){return 0===e?this.globalStorage:this.workspaceStorage}}},function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));class n{constructor(e){this.element=e,this.next=n.Undefined,this.prev=n.Undefined}}n.Undefined=new n(void 0);class o{constructor(){this._first=n.Undefined,this._last=n.Undefined,this._size=0}get size(){return this._size}isEmpty(){return this._first===n.Undefined}clear(){let e=this._first;for(;e!==n.Undefined;){var t=e.next;e.prev=n.Undefined,e.next=n.Undefined,e=t}this._first=n.Undefined,this._last=n.Undefined,this._size=0}unshift(e){return this._insert(e,!1)}push(e){return this._insert(e,!0)}_insert(e,t){const i=new n(e);if(this._first===n.Undefined)this._first=i,this._last=i;else if(t){const e=this._last;this._last=i,i.prev=e,e.next=i}else{const e=this._first;this._first=i,i.next=e,e.prev=i}this._size+=1;let o=!1;return()=>{o||(o=!0,this._remove(i))}}shift(){if(this._first!==n.Undefined){var e=this._first.element;return this._remove(this._first),e}}pop(){if(this._last!==n.Undefined){var e=this._last.element;return this._remove(this._last),e}}_remove(e){if(e.prev!==n.Undefined&&e.next!==n.Undefined){const t=e.prev;t.next=e.next,e.next.prev=t}else e.prev===n.Undefined&&e.next===n.Undefined?(this._first=n.Undefined,this._last=n.Undefined):e.next===n.Undefined?(this._last=this._last.prev,this._last.next=n.Undefined):e.prev===n.Undefined&&(this._first=this._first.next,this._first.prev=n.Undefined);--this._size}*[Symbol.iterator](){let e=this._first;for(;e!==n.Undefined;)yield e.element,e=e.next}}},function(e,t,i){"use strict";i.d(t,"b",(function(){return a})),i.d(t,"c",(function(){return l})),i.d(t,"a",(function(){return c})),i.d(t,"d",(function(){return u})),i.d(t,"e",(function(){return p}));var n=i(9),o=i(147),r=i(160);class s{constructor(e,t,i){this._linePartBrand=void 0,this.endIndex=e,this.type=t,this.metadata=i}isWhitespace(){return!!(1&this.metadata)}isPseudoAfter(){return!!(4&this.metadata)}}class a{constructor(e,t){this.startOffset=e,this.endOffset=t}equals(e){return this.startOffset===e.startOffset&&this.endOffset===e.endOffset}}class l{constructor(e,t,i,n,o,s,a,l,c,d,h,u,g,p,f,m,v,b,_){this.useMonospaceOptimizations=e,this.canUseHalfwidthRightwardsArrow=t,this.lineContent=i,this.continuesWithWrappedLine=n,this.isBasicASCII=o,this.containsRTL=s,this.fauxIndentLength=a,this.lineTokens=l,this.lineDecorations=c.sort(r.a.compare),this.tabSize=d,this.startVisibleColumn=h,this.spaceWidth=u,this.stopRenderingLineAfter=f,this.renderWhitespace="all"===m?4:"boundary"===m?1:"selection"===m?2:"trailing"===m?3:0,this.renderControlCharacters=v,this.fontLigatures=b,this.selectionsOnLine=_&&_.sort((e,t)=>e.startOffset<t.startOffset?-1:1),Math.abs(p-u)<Math.abs(g-u)?(this.renderSpaceWidth=p,this.renderSpaceCharCode=11825):(this.renderSpaceWidth=g,this.renderSpaceCharCode=183)}sameSelection(e){if(null===this.selectionsOnLine)return null===e;if(null===e)return!1;if(e.length!==this.selectionsOnLine.length)return!1;for(let t=0;t<this.selectionsOnLine.length;t++)if(!this.selectionsOnLine[t].equals(e[t]))return!1;return!0}equals(e){return this.useMonospaceOptimizations===e.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===e.canUseHalfwidthRightwardsArrow&&this.lineContent===e.lineContent&&this.continuesWithWrappedLine===e.continuesWithWrappedLine&&this.isBasicASCII===e.isBasicASCII&&this.containsRTL===e.containsRTL&&this.fauxIndentLength===e.fauxIndentLength&&this.tabSize===e.tabSize&&this.startVisibleColumn===e.startVisibleColumn&&this.spaceWidth===e.spaceWidth&&this.renderSpaceWidth===e.renderSpaceWidth&&this.renderSpaceCharCode===e.renderSpaceCharCode&&this.stopRenderingLineAfter===e.stopRenderingLineAfter&&this.renderWhitespace===e.renderWhitespace&&this.renderControlCharacters===e.renderControlCharacters&&this.fontLigatures===e.fontLigatures&&r.a.equalsArr(this.lineDecorations,e.lineDecorations)&&this.lineTokens.equals(e.lineTokens)&&this.sameSelection(e.selectionsOnLine)}}class c{constructor(e,t){this.partIndex=e,this.charIndex=t}}class d{constructor(e,t){this.length=e,this._data=new Uint32Array(this.length),this._absoluteOffsets=new Uint32Array(this.length)}static getPartIndex(e){return(4294901760&e)>>>16}static getCharIndex(e){return(65535&e)>>>0}setColumnInfo(e,t,i,n){this._data[e-1]=(t<<16|i<<0)>>>0,this._absoluteOffsets[e-1]=n+i}getAbsoluteOffset(e){return 0===this._absoluteOffsets.length?0:this._absoluteOffsets[e-1]}charOffsetToPartData(e){return 0===this.length?0:e<0?this._data[0]:e>=this.length?this._data[this.length-1]:this._data[e]}getDomPosition(e){var t=this.charOffsetToPartData(e-1);e=d.getPartIndex(t),t=d.getCharIndex(t);return new c(e,t)}getColumn(e,t){return this.partDataToCharOffset(e.partIndex,t,e.charIndex)+1}partDataToCharOffset(e,t,i){if(0===this.length)return 0;var n=(e<<16|i<<0)>>>0;let o=0,r=this.length-1;for(;o+1<r;){var s=o+r>>>1,a=this._data[s];if(a===n)return s;n<a?r=s:o=s}if(o===r)return o;var l=this._data[o],c=this._data[r];if(l===n)return o;if(c===n)return r;var h=d.getPartIndex(l);e=d.getCharIndex(l);let u;return u=h!==(l=d.getPartIndex(c))?t:d.getCharIndex(c),i-e<=u-i?o:r}}class h{constructor(e,t,i){this._renderLineOutputBrand=void 0,this.characterMapping=e,this.containsRTL=t,this.containsForeignElements=i}}function u(e,t){if(0!==e.lineContent.length)return function(e,t){const i=e.fontIsMonospace,o=e.canUseHalfwidthRightwardsArrow,r=e.containsForeignElements,s=e.lineContent,a=e.len,l=e.isOverflowing,c=e.parts,u=e.fauxIndentLength,g=e.tabSize,p=e.startVisibleColumn,f=e.containsRTL,v=e.spaceWidth,b=e.renderSpaceCharCode,_=e.renderWhitespace,w=e.renderControlCharacters,C=new d(a+1,c.length);let y=!1,x=0,S=p,k=0,D=0,L=0,O=0;f?t.appendASCIIString('<span dir="ltr">'):t.appendASCIIString("<span>");for(let e=0,l=c.length;e<l;e++){O+=L;const l=c[e];var E=l.endIndex,N=l.type,I=0!==_&&l.isWhitespace(),T=I&&!i&&("mtkw"===N||!r),M=x===E&&l.isPseudoAfter();if(k=0,t.appendASCIIString('<span class="'),t.appendASCIIString(T?"mtkz":N),t.appendASCII(34),I){let i=0;{let e=x,t=S;for(;e<E;e++){var A=0|(9===s.charCodeAt(e)?g-t%g:1);i+=A,e>=u&&(t+=A)}}for(T&&(t.appendASCIIString(' style="width:'),t.appendASCIIString(String(v*i)),t.appendASCIIString('px"')),t.appendASCII(62);x<E;x++){let i;if(C.setColumnInfo(x+1,e-D,k,O),D=0,9===s.charCodeAt(x)){i=g-S%g|0,!o||1<i?t.write1(8594):t.write1(65515);for(let e=2;e<=i;e++)t.write1(160)}else i=1,t.write1(b);k+=i,x>=u&&(S+=i)}L=i}else{let i=0;for(t.appendASCII(62);x<E;x++){C.setColumnInfo(x+1,e-D,k,O),D=0;var P=s.charCodeAt(x);let o=1,r=1;switch(P){case 9:o=g-S%g,r=o;for(let e=1;e<=o;e++)t.write1(160);break;case 32:t.write1(160);break;case 60:t.appendASCIIString("&lt;");break;case 62:t.appendASCIIString("&gt;");break;case 38:t.appendASCIIString("&amp;");break;case 0:w?t.write1(9216):t.appendASCIIString("&#00;");break;case 65279:case 8232:case 8233:case 133:t.write1(65533);break;default:n.D(P)&&r++,w&&P<32?t.write1(9216+P):w&&127===P?t.write1(9249):w&&m(P)?(t.appendASCIIString("[U+"),t.appendASCIIString(P.toString(16).toUpperCase().padStart(4,"0")),t.appendASCIIString("]"),o=8):t.write1(P)}k+=o,i+=o,x>=u&&(S+=r)}L=i}M?D++:D=0,x>=a&&!y&&l.isPseudoAfter()&&(y=!0,C.setColumnInfo(x+1,e,k,O)),t.appendASCIIString("</span>")}return y||C.setColumnInfo(a+1,c.length-1,k,O),l&&t.appendASCIIString("<span>&hellip;</span>"),t.appendASCIIString("</span>"),new h(C,f,r)}(function(e){var t=e.lineContent;let i,o;o=-1!==e.stopRenderingLineAfter&&e.stopRenderingLineAfter<t.length?(i=!0,e.stopRenderingLineAfter):(i=!1,t.length);let a=function(e,t,i){let n=[],o=0;0<t&&(n[o++]=new s(t,"",0));for(let l=0,c=e.getCount();l<c;l++){var r=e.getEndOffset(l);if(!(r<=t)){var a=e.getClassName(l);if(i<=r){n[o++]=new s(i,a,0);break}n[o++]=new s(r,a,0)}}return n}(e.lineTokens,e.fauxIndentLength,o);(4===e.renderWhitespace||1===e.renderWhitespace||2===e.renderWhitespace&&e.selectionsOnLine||3===e.renderWhitespace)&&(a=function(e,t,i,o){var r=e.continuesWithWrappedLine,a=e.fauxIndentLength,l=e.tabSize,c=e.startVisibleColumn,d=e.useMonospaceOptimizations,h=e.selectionsOnLine,u=1===e.renderWhitespace,g=3===e.renderWhitespace,p=e.renderSpaceWidth!==e.spaceWidth;let f=[],m=0,v=0,b=o[v].type,_=o[v].endIndex;var w=o.length;let C,y=!1,x=n.u(t);C=-1===x?(y=!0,x=i,i):n.I(t);let S=!1,k=0,D=h&&h[k],L=c%l;for(let e=a;e<i;e++){var O,E=t.charCodeAt(e);let r;if(D&&e>=D.endOffset&&(k++,D=h&&h[k]),r=e<x||e>C||9===E||32===E&&(!u||!!S||32===(O=e+1<i?t.charCodeAt(e+1):0)||9===O),r&&h&&(r=!!D&&D.startOffset<=e&&D.endOffset>e),r&&g&&(r=y||e>C),S){if(!r||!d&&L>=l){if(p)for(let t=(0<m?f[m-1].endIndex:a)+1;t<=e;t++)f[m++]=new s(t,"mtkw",1);else f[m++]=new s(e,"mtkw",1);L%=l}}else(e===_||r&&e>a)&&(f[m++]=new s(e,b,0),L%=l);for(9===E?L=l:n.D(E)?L+=2:L++,S=r;e===_&&(v++,v<w);)b=o[v].type,_=o[v].endIndex}let N=!1;if(S&&(r&&u?(c=0<i?t.charCodeAt(i-1):0,r=1<i?t.charCodeAt(i-2):0,32===c&&32!==r&&9!==r||(N=!0)):N=!0),N)if(p)for(let e=(0<m?f[m-1].endIndex:a)+1;e<=i;e++)f[m++]=new s(e,"mtkw",1);else f[m++]=new s(i,"mtkw",1);else f[m++]=new s(i,b,0);return f}(e,t,o,a));let l=0;if(0<e.lineDecorations.length){for(let t=0,i=e.lineDecorations.length;t<i;t++){var c=e.lineDecorations[t];3===c.type||1===c.type?l|=1:2===c.type&&(l|=2)}a=function(e,t,i){i.sort(r.a.compare);var n=r.b.normalize(e,i),o=n.length;let a=0,l=[],c=0,d=0;for(let e=0,i=t.length;e<i;e++){for(var h=t[e],u=h.endIndex,g=h.type,p=h.metadata;a<o&&n[a].startOffset<u;){var f=n[a];if(f.startOffset>d&&(d=f.startOffset,l[c++]=new s(d,g,p)),!(f.endOffset+1<=u)){d=u,l[c++]=new s(d,g+" "+f.className,p|f.metadata);break}d=f.endOffset+1,l[c++]=new s(d,g+" "+f.className,p|f.metadata),a++}u>d&&(d=u,l[c++]=new s(d,g,p))}var m=t[t.length-1].endIndex;if(a<o&&n[a].startOffset===m)for(;a<o&&n[a].startOffset===m;){var v=n[a];l[c++]=new s(d,v.className,v.metadata),a++}return l}(t,a,e.lineDecorations)}return e.containsRTL||(a=function(e,t,i){let n=0,o=[],r=0;if(i)for(let i=0,h=t.length;i<h;i++){var a=t[i],l=a.endIndex;if(n+50<l){var c=a.type,d=a.metadata;let t=-1,i=n;for(let a=n;a<l;a++)32===e.charCodeAt(a)&&(t=a),-1!==t&&50<=a-i&&(o[r++]=new s(t+1,c,d),i=t+1,t=-1);i!==l&&(o[r++]=new s(l,c,d))}else o[r++]=a;n=l}else for(let e=0,i=t.length;e<i;e++){var h=t[e],u=h.endIndex,g=u-n;if(50<g){var p=h.type,f=h.metadata,m=Math.ceil(g/50);for(let e=1;e<m;e++){var v=n+50*e;o[r++]=new s(v,p,f)}o[r++]=new s(u,p,f)}else o[r++]=h;n=u}return o}(t,a,!e.isBasicASCII||e.fontLigatures)),e.renderControlCharacters&&!e.isBasicASCII&&(a=function(e,t){let i=[],n=new s(0,"",0),o=0;for(const a of t){for(var r=a.endIndex;o<r;o++)m(e.charCodeAt(o))&&(o>n.endIndex&&(n=new s(o,a.type,a.metadata),i.push(n)),n=new s(o+1,"mtkcontrol",a.metadata),i.push(n));o>n.endIndex&&(n=new s(r,a.type,a.metadata),i.push(n))}return i}(t,a)),new f(e.useMonospaceOptimizations,e.canUseHalfwidthRightwardsArrow,t,o,i,a,l,e.fauxIndentLength,e.tabSize,e.startVisibleColumn,e.containsRTL,e.spaceWidth,e.renderSpaceCharCode,e.renderWhitespace,e.renderControlCharacters)}(e),t);if(0<e.lineDecorations.length){t.appendASCIIString("<span>");let i=0,n=0,o=0;for(const r of e.lineDecorations)1!==r.type&&2!==r.type||(t.appendASCIIString('<span class="'),t.appendASCIIString(r.className),t.appendASCIIString('"></span>'),1===r.type&&(o|=1,i++),2===r.type&&(o|=2,n++));t.appendASCIIString("</span>");const r=new d(1,i+n);return r.setColumnInfo(1,i,0,0),new h(r,!1,o)}return t.appendASCIIString("<span><span></span></span>"),new h(new d(0,0),!1,0)}class g{constructor(e,t,i,n){this.characterMapping=e,this.html=t,this.containsRTL=i,this.containsForeignElements=n}}function p(e){let t=Object(o.a)(1e4);return e=u(e,t),new g(e.characterMapping,t.build(),e.containsRTL,e.containsForeignElements)}class f{constructor(e,t,i,n,o,r,s,a,l,c,d,h,u,g,p){this.fontIsMonospace=e,this.canUseHalfwidthRightwardsArrow=t,this.lineContent=i,this.len=n,this.isOverflowing=o,this.parts=r,this.containsForeignElements=s,this.fauxIndentLength=a,this.tabSize=l,this.startVisibleColumn=c,this.containsRTL=d,this.spaceWidth=h,this.renderSpaceCharCode=u,this.renderWhitespace=g,this.renderControlCharacters=p}}function m(e){return e<32?9!==e:127===e||8234<=e&&e<=8238||8294<=e&&e<=8297||8206<=e&&e<=8207||1564===e}},function(e,t,i){"use strict";i.r(t),i.d(t,"CoreEditorCommand",(function(){return S})),i.d(t,"EditorScroll_",(function(){return g})),i.d(t,"RevealLine_",(function(){return f})),i.d(t,"CoreNavigationCommands",(function(){return m})),i.d(t,"CoreEditingCommands",(function(){return v}));var n=i(0),o=i(44),r=i(19),s=i(73),a=i(5),l=i(46),c=i(26),d=i(12),h=i(3);class u{static columnSelect(e,t,i,n,o,r){var s=Math.abs(o-i)+1,a=o<i,l=r<n,u=n<r;let g=[];for(let o=0;o<s;o++){var p=i+(a?-o:o),f=c.a.columnFromVisibleColumn2(e,t,p,n),m=c.a.columnFromVisibleColumn2(e,t,p,r),v=c.a.visibleColumnFromColumn2(e,t,new d.a(p,f)),b=c.a.visibleColumnFromColumn2(e,t,new d.a(p,m));if(u){if(r<v)continue;if(b<n)continue}if(l){if(n<b)continue;if(v<r)continue}g.push(new c.f(new h.a(p,f,p,f),0,new d.a(p,m),0))}if(0===g.length)for(let e=0;e<s;e++){var _=i+(a?-e:e),w=t.getLineMaxColumn(_);g.push(new c.f(new h.a(_,w,_,w),0,new d.a(_,w),0))}return{viewStates:g,reversed:a,fromLineNumber:i,fromVisualColumn:n,toLineNumber:o,toVisualColumn:r}}static columnSelectLeft(e,t,i){let n=i.toViewVisualColumn;return 0<n&&n--,u.columnSelect(e,t,i.fromViewLineNumber,i.fromViewVisualColumn,i.toViewLineNumber,n)}static columnSelectRight(e,t,i){let n=0;var o=Math.min(i.fromViewLineNumber,i.toViewLineNumber),r=Math.max(i.fromViewLineNumber,i.toViewLineNumber);for(let i=o;i<=r;i++){var s=t.getLineMaxColumn(i);s=c.a.visibleColumnFromColumn2(e,t,new d.a(i,s));n=Math.max(n,s)}let a=i.toViewVisualColumn;return a<n&&a++,this.columnSelect(e,t,i.fromViewLineNumber,i.fromViewVisualColumn,i.toViewLineNumber,a)}static columnSelectUp(e,t,i,n){return n=n?e.pageSize:1,n=Math.max(1,i.toViewLineNumber-n),this.columnSelect(e,t,i.fromViewLineNumber,i.fromViewVisualColumn,n,i.toViewVisualColumn)}static columnSelectDown(e,t,i,n){return n=n?e.pageSize:1,n=Math.min(t.getLineCount(),i.toViewLineNumber+n),this.columnSelect(e,t,i.fromViewLineNumber,i.fromViewVisualColumn,n,i.toViewVisualColumn)}}var g,p,f,m,v,b=i(206),_=i(108),w=i(154),C=i(8),y=i(10),x=i(111);class S extends a.c{runEditorCommand(e,t,i){(t=t._getViewModel())&&this.runCoreEditorCommand(t,i||{})}}(p=g=g||{}).description={description:"Scroll editor in the given direction",args:[{name:"Editor scroll argument object",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t* 'to': A mandatory direction value.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'up', 'down'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'by': Unit to move. Default is computed based on 'to' value.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'line', 'wrappedLine', 'page', 'halfPage'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'value': Number of units to move. Default is '1'.\n\t\t\t\t\t* 'revealCursor': If 'true' reveals the cursor if it is outside view port.\n\t\t\t\t",constraint:function(e){return!!r.k(e)&&!(!r.l(e.to)||!r.m(e.by)&&!r.l(e.by)||!r.m(e.value)&&!r.j(e.value)||!r.m(e.revealCursor)&&!r.g(e.revealCursor))},schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["up","down"]},by:{type:"string",enum:["line","wrappedLine","page","halfPage"]},value:{type:"number",default:1},revealCursor:{type:"boolean"}}}}]},p.RawDirection={Up:"up",Down:"down"},p.RawUnit={Line:"line",WrappedLine:"wrappedLine",Page:"page",HalfPage:"halfPage"},p.parse=function(e){let t,i;switch(e.to){case p.RawDirection.Up:t=1;break;case p.RawDirection.Down:t=2;break;default:return null}switch(e.by){case p.RawUnit.Line:i=1;break;case p.RawUnit.WrappedLine:i=2;break;case p.RawUnit.Page:i=3;break;case p.RawUnit.HalfPage:i=4;break;default:i=2}return{direction:t,unit:i,value:Math.floor(e.value||1),revealCursor:!!e.revealCursor,select:!!e.select}},(i=f=f||{}).description={description:"Reveal the given line at the given logical position",args:[{name:"Reveal line argument object",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t* 'lineNumber': A mandatory line number value.\n\t\t\t\t\t* 'at': Logical position at which line has to be revealed.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'top', 'center', 'bottom'\n\t\t\t\t\t\t```\n\t\t\t\t",constraint:function(e){return!!r.k(e)&&!(!r.j(e.lineNumber)&&!r.l(e.lineNumber)||!r.m(e.at)&&!r.l(e.at))},schema:{type:"object",required:["lineNumber"],properties:{lineNumber:{type:["number","string"]},at:{type:"string",enum:["top","center","bottom"]}}}}]},i.RawAtArgument={Top:"top",Center:"center",Bottom:"bottom"};class k{constructor(e){e.addImplementation(1e4,"code-editor",(e,t)=>{const i=e.get(l.a).getFocusedCodeEditor();return!(!i||!i.hasTextFocus())&&this._runEditorCommand(e,i,t)}),e.addImplementation(1e3,"generic-dom-input-textarea",(e,t)=>{const i=document.activeElement;return!!(i&&0<=["input","textarea"].indexOf(i.tagName.toLowerCase()))&&(this.runDOMCommand(),!0)}),e.addImplementation(0,"generic-dom",(e,t)=>{const i=e.get(l.a).getActiveCodeEditor();return!!i&&(i.focus(),this._runEditorCommand(e,i,t))})}_runEditorCommand(e,t,i){return(i=this.runEditorCommand(e,t,i))||!0}}!function(e){class t extends S{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,[_.b.moveTo(e,e.getPrimaryCursorState(),this._inSelectionMode,t.position,t.viewPosition)]),e.revealPrimaryCursor(t.source,!0)}}e.MoveTo=Object(a.k)(new t({id:"_moveTo",inSelectionMode:!1,precondition:void 0})),e.MoveToSelect=Object(a.k)(new t({id:"_moveToSelect",inSelectionMode:!0,precondition:void 0}));class i extends S{runCoreEditorCommand(e,t){e.model.pushStackElement();const i=this._getColumnSelectResult(e,e.getPrimaryCursorState(),e.getCursorColumnSelectData(),t);e.setCursorStates(t.source,3,i.viewStates.map(e=>c.d.fromViewState(e))),e.setCursorColumnSelectData({isReal:!0,fromViewLineNumber:i.fromLineNumber,fromViewVisualColumn:i.fromVisualColumn,toViewLineNumber:i.toLineNumber,toViewVisualColumn:i.toVisualColumn}),i.reversed?e.revealTopMostCursor(t.source):e.revealBottomMostCursor(t.source)}}e.ColumnSelect=Object(a.k)(new class extends i{constructor(){super({id:"columnSelect",precondition:void 0})}_getColumnSelectResult(e,t,i,n){var o=e.model.validatePosition(n.position),r=e.coordinatesConverter.validateViewPosition(new d.a(n.viewPosition.lineNumber,n.viewPosition.column),o);o=n.doColumnSelect?i.fromViewLineNumber:r.lineNumber,i=n.doColumnSelect?i.fromViewVisualColumn:n.mouseColumn-1;return u.columnSelect(e.cursorConfig,e,o,i,r.lineNumber,n.mouseColumn-1)}}),e.CursorColumnSelectLeft=Object(a.k)(new class extends i{constructor(){super({id:"cursorColumnSelectLeft",precondition:void 0,kbOpts:{weight:0,kbExpr:C.a.textInputFocus,primary:3599,linux:{primary:0}}})}_getColumnSelectResult(e,t,i,n){return u.columnSelectLeft(e.cursorConfig,e,i)}}),e.CursorColumnSelectRight=Object(a.k)(new class extends i{constructor(){super({id:"cursorColumnSelectRight",precondition:void 0,kbOpts:{weight:0,kbExpr:C.a.textInputFocus,primary:3601,linux:{primary:0}}})}_getColumnSelectResult(e,t,i,n){return u.columnSelectRight(e.cursorConfig,e,i)}});class r extends i{constructor(e){super(e),this._isPaged=e.isPaged}_getColumnSelectResult(e,t,i,n){return u.columnSelectUp(e.cursorConfig,e,i,this._isPaged)}}e.CursorColumnSelectUp=Object(a.k)(new r({isPaged:!1,id:"cursorColumnSelectUp",precondition:void 0,kbOpts:{weight:0,kbExpr:C.a.textInputFocus,primary:3600,linux:{primary:0}}})),e.CursorColumnSelectPageUp=Object(a.k)(new r({isPaged:!0,id:"cursorColumnSelectPageUp",precondition:void 0,kbOpts:{weight:0,kbExpr:C.a.textInputFocus,primary:3595,linux:{primary:0}}}));class l extends i{constructor(e){super(e),this._isPaged=e.isPaged}_getColumnSelectResult(e,t,i,n){return u.columnSelectDown(e.cursorConfig,e,i,this._isPaged)}}e.CursorColumnSelectDown=Object(a.k)(new l({isPaged:!1,id:"cursorColumnSelectDown",precondition:void 0,kbOpts:{weight:0,kbExpr:C.a.textInputFocus,primary:3602,linux:{primary:0}}})),e.CursorColumnSelectPageDown=Object(a.k)(new l({isPaged:!0,id:"cursorColumnSelectPageDown",precondition:void 0,kbOpts:{weight:0,kbExpr:C.a.textInputFocus,primary:3596,linux:{primary:0}}}));class p extends S{constructor(){super({id:"cursorMove",precondition:void 0,description:_.a.description})}runCoreEditorCommand(e,t){var i=_.a.parse(t);i&&this._runCursorMove(e,t.source,i)}_runCursorMove(e,t,i){e.model.pushStackElement(),e.setCursorStates(t,3,p._move(e,e.getCursorStates(),i)),e.revealPrimaryCursor(t,!0)}static _move(e,t,i){var n=i.select,o=i.value;switch(i.direction){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:return _.b.simpleMove(e,t,i.direction,n,o,i.unit);case 11:case 13:case 12:case 14:return _.b.viewportMove(e,t,i.direction,n,o);default:return null}}}e.CursorMoveImpl=p,e.CursorMove=Object(a.k)(new p);class m extends S{constructor(e){super(e),this._staticArgs=e.args}runCoreEditorCommand(e,t){let i=this._staticArgs;-1===this._staticArgs.value&&(i={direction:this._staticArgs.direction,unit:this._staticArgs.unit,select:this._staticArgs.select,value:e.cursorConfig.pageSize}),e.model.pushStackElement(),e.setCursorStates(t.source,3,_.b.simpleMove(e,e.getCursorStates(),i.direction,i.select,i.value,i.unit)),e.revealPrimaryCursor(t.source,!0)}}e.CursorLeft=Object(a.k)(new m({args:{direction:0,unit:0,select:!1,value:1},id:"cursorLeft",precondition:void 0,kbOpts:{weight:0,kbExpr:C.a.textInputFocus,primary:15,mac:{primary:15,secondary:[288]}}})),e.CursorLeftSelect=Object(a.k)(new m({args:{direction:0,unit:0,select:!0,value:1},id:"cursorLeftSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:C.a.textInputFocus,primary:1039}})),e.CursorRight=Object(a.k)(new m({args:{direction:1,unit:0,select:!1,value:1},id:"cursorRight",precondition:void 0,kbOpts:{weight:0,kbExpr:C.a.textInputFocus,primary:17,mac:{primary:17,secondary:[292]}}})),e.CursorRightSelect=Object(a.k)(new m({args:{direction:1,unit:0,select:!0,value:1},id:"cursorRightSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:C.a.textInputFocus,primary:1041}})),e.CursorUp=Object(a.k)(new m({args:{direction:2,unit:2,select:!1,value:1},id:"cursorUp",precondition:void 0,kbOpts:{weight:0,kbExpr:C.a.textInputFocus,primary:16,mac:{primary:16,secondary:[302]}}})),e.CursorUpSelect=Object(a.k)(new m({args:{direction:2,unit:2,select:!0,value:1},id:"cursorUpSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:C.a.textInputFocus,primary:1040,secondary:[3088],mac:{primary:1040},linux:{primary:1040}}})),e.CursorPageUp=Object(a.k)(new m({args:{direction:2,unit:2,select:!1,value:-1},id:"cursorPageUp",precondition:void 0,kbOpts:{weight:0,kbExpr:C.a.textInputFocus,primary:11}})),e.CursorPageUpSelect=Object(a.k)(new m({args:{direction:2,unit:2,select:!0,value:-1},id:"cursorPageUpSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:C.a.textInputFocus,primary:1035}})),e.CursorDown=Object(a.k)(new m({args:{direction:3,unit:2,select:!1,value:1},id:"cursorDown",precondition:void 0,kbOpts:{weight:0,kbExpr:C.a.textInputFocus,primary:18,mac:{primary:18,secondary:[300]}}})),e.CursorDownSelect=Object(a.k)(new m({args:{direction:3,unit:2,select:!0,value:1},id:"cursorDownSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:C.a.textInputFocus,primary:1042,secondary:[3090],mac:{primary:1042},linux:{primary:1042}}})),e.CursorPageDown=Object(a.k)(new m({args:{direction:3,unit:2,select:!1,value:-1},id:"cursorPageDown",precondition:void 0,kbOpts:{weight:0,kbExpr:C.a.textInputFocus,primary:12}})),e.CursorPageDownSelect=Object(a.k)(new m({args:{direction:3,unit:2,select:!0,value:-1},id:"cursorPageDownSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:C.a.textInputFocus,primary:1036}})),e.CreateCursor=Object(a.k)(new class extends S{constructor(){super({id:"createCursor",precondition:void 0})}runCoreEditorCommand(e,t){let i;i=t.wholeLine?_.b.line(e,e.getPrimaryCursorState(),!1,t.position,t.viewPosition):_.b.moveTo(e,e.getPrimaryCursorState(),!1,t.position,t.viewPosition);const n=e.getCursorStates();if(1<n.length){var o=i.modelState?i.modelState.position:null,r=i.viewState?i.viewState.position:null;for(let i=0,s=n.length;i<s;i++){const s=n[i];if((!o||s.modelState.selection.containsPosition(o))&&(!r||s.viewState.selection.containsPosition(r)))return n.splice(i,1),e.model.pushStackElement(),void e.setCursorStates(t.source,3,n)}}n.push(i),e.model.pushStackElement(),e.setCursorStates(t.source,3,n)}}),e.LastCursorMoveToSelect=Object(a.k)(new class extends S{constructor(){super({id:"_lastCursorMoveToSelect",precondition:void 0})}runCoreEditorCommand(e,t){var i=e.getLastAddedCursorIndex();const n=e.getCursorStates(),o=n.slice(0);o[i]=_.b.moveTo(e,n[i],!0,t.position,t.viewPosition),e.model.pushStackElement(),e.setCursorStates(t.source,3,o)}});class v extends S{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,_.b.moveToBeginningOfLine(e,e.getCursorStates(),this._inSelectionMode)),e.revealPrimaryCursor(t.source,!0)}}e.CursorHome=Object(a.k)(new v({inSelectionMode:!1,id:"cursorHome",precondition:void 0,kbOpts:{weight:0,kbExpr:C.a.textInputFocus,primary:14,mac:{primary:14,secondary:[2063]}}})),e.CursorHomeSelect=Object(a.k)(new v({inSelectionMode:!0,id:"cursorHomeSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:C.a.textInputFocus,primary:1038,mac:{primary:1038,secondary:[3087]}}}));class b extends S{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,this._exec(e.getCursorStates())),e.revealPrimaryCursor(t.source,!0)}_exec(e){const t=[];for(let n=0,o=e.length;n<o;n++){const o=e[n];var i=o.modelState.position.lineNumber;t[n]=c.d.fromModelState(o.modelState.move(this._inSelectionMode,i,1,0))}return t}}e.CursorLineStart=Object(a.k)(new b({inSelectionMode:!1,id:"cursorLineStart",precondition:void 0,kbOpts:{weight:0,kbExpr:C.a.textInputFocus,primary:0,mac:{primary:287}}})),e.CursorLineStartSelect=Object(a.k)(new b({inSelectionMode:!0,id:"cursorLineStartSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:C.a.textInputFocus,primary:0,mac:{primary:1311}}}));class w extends S{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,_.b.moveToEndOfLine(e,e.getCursorStates(),this._inSelectionMode,t.sticky||!1)),e.revealPrimaryCursor(t.source,!0)}}e.CursorEnd=Object(a.k)(new w({inSelectionMode:!1,id:"cursorEnd",precondition:void 0,kbOpts:{args:{sticky:!1},weight:0,kbExpr:C.a.textInputFocus,primary:13,mac:{primary:13,secondary:[2065]}},description:{description:"Go to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:n.a("stickydesc","Stick to the end even when going to longer lines"),type:"boolean",default:!1}}}}]}})),e.CursorEndSelect=Object(a.k)(new w({inSelectionMode:!0,id:"cursorEndSelect",precondition:void 0,kbOpts:{args:{sticky:!1},weight:0,kbExpr:C.a.textInputFocus,primary:1037,mac:{primary:1037,secondary:[3089]}},description:{description:"Select to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:n.a("stickydesc","Stick to the end even when going to longer lines"),type:"boolean",default:!1}}}}]}}));class y extends S{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,this._exec(e,e.getCursorStates())),e.revealPrimaryCursor(t.source,!0)}_exec(e,t){const i=[];for(let r=0,s=t.length;r<s;r++){const s=t[r];var n=s.modelState.position.lineNumber,o=e.model.getLineMaxColumn(n);i[r]=c.d.fromModelState(s.modelState.move(this._inSelectionMode,n,o,0))}return i}}e.CursorLineEnd=Object(a.k)(new y({inSelectionMode:!1,id:"cursorLineEnd",precondition:void 0,kbOpts:{weight:0,kbExpr:C.a.textInputFocus,primary:0,mac:{primary:291}}})),e.CursorLineEndSelect=Object(a.k)(new y({inSelectionMode:!0,id:"cursorLineEndSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:C.a.textInputFocus,primary:0,mac:{primary:1315}}}));class x extends S{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,_.b.moveToBeginningOfBuffer(e,e.getCursorStates(),this._inSelectionMode)),e.revealPrimaryCursor(t.source,!0)}}e.CursorTop=Object(a.k)(new x({inSelectionMode:!1,id:"cursorTop",precondition:void 0,kbOpts:{weight:0,kbExpr:C.a.textInputFocus,primary:2062,mac:{primary:2064}}})),e.CursorTopSelect=Object(a.k)(new x({inSelectionMode:!0,id:"cursorTopSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:C.a.textInputFocus,primary:3086,mac:{primary:3088}}}));class D extends S{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,_.b.moveToEndOfBuffer(e,e.getCursorStates(),this._inSelectionMode)),e.revealPrimaryCursor(t.source,!0)}}e.CursorBottom=Object(a.k)(new D({inSelectionMode:!1,id:"cursorBottom",precondition:void 0,kbOpts:{weight:0,kbExpr:C.a.textInputFocus,primary:2061,mac:{primary:2066}}})),e.CursorBottomSelect=Object(a.k)(new D({inSelectionMode:!0,id:"cursorBottomSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:C.a.textInputFocus,primary:3085,mac:{primary:3090}}}));class L extends S{constructor(){super({id:"editorScroll",precondition:void 0,description:g.description})}runCoreEditorCommand(e,t){var i=g.parse(t);i&&this._runEditorScroll(e,t.source,i)}_runEditorScroll(e,t,i){var n,o=this._computeDesiredScrollTop(e,i);i.revealCursor&&(n=e.getCompletelyVisibleViewRangeAtScrollTop(o),e.setCursorStates(t,3,[_.b.findPositionInViewportIfOutside(e,e.getPrimaryCursorState(),n,i.select)])),e.setScrollTop(o,0)}_computeDesiredScrollTop(e,t){if(1===t.unit){var i=e.getCompletelyVisibleViewRange();i=e.coordinatesConverter.convertViewRangeToModelRange(i);let n;return n=1===t.direction?Math.max(1,i.startLineNumber-t.value):Math.min(e.model.getLineCount(),i.startLineNumber+t.value),i=e.coordinatesConverter.convertModelPositionToViewPosition(new d.a(n,1)),e.getVerticalOffsetForLineNumber(i.lineNumber)}let n;return n=3===t.unit?e.cursorConfig.pageSize*t.value:4===t.unit?Math.round(e.cursorConfig.pageSize/2)*t.value:t.value,t=(1===t.direction?-1:1)*n,e.getScrollTop()+t*e.cursorConfig.lineHeight}}e.EditorScrollImpl=L,e.EditorScroll=Object(a.k)(new L),e.ScrollLineUp=Object(a.k)(new class extends S{constructor(){super({id:"scrollLineUp",precondition:void 0,kbOpts:{weight:0,kbExpr:C.a.textInputFocus,primary:2064,mac:{primary:267}}})}runCoreEditorCommand(t,i){e.EditorScroll._runEditorScroll(t,i.source,{direction:1,unit:2,value:1,revealCursor:!1,select:!1})}}),e.ScrollPageUp=Object(a.k)(new class extends S{constructor(){super({id:"scrollPageUp",precondition:void 0,kbOpts:{weight:0,kbExpr:C.a.textInputFocus,primary:2059,win:{primary:523},linux:{primary:523}}})}runCoreEditorCommand(t,i){e.EditorScroll._runEditorScroll(t,i.source,{direction:1,unit:3,value:1,revealCursor:!1,select:!1})}}),e.ScrollLineDown=Object(a.k)(new class extends S{constructor(){super({id:"scrollLineDown",precondition:void 0,kbOpts:{weight:0,kbExpr:C.a.textInputFocus,primary:2066,mac:{primary:268}}})}runCoreEditorCommand(t,i){e.EditorScroll._runEditorScroll(t,i.source,{direction:2,unit:2,value:1,revealCursor:!1,select:!1})}}),e.ScrollPageDown=Object(a.k)(new class extends S{constructor(){super({id:"scrollPageDown",precondition:void 0,kbOpts:{weight:0,kbExpr:C.a.textInputFocus,primary:2060,win:{primary:524},linux:{primary:524}}})}runCoreEditorCommand(t,i){e.EditorScroll._runEditorScroll(t,i.source,{direction:2,unit:3,value:1,revealCursor:!1,select:!1})}});class O extends S{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,[_.b.word(e,e.getPrimaryCursorState(),this._inSelectionMode,t.position)]),e.revealPrimaryCursor(t.source,!0)}}e.WordSelect=Object(a.k)(new O({inSelectionMode:!1,id:"_wordSelect",precondition:void 0})),e.WordSelectDrag=Object(a.k)(new O({inSelectionMode:!0,id:"_wordSelectDrag",precondition:void 0})),e.LastCursorWordSelect=Object(a.k)(new class extends S{constructor(){super({id:"lastCursorWordSelect",precondition:void 0})}runCoreEditorCommand(e,t){var i=e.getLastAddedCursorIndex();const n=e.getCursorStates(),o=n.slice(0),r=n[i];o[i]=_.b.word(e,r,r.modelState.hasSelection(),t.position),e.model.pushStackElement(),e.setCursorStates(t.source,3,o)}});class E extends S{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,[_.b.line(e,e.getPrimaryCursorState(),this._inSelectionMode,t.position,t.viewPosition)]),e.revealPrimaryCursor(t.source,!1)}}e.LineSelect=Object(a.k)(new E({inSelectionMode:!1,id:"_lineSelect",precondition:void 0})),e.LineSelectDrag=Object(a.k)(new E({inSelectionMode:!0,id:"_lineSelectDrag",precondition:void 0}));class N extends S{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode}runCoreEditorCommand(e,t){var i=e.getLastAddedCursorIndex();const n=e.getCursorStates(),o=n.slice(0);o[i]=_.b.line(e,n[i],this._inSelectionMode,t.position,t.viewPosition),e.model.pushStackElement(),e.setCursorStates(t.source,3,o)}}e.LastCursorLineSelect=Object(a.k)(new N({inSelectionMode:!1,id:"lastCursorLineSelect",precondition:void 0})),e.LastCursorLineSelectDrag=Object(a.k)(new N({inSelectionMode:!0,id:"lastCursorLineSelectDrag",precondition:void 0})),e.ExpandLineSelection=Object(a.k)(new class extends S{constructor(){super({id:"expandLineSelection",precondition:void 0,kbOpts:{weight:0,kbExpr:C.a.textInputFocus,primary:2090}})}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,_.b.expandLineSelection(e,e.getCursorStates())),e.revealPrimaryCursor(t.source,!0)}}),e.CancelSelection=Object(a.k)(new class extends S{constructor(){super({id:"cancelSelection",precondition:C.a.hasNonEmptySelection,kbOpts:{weight:0,kbExpr:C.a.textInputFocus,primary:9,secondary:[1033]}})}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,[_.b.cancelSelection(e,e.getPrimaryCursorState())]),e.revealPrimaryCursor(t.source,!0)}}),e.RemoveSecondaryCursors=Object(a.k)(new class extends S{constructor(){super({id:"removeSecondaryCursors",precondition:C.a.hasMultipleSelections,kbOpts:{weight:1,kbExpr:C.a.textInputFocus,primary:9,secondary:[1033]}})}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,[e.getPrimaryCursorState()]),e.revealPrimaryCursor(t.source,!0),Object(s.c)(n.a("removedCursor","Removed secondary cursors"))}}),e.RevealLine=Object(a.k)(new class extends S{constructor(){super({id:"revealLine",precondition:void 0,description:f.description})}runCoreEditorCommand(e,t){var i=t,n=i.lineNumber||0;let o="number"==typeof n?n+1:parseInt(n)+1;o<1&&(o=1),o>(n=e.model.getLineCount())&&(o=n),n=new h.a(o,1,o,e.model.getLineMaxColumn(o));let r=0;if(i.at)switch(i.at){case f.RawAtArgument.Top:r=3;break;case f.RawAtArgument.Center:r=1;break;case f.RawAtArgument.Bottom:r=4}n=e.coordinatesConverter.convertModelRangeToViewRange(n),e.revealRange(t.source,!1,n,r,0)}}),e.SelectAll=new class extends k{constructor(){super(a.h)}runDOMCommand(){o.g&&(document.activeElement.focus(),document.activeElement.select()),document.execCommand("selectAll")}runEditorCommand(e,t,i){(t=t._getViewModel())&&this.runCoreEditorCommand(t,i)}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates("keyboard",3,[_.b.selectAll(e,e.getPrimaryCursorState())])}},e.SetSelection=Object(a.k)(new class extends S{constructor(){super({id:"setSelection",precondition:void 0})}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,[c.d.fromModelSelection(t.selection)])}})}(m=m||{});const D=y.a.and(C.a.textInputFocus,C.a.columnSelection);function L(e,t){x.a.registerKeybindingRule({id:e,primary:t,when:D,weight:1})}function O(e){return e.register(),e}L(m.CursorColumnSelectLeft.id,1039),L(m.CursorColumnSelectRight.id,1041),L(m.CursorColumnSelectUp.id,1040),L(m.CursorColumnSelectPageUp.id,1035),L(m.CursorColumnSelectDown.id,1042),L(m.CursorColumnSelectPageDown.id,1036),function(e){class t extends a.c{runEditorCommand(e,t,i){var n=t._getViewModel();n&&this.runCoreEditingCommand(t,n,i||{})}}e.CoreEditingCommand=t,e.LineBreakInsert=Object(a.k)(new class extends t{constructor(){super({id:"lineBreakInsert",precondition:C.a.writable,kbOpts:{weight:0,kbExpr:C.a.textInputFocus,primary:0,mac:{primary:301}}})}runCoreEditingCommand(e,t,i){e.pushUndoStop(),e.executeCommands(this.id,w.a.lineBreakInsert(t.cursorConfig,t.model,t.getCursorStates().map(e=>e.modelState.selection)))}}),e.Outdent=Object(a.k)(new class extends t{constructor(){super({id:"outdent",precondition:C.a.writable,kbOpts:{weight:0,kbExpr:y.a.and(C.a.editorTextFocus,C.a.tabDoesNotMoveFocus),primary:1026}})}runCoreEditingCommand(e,t,i){e.pushUndoStop(),e.executeCommands(this.id,w.a.outdent(t.cursorConfig,t.model,t.getCursorStates().map(e=>e.modelState.selection))),e.pushUndoStop()}}),e.Tab=Object(a.k)(new class extends t{constructor(){super({id:"tab",precondition:C.a.writable,kbOpts:{weight:0,kbExpr:y.a.and(C.a.editorTextFocus,C.a.tabDoesNotMoveFocus),primary:2}})}runCoreEditingCommand(e,t,i){e.pushUndoStop(),e.executeCommands(this.id,w.a.tab(t.cursorConfig,t.model,t.getCursorStates().map(e=>e.modelState.selection))),e.pushUndoStop()}}),e.DeleteLeft=Object(a.k)(new class extends t{constructor(){super({id:"deleteLeft",precondition:void 0,kbOpts:{weight:0,kbExpr:C.a.textInputFocus,primary:1,secondary:[1025],mac:{primary:1,secondary:[1025,294,257]}}})}runCoreEditingCommand(e,t,i){var[n,o]=b.a.deleteLeft(t.getPrevEditOperationType(),t.cursorConfig,t.model,t.getCursorStates().map(e=>e.modelState.selection),t.getCursorAutoClosedCharacters());n&&e.pushUndoStop(),e.executeCommands(this.id,o),t.setPrevEditOperationType(2)}}),e.DeleteRight=Object(a.k)(new class extends t{constructor(){super({id:"deleteRight",precondition:void 0,kbOpts:{weight:0,kbExpr:C.a.textInputFocus,primary:20,mac:{primary:20,secondary:[290,276]}}})}runCoreEditingCommand(e,t,i){var[n,o]=b.a.deleteRight(t.getPrevEditOperationType(),t.cursorConfig,t.model,t.getCursorStates().map(e=>e.modelState.selection));n&&e.pushUndoStop(),e.executeCommands(this.id,o),t.setPrevEditOperationType(3)}}),e.Undo=new class extends k{constructor(){super(a.i)}runDOMCommand(){document.execCommand("undo")}runEditorCommand(e,t,i){if(t.hasModel()&&!0!==t.getOption(80))return t.getModel().undo()}},e.Redo=new class extends k{constructor(){super(a.g)}runDOMCommand(){document.execCommand("redo")}runEditorCommand(e,t,i){if(t.hasModel()&&!0!==t.getOption(80))return t.getModel().redo()}}}(v=v||{});class E extends a.a{constructor(e,t,i){super({id:e,precondition:void 0,description:i}),this._handlerId=t}runCommand(e,t){const i=e.get(l.a).getFocusedCodeEditor();i&&i.trigger("keyboard",this._handlerId,t)}}function N(e,t){O(new E("default:"+e,e)),O(new E(e,e,t))}N("type",{description:"类型",args:[{name:"args",schema:{type:"object",required:["text"],properties:{text:{type:"string"}}}}]}),N("replacePreviousChar"),N("compositionType"),N("compositionStart"),N("compositionEnd"),N("paste"),N("cut")},function(e,t,i){"use strict";function n(e,t){let i=0;for(let n=0;n<e.length;n++)"\t"===e.charAt(n)?i+=t:i++;return i}function o(e,t,i){e=e<0?0:e;let n="";if(!i){var o=Math.floor(e/t);e%=t;for(let e=0;e<o;e++)n+="\t"}for(let t=0;t<e;t++)n+=" ";return n}i.d(t,"b",(function(){return n})),i.d(t,"a",(function(){return o}))},function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var n=i(11);class o{constructor(e,t,i){this._lineTokensBrand=void 0,this._tokens=e,this._tokensCount=this._tokens.length>>>1,this._text=t,this._languageIdCodec=i}static createEmpty(e,t){var i=o.defaultTokenMetadata;const n=new Uint32Array(2);return n[0]=e.length,n[1]=i,new o(n,e,t)}equals(e){return e instanceof o&&this.slicedEquals(e,0,this._tokensCount)}slicedEquals(e,t,i){if(this._text!==e._text)return!1;if(this._tokensCount!==e._tokensCount)return!1;var n=(t=t<<1)+(i<<1);for(let i=t;i<n;i++)if(this._tokens[i]!==e._tokens[i])return!1;return!0}getLineContent(){return this._text}getCount(){return this._tokensCount}getStartOffset(e){return 0<e?this._tokens[e-1<<1]:0}getMetadata(e){return this._tokens[1+(e<<1)]}getLanguageId(e){return e=this._tokens[1+(e<<1)],e=n.E.getLanguageId(e),this._languageIdCodec.decodeLanguageId(e)}getStandardTokenType(e){return e=this._tokens[1+(e<<1)],n.E.getTokenType(e)}getForeground(e){return e=this._tokens[1+(e<<1)],n.E.getForeground(e)}getClassName(e){return e=this._tokens[1+(e<<1)],n.E.getClassNameFromMetadata(e)}getInlineStyle(e,t){return e=this._tokens[1+(e<<1)],n.E.getInlineStyleFromMetadata(e,t)}getEndOffset(e){return this._tokens[e<<1]}findTokenIndexAtOffset(e){return o.findIndexInTokensArray(this._tokens,e)}inflate(){return this}sliceAndInflate(e,t,i){return new r(this,e,t,i)}static convertToEndOffset(e,t){var i=(e.length>>>1)-1;for(let t=0;t<i;t++)e[t<<1]=e[t+1<<1];e[i<<1]=t}static findIndexInTokensArray(e,t){if(e.length<=2)return 0;let i=0,n=(e.length>>>1)-1;for(;i<n;){var o=i+Math.floor((n-i)/2),r=e[o<<1];if(r===t)return o+1;r<t?i=o+1:t<r&&(n=o)}return i}withInserted(e){if(0===e.length)return this;let t=0,i=0,n="";const r=new Array;let s=0;for(;;){var a=t<this._tokensCount?this._tokens[t<<1]:-1,l=i<e.length?e[i]:null;if(-1!==a&&(null===l||a<=l.offset)){n+=this._text.substring(s,a);var c=this._tokens[1+(t<<1)];r.push(n.length,c),t++,s=a}else{if(!l)break;l.offset>s&&(n+=this._text.substring(s,l.offset),a=this._tokens[1+(t<<1)],r.push(n.length,a),s=l.offset),n+=l.text,r.push(n.length,l.tokenMetadata),i++}}return new o(new Uint32Array(r),n,this._languageIdCodec)}}o.defaultTokenMetadata=16793600;class r{constructor(e,t,i,n){this._source=e,this._startOffset=t,this._endOffset=i,this._deltaOffset=n,this._firstTokenIndex=e.findTokenIndexAtOffset(t),this._tokensCount=0;for(let t=this._firstTokenIndex,n=e.getCount();t<n&&!(i<=e.getStartOffset(t));t++)this._tokensCount++}equals(e){return e instanceof r&&this._startOffset===e._startOffset&&this._endOffset===e._endOffset&&this._deltaOffset===e._deltaOffset&&this._source.slicedEquals(e._source,this._firstTokenIndex,this._tokensCount)}getCount(){return this._tokensCount}getForeground(e){return this._source.getForeground(this._firstTokenIndex+e)}getEndOffset(e){return e=this._source.getEndOffset(this._firstTokenIndex+e),Math.min(this._endOffset,e)-this._startOffset+this._deltaOffset}getClassName(e){return this._source.getClassName(this._firstTokenIndex+e)}getInlineStyle(e,t){return this._source.getInlineStyle(this._firstTokenIndex+e,t)}findTokenIndexAtOffset(e){return this._source.findTokenIndexAtOffset(e+this._startOffset-this._deltaOffset)-this._firstTokenIndex}}},function(e,t,i){"use strict";var n;function o(e,t){if(e.start>=t.end||t.start>=e.end)return{start:0,end:0};var i=Math.max(e.start,t.start);return(t=Math.min(e.end,t.end))-i<=0?{start:0,end:0}:{start:i,end:t}}function r(e){return e.end-e.start<=0}i.d(t,"a",(function(){return n})),(t=n=n||{}).intersect=o,t.isEmpty=r,t.intersects=function(e,t){return!r(o(e,t))},t.relativeComplement=function(e,t){const i=[];var n={start:e.start,end:Math.min(t.start,e.end)};e={start:Math.max(t.end,e.start),end:e.end};return r(n)||i.push(n),r(e)||i.push(e),i}},function(e,t,i){"use strict";i.d(t,"b",(function(){return L})),i.d(t,"c",(function(){return O})),i.d(t,"a",(function(){return E}));var n=i(44),o=i(1),r=i(47),s=i(89),a=i(122),l=i(98),c=i(18);class d extends l.a{constructor(e){super(),this._onActivate=e.onActivate,this.bgDomNode=document.createElement("div"),this.bgDomNode.className="arrow-background",this.bgDomNode.style.position="absolute",this.bgDomNode.style.width=e.bgWidth+"px",this.bgDomNode.style.height=e.bgHeight+"px",void 0!==e.top&&(this.bgDomNode.style.top="0px"),void 0!==e.left&&(this.bgDomNode.style.left="0px"),void 0!==e.bottom&&(this.bgDomNode.style.bottom="0px"),void 0!==e.right&&(this.bgDomNode.style.right="0px"),this.domNode=document.createElement("div"),this.domNode.className=e.className,this.domNode.classList.add(...e.icon.classNamesArray),this.domNode.style.position="absolute",this.domNode.style.width="11px",this.domNode.style.height="11px",void 0!==e.top&&(this.domNode.style.top=e.top+"px"),void 0!==e.left&&(this.domNode.style.left=e.left+"px"),void 0!==e.bottom&&(this.domNode.style.bottom=e.bottom+"px"),void 0!==e.right&&(this.domNode.style.right=e.right+"px"),this._mouseMoveMonitor=this._register(new a.a),this.onmousedown(this.bgDomNode,e=>this._arrowMouseDown(e)),this.onmousedown(this.domNode,e=>this._arrowMouseDown(e)),this._mousedownRepeatTimer=this._register(new c.c),this._mousedownScheduleRepeatTimer=this._register(new c.g)}_arrowMouseDown(e){this._onActivate(),this._mousedownRepeatTimer.cancel(),this._mousedownScheduleRepeatTimer.cancelAndSet(()=>{this._mousedownRepeatTimer.cancelAndSet(()=>this._onActivate(),1e3/24)},200),this._mouseMoveMonitor.startMonitoring(e.target,e.buttons,a.b,e=>{},()=>{this._mousedownRepeatTimer.cancel(),this._mousedownScheduleRepeatTimer.cancel()}),e.preventDefault()}}var h=i(2);class u extends h.a{constructor(e,t,i){super(),this._visibility=e,this._visibleClassName=t,this._invisibleClassName=i,this._domNode=null,this._isVisible=!1,this._isNeeded=!1,this._rawShouldBeVisible=!1,this._shouldBeVisible=!1,this._revealTimer=this._register(new c.g)}setVisibility(e){this._visibility!==e&&(this._visibility=e,this._updateShouldBeVisible())}setShouldBeVisible(e){this._rawShouldBeVisible=e,this._updateShouldBeVisible()}_applyVisibilitySetting(){return 2!==this._visibility&&(3===this._visibility||this._rawShouldBeVisible)}_updateShouldBeVisible(){var e=this._applyVisibilitySetting();this._shouldBeVisible!==e&&(this._shouldBeVisible=e,this.ensureVisibility())}setIsNeeded(e){this._isNeeded!==e&&(this._isNeeded=e,this.ensureVisibility())}setDomNode(e){this._domNode=e,this._domNode.setClassName(this._invisibleClassName),this.setShouldBeVisible(!1)}ensureVisibility(){this._isNeeded?this._shouldBeVisible?this._reveal():this._hide(!0):this._hide(!1)}_reveal(){this._isVisible||(this._isVisible=!0,this._revealTimer.setIfNotSet(()=>{this._domNode&&this._domNode.setClassName(this._visibleClassName)},0))}_hide(e){this._revealTimer.cancel(),this._isVisible&&(this._isVisible=!1,this._domNode&&this._domNode.setClassName(this._invisibleClassName+(e?" fade":"")))}}var g=i(15);class p extends l.a{constructor(e){super(),this._lazyRender=e.lazyRender,this._host=e.host,this._scrollable=e.scrollable,this._scrollByPage=e.scrollByPage,this._scrollbarState=e.scrollbarState,this._visibilityController=this._register(new u(e.visibility,"visible scrollbar "+e.extraScrollbarClassName,"invisible scrollbar "+e.extraScrollbarClassName)),this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._mouseMoveMonitor=this._register(new a.a),this._shouldRender=!0,this.domNode=Object(r.b)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this._visibilityController.setDomNode(this.domNode),this.domNode.setPosition("absolute"),this.onmousedown(this.domNode.domNode,e=>this._domNodeMouseDown(e))}_createArrow(e){e=this._register(new d(e)),this.domNode.domNode.appendChild(e.bgDomNode),this.domNode.domNode.appendChild(e.domNode)}_createSlider(e,t,i,n){this.slider=Object(r.b)(document.createElement("div")),this.slider.setClassName("slider"),this.slider.setPosition("absolute"),this.slider.setTop(e),this.slider.setLeft(t),"number"==typeof i&&this.slider.setWidth(i),"number"==typeof n&&this.slider.setHeight(n),this.slider.setLayerHinting(!0),this.slider.setContain("strict"),this.domNode.domNode.appendChild(this.slider.domNode),this.onmousedown(this.slider.domNode,e=>{e.leftButton&&(e.preventDefault(),this._sliderMouseDown(e,()=>{}))}),this.onclick(this.slider.domNode,e=>{e.leftButton&&e.stopPropagation()})}_onElementSize(e){return this._scrollbarState.setVisibleSize(e)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollSize(e){return this._scrollbarState.setScrollSize(e)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollPosition(e){return this._scrollbarState.setScrollPosition(e)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}beginReveal(){this._visibilityController.setShouldBeVisible(!0)}beginHide(){this._visibilityController.setShouldBeVisible(!1)}render(){this._shouldRender&&(this._shouldRender=!1,this._renderDomNode(this._scrollbarState.getRectangleLargeSize(),this._scrollbarState.getRectangleSmallSize()),this._updateSlider(this._scrollbarState.getSliderSize(),this._scrollbarState.getArrowSize()+this._scrollbarState.getSliderPosition()))}_domNodeMouseDown(e){e.target===this.domNode.domNode&&this._onMouseDown(e)}delegateMouseDown(e){var t,i=(t=this.domNode.domNode.getClientRects()[0].top)+this._scrollbarState.getSliderPosition(),n=t+this._scrollbarState.getSliderPosition()+this._scrollbarState.getSliderSize();i<=(t=this._sliderMousePosition(e))&&t<=n?e.leftButton&&(e.preventDefault(),this._sliderMouseDown(e,()=>{})):this._onMouseDown(e)}_onMouseDown(e){let t,i;i=e.target===this.domNode.domNode&&"number"==typeof e.browserEvent.offsetX&&"number"==typeof e.browserEvent.offsetY?(t=e.browserEvent.offsetX,e.browserEvent.offsetY):(n=o.D(this.domNode.domNode),t=e.posx-n.left,e.posy-n.top);var n=this._mouseDownRelativePosition(t,i);this._setDesiredScrollPositionNow(this._scrollByPage?this._scrollbarState.getDesiredScrollPositionFromOffsetPaged(n):this._scrollbarState.getDesiredScrollPositionFromOffset(n)),e.leftButton&&(e.preventDefault(),this._sliderMouseDown(e,()=>{}))}_sliderMouseDown(e,t){const i=this._sliderMousePosition(e),n=this._sliderOrthogonalMousePosition(e),o=this._scrollbarState.clone();this.slider.toggleClassName("active",!0),this._mouseMoveMonitor.startMonitoring(e.target,e.buttons,a.b,e=>{var t=this._sliderOrthogonalMousePosition(e);t=Math.abs(t-n);g.i&&140<t?this._setDesiredScrollPositionNow(o.getScrollPosition()):(e=this._sliderMousePosition(e)-i,this._setDesiredScrollPositionNow(o.getDesiredScrollPositionFromDelta(e)))},()=>{this.slider.toggleClassName("active",!1),this._host.onDragEnd(),t()}),this._host.onDragStart()}_setDesiredScrollPositionNow(e){var t={};this.writeScrollPosition(t,e),this._scrollable.setScrollPositionNow(t)}updateScrollbarSize(e){this._updateScrollbarSize(e),this._scrollbarState.setScrollbarSize(e),this._shouldRender=!0,this._lazyRender||this.render()}isNeeded(){return this._scrollbarState.isNeeded()}}class f{constructor(e,t,i,n,o,r){this._scrollbarSize=Math.round(t),this._oppositeScrollbarSize=Math.round(i),this._arrowSize=Math.round(e),this._visibleSize=n,this._scrollSize=o,this._scrollPosition=r,this._computedAvailableSize=0,this._computedIsNeeded=!1,this._computedSliderSize=0,this._computedSliderRatio=0,this._computedSliderPosition=0,this._refreshComputedValues()}clone(){return new f(this._arrowSize,this._scrollbarSize,this._oppositeScrollbarSize,this._visibleSize,this._scrollSize,this._scrollPosition)}setVisibleSize(e){return e=Math.round(e),this._visibleSize!==e&&(this._visibleSize=e,this._refreshComputedValues(),!0)}setScrollSize(e){return e=Math.round(e),this._scrollSize!==e&&(this._scrollSize=e,this._refreshComputedValues(),!0)}setScrollPosition(e){return e=Math.round(e),this._scrollPosition!==e&&(this._scrollPosition=e,this._refreshComputedValues(),!0)}setScrollbarSize(e){this._scrollbarSize=Math.round(e)}setOppositeScrollbarSize(e){this._oppositeScrollbarSize=Math.round(e)}static _computeValues(e,t,i,n,o){var r=Math.max(0,i-e),s=Math.max(0,r-2*t);return(e=0<n&&i<n)?(o*=i=(s-(t=Math.round(Math.max(20,Math.floor(i*s/n)))))/(n-i),{computedAvailableSize:Math.round(r),computedIsNeeded:e,computedSliderSize:Math.round(t),computedSliderRatio:i,computedSliderPosition:Math.round(o)}):{computedAvailableSize:Math.round(r),computedIsNeeded:e,computedSliderSize:Math.round(s),computedSliderRatio:0,computedSliderPosition:0}}_refreshComputedValues(){var e=f._computeValues(this._oppositeScrollbarSize,this._arrowSize,this._visibleSize,this._scrollSize,this._scrollPosition);this._computedAvailableSize=e.computedAvailableSize,this._computedIsNeeded=e.computedIsNeeded,this._computedSliderSize=e.computedSliderSize,this._computedSliderRatio=e.computedSliderRatio,this._computedSliderPosition=e.computedSliderPosition}getArrowSize(){return this._arrowSize}getScrollPosition(){return this._scrollPosition}getRectangleLargeSize(){return this._computedAvailableSize}getRectangleSmallSize(){return this._scrollbarSize}isNeeded(){return this._computedIsNeeded}getSliderSize(){return this._computedSliderSize}getSliderPosition(){return this._computedSliderPosition}getDesiredScrollPositionFromOffset(e){return this._computedIsNeeded?(e=e-this._arrowSize-this._computedSliderSize/2,Math.round(e/this._computedSliderRatio)):0}getDesiredScrollPositionFromOffsetPaged(e){if(!this._computedIsNeeded)return 0;e-=this._arrowSize;let t=this._scrollPosition;return e<this._computedSliderPosition?t-=this._visibleSize:t+=this._visibleSize,t}getDesiredScrollPositionFromDelta(e){return this._computedIsNeeded?(e=this._computedSliderPosition+e,Math.round(e/this._computedSliderRatio)):0}}t=i(23);const m=Object(t.e)("scrollbar-button-left",t.b.triangleLeft),v=Object(t.e)("scrollbar-button-right",t.b.triangleRight);class b extends p{constructor(e,t,i){var n=e.getScrollDimensions(),o=e.getCurrentScrollPosition();super({lazyRender:t.lazyRender,host:i,scrollbarState:new f(t.horizontalHasArrows?t.arrowSize:0,2===t.horizontal?0:t.horizontalScrollbarSize,2===t.vertical?0:t.verticalScrollbarSize,n.width,n.scrollWidth,o.scrollLeft),visibility:t.horizontal,extraScrollbarClassName:"horizontal",scrollable:e,scrollByPage:t.scrollByPage}),t.horizontalHasArrows&&(o=(t.arrowSize-11)/2,e=(t.horizontalScrollbarSize-11)/2,this._createArrow({className:"scra",icon:m,top:e,left:o,bottom:void 0,right:void 0,bgWidth:t.arrowSize,bgHeight:t.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new s.b(null,1,0))}),this._createArrow({className:"scra",icon:v,top:e,left:void 0,bottom:void 0,right:o,bgWidth:t.arrowSize,bgHeight:t.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new s.b(null,-1,0))})),this._createSlider(Math.floor((t.horizontalScrollbarSize-t.horizontalSliderSize)/2),0,void 0,t.horizontalSliderSize)}_updateSlider(e,t){this.slider.setWidth(e),this.slider.setLeft(t)}_renderDomNode(e,t){this.domNode.setWidth(e),this.domNode.setHeight(t),this.domNode.setLeft(0),this.domNode.setBottom(0)}onDidScroll(e){return this._shouldRender=this._onElementScrollSize(e.scrollWidth)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(e.scrollLeft)||this._shouldRender,this._shouldRender=this._onElementSize(e.width)||this._shouldRender,this._shouldRender}_mouseDownRelativePosition(e,t){return e}_sliderMousePosition(e){return e.posx}_sliderOrthogonalMousePosition(e){return e.posy}_updateScrollbarSize(e){this.slider.setHeight(e)}writeScrollPosition(e,t){e.scrollLeft=t}updateOptions(e){this.updateScrollbarSize(2===e.horizontal?0:e.horizontalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(2===e.vertical?0:e.verticalScrollbarSize),this._visibilityController.setVisibility(e.horizontal),this._scrollByPage=e.scrollByPage}}const _=Object(t.e)("scrollbar-button-up",t.b.triangleUp),w=Object(t.e)("scrollbar-button-down",t.b.triangleDown);class C extends p{constructor(e,t,i){var n=e.getScrollDimensions(),o=e.getCurrentScrollPosition();super({lazyRender:t.lazyRender,host:i,scrollbarState:new f(t.verticalHasArrows?t.arrowSize:0,2===t.vertical?0:t.verticalScrollbarSize,0,n.height,n.scrollHeight,o.scrollTop),visibility:t.vertical,extraScrollbarClassName:"vertical",scrollable:e,scrollByPage:t.scrollByPage}),t.verticalHasArrows&&(o=(t.arrowSize-11)/2,e=(t.verticalScrollbarSize-11)/2,this._createArrow({className:"scra",icon:_,top:o,left:e,bottom:void 0,right:void 0,bgWidth:t.verticalScrollbarSize,bgHeight:t.arrowSize,onActivate:()=>this._host.onMouseWheel(new s.b(null,0,1))}),this._createArrow({className:"scra",icon:w,top:void 0,left:e,bottom:o,right:void 0,bgWidth:t.verticalScrollbarSize,bgHeight:t.arrowSize,onActivate:()=>this._host.onMouseWheel(new s.b(null,0,-1))})),this._createSlider(0,Math.floor((t.verticalScrollbarSize-t.verticalSliderSize)/2),t.verticalSliderSize,void 0)}_updateSlider(e,t){this.slider.setHeight(e),this.slider.setTop(t)}_renderDomNode(e,t){this.domNode.setWidth(t),this.domNode.setHeight(e),this.domNode.setRight(0),this.domNode.setTop(0)}onDidScroll(e){return this._shouldRender=this._onElementScrollSize(e.scrollHeight)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(e.scrollTop)||this._shouldRender,this._shouldRender=this._onElementSize(e.height)||this._shouldRender,this._shouldRender}_mouseDownRelativePosition(e,t){return t}_sliderMousePosition(e){return e.posy}_sliderOrthogonalMousePosition(e){return e.posx}_updateScrollbarSize(e){this.slider.setWidth(e)}writeScrollPosition(e,t){e.scrollTop=t}updateOptions(e){this.updateScrollbarSize(2===e.vertical?0:e.verticalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(0),this._visibilityController.setVisibility(e.vertical),this._scrollByPage=e.scrollByPage}}var y=i(6),x=i(192);i(432);class S{constructor(e,t,i){this.timestamp=e,this.deltaX=t,this.deltaY=i,this.score=0}}class k{constructor(){this._capacity=5,this._memory=[],this._front=-1,this._rear=-1}isPhysicalMouseWheel(){if(-1===this._front&&-1===this._rear)return!1;let e=1,t=0,i=1,n=this._rear;for(;;){var o=n===this._front?e:Math.pow(2,-i);if(e-=o,t+=this._memory[n].score*o,n===this._front)break;n=(this._capacity+n-1)%this._capacity,i++}return t<=.5}accept(e,t,i){const n=new S(e,t,i);n.score=this._computeScore(n),-1===this._front&&-1===this._rear?(this._memory[0]=n,this._front=0,this._rear=0):(this._rear=(this._rear+1)%this._capacity,this._rear===this._front&&(this._front=(this._front+1)%this._capacity),this._memory[this._rear]=n)}_computeScore(e){if(0<Math.abs(e.deltaX)&&0<Math.abs(e.deltaY))return 1;let t=.5;return-1===this._front&&-1===this._rear||this._memory[this._rear],this._isAlmostInt(e.deltaX)&&this._isAlmostInt(e.deltaY)||(t+=.25),Math.min(Math.max(t,0),1)}_isAlmostInt(e){return Math.abs(Math.round(e)-e)<.01}}k.INSTANCE=new k;class D extends l.a{constructor(e,t,i){super(),this._onScroll=this._register(new y.b),this.onScroll=this._onScroll.event,this._onWillScroll=this._register(new y.b),e.style.overflow="hidden",this._options=function(e){const t={lazyRender:void 0!==e.lazyRender&&e.lazyRender,className:void 0!==e.className?e.className:"",useShadows:void 0===e.useShadows||e.useShadows,handleMouseWheel:void 0===e.handleMouseWheel||e.handleMouseWheel,flipAxes:void 0!==e.flipAxes&&e.flipAxes,consumeMouseWheelIfScrollbarIsNeeded:void 0!==e.consumeMouseWheelIfScrollbarIsNeeded&&e.consumeMouseWheelIfScrollbarIsNeeded,alwaysConsumeMouseWheel:void 0!==e.alwaysConsumeMouseWheel&&e.alwaysConsumeMouseWheel,scrollYToX:void 0!==e.scrollYToX&&e.scrollYToX,mouseWheelScrollSensitivity:void 0!==e.mouseWheelScrollSensitivity?e.mouseWheelScrollSensitivity:1,fastScrollSensitivity:void 0!==e.fastScrollSensitivity?e.fastScrollSensitivity:5,scrollPredominantAxis:void 0===e.scrollPredominantAxis||e.scrollPredominantAxis,mouseWheelSmoothScroll:void 0===e.mouseWheelSmoothScroll||e.mouseWheelSmoothScroll,arrowSize:void 0!==e.arrowSize?e.arrowSize:11,listenOnDomNode:void 0!==e.listenOnDomNode?e.listenOnDomNode:null,horizontal:void 0!==e.horizontal?e.horizontal:1,horizontalScrollbarSize:void 0!==e.horizontalScrollbarSize?e.horizontalScrollbarSize:10,horizontalSliderSize:void 0!==e.horizontalSliderSize?e.horizontalSliderSize:0,horizontalHasArrows:void 0!==e.horizontalHasArrows&&e.horizontalHasArrows,vertical:void 0!==e.vertical?e.vertical:1,verticalScrollbarSize:void 0!==e.verticalScrollbarSize?e.verticalScrollbarSize:10,verticalHasArrows:void 0!==e.verticalHasArrows&&e.verticalHasArrows,verticalSliderSize:void 0!==e.verticalSliderSize?e.verticalSliderSize:0,scrollByPage:void 0!==e.scrollByPage&&e.scrollByPage};return t.horizontalSliderSize=void 0!==e.horizontalSliderSize?e.horizontalSliderSize:t.horizontalScrollbarSize,t.verticalSliderSize=void 0!==e.verticalSliderSize?e.verticalSliderSize:t.verticalScrollbarSize,g.f&&(t.className+=" mac"),t}(t),this._scrollable=i,this._register(this._scrollable.onScroll(e=>{this._onWillScroll.fire(e),this._onDidScroll(e),this._onScroll.fire(e)})),i={onMouseWheel:e=>this._onMouseWheel(e),onDragStart:()=>this._onDragStart(),onDragEnd:()=>this._onDragEnd()},this._verticalScrollbar=this._register(new C(this._scrollable,this._options,i)),this._horizontalScrollbar=this._register(new b(this._scrollable,this._options,i)),this._domNode=document.createElement("div"),this._domNode.className="monaco-scrollable-element "+this._options.className,this._domNode.setAttribute("role","presentation"),this._domNode.style.position="relative",this._domNode.style.overflow="hidden",this._domNode.appendChild(e),this._domNode.appendChild(this._horizontalScrollbar.domNode.domNode),this._domNode.appendChild(this._verticalScrollbar.domNode.domNode),this._options.useShadows?(this._leftShadowDomNode=Object(r.b)(document.createElement("div")),this._leftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._leftShadowDomNode.domNode),this._topShadowDomNode=Object(r.b)(document.createElement("div")),this._topShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topShadowDomNode.domNode),this._topLeftShadowDomNode=Object(r.b)(document.createElement("div")),this._topLeftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topLeftShadowDomNode.domNode)):(this._leftShadowDomNode=null,this._topShadowDomNode=null,this._topLeftShadowDomNode=null),this._listenOnDomNode=this._options.listenOnDomNode||this._domNode,this._mouseWheelToDispose=[],this._setListeningToMouseWheel(this._options.handleMouseWheel),this.onmouseover(this._listenOnDomNode,e=>this._onMouseOver(e)),this.onnonbubblingmouseout(this._listenOnDomNode,e=>this._onMouseOut(e)),this._hideTimeout=this._register(new c.g),this._isDragging=!1,this._mouseIsOver=!1,this._shouldRender=!0,this._revealOnScroll=!0}dispose(){this._mouseWheelToDispose=Object(h.f)(this._mouseWheelToDispose),super.dispose()}getDomNode(){return this._domNode}getOverviewRulerLayoutInfo(){return{parent:this._domNode,insertBefore:this._verticalScrollbar.domNode.domNode}}delegateVerticalScrollbarMouseDown(e){this._verticalScrollbar.delegateMouseDown(e)}getScrollDimensions(){return this._scrollable.getScrollDimensions()}setScrollDimensions(e){this._scrollable.setScrollDimensions(e,!1)}updateClassName(e){this._options.className=e,g.f&&(this._options.className+=" mac"),this._domNode.className="monaco-scrollable-element "+this._options.className}updateOptions(e){void 0!==e.handleMouseWheel&&(this._options.handleMouseWheel=e.handleMouseWheel,this._setListeningToMouseWheel(this._options.handleMouseWheel)),void 0!==e.mouseWheelScrollSensitivity&&(this._options.mouseWheelScrollSensitivity=e.mouseWheelScrollSensitivity),void 0!==e.fastScrollSensitivity&&(this._options.fastScrollSensitivity=e.fastScrollSensitivity),void 0!==e.scrollPredominantAxis&&(this._options.scrollPredominantAxis=e.scrollPredominantAxis),void 0!==e.horizontal&&(this._options.horizontal=e.horizontal),void 0!==e.vertical&&(this._options.vertical=e.vertical),void 0!==e.horizontalScrollbarSize&&(this._options.horizontalScrollbarSize=e.horizontalScrollbarSize),void 0!==e.verticalScrollbarSize&&(this._options.verticalScrollbarSize=e.verticalScrollbarSize),void 0!==e.scrollByPage&&(this._options.scrollByPage=e.scrollByPage),this._horizontalScrollbar.updateOptions(this._options),this._verticalScrollbar.updateOptions(this._options),this._options.lazyRender||this._render()}_setListeningToMouseWheel(e){0<this._mouseWheelToDispose.length!==e&&(this._mouseWheelToDispose=Object(h.f)(this._mouseWheelToDispose),e&&this._mouseWheelToDispose.push(o.i(this._listenOnDomNode,o.d.MOUSE_WHEEL,e=>{this._onMouseWheel(new s.b(e))},{passive:!1})))}_onMouseWheel(e){const t=k.INSTANCE;var i=window.devicePixelRatio/Object(n.c)();g.i||g.d?t.accept(Date.now(),e.deltaX/i,e.deltaY/i):t.accept(Date.now(),e.deltaX,e.deltaY);let o=!1;if(e.deltaY||e.deltaX){let n=e.deltaY*this._options.mouseWheelScrollSensitivity,s=e.deltaX*this._options.mouseWheelScrollSensitivity;this._options.scrollPredominantAxis&&(Math.abs(n)>=Math.abs(s)?s=0:n=0),this._options.flipAxes&&([n,s]=[s,n]),i=!g.f&&e.browserEvent&&e.browserEvent.shiftKey,!this._options.scrollYToX&&!i||s||(s=n,n=0),e.browserEvent&&e.browserEvent.altKey&&(s*=this._options.fastScrollSensitivity,n*=this._options.fastScrollSensitivity);var r;i=this._scrollable.getFutureScrollPosition();let a={};n&&(r=50*n,r=i.scrollTop-(r<0?Math.floor(r):Math.ceil(r)),this._verticalScrollbar.writeScrollPosition(a,r)),s&&(r=50*s,r=i.scrollLeft-(r<0?Math.floor(r):Math.ceil(r)),this._horizontalScrollbar.writeScrollPosition(a,r)),a=this._scrollable.validateScrollPosition(a),i.scrollLeft===a.scrollLeft&&i.scrollTop===a.scrollTop||(this._options.mouseWheelSmoothScroll&&t.isPhysicalMouseWheel()?this._scrollable.setScrollPositionSmooth(a):this._scrollable.setScrollPositionNow(a),o=!0)}let s=o;!s&&this._options.alwaysConsumeMouseWheel&&(s=!0),!s&&this._options.consumeMouseWheelIfScrollbarIsNeeded&&(this._verticalScrollbar.isNeeded()||this._horizontalScrollbar.isNeeded())&&(s=!0),s&&(e.preventDefault(),e.stopPropagation())}_onDidScroll(e){this._shouldRender=this._horizontalScrollbar.onDidScroll(e)||this._shouldRender,this._shouldRender=this._verticalScrollbar.onDidScroll(e)||this._shouldRender,this._options.useShadows&&(this._shouldRender=!0),this._revealOnScroll&&this._reveal(),this._options.lazyRender||this._render()}renderNow(){if(!this._options.lazyRender)throw new Error("Please use `lazyRender` together with `renderNow`!");this._render()}_render(){var e,t,i;this._shouldRender&&(this._shouldRender=!1,this._horizontalScrollbar.render(),this._verticalScrollbar.render(),this._options.useShadows&&(t=(i=0<(e=this._scrollable.getCurrentScrollPosition()).scrollTop)?" top":"",i=(e=0<e.scrollLeft)||i?" top-left-corner":"",this._leftShadowDomNode.setClassName("shadow"+(e=e?" left":"")),this._topShadowDomNode.setClassName("shadow"+t),this._topLeftShadowDomNode.setClassName(`shadow${i}${t}${e}`)))}_onDragStart(){this._isDragging=!0,this._reveal()}_onDragEnd(){this._isDragging=!1,this._hide()}_onMouseOut(e){this._mouseIsOver=!1,this._hide()}_onMouseOver(e){this._mouseIsOver=!0,this._reveal()}_reveal(){this._verticalScrollbar.beginReveal(),this._horizontalScrollbar.beginReveal(),this._scheduleHide()}_hide(){this._mouseIsOver||this._isDragging||(this._verticalScrollbar.beginHide(),this._horizontalScrollbar.beginHide())}_scheduleHide(){this._mouseIsOver||this._isDragging||this._hideTimeout.cancelAndSet(()=>this._hide(),500)}}class L extends D{constructor(e,t){(t=t||{}).mouseWheelSmoothScroll=!1;var i=new x.a(0,e=>o.V(e));super(e,t,i),this._register(i)}setScrollPosition(e){this._scrollable.setScrollPositionNow(e)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}}class O extends D{constructor(e,t,i){super(e,t,i)}setScrollPosition(e){e.reuseAnimation?this._scrollable.setScrollPositionSmooth(e,e.reuseAnimation):this._scrollable.setScrollPositionNow(e)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}}class E extends L{constructor(e,t){super(e,t),this._element=e,this.onScroll(e=>{e.scrollTopChanged&&(this._element.scrollTop=e.scrollTop),e.scrollLeftChanged&&(this._element.scrollLeft=e.scrollLeft)}),this.scanDomNode()}scanDomNode(){this.setScrollDimensions({width:this._element.clientWidth,scrollWidth:this._element.scrollWidth,height:this._element.clientHeight,scrollHeight:this._element.scrollHeight}),this.setScrollPosition({scrollLeft:this._element.scrollLeft,scrollTop:this._element.scrollTop})}}},function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i=i(21);const n=Object(i.c)("editorWorkerService")},function(e,t,i){"use strict";i.d(t,"b",(function(){return l})),i.d(t,"a",(function(){return c}));var n=i(1),o=i(235),r=i(89),s=i(2),a=i(15);function l(e,t){let i=new r.a(t);return i.preventDefault(),{leftButton:i.leftButton,buttons:i.buttons,posx:i.posx,posy:i.posy}}class c{constructor(){this._hooks=new s.b,this._mouseMoveEventMerger=null,this._mouseMoveCallback=null,this._onStopCallback=null}dispose(){this.stopMonitoring(!1),this._hooks.dispose()}stopMonitoring(e,t){if(this.isMonitoring()){this._hooks.clear(),this._mouseMoveEventMerger=null,this._mouseMoveCallback=null;const i=this._onStopCallback;this._onStopCallback=null,e&&i&&i(t)}}isMonitoring(){return!!this._mouseMoveEventMerger}startMonitoring(e,t,i,s,l){if(!this.isMonitoring()){this._mouseMoveEventMerger=i,this._mouseMoveCallback=s,this._onStopCallback=l;const d=o.a.getSameOriginWindowChain();var c=a.c?"pointermove":"mousemove";const h=d.map(e=>e.window.document);(e=n.F(e))&&h.unshift(e);for(const e of h)this._hooks.add(n.l(e,c,e=>{e.buttons===t?this._mouseMoveCallback(e):this.stopMonitoring(!0)},(e,t)=>this._mouseMoveEventMerger(e,t))),this._hooks.add(n.i(e,"mouseup",e=>this.stopMonitoring(!0)));o.a.hasDifferentOriginAncestor()&&(e=d[d.length-1],this._hooks.add(n.i(e.window.document,"mouseout",e=>{"html"===new r.a(e).target.tagName.toLowerCase()&&this.stopMonitoring(!0)})),this._hooks.add(n.i(e.window.document,"mouseover",e=>{"html"===new r.a(e).target.tagName.toLowerCase()&&this.stopMonitoring(!0)})),this._hooks.add(n.i(e.window.document.body,"mouseleave",e=>{this.stopMonitoring(!0)})))}}}},function(e,t,i){"use strict";i.d(t,"e",(function(){return O})),i.d(t,"f",(function(){return E})),i.d(t,"a",(function(){return I})),i.d(t,"h",(function(){return A})),i.d(t,"g",(function(){return P})),i.d(t,"d",(function(){return F})),i.d(t,"b",(function(){return j})),i.d(t,"c",(function(){return K}));var n=i(1),o=i(69),r=i(67),s=i(62),a=i(73);class l{constructor(e){this.spliceables=e}splice(e,t,i){this.spliceables.forEach(n=>n.splice(e,t,i))}}var c=i(22),d=i(18),h=i(14),u=i(92),g=i(6),p=i(83),f=i(2),m=i(129),v=i(55),b=i(15),_=i(19);i(290);class w extends Error{constructor(e,t){super(`ListError [${e}] ${t}`)}}var C,y=i(200),x=(t=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;0<=a;a--)(o=e[a])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s},function(e,t,i,n){return new(i=i||Promise)((function(o,r){function s(e){try{l(n.next(e))}catch(e){r(e)}}function a(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):((t=e.value)instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))});class S{constructor(e){this.trait=e,this.renderedElements=[]}get templateId(){return"template:"+this.trait.trait}renderTemplate(e){return e}renderElement(e,t,i){var n=this.renderedElements.findIndex(e=>e.templateData===i);if(0<=n){const e=this.renderedElements[n];this.trait.unrender(i),e.index=t}else this.renderedElements.push({index:t,templateData:i});this.trait.renderIndex(t,i)}splice(e,t,i){const n=[];for(const o of this.renderedElements)o.index<e?n.push(o):o.index>=e+t&&n.push({index:o.index+i-t,templateData:o.templateData});this.renderedElements=n}renderIndexes(e){for(var{index:t,templateData:i}of this.renderedElements)-1<e.indexOf(t)&&this.trait.renderIndex(t,i)}disposeTemplate(e){var t=this.renderedElements.findIndex(t=>t.templateData===e);t<0||this.renderedElements.splice(t,1)}}class k{constructor(e){this._trait=e,this.length=0,this.indexes=[],this.sortedIndexes=[],this._onChange=new g.b,this.onChange=this._onChange.event}get trait(){return this._trait}get renderer(){return new S(this)}splice(e,t,i){t=Math.max(0,Math.min(t,this.length-e));const n=i.length-t,o=e+t,r=[...this.sortedIndexes.filter(t=>t<e),...i.map((t,i)=>t?i+e:-1).filter(e=>-1!==e),...this.sortedIndexes.filter(e=>e>=o).map(e=>e+n)];var s,a=this.length+n;0<this.sortedIndexes.length&&0===r.length&&0<a&&(s=null!==(s=this.sortedIndexes.find(t=>e<=t))&&void 0!==s?s:a-1,r.push(Math.min(s,a-1))),this.renderer.splice(e,t,i.length),this._set(r,r),this.length=a}renderIndex(e,t){t.classList.toggle(this._trait,this.contains(e))}unrender(e){e.classList.remove(this._trait)}set(e,t){return this._set(e,[...e].sort(z),t)}_set(e,t,i){var n=this.indexes,o=this.sortedIndexes;return this.indexes=e,this.sortedIndexes=t,o=V(o,e),this.renderer.renderIndexes(o),this._onChange.fire({indexes:e,browserEvent:i}),n}get(){return this.indexes}contains(e){return 0<=Object(c.d)(this.sortedIndexes,e,z)}dispose(){Object(f.f)(this._onChange)}}t([u.a],k.prototype,"renderer",null);class D extends k{constructor(e){super("selected"),this.setAriaSelected=e}renderIndex(e,t){super.renderIndex(e,t),this.setAriaSelected&&(this.contains(e)?t.setAttribute("aria-selected","true"):t.setAttribute("aria-selected","false"))}}class L{constructor(e,t,i){this.trait=e,this.view=t,this.identityProvider=i}splice(e,t,i){if(!this.identityProvider)return this.trait.splice(e,t,i.map(()=>!1));const n=this.trait.get().map(e=>this.identityProvider.getId(this.view.element(e)).toString());i=i.map(e=>-1<n.indexOf(this.identityProvider.getId(e).toString())),this.trait.splice(e,t,i)}}function O(e){return"INPUT"===e.tagName||"TEXTAREA"===e.tagName}function E(e){return!!e.classList.contains("monaco-editor")||!e.classList.contains("monaco-list")&&!!e.parentElement&&E(e.parentElement)}class N{constructor(e,t,i){this.list=e,this.view=t,this.disposables=new f.b,this.multipleSelectionDisposables=new f.b,this.onKeyDown.filter(e=>3===e.keyCode).on(this.onEnter,this,this.disposables),this.onKeyDown.filter(e=>16===e.keyCode).on(this.onUpArrow,this,this.disposables),this.onKeyDown.filter(e=>18===e.keyCode).on(this.onDownArrow,this,this.disposables),this.onKeyDown.filter(e=>11===e.keyCode).on(this.onPageUpArrow,this,this.disposables),this.onKeyDown.filter(e=>12===e.keyCode).on(this.onPageDownArrow,this,this.disposables),this.onKeyDown.filter(e=>9===e.keyCode).on(this.onEscape,this,this.disposables),!1!==i.multipleSelectionSupport&&this.onKeyDown.filter(e=>(b.f?e.metaKey:e.ctrlKey)&&31===e.keyCode).on(this.onCtrlA,this,this.multipleSelectionDisposables)}get onKeyDown(){return g.c.chain(this.disposables.add(new o.a(this.view.domNode,"keydown")).event).filter(e=>!O(e.target)).map(e=>new r.a(e))}updateOptions(e){void 0!==e.multipleSelectionSupport&&(this.multipleSelectionDisposables.clear(),e.multipleSelectionSupport&&this.onKeyDown.filter(e=>(b.f?e.metaKey:e.ctrlKey)&&31===e.keyCode).on(this.onCtrlA,this,this.multipleSelectionDisposables))}onEnter(e){e.preventDefault(),e.stopPropagation(),this.list.setSelection(this.list.getFocus(),e.browserEvent)}onUpArrow(e){e.preventDefault(),e.stopPropagation(),this.list.focusPrevious(1,!1,e.browserEvent),e=this.list.getFocus()[0],this.list.setAnchor(e),this.list.reveal(e),this.view.domNode.focus()}onDownArrow(e){e.preventDefault(),e.stopPropagation(),this.list.focusNext(1,!1,e.browserEvent),e=this.list.getFocus()[0],this.list.setAnchor(e),this.list.reveal(e),this.view.domNode.focus()}onPageUpArrow(e){e.preventDefault(),e.stopPropagation(),this.list.focusPreviousPage(e.browserEvent),e=this.list.getFocus()[0],this.list.setAnchor(e),this.list.reveal(e),this.view.domNode.focus()}onPageDownArrow(e){e.preventDefault(),e.stopPropagation(),this.list.focusNextPage(e.browserEvent),e=this.list.getFocus()[0],this.list.setAnchor(e),this.list.reveal(e),this.view.domNode.focus()}onCtrlA(e){e.preventDefault(),e.stopPropagation(),this.list.setSelection(Object(c.r)(this.list.length),e.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus()}onEscape(e){this.list.getSelection().length&&(e.preventDefault(),e.stopPropagation(),this.list.setSelection([],e.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus())}dispose(){this.disposables.dispose(),this.multipleSelectionDisposables.dispose()}}t([u.a],N.prototype,"onKeyDown",null),(i=C=C||{})[i.Idle=0]="Idle",i[i.Typing=1]="Typing";const I=new class{mightProducePrintableCharacter(e){return!(e.ctrlKey||e.metaKey||e.altKey)&&(31<=e.keyCode&&e.keyCode<=56||21<=e.keyCode&&e.keyCode<=30||93<=e.keyCode&&e.keyCode<=102||80<=e.keyCode&&e.keyCode<=90)}};class T{constructor(e,t,i,n){this.list=e,this.view=t,this.keyboardNavigationLabelProvider=i,this.delegate=n,this.enabled=!1,this.state=C.Idle,this.automaticKeyboardNavigation=!0,this.triggered=!1,this.previouslyFocused=-1,this.enabledDisposables=new f.b,this.disposables=new f.b,this.updateOptions(e.options)}updateOptions(e){void 0===e.enableKeyboardNavigation||e.enableKeyboardNavigation?this.enable():this.disable(),void 0!==e.automaticKeyboardNavigation&&(this.automaticKeyboardNavigation=e.automaticKeyboardNavigation)}enable(){if(!this.enabled){var e=g.c.chain(this.enabledDisposables.add(new o.a(this.view.domNode,"keydown")).event).filter(e=>!O(e.target)).filter(()=>this.automaticKeyboardNavigation||this.triggered).map(e=>new r.a(e)).filter(e=>this.delegate.mightProducePrintableCharacter(e)).forEach(e=>{e.stopPropagation(),e.preventDefault()}).map(e=>e.browserEvent.key).event;const t=g.c.debounce(e,()=>null,800);g.c.reduce(g.c.any(e,t),(e,t)=>null===t?null:(e||"")+t)(this.onInput,this,this.enabledDisposables),t(this.onClear,this,this.enabledDisposables),this.enabled=!0,this.triggered=!1}}disable(){this.enabled&&(this.enabledDisposables.clear(),this.enabled=!1,this.triggered=!1)}onClear(){var e,t=this.list.getFocus();0<t.length&&t[0]===this.previouslyFocused&&(t=null===(e=this.list.options.accessibilityProvider)||void 0===e?void 0:e.getAriaLabel(this.list.element(t[0])))&&Object(a.a)(t),this.previouslyFocused=-1}onInput(e){if(!e)return this.state=C.Idle,void(this.triggered=!1);var t=this.list.getFocus(),i=0<t.length?t[0]:0,n=this.state===C.Idle?1:0;this.state=C.Typing;for(let t=0;t<this.list.length;t++){var o=(i+t+n)%this.list.length;const s=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(this.view.element(o));var r=s&&s.toString();if(void 0===r||Object(p.h)(e,r))return this.previouslyFocused=i,this.list.setFocus([o]),void this.list.reveal(o)}}dispose(){this.disable(),this.enabledDisposables.dispose(),this.disposables.dispose()}}class M{constructor(e,t){this.list=e,this.view=t,this.disposables=new f.b;g.c.chain(this.disposables.add(new o.a(t.domNode,"keydown")).event).filter(e=>!O(e.target)).map(e=>new r.a(e)).filter(e=>!(2!==e.keyCode||e.ctrlKey||e.metaKey||e.shiftKey||e.altKey)).on(this.onTab,this,this.disposables)}onTab(e){if(e.target===this.view.domNode){var t=this.list.getFocus();if(0!==t.length){const i=this.view.domElement(t[0]);if(i){const n=i.querySelector("[tabIndex]");n&&n instanceof HTMLElement&&-1!==n.tabIndex&&"hidden"!==(t=window.getComputedStyle(n)).visibility&&"none"!==t.display&&(e.preventDefault(),e.stopPropagation(),n.focus())}}}}dispose(){this.disposables.dispose()}}function A(e){return b.f?e.browserEvent.metaKey:e.browserEvent.ctrlKey}function P(e){return e.browserEvent.shiftKey}const R={isSelectionSingleChangeEvent:A,isSelectionRangeChangeEvent:P};class F{constructor(e){this.list=e,this.disposables=new f.b,this._onPointer=new g.b,this.onPointer=this._onPointer.event,!1!==e.options.multipleSelectionSupport&&(this.multipleSelectionController=this.list.options.multipleSelectionController||R),this.mouseSupport=void 0===e.options.mouseSupport||!!e.options.mouseSupport,this.mouseSupport&&(e.onMouseDown(this.onMouseDown,this,this.disposables),e.onContextMenu(this.onContextMenu,this,this.disposables),e.onMouseDblClick(this.onDoubleClick,this,this.disposables),e.onTouchStart(this.onMouseDown,this,this.disposables),this.disposables.add(s.b.addTarget(e.getHTMLElement()))),g.c.any(e.onMouseClick,e.onMouseMiddleClick,e.onTap)(this.onViewPointer,this,this.disposables)}updateOptions(e){void 0!==e.multipleSelectionSupport&&(this.multipleSelectionController=void 0,e.multipleSelectionSupport&&(this.multipleSelectionController=this.list.options.multipleSelectionController||R))}isSelectionSingleChangeEvent(e){return!!this.multipleSelectionController&&this.multipleSelectionController.isSelectionSingleChangeEvent(e)}isSelectionRangeChangeEvent(e){return!!this.multipleSelectionController&&this.multipleSelectionController.isSelectionRangeChangeEvent(e)}isSelectionChangeEvent(e){return this.isSelectionSingleChangeEvent(e)||this.isSelectionRangeChangeEvent(e)}onMouseDown(e){E(e.browserEvent.target)||document.activeElement!==e.browserEvent.target&&this.list.domFocus()}onContextMenu(e){var t;E(e.browserEvent.target)||(t=void 0===e.index?[]:[e.index],this.list.setFocus(t,e.browserEvent))}onViewPointer(e){if(this.mouseSupport&&!O(e.browserEvent.target)&&!E(e.browserEvent.target)){var t,i=e.index;return void 0===i?(this.list.setFocus([],e.browserEvent),this.list.setSelection([],e.browserEvent),void this.list.setAnchor(void 0)):this.isSelectionRangeChangeEvent(e)||this.isSelectionChangeEvent(e)?this.changeSelection(e):(this.list.setFocus([i],e.browserEvent),this.list.setAnchor(i),(t=e.browserEvent)instanceof MouseEvent&&2===t.button||this.list.setSelection([i],e.browserEvent),void this._onPointer.fire(e))}}onDoubleClick(e){var t;O(e.browserEvent.target)||E(e.browserEvent.target)||this.isSelectionChangeEvent(e)||(t=this.list.getFocus(),this.list.setSelection(t,e.browserEvent))}changeSelection(e){const t=e.index;let i=this.list.getAnchor();if(this.isSelectionRangeChangeEvent(e)){void 0===i&&(i=null!=(r=this.list.getFocus()[0])?r:t,this.list.setAnchor(i));var n=Math.min(i,t),o=Math.max(i,t),r=Object(c.r)(n,o+1);0!==(o=function(e,t){var i=e.indexOf(t);if(-1===i)return[];const n=[];let o=i-1;for(;0<=o&&e[o]===t-(i-o);)n.push(e[o--]);for(n.reverse(),o=i;o<e.length&&e[o]===t+(o-i);)n.push(e[o++]);return n}(V(n=this.list.getSelection(),[i]),i)).length&&(s=V(r,function(e,t){const i=[];let n=0,o=0;for(;n<e.length||o<t.length;)n>=e.length?i.push(t[o++]):o>=t.length?i.push(e[n++]):e[n]!==t[o]?e[n]<t[o]?i.push(e[n++]):o++:(n++,o++);return i}(n,o)),this.list.setSelection(s,e.browserEvent),this.list.setFocus([t],e.browserEvent))}else if(this.isSelectionSingleChangeEvent(e)){const i=this.list.getSelection();var s=i.filter(e=>e!==t);this.list.setFocus([t]),this.list.setAnchor(t),i.length===s.length?this.list.setSelection([...s,t],e.browserEvent):this.list.setSelection(s,e.browserEvent)}}dispose(){this.disposables.dispose()}}class j{constructor(e,t){this.styleElement=e,this.selectorSuffix=t}style(e){var t=this.selectorSuffix&&"."+this.selectorSuffix;const i=[];e.listBackground&&(e.listBackground.isOpaque()?i.push(`.monaco-list${t} .monaco-list-rows { background: ${e.listBackground}; }`):b.f||console.warn(`List with id '${this.selectorSuffix}' was styled with a non-opaque background color. This will break sub-pixel antialiasing.`)),e.listFocusBackground&&(i.push(`.monaco-list${t}:focus .monaco-list-row.focused { background-color: ${e.listFocusBackground}; }`),i.push(`.monaco-list${t}:focus .monaco-list-row.focused:hover { background-color: ${e.listFocusBackground}; }`)),e.listFocusForeground&&i.push(`.monaco-list${t}:focus .monaco-list-row.focused { color: ${e.listFocusForeground}; }`),e.listActiveSelectionBackground&&(i.push(`.monaco-list${t}:focus .monaco-list-row.selected { background-color: ${e.listActiveSelectionBackground}; }`),i.push(`.monaco-list${t}:focus .monaco-list-row.selected:hover { background-color: ${e.listActiveSelectionBackground}; }`)),e.listActiveSelectionForeground&&i.push(`.monaco-list${t}:focus .monaco-list-row.selected { color: ${e.listActiveSelectionForeground}; }`),e.listActiveSelectionIconForeground&&i.push(`.monaco-list${t}:focus .monaco-list-row.selected .codicon { color: ${e.listActiveSelectionIconForeground}; }`),e.listFocusAndSelectionBackground&&i.push(`\n\t\t\t\t.monaco-drag-image,\n\t\t\t\t.monaco-list${t}:focus .monaco-list-row.selected.focused { background-color: ${e.listFocusAndSelectionBackground}; }\n\t\t\t`),e.listFocusAndSelectionForeground&&i.push(`\n\t\t\t\t.monaco-drag-image,\n\t\t\t\t.monaco-list${t}:focus .monaco-list-row.selected.focused { color: ${e.listFocusAndSelectionForeground}; }\n\t\t\t`),e.listInactiveFocusForeground&&(i.push(`.monaco-list${t} .monaco-list-row.focused { color:  ${e.listInactiveFocusForeground}; }`),i.push(`.monaco-list${t} .monaco-list-row.focused:hover { color:  ${e.listInactiveFocusForeground}; }`)),e.listInactiveSelectionIconForeground&&i.push(`.monaco-list${t} .monaco-list-row.focused .codicon { color:  ${e.listInactiveSelectionIconForeground}; }`),e.listInactiveFocusBackground&&(i.push(`.monaco-list${t} .monaco-list-row.focused { background-color:  ${e.listInactiveFocusBackground}; }`),i.push(`.monaco-list${t} .monaco-list-row.focused:hover { background-color:  ${e.listInactiveFocusBackground}; }`)),e.listInactiveSelectionBackground&&(i.push(`.monaco-list${t} .monaco-list-row.selected { background-color:  ${e.listInactiveSelectionBackground}; }`),i.push(`.monaco-list${t} .monaco-list-row.selected:hover { background-color:  ${e.listInactiveSelectionBackground}; }`)),e.listInactiveSelectionForeground&&i.push(`.monaco-list${t} .monaco-list-row.selected { color: ${e.listInactiveSelectionForeground}; }`),e.listHoverBackground&&i.push(`.monaco-list${t}:not(.drop-target) .monaco-list-row:hover:not(.selected):not(.focused) { background-color: ${e.listHoverBackground}; }`),e.listHoverForeground&&i.push(`.monaco-list${t} .monaco-list-row:hover:not(.selected):not(.focused) { color:  ${e.listHoverForeground}; }`),e.listSelectionOutline&&i.push(`.monaco-list${t} .monaco-list-row.selected { outline: 1px dotted ${e.listSelectionOutline}; outline-offset: -1px; }`),e.listFocusOutline&&i.push(`\n\t\t\t\t.monaco-drag-image,\n\t\t\t\t.monaco-list${t}:focus .monaco-list-row.focused { outline: 1px solid ${e.listFocusOutline}; outline-offset: -1px; }\n\t\t\t`),e.listInactiveFocusOutline&&i.push(`.monaco-list${t} .monaco-list-row.focused { outline: 1px dotted ${e.listInactiveFocusOutline}; outline-offset: -1px; }`),e.listHoverOutline&&i.push(`.monaco-list${t} .monaco-list-row:hover { outline: 1px dashed ${e.listHoverOutline}; outline-offset: -1px; }`),e.listDropBackground&&i.push(`\n\t\t\t\t.monaco-list${t}.drop-target,\n\t\t\t\t.monaco-list${t} .monaco-list-rows.drop-target,\n\t\t\t\t.monaco-list${t} .monaco-list-row.drop-target { background-color: ${e.listDropBackground} !important; color: inherit !important; }\n\t\t\t`),e.listFilterWidgetBackground&&i.push(`.monaco-list-type-filter { background-color: ${e.listFilterWidgetBackground} }`),e.listFilterWidgetOutline&&i.push(`.monaco-list-type-filter { border: 1px solid ${e.listFilterWidgetOutline}; }`),e.listFilterWidgetNoMatchesOutline&&i.push(`.monaco-list-type-filter.no-matches { border: 1px solid ${e.listFilterWidgetNoMatchesOutline}; }`),e.listMatchesShadow&&i.push(`.monaco-list-type-filter { box-shadow: 1px 1px 1px ${e.listMatchesShadow}; }`),e.tableColumnsBorder&&i.push(`\n\t\t\t\t.monaco-table:hover > .monaco-split-view2,\n\t\t\t\t.monaco-table:hover > .monaco-split-view2 .monaco-sash.vertical::before {\n\t\t\t\t\tborder-color: ${e.tableColumnsBorder};\n\t\t\t}`),this.styleElement.textContent=i.join("\n")}}const B={listFocusBackground:h.a.fromHex("#7FB0D0"),listActiveSelectionBackground:h.a.fromHex("#0E639C"),listActiveSelectionForeground:h.a.fromHex("#FFFFFF"),listActiveSelectionIconForeground:h.a.fromHex("#FFFFFF"),listFocusAndSelectionBackground:h.a.fromHex("#094771"),listFocusAndSelectionForeground:h.a.fromHex("#FFFFFF"),listInactiveSelectionBackground:h.a.fromHex("#3F3F46"),listInactiveSelectionIconForeground:h.a.fromHex("#FFFFFF"),listHoverBackground:h.a.fromHex("#2A2D2E"),listDropBackground:h.a.fromHex("#383B3D"),treeIndentGuidesStroke:h.a.fromHex("#a9a9a9"),tableColumnsBorder:h.a.fromHex("#cccccc").transparent(.2)},W={keyboardSupport:!0,mouseSupport:!0,multipleSelectionSupport:!0,dnd:{getDragURI:()=>null,onDragStart(){},onDragOver:()=>!1,drop(){}}};function V(e,t){const i=[];let n=0,o=0;for(;n<e.length||o<t.length;)n>=e.length?i.push(t[o++]):o>=t.length?i.push(e[n++]):e[n]!==t[o]?e[n]<t[o]?i.push(e[n++]):i.push(t[o++]):(i.push(e[n]),n++,o++);return i}const z=(e,t)=>e-t;class H{constructor(e,t){this._templateId=e,this.renderers=t}get templateId(){return this._templateId}renderTemplate(e){return this.renderers.map(t=>t.renderTemplate(e))}renderElement(e,t,i,n){let o=0;for(const r of this.renderers)r.renderElement(e,t,i[o++],n)}disposeElement(e,t,i,n){let o=0;for(const r of this.renderers)r.disposeElement&&r.disposeElement(e,t,i[o],n),o+=1}disposeTemplate(e){let t=0;for(const i of this.renderers)i.disposeTemplate(e[t++])}}class U{constructor(e){this.accessibilityProvider=e,this.templateId="a18n"}renderTemplate(e){return e}renderElement(e,t,i){var n=this.accessibilityProvider.getAriaLabel(e);n?i.setAttribute("aria-label",n):i.removeAttribute("aria-label"),"number"==typeof(e=this.accessibilityProvider.getAriaLevel&&this.accessibilityProvider.getAriaLevel(e))?i.setAttribute("aria-level",""+e):i.removeAttribute("aria-level")}disposeTemplate(e){}}class ${constructor(e,t){this.list=e,this.dnd=t}getDragElements(e){const t=this.list.getSelectedElements();return-1<t.indexOf(e)?t:[e]}getDragURI(e){return this.dnd.getDragURI(e)}getDragLabel(e,t){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(e,t)}onDragStart(e,t){this.dnd.onDragStart&&this.dnd.onDragStart(e,t)}onDragOver(e,t,i,n){return this.dnd.onDragOver(e,t,i,n)}onDragLeave(e,t,i,n){var o,r;null!==(r=(o=this.dnd).onDragLeave)&&void 0!==r&&r.call(o,e,t,i,n)}onDragEnd(e){this.dnd.onDragEnd&&this.dnd.onDragEnd(e)}drop(e,t,i,n){this.dnd.drop(e,t,i,n)}}class K{constructor(e,t,i,o,r=W){this.user=e,this._options=r,this.focus=new k("focused"),this.anchor=new k("anchor"),this.eventBufferer=new g.d,this._ariaLabel="",this.disposables=new f.b,this._onDidDispose=new g.b,this.onDidDispose=this._onDidDispose.event,e=this._options.accessibilityProvider&&this._options.accessibilityProvider.getWidgetRole?null===(c=this._options.accessibilityProvider)||void 0===c?void 0:c.getWidgetRole():"list",this.selection=new D("listbox"!==e),Object(v.f)(r,B,!1);const s=[this.focus.renderer,this.selection.renderer];this.accessibilityProvider=r.accessibilityProvider,this.accessibilityProvider&&(s.push(new U(this.accessibilityProvider)),this.accessibilityProvider.onDidChangeActiveDescendant&&this.accessibilityProvider.onDidChangeActiveDescendant(this.onDidChangeActiveDescendant,this,this.disposables)),o=o.map(e=>new H(e.templateId,[...s,e]));var a,c=Object.assign(Object.assign({},r),{dnd:r.dnd&&new $(this,r.dnd)});this.view=new y.b(t,i,o,c),this.view.domNode.setAttribute("role",e),r.styleController?this.styleController=r.styleController(this.view.domId):(a=Object(n.w)(this.view.domNode),this.styleController=new j(a,this.view.domId)),this.spliceable=new l([new L(this.focus,this.view,r.identityProvider),new L(this.selection,this.view,r.identityProvider),new L(this.anchor,this.view,r.identityProvider),this.view]),this.disposables.add(this.focus),this.disposables.add(this.selection),this.disposables.add(this.anchor),this.disposables.add(this.view),this.disposables.add(this._onDidDispose),this.disposables.add(new M(this,this.view)),"boolean"==typeof r.keyboardSupport&&!r.keyboardSupport||(this.keyboardController=new N(this,this.view,r),this.disposables.add(this.keyboardController)),r.keyboardNavigationLabelProvider&&(a=r.keyboardNavigationDelegate||I,this.typeLabelController=new T(this,this.view,r.keyboardNavigationLabelProvider,a),this.disposables.add(this.typeLabelController)),this.mouseController=this.createMouseController(r),this.disposables.add(this.mouseController),this.onDidChangeFocus(this._onFocusChange,this,this.disposables),this.onDidChangeSelection(this._onSelectionChange,this,this.disposables),this.accessibilityProvider&&(this.ariaLabel=this.accessibilityProvider.getWidgetAriaLabel()),!1!==this._options.multipleSelectionSupport&&this.view.domNode.setAttribute("aria-multiselectable","true")}get onDidChangeFocus(){return g.c.map(this.eventBufferer.wrapEvent(this.focus.onChange),e=>this.toListEvent(e))}get onDidChangeSelection(){return g.c.map(this.eventBufferer.wrapEvent(this.selection.onChange),e=>this.toListEvent(e))}get domId(){return this.view.domId}get onMouseClick(){return this.view.onMouseClick}get onMouseDblClick(){return this.view.onMouseDblClick}get onMouseMiddleClick(){return this.view.onMouseMiddleClick}get onPointer(){return this.mouseController.onPointer}get onMouseDown(){return this.view.onMouseDown}get onTouchStart(){return this.view.onTouchStart}get onTap(){return this.view.onTap}get onContextMenu(){let e=!1;var t=g.c.chain(this.disposables.add(new o.a(this.view.domNode,"keydown")).event).map(e=>new r.a(e)).filter(t=>e=58===t.keyCode||t.shiftKey&&68===t.keyCode).map(o.b).filter(()=>!1).event,i=g.c.chain(this.disposables.add(new o.a(this.view.domNode,"keyup")).event).forEach(()=>e=!1).map(e=>new r.a(e)).filter(e=>58===e.keyCode||e.shiftKey&&68===e.keyCode).map(o.b).map(({browserEvent:e})=>{var t;return{index:t=(t=this.getFocus()).length?t[0]:void 0,element:void 0!==t?this.view.element(t):void 0,anchor:void 0!==t?this.view.domElement(t):this.view.domNode,browserEvent:e}}).event,n=g.c.chain(this.view.onContextMenu).filter(t=>!e).map(({element:e,index:t,browserEvent:i})=>({element:e,index:t,anchor:{x:i.pageX+1,y:i.pageY},browserEvent:i})).event;return g.c.any(t,i,n)}get onKeyDown(){return this.disposables.add(new o.a(this.view.domNode,"keydown")).event}get onDidFocus(){return g.c.signal(this.disposables.add(new o.a(this.view.domNode,"focus",!0)).event)}createMouseController(e){return new F(this)}updateOptions(e={}){var t;this._options=Object.assign(Object.assign({},this._options),e),this.typeLabelController&&this.typeLabelController.updateOptions(this._options),void 0!==this._options.multipleSelectionController&&(this._options.multipleSelectionSupport?this.view.domNode.setAttribute("aria-multiselectable","true"):this.view.domNode.removeAttribute("aria-multiselectable")),this.mouseController.updateOptions(e),null!==(t=this.keyboardController)&&void 0!==t&&t.updateOptions(e),this.view.updateOptions(e)}get options(){return this._options}splice(e,t,i=[]){if(e<0||e>this.view.length)throw new w(this.user,"Invalid start index: "+e);if(t<0)throw new w(this.user,"Invalid delete count: "+t);0===t&&0===i.length||this.eventBufferer.bufferEvents(()=>this.spliceable.splice(e,t,i))}rerender(){this.view.rerender()}element(e){return this.view.element(e)}get length(){return this.view.length}get contentHeight(){return this.view.contentHeight}get scrollTop(){return this.view.getScrollTop()}set scrollTop(e){this.view.setScrollTop(e)}get ariaLabel(){return this._ariaLabel}set ariaLabel(e){this._ariaLabel=e,this.view.domNode.setAttribute("aria-label",e)}domFocus(){this.view.domNode.focus({preventScroll:!0})}layout(e,t){this.view.layout(e,t)}setSelection(e,t){for(const t of e)if(t<0||t>=this.length)throw new w(this.user,"Invalid index "+t);this.selection.set(e,t)}getSelection(){return this.selection.get()}getSelectedElements(){return this.getSelection().map(e=>this.view.element(e))}setAnchor(e){if(void 0!==e){if(e<0||e>=this.length)throw new w(this.user,"Invalid index "+e);this.anchor.set([e])}else this.anchor.set([])}getAnchor(){return Object(c.j)(this.anchor.get(),void 0)}getAnchorElement(){var e=this.getAnchor();return void 0===e?void 0:this.element(e)}setFocus(e,t){for(const t of e)if(t<0||t>=this.length)throw new w(this.user,"Invalid index "+t);this.focus.set(e,t)}focusNext(e=1,t=!1,i,n){var o;0!==this.length&&(o=this.focus.get(),-1<(n=this.findNextIndex(0<o.length?o[0]+e:0,t,n))&&this.setFocus([n],i))}focusPrevious(e=1,t=!1,i,n){var o;0!==this.length&&(o=this.focus.get(),-1<(n=this.findPreviousIndex(0<o.length?o[0]-e:0,t,n))&&this.setFocus([n],i))}focusNextPage(e,t){return x(this,void 0,void 0,(function*(){let i=this.view.indexAt(this.view.getScrollTop()+this.view.renderHeight);i=0===i?0:i-1;var n,o=this.view.element(i),r=this.getFocusedElements()[0];r!==o?-1<(n=this.findPreviousIndex(i,!1,t))&&r!==this.view.element(n)?this.setFocus([n],e):this.setFocus([i],e):(n=this.view.getScrollTop(),this.view.setScrollTop(n+this.view.renderHeight-this.view.elementHeight(i)),this.view.getScrollTop()!==n&&(this.setFocus([]),yield Object(d.n)(0),yield this.focusNextPage(e,t)))}))}focusPreviousPage(e,t){return x(this,void 0,void 0,(function*(){let i;var n=this.view.getScrollTop();i=0===n?this.view.indexAt(n):this.view.indexAfter(n-1);var o=this.view.element(i),r=this.getFocusedElements()[0];r!==o?-1<(o=this.findNextIndex(i,!1,t))&&r!==this.view.element(o)?this.setFocus([o],e):this.setFocus([i],e):(this.view.setScrollTop((n=n)-this.view.renderHeight),this.view.getScrollTop()!==n&&(this.setFocus([]),yield Object(d.n)(0),yield this.focusPreviousPage(e,t)))}))}focusLast(e,t){0===this.length||-1<(t=this.findPreviousIndex(this.length-1,!1,t))&&this.setFocus([t],e)}focusFirst(e,t){this.focusNth(0,e,t)}focusNth(e,t,i){0===this.length||-1<(i=this.findNextIndex(e,!1,i))&&this.setFocus([i],t)}findNextIndex(e,t=!1,i){for(let n=0;n<this.length;n++){if(e>=this.length&&!t)return-1;if(e%=this.length,!i||i(this.element(e)))return e;e++}return-1}findPreviousIndex(e,t=!1,i){for(let n=0;n<this.length;n++){if(e<0&&!t)return-1;if(e=(this.length+e%this.length)%this.length,!i||i(this.element(e)))return e;e--}return-1}getFocus(){return this.focus.get()}getFocusedElements(){return this.getFocus().map(e=>this.view.element(e))}reveal(e,t){if(e<0||e>=this.length)throw new w(this.user,"Invalid index "+e);var i,n=this.view.getScrollTop(),o=this.view.elementTop(e);e=this.view.elementHeight(e);Object(_.j)(t)?(i=e-this.view.renderHeight,this.view.setScrollTop(i*Object(m.b)(t,0,1)+o)):(i=o+e,t=n+this.view.renderHeight,o<n&&t<=i||(o<n||t<=i&&e>=this.view.renderHeight?this.view.setScrollTop(o):t<=i&&this.view.setScrollTop(i-this.view.renderHeight)))}getRelativeTop(e){if(e<0||e>=this.length)throw new w(this.user,"Invalid index "+e);var t=this.view.getScrollTop(),i=this.view.elementTop(e);e=this.view.elementHeight(e);return i<t||i+e>t+this.view.renderHeight?null:(e-=this.view.renderHeight,Math.abs((t-i)/e))}getHTMLElement(){return this.view.domNode}style(e){this.styleController.style(e)}toListEvent({indexes:e,browserEvent:t}){return{indexes:e,elements:e.map(e=>this.view.element(e)),browserEvent:t}}_onFocusChange(){var e=this.focus.get();this.view.domNode.classList.toggle("element-focused",0<e.length),this.onDidChangeActiveDescendant()}onDidChangeActiveDescendant(){var e,t=this.focus.get();if(0<t.length){let i;null!==(e=this.accessibilityProvider)&&void 0!==e&&e.getActiveDescendantId&&(i=this.accessibilityProvider.getActiveDescendantId(this.view.element(t[0]))),this.view.domNode.setAttribute("aria-activedescendant",i||this.view.getElementDomId(t[0]))}else this.view.domNode.removeAttribute("aria-activedescendant")}_onSelectionChange(){var e=this.selection.get();this.view.domNode.classList.toggle("selection-none",0===e.length),this.view.domNode.classList.toggle("selection-single",1===e.length),this.view.domNode.classList.toggle("selection-multiple",1<e.length)}dispose(){this._onDidDispose.fire(),this.disposables.dispose(),this._onDidDispose.dispose()}}t([u.a],K.prototype,"onDidChangeFocus",null),t([u.a],K.prototype,"onDidChangeSelection",null),t([u.a],K.prototype,"onContextMenu",null),t([u.a],K.prototype,"onKeyDown",null),t([u.a],K.prototype,"onDidFocus",null)},function(e,t,i){"use strict";i.d(t,"b",(function(){return m})),i.d(t,"f",(function(){return v})),i.d(t,"g",(function(){return b})),i.d(t,"e",(function(){return _})),i.d(t,"c",(function(){return w})),i.d(t,"a",(function(){return C})),i.d(t,"d",(function(){return S}));var n=i(22),o=i(38),r=i(17),s=i(2),a=i(35),l=i(103),c=i(3),d=i(29),h=i(11),u=i(70),g=(t=i(36),i(102)),p=i(81),f=function(e,t,i,n){return new(i=i||Promise)((function(o,r){function s(e){try{l(n.next(e))}catch(e){r(e)}}function a(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):((t=e.value)instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};const m="editor.action.codeAction",v="editor.action.refactor",b="editor.action.sourceAction",_="editor.action.organizeImports",w="editor.action.fixAll";class C{constructor(e,t){this.action=e,this.provider=t}resolve(e){var t;return f(this,void 0,void 0,(function*(){if(null!==(t=this.provider)&&void 0!==t&&t.resolveCodeAction&&!this.action.edit){let t;try{t=yield this.provider.resolveCodeAction(this.action,e)}catch(e){Object(r.g)(e)}t&&(this.action.edit=t.edit)}return this}))}}class y extends s.a{constructor(e,t,i){super(),this.documentation=t,this._register(i),this.allActions=[...e].sort(y.codeActionsComparator),this.validActions=this.allActions.filter(({action:e})=>!e.disabled)}static codeActionsComparator({action:e},{action:t}){return e.isPreferred&&!t.isPreferred?-1:!e.isPreferred&&t.isPreferred?1:Object(n.n)(e.diagnostics)?Object(n.n)(t.diagnostics)?e.diagnostics[0].message.localeCompare(t.diagnostics[0].message):-1:Object(n.n)(t.diagnostics)?1:0}get hasAutoFix(){return this.validActions.some(({action:e})=>!!e.kind&&p.b.QuickFix.contains(new p.b(e.kind))&&!!e.isPreferred)}}const x={actions:[],documentation:void 0};function S(e,t,i,o,a){var c,d;const u=i.filter||{},g={only:null===(c=u.include)||void 0===c?void 0:c.value,trigger:i.type},m=new l.d(e,a),v=(d=u,h.a.all(e).filter(e=>!e.providedCodeActionKinds||e.providedCodeActionKinds.some(e=>Object(p.d)(d,new p.b(e))))),b=new s.b;a=v.map(i=>f(this,void 0,void 0,(function*(){try{o.report(i);const r=yield i.provideCodeActions(e,t,g,m.token);if(r&&b.add(r),m.token.isCancellationRequested)return x;const s=((null==r?void 0:r.actions)||[]).filter(e=>e&&Object(p.c)(u,e));var n=function(e,t,i){if(e.documentation){var n=e.documentation.map(e=>({kind:new p.b(e.kind),command:e.command}));if(i){let e;for(const t of n)!t.kind.contains(i)||e&&!e.kind.contains(t.kind)||(e=t);if(e)return null==e?void 0:e.command}for(const e of t)if(e.kind)for(const t of n)if(t.kind.contains(new p.b(e.kind)))return t.command}}(i,s,u.include);return{actions:s.map(e=>new C(e,i)),documentation:n}}catch(n){if(Object(r.e)(n))throw n;return Object(r.g)(n),x}})));const _=h.a.onDidChange(()=>{var t=h.a.all(e);Object(n.g)(t,v)||m.cancel()});return Promise.all(a).then(e=>{var t=Object(n.k)(e.map(e=>e.actions));e=Object(n.e)(e.map(e=>e.documentation));return new y(t,e,b)}).finally(()=>{_.dispose(),m.dispose()})}t.a.registerCommand("_executeCodeActionProvider",(function(e,t,i,n,s){return f(this,void 0,void 0,(function*(){if(!(t instanceof a.a))throw Object(r.c)();const l=e.get(u.a).getModel(t);if(!l)throw Object(r.c)();var h=d.a.isISelection(i)?d.a.liftSelection(i):c.a.isIRange(i)?l.validateRange(i):void 0;if(!h)throw Object(r.c)();var f="string"==typeof n?new p.b(n):void 0;const m=yield S(l,h,{type:1,filter:{includeSourceActions:!0,include:f}},g.b.None,o.a.None),v=[];var b=Math.min(m.validActions.length,"number"==typeof s?s:0);for(let e=0;e<b;e++)v.push(m.validActions[e].resolve(o.a.None));try{return yield Promise.all(v),m.validActions.map(e=>e.action)}finally{setTimeout(()=>m.dispose(),100)}}))}))},function(e,t,i){"use strict";i.d(t,"b",(function(){return r})),i.d(t,"a",(function(){return s}));var n=i(179);const o=[];function r(e,t,i){t instanceof n.a||(t=new n.a(t,[],i)),o.push([e,t])}function s(){return o}},function(e,t,i){"use strict";var n={name:"HintView",props:{hint:{type:String,required:!0},position:{type:String,default:"top",validate:function(e){return["top","bottom","left","right"].includes(e)}}},data:function(){return{timeoutID:null,isShowHint:!1}},computed:{},methods:{startCounting:function(){var e=this;this.timeoutID=setTimeout((function(){e.isShowHint=!0}),1e3)},stopCounting:function(){this.timeoutID&&(clearTimeout(this.timeoutID),this.timeoutID=null,this.isShowHint=!1)}},updated:function(){var e=this;this.$nextTick((function(){try{var t=e.$refs.hint.getBoundingClientRect(),i=t.x,n=t.y,o=t.width,r=t.height,s=e.$refs["hint-text"],a=null==s?void 0:s.getBoundingClientRect(),l=(a.x,a.y,a.width),c=a.height;"top"===e.position?(s.style.top="".concat(n-c-5,"px"),s.style.left="".concat(i-l/2+o/2,"px")):"bottom"===e.position?(s.style.top="".concat(n+r+5,"px"),s.style.left="".concat(i-l/2+o/2,"px")):"left"===e.position?(s.style.top="".concat(n-c/2+r/2,"px"),s.style.left="".concat(i-l-5,"px")):"right"===e.position&&(s.style.top="".concat(n-c/2+r/2,"px"),s.style.left="".concat(i+o+5,"px"))}catch(t){}}))}};i(583),i=i(37),n=Object(i.a)(n,(function(){var e=this,t=e.$createElement;return(t=e._self._c||t)("div",e._g({ref:"hint",staticClass:"main-hint-view flex flex-col justify-center items-center w-[18px] h-[18px]",on:{mouseenter:e.startCounting,mouseleave:e.stopCounting}},e.$listeners),[e.isShowHint?t("span",{ref:"hint-text",staticClass:"hint"},[e._v(e._s(e.hint))]):e._e(),e._v(" "),e._t("default")],2)}),[],!1,null,"6e240a95",null);t.a=n.exports},function(e,t,i){"use strict";i.d(t,"e",(function(){return o})),i.d(t,"d",(function(){return s})),i.d(t,"a",(function(){return a})),i.d(t,"c",(function(){return l})),i.d(t,"b",(function(){return c}));var n=i(17);function o(e,t){if(0===e)return null;var i=(65535&e)>>>0;return new a(0!=(e=(4294901760&e)>>>16)?[r(i,t),r(e,t)]:[r(i,t)])}function r(e,t){var i=!!(2048&e),n=!!(256&e);return new s(2===t?n:i,!!(1024&e),!!(512&e),n=2===t?i:n,e=255&e)}class s{constructor(e,t,i,n,o){this.ctrlKey=e,this.shiftKey=t,this.altKey=i,this.metaKey=n,this.keyCode=o}equals(e){return this.ctrlKey===e.ctrlKey&&this.shiftKey===e.shiftKey&&this.altKey===e.altKey&&this.metaKey===e.metaKey&&this.keyCode===e.keyCode}isModifierKey(){return 0===this.keyCode||5===this.keyCode||57===this.keyCode||6===this.keyCode||4===this.keyCode}toChord(){return new a([this])}isDuplicateModifierCase(){return this.ctrlKey&&5===this.keyCode||this.shiftKey&&4===this.keyCode||this.altKey&&6===this.keyCode||this.metaKey&&57===this.keyCode}}class a{constructor(e){if(0===e.length)throw Object(n.c)("parts");this.parts=e}}class l{constructor(e,t,i,n,o,r){this.ctrlKey=e,this.shiftKey=t,this.altKey=i,this.metaKey=n,this.keyLabel=o,this.keyAriaLabel=r}}class c{}},function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));class n extends i(149).a{constructor(e){super(0);for(let t=0,i=e.length;t<i;t++)this.set(e.charCodeAt(t),2);this.set(32,1),this.set(9,1)}}const o=function(e){let t={};return e=>(t.hasOwnProperty(e)||(t[e]=(e=>new n(e))(e)),t[e])}()},function(e,t,i){"use strict";function n(e,t,i){return Math.min(Math.max(e,t),i)}i.d(t,"b",(function(){return n})),i.d(t,"a",(function(){return o}));class o{constructor(){this._n=1,this._val=0}update(e){return this._val=this._val+(e-this._val)/this._n,this._n+=1,this}get value(){return this._val}}},function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i.d(t,"b",(function(){return o})),i.d(t,"c",(function(){return r})),i.d(t,"d",(function(){return s})),i=i(21);const n=Object(i.c)("undoRedoService");class o{constructor(e,t){this.resource=e,this.elements=t}}class r{constructor(){this.id=r._ID++,this.order=1}nextOrder(){return 0===this.id?0:this.order++}}r._ID=0,r.None=new r;class s{constructor(){this.id=s._ID++,this.order=1}nextOrder(){return 0===this.id?0:this.order++}}s._ID=0,s.None=new s},function(e,t,i){"use strict";i.d(t,"a",(function(){return l})),i.d(t,"d",(function(){return d})),i.d(t,"c",(function(){return u})),i.d(t,"e",(function(){return g})),i.d(t,"b",(function(){return p}));var n=i(9),o=i(128),r=i(12),s=i(3),a=i(50);class l{constructor(e,t,i,n){this.searchString=e,this.isRegex=t,this.matchCase=i,this.wordSeparators=n}parseSearchRequest(){if(""===this.searchString)return null;let e;e=this.isRegex?function(e){if(!e||0===e.length)return!1;for(let i=0,n=e.length;i<n;i++)if(92===e.charCodeAt(i)){if(i++,i>=n)break;var t=e.charCodeAt(i);if(110===t||114===t||87===t)return!0}return!1}(this.searchString):0<=this.searchString.indexOf("\n");let t=null;try{t=n.q(this.searchString,this.isRegex,{matchCase:this.matchCase,wholeWord:!1,multiline:e,global:!0,unicode:!0})}catch(e){return null}if(!t)return null;let i=!this.isRegex&&!e;return i&&this.searchString.toLowerCase()!==this.searchString.toUpperCase()&&(i=this.matchCase),new c(t,this.wordSeparators?Object(o.a)(this.wordSeparators):null,i?this.searchString:null)}}class c{constructor(e,t,i){this.regex=e,this.wordSeparators=t,this.simpleSearch=i}}function d(e,t,i){if(!i)return new a.b(e,null);let n=[];for(let e=0,i=t.length;e<i;e++)n[e]=t[e];return new a.b(e,n)}class h{constructor(e){let t=[],i=0;for(let n=0,o=e.length;n<o;n++)10===e.charCodeAt(n)&&(t[i++]=n);this._lineFeedsOffsets=t}findLineFeedCountBeforeOffset(e){var t=this._lineFeedsOffsets;let i=0,n=t.length-1;if(-1===n)return 0;if(e<=t[0])return 0;for(;i<n;){var o=i+((n-i)/2>>0);t[o]>=e?n=o-1:t[o+1]>=e?(i=o,n=o):i=o+1}return i+1}}class u{static findMatches(e,t,i,n,o){return(t=t.parseSearchRequest())?t.regex.multiline?this._doFindMatchesMultiline(e,i,new p(t.wordSeparators,t.regex),n,o):this._doFindMatchesLineByLine(e,i,t,n,o):[]}static _getMultilineMatchRange(e,t,i,n,o,r){let a,l,c=0;return a=n?(c=n.findLineFeedCountBeforeOffset(o),t+o+c):t+o,l=n?(o=n.findLineFeedCountBeforeOffset(o+r.length)-c,a+r.length+o):a+r.length,r=e.getPositionAt(a),e=e.getPositionAt(l),new s.a(r.lineNumber,r.column,e.lineNumber,e.column)}static _doFindMatchesMultiline(e,t,i,n,o){var r,s=e.getOffsetAt(t.getStartPosition()),a=e.getValueInRange(t,1),l="\r\n"===e.getEOL()?new h(a):null;const c=[];let u=0;for(i.reset(0);r=i.next(a);)if(c[u++]=d(this._getMultilineMatchRange(e,s,a,l,r.index,r[0]),r,n),u>=o)return c;return c}static _doFindMatchesLineByLine(e,t,i,n,o){var r=[];let s=0;if(t.startLineNumber===t.endLineNumber){const a=e.getLineContent(t.startLineNumber).substring(t.startColumn-1,t.endColumn-1);return s=this._findMatchesInLine(i,a,t.startLineNumber,t.startColumn-1,s,r,n,o),r}const a=e.getLineContent(t.startLineNumber).substring(t.startColumn-1);s=this._findMatchesInLine(i,a,t.startLineNumber,t.startColumn-1,s,r,n,o);for(let a=t.startLineNumber+1;a<t.endLineNumber&&s<o;a++)s=this._findMatchesInLine(i,e.getLineContent(a),a,0,s,r,n,o);if(s<o){const a=e.getLineContent(t.endLineNumber).substring(0,t.endColumn-1);s=this._findMatchesInLine(i,a,t.endLineNumber,0,s,r,n,o)}return r}static _findMatchesInLine(e,t,i,n,o,r,l,c){var h,u=e.wordSeparators;if(!l&&e.simpleSearch){var f=e.simpleSearch,m=f.length,v=t.length;let l=-m;for(;-1!==(l=t.indexOf(f,l+m));)if((!u||g(u,t,v,l,m))&&(r[o++]=new a.b(new s.a(i,l+1+n,i,l+1+m+n),null),c<=o))return o;return o}const b=new p(e.wordSeparators,e.regex);b.reset(0);do{if((h=b.next(t))&&(r[o++]=d(new s.a(i,h.index+1+n,i,h.index+1+h[0].length+n),h,l),c<=o))return o}while(h);return o}static findNextMatch(e,t,i,n){var o=t.parseSearchRequest();return o?(t=new p(o.wordSeparators,o.regex),o.regex.multiline?this._doFindNextMatchMultiline(e,i,t,n):this._doFindNextMatchLineByLine(e,i,t,n)):null}static _doFindNextMatchMultiline(e,t,i,n){var o=new r.a(t.lineNumber,1),a=e.getOffsetAt(o),l=e.getLineCount(),c=e.getValueInRange(new s.a(o.lineNumber,o.column,l,e.getLineMaxColumn(l)),1);o="\r\n"===e.getEOL()?new h(c):null;return i.reset(t.column-1),(l=i.next(c))?d(this._getMultilineMatchRange(e,a,c,o,l.index,l[0]),l,n):1!==t.lineNumber||1!==t.column?this._doFindNextMatchMultiline(e,new r.a(1,1),i,n):null}static _doFindNextMatchLineByLine(e,t,i,n){var o=e.getLineCount(),r=t.lineNumber;const s=e.getLineContent(r),a=this._findFirstMatchInLine(i,s,r,t.column,n);if(a)return a;for(let t=1;t<=o;t++){var l=(r+t-1)%o;const s=e.getLineContent(1+l),a=this._findFirstMatchInLine(i,s,1+l,1,n);if(a)return a}return null}static _findFirstMatchInLine(e,t,i,n,o){return e.reset(n-1),(t=e.next(t))?d(new s.a(i,t.index+1,i,t.index+1+t[0].length),t,o):null}static findPreviousMatch(e,t,i,n){var o=t.parseSearchRequest();return o?(t=new p(o.wordSeparators,o.regex),o.regex.multiline?this._doFindPreviousMatchMultiline(e,i,t,n):this._doFindPreviousMatchLineByLine(e,i,t,n)):null}static _doFindPreviousMatchMultiline(e,t,i,n){var o=this._doFindMatchesMultiline(e,new s.a(1,1,t.lineNumber,t.column),i,n,9990);return 0<o.length?o[o.length-1]:(o=e.getLineCount(),t.lineNumber!==o||t.column!==e.getLineMaxColumn(o)?this._doFindPreviousMatchMultiline(e,new r.a(o,e.getLineMaxColumn(o)),i,n):null)}static _doFindPreviousMatchLineByLine(e,t,i,n){var o=e.getLineCount(),r=t.lineNumber;const s=e.getLineContent(r).substring(0,t.column-1),a=this._findLastMatchInLine(i,s,r,n);if(a)return a;for(let t=1;t<=o;t++){var l=(o+r-t-1)%o;const s=e.getLineContent(1+l),a=this._findLastMatchInLine(i,s,1+l,n);if(a)return a}return null}static _findLastMatchInLine(e,t,i,n){let o=null;var r;for(e.reset(0);r=e.next(t);)o=d(new s.a(i,r.index+1,i,r.index+1+r[0].length),r,n);return o}}function g(e,t,i,n,o){return function(e,t,i,n){if(0===i)return!0;var o=t.charCodeAt(i-1);return 0!==e.get(o)||(13===o||10===o||0<n&&(i=t.charCodeAt(i),0!==e.get(i)))}(e,t,n,o)&&function(e,t,i,n,o){return n+o===i||(i=t.charCodeAt(n+o),0!==e.get(i)||(13===i||10===i||0<o&&(o=t.charCodeAt(n+o-1),0!==e.get(o))))}(e,t,i,n,o)}class p{constructor(e,t){this._wordSeparators=e,this._searchRegex=t,this._prevMatchStartIndex=-1,this._prevMatchLength=0}reset(e){this._searchRegex.lastIndex=e,this._prevMatchStartIndex=-1,this._prevMatchLength=0}next(e){var t=e.length;let i;do{if(this._prevMatchStartIndex+this._prevMatchLength===t)return null;if(i=this._searchRegex.exec(e),!i)return null;var o=i.index,r=i[0].length;if(o!==this._prevMatchStartIndex||r!==this._prevMatchLength){if(this._prevMatchStartIndex=o,this._prevMatchLength=r,!this._wordSeparators||g(this._wordSeparators,e,t,o,r))return i}else{if(0!==r)return null;65535<n.z(e,t,this._searchRegex.lastIndex)?this._searchRegex.lastIndex+=2:this._searchRegex.lastIndex+=1}}while(i);return null}}},function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var n=i(21),o=i(152);i.d(t,"b",(function(){return o.a}));const r=Object(n.c)("quickInputService")},function(e,t,i){"use strict";var n;i.d(t,"a",(function(){return n})),(t=n=n||{}).DARK="dark",t.LIGHT="light",t.HIGH_CONTRAST="hc"},function(e,t,i){"use strict";i.d(t,"a",(function(){return a})),i.d(t,"b",(function(){return c})),i.d(t,"e",(function(){return h})),i.d(t,"d",(function(){return u})),i.d(t,"c",(function(){return g}));t=i(23);var n=i(83),o=i(9);const r="$(";t=new RegExp(`\\$\\(${t.a.iconNameExpression}(?:${t.a.iconModifierExpression})?\\)`,"g");const s=new RegExp("(\\\\)?"+t.source,"g");function a(e){return e.replace(s,(e,t)=>t?e:"\\"+e)}const l=new RegExp("\\\\"+t.source,"g");function c(e){return e.replace(l,e=>"\\"+e)}const d=new RegExp(`(\\s)?(\\\\)?${t.source}(\\s)?`,"g");function h(e){return-1===e.indexOf(r)?e:e.replace(d,(e,t,i,n)=>i?e:t||n||"")}function u(e){var t=e.indexOf(r);return-1===t?{text:e}:function(e,t){const i=[];let n="";function o(e){if(e){n+=e;for(const t of e)i.push(d)}}let s,a,l=-1,c="",d=0,h=t;var u=e.length;for(o(e.substr(0,t));h<u;){s=e[h],a=e[h+1],s===r[0]&&a===r[1]?(l=h,o(c),c=r,h++):")"===s&&-1!==l?(d+=h-l+1,l=-1,c=""):-1!==l?/^[a-z0-9\-]$/i.test(s)?c+=s:(o(c),l=-1,c=""):o(s),h++}return o(c),{text:n,iconOffsets:i}}(e,t)}function g(e,t,i=!1){var{text:r,iconOffsets:s}=t;if(!s||0===s.length)return Object(n.g)(e,r,i);t=Object(o.J)(r," ");var a=r.length-t.length;if(i=Object(n.g)(e,t,i))for(const e of i){var l=s[e.start+a]+a;e.start+=l,e.end+=l}return i}},function(e,t,i){"use strict";i.d(t,"b",(function(){return o})),i.d(t,"c",(function(){return r})),i.d(t,"a",(function(){return s}));var n=i(172);function o(e){return!(!e||"function"!=typeof e.getEditorType)&&e.getEditorType()===n.a.ICodeEditor}function r(e){return!(!e||"function"!=typeof e.getEditorType)&&e.getEditorType()===n.a.IDiffEditor}function s(e){return o(e)?e:r(e)?e.getModifiedEditor():null}},function(e,t,i){"use strict";function n(e,t){var i=e.getCount(),n=(t=e.findTokenIndexAtOffset(t),e.getLanguageId(t));let r=t;for(;r+1<i&&e.getLanguageId(r+1)===n;)r++;let s=t;for(;0<s&&e.getLanguageId(s-1)===n;)s--;return new o(e,n,s,r+1,e.getStartOffset(s),e.getEndOffset(r))}i.d(t,"a",(function(){return n})),i.d(t,"b",(function(){return r}));class o{constructor(e,t,i,n,o,r){this._scopedLineTokensBrand=void 0,this._actual=e,this.languageId=t,this._firstTokenIndex=i,this._lastTokenIndex=n,this.firstCharOffset=o,this._lastCharOffset=r}getLineContent(){return this._actual.getLineContent().substring(this.firstCharOffset,this._lastCharOffset)}getActualLineContentBefore(e){return this._actual.getLineContent().substring(0,this.firstCharOffset+e)}getTokenCount(){return this._lastTokenIndex-this._firstTokenIndex}findTokenIndexAtOffset(e){return this._actual.findTokenIndexAtOffset(e+this.firstCharOffset)-this._firstTokenIndex}getStandardTokenType(e){return this._actual.getStandardTokenType(e+this._firstTokenIndex)}}function r(e){return 0!=(7&e)}},function(e,t,i){"use strict";var n=i(31),o=i.n(n);n=i(33);function r(e,t){var i,n=Object.keys(e);return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(e),t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)),n}n={name:"SelectView",props:{items:Array,index:{type:Number,default:function(){return 0}}},model:{prop:"index",event:"select"},data:function(){return{}},computed:function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?r(Object(i),!0).forEach((function(t){o()(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},Object(n.mapState)({})),methods:{handleItemClick:function(e){this.$emit("select",e)},itemClass:function(e){var t=["item","item-".concat(e%2==0?"double":"single")];return e===this.index&&t.push("item-selected"),0===e?t.push("item-first"):e===this.items.length-1&&t.push("item-last"),t}}},i(567),i=i(37),n=Object(i.a)(n,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:["main-select-view"]},e._l(e.items,(function(t,n){return i("div",{key:n,class:e.itemClass(n),on:{click:function(t){return e.handleItemClick(n)}}},[e._v("\n    "+e._s(t)+"\n  ")])})),0)}),[],!1,null,"e458e7bc",null),t.a=n.exports},function(e,t,i){"use strict";function n(e){const t=this;let i,n=!1;return function(){return n||(n=!0,i=e.apply(t,arguments)),i}}i.d(t,"a",(function(){return n}))},function(e,t,i){"use strict";i.d(t,"a",(function(){return d}));var n=i(1),o=i(67),r=i(141),s=i(65),a=i(6),l=i(2),c=i(19);t=i(288);class d extends l.a{constructor(e,t={}){var i;let l,c;switch(super(),this.triggerKeyDown=!1,this.focusable=!0,this._onDidBlur=this._register(new a.b),this.onDidBlur=this._onDidBlur.event,this._onDidCancel=this._register(new a.b({onFirstListenerAdd:()=>this.cancelHasListener=!0})),this.onDidCancel=this._onDidCancel.event,this.cancelHasListener=!1,this._onDidRun=this._register(new a.b),this.onDidRun=this._onDidRun.event,this._onBeforeRun=this._register(new a.b),this.onBeforeRun=this._onBeforeRun.event,this.options=t,this._context=null!==(i=t.context)&&void 0!==i?i:null,this._orientation=null!==(i=this.options.orientation)&&void 0!==i?i:0,this._triggerKeys={keyDown:null!==(i=null===(i=this.options.triggerKeys)||void 0===i?void 0:i.keyDown)&&void 0!==i&&i,keys:null!==(i=null===(i=this.options.triggerKeys)||void 0===i?void 0:i.keys)&&void 0!==i?i:[3,10]},this.options.actionRunner?this._actionRunner=this.options.actionRunner:(this._actionRunner=new s.b,this._register(this._actionRunner)),this._register(this._actionRunner.onDidRun(e=>this._onDidRun.fire(e))),this._register(this._actionRunner.onBeforeRun(e=>this._onBeforeRun.fire(e))),this._actionIds=[],this.viewItems=[],this.focusedItem=void 0,this.domNode=document.createElement("div"),!(this.domNode.className="monaco-action-bar")!==t.animated&&this.domNode.classList.add("animated"),this._orientation){case 0:l=[15],c=[17];break;case 1:l=[16],c=[18],this.domNode.className+=" vertical"}this._register(n.i(this.domNode,n.d.KEY_DOWN,e=>{const t=new o.a(e);let i=!0;e="number"==typeof this.focusedItem?this.viewItems[this.focusedItem]:void 0,l&&(t.equals(l[0])||t.equals(l[1]))?i=this.focusPrevious():c&&(t.equals(c[0])||t.equals(c[1]))?i=this.focusNext():t.equals(9)&&this.cancelHasListener?this._onDidCancel.fire():t.equals(14)?i=this.focusFirst():t.equals(13)?i=this.focusLast():t.equals(2)&&e instanceof r.b&&e.trapsArrowNavigation?i=this.focusNext():this.isTriggerKeyEvent(t)?this._triggerKeys.keyDown?this.doTrigger(t):this.triggerKeyDown=!0:i=!1,i&&(t.preventDefault(),t.stopPropagation())})),this._register(n.i(this.domNode,n.d.KEY_UP,e=>{const t=new o.a(e);this.isTriggerKeyEvent(t)?(!this._triggerKeys.keyDown&&this.triggerKeyDown&&(this.triggerKeyDown=!1,this.doTrigger(t)),t.preventDefault(),t.stopPropagation()):(t.equals(2)||t.equals(1026))&&this.updateFocusedItem()})),this.focusTracker=this._register(n.Y(this.domNode)),this._register(this.focusTracker.onDidBlur(()=>{n.y()!==this.domNode&&n.L(n.y(),this.domNode)||(this._onDidBlur.fire(),this.focusedItem=void 0,this.triggerKeyDown=!1)})),this._register(this.focusTracker.onDidFocus(()=>this.updateFocusedItem())),this.actionsList=document.createElement("ul"),this.actionsList.className="actions-container",this.actionsList.setAttribute("role","toolbar"),this.options.ariaLabel&&this.actionsList.setAttribute("aria-label",this.options.ariaLabel),this.domNode.appendChild(this.actionsList),e.appendChild(this.domNode)}isTriggerKeyEvent(e){let t=!1;return this._triggerKeys.keys.forEach(i=>{t=t||e.equals(i)}),t}updateFocusedItem(){for(let t=0;t<this.actionsList.children.length;t++){var e=this.actionsList.children[t];if(n.L(n.y(),e)){this.focusedItem=t;break}}}get context(){return this._context}set context(e){this._context=e,this.viewItems.forEach(t=>t.setActionContext(e))}get actionRunner(){return this._actionRunner}set actionRunner(e){e&&(this._actionRunner=e,this.viewItems.forEach(t=>t.actionRunner=e))}getContainer(){return this.domNode}push(e,t={}){const i=Array.isArray(e)?e:[e];let o=c.j(t.index)?t.index:null;i.forEach(e=>{const i=document.createElement("li");let s;i.className="action-item",i.setAttribute("role","presentation"),this.options.allowContextMenu||this._register(n.i(i,n.d.CONTEXT_MENU,e=>{n.c.stop(e,!0)})),this.options.actionViewItemProvider&&(s=this.options.actionViewItemProvider(e)),s=s||new r.a(this.context,e,t),s.actionRunner=this._actionRunner,s.setActionContext(this.context),s.render(i),this.focusable&&s instanceof r.b&&0===this.viewItems.length&&s.setFocusable(!0),null===o||o<0||o>=this.actionsList.children.length?(this.actionsList.appendChild(i),this.viewItems.push(s),this._actionIds.push(e.id)):(this.actionsList.insertBefore(i,this.actionsList.children[o]),this.viewItems.splice(o,0,s),this._actionIds.splice(o,0,e.id),o++)}),"number"==typeof this.focusedItem&&this.focus(this.focusedItem)}clear(){Object(l.f)(this.viewItems),this.viewItems=[],this._actionIds=[],n.t(this.actionsList)}length(){return this.viewItems.length}focus(e){let t=!1,i=void 0;void 0===e?t=!0:"number"==typeof e?i=e:"boolean"==typeof e&&(t=e),t&&void 0===this.focusedItem?(e=this.viewItems.findIndex(e=>e.isEnabled()),this.focusedItem=-1===e?void 0:e):void 0!==i&&(this.focusedItem=i),this.updateFocus()}focusFirst(){return this.focusedItem=1<this.length()?1:0,this.focusPrevious()}focusLast(){return this.focusedItem=this.length()<2?0:this.length()-2,this.focusNext()}focusNext(){if(void 0===this.focusedItem)this.focusedItem=this.viewItems.length-1;else if(this.viewItems.length<=1)return!1;var e=this.focusedItem;let t;do{if(this.options.preventLoopNavigation&&this.focusedItem+1>=this.viewItems.length)return this.focusedItem=e,!1}while(this.focusedItem=(this.focusedItem+1)%this.viewItems.length,t=this.viewItems[this.focusedItem],this.focusedItem!==e&&this.options.focusOnlyEnabledItems&&!t.isEnabled());return this.updateFocus(),!0}focusPrevious(){if(void 0===this.focusedItem)this.focusedItem=0;else if(this.viewItems.length<=1)return!1;var e=this.focusedItem;let t;do{if(this.focusedItem=this.focusedItem-1,this.focusedItem<0){if(this.options.preventLoopNavigation)return this.focusedItem=e,!1;this.focusedItem=this.viewItems.length-1}}while(t=this.viewItems[this.focusedItem],this.focusedItem!==e&&this.options.focusOnlyEnabledItems&&!t.isEnabled());return this.updateFocus(!0),!0}updateFocus(e,t){void 0===this.focusedItem&&this.actionsList.focus({preventScroll:t});for(let i=0;i<this.viewItems.length;i++){const n=this.viewItems[i],o=n;if(i===this.focusedItem){let i=!0;c.i(o.focus)||(i=!1),this.options.focusOnlyEnabledItems&&c.i(n.isEnabled)&&!n.isEnabled()&&(i=!1),i?o.focus(e):this.actionsList.focus({preventScroll:t})}else c.i(o.blur)&&o.blur()}}doTrigger(e){var t;void 0===this.focusedItem||(t=this.viewItems[this.focusedItem])instanceof r.b&&(e=null===t._context||void 0===t._context?e:t._context,this.run(t._action,e))}run(e,t){return function(e,t,i,n){return new(i=i||Promise)((function(o,r){function s(e){try{l(n.next(e))}catch(e){r(e)}}function a(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):((t=e.value)instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))}(this,void 0,void 0,(function*(){yield this._actionRunner.run(e,t)}))}dispose(){Object(l.f)(this.viewItems),this.viewItems=[],this._actionIds=[],this.getContainer().remove(),super.dispose()}}},function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i.d(t,"d",(function(){return u})),i.d(t,"b",(function(){return g})),i.d(t,"c",(function(){return p}));var n,o=i(254),r=i(52),s=i(72),a=i(60),l=i(9);(i=n=n||{}).text="text/plain",i.binary="application/octet-stream",i.unknown="application/unknown",i.markdown="text/markdown",i.latex="text/latex";let c=[],d=[],h=[];function u(e,t=!1){const i={id:(e=e).id,mime:e.mime,filename:e.filename,extension:e.extension,filepattern:e.filepattern,firstline:e.firstline,userConfigured:e.userConfigured,filenameLowercase:e.filename?e.filename.toLowerCase():void 0,extensionLowercase:e.extension?e.extension.toLowerCase():void 0,filepatternLowercase:e.filepattern?Object(o.b)(e.filepattern.toLowerCase()):void 0,filepatternOnPath:!!e.filepattern&&0<=e.filepattern.indexOf(s.e.sep)};c.push(i),(i.userConfigured?h:d).push(i),t&&!i.userConfigured&&c.forEach(e=>{e.mime===i.mime||e.userConfigured||(i.extension&&e.extension===i.extension&&console.warn(`Overwriting extension <<${i.extension}>> to now point to mime <<${i.mime}>>`),i.filename&&e.filename===i.filename&&console.warn(`Overwriting filename <<${i.filename}>> to now point to mime <<${i.mime}>>`),i.filepattern&&e.filepattern===i.filepattern&&console.warn(`Overwriting filepattern <<${i.filepattern}>> to now point to mime <<${i.mime}>>`),i.firstline&&e.firstline===i.firstline&&console.warn(`Overwriting firstline <<${i.firstline}>> to now point to mime <<${i.mime}>>`))})}function g(e){e?c=c.filter(e=>!e.userConfigured):(c=[],d=[]),h=[]}function p(e,t){let i;if(e)switch(e.scheme){case r.c.file:i=e.fsPath;break;case r.c.data:i=a.a.parseMetaData(e).get(a.a.META_DATA_LABEL);break;default:i=e.path}if(!i)return[n.unknown];i=i.toLowerCase();var o=Object(s.a)(i),u=f(i,o,h);return u?[u,n.text]:(o=f(i,o,d))?[o,n.text]:t&&(t=function(e){if(Object(l.S)(e)&&(e=e.substr(1)),0<e.length)for(let n=c.length-1;0<=n;n--){var t=c[n];if(t.firstline){var i=e.match(t.firstline);if(i&&0<i.length)return t.mime}}return null}(t))?[t,n.text]:[n.unknown]}function f(e,t,i){var n;let o=null,r=null,s=null;for(let c=i.length-1;0<=c;c--){var a,l=i[c];if(t===l.filenameLowercase){o=l;break}l.filepattern&&(!r||l.filepattern.length>r.filepattern.length)&&(a=l.filepatternOnPath?e:t,null!==(n=l.filepatternLowercase)&&void 0!==n&&n.call(l,a)&&(r=l)),l.extension&&(!s||l.extension.length>s.extension.length)&&t.endsWith(l.extensionLowercase)&&(s=l)}return o?o.mime:r?r.mime:s?s.mime:null}},function(e,t,i){"use strict";i.d(t,"b",(function(){return u})),i.d(t,"a",(function(){return g}));var n=i(44),o=i(153),r=i(1),s=i(62),a=i(65),l=i(2),c=i(15),d=i(19),h=(t=i(288),i(0));class u extends l.a{constructor(e,t,i={}){super(),this.options=i,this._context=e||this,(this._action=t)instanceof a.a&&this._register(t.onDidChange(e=>{this.element&&this.handleActionChangeEvent(e)}))}handleActionChangeEvent(e){void 0!==e.enabled&&this.updateEnabled(),void 0!==e.checked&&this.updateChecked(),void 0!==e.class&&this.updateClass(),void 0!==e.label&&(this.updateLabel(),this.updateTooltip()),void 0!==e.tooltip&&this.updateTooltip()}get actionRunner(){return this._actionRunner||(this._actionRunner=this._register(new a.b)),this._actionRunner}set actionRunner(e){this._actionRunner=e}getAction(){return this._action}isEnabled(){return this._action.enabled}setActionContext(e){this._context=e}render(e){const t=this.element=e;this._register(s.b.addTarget(e));const i=this.options&&this.options.draggable;i&&(e.draggable=!0,n.g&&this._register(Object(r.i)(e,r.d.DRAG_START,e=>null===(e=e.dataTransfer)||void 0===e?void 0:e.setData(o.a.TEXT,this._action.label)))),this._register(Object(r.i)(t,s.a.Tap,e=>this.onClick(e,!0))),this._register(Object(r.i)(t,r.d.MOUSE_DOWN,e=>{i||r.c.stop(e,!0),this._action.enabled&&0===e.button&&t.classList.add("active")})),c.f&&this._register(Object(r.i)(t,r.d.CONTEXT_MENU,e=>{0===e.button&&!0===e.ctrlKey&&this.onClick(e)})),this._register(Object(r.i)(t,r.d.CLICK,e=>{r.c.stop(e,!0),this.options&&this.options.isMenu||this.onClick(e)})),this._register(Object(r.i)(t,r.d.DBLCLICK,e=>{r.c.stop(e,!0)})),[r.d.MOUSE_UP,r.d.MOUSE_OUT].forEach(e=>{this._register(Object(r.i)(t,e,e=>{r.c.stop(e),t.classList.remove("active")}))})}onClick(e,t=!1){var i;r.c.stop(e,!0),t=d.n(this._context)?null!==(i=this.options)&&void 0!==i&&i.useEventAsContext?e:{preserveFocus:t}:this._context,this.actionRunner.run(this._action,t)}focus(){this.element&&(this.element.tabIndex=0,this.element.focus(),this.element.classList.add("focused"))}blur(){this.element&&(this.element.blur(),this.element.tabIndex=-1,this.element.classList.remove("focused"))}setFocusable(e){this.element&&(this.element.tabIndex=e?0:-1)}get trapsArrowNavigation(){return!1}updateEnabled(){}updateLabel(){}updateTooltip(){}updateClass(){}updateChecked(){}dispose(){this.element&&(this.element.remove(),this.element=void 0),super.dispose()}}class g extends u{constructor(e,t,i={}){super(e,t,i),this.options=i,this.options.icon=void 0!==i.icon&&i.icon,this.options.label=void 0===i.label||i.label,this.cssClass=""}render(e){super.render(e),this.element&&(this.label=Object(r.q)(this.element,Object(r.a)("a.action-label"))),this.label&&(this._action.id===a.d.ID?this.label.setAttribute("role","presentation"):this.options.isMenu?this.label.setAttribute("role","menuitem"):this.label.setAttribute("role","button")),this.options.label&&this.options.keybinding&&this.element&&(Object(r.q)(this.element,Object(r.a)("span.keybinding")).textContent=this.options.keybinding),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked()}focus(){this.label&&(this.label.tabIndex=0,this.label.focus())}blur(){this.label&&(this.label.tabIndex=-1)}setFocusable(e){this.label&&(this.label.tabIndex=e?0:-1)}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this.getAction().label)}updateTooltip(){let e=null;this.getAction().tooltip?e=this.getAction().tooltip:!this.options.label&&this.getAction().label&&this.options.icon&&(e=this.getAction().label,this.options.keybinding&&(e=h.a({key:"titleLabel",comment:["action title","action keybinding"]},"{0} ({1})",e,this.options.keybinding))),e&&this.label&&(this.label.title=e)}updateClass(){this.cssClass&&this.label&&this.label.classList.remove(...this.cssClass.split(" ")),this.options.icon?(this.cssClass=this.getAction().class,this.label&&(this.label.classList.add("codicon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" "))),this.updateEnabled()):this.label&&this.label.classList.remove("codicon")}updateEnabled(){this.getAction().enabled?(this.label&&(this.label.removeAttribute("aria-disabled"),this.label.classList.remove("disabled")),this.element&&this.element.classList.remove("disabled")):(this.label&&(this.label.setAttribute("aria-disabled","true"),this.label.classList.add("disabled")),this.element&&this.element.classList.add("disabled"))}updateChecked(){this.label&&(this.getAction().checked?this.label.classList.add("checked"):this.label.classList.remove("checked"))}}},function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i.d(t,"b",(function(){return v}));var n,o=i(1),r=i(69),s=i(62),a=i(18),l=i(92),c=i(6),d=i(2),h=i(15);t=i(456),i=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;0<=a;a--)(o=e[a])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s};(t=n=n||{}).North="north",t.South="south",t.East="east",t.West="west";const u=new c.b,g=new c.b;class p{constructor(){this.disposables=new d.b}get onPointerMove(){return this.disposables.add(new r.a(window,"mousemove")).event}get onPointerUp(){return this.disposables.add(new r.a(window,"mouseup")).event}dispose(){this.disposables.dispose()}}i([l.a],p.prototype,"onPointerMove",null),i([l.a],p.prototype,"onPointerUp",null);class f{constructor(e){this.el=e,this.disposables=new d.b}get onPointerMove(){return this.disposables.add(new r.a(this.el,s.a.Change)).event}get onPointerUp(){return this.disposables.add(new r.a(this.el,s.a.End)).event}dispose(){this.disposables.dispose()}}i([l.a],f.prototype,"onPointerMove",null),i([l.a],f.prototype,"onPointerUp",null);class m{constructor(e){this.factory=e}get onPointerMove(){return this.factory.onPointerMove}get onPointerUp(){return this.factory.onPointerUp}dispose(){}}i([l.a],m.prototype,"onPointerMove",null),i([l.a],m.prototype,"onPointerUp",null);class v extends d.a{constructor(e,t,i){super(),this.hoverDelay=300,this.hoverDelayer=this._register(new a.a(this.hoverDelay)),this._state=3,this._onDidEnablementChange=this._register(new c.b),this.onDidEnablementChange=this._onDidEnablementChange.event,this._onDidStart=this._register(new c.b),this.onDidStart=this._onDidStart.event,this._onDidChange=this._register(new c.b),this.onDidChange=this._onDidChange.event,this._onDidReset=this._register(new c.b),this.onDidReset=this._onDidReset.event,this._onDidEnd=this._register(new c.b),this.onDidEnd=this._onDidEnd.event,this.linkedSash=void 0,this.orthogonalStartSashDisposables=this._register(new d.b),this.orthogonalStartDragHandleDisposables=this._register(new d.b),this.orthogonalEndSashDisposables=this._register(new d.b),this.orthogonalEndDragHandleDisposables=this._register(new d.b),this.el=Object(o.q)(e,Object(o.a)(".monaco-sash")),i.orthogonalEdge&&this.el.classList.add("orthogonal-edge-"+i.orthogonalEdge),h.f&&this.el.classList.add("mac");const n=this._register(new r.a(this.el,"mousedown")).event;this._register(n(e=>this.onPointerStart(e,new p),this));const l=this._register(new r.a(this.el,"dblclick")).event;this._register(l(this.onPointerDoublePress,this));const m=this._register(new r.a(this.el,"mouseenter")).event;this._register(m(()=>v.onMouseEnter(this)));const b=this._register(new r.a(this.el,"mouseleave")).event;this._register(b(()=>v.onMouseLeave(this))),this._register(s.b.addTarget(this.el));const _=c.c.map(this._register(new r.a(this.el,s.a.Start)).event,e=>Object.assign(Object.assign({},e),{target:null!==(e=e.initialTarget)&&void 0!==e?e:null}));this._register(_(e=>this.onPointerStart(e,new f(this.el)),this)),e=this._register(new r.a(this.el,s.a.Tap)).event;const w=c.c.map(c.c.filter(c.c.debounce(e,(e,t)=>({event:t,count:(null!==(e=null==e?void 0:e.count)&&void 0!==e?e:0)+1}),250),({count:e})=>2===e),({event:e})=>Object.assign(Object.assign({},e),{target:null!==(e=e.initialTarget)&&void 0!==e?e:null}));this._register(w(this.onPointerDoublePress,this)),"number"==typeof i.size?(this.size=i.size,0===i.orientation?this.el.style.width=this.size+"px":this.el.style.height=this.size+"px"):(this.size=4,this._register(u.event(e=>{this.size=e,this.layout()}))),this._register(g.event(e=>this.hoverDelay=e)),this.hidden=!1,this.layoutProvider=t,this.orthogonalStartSash=i.orthogonalStartSash,this.orthogonalEndSash=i.orthogonalEndSash,this.orientation=i.orientation||0,1===this.orientation?(this.el.classList.add("horizontal"),this.el.classList.remove("vertical")):(this.el.classList.remove("horizontal"),this.el.classList.add("vertical")),this.el.classList.toggle("debug",!1),this.layout()}get state(){return this._state}set state(e){this._state!==e&&(this.el.classList.toggle("disabled",0===e),this.el.classList.toggle("minimum",1===e),this.el.classList.toggle("maximum",2===e),this._state=e,this._onDidEnablementChange.fire(e))}get orthogonalStartSash(){return this._orthogonalStartSash}set orthogonalStartSash(e){var t;this.orthogonalStartDragHandleDisposables.clear(),this.orthogonalStartSashDisposables.clear(),e&&(t=t=>{this.orthogonalStartDragHandleDisposables.clear(),0!==t&&(this._orthogonalStartDragHandle=Object(o.q)(this.el,Object(o.a)(".orthogonal-drag-handle.start")),this.orthogonalStartDragHandleDisposables.add(Object(d.i)(()=>this._orthogonalStartDragHandle.remove())),this.orthogonalStartDragHandleDisposables.add(new r.a(this._orthogonalStartDragHandle,"mouseenter")).event(()=>v.onMouseEnter(e),void 0,this.orthogonalStartDragHandleDisposables),this.orthogonalStartDragHandleDisposables.add(new r.a(this._orthogonalStartDragHandle,"mouseleave")).event(()=>v.onMouseLeave(e),void 0,this.orthogonalStartDragHandleDisposables))},this.orthogonalStartSashDisposables.add(e.onDidEnablementChange(t,this)),t(e.state)),this._orthogonalStartSash=e}get orthogonalEndSash(){return this._orthogonalEndSash}set orthogonalEndSash(e){var t;this.orthogonalEndDragHandleDisposables.clear(),this.orthogonalEndSashDisposables.clear(),e&&(t=t=>{this.orthogonalEndDragHandleDisposables.clear(),0!==t&&(this._orthogonalEndDragHandle=Object(o.q)(this.el,Object(o.a)(".orthogonal-drag-handle.end")),this.orthogonalEndDragHandleDisposables.add(Object(d.i)(()=>this._orthogonalEndDragHandle.remove())),this.orthogonalEndDragHandleDisposables.add(new r.a(this._orthogonalEndDragHandle,"mouseenter")).event(()=>v.onMouseEnter(e),void 0,this.orthogonalEndDragHandleDisposables),this.orthogonalEndDragHandleDisposables.add(new r.a(this._orthogonalEndDragHandle,"mouseleave")).event(()=>v.onMouseLeave(e),void 0,this.orthogonalEndDragHandleDisposables))},this.orthogonalEndSashDisposables.add(e.onDidEnablementChange(t,this)),t(e.state)),this._orthogonalEndSash=e}onPointerStart(e,t){o.c.stop(e);let i=!1;if(!e.__orthogonalSashEvent){const n=this.getOrthogonalSash(e);n&&(i=!0,e.__orthogonalSashEvent=!0,n.onPointerStart(e,new m(t)))}if(this.linkedSash&&!e.__linkedSashEvent&&(e.__linkedSashEvent=!0,this.linkedSash.onPointerStart(e,new m(t))),this.state){const n=Object(o.E)("iframe");for(const e of n)e.style.pointerEvents="none";const r=e.pageX,s=e.pageY,a=e.altKey;e={startX:r,currentX:r,startY:s,currentY:s,altKey:a},this.el.classList.add("active"),this._onDidStart.fire(e);const l=Object(o.w)(this.el);e=()=>{let e="";e=i?"all-scroll":1===this.orientation?1===this.state?"s-resize":2===this.state?"n-resize":h.f?"row-resize":"ns-resize":1===this.state?"e-resize":2===this.state?"w-resize":h.f?"col-resize":"ew-resize",l.textContent=`* { cursor: ${e} !important; }`};const c=new d.b;e(),i||this.onDidEnablementChange(e,null,c),t.onPointerMove(e=>{o.c.stop(e,!1),e={startX:r,currentX:e.pageX,startY:s,currentY:e.pageY,altKey:a},this._onDidChange.fire(e)},null,c),t.onPointerUp(e=>{o.c.stop(e,!1),this.el.removeChild(l),this.el.classList.remove("active"),this._onDidEnd.fire(),c.dispose();for(const e of n)e.style.pointerEvents="auto"},null,c),c.add(t)}}onPointerDoublePress(e){const t=this.getOrthogonalSash(e);t&&t._onDidReset.fire(),this.linkedSash&&this.linkedSash._onDidReset.fire(),this._onDidReset.fire()}static onMouseEnter(e,t=!1){e.el.classList.contains("active")?(e.hoverDelayer.cancel(),e.el.classList.add("hover")):e.hoverDelayer.trigger(()=>e.el.classList.add("hover"),e.hoverDelay).then(void 0,()=>{}),!t&&e.linkedSash&&v.onMouseEnter(e.linkedSash,!0)}static onMouseLeave(e,t=!1){e.hoverDelayer.cancel(),e.el.classList.remove("hover"),!t&&e.linkedSash&&v.onMouseLeave(e.linkedSash,!0)}clearSashHoverState(){v.onMouseLeave(this)}layout(){if(0===this.orientation){const e=this.layoutProvider;this.el.style.left=e.getVerticalSashLeft(this)-this.size/2+"px",e.getVerticalSashTop&&(this.el.style.top=e.getVerticalSashTop(this)+"px"),e.getVerticalSashHeight&&(this.el.style.height=e.getVerticalSashHeight(this)+"px")}else{const e=this.layoutProvider;this.el.style.top=e.getHorizontalSashTop(this)-this.size/2+"px",e.getHorizontalSashLeft&&(this.el.style.left=e.getHorizontalSashLeft(this)+"px"),e.getHorizontalSashWidth&&(this.el.style.width=e.getHorizontalSashWidth(this)+"px")}}hide(){this.hidden=!0,this.el.style.display="none",this.el.setAttribute("aria-hidden","true")}getOrthogonalSash(e){if(e.target&&e.target instanceof HTMLElement)return e.target.classList.contains("orthogonal-drag-handle")?e.target.classList.contains("start")?this.orthogonalStartSash:this.orthogonalEndSash:void 0}dispose(){super.dispose(),this.el.remove()}}},function(e,t,i){"use strict";i.d(t,"d",(function(){return r})),i.d(t,"b",(function(){return a})),i.d(t,"a",(function(){return l})),i.d(t,"c",(function(){return p}));class n{constructor(){this.value="",this.pos=0}static isDigitCharacter(e){return 48<=e&&e<=57}static isVariableCharacter(e){return 95===e||97<=e&&e<=122||65<=e&&e<=90}text(e){this.value=e,this.pos=0}tokenText(e){return this.value.substr(e.pos,e.len)}next(){if(this.pos>=this.value.length)return{type:14,pos:this.pos,len:0};var e=this.pos;let t,i=0,o=this.value.charCodeAt(e);if(t=n._table[o],"number"==typeof t)return this.pos+=1,{type:t,pos:e,len:1};if(n.isDigitCharacter(o)){for(t=8;i+=1,o=this.value.charCodeAt(e+i),n.isDigitCharacter(o););return this.pos+=i,{type:t,pos:e,len:i}}if(n.isVariableCharacter(o)){for(t=9;o=this.value.charCodeAt(e+ ++i),n.isVariableCharacter(o)||n.isDigitCharacter(o););return this.pos+=i,{type:t,pos:e,len:i}}for(t=10;i+=1,o=this.value.charCodeAt(e+i),!isNaN(o)&&void 0===n._table[o]&&!n.isDigitCharacter(o)&&!n.isVariableCharacter(o););return this.pos+=i,{type:t,pos:e,len:i}}}n._table={36:0,58:1,44:2,123:3,125:4,92:5,47:6,124:7,43:11,45:12,63:13};class o{constructor(){this._children=[]}appendChild(e){return e instanceof r&&this._children[this._children.length-1]instanceof r?this._children[this._children.length-1].value+=e.value:(e.parent=this)._children.push(e),this}replace(e,t){const{parent:i}=e;e=i.children.indexOf(e);const n=i.children.slice(0);n.splice(e,1,...t),i._children=n,function e(t,i){for(const n of t)n.parent=i,e(n.children,n)}(t,i)}get children(){return this._children}get snippet(){let e=this;for(;;){if(!e)return;if(e instanceof g)return e;e=e.parent}}toString(){return this.children.reduce((e,t)=>e+t.toString(),"")}len(){return 0}}class r extends o{constructor(e){super(),this.value=e}toString(){return this.value}len(){return this.value.length}clone(){return new r(this.value)}}class s extends o{}class a extends s{constructor(e){super(),this.index=e}static compareByIndex(e,t){return e.index===t.index?0:e.isFinalTabstop?1:t.isFinalTabstop||e.index<t.index?-1:e.index>t.index?1:0}get isFinalTabstop(){return 0===this.index}get choice(){return 1===this._children.length&&this._children[0]instanceof l?this._children[0]:void 0}clone(){let e=new a(this.index);return this.transform&&(e.transform=this.transform.clone()),e._children=this.children.map(e=>e.clone()),e}}class l extends o{constructor(){super(...arguments),this.options=[]}appendChild(e){return e instanceof r&&(e.parent=this).options.push(e),this}toString(){return this.options[0].value}len(){return this.options[0].len()}clone(){var e=new l;return this.options.forEach(e.appendChild,e),e}}class c extends o{constructor(){super(...arguments),this.regexp=new RegExp("")}resolve(e){const t=this;let i=!1,n=e.replace(this.regexp,(function(){return i=!0,t._replace(Array.prototype.slice.call(arguments,0,-2))}));return!i&&this._children.some(e=>e instanceof d&&Boolean(e.elseValue))&&(n=this._replace([])),n}_replace(e){let t="";for(const n of this._children){var i;n instanceof d?(i=e[n.index]||"",t+=i=n.resolve(i)):t+=n.toString()}return t}toString(){return""}clone(){let e=new c;return e.regexp=new RegExp(this.regexp.source,(this.regexp.ignoreCase?"i":"")+(this.regexp.global?"g":"")),e._children=this.children.map(e=>e.clone()),e}}class d extends o{constructor(e,t,i,n){super(),this.index=e,this.shorthandName=t,this.ifValue=i,this.elseValue=n}resolve(e){return"upcase"===this.shorthandName?e?e.toLocaleUpperCase():"":"downcase"===this.shorthandName?e?e.toLocaleLowerCase():"":"capitalize"===this.shorthandName?e?e[0].toLocaleUpperCase()+e.substr(1):"":"pascalcase"===this.shorthandName?e?this._toPascalCase(e):"":"camelcase"===this.shorthandName?e?this._toCamelCase(e):"":Boolean(e)&&"string"==typeof this.ifValue?this.ifValue:Boolean(e)||"string"!=typeof this.elseValue?e||"":this.elseValue}_toPascalCase(e){const t=e.match(/[a-z0-9]+/gi);return t?t.map(e=>e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()).join(""):e}_toCamelCase(e){const t=e.match(/[a-z0-9]+/gi);return t?t.map((e,t)=>0===t?e.toLowerCase():e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()).join(""):e}clone(){return new d(this.index,this.shorthandName,this.ifValue,this.elseValue)}}class h extends s{constructor(e){super(),this.name=e}resolve(e){let t=e.resolve(this);return this.transform&&(t=this.transform.resolve(t||"")),void 0!==t&&(this._children=[new r(t)],!0)}clone(){const e=new h(this.name);return this.transform&&(e.transform=this.transform.clone()),e._children=this.children.map(e=>e.clone()),e}}function u(e,t){const i=[...e];for(;0<i.length;){const e=i.shift();if(!t(e))break;i.unshift(...e.children)}}class g extends o{get placeholderInfo(){if(!this._placeholders){let e,t=[];this.walk((function(i){return i instanceof a&&(t.push(i),e=!e||e.index<i.index?i:e),!0})),this._placeholders={all:t,last:e}}return this._placeholders}get placeholders(){var{all:e}=this.placeholderInfo;return e}offset(e){let t=0,i=!1;return this.walk(n=>n===e?!(i=!0):(t+=n.len(),!0)),i?t:-1}fullLen(e){let t=0;return u([e],e=>(t+=e.len(),!0)),t}enclosingPlaceholders(e){let t=[],{parent:i}=e;for(;i;)i instanceof a&&t.push(i),i=i.parent;return t}resolveVariables(e){return this.walk(t=>(t instanceof h&&t.resolve(e)&&(this._placeholders=void 0),!0)),this}appendChild(e){return this._placeholders=void 0,super.appendChild(e)}replace(e,t){return this._placeholders=void 0,super.replace(e,t)}clone(){var e=new g;return this._children=this.children.map(e=>e.clone()),e}walk(e){u(this.children,e)}}class p{constructor(){this._scanner=new n,this._token={type:14,pos:0,len:0}}static escape(e){return e.replace(/\$|}|\\/g,"\\$&")}static guessNeedsClipboard(e){return/\${?CLIPBOARD/.test(e)}parse(e,t,i){this._scanner.text(e),this._token=this._scanner.next();const n=new g;for(;this._parse(n););const o=new Map,r=[];let s=0;n.walk(e=>(e instanceof a&&(s+=1,e.isFinalTabstop?o.set(0,void 0):!o.has(e.index)&&0<e.children.length?o.set(e.index,e.children):r.push(e)),!0));for(const e of r){var l=o.get(e.index);if(l){const t=new a(e.index);t.transform=e.transform;for(const e of l)t.appendChild(e.clone());n.replace(e,[t])}}return i=i||0<s&&t,!o.has(0)&&i&&n.appendChild(new a(0)),n}_accept(e,t){return(void 0===e||this._token.type===e)&&(t=!t||this._scanner.tokenText(this._token),this._token=this._scanner.next(),t)}_backTo(e){return this._scanner.pos=e.pos+e.len,this._token=e,!1}_until(e){for(var t=this._token;this._token.type!==e;){if(14===this._token.type)return!1;if(5===this._token.type){var i=this._scanner.next();if(0!==i.type&&4!==i.type&&5!==i.type)return!1}this._token=this._scanner.next()}return t=this._scanner.value.substring(t.pos,this._token.pos).replace(/\\(\$|}|\\)/g,"$1"),this._token=this._scanner.next(),t}_parse(e){return this._parseEscaped(e)||this._parseTabstopOrVariableName(e)||this._parseComplexPlaceholder(e)||this._parseComplexVariable(e)||this._parseAnything(e)}_parseEscaped(e){let t;return!!(t=this._accept(5,!0))&&(t=this._accept(0,!0)||this._accept(4,!0)||this._accept(5,!0)||t,e.appendChild(new r(t)),!0)}_parseTabstopOrVariableName(e){let t;var i=this._token;return this._accept(0)&&(t=this._accept(9,!0)||this._accept(8,!0))?(e.appendChild(/^\d+$/.test(t)?new a(Number(t)):new h(t)),!0):this._backTo(i)}_parseComplexPlaceholder(e){let t;var i=this._token;if(!(this._accept(0)&&this._accept(3)&&(t=this._accept(8,!0))))return this._backTo(i);const n=new a(Number(t));if(this._accept(1))for(;;){if(this._accept(4))return e.appendChild(n),!0;if(!this._parse(n))return e.appendChild(new r("${"+t+":")),n.children.forEach(e.appendChild,e),!0}else{if(!(0<n.index&&this._accept(7)))return this._accept(6)?this._parseTransform(n)?(e.appendChild(n),!0):(this._backTo(i),!1):this._accept(4)?(e.appendChild(n),!0):this._backTo(i);for(var o=new l;;){if(this._parseChoiceElement(o)){if(this._accept(2))continue;if(this._accept(7)&&(n.appendChild(o),this._accept(4)))return e.appendChild(n),!0}return this._backTo(i),!1}}}_parseChoiceElement(e){var t=this._token;const i=[];for(;2!==this._token.type&&7!==this._token.type;){let e;if(e=(e=this._accept(5,!0))?this._accept(2,!0)||this._accept(7,!0)||this._accept(5,!0)||e:this._accept(void 0,!0),!e)return this._backTo(t),!1;i.push(e)}return 0===i.length?(this._backTo(t),!1):(e.appendChild(new r(i.join(""))),!0)}_parseComplexVariable(e){let t;var i=this._token;if(!(this._accept(0)&&this._accept(3)&&(t=this._accept(9,!0))))return this._backTo(i);const n=new h(t);if(!this._accept(1))return this._accept(6)?this._parseTransform(n)?(e.appendChild(n),!0):(this._backTo(i),!1):this._accept(4)?(e.appendChild(n),!0):this._backTo(i);for(;;){if(this._accept(4))return e.appendChild(n),!0;if(!this._parse(n))return e.appendChild(new r("${"+t+":")),n.children.forEach(e.appendChild,e),!0}}_parseTransform(e){let t=new c,i="",n="";for(;!this._accept(6);){let e;if(e=this._accept(5,!0))e=this._accept(6,!0)||e,i+=e;else{if(14===this._token.type)return!1;i+=this._accept(void 0,!0)}}for(;!this._accept(6);){let e;if(e=this._accept(5,!0))e=this._accept(5,!0)||this._accept(6,!0)||e,t.appendChild(new r(e));else if(!this._parseFormatString(t)&&!this._parseAnything(t))return!1}for(;!this._accept(4);){if(14===this._token.type)return!1;n+=this._accept(void 0,!0)}try{t.regexp=new RegExp(i,n)}catch(e){return!1}return e.transform=t,!0}_parseFormatString(e){var t=this._token;if(!this._accept(0))return!1;let i=!1;this._accept(3)&&(i=!0);var n=this._accept(8,!0);if(!n)return this._backTo(t),!1;if(!i)return e.appendChild(new d(Number(n))),!0;if(this._accept(4))return e.appendChild(new d(Number(n))),!0;if(!this._accept(1))return this._backTo(t),!1;if(this._accept(6)){var o=this._accept(9,!0);return o&&this._accept(4)?(e.appendChild(new d(Number(n),o)),!0):(this._backTo(t),!1)}if(this._accept(11)){if(o=this._until(4))return e.appendChild(new d(Number(n),void 0,o,void 0)),!0}else if(this._accept(12)){var r=this._until(4);if(r)return e.appendChild(new d(Number(n),void 0,void 0,r)),!0}else if(this._accept(13)){if(r=this._until(1)){var s=this._until(4);if(s)return e.appendChild(new d(Number(n),void 0,r,s)),!0}}else if(s=this._until(4))return e.appendChild(new d(Number(n),void 0,void 0,s)),!0;return this._backTo(t),!1}_parseAnything(e){return 14!==this._token.type&&(e.appendChild(new r(this._scanner.tokenText(this._token))),this._accept(void 0),!0)}}},function(e,t,i){"use strict";i.d(t,"f",(function(){return l})),i.d(t,"b",(function(){return h})),i.d(t,"c",(function(){return u})),i.d(t,"a",(function(){return p})),i.d(t,"e",(function(){return v})),i.d(t,"d",(function(){return b}));var n=i(22),o=i(118),r=i(12),s=i(3),a=i(11);function l(e){let t=0,i=0,n=0,o=0;for(let s=0,a=e.length;s<a;s++){var r=e.charCodeAt(s);13===r?(0===t&&(i=s),t++,s+1<a&&10===e.charCodeAt(s+1)?(o|=2,s++):o|=3,n=s+1):10===r&&(o|=1,0===t&&(i=s),t++,n=s+1)}return 0===t&&(i=e.length),[t,i,e.length-n,o]}function c(e){return(e<<0|16384|2<<23)>>>0}const d=new Uint32Array(0).buffer;class h{constructor(){this.tokens=[]}add(e,t){if(0<this.tokens.length){const i=this.tokens[this.tokens.length-1];if(i.startLineNumber+i.tokens.length-1+1===e)return void i.tokens.push(t)}this.tokens.push(new f(e,[t]))}}class u{constructor(e){this._tokens=e,this._tokenCount=e.length/4}toString(e){let t=[];for(let i=0;i<this._tokenCount;i++)t.push(`(${this._getDeltaLine(i)+e},${this._getStartCharacter(i)}-${this._getEndCharacter(i)})`);return`[${t.join(",")}]`}getMaxDeltaLine(){var e=this._getTokenCount();return 0===e?-1:this._getDeltaLine(e-1)}getRange(){if(0===(i=this._getTokenCount()))return null;var e=this._getStartCharacter(0),t=this._getDeltaLine(i-1),i=this._getEndCharacter(i-1);return new s.a(0,e+1,t,i+1)}_getTokenCount(){return this._tokenCount}_getDeltaLine(e){return this._tokens[4*e]}_getStartCharacter(e){return this._tokens[4*e+1]}_getEndCharacter(e){return this._tokens[4*e+2]}isEmpty(){return 0===this._getTokenCount()}getLineTokens(e){let t=0,i=this._getTokenCount()-1;for(;t<i;){var n=t+Math.floor((i-t)/2),o=this._getDeltaLine(n);if(o<e)t=n+1;else{if(!(e<o)){let o=n;for(;o>t&&this._getDeltaLine(o-1)===e;)o--;let r=n;for(;r<i&&this._getDeltaLine(r+1)===e;)r++;return new g(this._tokens.subarray(4*o,4*r+4))}i=n-1}}return this._getDeltaLine(t)===e?new g(this._tokens.subarray(4*t,4*t+4)):null}clear(){this._tokenCount=0}removeTokens(e,t,i,n){const o=this._tokens;var r=this._tokenCount;let s=0,a=!1,l=0;for(let p=0;p<r;p++){var c=4*p,d=o[c],h=o[1+c],u=o[2+c],g=o[3+c];(e<d||d===e&&t<=u)&&(d<i||d===i&&h<=n)?a=!0:(0===s&&(l=d),a&&(o[c=4*s]=d-l,o[1+c]=h,o[2+c]=u,o[3+c]=g),s++)}return this._tokenCount=s,l}split(e,t,i,n){var o=this._tokens,r=this._tokenCount,s=[],a=[];let l=s,c=0,d=0;for(let s=0;s<r;s++){var h=o[f=4*s],g=o[1+f],p=o[2+f],f=o[3+f];if(e<h||h===e&&t<=p){if(h<i||h===i&&g<=n)continue;l!==a&&(l=a,c=0,d=h)}l[c++]=h-d,l[c++]=g,l[c++]=p,l[c++]=f}return[new u(new Uint32Array(s)),new u(new Uint32Array(a)),d]}acceptDeleteRange(e,t,i,n,o){const r=this._tokens;var s=this._tokenCount,a=n-t;let l=0,c=!1;for(let u=0;u<s;u++){var d=4*u;let g=r[d],p=r[1+d],f=r[2+d];var h=r[3+d];if(g<t||g===t&&f<=i)l++;else{if(g===t&&p<i)g===n&&f>o?f-=o-i:f=i;else if(g===t&&p===i){if(!(g===n&&f>o)){c=!0;continue}f-=o-i}else if(g<n||g===n&&p<o){if(!(g===n&&f>o)){c=!0;continue}p=g===t?i:0,f=p+(f-o)}else if(g>n){if(0==a&&!c){l=s;break}g-=a}else{if(!(g===n&&p>=o))throw new Error("Not possible!");e&&0===g&&(p+=e,f+=e),g-=a,p-=o-i,f-=o-i}r[d=4*l]=g,r[1+d]=p,r[2+d]=f,r[3+d]=h,l++}}this._tokenCount=l}acceptInsertText(e,t,i,n,o,r){var s=0===i&&1===n&&(48<=r&&r<=57||65<=r&&r<=90||97<=r&&r<=122);const a=this._tokens;var l=this._tokenCount;for(let r=0;r<l;r++){var c,d=4*r;let l=a[d],h=a[1+d],u=a[2+d];if(!(l<e||l===e&&u<t)){if(l===e&&u===t){if(!s)continue;u+=1}else if(l===e&&h<t&&t<u)0===i?u+=n:u=t;else{if(l===e&&h===t&&s)continue;l===e?(l+=i,0===i?(h+=n,u+=n):(c=u-h,h=o+(h-t),u=h+c)):l+=i}a[d]=l,a[1+d]=h,a[2+d]=u}}}}class g{constructor(e){this._tokens=e}getCount(){return this._tokens.length/4}getStartCharacter(e){return this._tokens[4*e+1]}getEndCharacter(e){return this._tokens[4*e+2]}getMetadata(e){return this._tokens[4*e+3]}}class p{constructor(e,t){this.startLineNumber=e,this.tokens=t,this.endLineNumber=this.startLineNumber+this.tokens.getMaxDeltaLine()}toString(){return this.tokens.toString(this.startLineNumber)}_updateEndLineNumber(){this.endLineNumber=this.startLineNumber+this.tokens.getMaxDeltaLine()}isEmpty(){return this.tokens.isEmpty()}getLineTokens(e){return this.startLineNumber<=e&&e<=this.endLineNumber?this.tokens.getLineTokens(e-this.startLineNumber):null}getRange(){var e=this.tokens.getRange();return e&&new s.a(this.startLineNumber+e.startLineNumber,e.startColumn,this.startLineNumber+e.endLineNumber,e.endColumn)}removeTokens(e){var t=e.startLineNumber-this.startLineNumber,i=e.endLineNumber-this.startLineNumber;this.startLineNumber+=this.tokens.removeTokens(t,e.startColumn-1,i,e.endColumn-1),this._updateEndLineNumber()}split(e){var t=e.startLineNumber-this.startLineNumber,i=e.endLineNumber-this.startLineNumber,[t,i,e]=this.tokens.split(t,e.startColumn-1,i,e.endColumn-1);return[new p(this.startLineNumber,t),new p(this.startLineNumber+e,i)]}applyEdit(e,t){var[i,n,o]=l(t);this.acceptEdit(e,i,n,o,0<t.length?t.charCodeAt(0):0)}acceptEdit(e,t,i,n,o){this._acceptDeleteRange(e),this._acceptInsertText(new r.a(e.startLineNumber,e.startColumn),t,i,n,o),this._updateEndLineNumber()}_acceptDeleteRange(e){if(e.startLineNumber!==e.endLineNumber||e.startColumn!==e.endColumn){var t=e.startLineNumber-this.startLineNumber,i=e.endLineNumber-this.startLineNumber;if(i<0)this.startLineNumber-=i-t;else{var n=this.tokens.getMaxDeltaLine();if(!(n+1<=t))return t<0&&n+1<=i?(this.startLineNumber=0,void this.tokens.clear()):void(t<0?(this.startLineNumber-=-t,this.tokens.acceptDeleteRange(e.startColumn-1,0,0,i,e.endColumn-1)):this.tokens.acceptDeleteRange(0,t,e.startColumn-1,i,e.endColumn-1))}}}_acceptInsertText(e,t,i,n,o){var r;0===t&&0===i||((r=e.lineNumber-this.startLineNumber)<0?this.startLineNumber+=t:this.tokens.getMaxDeltaLine()+1<=r||this.tokens.acceptInsertText(r,e.column-1,t,i,n,o))}}class f{constructor(e,t){this.startLineNumber=e,this.tokens=t}}function m(e){return e instanceof Uint32Array?e:new Uint32Array(e)}class v{constructor(e){this._pieces=[],this._isComplete=!1,this._languageIdCodec=e}flush(){this._pieces=[],this._isComplete=!1}isEmpty(){return 0===this._pieces.length}set(e,t){this._pieces=e||[],this._isComplete=t}setPartial(e,t){let i=e;if(0<t.length){var o=t[0].getRange(),r=t[t.length-1].getRange();if(!o||!r)return e;i=e.plusRange(o).plusRange(r)}let s=null;for(let e=0,t=this._pieces.length;e<t;e++){const n=this._pieces[e];if(!(n.endLineNumber<i.startLineNumber)){if(n.startLineNumber>i.endLineNumber){s=s||{index:e};break}if(n.removeTokens(i),n.isEmpty())this._pieces.splice(e,1),e--,t--;else if(!(n.endLineNumber<i.startLineNumber))if(n.startLineNumber>i.endLineNumber)s=s||{index:e};else{const[o,r]=n.split(i);o.isEmpty()?s=s||{index:e}:r.isEmpty()||(this._pieces.splice(e,1,o,r),e++,t++,s=s||{index:e})}}}return s=s||{index:this._pieces.length},0<t.length&&(this._pieces=n.b(this._pieces,s.index,t)),i}isComplete(){return this._isComplete}addSemanticTokens(e,t){const i=this._pieces;if(0===i.length)return t;const n=i[v._findFirstPieceWithLine(i,e)].getLineTokens(e);if(!n)return t;var r=t.getCount(),s=n.getCount();let a=0,l=[],c=0,d=0;var h=(e,t)=>{e!==d&&(d=e,l[c++]=e,l[c++]=t)};for(let e=0;e<s;e++){for(var u,g=n.getStartCharacter(e),p=n.getEndCharacter(e),f=n.getMetadata(e),m=((1&f?2048:0)|(2&f?4096:0)|(4&f?8192:0)|(8&f?8372224:0)|(16&f?4286578688:0))>>>0,b=~m>>>0;a<r&&t.getEndOffset(a)<=g;)h(t.getEndOffset(a),t.getMetadata(a)),a++;for(a<r&&t.getStartOffset(a)<g&&h(g,t.getMetadata(a));a<r&&t.getEndOffset(a)<p;)h(t.getEndOffset(a),t.getMetadata(a)&b|f&m),a++;a<r?(h(p,t.getMetadata(a)&b|f&m),t.getEndOffset(a)===p&&a++):(u=Math.min(Math.max(0,a-1),r-1),h(p,t.getMetadata(u)&b|f&m))}for(;a<r;)h(t.getEndOffset(a),t.getMetadata(a)),a++;return new o.a(new Uint32Array(l),t.getLineContent(),this._languageIdCodec)}static _findFirstPieceWithLine(e,t){let i=0,n=e.length-1;for(;i<n;){let o=i+Math.floor((n-i)/2);if(e[o].endLineNumber<t)i=o+1;else{if(!(e[o].startLineNumber>t)){for(;o>i&&e[o-1].startLineNumber<=t&&t<=e[o-1].endLineNumber;)o--;return o}n=o-1}}return i}acceptEdit(e,t,i,n,o){for(const r of this._pieces)r.acceptEdit(e,t,i,n,o)}}class b{constructor(e){this._lineTokens=[],this._len=0,this._languageIdCodec=e}flush(){this._lineTokens=[],this._len=0}getTokens(e,t,i){let n=null;if(t<this._len&&(n=this._lineTokens[t]),null!==n&&n!==d)return new o.a(m(n),i,this._languageIdCodec);const r=new Uint32Array(2);return r[0]=i.length,r[1]=c(this._languageIdCodec.encodeLanguageId(e)),new o.a(r,i,this._languageIdCodec)}static _massageTokens(e,t,i){const n=i?m(i):null;if(0===t){let t=!1;if(n&&1<n.length&&(t=a.E.getLanguageId(n[1])!==e),!t)return d}if(n&&0!==n.length)return n[n.length-2]=t,0===n.byteOffset&&n.byteLength===n.buffer.byteLength?n.buffer:n;{const i=new Uint32Array(2);return i[0]=t,i[1]=c(e),i.buffer}}_ensureLine(e){for(;e>=this._len;)this._lineTokens[this._len]=null,this._len++}_deleteLines(e,t){0!==t&&(e+t>this._len&&(t=this._len-e),this._lineTokens.splice(e,t),this._len-=t)}_insertLines(e,t){if(0!==t){let i=[];for(let e=0;e<t;e++)i[e]=null;this._lineTokens=n.b(this._lineTokens,e,i),this._len+=t}}setTokens(e,t,i,n,o){return i=b._massageTokens(this._languageIdCodec.encodeLanguageId(e),i,n),this._ensureLine(t),n=this._lineTokens[t],this._lineTokens[t]=i,!!o&&!b._equals(n,i)}static _equals(e,t){if(!e||!t)return!e&&!t;var i=m(e),n=m(t);if(i.length!==n.length)return!1;for(let e=0,t=i.length;e<t;e++)if(i[e]!==n[e])return!1;return!0}acceptEdit(e,t,i){this._acceptDeleteRange(e),this._acceptInsertText(new r.a(e.startLineNumber,e.startColumn),t,i)}_acceptDeleteRange(e){var t=e.startLineNumber-1;if(!(t>=this._len)){if(e.startLineNumber===e.endLineNumber)return e.startColumn===e.endColumn?void 0:void(this._lineTokens[t]=b._delete(this._lineTokens[t],e.startColumn-1,e.endColumn-1));this._lineTokens[t]=b._deleteEnding(this._lineTokens[t],e.startColumn-1);var i=e.endLineNumber-1;let n=null;i<this._len&&(n=b._deleteBeginning(this._lineTokens[i],e.endColumn-1)),this._lineTokens[t]=b._append(this._lineTokens[t],n),this._deleteLines(e.startLineNumber,e.endLineNumber-e.startLineNumber)}}_acceptInsertText(e,t,i){var n;0===t&&0===i||(n=e.lineNumber-1)>=this._len||(0!==t?(this._lineTokens[n]=b._deleteEnding(this._lineTokens[n],e.column-1),this._lineTokens[n]=b._insert(this._lineTokens[n],e.column-1,i),this._insertLines(e.lineNumber,t)):this._lineTokens[n]=b._insert(this._lineTokens[n],e.column-1,i))}static _deleteBeginning(e,t){return null===e||e===d?e:b._delete(e,0,t)}static _deleteEnding(e,t){if(null===e||e===d)return e;var i=(i=m(e))[i.length-2];return b._delete(e,t,i)}static _delete(e,t,i){if(null===e||e===d||t===i)return e;const n=m(e);var r=n.length>>>1;if(0===t&&n[n.length-2]===i)return d;var s=o.a.findIndexInTokensArray(n,t),a=0<s?n[s-1<<1]:0;if(i<n[s<<1]){const o=i-t;for(let e=s;e<r;e++)n[e<<1]-=o;return e}let l,c;c=a!==t?(n[s<<1]=t,l=s+1<<1,t):(l=s<<1,a);const h=i-t;for(let e=s+1;e<r;e++){var u=n[e<<1]-h;u>c&&(n[l++]=u,n[l++]=n[1+(e<<1)],c=u)}if(l===n.length)return e;let g=new Uint32Array(l);return g.set(n.subarray(0,l),0),g.buffer}static _append(e,t){if(t===d)return e;if(e===d)return t;if(null===e)return e;if(null===t)return null;e=m(e);var i=m(t),n=i.length>>>1;let o=new Uint32Array(e.length+i.length);o.set(e,0);let r=e.length;var s=e[e.length-2];for(let e=0;e<n;e++)o[r++]=i[e<<1]+s,o[r++]=i[1+(e<<1)];return o.buffer}static _insert(e,t,i){if(null===e||e===d)return e;const n=m(e);var r=n.length>>>1;let s=o.a.findIndexInTokensArray(n,t);0<s&&n[s-1<<1]===t&&s--;for(let e=s;e<r;e++)n[e<<1]+=i;return e}}},function(e,t,i){"use strict";i.d(t,"b",(function(){return a})),i.d(t,"a",(function(){return p}));var n=i(9),o=i(147),r=i(3);class s{constructor(e,t,i,n,o,r){this._richEditBracketBrand=void 0,this.languageId=e,this.index=t,this.open=i,this.close=n,this.forwardRegex=o,this.reversedRegex=r,this._openSet=s._toSet(this.open),this._closeSet=s._toSet(this.close)}isOpen(e){return this._openSet.has(e)}isClose(e){return this._closeSet.has(e)}static _toSet(e){const t=new Set;for(const i of e)t.add(i);return t}}class a{constructor(e,t){this._richEditBracketsBrand=void 0;const i=function(e){const t=e.length;e=e.map(e=>[e[0].toLowerCase(),e[1].toLowerCase()]);const i=[];for(let e=0;e<t;e++)i[e]=e;var n,o;for(let n=0;n<t;n++){var r=e[n];for(let o=n+1;o<t;o++)((e,t)=>{var[i,n]=e,[e,t]=t;return i===e||i===t||n===e||n===t})(r,e[o])&&((e,n)=>{var o=Math.min(e,n),r=Math.max(e,n);for(let e=0;e<t;e++)i[e]===r&&(i[e]=o)})(i[n],i[o])}const s=[];for(let r=0;r<t;r++){let a=[],l=[];for(let s=0;s<t;s++)i[s]===r&&([n,o]=e[s],a.push(n),l.push(o));0<a.length&&s.push({open:a,close:l})}return s}(t);this.brackets=i.map((t,n)=>new s(e,n,t.open,t.close,function(e,t,i,n){let o=[];o=o.concat(e),o=o.concat(t);for(let e=0,t=o.length;e<t;e++)l(o[e],i,n,o);return o=d(o),o.sort(c),o.reverse(),u(o)}(t.open,t.close,i,n),function(e,t,i,n){let o=[];o=o.concat(e),o=o.concat(t);for(let e=0,t=o.length;e<t;e++)l(o[e],i,n,o);return o=d(o),o.sort(c),o.reverse(),u(o.map(g))}(t.open,t.close,i,n))),this.forwardRegex=function(e){let t=[];for(const i of e){for(const e of i.open)t.push(e);for(const e of i.close)t.push(e)}return t=d(t),u(t)}(this.brackets),this.reversedRegex=function(e){let t=[];for(const i of e){for(const e of i.open)t.push(e);for(const e of i.close)t.push(e)}return t=d(t),u(t.map(g))}(this.brackets),this.textIsBracket={},this.textIsOpenBracket={},this.maxBracketLength=0;for(const e of this.brackets){for(const t of e.open)this.textIsBracket[t]=e,this.textIsOpenBracket[t]=!0,this.maxBracketLength=Math.max(this.maxBracketLength,t.length);for(const t of e.close)this.textIsBracket[t]=e,this.textIsOpenBracket[t]=!1,this.maxBracketLength=Math.max(this.maxBracketLength,t.length)}}}function l(e,t,i,n){for(let r=0,s=t.length;r<s;r++)if(r!==i){var o=t[r];for(const t of o.open)0<=t.indexOf(e)&&n.push(t);for(const t of o.close)0<=t.indexOf(e)&&n.push(t)}}function c(e,t){return e.length-t.length}function d(e){if(e.length<=1)return e;const t=[],i=new Set;for(const n of e)i.has(n)||(t.push(n),i.add(n));return t}function h(e){var t=/^[\w ]+$/.test(e);return e=n.t(e),t?`\\b${e}\\b`:e}function u(e){return e=`(${e.map(h).join(")|(")})`,n.q(e,!0)}const g=function(){let e=null,t=null;return function(i){return e!==i&&(e=i,t=function(e){if(o.d){const t=new Uint16Array(e.length);let i=0;for(let n=e.length-1;0<=n;n--)t[i++]=e.charCodeAt(n);return o.c().decode(t)}{let t=[],i=0;for(let n=e.length-1;0<=n;n--)t[i++]=e.charAt(n);return t.join("")}}(e)),t}}();class p{static _findPrevBracketInText(e,t,i,n){return(e=i.match(e))?(i=i.length-(e.index||0),e=e[0].length,i=n+i,new r.a(t,i-e+1,t,i+1)):null}static findPrevBracketInRange(e,t,i,n,o){return i=g(i).substring(i.length-o,i.length-n),this._findPrevBracketInText(e,t,i,n)}static findNextBracketInText(e,t,i,n){return(i=i.match(e))?(e=i.index||0,0===(i=i[0].length)?null:(e=n+e,new r.a(t,e+1,t,e+1+i))):null}static findNextBracketInRange(e,t,i,n,o){return o=i.substring(n,o),this.findNextBracketInText(e,t,o,n)}}},function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i=i(21);const n=Object(i.c)("telemetryService")},function(e,t,i){"use strict";i.d(t,"c",(function(){return d})),i.d(t,"d",(function(){return h})),i.d(t,"a",(function(){return u})),i.d(t,"b",(function(){return g}));var n=i(9),o=i(15),r=i(82);let s,a,l;function c(){return s=s||new TextDecoder("UTF-16LE"),s}function d(){return l=l||(o.e()?c():(a=a||new TextDecoder("UTF-16BE"),a)),l}const h="undefined"!=typeof TextDecoder;let u,g;function p(e,t,i){let n=[],o=0;for(let a=0;a<i;a++){var s=r.b(e,t);t+=2,n[o++]=String.fromCharCode(s)}return n.join("")}g=h?(u=e=>new f(e),function(e,t,i){var n=new Uint16Array(e.buffer,t,i);return 0<i&&(65279===n[0]||65534===n[0])?p(e,t,i):c().decode(n)}):(u=e=>new m,p);class f{constructor(e){this._capacity=0|e,this._buffer=new Uint16Array(this._capacity),this._completedStrings=null,this._bufferLength=0}reset(){this._completedStrings=null,this._bufferLength=0}build(){return null!==this._completedStrings?(this._flushBuffer(),this._completedStrings.join("")):this._buildBuffer()}_buildBuffer(){if(0===this._bufferLength)return"";var e=new Uint16Array(this._buffer.buffer,0,this._bufferLength);return d().decode(e)}_flushBuffer(){var e=this._buildBuffer();this._bufferLength=0,null===this._completedStrings?this._completedStrings=[e]:this._completedStrings[this._completedStrings.length]=e}write1(e){var t=this._capacity-this._bufferLength;t<=1&&(0!=t&&!n.E(e)||this._flushBuffer()),this._buffer[this._bufferLength++]=e}appendASCII(e){this._bufferLength===this._capacity&&this._flushBuffer(),this._buffer[this._bufferLength++]=e}appendASCIIString(e){var t=e.length;if(this._bufferLength+t>=this._capacity)return this._flushBuffer(),void(this._completedStrings[this._completedStrings.length]=e);for(let i=0;i<t;i++)this._buffer[this._bufferLength++]=e.charCodeAt(i)}}class m{constructor(){this._pieces=[],this._piecesLen=0}reset(){this._pieces=[],this._piecesLen=0}build(){return this._pieces.join("")}write1(e){this._pieces[this._piecesLen++]=String.fromCharCode(e)}appendASCII(e){this._pieces[this._piecesLen++]=String.fromCharCode(e)}appendASCIIString(e){this._pieces[this._piecesLen++]=e}}},function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i=i(21);const n=Object(i.c)("clipboardService")},function(e,t,i){"use strict";i.d(t,"a",(function(){return o})),i.d(t,"b",(function(){return r}));var n=i(159);class o{constructor(e){e=Object(n.b)(e),this._defaultValue=e,this._asciiMap=o._createAsciiMap(e),this._map=new Map}static _createAsciiMap(e){let t=new Uint8Array(256);for(let i=0;i<256;i++)t[i]=e;return t}set(e,t){t=Object(n.b)(t),0<=e&&e<256?this._asciiMap[e]=t:this._map.set(e,t)}get(e){return 0<=e&&e<256?this._asciiMap[e]:this._map.get(e)||this._defaultValue}}class r{constructor(){this._actual=new o(0)}add(e){this._actual.set(e,1)}has(e){return 1===this._actual.get(e)}}},function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i.d(t,"b",(function(){return o})),i.d(t,"c",(function(){return r}));class n{constructor(e,t,i){this._tokenBrand=void 0,this.offset=0|e,this.type=t,this.language=i}toString(){return"("+this.offset+", "+this.type+")"}}class o{constructor(e,t){this._tokenizationResultBrand=void 0,this.tokens=e,this.endState=t}}class r{constructor(e,t){this._tokenizationResult2Brand=void 0,this.tokens=e,this.endState=t}}},function(e,t,i){"use strict";i.d(t,"a",(function(){return c})),i.d(t,"b",(function(){return d}));var n=i(9),o=i(26),r=i(206),s=i(128),a=i(12),l=i(3);class c{static _createWord(e,t,i,n,o){return{start:n,end:o,wordType:t,nextCharClass:i}}static _findPreviousWordOnLine(e,t,i){return t=t.getLineContent(i.lineNumber),this._doFindPreviousWordOnLine(t,e,i)}static _doFindPreviousWordOnLine(e,t,i){let n=0;for(let r=i.column-2;0<=r;r--){var o=e.charCodeAt(r);if(0===(o=t.get(o))){if(2===n)return this._createWord(e,n,o,r+1,this._findEndOfWord(e,t,n,r+1));n=1}else if(2===o){if(1===n)return this._createWord(e,n,o,r+1,this._findEndOfWord(e,t,n,r+1));n=2}else if(1===o&&0!==n)return this._createWord(e,n,o,r+1,this._findEndOfWord(e,t,n,r+1))}return 0!==n?this._createWord(e,n,1,0,this._findEndOfWord(e,t,n,0)):null}static _findEndOfWord(e,t,i,n){var o=e.length;for(let s=n;s<o;s++){var r=e.charCodeAt(s);if(1===(r=t.get(r)))return s;if(1===i&&2===r)return s;if(2===i&&0===r)return s}return o}static _findNextWordOnLine(e,t,i){return t=t.getLineContent(i.lineNumber),this._doFindNextWordOnLine(t,e,i)}static _doFindNextWordOnLine(e,t,i){let n=0;var o=e.length;for(let s=i.column-1;s<o;s++){var r=e.charCodeAt(s);if(0===(r=t.get(r))){if(2===n)return this._createWord(e,n,r,this._findStartOfWord(e,t,n,s-1),s);n=1}else if(2===r){if(1===n)return this._createWord(e,n,r,this._findStartOfWord(e,t,n,s-1),s);n=2}else if(1===r&&0!==n)return this._createWord(e,n,r,this._findStartOfWord(e,t,n,s-1),s)}return 0!==n?this._createWord(e,n,1,this._findStartOfWord(e,t,n,o-1),o):null}static _findStartOfWord(e,t,i,n){for(let r=n;0<=r;r--){var o=e.charCodeAt(r);if(1===(o=t.get(o)))return r+1;if(1===i&&2===o)return r+1;if(2===i&&0===o)return r+1}return 0}static moveWordLeft(e,t,i,n){let o=i.lineNumber,r=i.column;1===r&&1<o&&(o-=1,r=t.getLineMaxColumn(o));let s=c._findPreviousWordOnLine(e,t,new a.a(o,r));if(0===n)return new a.a(o,s?s.start+1:1);if(1===n)return s&&2===s.wordType&&s.end-s.start==1&&0===s.nextCharClass&&(s=c._findPreviousWordOnLine(e,t,new a.a(o,s.start+1))),new a.a(o,s?s.start+1:1);if(3!==n)return s&&r<=s.end+1&&(s=c._findPreviousWordOnLine(e,t,new a.a(o,s.start+1))),new a.a(o,s?s.end+1:1);for(;s&&2===s.wordType;)s=c._findPreviousWordOnLine(e,t,new a.a(o,s.start+1));return new a.a(o,s?s.start+1:1)}static _moveWordPartLeft(e,t){var i=t.lineNumber,o=e.getLineMaxColumn(i);if(1===t.column)return 1<i?new a.a(i-1,e.getLineMaxColumn(i-1)):t;const r=e.getLineContent(i);for(let e=t.column-1;1<e;e--){var s=r.charCodeAt(e-2),l=r.charCodeAt(e-1);if(95===s&&95!==l)return new a.a(i,e);if(n.G(s)&&n.H(l))return new a.a(i,e);if(n.H(s)&&n.H(l)&&e+1<o&&(l=r.charCodeAt(e),n.G(l)))return new a.a(i,e)}return new a.a(i,1)}static moveWordRight(e,t,i,n){let o=i.lineNumber,r=i.column,s=!1;r===t.getLineMaxColumn(o)&&o<t.getLineCount()&&(s=!0,o+=1,r=1);let l=c._findNextWordOnLine(e,t,new a.a(o,r));if(2===n)l&&2===l.wordType&&l.end-l.start==1&&0===l.nextCharClass&&(l=c._findNextWordOnLine(e,t,new a.a(o,l.end+1))),r=l?l.end+1:t.getLineMaxColumn(o);else if(3===n){for(s&&(r=0);l&&(2===l.wordType||l.start+1<=r);)l=c._findNextWordOnLine(e,t,new a.a(o,l.end+1));r=l?l.start+1:t.getLineMaxColumn(o)}else l&&!s&&r>=l.start+1&&(l=c._findNextWordOnLine(e,t,new a.a(o,l.end+1))),r=l?l.start+1:t.getLineMaxColumn(o);return new a.a(o,r)}static _moveWordPartRight(e,t){var i=t.lineNumber,o=e.getLineMaxColumn(i);if(t.column===o)return i<e.getLineCount()?new a.a(i+1,1):t;const r=e.getLineContent(i);for(let e=t.column+1;e<o;e++){var s=r.charCodeAt(e-2),l=r.charCodeAt(e-1);if(95!==s&&95===l)return new a.a(i,e);if(n.G(s)&&n.H(l))return new a.a(i,e);if(n.H(s)&&n.H(l)&&e+1<o&&(l=r.charCodeAt(e),n.G(l)))return new a.a(i,e)}return new a.a(i,o)}static _deleteWordLeftWhitespace(e,t){var i=e.getLineContent(t.lineNumber);e=t.column-2;return(i=n.I(i,e))+1<e?new l.a(t.lineNumber,i+2,t.lineNumber,t.column):null}static deleteWordLeft(e,t){var i=e.wordSeparators;const n=e.model,o=e.selection;var s=e.whitespaceHeuristics;if(!o.isEmpty())return o;if(r.a.isAutoClosingPairDelete(e.autoClosingDelete,e.autoClosingBrackets,e.autoClosingQuotes,e.autoClosingPairs.autoClosingPairsOpenByEnd,e.model,[e.selection],e.autoClosedCharacters)){const t=e.selection.getPosition();return new l.a(t.lineNumber,t.column-1,t.lineNumber,t.column+1)}const d=new a.a(o.positionLineNumber,o.positionColumn);let h=d.lineNumber,u=d.column;if(1===h&&1===u)return null;if(s&&(s=this._deleteWordLeftWhitespace(n,d)))return s;let g=c._findPreviousWordOnLine(i,n,d);return u=0===t?g?g.start+1:1<u?1:(h--,n.getLineMaxColumn(h)):(g&&u<=g.end+1&&(g=c._findPreviousWordOnLine(i,n,new a.a(h,g.start+1))),g?g.end+1:1<u?1:(h--,n.getLineMaxColumn(h))),new l.a(h,u,d.lineNumber,d.column)}static deleteInsideWord(e,t,i){if(!i.isEmpty())return i;var n=new a.a(i.positionLineNumber,i.positionColumn);return(i=this._deleteInsideWordWhitespace(t,n))||this._deleteInsideWordDetermineDeleteRange(e,t,n)}static _charAtIsWhitespace(e,t){return 32===(t=e.charCodeAt(t))||9===t}static _deleteInsideWordWhitespace(e,t){var i=e.getLineContent(t.lineNumber),n=i.length;if(0===n)return null;let o=Math.max(t.column-2,0);if(!this._charAtIsWhitespace(i,o))return null;let r=Math.min(t.column-1,n-1);if(!this._charAtIsWhitespace(i,r))return null;for(;0<o&&this._charAtIsWhitespace(i,o-1);)o--;for(;r+1<n&&this._charAtIsWhitespace(i,r+1);)r++;return new l.a(t.lineNumber,o+1,t.lineNumber,r+2)}static _deleteInsideWordDetermineDeleteRange(e,t,i){const n=t.getLineContent(i.lineNumber),o=n.length;if(0===o)return 1<i.lineNumber?new l.a(i.lineNumber-1,t.getLineMaxColumn(i.lineNumber-1),i.lineNumber,1):i.lineNumber<t.getLineCount()?new l.a(i.lineNumber,1,i.lineNumber+1,1):new l.a(i.lineNumber,1,i.lineNumber,1);var r=e=>e.start+1<=i.column&&i.column<=e.end+1;const s=(e,t)=>(e=Math.min(e,i.column),t=Math.max(t,i.column),new l.a(i.lineNumber,e,i.lineNumber,t));var a=e=>{let t=e.start+1,i=e.end+1,r=!1;for(;i-1<o&&this._charAtIsWhitespace(n,i-1);)r=!0,i++;if(!r)for(;1<t&&this._charAtIsWhitespace(n,t-2);)t--;return s(t,i)},d=c._findPreviousWordOnLine(e,t,i);return d&&r(d)?a(d):(t=c._findNextWordOnLine(e,t,i))&&r(t)?a(t):d&&t?s(d.end+1,t.start+1):d?s(d.start+1,d.end+1):t?s(t.start+1,t.end+1):s(1,o+1)}static _deleteWordPartLeft(e,t){return t.isEmpty()?(t=t.getPosition(),e=c._moveWordPartLeft(e,t),new l.a(t.lineNumber,t.column,e.lineNumber,e.column)):t}static _findFirstNonWhitespaceChar(e,t){var i=e.length;for(let o=t;o<i;o++){var n=e.charAt(o);if(" "!==n&&"\t"!==n)return o}return i}static _deleteWordRightWhitespace(e,t){var i=e.getLineContent(t.lineNumber);return 1+(e=t.column-1)<(i=this._findFirstNonWhitespaceChar(i,e))?new l.a(t.lineNumber,t.column,t.lineNumber,i+1):null}static deleteWordRight(e,t){var i=e.wordSeparators;const n=e.model,o=e.selection;var r=e.whitespaceHeuristics;if(!o.isEmpty())return o;var s=new a.a(o.positionLineNumber,o.positionColumn);let d=s.lineNumber,h=s.column;var u=n.getLineCount();e=n.getLineMaxColumn(d);if(d===u&&h===e)return null;if(r&&(r=this._deleteWordRightWhitespace(n,s)))return r;let g=c._findNextWordOnLine(i,n,s);return h=2===t?g?g.end+1:h<e||d===u?e:(d++,g=c._findNextWordOnLine(i,n,new a.a(d,1)),g?g.start+1:n.getLineMaxColumn(d)):(g&&h>=g.start+1&&(g=c._findNextWordOnLine(i,n,new a.a(d,g.end+1))),g?g.start+1:h<e||d===u?e:(d++,g=c._findNextWordOnLine(i,n,new a.a(d,1)),g?g.start+1:n.getLineMaxColumn(d))),new l.a(d,h,s.lineNumber,s.column)}static _deleteWordPartRight(e,t){return t.isEmpty()?(t=t.getPosition(),e=c._moveWordPartRight(e,t),new l.a(t.lineNumber,t.column,e.lineNumber,e.column)):t}static _createWordAtPosition(e,t,i){return i=new l.a(t,i.start+1,t,i.end+1),{word:e.getValueInRange(i),startColumn:i.startColumn,endColumn:i.endColumn}}static getWordAtPosition(e,t,i){var n=Object(s.a)(t);return(t=c._findPreviousWordOnLine(n,e,i))&&1===t.wordType&&t.start<=i.column-1&&i.column-1<=t.end?c._createWordAtPosition(e,i.lineNumber,t):(n=c._findNextWordOnLine(n,e,i))&&1===n.wordType&&n.start<=i.column-1&&i.column-1<=n.end?c._createWordAtPosition(e,i.lineNumber,n):null}static word(e,t,i,n,r){var d=Object(s.a)(e.wordSeparators);e=c._findPreviousWordOnLine(d,t,r),d=c._findNextWordOnLine(d,t,r);if(!n){let i,n;return n=e&&1===e.wordType&&e.start<=r.column-1&&r.column-1<=e.end?(i=e.start+1,e.end+1):d&&1===d.wordType&&d.start<=r.column-1&&r.column-1<=d.end?(i=d.start+1,d.end+1):(i=e?e.end+1:1,d?d.start+1:t.getLineMaxColumn(r.lineNumber)),new o.f(new l.a(r.lineNumber,i,r.lineNumber,n),0,new a.a(r.lineNumber,n),0)}let h,u;u=e&&1===e.wordType&&e.start<r.column-1&&r.column-1<e.end?(h=e.start+1,e.end+1):d&&1===d.wordType&&d.start<r.column-1&&r.column-1<d.end?(h=d.start+1,d.end+1):(h=r.column,r.column);var g;d=r.lineNumber;let p;return i.selectionStart.containsPosition(r)?p=i.selectionStart.endColumn:r.isBeforeOrEqual(i.selectionStart.getStartPosition())?(p=h,g=new a.a(d,p),i.selectionStart.containsPosition(g)&&(p=i.selectionStart.endColumn)):(p=u,g=new a.a(d,p),i.selectionStart.containsPosition(g)&&(p=i.selectionStart.startColumn)),i.move(!0,d,p,0)}}class d extends c{static deleteWordPartLeft(e){const t=h([c.deleteWordLeft(e,0),c.deleteWordLeft(e,2),c._deleteWordPartLeft(e.model,e.selection)]);return t.sort(l.a.compareRangesUsingEnds),t[2]}static deleteWordPartRight(e){const t=h([c.deleteWordRight(e,0),c.deleteWordRight(e,2),c._deleteWordPartRight(e.model,e.selection)]);return t.sort(l.a.compareRangesUsingStarts),t[0]}static moveWordPartLeft(e,t,i){const n=h([c.moveWordLeft(e,t,i,0),c.moveWordLeft(e,t,i,2),c._moveWordPartLeft(t,i)]);return n.sort(a.a.compare),n[2]}static moveWordPartRight(e,t,i){const n=h([c.moveWordRight(e,t,i,0),c.moveWordRight(e,t,i,2),c._moveWordPartRight(t,i)]);return n.sort(a.a.compare),n[0]}}function h(e){return e.filter(e=>Boolean(e))}},function(e,t,i){"use strict";i.d(t,"b",(function(){return n})),i.d(t,"c",(function(){return o})),i.d(t,"a",(function(){return r}));const n={ctrlCmd:!1,alt:!1};var o,r;(t=o=o||{})[t.Blur=1]="Blur",t[t.Gesture=2]="Gesture",t[t.Other=3]="Other",(t=r=r||{})[t.NONE=0]="NONE",t[t.FIRST=1]="FIRST",t[t.SECOND=2]="SECOND",t[t.LAST=3]="LAST"},function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i.d(t,"b",(function(){return o})),i.d(t,"c",(function(){return r}));const n={RESOURCES:"ResourceURLs",DOWNLOAD_URL:"DownloadURL",FILES:"Files",TEXT:i(140).a.text,TERMINALS:"Terminals"};class o{constructor(e){this.data=e}update(){}getData(){return this.data}}const r={CurrentDragAndDropData:void 0}},function(e,t,i){"use strict";i.d(t,"a",(function(){return p})),i.d(t,"b",(function(){return f}));var n=i(17),o=i(9),r=i(77),s=i(161),a=i(3),l=i(29);class c{constructor(e,t,i){this._range=e,this._charBeforeSelection=t,this._charAfterSelection=i}getEditOperations(e,t){t.addTrackedEditOperation(new a.a(this._range.startLineNumber,this._range.startColumn,this._range.startLineNumber,this._range.startColumn),this._charBeforeSelection),t.addTrackedEditOperation(new a.a(this._range.endLineNumber,this._range.endColumn,this._range.endLineNumber,this._range.endColumn),this._charAfterSelection)}computeCursorState(e,t){t=(i=t.getInverseEditOperations())[0].range;var i=i[1].range;return new l.a(t.endLineNumber,t.endColumn,i.endLineNumber,i.endColumn-this._charAfterSelection.length)}}var d=i(26),h=i(128),u=i(84),g=i(49);class p{static indent(e,t,i){if(null===t||null===i)return[];let n=[];for(let t=0,o=i.length;t<o;t++)n[t]=new s.a(i[t],{isUnshift:!1,tabSize:e.tabSize,indentSize:e.indentSize,insertSpaces:e.insertSpaces,useTabStops:e.useTabStops,autoIndent:e.autoIndent});return n}static outdent(e,t,i){let n=[];for(let t=0,o=i.length;t<o;t++)n[t]=new s.a(i[t],{isUnshift:!0,tabSize:e.tabSize,indentSize:e.indentSize,insertSpaces:e.insertSpaces,useTabStops:e.useTabStops,autoIndent:e.autoIndent});return n}static shiftIndent(e,t,i){return s.a.shiftIndent(t,t.length+(i=i||1),e.tabSize,e.indentSize,e.insertSpaces)}static unshiftIndent(e,t,i){return s.a.unshiftIndent(t,t.length+(i=i||1),e.tabSize,e.indentSize,e.insertSpaces)}static _distributedPaste(e,t,i,n){let o=[];for(let e=0,t=i.length;e<t;e++)o[e]=new r.a(i[e],n[e]);return new d.e(0,o,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _simplePaste(e,t,i,n,o){let s=[];for(let e=0,t=i.length;e<t;e++){const t=i[e];var l=t.getPosition();(o=(!(o=!(o&&!t.isEmpty())&&o)||n.indexOf("\n")===n.length-1)&&o)?(l=new a.a(l.lineNumber,1,l.lineNumber,1),s[e]=new r.b(l,n,t,!0)):s[e]=new r.a(t,n)}return new d.e(0,s,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _distributePasteToCursors(e,t,i,n,r){return n||1===t.length?null:r&&r.length===t.length?r:"spread"===e.multiCursorPaste&&(13===(i=10===i.charCodeAt(i.length-1)?i.substr(0,i.length-1):i).charCodeAt(i.length-1)&&(i=i.substr(0,i.length-1)),(i=o.Q(i)).length===t.length)?i:null}static paste(e,t,i,n,o,r){return(r=this._distributePasteToCursors(e,i,n,o,r))?(i=i.sort(a.a.compareRangesUsingStarts),this._distributedPaste(e,t,i,r)):this._simplePaste(e,t,i,n,o)}static _goodIndentForLine(e,t,i){let n=null,r="";var s=g.b.getInheritIndentForLine(e.autoIndent,t,i,!1);if(s)n=s.action,r=s.indentation;else if(1<i){let n;for(n=i-1;1<=n;n--){var l=t.getLineContent(n);if(0<=o.I(l))break}if(n<1)return null;i=t.getLineMaxColumn(n),(i=g.b.getEnterAction(e.autoIndent,t,new a.a(n,i,n,i)))&&(r=i.indentation+i.appendText)}return n&&(n===u.b.Indent&&(r=p.shiftIndent(e,r)),n===u.b.Outdent&&(r=p.unshiftIndent(e,r)),r=e.normalizeIndentation(r)),r||null}static _replaceJumpToNextIndent(e,t,i,n){let o="";var s=i.getStartPosition();if(e.insertSpaces){s=d.a.visibleColumnFromColumn2(e,t,s);var a=(e=e.indentSize)-s%e;for(let e=0;e<a;e++)o+=" "}else o="\t";return new r.a(i,o,n)}static tab(e,t,i){let n=[];for(let l=0,c=i.length;l<c;l++){const c=i[l];if(c.isEmpty()){let i=t.getLineContent(c.startLineNumber);if(/^\s*$/.test(i)&&t.isCheapToTokenize(c.startLineNumber)){var o=this._goodIndentForLine(e,t,c.startLineNumber);o=e.normalizeIndentation(o=o||"\t");if(!i.startsWith(o)){n[l]=new r.a(new a.a(c.startLineNumber,1,c.startLineNumber,i.length+1),o,!0);continue}}n[l]=this._replaceJumpToNextIndent(e,t,c,!0)}else{if(c.startLineNumber===c.endLineNumber&&(o=t.getLineMaxColumn(c.startLineNumber),1!==c.startColumn||c.endColumn!==o)){n[l]=this._replaceJumpToNextIndent(e,t,c,!1);continue}n[l]=new s.a(c,{isUnshift:!1,tabSize:e.tabSize,indentSize:e.indentSize,insertSpaces:e.insertSpaces,useTabStops:e.useTabStops,autoIndent:e.autoIndent})}}return n}static compositionType(e,t,i,n,o,r,s,a){return n=n.map(e=>this._compositionType(i,e,o,r,s,a)),new d.e(4,n,{shouldPushStackElementBefore:v(e,4),shouldPushStackElementAfter:!1})}static _compositionType(e,t,i,n,o,s){return t.isEmpty()?(t=t.getPosition(),n=Math.max(1,t.column-n),o=Math.min(e.getLineMaxColumn(t.lineNumber),t.column+o),o=new a.a(t.lineNumber,n,t.lineNumber,o),e.getValueInRange(o)===i&&0===s?null:new r.d(o,i,0,s)):null}static _typeCommand(e,t,i){return new(i?r.e:r.a)(e,t,!0)}static _enter(e,t,i,n){if(0===e.autoIndent)return p._typeCommand(n,"\n",i);if(!t.isCheapToTokenize(n.getStartPosition().lineNumber)||1===e.autoIndent){var s=t.getLineContent(n.startLineNumber),a=o.x(s).substring(0,n.startColumn-1);return p._typeCommand(n,"\n"+e.normalizeIndentation(a),i)}if(s=g.b.getEnterAction(e.autoIndent,t,n)){if(s.indentAction===u.b.None)return p._typeCommand(n,"\n"+e.normalizeIndentation(s.indentation+s.appendText),i);if(s.indentAction===u.b.Indent)return p._typeCommand(n,"\n"+e.normalizeIndentation(s.indentation+s.appendText),i);if(s.indentAction===u.b.IndentOutdent){var l=e.normalizeIndentation(s.indentation),c=e.normalizeIndentation(s.indentation+s.appendText);a="\n"+c+"\n"+l;return i?new r.e(n,a,!0):new r.d(n,a,-1,c.length-l.length,!0)}if(s.indentAction===u.b.Outdent){var h=p.unshiftIndent(e,s.indentation);return p._typeCommand(n,"\n"+e.normalizeIndentation(h+s.appendText),i)}}if(c=t.getLineContent(n.startLineNumber),l=o.x(c).substring(0,n.startColumn-1),4<=e.autoIndent&&(h=g.b.getIndentForEnter(e.autoIndent,t,n,{unshiftIndent:t=>p.unshiftIndent(e,t),shiftIndent:t=>p.shiftIndent(e,t),normalizeIndentation:t=>e.normalizeIndentation(t)}))){let a=d.a.visibleColumnFromColumn2(e,t,n.getEndPosition());if(s=n.endColumn,c=t.getLineContent(n.endLineNumber),n=0<=(c=o.u(c))?n.setEndPosition(n.endLineNumber,Math.max(n.endColumn,c+1)):n.setEndPosition(n.endLineNumber,t.getLineMaxColumn(n.endLineNumber)),i)return new r.e(n,"\n"+e.normalizeIndentation(h.afterEnter),!0);{let t=0;return s<=c+1&&(e.insertSpaces||(a=Math.ceil(a/e.indentSize)),t=Math.min(a+1-e.normalizeIndentation(h.afterEnter).length-1,0)),new r.d(n,"\n"+e.normalizeIndentation(h.afterEnter),0,t,!0)}}return p._typeCommand(n,"\n"+e.normalizeIndentation(l),i)}static _isAutoIndentType(e,t,i){if(e.autoIndent<4)return!1;for(let e=0,n=i.length;e<n;e++)if(!t.isCheapToTokenize(i[e].getEndPosition().lineNumber))return!1;return!0}static _runAutoIndentType(e,t,i,n){var o=g.b.getIndentationAtPosition(t,i.startLineNumber,i.startColumn),r=g.b.getIndentActionForType(e.autoIndent,t,i,n,{shiftIndent:t=>p.shiftIndent(e,t),unshiftIndent:t=>p.unshiftIndent(e,t)});return null===r||r===e.normalizeIndentation(o)?null:0===(o=t.getLineFirstNonWhitespaceColumn(i.startLineNumber))?p._typeCommand(new a.a(i.startLineNumber,1,i.endLineNumber,i.endColumn),e.normalizeIndentation(r)+n,!1):p._typeCommand(new a.a(i.startLineNumber,1,i.endLineNumber,i.endColumn),e.normalizeIndentation(r)+t.getLineContent(i.startLineNumber).substring(o-1,i.startColumn-1)+n,!1)}static _isAutoClosingOvertype(e,t,i,n,o){if("never"===e.autoClosingOvertype)return!1;if(!e.autoClosingPairs.autoClosingPairsCloseSingleChar.has(o))return!1;for(let l=0,c=i.length;l<c;l++){const c=i[l];if(!c.isEmpty())return!1;var r=c.getPosition();const h=t.getLineContent(r.lineNumber);if(h.charAt(r.column-1)!==o)return!1;var s=Object(d.g)(o);if(92===(2<r.column?h.charCodeAt(r.column-2):0)&&s)return!1;if("auto"===e.autoClosingOvertype){let e=!1;for(let t=0,i=n.length;t<i;t++){var a=n[t];if(r.lineNumber===a.startLineNumber&&r.column===a.startColumn){e=!0;break}}if(!e)return!1}}return!0}static _runAutoClosingOvertype(e,t,i,n,o){let s=[];for(let e=0,t=n.length;e<t;e++){var l=n[e].getPosition();l=new a.a(l.lineNumber,l.column,l.lineNumber,l.column+1);s[e]=new r.a(l,o)}return new d.e(4,s,{shouldPushStackElementBefore:v(e,4),shouldPushStackElementAfter:!1})}static _isBeforeClosingBrace(e,t){var i=t.charAt(0);const n=e.autoClosingPairs.autoClosingPairsOpenByStart.get(i)||[],o=e.autoClosingPairs.autoClosingPairsCloseByStart.get(i)||[];return e=n.some(e=>t.startsWith(e.open)),i=o.some(e=>t.startsWith(e.close)),!e&&i}static _findAutoClosingPairOpen(e,t,i,n){if(!(e=e.autoClosingPairs.autoClosingPairsOpenByEnd.get(n)))return null;let o=null;for(const r of e)if(null===o||r.open.length>o.open.length){let e=!0;for(const o of i)if(t.getValueInRange(new a.a(o.lineNumber,o.column-r.open.length+1,o.lineNumber,o.column))+n!==r.open){e=!1;break}e&&(o=r)}return o}static _findSubAutoClosingPairClose(e,t){if(t.open.length<=1)return"";var i=t.close.charAt(t.close.length-1);let n=null;for(const o of e.autoClosingPairs.autoClosingPairsCloseByEnd.get(i)||[])o.open!==t.open&&t.open.includes(o.open)&&t.close.endsWith(o.close)&&(!n||o.open.length>n.open.length)&&(n=o);return n?n.close:""}static _getAutoClosingPairClose(e,t,i,o,r){var s=Object(d.g)(o),a=s?e.autoClosingQuotes:e.autoClosingBrackets;if("never"===a)return null;const l=this._findAutoClosingPairOpen(e,t,i.map(e=>e.getPosition()),o);if(!l)return null;var c=this._findSubAutoClosingPairClose(e,l);let u=!0;const f=s?e.shouldAutoCloseBefore.quote:e.shouldAutoCloseBefore.bracket;for(let d=0,b=i.length;d<b;d++){const b=i[d];if(!b.isEmpty())return null;var m=b.getPosition();const _=t.getLineContent(m.lineNumber),w=_.substring(m.column-1);if(w.startsWith(c)||(u=!1),_.length>m.column-1){var v=_.charAt(m.column-1);if(!p._isBeforeClosingBrace(e,w)&&!f(v))return null}if(!t.isCheapToTokenize(m.lineNumber))return null;if(1===l.open.length&&("'"===o||'"'===o)&&"always"!==a){const t=Object(h.a)(e.wordSeparators);if(r&&1<m.column&&0===t.get(_.charCodeAt(m.column-2)))return null;if(!r&&2<m.column&&0===t.get(_.charCodeAt(m.column-3)))return null}t.forceTokenization(m.lineNumber),v=t.getLineTokens(m.lineNumber);let C=!1;try{C=g.b.shouldAutoClosePair(l,v,r?m.column:m.column-1)}catch(s){Object(n.f)(s)}if(!C)return null}return u?l.close.substring(0,l.close.length-c.length):l.close}static _runAutoClosingOpenCharType(e,t,i,n,o,r,s){let a=[];for(let e=0,t=n.length;e<t;e++){var l=n[e];a[e]=new f(l,o,r,s)}return new d.e(4,a,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}static _shouldSurroundChar(e,t){return Object(d.g)(t)?"quotes"===e.autoSurround||"languageDefined"===e.autoSurround:"brackets"===e.autoSurround||"languageDefined"===e.autoSurround}static _isSurroundSelectionType(e,t,i,n){if(!p._shouldSurroundChar(e,n)||!e.surroundingPairs.hasOwnProperty(n))return!1;var o=Object(d.g)(n);for(let e=0,n=i.length;e<n;e++){const n=i[e];if(n.isEmpty())return!1;let l=!0;for(let e=n.startLineNumber;e<=n.endLineNumber;e++){const i=t.getLineContent(e);var r=e===n.startLineNumber?n.startColumn-1:0,s=e===n.endLineNumber?n.endColumn-1:i.length;s=i.substring(r,s);if(/[^ \t]/.test(s)){l=!1;break}}if(l)return!1;if(o&&n.startLineNumber===n.endLineNumber&&n.startColumn+1===n.endColumn){var a=t.getValueInRange(n);if(Object(d.g)(a))return!1}}return!0}static _runSurroundSelectionType(e,t,i,n,o){let r=[];for(let e=0,i=n.length;e<i;e++){var s=n[e],a=t.surroundingPairs[o];r[e]=new c(s,o,a)}return new d.e(0,r,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _isTypeInterceptorElectricChar(e,t,i){return!(1!==i.length||!t.isCheapToTokenize(i[0].getEndPosition().lineNumber))}static _typeInterceptorElectricChar(e,t,i,s,l){if(!t.electricChars.hasOwnProperty(l)||!s.isEmpty())return null;var c=s.getPosition();i.forceTokenization(c.lineNumber);let h,u=i.getLineTokens(c.lineNumber);try{h=g.b.onElectricCharacter(l,u,c.column)}catch(u){return Object(n.f)(u),null}if(!h)return null;if(h.matchOpenBracket&&(s=(u.getLineContent()+l).lastIndexOf(h.matchOpenBracket)+1,s=i.findMatchingBracketUp(h.matchOpenBracket,{lineNumber:c.lineNumber,column:s}))){if(s.startLineNumber===c.lineNumber)return null;s=i.getLineContent(s.startLineNumber),s=o.x(s),s=t.normalizeIndentation(s);let n=i.getLineContent(c.lineNumber);return i=i.getLineFirstNonWhitespaceColumn(c.lineNumber)||c.column,l=s+n.substring(i-1,c.column-1)+l,c=new a.a(c.lineNumber,1,c.lineNumber,c.column),c=new r.a(c,l),new d.e(m(l,e),[c],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!0})}return null}static compositionEndWithInterceptors(e,t,i,n,o,s){if(!n||l.a.selectionsArrEqual(n,o))return null;let c=null;for(const e of o){if(!e.isEmpty())return null;var h=e.getPosition();h=i.getValueInRange(new a.a(h.lineNumber,h.column-1,h.lineNumber,h.column));if(null===c)c=h;else if(c!==h)return null}if(!c)return null;if(this._isAutoClosingOvertype(t,i,o,s,c)){var u=o.map(e=>new r.a(new a.a(e.positionLineNumber,e.positionColumn,e.positionLineNumber,e.positionColumn+1),"",!1));return new d.e(4,u,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}return null!==(u=this._getAutoClosingPairClose(t,i,o,c,!1))?this._runAutoClosingOpenCharType(e,t,i,o,c,!1,u):null}static typeWithInterceptors(e,t,i,n,o,s,a){if(!e&&"\n"===a){let e=[];for(let t=0,r=o.length;t<r;t++)e[t]=p._enter(i,n,!1,o[t]);return new d.e(4,e,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(!e&&this._isAutoIndentType(i,n,o)){let e=[],t=!1;for(let r=0,s=o.length;r<s;r++)if(e[r]=this._runAutoIndentType(i,n,o[r],a),!e[r]){t=!0;break}if(!t)return new d.e(4,e,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(!e&&this._isAutoClosingOvertype(i,n,o,s,a))return this._runAutoClosingOvertype(t,i,n,o,a);if(!e&&(s=this._getAutoClosingPairClose(i,n,o,a,!0)))return this._runAutoClosingOpenCharType(t,i,n,o,a,!0,s);if(this._isSurroundSelectionType(i,n,o,a))return this._runSurroundSelectionType(t,i,n,o,a);if(!e&&this._isTypeInterceptorElectricChar(i,n,o)){var l=this._typeInterceptorElectricChar(t,i,n,o[0],a);if(l)return l}let c=[];for(let e=0,t=o.length;e<t;e++)c[e]=new r.a(o[e],a);return l=m(a,t),new d.e(l,c,{shouldPushStackElementBefore:v(t,l),shouldPushStackElementAfter:!1})}static typeWithoutInterceptors(e,t,i,n,o){let s=[];for(let e=0,t=n.length;e<t;e++)s[e]=new r.a(n[e],o);var a=m(o,e);return new d.e(a,s,{shouldPushStackElementBefore:v(e,a),shouldPushStackElementAfter:!1})}static lineInsertBefore(e,t,i){if(null===t||null===i)return[];let n=[];for(let l=0,c=i.length;l<c;l++){var o,s=i[l].positionLineNumber;1===s?n[l]=new r.e(new a.a(1,1,1,1),"\n"):(s--,o=t.getLineMaxColumn(s),n[l]=this._enter(e,t,!1,new a.a(s,o,s,o)))}return n}static lineInsertAfter(e,t,i){if(null===t||null===i)return[];let n=[];for(let s=0,l=i.length;s<l;s++){var o=i[s].positionLineNumber,r=t.getLineMaxColumn(o);n[s]=this._enter(e,t,!1,new a.a(o,r,o,r))}return n}static lineBreakInsert(e,t,i){let n=[];for(let o=0,r=i.length;o<r;o++)n[o]=this._enter(e,t,!0,i[o]);return n}}class f extends r.d{constructor(e,t,i,n){super(e,(i?t:"")+n,0,-n.length),this._openCharacter=t,this._closeCharacter=n,this.closeCharacterRange=null,this.enclosingRange=null}computeCursorState(e,t){var i=t.getInverseEditOperations()[0].range;return this.closeCharacterRange=new a.a(i.startLineNumber,i.endColumn-this._closeCharacter.length,i.endLineNumber,i.endColumn),this.enclosingRange=new a.a(i.startLineNumber,i.endColumn-this._openCharacter.length-this._closeCharacter.length,i.endLineNumber,i.endColumn),super.computeCursorState(e,t)}}function m(e,t){return" "===e?5===t||6===t?6:5:4}function v(e,t){return!(!_(e)||_(t))||5!==e&&b(e)!==b(t)}function b(e){return 6===e||5===e?"space":e}function _(e){return 4===e||5===e||6===e}},function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var n=i(15);const o=n.b.performance&&"function"==typeof n.b.performance.now;class r{constructor(e){this._highResolution=o&&e,this._startTime=this._now(),this._stopTime=-1}static create(e=!0){return new r(e)}stop(){this._stopTime=this._now()}elapsed(){return-1!==this._stopTime?this._stopTime-this._startTime:this._now()-this._startTime}_now(){return(this._highResolution?n.b.performance:Date).now()}}},function(e,t,i){"use strict";i.d(t,"a",(function(){return s})),i.d(t,"b",(function(){return f})),i.d(t,"c",(function(){return m}));var n=i(6),o=i(19),r=i(0);t=i(214),i=i(59);const s={Configuration:"base.contributions.configuration"},a={properties:{},patternProperties:{}},l={properties:{},patternProperties:{}},c={properties:{},patternProperties:{}},d={properties:{},patternProperties:{}},h={properties:{},patternProperties:{}},u={properties:{},patternProperties:{}},g="vscode://schemas/settings/resourceLanguage",p=i.a.as(t.a.JSONContribution),f=new RegExp("\\[.*\\]$");function m(e){return e.substring(1,e.length-1)}const v=new class{constructor(){this.overrideIdentifiers=new Set,this._onDidSchemaChange=new n.b,this._onDidUpdateConfiguration=new n.b,this.defaultValues={},this.defaultLanguageConfigurationOverridesNode={id:"defaultOverrides",title:r.a("defaultLanguageConfigurationOverrides.title","Default Language Configuration Overrides"),properties:{}},this.configurationContributors=[this.defaultLanguageConfigurationOverridesNode],this.resourceLanguageSettingsSchema={properties:{},patternProperties:{},additionalProperties:!1,errorMessage:"Unknown editor configuration setting",allowTrailingCommas:!0,allowComments:!0},this.configurationProperties={},this.excludedConfigurationProperties={},p.registerSchema(g,this.resourceLanguageSettingsSchema)}registerConfiguration(e,t=!0){this.registerConfigurations([e],t)}registerConfigurations(e,t=!0){t=this.doRegisterConfigurations(e,t),p.registerSchema(g,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire(t)}registerOverrideIdentifiers(e){for(const t of e)this.overrideIdentifiers.add(t);this.updateOverridePropertyPatternKey()}doRegisterConfigurations(e,t){const i=[];return e.forEach(e=>{i.push(...this.validateAndRegisterProperties(e,t,e.extensionInfo)),this.configurationContributors.push(e),this.registerJSONConfiguration(e)}),i}validateAndRegisterProperties(e,t=!0,i,n=3){var s;n=o.n(e.scope)?n:e.scope;let a=[],l=e.properties;if(l)for(var c in l)if(t&&function(e){return e.trim()?f.test(e)?r.a("config.property.languageDefault","Cannot register '{0}'. This matches property pattern '\\\\[.*\\\\]$' for describing language specific editor settings. Use 'configurationDefaults' contribution.",e):void 0===v.getConfigurationProperties()[e]?null:r.a("config.property.duplicate","Cannot register '{0}'. This property is already registered.",e):r.a("config.property.empty","Cannot register an empty property")}(c))delete l[c];else{const e=l[c];this.updatePropertyDefaultValue(c,e),f.test(c)?e.scope=void 0:(e.scope=o.n(e.scope)?n:e.scope,e.restricted=o.n(e.restricted)?!(null===(s=null==i?void 0:i.restrictedConfigurations)||void 0===s||!s.includes(c)):e.restricted),!l[c].hasOwnProperty("included")||l[c].included?(this.configurationProperties[c]=l[c],!l[c].deprecationMessage&&l[c].markdownDeprecationMessage&&(l[c].deprecationMessage=l[c].markdownDeprecationMessage),a.push(c)):(this.excludedConfigurationProperties[c]=l[c],delete l[c])}if(e=e.allOf)for(var d of e)a.push(...this.validateAndRegisterProperties(d,t,i,n));return a}getConfigurationProperties(){return this.configurationProperties}registerJSONConfiguration(e){const t=e=>{var i=e.properties;if(i)for(const e in i)this.updateSchema(e,i[e]);let n=e.allOf;n&&n.forEach(t)};t(e)}updateSchema(e,t){switch((a.properties[e]=t).scope){case 1:l.properties[e]=t;break;case 2:c.properties[e]=t;break;case 6:d.properties[e]=t;break;case 3:h.properties[e]=t;break;case 4:u.properties[e]=t;break;case 5:u.properties[e]=t,this.resourceLanguageSettingsSchema.properties[e]=t}}updateOverridePropertyPatternKey(){for(const i of this.overrideIdentifiers.values()){var e=`[${i}]`,t={type:"object",description:r.a("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:r.a("overrideSettings.errorMessage","This setting does not support per-language configuration."),$ref:g};this.updatePropertyDefaultValue(e,t),a.properties[e]=t,l.properties[e]=t,c.properties[e]=t,d.properties[e]=t,h.properties[e]=t,u.properties[e]=t}this._onDidSchemaChange.fire()}updatePropertyDefaultValue(e,t){let i=this.defaultValues[e];o.m(i)&&(i=t.default),o.m(i)&&(i=function(e){switch(e=Array.isArray(e)?e[0]:e){case"boolean":return!1;case"integer":case"number":return 0;case"string":return"";case"array":return[];case"object":return{};default:return null}}(t.type)),t.default=i}};i.a.add(s.Configuration,v)},function(e,t,i){"use strict";function n(e){var t=l.find((function(t){return t.id===e}));t&&-1!==t.intervalId&&(clearInterval(t.intervalId),l=l.filter((function(t){return t.id!==e})))}function o(e){var t=l.find((function(t){return t.id===e}));t&&(clearInterval(t.intervalId),t.intervalId=-1)}function r(e){var t=l.find((function(t){return t.id===e}));t&&-1===t.intervalId&&(t.intervalId=setInterval(t.callback,t.interval))}var s=i(86),a=i(51),l=[];t.a={add:function(e,t){var i=Object(s.uniqueId)(),n=a.a.state.app.isWindowShow?setInterval(e,t):-1;return l.push({id:i,intervalId:n,callback:e,interval:t}),i},stop:n,stopAll:function(){l.forEach((function(e){return n(e.id)}))},pause:o,pauseAll:function(){l.forEach((function(e){return o(e.id)}))},resume:r,resumeAll:function(){l.forEach((function(e){return r(e.id)}))},getAll:function(){return l}}},function(e,t,i){"use strict";i.d(t,"a",(function(){return s})),i.d(t,"b",(function(){return a}));var n=i(0),o=i(6),r=i(49);t=i(59),i=i(140);const s=new class{constructor(){this._onDidChangeLanguages=new o.b,this.onDidChangeLanguages=this._onDidChangeLanguages.event,this._languages=[],this._dynamicLanguages=[]}registerLanguage(e){return this._languages.push(e),this._onDidChangeLanguages.fire(void 0),{dispose:()=>{for(let t=0,i=this._languages.length;t<i;t++)if(this._languages[t]===e)return void this._languages.splice(t,1)}}}getLanguages(){return[].concat(this._languages).concat(this._dynamicLanguages)}};t.a.add("editor.modesRegistry",s);const a="plaintext";s.registerLanguage({id:a,extensions:[".txt"],aliases:[n.a("plainText.alias","Plain Text"),"text"],mimetypes:[i.a.text]}),r.b.register(a,{brackets:[["(",")"],["[","]"],["{","}"]],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"<",close:">"},{open:'"',close:'"'},{open:"'",close:"'"},{open:"`",close:"`"}],colorizedBracketPairs:[],folding:{offSide:!0}},0)},function(e,t,i){"use strict";function n(e){return e<0?0:255<e?255:0|e}function o(e){return e<0?0:4294967295<e?4294967295:0|e}i.d(t,"b",(function(){return n})),i.d(t,"a",(function(){return o}))},function(e,t,i){"use strict";i.d(t,"a",(function(){return o})),i.d(t,"b",(function(){return a}));var n=i(9);class o{constructor(e,t,i,n){this.startColumn=e,this.endColumn=t,this.className=i,this.type=n,this._lineDecorationBrand=void 0}static _equals(e,t){return e.startColumn===t.startColumn&&e.endColumn===t.endColumn&&e.className===t.className&&e.type===t.type}static equalsArr(e,t){var i=e.length;if(i!==t.length)return!1;for(let n=0;n<i;n++)if(!o._equals(e[n],t[n]))return!1;return!0}static extractWrapped(e,t,i){if(0===e.length)return e;var n=t+1,r=i+1,s=i-t;const a=[];let l=0;for(const t of e)t.endColumn<=n||t.startColumn>=r||(a[l++]=new o(Math.max(1,t.startColumn-n+1),Math.min(1+s,t.endColumn-n+1),t.className,t.type));return a}static filter(e,t,i,n){if(0===e.length)return[];let r=[],s=0;for(let d=0,h=e.length;d<h;d++){var a,l,c=e[d];const h=c.range;h.endLineNumber<t||h.startLineNumber>t||h.isEmpty()&&(0===c.type||3===c.type)||(a=h.startLineNumber===t?h.startColumn:i,l=h.endLineNumber===t?h.endColumn:n,r[s++]=new o(a,l,c.inlineClassName,c.type))}return r}static _typeCompare(e,t){var i=[2,0,1,3];return i[e]-i[t]}static compare(e,t){if(e.startColumn!==t.startColumn)return e.startColumn-t.startColumn;if(e.endColumn!==t.endColumn)return e.endColumn-t.endColumn;var i=o._typeCompare(e.type,t.type);return 0!==i?i:e.className!==t.className?e.className<t.className?-1:1:0}}class r{constructor(e,t,i,n){this.startOffset=e,this.endOffset=t,this.className=i,this.metadata=n}}class s{constructor(){this.stopOffsets=[],this.classNames=[],this.metadata=[],this.count=0}static _metadata(e){let t=0;for(let i=0,n=e.length;i<n;i++)t|=e[i];return t}consumeLowerThan(e,t,i){for(;0<this.count&&this.stopOffsets[0]<e;){let e=0;for(;e+1<this.count&&this.stopOffsets[e]===this.stopOffsets[e+1];)e++;i.push(new r(t,this.stopOffsets[e],this.classNames.join(" "),s._metadata(this.metadata))),t=this.stopOffsets[e]+1,this.stopOffsets.splice(0,e+1),this.classNames.splice(0,e+1),this.metadata.splice(0,e+1),this.count-=e+1}return 0<this.count&&t<e&&(i.push(new r(t,e-1,this.classNames.join(" "),s._metadata(this.metadata))),t=e),t}insert(e,t,i){if(0===this.count||this.stopOffsets[this.count-1]<=e)this.stopOffsets.push(e),this.classNames.push(t),this.metadata.push(i);else for(let n=0;n<this.count;n++)if(this.stopOffsets[n]>=e){this.stopOffsets.splice(n,0,e),this.classNames.splice(n,0,t),this.metadata.splice(n,0,i);break}this.count++}}class a{static normalize(e,t){if(0===t.length)return[];var i=[];const o=new s;let r=0;for(let s=0,h=t.length;s<h;s++){let h=(l=t[s]).startColumn,u=l.endColumn;var a=l.className,l=1===l.type?2:2===l.type?4:0;1<h&&(c=e.charCodeAt(h-2),n.E(c)&&h--),1<u&&(d=e.charCodeAt(u-2),n.E(d)&&u--);var c=h-1,d=u-2;r=o.consumeLowerThan(c,r,i),0===o.count&&(r=c),o.insert(d,a,l)}return o.consumeLowerThan(1073741824,r,i),i}}},function(e,t,i){"use strict";i.d(t,"a",(function(){return d}));var n=i(9),o=i(26),r=i(3),s=i(29),a=i(49);const l=Object.create(null);function c(e,t){if(t<=0)return"";l[e]||(l[e]=["",e]);const i=l[e];for(let n=i.length;n<=t;n++)i[n]=i[n-1]+e;return i[t]}class d{constructor(e,t){this._opts=t,this._selection=e,this._selectionId=null,this._useLastEditRangeForCursorEndPosition=!1,this._selectionStartColumnStaysPut=!1}static unshiftIndent(e,t,i,n,r){return t=o.a.visibleColumnFromColumn(e,t,i),r?(r=c(" ",n),c(r,o.a.prevIndentTabStop(t,n)/n)):c("\t",o.a.prevRenderTabStop(t,i)/i)}static shiftIndent(e,t,i,n,r){return t=o.a.visibleColumnFromColumn(e,t,i),r?(r=c(" ",n),c(r,o.a.nextIndentTabStop(t,n)/n)):c("\t",o.a.nextRenderTabStop(t,i)/i)}_addEditOperation(e,t,i){this._useLastEditRangeForCursorEndPosition?e.addTrackedEditOperation(t,i):e.addEditOperation(t,i)}getEditOperations(e,t){var i=this._selection.startLineNumber;let s=this._selection.endLineNumber;1===this._selection.endColumn&&i!==s&&(s-=1);var{tabSize:l,indentSize:h,insertSpaces:u}=this._opts,g=i===s;if(this._opts.useTabStops){this._selection.isEmpty()&&/^\s*$/.test(e.getLineContent(i))&&(this._useLastEditRangeForCursorEndPosition=!0);let c=0,p=0;for(let f=i;f<=s;f++,c=p){p=0;let s=e.getLineContent(f),m=n.u(s);if((!this._opts.isUnshift||0!==s.length&&0!==m)&&(g||this._opts.isUnshift||0!==s.length)){if(-1===m&&(m=s.length),1<f)if(o.a.visibleColumnFromColumn(s,m+1,l)%h!=0&&e.isCheapToTokenize(f-1)){let t=a.b.getEnterAction(this._opts.autoIndent,e,new r.a(f-1,e.getLineMaxColumn(f-1),f-1,e.getLineMaxColumn(f-1)));if(t){if(p=c,t.appendText)for(let e=0,i=t.appendText.length;e<i&&p<h&&32===t.appendText.charCodeAt(e);e++)p++;t.removeText&&(p=Math.max(0,p-t.removeText));for(let e=0;e<p&&0!==m&&32===s.charCodeAt(m-1);e++)m--}}if(!this._opts.isUnshift||0!==m){let e;e=this._opts.isUnshift?d.unshiftIndent(s,m+1,l,h,u):d.shiftIndent(s,m+1,l,h,u),this._addEditOperation(t,new r.a(f,1,f,m+1),e),f!==i||this._selection.isEmpty()||(this._selectionStartColumnStaysPut=this._selection.startColumn<=m+1)}}}}else{!this._opts.isUnshift&&this._selection.isEmpty()&&0===e.getLineLength(i)&&(this._useLastEditRangeForCursorEndPosition=!0);var p=u?c(" ",h):"\t";for(let o=i;o<=s;o++){const s=e.getLineContent(o);let a=n.u(s);if((!this._opts.isUnshift||0!==s.length&&0!==a)&&(g||this._opts.isUnshift||0!==s.length)&&(-1===a&&(a=s.length),!this._opts.isUnshift||0!==a))if(this._opts.isUnshift){a=Math.min(a,h);for(let e=0;e<a;e++)if(9===s.charCodeAt(e)){a=e+1;break}this._addEditOperation(t,new r.a(o,1,o,a+1),"")}else this._addEditOperation(t,new r.a(o,1,o,1),p),o!==i||this._selection.isEmpty()||(this._selectionStartColumnStaysPut=1===this._selection.startColumn)}}this._selectionId=t.trackSelection(this._selection)}computeCursorState(e,t){if(this._useLastEditRangeForCursorEndPosition){var i=t.getInverseEditOperations()[0];return new s.a(i.range.endLineNumber,i.range.endColumn,i.range.endLineNumber,i.range.endColumn)}const n=t.getTrackedSelection(this._selectionId);return this._selectionStartColumnStaysPut?(t=this._selection.startColumn,n.startColumn<=t?n:0===n.getDirection()?new s.a(n.startLineNumber,t,n.endLineNumber,n.endColumn):new s.a(n.endLineNumber,n.endColumn,n.startLineNumber,t)):n}}},function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i.d(t,"b",(function(){return s}));var n,o=i(22),r=i(2);t=i(59);(i=n=n||{})[i.PRESERVE=0]="PRESERVE",i[i.LAST=1]="LAST";const s={Quickaccess:"workbench.contributions.quickaccess"};t.a.add(s.Quickaccess,new class{constructor(){this.providers=[],this.defaultProvider=void 0}registerQuickAccessProvider(e){return 0===e.prefix.length?this.defaultProvider=e:this.providers.push(e),this.providers.sort((e,t)=>t.prefix.length-e.prefix.length),Object(r.i)(()=>{this.providers.splice(this.providers.indexOf(e),1),this.defaultProvider===e&&(this.defaultProvider=void 0)})}getQuickAccessProviders(){return Object(o.e)([this.defaultProvider,...this.providers])}getQuickAccessProvider(e){return e&&this.providers.find(t=>e.startsWith(t.prefix))||this.defaultProvider}})},function(e,t,i){"use strict";i.d(t,"b",(function(){return n})),i.d(t,"a",(function(){return o})),i.d(t,"c",(function(){return r})),i.d(t,"d",(function(){return a}));const n="`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?",o=function(e=""){let t="(-?\\d*\\.\\d\\w*)|([^";for(const i of n)0<=e.indexOf(i)||(t+="\\"+i);return t+="\\s]+)",new RegExp(t,"g")}();function r(e){let t=o;if(e&&e instanceof RegExp)if(e.global)t=e;else{let i="g";e.ignoreCase&&(i+="i"),e.multiline&&(i+="m"),e.unicode&&(i+="u"),t=new RegExp(e.source,i)}return t.lastIndex=0,t}const s={maxLen:1e3,windowSize:15,timeBudget:150};function a(e,t,i,n,o=s){if(i.length>o.maxLen){let r=e-o.maxLen/2;return r<0?r=0:n+=r,a(e,t,i=i.substring(r,e+o.maxLen/2),n,o)}var r=Date.now(),l=e-1-n;let c=-1,d=null;for(let e=1;!(Date.now()-r>=o.timeBudget);e++){var h=l-o.windowSize*e;t.lastIndex=Math.max(0,h);var u=function(e,t,i,n){for(var o;o=e.exec(t);){var r=o.index||0;if(r<=i&&e.lastIndex>=i)return o;if(0<n&&n<r)return null}return null}(t,i,l,c);if(!u&&d)break;if(d=u,h<=0)break;c=h}return d?(n={word:d[0],startColumn:n+1+d.index,endColumn:n+1+d.index+d[0].length},t.lastIndex=0,n):null}},function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var n=i(6);const o=new class{constructor(){this._zoomLevel=0,this._onDidChangeZoomLevel=new n.b,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event}getZoomLevel(){return this._zoomLevel}setZoomLevel(e){e=Math.min(Math.max(-5,e),20),this._zoomLevel!==e&&(this._zoomLevel=e,this._onDidChangeZoomLevel.fire(this._zoomLevel))}}},function(e,t,i){"use strict";i.d(t,"a",(function(){return Be})),i.d(t,"b",(function(){return We})),i.d(t,"e",(function(){return He})),i.d(t,"d",(function(){return dt})),i.d(t,"c",(function(){return ft}));var n=i(1),o=i(22),r=i(38),s=i(6),a=i(2),l=(i(290),i(123));class c{constructor(e,t){this.renderer=e,this.modelProvider=t}get templateId(){return this.renderer.templateId}renderTemplate(e){return{data:this.renderer.renderTemplate(e),disposable:a.a.None}}renderElement(e,t,i,n){if(i.disposable&&i.disposable.dispose(),i.data){const t=this.modelProvider();if(t.isResolved(e))return this.renderer.renderElement(t.get(e),e,i.data,n);const o=new r.b,s=t.resolve(e,o.token);i.disposable={dispose:()=>o.cancel()},this.renderer.renderPlaceholder(e,i.data),s.then(t=>this.renderer.renderElement(t,e,i.data,n))}}disposeTemplate(e){e.disposable&&(e.disposable.dispose(),e.disposable=void 0),e.data&&(this.renderer.disposeTemplate(e.data),e.data=void 0)}}class d{constructor(e,t){this.modelProvider=e,this.accessibilityProvider=t}getWidgetAriaLabel(){return this.accessibilityProvider.getWidgetAriaLabel()}getAriaLabel(e){const t=this.modelProvider();return t.isResolved(e)?this.accessibilityProvider.getAriaLabel(t.get(e)):null}}var h=i(225);i(466);class u{constructor(e,t,i){this.columns=e,this.getColumnSize=i,this.templateId=u.TemplateId,this.renderedTemplates=new Set;const n=new Map(t.map(e=>[e.templateId,e]));this.renderers=[];for(const t of e){var o=n.get(t.templateId);if(!o)throw new Error(`Table cell renderer for template id ${t.templateId} not found.`);this.renderers.push(o)}}renderTemplate(e){var t=Object(n.q)(e,Object(n.a)(".monaco-table-tr"));const i=[],o=[];for(let e=0;e<this.columns.length;e++){const r=this.renderers[e],s=Object(n.q)(t,Object(n.a)(".monaco-table-td",{"data-col-index":e}));s.style.width=this.getColumnSize(e)+"px",i.push(s),o.push(r.renderTemplate(s))}return e={container:e,cellContainers:i,cellTemplateData:o},this.renderedTemplates.add(e),e}renderElement(e,t,i,n){for(let r=0;r<this.columns.length;r++){var o=this.columns[r].project(e);this.renderers[r].renderElement(o,t,i.cellTemplateData[r],n)}}disposeElement(e,t,i,n){for(let r=0;r<this.columns.length;r++){const s=this.renderers[r];if(s.disposeElement){var o=this.columns[r].project(e);s.disposeElement(o,t,i.cellTemplateData[r],n)}}}disposeTemplate(e){for(let t=0;t<this.columns.length;t++){this.renderers[t].disposeTemplate(e.cellTemplateData[t])}Object(n.t)(e.container),this.renderedTemplates.delete(e)}layoutColumn(e,t){for(var{cellContainers:i}of this.renderedTemplates)i[e].style.width=t+"px"}}u.TemplateId="row";class g{constructor(e,t){this.column=e,this.index=t,this._onDidLayout=new s.b,this.onDidLayout=this._onDidLayout.event,this.element=Object(n.a)(".monaco-table-th",{"data-col-index":t,title:e.tooltip},e.label)}get minimumSize(){var e;return null!==(e=this.column.minimumWidth)&&void 0!==e?e:120}get maximumSize(){var e;return null!==(e=this.column.maximumWidth)&&void 0!==e?e:Number.POSITIVE_INFINITY}get onDidChange(){var e;return null!==(e=this.column.onDidChangeWidthConstraints)&&void 0!==e?e:s.c.None}layout(e){this._onDidLayout.fire([this.index,e])}}class p{constructor(e,t,i,o,r,a){this.virtualDelegate=i,this.domId="table_id_"+ ++p.InstanceCount,this.cachedHeight=0,this.domNode=Object(n.q)(t,Object(n.a)(".monaco-table."+this.domId));const c=o.map((e,t)=>new g(e,t));var d;t={size:c.reduce((e,t)=>e+t.column.weight,0),views:c.map(e=>({size:e.column.weight,view:e}))};this.splitview=new h.b(this.domNode,{orientation:1,scrollbarVisibility:2,getSashOrthogonalSize:()=>this.cachedHeight,descriptor:t}),this.splitview.el.style.height=i.headerRowHeight+"px",this.splitview.el.style.lineHeight=i.headerRowHeight+"px";const f=new u(o,r,e=>this.splitview.getViewSize(e));this.list=new l.c(e,this.domNode,(d=i,{getHeight:e=>d.getHeight(e),getTemplateId:()=>u.TemplateId}),[f],a),this.columnLayoutDisposable=s.c.any(...c.map(e=>e.onDidLayout))(([e,t])=>f.layoutColumn(e,t)),this.styleElement=Object(n.w)(this.domNode),this.style({})}get onDidChangeFocus(){return this.list.onDidChangeFocus}get onDidChangeSelection(){return this.list.onDidChangeSelection}get onMouseDblClick(){return this.list.onMouseDblClick}get onPointer(){return this.list.onPointer}get onDidFocus(){return this.list.onDidFocus}get onDidDispose(){return this.list.onDidDispose}updateOptions(e){this.list.updateOptions(e)}splice(e,t,i=[]){this.list.splice(e,t,i)}getHTMLElement(){return this.domNode}style(e){const t=[];t.push(`.monaco-table.${this.domId} > .monaco-split-view2 .monaco-sash.vertical::before {\n\t\t\ttop: ${this.virtualDelegate.headerRowHeight+1}px;\n\t\t\theight: calc(100% - ${this.virtualDelegate.headerRowHeight}px);\n\t\t}`),this.styleElement.textContent=t.join("\n"),this.list.style(e)}getSelectedElements(){return this.list.getSelectedElements()}getSelection(){return this.list.getSelection()}getFocus(){return this.list.getFocus()}dispose(){this.splitview.dispose(),this.list.dispose(),this.columnLayoutDisposable.dispose()}}p.InstanceCount=0;var f,m=i(200),v=i(153),b=i(69),_=i(67);(Re=f=f||{})[Re.Unknown=0]="Unknown",Re[Re.Twistie=1]="Twistie",Re[Re.Element=2]="Element";class w extends Error{constructor(e,t){super(`TreeError [${e}] ${t}`)}}class C{constructor(e){this.fn=e,this._map=new WeakMap}map(e){let t=this._map.get(e);return t||(t=this.fn(e),this._map.set(e,t)),t}}var y=i(195),x=i(54);function S(e){return"object"==typeof e&&"visibility"in e&&"data"in e}function k(e){switch(e){case!0:return 1;case!1:return 0;default:return e}}function D(e){return"boolean"==typeof e.collapsible}class L{constructor(e,t,i,n={}){this.user=e,this.list=t,this.rootRef=[],this.eventBufferer=new s.d,this._onDidChangeCollapseState=new s.b,this.onDidChangeCollapseState=this.eventBufferer.wrapEvent(this._onDidChangeCollapseState.event),this._onDidChangeRenderNodeCount=new s.b,this.onDidChangeRenderNodeCount=this.eventBufferer.wrapEvent(this._onDidChangeRenderNodeCount.event),this._onDidSplice=new s.b,this.onDidSplice=this._onDidSplice.event,this.collapseByDefault=void 0!==n.collapseByDefault&&n.collapseByDefault,this.filter=n.filter,this.autoExpandSingleChildren=void 0!==n.autoExpandSingleChildren&&n.autoExpandSingleChildren,this.root={parent:void 0,element:i,children:[],depth:0,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:!1,collapsed:!1,renderNodeCount:0,visibility:1,visible:!0,filterData:void 0}}splice(e,t,i=x.a.empty(),n={}){if(0===e.length)throw new w(this.user,"Invalid tree location");n.diffIdentityProvider?this.spliceSmart(n.diffIdentityProvider,e,t,i,n):this.spliceSimple(e,t,i,n)}spliceSmart(e,t,i,n,o,r){var s;void 0===n&&(n=x.a.empty()),void 0===r&&(r=null!==(s=o.diffDepth)&&void 0!==s?s:0);const{parentNode:a}=this.getParentNodeWithListIndex(t);if(!a.lastDiffIds)return this.spliceSimple(t,i,n,o);const l=[...n],c=t[t.length-1],d=new y.a({getElements:()=>a.lastDiffIds},{getElements:()=>[...a.children.slice(0,c),...l,...a.children.slice(c+i)].map(t=>e.getId(t.element).toString())}).ComputeDiff(!1);if(d.quitEarly)return a.lastDiffIds=void 0,this.spliceSimple(t,i,l,o);const h=t.slice(0,-1);var u=(t,i,n)=>{if(0<r)for(let s=0;s<n;s++)t--,i--,this.spliceSmart(e,[...h,t,0],Number.MAX_SAFE_INTEGER,l[i].children,o,r-1)};let g=Math.min(a.children.length,c+i),p=l.length;for(const e of d.changes.sort((e,t)=>t.originalStart-e.originalStart))u(g,p,g-(e.originalStart+e.originalLength)),g=e.originalStart,p=e.modifiedStart-c,this.spliceSimple([...h,g],e.originalLength,x.a.slice(l,p,p+e.modifiedLength),o);u(g,p,g)}spliceSimple(e,t,i=x.a.empty(),{onDidCreateNode:n,onDidDeleteNode:r,diffIdentityProvider:s}){const{parentNode:a,listIndex:l,revealed:c,visible:d}=this.getParentNodeWithListIndex(e),h=[];var u=x.a.map(i,e=>this.createTreeNode(e,a,a.visible?1:0,c,h,n)),g=e[e.length-1];i=0<a.children.length;let p=0;for(let e=g;0<=e&&e<a.children.length;e--){var f=a.children[e];if(f.visible){p=f.visibleChildIndex;break}}const m=[];let v=0,b=0;for(const e of u)m.push(e),b+=e.renderNodeCount,e.visible&&(e.visibleChildIndex=p+v++);const _=Object(o.s)(a.children,g,t,m);s?a.lastDiffIds?Object(o.s)(a.lastDiffIds,g,t,m.map(e=>s.getId(e.element).toString())):a.lastDiffIds=a.children.map(e=>s.getId(e.element).toString()):a.lastDiffIds=void 0;let w=0;for(const e of _)e.visible&&w++;if(0!==w)for(let e=g+m.length;e<a.children.length;e++){const t=a.children[e];t.visible&&(t.visibleChildIndex-=w)}if(a.visibleChildrenCount+=v-w,c&&d&&(C=_.reduce((e,t)=>e+(t.visible?t.renderNodeCount:0),0),this._updateAncestorsRenderNodeCount(a,b-C),this.list.splice(l,C,h)),0<_.length&&r){const e=t=>{r(t),t.children.forEach(e)};_.forEach(e)}var C=0<a.children.length;i!=C&&this.setCollapsible(e.slice(0,-1),C),this._onDidSplice.fire({insertedNodes:m,deletedNodes:_});let y=a;for(;y;){if(2===y.visibility){this.refilter();break}y=y.parent}}rerender(e){if(0===e.length)throw new w(this.user,"Invalid tree location");var{node:t,listIndex:i,revealed:e}=this.getTreeNodeWithListIndex(e);t.visible&&e&&this.list.splice(i,1,[t])}has(e){return this.hasTreeNode(e)}getListIndex(e){var{listIndex:t,visible:i,revealed:e}=this.getTreeNodeWithListIndex(e);return i&&e?t:-1}getListRenderCount(e){return this.getTreeNode(e).renderNodeCount}isCollapsible(e){return this.getTreeNode(e).collapsible}setCollapsible(e,t){var i=this.getTreeNode(e);const n={collapsible:t=void 0===t?!i.collapsible:t};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(e,n))}isCollapsed(e){return this.getTreeNode(e).collapsed}setCollapsed(e,t,i){var n=this.getTreeNode(e);const o={collapsed:t=void 0===t?!n.collapsed:t,recursive:i||!1};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(e,o))}_setCollapseState(e,t){var{node:i,listIndex:n,revealed:o}=this.getTreeNodeWithListIndex(e),o=this._setListNodeCollapseState(i,n,o,t);if(i!==this.root&&this.autoExpandSingleChildren&&o&&!D(t)&&i.collapsible&&!i.collapsed&&!t.recursive){let n=-1;for(let e=0;e<i.children.length;e++)if(i.children[e].visible){if(-1<n){n=-1;break}n=e}-1<n&&this._setCollapseState([...e,n],t)}return o}_setListNodeCollapseState(e,t,i,n){if(n=this._setNodeCollapseState(e,n,!1),!i||!e.visible||!n)return n;i=e.renderNodeCount;const o=this.updateNodeAfterCollapseChange(e);return this.list.splice(t+1,i-(-1===t?0:1),o.slice(1)),n}_setNodeCollapseState(e,t,i){let n;if(e===this.root?n=!1:(D(t)?(n=e.collapsible!==t.collapsible,e.collapsible=t.collapsible):e.collapsible?(n=e.collapsed!==t.collapsed,e.collapsed=t.collapsed):n=!1,n&&this._onDidChangeCollapseState.fire({node:e,deep:i})),!D(t)&&t.recursive)for(const i of e.children)n=this._setNodeCollapseState(i,t,!0)||n;return n}expandTo(e){this.eventBufferer.bufferEvents(()=>{let t=this.getTreeNode(e);for(;t.parent;)t=t.parent,e=e.slice(0,e.length-1),t.collapsed&&this._setCollapseState(e,{collapsed:!1,recursive:!1})})}refilter(){var e=this.root.renderNodeCount,t=this.updateNodeAfterFilterChange(this.root);this.list.splice(0,e,t)}createTreeNode(e,t,i,n,o,r){const s={parent:t,element:e.element,children:[],depth:t.depth+1,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:"boolean"==typeof e.collapsible?e.collapsible:void 0!==e.collapsed,collapsed:void 0===e.collapsed?this.collapseByDefault:e.collapsed,renderNodeCount:1,visibility:1,visible:!0,filterData:void 0},a=this._filterNode(s,i);s.visibility=a,n&&o.push(s),e=e.children||x.a.empty();const l=n&&0!==a&&!s.collapsed;let c=0,d=1;for(const t of x.a.map(e,e=>this.createTreeNode(e,s,a,l,o,r)))s.children.push(t),d+=t.renderNodeCount,t.visible&&(t.visibleChildIndex=c++);return s.collapsible=s.collapsible||0<s.children.length,s.visibleChildrenCount=c,s.visible=2===a?0<c:1===a,s.visible?s.collapsed||(s.renderNodeCount=d):(s.renderNodeCount=0,n&&o.pop()),r&&r(s),s}updateNodeAfterCollapseChange(e){var t=e.renderNodeCount,i=[];return this._updateNodeAfterCollapseChange(e,i),this._updateAncestorsRenderNodeCount(e.parent,i.length-t),i}_updateNodeAfterCollapseChange(e,t){if(!1===e.visible)return 0;if(t.push(e),e.renderNodeCount=1,!e.collapsed)for(const i of e.children)e.renderNodeCount+=this._updateNodeAfterCollapseChange(i,t);return this._onDidChangeRenderNodeCount.fire(e),e.renderNodeCount}updateNodeAfterFilterChange(e){var t=e.renderNodeCount,i=[];return this._updateNodeAfterFilterChange(e,e.visible?1:0,i),this._updateAncestorsRenderNodeCount(e.parent,i.length-t),i}_updateNodeAfterFilterChange(e,t,i,n=!0){let o;if(e!==this.root){if(o=this._filterNode(e,t),0===o)return e.visible=!1,e.renderNodeCount=0,!1;n&&i.push(e)}t=i.length,e.renderNodeCount=e===this.root?0:1;let r=!1;if(e.collapsed&&0===o)e.visibleChildrenCount=0;else{let t=0;for(const s of e.children)r=this._updateNodeAfterFilterChange(s,o,i,n&&!e.collapsed)||r,s.visible&&(s.visibleChildIndex=t++);e.visibleChildrenCount=t}return e!==this.root&&(e.visible=2===o?r:1===o,e.visibility=o),e.visible?e.collapsed||(e.renderNodeCount+=i.length-t):(e.renderNodeCount=0,n&&i.pop()),this._onDidChangeRenderNodeCount.fire(e),e.visible}_updateAncestorsRenderNodeCount(e,t){if(0!==t)for(;e;)e.renderNodeCount+=t,this._onDidChangeRenderNodeCount.fire(e),e=e.parent}_filterNode(e,t){return"boolean"==typeof(t=this.filter?this.filter.filter(e.element,t):1)?(e.filterData=void 0,t?1:0):S(t)?(e.filterData=t.data,k(t.visibility)):(e.filterData=void 0,k(t))}hasTreeNode(e,t=this.root){if(!e||0===e.length)return!0;var[i,...e]=e;return!(i<0||i>t.children.length)&&this.hasTreeNode(e,t.children[i])}getTreeNode(e,t=this.root){if(!e||0===e.length)return t;var[i,...e]=e;if(i<0||i>t.children.length)throw new w(this.user,"Invalid tree location");return this.getTreeNode(e,t.children[i])}getTreeNodeWithListIndex(e){if(0===e.length)return{node:this.root,listIndex:-1,revealed:!0,visible:!1};var{parentNode:t,listIndex:i,revealed:n,visible:o}=this.getParentNodeWithListIndex(e);if((e=e[e.length-1])<0||e>t.children.length)throw new w(this.user,"Invalid tree location");return{node:e=t.children[e],listIndex:i,revealed:n,visible:o&&e.visible}}getParentNodeWithListIndex(e,t=this.root,i=0,n=!0,o=!0){var[r,...e]=e;if(r<0||r>t.children.length)throw new w(this.user,"Invalid tree location");for(let e=0;e<r;e++)i+=t.children[e].renderNodeCount;return n=n&&!t.collapsed,o=o&&t.visible,0===e.length?{parentNode:t,listIndex:i,revealed:n,visible:o}:this.getParentNodeWithListIndex(e,t.children[r],i+1,n,o)}getNode(e=[]){return this.getTreeNode(e)}getNodeLocation(e){const t=[];let i=e;for(;i.parent;)t.push(i.parent.children.indexOf(i)),i=i.parent;return t.reverse()}getParentNodeLocation(e){if(0!==e.length)return 1===e.length?[]:Object(o.u)(e)[0]}}var O=i(23);const E=Object(O.e)("tree-item-expanded",O.b.chevronDown),N=Object(O.e)("tree-filter-on-type-on",O.b.listFilter),I=Object(O.e)("tree-filter-on-type-off",O.b.listSelection),T=Object(O.e)("tree-filter-clear",O.b.close),M=Object(O.e)("tree-item-loading",O.b.loading);var A,P=i(18),R=i(253),F=i(83),j=i(129),B=i(15),W=(i(468),i(0));class V extends m.a{constructor(e){super(e.elements.map(e=>e.element)),this.data=e}}function z(e){return e instanceof m.a?new V(e):e}class H{constructor(e,t){this.modelProvider=e,this.dnd=t,this.autoExpandDisposable=a.a.None}getDragURI(e){return this.dnd.getDragURI(e.element)}getDragLabel(e,t){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(e.map(e=>e.element),t)}onDragStart(e,t){this.dnd.onDragStart&&this.dnd.onDragStart(z(e),t)}onDragOver(e,t,i,n,r=!0){var s=this.dnd.onDragOver(z(e),t&&t.element,i,n),a=this.autoExpandNode!==t;if(a&&(this.autoExpandDisposable.dispose(),this.autoExpandNode=t),void 0===t)return s;if(a&&"boolean"!=typeof s&&s.autoExpand&&(this.autoExpandDisposable=Object(P.i)(()=>{const e=this.modelProvider();var i=e.getNodeLocation(t);e.isCollapsed(i)&&e.setCollapsed(i,!1),this.autoExpandNode=void 0},500)),"boolean"==typeof s||!s.accept||void 0===s.bubble||s.feedback)return r?s:{accept:"boolean"==typeof s?s:s.accept,effect:"boolean"==typeof s?void 0:s.effect,feedback:[i]};if(1===s.bubble){const o=this.modelProvider(),r=o.getNodeLocation(t);var l=o.getParentNodeLocation(r);i=o.getNode(l),l=l&&o.getListIndex(l);return this.onDragOver(e,i,l,n,!1)}const c=this.modelProvider(),d=c.getNodeLocation(t);return l=c.getListIndex(d),n=c.getListRenderCount(d),Object.assign(Object.assign({},s),{feedback:Object(o.r)(l,l+n)})}drop(e,t,i,n){this.autoExpandDisposable.dispose(),this.autoExpandNode=void 0,this.dnd.drop(z(e),t&&t.element,i,n)}onDragEnd(e){this.dnd.onDragEnd&&this.dnd.onDragEnd(e)}}class U{constructor(e){this.delegate=e}getHeight(e){return this.delegate.getHeight(e.element)}getTemplateId(e){return this.delegate.getTemplateId(e.element)}hasDynamicHeight(e){return!!this.delegate.hasDynamicHeight&&this.delegate.hasDynamicHeight(e.element)}setDynamicHeight(e,t){this.delegate.setDynamicHeight&&this.delegate.setDynamicHeight(e.element,t)}}(je=A=A||{}).None="none",je.OnHover="onHover",je.Always="always";class ${constructor(e,t=[]){this._elements=t,this.onDidChange=s.c.forEach(e,e=>this._elements=e)}get elements(){return this._elements}}class K{constructor(e,t,i,n,o={}){this.renderer=e,this.modelProvider=t,this.activeNodes=n,this.renderedElements=new Map,this.renderedNodes=new Map,this.indent=K.DefaultIndent,this.hideTwistiesOfChildlessElements=!1,this.shouldRenderIndentGuides=!1,this.renderedIndentGuides=new R.a,this.activeIndentNodes=new Set,this.indentGuidesDisposable=a.a.None,this.disposables=new a.b,this.templateId=e.templateId,this.updateOptions(o),s.c.map(i,e=>e.node)(this.onDidChangeNodeTwistieState,this,this.disposables),e.onDidChangeTwistieState&&e.onDidChangeTwistieState(this.onDidChangeTwistieState,this,this.disposables)}updateOptions(e={}){var t;void 0!==e.indent&&(this.indent=Object(j.b)(e.indent,0,40)),void 0===e.renderIndentGuides||(t=e.renderIndentGuides!==A.None)!==this.shouldRenderIndentGuides&&(this.shouldRenderIndentGuides=t,this.indentGuidesDisposable.dispose(),t&&(t=new a.b,this.activeNodes.onDidChange(this._onDidChangeActiveNodes,this,t),this.indentGuidesDisposable=t,this._onDidChangeActiveNodes(this.activeNodes.elements))),void 0!==e.hideTwistiesOfChildlessElements&&(this.hideTwistiesOfChildlessElements=e.hideTwistiesOfChildlessElements)}renderTemplate(e){var t=Object(n.q)(e,Object(n.a)(".monaco-tl-row")),i=Object(n.q)(t,Object(n.a)(".monaco-tl-indent")),o=Object(n.q)(t,Object(n.a)(".monaco-tl-twistie"));t=Object(n.q)(t,Object(n.a)(".monaco-tl-contents")),t=this.renderer.renderTemplate(t);return{container:e,indent:i,twistie:o,indentGuidesDisposable:a.a.None,templateData:t}}renderElement(e,t,i,n){"number"==typeof n&&(this.renderedNodes.set(e,{templateData:i,height:n}),this.renderedElements.set(e.element,e));var o=K.DefaultIndent+(e.depth-1)*this.indent;i.twistie.style.paddingLeft=o+"px",i.indent.style.width=o+this.indent-16+"px",this.renderTwistie(e,i),"number"==typeof n&&this.renderIndentGuides(e,i),this.renderer.renderElement(e,t,i.templateData,n)}disposeElement(e,t,i,n){i.indentGuidesDisposable.dispose(),this.renderer.disposeElement&&this.renderer.disposeElement(e,t,i.templateData,n),"number"==typeof n&&(this.renderedNodes.delete(e),this.renderedElements.delete(e.element))}disposeTemplate(e){this.renderer.disposeTemplate(e.templateData)}onDidChangeTwistieState(e){(e=this.renderedElements.get(e))&&this.onDidChangeNodeTwistieState(e)}onDidChangeNodeTwistieState(e){var t=this.renderedNodes.get(e);t&&(this.renderTwistie(e,t.templateData),this._onDidChangeActiveNodes(this.activeNodes.elements),this.renderIndentGuides(e,t.templateData))}renderTwistie(e,t){t.twistie.classList.remove(...E.classNamesArray);let i=!1;this.renderer.renderTwistie&&(i=this.renderer.renderTwistie(e.element,t.twistie)),e.collapsible&&(!this.hideTwistiesOfChildlessElements||0<e.visibleChildrenCount)?(i||t.twistie.classList.add(...E.classNamesArray),t.twistie.classList.add("collapsible"),t.twistie.classList.toggle("collapsed",e.collapsed)):t.twistie.classList.remove("collapsible","collapsed"),e.collapsible?t.container.setAttribute("aria-expanded",String(!e.collapsed)):t.container.removeAttribute("aria-expanded")}renderIndentGuides(e,t){if(Object(n.t)(t.indent),t.indentGuidesDisposable.dispose(),this.shouldRenderIndentGuides){const o=new a.b,r=this.modelProvider();let s=e;for(;;){var i=r.getNodeLocation(s);if(!(i=r.getParentNodeLocation(i)))break;const e=r.getNode(i),l=Object(n.a)(".indent-guide",{style:`width: ${this.indent}px`});this.activeIndentNodes.has(e)&&l.classList.add("active"),0===t.indent.childElementCount?t.indent.appendChild(l):t.indent.insertBefore(l,t.indent.firstElementChild),this.renderedIndentGuides.add(e,l),o.add(Object(a.i)(()=>this.renderedIndentGuides.delete(e,l))),s=e}t.indentGuidesDisposable=o}}_onDidChangeActiveNodes(e){if(this.shouldRenderIndentGuides){const t=new Set,i=this.modelProvider();e.forEach(e=>{var n=i.getNodeLocation(e);try{var o=i.getParentNodeLocation(n);e.collapsible&&0<e.children.length&&!e.collapsed?t.add(e):o&&t.add(i.getNode(o))}catch(e){}}),this.activeIndentNodes.forEach(e=>{t.has(e)||this.renderedIndentGuides.forEach(e,e=>e.classList.remove("active"))}),t.forEach(e=>{this.activeIndentNodes.has(e)||this.renderedIndentGuides.forEach(e,e=>e.classList.add("active"))}),this.activeIndentNodes=t}}dispose(){this.renderedNodes.clear(),this.renderedElements.clear(),this.indentGuidesDisposable.dispose(),Object(a.f)(this.disposables)}}K.DefaultIndent=8;class q{constructor(e,t,i){this.tree=e,this.keyboardNavigationLabelProvider=t,this._filter=i,this._totalCount=0,this._matchCount=0,this._pattern="",this._lowercasePattern="",this.disposables=new a.b,e.onWillRefilter(this.reset,this,this.disposables)}get totalCount(){return this._totalCount}get matchCount(){return this._matchCount}set pattern(e){this._pattern=e,this._lowercasePattern=e.toLowerCase()}filter(e,t){if(this._filter){if(t=this._filter.filter(e,t),this.tree.options.simpleKeyboardNavigation)return t;let i;if(i="boolean"==typeof t?t?1:0:S(t)?k(t.visibility):t,0===i)return!1}if(this._totalCount++,this.tree.options.simpleKeyboardNavigation||!this._pattern)return this._matchCount++,{data:F.a.Default,visibility:!0};e=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(e);var i=Array.isArray(e)?e:[e];for(const e of i){const t=e&&e.toString();if(void 0===t)return{data:F.a.Default,visibility:!0};var n=Object(F.d)(this._pattern,this._lowercasePattern,0,t,t.toLowerCase(),0,!0);if(n)return this._matchCount++,1===i.length?{data:n,visibility:!0}:{data:{label:t,score:n},visibility:!0}}return this.tree.options.filterOnType?2:{data:F.a.Default,visibility:!0}}reset(){this._totalCount=0,this._matchCount=0}dispose(){Object(a.f)(this.disposables)}}class G{constructor(e,t,i,o,r){this.tree=e,this.view=i,this.filter=o,this.keyboardNavigationDelegate=r,this._enabled=!1,this._pattern="",this._empty=!1,this._onDidChangeEmptyState=new s.b,this.positionClassName="ne",this.automaticKeyboardNavigation=!0,this.triggered=!1,this._onDidChangePattern=new s.b,this.enabledDisposables=new a.b,this.disposables=new a.b,this.domNode=Object(n.a)(".monaco-list-type-filter."+this.positionClassName),this.domNode.draggable=!0,this.disposables.add(Object(n.i)(this.domNode,"dragstart",()=>this.onDragStart())),this.messageDomNode=Object(n.q)(i.getHTMLElement(),Object(n.a)(".monaco-list-type-filter-message")),this.labelDomNode=Object(n.q)(this.domNode,Object(n.a)("span.label")),i=Object(n.q)(this.domNode,Object(n.a)(".controls")),this._filterOnType=!!e.options.filterOnType,this.filterOnTypeDomNode=Object(n.q)(i,Object(n.a)("input.filter")),this.filterOnTypeDomNode.type="checkbox",this.filterOnTypeDomNode.checked=this._filterOnType,this.filterOnTypeDomNode.tabIndex=-1,this.updateFilterOnTypeTitleAndIcon(),this.disposables.add(Object(n.i)(this.filterOnTypeDomNode,"input",()=>this.onDidChangeFilterOnType())),this.clearDomNode=Object(n.q)(i,Object(n.a)("button.clear"+T.cssSelector)),this.clearDomNode.tabIndex=-1,this.clearDomNode.title=Object(W.a)("clear","清除"),this.keyboardNavigationEventFilter=e.options.keyboardNavigationEventFilter,t.onDidSplice(this.onDidSpliceModel,this,this.disposables),this.updateOptions(e.options)}get enabled(){return this._enabled}get pattern(){return this._pattern}get filterOnType(){return this._filterOnType}updateOptions(e){e.simpleKeyboardNavigation?this.disable():this.enable(),void 0!==e.filterOnType&&(this._filterOnType=!!e.filterOnType,this.filterOnTypeDomNode.checked=this._filterOnType,this.updateFilterOnTypeTitleAndIcon()),void 0!==e.automaticKeyboardNavigation&&(this.automaticKeyboardNavigation=e.automaticKeyboardNavigation),this.tree.refilter(),this.render(),this.automaticKeyboardNavigation||this.onEventOrInput("")}enable(){var e,t;this._enabled||(t=this.enabledDisposables.add(new b.a(this.view.getHTMLElement(),"keydown")),e=s.c.chain(t.event).filter(e=>!Object(l.e)(e.target)||e.target===this.filterOnTypeDomNode).filter(e=>"Dead"!==e.key&&!/^Media/.test(e.key)).map(e=>new _.a(e)).filter(this.keyboardNavigationEventFilter||(()=>!0)).filter(()=>this.automaticKeyboardNavigation||this.triggered).filter(e=>this.keyboardNavigationDelegate.mightProducePrintableCharacter(e)&&!(18===e.keyCode||16===e.keyCode||15===e.keyCode||17===e.keyCode)||(0<this.pattern.length||this.triggered)&&(9===e.keyCode||1===e.keyCode)&&!e.altKey&&!e.ctrlKey&&!e.metaKey||1===e.keyCode&&(B.f?e.altKey&&!e.metaKey:e.ctrlKey)&&!e.shiftKey).forEach(e=>{e.stopPropagation(),e.preventDefault()}).event,t=this.enabledDisposables.add(new b.a(this.clearDomNode,"click")),s.c.chain(s.c.any(e,t.event)).event(this.onEventOrInput,this,this.enabledDisposables),this.filter.pattern="",this.tree.refilter(),this.render(),this._enabled=!0,this.triggered=!1)}disable(){this._enabled&&(this.domNode.remove(),this.enabledDisposables.clear(),this.tree.refilter(),this.render(),this._enabled=!1,this.triggered=!1)}onEventOrInput(e){"string"==typeof e?this.onInput(e):e instanceof MouseEvent||9===e.keyCode||1===e.keyCode&&(B.f?e.altKey:e.ctrlKey)?this.onInput(""):1===e.keyCode?this.onInput(0===this.pattern.length?"":this.pattern.substr(0,this.pattern.length-1)):this.onInput(this.pattern+e.browserEvent.key)}onInput(e){const t=this.view.getHTMLElement();e&&!this.domNode.parentElement?t.append(this.domNode):!e&&this.domNode.parentElement&&(this.domNode.remove(),this.tree.domFocus()),this._pattern=e,this._onDidChangePattern.fire(e),this.filter.pattern=e,this.tree.refilter(),e&&this.tree.focusNext(0,!0,void 0,e=>!F.a.isDefault(e.filterData));var i=this.tree.getFocus();0<i.length&&(i=i[0],null===this.tree.getRelativeTop(i)&&this.tree.reveal(i,.5)),this.render(),e||(this.triggered=!1)}onDragStart(){var e=this.view.getHTMLElement();const{left:t}=Object(n.D)(e),i=e.clientWidth,o=i/2,r=this.domNode.clientWidth,s=new a.b;let l=this.positionClassName;const c=()=>{switch(l){case"nw":this.domNode.style.top="4px",this.domNode.style.left="4px";break;case"ne":this.domNode.style.top="4px",this.domNode.style.left=i-r-6+"px"}},d=()=>{this.positionClassName=l,this.domNode.className="monaco-list-type-filter "+this.positionClassName,this.domNode.style.top="",this.domNode.style.left="",Object(a.f)(s)};c(),this.domNode.classList.remove(l),this.domNode.classList.add("dragging"),s.add(Object(a.i)(()=>this.domNode.classList.remove("dragging"))),s.add(Object(n.i)(document,"dragover",e=>(e=>{e.preventDefault();var i=e.clientX-t;e.dataTransfer&&(e.dataTransfer.dropEffect="none"),l=i<o?"nw":"ne",c()})(e))),s.add(Object(n.i)(this.domNode,"dragend",()=>d())),v.c.CurrentDragAndDropData=new v.b("vscode-ui"),s.add(Object(a.i)(()=>v.c.CurrentDragAndDropData=void 0))}onDidSpliceModel(){this._enabled&&0!==this.pattern.length&&(this.tree.refilter(),this.render())}onDidChangeFilterOnType(){this.tree.updateOptions({filterOnType:this.filterOnTypeDomNode.checked}),this.tree.refilter(),this.tree.domFocus(),this.render(),this.updateFilterOnTypeTitleAndIcon()}updateFilterOnTypeTitleAndIcon(){this.filterOnType?(this.filterOnTypeDomNode.classList.remove(...I.classNamesArray),this.filterOnTypeDomNode.classList.add(...N.classNamesArray),this.filterOnTypeDomNode.title=Object(W.a)("disable filter on type","Disable Filter on Type")):(this.filterOnTypeDomNode.classList.remove(...N.classNamesArray),this.filterOnTypeDomNode.classList.add(...I.classNamesArray),this.filterOnTypeDomNode.title=Object(W.a)("enable filter on type","Enable Filter on Type"))}render(){var e=0<this.filter.totalCount&&0===this.filter.matchCount;this.pattern&&this.tree.options.filterOnType&&e?(this.messageDomNode.textContent=Object(W.a)("empty","No elements found"),this._empty=!0):(this.messageDomNode.innerText="",this._empty=!1),this.domNode.classList.toggle("no-matches",e),this.domNode.title=Object(W.a)("found","Matched {0} out of {1} elements",this.filter.matchCount,this.filter.totalCount),this.labelDomNode.textContent=16<this.pattern.length?"…"+this.pattern.substr(this.pattern.length-16):this.pattern,this._onDidChangeEmptyState.fire(this._empty)}shouldAllowFocus(e){return!(this.enabled&&this.pattern&&!this.filterOnType)||0<this.filter.totalCount&&this.filter.matchCount<=1||!F.a.isDefault(e.filterData)}dispose(){this._enabled&&(this.domNode.remove(),this.enabledDisposables.dispose(),this._enabled=!1,this.triggered=!1),this._onDidChangePattern.dispose(),Object(a.f)(this.disposables)}}function Y(e){let t=f.Unknown;return Object(n.J)(e.browserEvent.target,"monaco-tl-twistie","monaco-tl-row")?t=f.Twistie:Object(n.J)(e.browserEvent.target,"monaco-tl-contents","monaco-tl-row")&&(t=f.Element),{browserEvent:e.browserEvent,element:e.element?e.element.element:null,target:t}}function Z(e,t){t(e),e.children.forEach(e=>Z(e,t))}class X{constructor(e,t){this.getFirstViewElementWithTrait=e,this.identityProvider=t,this.nodes=[],this._onDidChange=new s.b,this.onDidChange=this._onDidChange.event}get nodeSet(){return this._nodeSet||(this._nodeSet=this.createNodeSet()),this._nodeSet}set(e,t){(null!=t&&t.__forceEvent||!Object(o.g)(this.nodes,e))&&this._set(e,!1,t)}_set(e,t,i){if(this.nodes=[...e],this.elements=void 0,this._nodeSet=void 0,!t){const e=this;this._onDidChange.fire({get elements(){return e.get()},browserEvent:i})}}get(){return this.elements||(this.elements=this.nodes.map(e=>e.element)),[...this.elements]}getNodes(){return this.nodes}has(e){return this.nodeSet.has(e)}onDidModelSplice({insertedNodes:e,deletedNodes:t}){if(!this.identityProvider){const e=this.createNodeSet(),i=t=>e.delete(t);return t.forEach(e=>Z(e,i)),void this.set([...e.values()])}const i=new Set,n=e=>i.add(this.identityProvider.getId(e.element).toString());t.forEach(e=>Z(e,n));const o=new Map,r=e=>o.set(this.identityProvider.getId(e.element).toString(),e);e.forEach(e=>Z(e,r));const s=[];for(const e of this.nodes){var a=this.identityProvider.getId(e.element).toString();i.has(a)?(a=o.get(a))&&s.push(a):s.push(e)}0<this.nodes.length&&0===s.length&&(e=this.getFirstViewElementWithTrait())&&s.push(e),this._set(s,!0)}createNodeSet(){const e=new Set;for(const t of this.nodes)e.add(t);return e}}class Q extends l.d{constructor(e,t){super(e),this.tree=t}onViewPointer(e){if(!Object(l.e)(e.browserEvent.target)&&!Object(l.f)(e.browserEvent.target)){if(!(n=e.element))return super.onViewPointer(e);if(this.isSelectionRangeChangeEvent(e)||this.isSelectionSingleChangeEvent(e))return super.onViewPointer(e);const o=e.browserEvent.target;var t=o.classList.contains("monaco-tl-twistie")||o.classList.contains("monaco-icon-label")&&o.classList.contains("folder-icon")&&e.browserEvent.offsetX<16;let r=!1;if(r="function"==typeof this.tree.expandOnlyOnTwistieClick?this.tree.expandOnlyOnTwistieClick(n.element):!!this.tree.expandOnlyOnTwistieClick,r&&!t&&2!==e.browserEvent.detail)return super.onViewPointer(e);if(!this.tree.expandOnDoubleClick&&2===e.browserEvent.detail)return super.onViewPointer(e);if(n.collapsible){const o=this.tree.model;var i=o.getNodeLocation(n),n=e.browserEvent.altKey;if(this.tree.setFocus([i]),o.setCollapsed(i,void 0,n),r&&t)return}super.onViewPointer(e)}}onDoubleClick(e){!e.browserEvent.target.classList.contains("monaco-tl-twistie")&&this.tree.expandOnDoubleClick&&super.onDoubleClick(e)}}class J extends l.c{constructor(e,t,i,n,o,r,s,a){super(e,t,i,n,a),this.focusTrait=o,this.selectionTrait=r,this.anchorTrait=s}createMouseController(e){return new Q(this,e.tree)}splice(e,t,i=[]){if(super.splice(e,t,i),0!==i.length){const t=[],n=[];let r;i.forEach((i,o)=>{this.focusTrait.has(i)&&t.push(e+o),this.selectionTrait.has(i)&&n.push(e+o),this.anchorTrait.has(i)&&(r=e+o)}),0<t.length&&super.setFocus(Object(o.f)([...super.getFocus(),...t])),0<n.length&&super.setSelection(Object(o.f)([...super.getSelection(),...n])),"number"==typeof r&&super.setAnchor(r)}}setFocus(e,t,i=!1){super.setFocus(e,t),i||this.focusTrait.set(e.map(e=>this.element(e)),t)}setSelection(e,t,i=!1){super.setSelection(e,t),i||this.selectionTrait.set(e.map(e=>this.element(e)),t)}setAnchor(e,t=!1){super.setAnchor(e),t||(void 0===e?this.anchorTrait.set([]):this.anchorTrait.set([this.element(e)]))}}class ee{constructor(e,t,i,o,r={}){this._options=r,this.eventBufferer=new s.d,this.disposables=new a.b,this._onWillRefilter=new s.b,this.onWillRefilter=this._onWillRefilter.event,this._onDidUpdateOptions=new s.b;var c,d,h;i=new U(i);const u=new s.f,g=new s.f,p=new $(g.event);for(c of(this.renderers=o.map(e=>new K(e,()=>this.model,u.event,p,r)),this.renderers))this.disposables.add(c);let f;r.keyboardNavigationLabelProvider&&(f=new q(this,r.keyboardNavigationLabelProvider,r.filter),r=Object.assign(Object.assign({},r),{filter:f}),this.disposables.add(f)),this.focus=new X(()=>this.view.getFocusedElements()[0],r.identityProvider),this.selection=new X(()=>this.view.getSelectedElements()[0],r.identityProvider),this.anchor=new X(()=>this.view.getAnchorElement(),r.identityProvider),this.view=new J(e,t,i,this.renderers,this.focus,this.selection,this.anchor,Object.assign(Object.assign({},(d=()=>this.model,(h=r)&&Object.assign(Object.assign({},h),{identityProvider:h.identityProvider&&{getId:e=>h.identityProvider.getId(e.element)},dnd:h.dnd&&new H(d,h.dnd),multipleSelectionController:h.multipleSelectionController&&{isSelectionSingleChangeEvent:e=>h.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},e),{element:e.element})),isSelectionRangeChangeEvent:e=>h.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},e),{element:e.element}))},accessibilityProvider:h.accessibilityProvider&&Object.assign(Object.assign({},h.accessibilityProvider),{getSetSize(e){const t=d();return e=t.getNodeLocation(e),e=t.getParentNodeLocation(e),t.getNode(e).visibleChildrenCount},getPosInSet:e=>e.visibleChildIndex+1,isChecked:h.accessibilityProvider&&h.accessibilityProvider.isChecked?e=>h.accessibilityProvider.isChecked(e.element):void 0,getRole:h.accessibilityProvider&&h.accessibilityProvider.getRole?e=>h.accessibilityProvider.getRole(e.element):()=>"treeitem",getAriaLabel:e=>h.accessibilityProvider.getAriaLabel(e.element),getWidgetAriaLabel:()=>h.accessibilityProvider.getWidgetAriaLabel(),getWidgetRole:h.accessibilityProvider&&h.accessibilityProvider.getWidgetRole?()=>h.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:h.accessibilityProvider&&h.accessibilityProvider.getAriaLevel?e=>h.accessibilityProvider.getAriaLevel(e.element):e=>e.depth,getActiveDescendantId:h.accessibilityProvider.getActiveDescendantId&&(e=>h.accessibilityProvider.getActiveDescendantId(e.element))}),keyboardNavigationLabelProvider:h.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},h.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel:e=>h.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(e.element)}),enableKeyboardNavigation:h.simpleKeyboardNavigation}))),{tree:this})),this.model=this.createModel(e,this.view,r),u.input=this.model.onDidChangeCollapseState;const m=s.c.forEach(this.model.onDidSplice,e=>{this.eventBufferer.bufferEvents(()=>{this.focus.onDidModelSplice(e),this.selection.onDidModelSplice(e)})});if(m(()=>null,null,this.disposables),g.input=s.c.chain(s.c.any(m,this.focus.onDidChange,this.selection.onDidChange)).debounce(()=>null,0).map(()=>{const e=new Set;for(const t of this.focus.getNodes())e.add(t);for(const t of this.selection.getNodes())e.add(t);return[...e.values()]}).event,!1!==r.keyboardSupport){const e=s.c.chain(this.view.onKeyDown).filter(e=>!Object(l.e)(e.target)).map(e=>new _.a(e));e.filter(e=>15===e.keyCode).on(this.onLeftArrow,this,this.disposables),e.filter(e=>17===e.keyCode).on(this.onRightArrow,this,this.disposables),e.filter(e=>10===e.keyCode).on(this.onSpace,this,this.disposables)}if(r.keyboardNavigationLabelProvider){const e=r.keyboardNavigationDelegate||l.a;this.typeFilterController=new G(this,this.model,this.view,f,e),this.focusNavigationFilter=e=>this.typeFilterController.shouldAllowFocus(e),this.disposables.add(this.typeFilterController)}this.styleElement=Object(n.w)(this.view.getHTMLElement()),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===A.Always)}get onDidChangeFocus(){return this.eventBufferer.wrapEvent(this.focus.onDidChange)}get onDidChangeSelection(){return this.eventBufferer.wrapEvent(this.selection.onDidChange)}get onMouseDblClick(){return s.c.map(this.view.onMouseDblClick,Y)}get onPointer(){return s.c.map(this.view.onPointer,Y)}get onDidFocus(){return this.view.onDidFocus}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get expandOnDoubleClick(){return void 0===this._options.expandOnDoubleClick||this._options.expandOnDoubleClick}get expandOnlyOnTwistieClick(){return void 0===this._options.expandOnlyOnTwistieClick||this._options.expandOnlyOnTwistieClick}get onDidDispose(){return this.view.onDidDispose}updateOptions(e={}){this._options=Object.assign(Object.assign({},this._options),e);for(const t of this.renderers)t.updateOptions(e);this.view.updateOptions(Object.assign(Object.assign({},this._options),{enableKeyboardNavigation:this._options.simpleKeyboardNavigation})),this.typeFilterController&&this.typeFilterController.updateOptions(this._options),this._onDidUpdateOptions.fire(this._options),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===A.Always)}get options(){return this._options}getHTMLElement(){return this.view.getHTMLElement()}get scrollTop(){return this.view.scrollTop}set scrollTop(e){this.view.scrollTop=e}domFocus(){this.view.domFocus()}layout(e,t){this.view.layout(e,t)}style(e){var t="."+this.view.domId;const i=[];e.treeIndentGuidesStroke&&(i.push(`.monaco-list${t}:hover .monaco-tl-indent > .indent-guide, .monaco-list${t}.always .monaco-tl-indent > .indent-guide  { border-color: ${e.treeIndentGuidesStroke.transparent(.4)}; }`),i.push(`.monaco-list${t} .monaco-tl-indent > .indent-guide.active { border-color: ${e.treeIndentGuidesStroke}; }`)),this.styleElement.textContent=i.join("\n"),this.view.style(e)}collapse(e,t=!1){return this.model.setCollapsed(e,!0,t)}expand(e,t=!1){return this.model.setCollapsed(e,!1,t)}isCollapsible(e){return this.model.isCollapsible(e)}setCollapsible(e,t){return this.model.setCollapsible(e,t)}isCollapsed(e){return this.model.isCollapsed(e)}refilter(){this._onWillRefilter.fire(void 0),this.model.refilter()}setSelection(e,t){var i=e.map(e=>this.model.getNode(e));this.selection.set(i,t),e=e.map(e=>this.model.getListIndex(e)).filter(e=>-1<e),this.view.setSelection(e,t,!0)}getSelection(){return this.selection.get()}setFocus(e,t){var i=e.map(e=>this.model.getNode(e));this.focus.set(i,t),e=e.map(e=>this.model.getListIndex(e)).filter(e=>-1<e),this.view.setFocus(e,t,!0)}focusNext(e=1,t=!1,i,n=this.focusNavigationFilter){this.view.focusNext(e,t,i,n)}getFocus(){return this.focus.get()}reveal(e,t){this.model.expandTo(e),-1!==(e=this.model.getListIndex(e))&&this.view.reveal(e,t)}getRelativeTop(e){return-1===(e=this.model.getListIndex(e))?null:this.view.getRelativeTop(e)}onLeftArrow(e){e.preventDefault(),e.stopPropagation(),0!==(e=this.view.getFocusedElements()).length&&(e=e[0],e=this.model.getNodeLocation(e),this.model.setCollapsed(e,!0)||(e=this.model.getParentNodeLocation(e))&&(e=this.model.getListIndex(e),this.view.reveal(e),this.view.setFocus([e])))}onRightArrow(e){if(e.preventDefault(),e.stopPropagation(),0!==(e=this.view.getFocusedElements()).length){const t=e[0];e=this.model.getNodeLocation(t),this.model.setCollapsed(e,!1)||t.children.some(e=>e.visible)&&([e]=this.view.getFocus(),this.view.reveal(e+=1),this.view.setFocus([e]))}}onSpace(e){e.preventDefault(),e.stopPropagation();var t=this.view.getFocusedElements();0!==t.length&&(t=t[0],t=this.model.getNodeLocation(t),e=e.browserEvent.altKey,this.model.setCollapsed(t,void 0,e))}dispose(){Object(a.f)(this.disposables),this.view.dispose()}}class te{constructor(e,t,i={}){this.user=e,this.rootRef=null,this.nodes=new Map,this.nodesByIdentity=new Map,this.model=new L(e,t,null,i),this.onDidSplice=this.model.onDidSplice,this.onDidChangeCollapseState=this.model.onDidChangeCollapseState,this.onDidChangeRenderNodeCount=this.model.onDidChangeRenderNodeCount,i.sorter&&(this.sorter={compare:(e,t)=>i.sorter.compare(e.element,t.element)}),this.identityProvider=i.identityProvider}setChildren(e,t=x.a.empty(),i={}){e=this.getElementLocation(e),this._setChildren(e,this.preserveCollapseState(t),i)}_setChildren(e,t=x.a.empty(),i){const n=new Set,o=new Set;this.model.splice([...e,0],Number.MAX_VALUE,t,Object.assign(Object.assign({},i),{onDidCreateNode:e=>{var t;null!==e.element&&(e=e,n.add(e.element),this.nodes.set(e.element,e),this.identityProvider&&(t=this.identityProvider.getId(e.element).toString(),o.add(t),this.nodesByIdentity.set(t,e)),null!==(t=i.onDidCreateNode)&&void 0!==t&&t.call(i,e))},onDidDeleteNode:e=>{var t;null!==e.element&&(e=e,n.has(e.element)||this.nodes.delete(e.element),this.identityProvider&&(t=this.identityProvider.getId(e.element).toString(),o.has(t)||this.nodesByIdentity.delete(t)),null!==(t=i.onDidDeleteNode)&&void 0!==t&&t.call(i,e))}}))}preserveCollapseState(e=x.a.empty()){return this.sorter&&(e=[...e].sort(this.sorter.compare.bind(this.sorter))),x.a.map(e,e=>{let t=this.nodes.get(e.element);if(!t&&this.identityProvider&&(n=this.identityProvider.getId(e.element).toString(),t=this.nodesByIdentity.get(n)),!t)return Object.assign(Object.assign({},e),{children:this.preserveCollapseState(e.children)});var i=("boolean"==typeof e.collapsible?e:t).collapsible,n=(void 0!==e.collapsed?e:t).collapsed;return Object.assign(Object.assign({},e),{collapsible:i,collapsed:n,children:this.preserveCollapseState(e.children)})})}rerender(e){e=this.getElementLocation(e),this.model.rerender(e)}has(e){return this.nodes.has(e)}getListIndex(e){return e=this.getElementLocation(e),this.model.getListIndex(e)}getListRenderCount(e){return e=this.getElementLocation(e),this.model.getListRenderCount(e)}isCollapsible(e){return e=this.getElementLocation(e),this.model.isCollapsible(e)}setCollapsible(e,t){return e=this.getElementLocation(e),this.model.setCollapsible(e,t)}isCollapsed(e){return e=this.getElementLocation(e),this.model.isCollapsed(e)}setCollapsed(e,t,i){return e=this.getElementLocation(e),this.model.setCollapsed(e,t,i)}expandTo(e){e=this.getElementLocation(e),this.model.expandTo(e)}refilter(){this.model.refilter()}getNode(e=null){if(null===e)return this.model.getNode(this.model.rootRef);var t=this.nodes.get(e);if(!t)throw new w(this.user,"Tree element not found: "+e);return t}getNodeLocation(e){return e.element}getParentNodeLocation(e){if(null===e)throw new w(this.user,"Invalid getParentNodeLocation call");var t=this.nodes.get(e);if(!t)throw new w(this.user,"Tree element not found: "+e);return t=this.model.getNodeLocation(t),t=this.model.getParentNodeLocation(t),this.model.getNode(t).element}getElementLocation(e){if(null===e)return[];var t=this.nodes.get(e);if(!t)throw new w(this.user,"Tree element not found: "+e);return this.model.getNodeLocation(t)}}function ie(e){return{element:{elements:[e.element],incompressible:e.incompressible||!1},children:x.a.map(x.a.from(e.children),ie),collapsible:e.collapsible,collapsed:e.collapsed}}function ne(e){const t=[e.element];var i=e.incompressible||!1;let n,o;for(;[o,n]=x.a.consume(x.a.from(e.children),2),1===o.length&&!o[0].incompressible;)e=o[0],t.push(e.element);return{element:{elements:t,incompressible:i},children:x.a.map(x.a.concat(o,n),ne),collapsible:e.collapsible,collapsed:e.collapsed}}function oe(e){return function e(t,i=0){let n;return n=i<t.element.elements.length-1?[e(t,i+1)]:x.a.map(x.a.from(t.children),t=>e(t,0)),0===i&&t.element.incompressible?{element:t.element.elements[i],children:n,incompressible:!0,collapsible:t.collapsible,collapsed:t.collapsed}:{element:t.element.elements[i],children:n,collapsible:t.collapsible,collapsed:t.collapsed}}(e,0)}class re{constructor(e,t,i={}){this.user=e,this.rootRef=null,this.nodes=new Map,this.model=new te(e,t,i),this.enabled=void 0===i.compressionEnabled||i.compressionEnabled,this.identityProvider=i.identityProvider}get onDidSplice(){return this.model.onDidSplice}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get onDidChangeRenderNodeCount(){return this.model.onDidChangeRenderNodeCount}setChildren(e,t=x.a.empty(),i){var n,o=i.diffIdentityProvider&&(n=i.diffIdentityProvider,{getId:e=>e.elements.map(e=>n.getId(e).toString()).join("\0")});if(null!==e){if(!(i=this.nodes.get(e)))throw new Error("Unknown compressed tree node");const n=this.model.getNode(i);i=this.model.getParentNodeLocation(i);const r=this.model.getNode(i);e=function e(t,i,n){return t.element===i?Object.assign(Object.assign({},t),{children:n}):Object.assign(Object.assign({},t),{children:x.a.map(x.a.from(t.children),t=>e(t,i,n))})}(oe(n),e,t);const s=(this.enabled?ne:ie)(e);e=r.children.map(e=>e===n?s:e),this._setChildren(r.element,e,{diffIdentityProvider:o,diffDepth:n.depth-r.depth})}else t=x.a.map(t,this.enabled?ne:ie),this._setChildren(null,t,{diffIdentityProvider:o,diffDepth:1/0})}setCompressionEnabled(e){var t;e!==this.enabled&&(this.enabled=e,t=this.model.getNode().children,t=x.a.map(t,oe),e=x.a.map(t,e?ne:ie),this._setChildren(null,e,{diffIdentityProvider:this.identityProvider,diffDepth:1/0}))}_setChildren(e,t,i){const n=new Set;this.model.setChildren(e,t,Object.assign(Object.assign({},i),{onDidCreateNode:e=>{for(const t of e.element.elements)n.add(t),this.nodes.set(t,e.element)},onDidDeleteNode:e=>{for(const t of e.element.elements)n.has(t)||this.nodes.delete(t)}}))}has(e){return this.nodes.has(e)}getListIndex(e){return e=this.getCompressedNode(e),this.model.getListIndex(e)}getListRenderCount(e){return e=this.getCompressedNode(e),this.model.getListRenderCount(e)}getNode(e){return void 0===e?this.model.getNode():(e=this.getCompressedNode(e),this.model.getNode(e))}getNodeLocation(e){return null===(e=this.model.getNodeLocation(e))?null:e.elements[e.elements.length-1]}getParentNodeLocation(e){return e=this.getCompressedNode(e),null===(e=this.model.getParentNodeLocation(e))?null:e.elements[e.elements.length-1]}isCollapsible(e){return e=this.getCompressedNode(e),this.model.isCollapsible(e)}setCollapsible(e,t){return e=this.getCompressedNode(e),this.model.setCollapsible(e,t)}isCollapsed(e){return e=this.getCompressedNode(e),this.model.isCollapsed(e)}setCollapsed(e,t,i){return e=this.getCompressedNode(e),this.model.setCollapsed(e,t,i)}expandTo(e){e=this.getCompressedNode(e),this.model.expandTo(e)}rerender(e){e=this.getCompressedNode(e),this.model.rerender(e)}refilter(){this.model.refilter()}getCompressedNode(e){if(null===e)return null;var t=this.nodes.get(e);if(!t)throw new w(this.user,"Tree element not found: "+e);return t}}const se=e=>e[e.length-1];class ae{constructor(e,t){this.unwrapper=e,this.node=t}get element(){return null===this.node.element?null:this.unwrapper(this.node.element)}get children(){return this.node.children.map(e=>new ae(this.unwrapper,e))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}class le{constructor(e,t,i={}){this.rootRef=null,this.elementMapper=i.elementMapper||se;const n=e=>this.elementMapper(e.elements);var o,r,s,a;this.nodeMapper=new C(e=>new ae(n,e)),this.model=new re(e,(s=this.nodeMapper,a=t,{splice(e,t,i){a.splice(e,t,i.map(e=>s.map(e)))},updateElementHeight(e,t){a.updateElementHeight(e,t)}}),(o=n,r=i,Object.assign(Object.assign({},r),{identityProvider:r.identityProvider&&{getId:e=>r.identityProvider.getId(o(e))},sorter:r.sorter&&{compare:(e,t)=>r.sorter.compare(e.elements[0],t.elements[0])},filter:r.filter&&{filter:(e,t)=>r.filter.filter(o(e),t)}})))}get onDidSplice(){return s.c.map(this.model.onDidSplice,({insertedNodes:e,deletedNodes:t})=>({insertedNodes:e.map(e=>this.nodeMapper.map(e)),deletedNodes:t.map(e=>this.nodeMapper.map(e))}))}get onDidChangeCollapseState(){return s.c.map(this.model.onDidChangeCollapseState,({node:e,deep:t})=>({node:this.nodeMapper.map(e),deep:t}))}get onDidChangeRenderNodeCount(){return s.c.map(this.model.onDidChangeRenderNodeCount,e=>this.nodeMapper.map(e))}setChildren(e,t=x.a.empty(),i={}){this.model.setChildren(e,t,i)}setCompressionEnabled(e){this.model.setCompressionEnabled(e)}has(e){return this.model.has(e)}getListIndex(e){return this.model.getListIndex(e)}getListRenderCount(e){return this.model.getListRenderCount(e)}getNode(e){return this.nodeMapper.map(this.model.getNode(e))}getNodeLocation(e){return e.element}getParentNodeLocation(e){return this.model.getParentNodeLocation(e)}isCollapsible(e){return this.model.isCollapsible(e)}setCollapsible(e,t){return this.model.setCollapsible(e,t)}isCollapsed(e){return this.model.isCollapsed(e)}setCollapsed(e,t,i){return this.model.setCollapsed(e,t,i)}expandTo(e){return this.model.expandTo(e)}rerender(e){return this.model.rerender(e)}refilter(){return this.model.refilter()}getCompressedTreeNode(e=null){return this.model.getNode(e)}}class ce extends ee{constructor(e,t,i,n,o={}){super(e,t,i,n,o)}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}setChildren(e,t=x.a.empty(),i){this.model.setChildren(e,t,i)}rerender(e){void 0!==e?this.model.rerender(e):this.view.rerender()}hasElement(e){return this.model.has(e)}createModel(e,t,i){return new te(e,t,i)}}class de{constructor(e,t){this._compressedTreeNodeProvider=e,this.renderer=t,this.templateId=t.templateId,t.onDidChangeTwistieState&&(this.onDidChangeTwistieState=t.onDidChangeTwistieState)}get compressedTreeNodeProvider(){return this._compressedTreeNodeProvider()}renderTemplate(e){return{compressedTreeNode:void 0,data:this.renderer.renderTemplate(e)}}renderElement(e,t,i,n){var o=this.compressedTreeNodeProvider.getCompressedTreeNode(e.element);1===o.element.elements.length?(i.compressedTreeNode=void 0,this.renderer.renderElement(e,t,i.data,n)):(i.compressedTreeNode=o,this.renderer.renderCompressedElements(o,t,i.data,n))}disposeElement(e,t,i,n){i.compressedTreeNode?this.renderer.disposeCompressedElements&&this.renderer.disposeCompressedElements(i.compressedTreeNode,t,i.data,n):this.renderer.disposeElement&&this.renderer.disposeElement(e,t,i.data,n)}disposeTemplate(e){this.renderer.disposeTemplate(e.data)}renderTwistie(e,t){return!!this.renderer.renderTwistie&&this.renderer.renderTwistie(e,t)}}!function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;0<=a;a--)(o=e[a])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);3<r&&s&&Object.defineProperty(t,i,s)}([i(92).a],de.prototype,"compressedTreeNodeProvider",null);class he extends ce{constructor(e,t,i,n,o={}){const r=()=>this;var s,a;super(e,t,i,n.map(e=>new de(r,e)),(s=r,(a=o)&&Object.assign(Object.assign({},a),{keyboardNavigationLabelProvider:a.keyboardNavigationLabelProvider&&{getKeyboardNavigationLabel(e){let t;try{t=s().getCompressedTreeNode(e)}catch(t){return a.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(e)}return 1===t.element.elements.length?a.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(e):a.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(t.element.elements)}}})))}setChildren(e,t=x.a.empty(),i){this.model.setChildren(e,t,i)}createModel(e,t,i){return new le(e,t,i)}updateOptions(e={}){super.updateOptions(e),void 0!==e.compressionEnabled&&this.model.setCompressionEnabled(e.compressionEnabled)}getCompressedTreeNode(e=null){return this.model.getCompressedTreeNode(e)}}var ue=i(17),ge=function(e,t,i,n){return new(i=i||Promise)((function(o,r){function s(e){try{l(n.next(e))}catch(e){r(e)}}function a(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):((t=e.value)instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};function pe(e){return Object.assign(Object.assign({},e),{children:[],refreshPromise:void 0,stale:!0,slow:!1,collapsedByDefault:void 0})}function fe(e,t){return!!t.parent&&(t.parent===e||fe(e,t.parent))}class me{constructor(e){this.node=e}get element(){return this.node.element.element}get children(){return this.node.children.map(e=>new me(e))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}class ve{constructor(e,t,i){this.renderer=e,this.nodeMapper=t,this.onDidChangeTwistieState=i,this.renderedNodes=new Map,this.templateId=e.templateId}renderTemplate(e){return{templateData:this.renderer.renderTemplate(e)}}renderElement(e,t,i,n){this.renderer.renderElement(this.nodeMapper.map(e),t,i.templateData,n)}renderTwistie(e,t){return e.slow?(t.classList.add(...M.classNamesArray),!0):(t.classList.remove(...M.classNamesArray),!1)}disposeElement(e,t,i,n){this.renderer.disposeElement&&this.renderer.disposeElement(this.nodeMapper.map(e),t,i.templateData,n)}disposeTemplate(e){this.renderer.disposeTemplate(e.templateData)}dispose(){this.renderedNodes.clear()}}function be(e){return{browserEvent:e.browserEvent,elements:e.elements.map(e=>e.element)}}function _e(e){return{browserEvent:e.browserEvent,element:e.element&&e.element.element,target:e.target}}class we extends m.a{constructor(e){super(e.elements.map(e=>e.element)),this.data=e}}function Ce(e){return e instanceof m.a?new we(e):e}class ye{constructor(e){this.dnd=e}getDragURI(e){return this.dnd.getDragURI(e.element)}getDragLabel(e,t){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(e.map(e=>e.element),t)}onDragStart(e,t){this.dnd.onDragStart&&this.dnd.onDragStart(Ce(e),t)}onDragOver(e,t,i,n,o=0){return this.dnd.onDragOver(Ce(e),t&&t.element,i,n)}drop(e,t,i,n){this.dnd.drop(Ce(e),t&&t.element,i,n)}onDragEnd(e){this.dnd.onDragEnd&&this.dnd.onDragEnd(e)}}function xe(e){return e&&Object.assign(Object.assign({},e),{collapseByDefault:!0,identityProvider:e.identityProvider&&{getId:t=>e.identityProvider.getId(t.element)},dnd:e.dnd&&new ye(e.dnd),multipleSelectionController:e.multipleSelectionController&&{isSelectionSingleChangeEvent:t=>e.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},t),{element:t.element})),isSelectionRangeChangeEvent:t=>e.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},t),{element:t.element}))},accessibilityProvider:e.accessibilityProvider&&Object.assign(Object.assign({},e.accessibilityProvider),{getPosInSet:void 0,getSetSize:void 0,getRole:e.accessibilityProvider.getRole?t=>e.accessibilityProvider.getRole(t.element):()=>"treeitem",isChecked:e.accessibilityProvider.isChecked?t=>{var i;return!(null===(i=e.accessibilityProvider)||void 0===i||!i.isChecked(t.element))}:void 0,getAriaLabel:t=>e.accessibilityProvider.getAriaLabel(t.element),getWidgetAriaLabel:()=>e.accessibilityProvider.getWidgetAriaLabel(),getWidgetRole:e.accessibilityProvider.getWidgetRole?()=>e.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:e.accessibilityProvider.getAriaLevel&&(t=>e.accessibilityProvider.getAriaLevel(t.element)),getActiveDescendantId:e.accessibilityProvider.getActiveDescendantId&&(t=>e.accessibilityProvider.getActiveDescendantId(t.element))}),filter:e.filter&&{filter:(t,i)=>e.filter.filter(t.element,i)},keyboardNavigationLabelProvider:e.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},e.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel:t=>e.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(t.element)}),sorter:void 0,expandOnlyOnTwistieClick:void 0===e.expandOnlyOnTwistieClick?void 0:"function"!=typeof e.expandOnlyOnTwistieClick?e.expandOnlyOnTwistieClick:t=>e.expandOnlyOnTwistieClick(t.element),additionalScrollHeight:e.additionalScrollHeight})}function Se(e,t){t(e),e.children.forEach(e=>Se(e,t))}class ke{constructor(e,t,i,n,o,r={}){this.user=e,this.dataSource=o,this.nodes=new Map,this.subTreeRefreshPromises=new Map,this.refreshPromises=new Map,this._onDidRender=new s.b,this._onDidChangeNodeSlowState=new s.b,this.nodeMapper=new C(e=>new me(e)),this.disposables=new a.b,this.identityProvider=r.identityProvider,this.autoExpandSingleChildren=void 0!==r.autoExpandSingleChildren&&r.autoExpandSingleChildren,this.sorter=r.sorter,this.collapseByDefault=r.collapseByDefault,this.tree=this.createTree(e,t,i,n,r),this.root=pe({element:void 0,parent:null,hasChildren:!0}),this.identityProvider&&(this.root=Object.assign(Object.assign({},this.root),{id:null})),this.nodes.set(null,this.root),this.tree.onDidChangeCollapseState(this._onDidChangeCollapseState,this,this.disposables)}get onDidChangeFocus(){return s.c.map(this.tree.onDidChangeFocus,be)}get onDidChangeSelection(){return s.c.map(this.tree.onDidChangeSelection,be)}get onMouseDblClick(){return s.c.map(this.tree.onMouseDblClick,_e)}get onPointer(){return s.c.map(this.tree.onPointer,_e)}get onDidFocus(){return this.tree.onDidFocus}get onDidDispose(){return this.tree.onDidDispose}createTree(e,t,i,n,o){return i=new U(i),n=n.map(e=>new ve(e,this.nodeMapper,this._onDidChangeNodeSlowState.event)),o=xe(o)||{},new ce(e,t,i,n,o)}updateOptions(e={}){this.tree.updateOptions(e)}getHTMLElement(){return this.tree.getHTMLElement()}get scrollTop(){return this.tree.scrollTop}set scrollTop(e){this.tree.scrollTop=e}domFocus(){this.tree.domFocus()}layout(e,t){this.tree.layout(e,t)}style(e){this.tree.style(e)}getInput(){return this.root.element}setInput(e,t){return ge(this,void 0,void 0,(function*(){this.refreshPromises.forEach(e=>e.cancel()),this.refreshPromises.clear(),this.root.element=e;var i=t&&{viewState:t,focus:[],selection:[]};yield this._updateChildren(e,!0,!1,i),i&&(this.tree.setFocus(i.focus),this.tree.setSelection(i.selection)),t&&"number"==typeof t.scrollTop&&(this.scrollTop=t.scrollTop)}))}_updateChildren(e=this.root.element,t=!0,i=!1,n,o){return ge(this,void 0,void 0,(function*(){if(void 0===this.root.element)throw new w(this.user,"Tree input not set");this.root.refreshPromise&&(yield this.root.refreshPromise,yield s.c.toPromise(this._onDidRender.event));var r=this.getDataNode(e);if(yield this.refreshAndRenderNode(r,t,n,o),i)try{this.tree.rerender(r)}catch(r){}}))}rerender(e){void 0!==e&&e!==this.root.element?(e=this.getDataNode(e),this.tree.rerender(e)):this.tree.rerender()}collapse(e,t=!1){return e=this.getDataNode(e),this.tree.collapse(e===this.root?null:e,t)}expand(e,t=!1){return ge(this,void 0,void 0,(function*(){if(void 0===this.root.element)throw new w(this.user,"Tree input not set");this.root.refreshPromise&&(yield this.root.refreshPromise,yield s.c.toPromise(this._onDidRender.event));var i=this.getDataNode(e);if(this.tree.hasElement(i)&&!this.tree.isCollapsible(i))return!1;if(i.refreshPromise&&(yield this.root.refreshPromise,yield s.c.toPromise(this._onDidRender.event)),i!==this.root&&!i.refreshPromise&&!this.tree.isCollapsed(i))return!1;var n=this.tree.expand(i===this.root?null:i,t);return i.refreshPromise&&(yield this.root.refreshPromise,yield s.c.toPromise(this._onDidRender.event)),n}))}setSelection(e,t){e=e.map(e=>this.getDataNode(e)),this.tree.setSelection(e,t)}getSelection(){return this.tree.getSelection().map(e=>e.element)}setFocus(e,t){e=e.map(e=>this.getDataNode(e)),this.tree.setFocus(e,t)}getFocus(){return this.tree.getFocus().map(e=>e.element)}reveal(e,t){this.tree.reveal(this.getDataNode(e),t)}getDataNode(e){var t=this.nodes.get(e===this.root.element?null:e);if(!t)throw new w(this.user,"Data tree node not found: "+e);return t}refreshAndRenderNode(e,t,i,n){return ge(this,void 0,void 0,(function*(){yield this.refreshNode(e,t,i),this.render(e,i,n)}))}refreshNode(e,t,i){return ge(this,void 0,void 0,(function*(){let n;return this.subTreeRefreshPromises.forEach((o,r)=>{var s;n||(s=r)!==(r=e)&&!fe(s,r)&&!fe(r,s)||(n=o.then(()=>this.refreshNode(e,t,i)))}),n||this.doRefreshSubTree(e,t,i)}))}doRefreshSubTree(e,t,i){return ge(this,void 0,void 0,(function*(){let n;e.refreshPromise=new Promise(e=>n=e),this.subTreeRefreshPromises.set(e,e.refreshPromise),e.refreshPromise.finally(()=>{e.refreshPromise=void 0,this.subTreeRefreshPromises.delete(e)});try{const o=yield this.doRefreshNode(e,t,i);e.stale=!1,yield P.d.settled(o.map(e=>this.doRefreshSubTree(e,t,i)))}finally{n()}}))}doRefreshNode(e,t,i){return ge(this,void 0,void 0,(function*(){let n;if(e.hasChildren=!!this.dataSource.hasChildren(e.element),e.hasChildren){const t=Object(P.n)(800);t.then(()=>{e.slow=!0,this._onDidChangeNodeSlowState.fire(e)},e=>null),n=this.doGetChildren(e).finally(()=>t.cancel())}else n=Promise.resolve(x.a.empty());try{var o=yield n;return this.setChildren(e,o,t,i)}catch(n){if(e!==this.root&&this.tree.hasElement(e)&&this.tree.collapse(e),Object(ue.e)(n))return[];throw n}finally{e.slow&&(e.slow=!1,this._onDidChangeNodeSlowState.fire(e))}}))}doGetChildren(e){let t=this.refreshPromises.get(e);return t||(t=Object(P.h)(()=>ge(this,void 0,void 0,(function*(){var t=yield this.dataSource.getChildren(e.element);return this.processChildren(t)}))),this.refreshPromises.set(e,t),t.finally(()=>{this.refreshPromises.delete(e)}))}_onDidChangeCollapseState({node:e,deep:t}){null!==e.element&&!e.collapsed&&e.element.stale&&(t?this.collapse(e.element.element):this.refreshAndRenderNode(e.element,!1).catch(ue.f))}setChildren(e,t,i,n){const o=[...t];if(0===e.children.length&&0===o.length)return[];const r=new Map,s=new Map;for(const t of e.children){var a;r.set(t.element,t),this.identityProvider&&(a=this.tree.isCollapsed(t),s.set(t.id,{node:t,collapsed:a}))}const l=[],c=o.map(t=>{var o=!!this.dataSource.hasChildren(t);if(!this.identityProvider){const i=pe({element:t,parent:e,hasChildren:o});return o&&this.collapseByDefault&&!this.collapseByDefault(t)&&(i.collapsedByDefault=!1,l.push(i)),i}var a=this.identityProvider.getId(t).toString(),c=s.get(a);if(c){const e=c.node;return r.delete(e.element),this.nodes.delete(e.element),this.nodes.set(t,e),e.element=t,e.hasChildren=o,i?c.collapsed?(e.children.forEach(e=>Se(e,e=>this.nodes.delete(e.element))),e.children.splice(0,e.children.length),e.stale=!0):l.push(e):o&&this.collapseByDefault&&!this.collapseByDefault(t)&&(e.collapsedByDefault=!1,l.push(e)),e}const d=pe({element:t,parent:e,id:a,hasChildren:o});return n&&n.viewState.focus&&-1<n.viewState.focus.indexOf(a)&&n.focus.push(d),n&&n.viewState.selection&&-1<n.viewState.selection.indexOf(a)&&n.selection.push(d),n&&n.viewState.expanded&&-1<n.viewState.expanded.indexOf(a)?l.push(d):o&&this.collapseByDefault&&!this.collapseByDefault(t)&&(d.collapsedByDefault=!1,l.push(d)),d});for(const e of r.values())Se(e,e=>this.nodes.delete(e.element));for(const e of c)this.nodes.set(e.element,e);return e.children.splice(0,e.children.length,...c),e!==this.root&&this.autoExpandSingleChildren&&1===c.length&&0===l.length&&(c[0].collapsedByDefault=!1,l.push(c[0])),l}render(e,t,i){var n=e.children.map(e=>this.asTreeElement(e,t)),o=i&&Object.assign(Object.assign({},i),{diffIdentityProvider:i.diffIdentityProvider&&{getId:e=>i.diffIdentityProvider.getId(e.element)}});this.tree.setChildren(e===this.root?null:e,n,o),e!==this.root&&this.tree.setCollapsible(e,e.hasChildren),this._onDidRender.fire()}asTreeElement(e,t){if(e.stale)return{element:e,collapsible:e.hasChildren,collapsed:!0};let i;return i=!(t&&t.viewState.expanded&&e.id&&-1<t.viewState.expanded.indexOf(e.id))&&e.collapsedByDefault,e.collapsedByDefault=void 0,{element:e,children:e.hasChildren?x.a.map(e.children,e=>this.asTreeElement(e,t)):[],collapsible:e.hasChildren,collapsed:i}}processChildren(e){return this.sorter?[...e].sort(this.sorter.compare.bind(this.sorter)):e}dispose(){this.disposables.dispose()}}class De{constructor(e){this.node=e}get element(){return{elements:this.node.element.elements.map(e=>e.element),incompressible:this.node.element.incompressible}}get children(){return this.node.children.map(e=>new De(e))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}class Le{constructor(e,t,i,n){this.renderer=e,this.nodeMapper=t,this.compressibleNodeMapperProvider=i,this.onDidChangeTwistieState=n,this.renderedNodes=new Map,this.disposables=[],this.templateId=e.templateId}renderTemplate(e){return{templateData:this.renderer.renderTemplate(e)}}renderElement(e,t,i,n){this.renderer.renderElement(this.nodeMapper.map(e),t,i.templateData,n)}renderCompressedElements(e,t,i,n){this.renderer.renderCompressedElements(this.compressibleNodeMapperProvider().map(e),t,i.templateData,n)}renderTwistie(e,t){return e.slow?(t.classList.add(...M.classNamesArray),!0):(t.classList.remove(...M.classNamesArray),!1)}disposeElement(e,t,i,n){this.renderer.disposeElement&&this.renderer.disposeElement(this.nodeMapper.map(e),t,i.templateData,n)}disposeCompressedElements(e,t,i,n){this.renderer.disposeCompressedElements&&this.renderer.disposeCompressedElements(this.compressibleNodeMapperProvider().map(e),t,i.templateData,n)}disposeTemplate(e){this.renderer.disposeTemplate(e.templateData)}dispose(){this.renderedNodes.clear(),this.disposables=Object(a.f)(this.disposables)}}class Oe extends ke{constructor(e,t,i,n,o,r,s={}){super(e,t,i,o,r,s),this.compressionDelegate=n,this.compressibleNodeMapper=new C(e=>new De(e)),this.filter=s.filter}createTree(e,t,i,n,o){var r;i=new U(i),n=n.map(e=>new Le(e,this.nodeMapper,()=>this.compressibleNodeMapper,this._onDidChangeNodeSlowState.event)),o=(o=(r=o)&&xe(r))&&Object.assign(Object.assign({},o),{keyboardNavigationLabelProvider:o.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},o.keyboardNavigationLabelProvider),{getCompressedNodeKeyboardNavigationLabel:e=>r.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(e.map(e=>e.element))})})||{};return new he(e,t,i,n,o)}asTreeElement(e,t){return Object.assign({incompressible:this.compressionDelegate.isIncompressible(e.element)},super.asTreeElement(e,t))}updateOptions(e={}){this.tree.updateOptions(e)}render(e,t){if(!this.identityProvider)return super.render(e,t);const i=e=>this.identityProvider.getId(e).toString();var n=e=>{const t=new Set;for(const o of e){var n=this.tree.getCompressedTreeNode(o===this.root?null:o);if(n.element)for(const e of n.element.elements)t.add(i(e.element))}return t};const o=n(this.tree.getSelection()),r=n(this.tree.getFocus());super.render(e,t);const s=this.getSelection();let a=!1;const l=this.getFocus();let c=!1;const d=e=>{var t=e.element;if(t)for(let e=0;e<t.elements.length;e++){var n=i(t.elements[e].element),h=t.elements[t.elements.length-1].element;o.has(n)&&-1===s.indexOf(h)&&(s.push(h),a=!0),r.has(n)&&-1===l.indexOf(h)&&(l.push(h),c=!0)}e.children.forEach(d)};d(this.tree.getCompressedTreeNode(e===this.root?null:e)),a&&this.setSelection(s),c&&this.setFocus(l)}processChildren(e){return this.filter&&(e=x.a.filter(e,e=>{if(2===(e="boolean"==typeof(e=e=this.filter.filter(e,1))?e?1:0:S(e)?k(e.visibility):k(e)))throw new Error("Recursive tree visibility not supported in async data compressed trees");return 1===e})),super.processChildren(e)}}class Ee extends ee{constructor(e,t,i,n,o,r={}){super(e,t,i,n,r),this.user=e,this.dataSource=o,this.identityProvider=r.identityProvider}createModel(e,t,i){return new te(e,t,i)}}var Ne=i(90),Ie=i(56),Te=i(156),Me=i(10),Ae=i(210),Pe=i(21),Re=(t=i(58),i(59)),Fe=i(100),je=(O=i(16),function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;0<=a;a--)(o=e[a])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s});i=function(e,t){return function(i,n){t(i,n,e)}};const Be=Object(Pe.c)("listService");let We=class{constructor(e){this._themeService=e,this.disposables=new a.b,this.lists=[],this._lastFocusedWidget=void 0,this._hasCreatedStyleController=!1}get lastFocusedList(){return this._lastFocusedWidget}register(e,t){var i;if(this._hasCreatedStyleController||(this._hasCreatedStyleController=!0,i=new l.b(Object(n.w)(),""),this.disposables.add(Object(Fe.b)(i,this._themeService))),this.lists.some(t=>t.widget===e))throw new Error("Cannot register the same widget multiple times");const o={widget:e,extraContextKeys:t};return this.lists.push(o),e.getHTMLElement()===document.activeElement&&(this._lastFocusedWidget=e),Object(a.e)(e.onDidFocus(()=>this._lastFocusedWidget=e),Object(a.i)(()=>this.lists.splice(this.lists.indexOf(o),1)),e.onDidDispose(()=>{this.lists=this.lists.filter(e=>e!==o),this._lastFocusedWidget===e&&(this._lastFocusedWidget=void 0)}))}dispose(){this.disposables.dispose()}};We=je([i(0,O.b)],We);const Ve=new Me.c("listFocus",!0),ze=new Me.c("listSupportsMultiselect",!0),He=Me.a.and(Ve,Me.a.not(Ae.a)),Ue=new Me.c("listHasSelectionOrFocus",!1),$e=new Me.c("listDoubleSelection",!1),Ke=new Me.c("listMultiSelection",!1),qe=new Me.c("listSelectionNavigation",!1),Ge="listAutomaticKeyboardNavigation";function Ye(e,t){return t=e.createScoped(t.getHTMLElement()),Ve.bindTo(t),t}const Ze="workbench.list.multiSelectModifier",Xe="workbench.list.openMode",Qe="workbench.list.horizontalScrolling",Je="workbench.list.keyboardNavigation",et="workbench.list.automaticKeyboardNavigation",tt="workbench.tree.indent",it="workbench.tree.renderIndentGuides",nt="workbench.list.smoothScrolling",ot="workbench.list.mouseWheelScrollSensitivity",rt="workbench.list.fastScrollSensitivity",st="workbench.tree.expandMode";function at(e){return"alt"===e.getValue(Ze)}class lt extends a.a{constructor(e){super(),this.configurationService=e,this.useAltAsMultipleSelectionModifier=at(e),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(e=>{e.affectsConfiguration(Ze)&&(this.useAltAsMultipleSelectionModifier=at(this.configurationService))}))}isSelectionSingleChangeEvent(e){return this.useAltAsMultipleSelectionModifier?e.browserEvent.altKey:Object(l.h)(e)}isSelectionRangeChangeEvent(e){return Object(l.g)(e)}}function ct(e,t,i){const n=new a.b;return[Object.assign(Object.assign({},e),{keyboardNavigationDelegate:{mightProducePrintableCharacter:e=>i.mightProducePrintableCharacter(e)},smoothScrolling:Boolean(t.getValue(nt)),mouseWheelScrollSensitivity:t.getValue(ot),fastScrollSensitivity:t.getValue(rt),multipleSelectionController:null!==(e=e.multipleSelectionController)&&void 0!==e?e:n.add(new lt(t))}),n]}let dt=class extends l.c{constructor(e,t,i,n,o,r,s,a,l,c){var d=void 0!==o.horizontalScrolling?o.horizontalScrolling:Boolean(l.getValue(Qe)),[h,c]=ct(o,l,c);super(e,t,i,n,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},Object(Fe.d)(a.getColorTheme(),Fe.e)),h),{horizontalScrolling:d})),this.disposables.add(c),this.contextKeyService=Ye(r,this),this.themeService=a,this.listSupportsMultiSelect=ze.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(!1!==o.multipleSelectionSupport);qe.bindTo(this.contextKeyService).set(Boolean(o.selectionNavigation)),this.listHasSelectionOrFocus=Ue.bindTo(this.contextKeyService),this.listDoubleSelection=$e.bindTo(this.contextKeyService),this.listMultiSelection=Ke.bindTo(this.contextKeyService),this.horizontalScrolling=o.horizontalScrolling,this._useAltAsMultipleSelectionModifier=at(l),this.disposables.add(this.contextKeyService),this.disposables.add(s.register(this)),o.overrideStyles&&this.updateStyles(o.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const e=this.getSelection(),t=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(0<e.length||0<t.length),this.listMultiSelection.set(1<e.length),this.listDoubleSelection.set(2===e.length)})})),this.disposables.add(this.onDidChangeFocus(()=>{var e=this.getSelection(),t=this.getFocus();this.listHasSelectionOrFocus.set(0<e.length||0<t.length)})),this.disposables.add(l.onDidChangeConfiguration(e=>{e.affectsConfiguration(Ze)&&(this._useAltAsMultipleSelectionModifier=at(l));let t={};var i,n;e.affectsConfiguration(Qe)&&void 0===this.horizontalScrolling&&(i=Boolean(l.getValue(Qe)),t=Object.assign(Object.assign({},t),{horizontalScrolling:i})),e.affectsConfiguration(nt)&&(n=Boolean(l.getValue(nt)),t=Object.assign(Object.assign({},t),{smoothScrolling:n})),e.affectsConfiguration(ot)&&(n=l.getValue(ot),t=Object.assign(Object.assign({},t),{mouseWheelScrollSensitivity:n})),e.affectsConfiguration(rt)&&(e=l.getValue(rt),t=Object.assign(Object.assign({},t),{fastScrollSensitivity:e})),0<Object.keys(t).length&&this.updateOptions(t)})),this.navigator=new ut(this,Object.assign({configurationService:l},o)),this.disposables.add(this.navigator)}updateOptions(e){super.updateOptions(e),e.overrideStyles&&this.updateStyles(e.overrideStyles),void 0!==e.multipleSelectionSupport&&this.listSupportsMultiSelect.set(!!e.multipleSelectionSupport)}updateStyles(e){var t;null!==(t=this._styler)&&void 0!==t&&t.dispose(),this._styler=Object(Fe.b)(this,this.themeService,e)}dispose(){var e;null!==(e=this._styler)&&void 0!==e&&e.dispose(),super.dispose()}};dt=je([i(5,Me.b),i(6,Be),i(7,O.b),i(8,Ie.a),i(9,t.a)],dt),Ae=class extends class{constructor(e,t,i,n,o={}){const r=()=>this.model;n=n.map(e=>new c(e,r)),this.list=new l.c(e,t,i,n,(n=r,o=o,Object.assign(Object.assign({},o),{accessibilityProvider:o.accessibilityProvider&&new d(n,o.accessibilityProvider)})))}updateOptions(e){this.list.updateOptions(e)}getHTMLElement(){return this.list.getHTMLElement()}get onDidFocus(){return this.list.onDidFocus}get onDidDispose(){return this.list.onDidDispose}get onMouseDblClick(){return s.c.map(this.list.onMouseDblClick,({element:e,index:t,browserEvent:i})=>({element:void 0===e?void 0:this._model.get(e),index:t,browserEvent:i}))}get onPointer(){return s.c.map(this.list.onPointer,({element:e,index:t,browserEvent:i})=>({element:void 0===e?void 0:this._model.get(e),index:t,browserEvent:i}))}get onDidChangeSelection(){return s.c.map(this.list.onDidChangeSelection,({elements:e,indexes:t,browserEvent:i})=>({elements:e.map(e=>this._model.get(e)),indexes:t,browserEvent:i}))}get model(){return this._model}set model(e){this._model=e,this.list.splice(0,this.list.length,Object(o.r)(e.length))}getFocus(){return this.list.getFocus()}getSelection(){return this.list.getSelection()}getSelectedElements(){return this.getSelection().map(e=>this.model.get(e))}style(e){this.list.style(e)}dispose(){this.list.dispose()}}{constructor(e,t,i,n,o,r,s,l,c,d){var h=void 0!==o.horizontalScrolling?o.horizontalScrolling:Boolean(c.getValue(Qe)),[u,d]=ct(o,c,d);super(e,t,i,n,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},Object(Fe.d)(l.getColorTheme(),Fe.e)),u),{horizontalScrolling:h})),this.disposables=new a.b,this.disposables.add(d),this.contextKeyService=Ye(r,this),this.themeService=l,this.horizontalScrolling=o.horizontalScrolling,this.listSupportsMultiSelect=ze.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(!1!==o.multipleSelectionSupport);qe.bindTo(this.contextKeyService).set(Boolean(o.selectionNavigation)),this._useAltAsMultipleSelectionModifier=at(c),this.disposables.add(this.contextKeyService),this.disposables.add(s.register(this)),o.overrideStyles&&this.updateStyles(o.overrideStyles),o.overrideStyles&&this.disposables.add(Object(Fe.b)(this,l,o.overrideStyles)),this.disposables.add(c.onDidChangeConfiguration(e=>{e.affectsConfiguration(Ze)&&(this._useAltAsMultipleSelectionModifier=at(c));let t={};var i,n;e.affectsConfiguration(Qe)&&void 0===this.horizontalScrolling&&(i=Boolean(c.getValue(Qe)),t=Object.assign(Object.assign({},t),{horizontalScrolling:i})),e.affectsConfiguration(nt)&&(n=Boolean(c.getValue(nt)),t=Object.assign(Object.assign({},t),{smoothScrolling:n})),e.affectsConfiguration(ot)&&(n=c.getValue(ot),t=Object.assign(Object.assign({},t),{mouseWheelScrollSensitivity:n})),e.affectsConfiguration(rt)&&(e=c.getValue(rt),t=Object.assign(Object.assign({},t),{fastScrollSensitivity:e})),0<Object.keys(t).length&&this.updateOptions(t)})),this.navigator=new ut(this,Object.assign({configurationService:c},o)),this.disposables.add(this.navigator)}updateOptions(e){super.updateOptions(e),e.overrideStyles&&this.updateStyles(e.overrideStyles),void 0!==e.multipleSelectionSupport&&this.listSupportsMultiSelect.set(!!e.multipleSelectionSupport)}updateStyles(e){var t;null!==(t=this._styler)&&void 0!==t&&t.dispose(),this._styler=Object(Fe.b)(this,this.themeService,e)}dispose(){var e;null!==(e=this._styler)&&void 0!==e&&e.dispose(),this.disposables.dispose(),super.dispose()}},je([i(5,Me.b),i(6,Be),i(7,O.b),i(8,Ie.a),i(9,t.a)],Ae),Ae=class extends p{constructor(e,t,i,n,o,r,s,l,c,d,h){var u=void 0!==r.horizontalScrolling?r.horizontalScrolling:Boolean(d.getValue(Qe)),[g,h]=ct(r,d,h);super(e,t,i,n,o,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},Object(Fe.d)(c.getColorTheme(),Fe.e)),g),{horizontalScrolling:u})),this.disposables=new a.b,this.disposables.add(h),this.contextKeyService=Ye(s,this),this.themeService=c,this.listSupportsMultiSelect=ze.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(!1!==r.multipleSelectionSupport);qe.bindTo(this.contextKeyService).set(Boolean(r.selectionNavigation)),this.listHasSelectionOrFocus=Ue.bindTo(this.contextKeyService),this.listDoubleSelection=$e.bindTo(this.contextKeyService),this.listMultiSelection=Ke.bindTo(this.contextKeyService),this.horizontalScrolling=r.horizontalScrolling,this._useAltAsMultipleSelectionModifier=at(d),this.disposables.add(this.contextKeyService),this.disposables.add(l.register(this)),r.overrideStyles&&this.updateStyles(r.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const e=this.getSelection(),t=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(0<e.length||0<t.length),this.listMultiSelection.set(1<e.length),this.listDoubleSelection.set(2===e.length)})})),this.disposables.add(this.onDidChangeFocus(()=>{var e=this.getSelection(),t=this.getFocus();this.listHasSelectionOrFocus.set(0<e.length||0<t.length)})),this.disposables.add(d.onDidChangeConfiguration(e=>{e.affectsConfiguration(Ze)&&(this._useAltAsMultipleSelectionModifier=at(d));let t={};var i,n;e.affectsConfiguration(Qe)&&void 0===this.horizontalScrolling&&(i=Boolean(d.getValue(Qe)),t=Object.assign(Object.assign({},t),{horizontalScrolling:i})),e.affectsConfiguration(nt)&&(n=Boolean(d.getValue(nt)),t=Object.assign(Object.assign({},t),{smoothScrolling:n})),e.affectsConfiguration(ot)&&(n=d.getValue(ot),t=Object.assign(Object.assign({},t),{mouseWheelScrollSensitivity:n})),e.affectsConfiguration(rt)&&(e=d.getValue(rt),t=Object.assign(Object.assign({},t),{fastScrollSensitivity:e})),0<Object.keys(t).length&&this.updateOptions(t)})),this.navigator=new gt(this,Object.assign({configurationService:d},r)),this.disposables.add(this.navigator)}updateOptions(e){super.updateOptions(e),e.overrideStyles&&this.updateStyles(e.overrideStyles),void 0!==e.multipleSelectionSupport&&this.listSupportsMultiSelect.set(!!e.multipleSelectionSupport)}updateStyles(e){var t;null!==(t=this._styler)&&void 0!==t&&t.dispose(),this._styler=Object(Fe.b)(this,this.themeService,e)}dispose(){var e;null!==(e=this._styler)&&void 0!==e&&e.dispose(),this.disposables.dispose(),super.dispose()}},je([i(6,Me.b),i(7,Be),i(8,O.b),i(9,Ie.a),i(10,t.a)],Ae);class ht extends a.a{constructor(e,t){super(),this.widget=e,this._onDidOpen=this._register(new s.b),this.onDidOpen=this._onDidOpen.event,this._register(s.c.filter(this.widget.onDidChangeSelection,e=>e.browserEvent instanceof KeyboardEvent)(e=>this.onSelectionFromKeyboard(e))),this._register(this.widget.onPointer(e=>this.onPointer(e.element,e.browserEvent))),this._register(this.widget.onMouseDblClick(e=>this.onMouseDblClick(e.element,e.browserEvent))),"boolean"!=typeof(null==t?void 0:t.openOnSingleClick)&&null!=t&&t.configurationService?(this.openOnSingleClick="doubleClick"!==(null==t?void 0:t.configurationService.getValue(Xe)),this._register(null==t?void 0:t.configurationService.onDidChangeConfiguration(()=>{this.openOnSingleClick="doubleClick"!==(null==t?void 0:t.configurationService.getValue(Xe))}))):this.openOnSingleClick=null===(e=null==t?void 0:t.openOnSingleClick)||void 0===e||e}onSelectionFromKeyboard(e){var t,i;1===e.elements.length&&(t="boolean"!=typeof(i=e.browserEvent).preserveFocus||i.preserveFocus,i="boolean"==typeof i.pinned?i.pinned:!t,this._open(this.getSelectedElement(),t,i,!1,e.browserEvent))}onPointer(e,t){var i,n;this.openOnSingleClick&&(2===t.detail||(i=1===t.button,n=t.ctrlKey||t.metaKey||t.altKey,this._open(e,!0,i,n,t)))}onMouseDblClick(e,t){if(t){const n=t.target;var i;n.classList.contains("monaco-tl-twistie")||n.classList.contains("monaco-icon-label")&&n.classList.contains("folder-icon")&&t.offsetX<16||(i=t.ctrlKey||t.metaKey||t.altKey,this._open(e,!1,!0,i,t))}}_open(e,t,i,n,o){e&&this._onDidOpen.fire({editorOptions:{preserveFocus:t,pinned:i,revealIfVisible:!0},sideBySide:n,element:e,browserEvent:o})}}class ut extends ht{constructor(e,t){super(e,t),this.widget=e}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class gt extends ht{constructor(e,t){super(e,t)}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class pt extends ht{constructor(e,t){super(e,t)}getSelectedElement(){var e;return null!==(e=this.widget.getSelection()[0])&&void 0!==e?e:void 0}}Ae=class extends ce{constructor(e,t,i,n,o,r,s,a,l,c,d){var{options:h,getAutomaticKeyboardNavigation:u,disposable:c}=mt(t,o,r,l,c,d);super(e,t,i,n,h),this.disposables.add(c),this.internals=new vt(this,o,u,o.overrideStyles,r,s,a,l,d),this.disposables.add(this.internals)}updateOptions(e){super.updateOptions(e),this.internals.updateOptions(e)}},je([i(5,Me.b),i(6,Be),i(7,O.b),i(8,Ie.a),i(9,t.a),i(10,Ne.b)],Ae),Ae=class extends he{constructor(e,t,i,n,o,r,s,a,l,c,d){var{options:h,getAutomaticKeyboardNavigation:u,disposable:c}=mt(t,o,r,l,c,d);super(e,t,i,n,h),this.disposables.add(c),this.internals=new vt(this,o,u,o.overrideStyles,r,s,a,l,d),this.disposables.add(this.internals)}updateOptions(e={}){super.updateOptions(e),e.overrideStyles&&this.internals.updateStyleOverrides(e.overrideStyles),this.internals.updateOptions(e)}},je([i(5,Me.b),i(6,Be),i(7,O.b),i(8,Ie.a),i(9,t.a),i(10,Ne.b)],Ae),Ae=class extends Ee{constructor(e,t,i,n,o,r,s,a,l,c,d,h){var{options:u,getAutomaticKeyboardNavigation:g,disposable:d}=mt(t,r,s,c,d,h);super(e,t,i,n,o,u),this.disposables.add(d),this.internals=new vt(this,r,g,r.overrideStyles,s,a,l,c,h),this.disposables.add(this.internals)}updateOptions(e={}){super.updateOptions(e),e.overrideStyles&&this.internals.updateStyleOverrides(e.overrideStyles),this.internals.updateOptions(e)}},je([i(6,Me.b),i(7,Be),i(8,O.b),i(9,Ie.a),i(10,t.a),i(11,Ne.b)],Ae);let ft=class extends ke{constructor(e,t,i,n,o,r,s,a,l,c,d,h){var{options:u,getAutomaticKeyboardNavigation:g,disposable:d}=mt(t,r,s,c,d,h);super(e,t,i,n,o,u),this.disposables.add(d),this.internals=new vt(this,r,g,r.overrideStyles,s,a,l,c,h),this.disposables.add(this.internals)}get onDidOpen(){return this.internals.onDidOpen}updateOptions(e={}){super.updateOptions(e),e.overrideStyles&&this.internals.updateStyleOverrides(e.overrideStyles),this.internals.updateOptions(e)}};function mt(e,t,i,n,o,r){var s=()=>{let e=Boolean(i.getContextKeyValue(Ge));return e=e&&Boolean(n.getValue(et)),e},a=r.isScreenReaderOptimized(),l=t.simpleKeyboardNavigation||a?"simple":n.getValue(Je),c=void 0!==t.horizontalScrolling?t.horizontalScrolling:Boolean(n.getValue(Qe)),[d,r]=ct(t,n,o);a=t.additionalScrollHeight;return{getAutomaticKeyboardNavigation:s,disposable:r,options:Object.assign(Object.assign({keyboardSupport:!1},d),{indent:"number"==typeof n.getValue(tt)?n.getValue(tt):void 0,renderIndentGuides:n.getValue(it),smoothScrolling:Boolean(n.getValue(nt)),automaticKeyboardNavigation:s(),simpleKeyboardNavigation:"simple"===l,filterOnType:"filter"===l,horizontalScrolling:c,keyboardNavigationEventFilter:function(e,t){let i=!1;return n=>i?i=!1:(n=t.softDispatch(n,e))&&n.enterChord?!(i=!0):!(i=!1)}(e,o),additionalScrollHeight:a,hideTwistiesOfChildlessElements:t.hideTwistiesOfChildlessElements,expandOnlyOnTwistieClick:null!==(t=t.expandOnlyOnTwistieClick)&&void 0!==t?t:"doubleClick"===n.getValue(st)})}}ft=je([i(6,Me.b),i(7,Be),i(8,O.b),i(9,Ie.a),i(10,t.a),i(11,Ne.b)],ft),Ae=class extends Oe{constructor(e,t,i,n,o,r,s,a,l,c,d,h,u){var{options:g,getAutomaticKeyboardNavigation:p,disposable:h}=mt(t,s,a,d,h,u);super(e,t,i,n,o,r,g),this.disposables.add(h),this.internals=new vt(this,s,p,s.overrideStyles,a,l,c,d,u),this.disposables.add(this.internals)}updateOptions(e){super.updateOptions(e),this.internals.updateOptions(e)}},je([i(7,Me.b),i(8,Be),i(9,O.b),i(10,Ie.a),i(11,t.a),i(12,Ne.b)],Ae);let vt=class{constructor(e,t,i,n,o,r,s,a,l){this.tree=e,this.themeService=s,this.disposables=[],this.contextKeyService=Ye(o,e),this.listSupportsMultiSelect=ze.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(!1!==t.multipleSelectionSupport);qe.bindTo(this.contextKeyService).set(Boolean(t.selectionNavigation)),this.hasSelectionOrFocus=Ue.bindTo(this.contextKeyService),this.hasDoubleSelection=$e.bindTo(this.contextKeyService),this.hasMultiSelection=Ke.bindTo(this.contextKeyService),this._useAltAsMultipleSelectionModifier=at(a);const c=new Set;c.add(Ge);const d=()=>{var t=l.isScreenReaderOptimized()?"simple":a.getValue(Je);e.updateOptions({simpleKeyboardNavigation:"simple"===t,filterOnType:"filter"===t})};this.updateStyleOverrides(n),this.disposables.push(this.contextKeyService,r.register(e),e.onDidChangeSelection(()=>{const t=e.getSelection(),i=e.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.hasSelectionOrFocus.set(0<t.length||0<i.length),this.hasMultiSelection.set(1<t.length),this.hasDoubleSelection.set(2===t.length)})}),e.onDidChangeFocus(()=>{var t=e.getSelection(),i=e.getFocus();this.hasSelectionOrFocus.set(0<t.length||0<i.length)}),a.onDidChangeConfiguration(n=>{let o={};var r,s,l;n.affectsConfiguration(Ze)&&(this._useAltAsMultipleSelectionModifier=at(a)),n.affectsConfiguration(tt)&&(r=a.getValue(tt),o=Object.assign(Object.assign({},o),{indent:r})),n.affectsConfiguration(it)&&(s=a.getValue(it),o=Object.assign(Object.assign({},o),{renderIndentGuides:s})),n.affectsConfiguration(nt)&&(s=Boolean(a.getValue(nt)),o=Object.assign(Object.assign({},o),{smoothScrolling:s})),n.affectsConfiguration(Je)&&d(),n.affectsConfiguration(et)&&(o=Object.assign(Object.assign({},o),{automaticKeyboardNavigation:i()})),n.affectsConfiguration(Qe)&&void 0===t.horizontalScrolling&&(l=Boolean(a.getValue(Qe)),o=Object.assign(Object.assign({},o),{horizontalScrolling:l})),n.affectsConfiguration(st)&&void 0===t.expandOnlyOnTwistieClick&&(o=Object.assign(Object.assign({},o),{expandOnlyOnTwistieClick:"doubleClick"===a.getValue(st)})),n.affectsConfiguration(ot)&&(l=a.getValue(ot),o=Object.assign(Object.assign({},o),{mouseWheelScrollSensitivity:l})),n.affectsConfiguration(rt)&&(n=a.getValue(rt),o=Object.assign(Object.assign({},o),{fastScrollSensitivity:n})),0<Object.keys(o).length&&e.updateOptions(o)}),this.contextKeyService.onDidChangeContext(t=>{t.affectsSome(c)&&e.updateOptions({automaticKeyboardNavigation:i()})}),l.onDidChangeScreenReaderOptimized(()=>d())),this.navigator=new pt(e,Object.assign({configurationService:a},t)),this.disposables.push(this.navigator)}get onDidOpen(){return this.navigator.onDidOpen}updateOptions(e){void 0!==e.multipleSelectionSupport&&this.listSupportsMultiSelect.set(!!e.multipleSelectionSupport)}updateStyleOverrides(e){Object(a.f)(this.styler),this.styler=e?Object(Fe.b)(this.tree,this.themeService,e):a.a.None}dispose(){this.disposables=Object(a.f)(this.disposables),Object(a.f)(this.styler),this.styler=void 0}};vt=je([i(4,Me.b),i(5,Be),i(6,O.b),i(7,Ie.a),i(8,Ne.b)],vt);Re.a.as(Te.a.Configuration).registerConfiguration({id:"workbench",order:7,title:Object(W.a)("workbenchConfigurationTitle","Workbench"),type:"object",properties:{"workbench.list.multiSelectModifier":{type:"string",enum:["ctrlCmd","alt"],enumDescriptions:[Object(W.a)("multiSelectModifier.ctrlCmd","Maps to `Control` on Windows and Linux and to `Command` on macOS."),Object(W.a)("multiSelectModifier.alt","Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],default:"ctrlCmd",description:Object(W.a)({key:"multiSelectModifier",comment:["- `ctrlCmd` refers to a value the setting can take and should not be localized.","- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized."]},"The modifier to be used to add an item in trees and lists to a multi-selection with the mouse (for example in the explorer, open editors and scm view). The 'Open to Side' mouse gestures - if supported - will adapt such that they do not conflict with the multiselect modifier.")},"workbench.list.openMode":{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:Object(W.a)({key:"openModeModifier",comment:["`singleClick` and `doubleClick` refers to a value the setting can take and should not be localized."]},"Controls how to open items in trees and lists using the mouse (if supported). Note that some trees and lists might choose to ignore this setting if it is not applicable.")},"workbench.list.horizontalScrolling":{type:"boolean",default:!1,description:Object(W.a)("horizontalScrolling setting","Controls whether lists and trees support horizontal scrolling in the workbench. Warning: turning on this setting has a performance implication.")},"workbench.tree.indent":{type:"number",default:8,minimum:0,maximum:40,description:Object(W.a)("tree indent setting","Controls tree indentation in pixels.")},"workbench.tree.renderIndentGuides":{type:"string",enum:["none","onHover","always"],default:"onHover",description:Object(W.a)("render tree indent guides","Controls whether the tree should render indent guides.")},[nt]:{type:"boolean",default:!1,description:Object(W.a)("list smoothScrolling setting","Controls whether lists and trees have smooth scrolling.")},[ot]:{type:"number",default:1,description:Object(W.a)("Mouse Wheel Scroll Sensitivity","A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.")},[rt]:{type:"number",default:5,description:Object(W.a)("Fast Scroll Sensitivity","Scrolling speed multiplier when pressing `Alt`.")},"workbench.list.keyboardNavigation":{type:"string",enum:["simple","highlight","filter"],enumDescriptions:[Object(W.a)("keyboardNavigationSettingKey.simple","Simple keyboard navigation focuses elements which match the keyboard input. Matching is done only on prefixes."),Object(W.a)("keyboardNavigationSettingKey.highlight","Highlight keyboard navigation highlights elements which match the keyboard input. Further up and down navigation will traverse only the highlighted elements."),Object(W.a)("keyboardNavigationSettingKey.filter","Filter keyboard navigation will filter out and hide all the elements which do not match the keyboard input.")],default:"highlight",description:Object(W.a)("keyboardNavigationSettingKey","Controls the keyboard navigation style for lists and trees in the workbench. Can be simple, highlight and filter.")},"workbench.list.automaticKeyboardNavigation":{type:"boolean",default:!0,markdownDescription:Object(W.a)("automatic keyboard navigation setting","Controls whether keyboard navigation in lists and trees is automatically triggered simply by typing. If set to `false`, keyboard navigation is only triggered when executing the `list.toggleKeyboardNavigation` command, for which you can assign a keyboard shortcut.")},"workbench.tree.expandMode":{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:Object(W.a)("expand mode","Controls how tree folders are expanded when clicking the folder names. Note that some trees and lists might choose to ignore this setting if it is not applicable.")}}})},function(e,t,i){"use strict";i.d(t,"a",(function(){return Yi}));
/*!
 * Vue.js v2.7.14
 * (c) 2014-2022 Evan You
 * Released under the MIT License.
 */
var n=Object.freeze({}),o=Array.isArray;function r(e){return null==e}function s(e){return null!=e}function a(e){return"string"==typeof e||"number"==typeof e||"symbol"==typeof e||"boolean"==typeof e}function l(e){return"function"==typeof e}function c(e){return null!==e&&"object"==typeof e}var d=Object.prototype.toString;function h(e){return"[object Object]"===d.call(e)}function u(e){var t=parseFloat(String(e));return 0<=t&&Math.floor(t)===t&&isFinite(e)}function g(e){return s(e)&&"function"==typeof e.then&&"function"==typeof e.catch}function p(e){return null==e?"":Array.isArray(e)||h(e)&&e.toString===d?JSON.stringify(e,null,2):String(e)}function f(e){var t=parseFloat(e);return isNaN(t)?e:t}function m(e,t){for(var i=Object.create(null),n=e.split(","),o=0;o<n.length;o++)i[n[o]]=!0;return t?function(e){return i[e.toLowerCase()]}:function(e){return i[e]}}var v=m("slot,component",!0),b=m("key,ref,slot,slot-scope,is");function _(e,t){var i=e.length;if(i){if(t!==e[i-1])return-1<(t=e.indexOf(t))?e.splice(t,1):void 0;e.length=i-1}}var w=Object.prototype.hasOwnProperty;function C(e,t){return w.call(e,t)}function y(e){var t=Object.create(null);return function(i){return t[i]||(t[i]=e(i))}}var x=/-(\w)/g,S=y((function(e){return e.replace(x,(function(e,t){return t?t.toUpperCase():""}))})),k=y((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})),D=/\B([A-Z])/g,L=y((function(e){return e.replace(D,"-$1").toLowerCase()})),O=Function.prototype.bind?function(e,t){return e.bind(t)}:function(e,t){function i(i){var n=arguments.length;return n?1<n?e.apply(t,arguments):e.call(t,i):e.call(t)}return i._length=e.length,i};function E(e,t){for(var i=e.length-(t=t||0),n=new Array(i);i--;)n[i]=e[i+t];return n}function N(e,t){for(var i in t)e[i]=t[i];return e}function I(e){for(var t={},i=0;i<e.length;i++)e[i]&&N(t,e[i]);return t}function T(e,t,i){}var M=function(e,t,i){return!1},A=function(e){return e};function P(e,t){if(e===t)return!0;var i=c(e),n=c(t);if(!i||!n)return!i&&!n&&String(e)===String(t);try{var o=Array.isArray(e),r=Array.isArray(t);if(o&&r)return e.length===t.length&&e.every((function(e,i){return P(e,t[i])}));if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime();if(o||r)return!1;var s=Object.keys(e),a=Object.keys(t);return s.length===a.length&&s.every((function(i){return P(e[i],t[i])}))}catch(i){return!1}}function R(e,t){for(var i=0;i<e.length;i++)if(P(e[i],t))return i;return-1}function F(e){var t=!1;return function(){t||(t=!0,e.apply(this,arguments))}}function j(e,t){return e===t?0===e&&1/e!=1/t:e==e||t==t}var B="data-server-rendered",W=["component","directive","filter"],V=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch","renderTracked","renderTriggered"],z={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:M,isReservedAttr:M,isUnknownElement:M,getTagNamespace:T,parsePlatformTagName:A,mustUseProp:M,async:!0,_lifecycleHooks:V},H=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;function U(e){return 36===(e=(e+"").charCodeAt(0))||95===e}function $(e,t,i,n){Object.defineProperty(e,t,{value:i,enumerable:!!n,writable:!0,configurable:!0})}var K=new RegExp("[^".concat(H.source,".$_\\d]")),q="__proto__"in{},G="undefined"!=typeof window,Y=G&&window.navigator.userAgent.toLowerCase(),Z=Y&&/msie|trident/.test(Y),X=Y&&0<Y.indexOf("msie 9.0"),Q=Y&&0<Y.indexOf("edge/");Y&&Y.indexOf("android");var J=Y&&/iphone|ipad|ipod|ios/.test(Y);Y&&/chrome\/\d+/.test(Y),Y&&/phantomjs/.test(Y);var ee,te=Y&&Y.match(/firefox\/(\d+)/),ie={}.watch,ne=!1;if(G)try{var oe={};Object.defineProperty(oe,"passive",{get:function(){ne=!0}}),window.addEventListener("test-passive",null,oe)}catch(e){}var re=function(){return ee=void 0===ee?!G&&"undefined"!=typeof global&&global.process&&"server"===global.process.env.VUE_ENV:ee},se=G&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function ae(e){return"function"==typeof e&&/native code/.test(e.toString())}var le="undefined"!=typeof Symbol&&ae(Symbol)&&"undefined"!=typeof Reflect&&ae(Reflect.ownKeys);function ce(){this.set=Object.create(null)}var de="undefined"!=typeof Set&&ae(Set)?Set:(ce.prototype.has=function(e){return!0===this.set[e]},ce.prototype.add=function(e){this.set[e]=!0},ce.prototype.clear=function(){this.set=Object.create(null)},ce),he=null;function ue(e){(e=void 0===e?null:e)||he&&he._scope.off(),(he=e)&&e._scope.on()}var ge=(Object.defineProperty(pe.prototype,"child",{get:function(){return this.componentInstance},enumerable:!1,configurable:!0}),pe);function pe(e,t,i,n,o,r,s,a){this.tag=e,this.data=t,this.children=i,this.text=n,this.elm=o,this.ns=void 0,this.context=r,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=t&&t.key,this.componentOptions=s,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=a,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1}var fe=function(e){void 0===e&&(e="");var t=new ge;return t.text=e,t.isComment=!0,t};function me(e){return new ge(void 0,void 0,void 0,String(e))}function ve(e){var t=new ge(e.tag,e.data,e.children&&e.children.slice(),e.text,e.elm,e.context,e.componentOptions,e.asyncFactory);return t.ns=e.ns,t.isStatic=e.isStatic,t.key=e.key,t.isComment=e.isComment,t.fnContext=e.fnContext,t.fnOptions=e.fnOptions,t.fnScopeId=e.fnScopeId,t.asyncMeta=e.asyncMeta,t.isCloned=!0,t}var be=0,_e=[],we=(Ce.prototype.addSub=function(e){this.subs.push(e)},Ce.prototype.removeSub=function(e){this.subs[this.subs.indexOf(e)]=null,this._pending||(this._pending=!0,_e.push(this))},Ce.prototype.depend=function(e){Ce.target&&Ce.target.addDep(this)},Ce.prototype.notify=function(e){for(var t=this.subs.filter((function(e){return e})),i=0,n=t.length;i<n;i++)t[i].update()},Ce);function Ce(){this._pending=!1,this.id=be++,this.subs=[]}we.target=null;var ye=[];function xe(e){ye.push(e),we.target=e}function Se(){ye.pop(),we.target=ye[ye.length-1]}var ke=Array.prototype,De=Object.create(ke);["push","pop","shift","unshift","splice","sort","reverse"].forEach((function(e){var t=ke[e];$(De,e,(function(){for(var i=[],n=0;n<arguments.length;n++)i[n]=arguments[n];var o,r=t.apply(this,i),s=this.__ob__;switch(e){case"push":case"unshift":o=i;break;case"splice":o=i.slice(2)}return o&&s.observeArray(o),s.dep.notify(),r}))}));var Le=Object.getOwnPropertyNames(De),Oe={},Ee=!0;function Ne(e){Ee=e}var Ie={notify:T,depend:T,addSub:T,removeSub:T},Te=(Me.prototype.observeArray=function(e){for(var t=0,i=e.length;t<i;t++)Ae(e[t],!1,this.mock)},Me);function Me(e,t,i){if(void 0===t&&(t=!1),void 0===i&&(i=!1),this.value=e,this.shallow=t,this.mock=i,this.dep=i?Ie:new we,this.vmCount=0,$(e,"__ob__",this),o(e)){if(!i)if(q)e.__proto__=De;else for(var n=0,r=Le.length;n<r;n++)$(e,s=Le[n],De[s]);t||this.observeArray(e)}else{var s,a=Object.keys(e);for(n=0;n<a.length;n++)Pe(e,s=a[n],Oe,void 0,t,i)}}function Ae(e,t,i){return e&&C(e,"__ob__")&&e.__ob__ instanceof Te?e.__ob__:!Ee||!i&&re()||!o(e)&&!h(e)||!Object.isExtensible(e)||e.__v_skip||We(e)||e instanceof ge?void 0:new Te(e,t,i)}function Pe(e,t,i,n,r,s){var a=new we,l=Object.getOwnPropertyDescriptor(e,t);if(!l||!1!==l.configurable){var c=l&&l.get,d=l&&l.set;c&&!d||i!==Oe&&2!==arguments.length||(i=e[t]);var h=!r&&Ae(i,!1,s);return Object.defineProperty(e,t,{enumerable:!0,configurable:!0,get:function(){var t=c?c.call(e):i;return we.target&&(a.depend(),h&&(h.dep.depend(),o(t)&&function e(t){for(var i=void 0,n=0,r=t.length;n<r;n++)(i=t[n])&&i.__ob__&&i.__ob__.dep.depend(),o(i)&&e(i)}(t))),We(t)&&!r?t.value:t},set:function(t){var n=c?c.call(e):i;if(j(n,t)){if(d)d.call(e,t);else{if(c)return;if(!r&&We(n)&&!We(t))return void(n.value=t);i=t}h=!r&&Ae(t,!1,s),a.notify()}}}),a}}function Re(e,t,i){if(!Be(e)){var n=e.__ob__;return o(e)&&u(t)?(e.length=Math.max(e.length,t),e.splice(t,1,i),n&&!n.shallow&&n.mock&&Ae(i,!1,!0),i):t in e&&!(t in Object.prototype)?e[t]=i:e._isVue||n&&n.vmCount?i:n?(Pe(n.value,t,i,void 0,n.shallow,n.mock),n.dep.notify(),i):e[t]=i}}function Fe(e,t){var i;o(e)&&u(t)?e.splice(t,1):(i=e.__ob__,e._isVue||i&&i.vmCount||Be(e)||C(e,t)&&(delete e[t],i&&i.dep.notify()))}function je(e){return function(e,t){Be(e)||Ae(e,t,re())}(e,!0),$(e,"__v_isShallow",!0),e}function Be(e){return!(!e||!e.__v_isReadonly)}function We(e){return!(!e||!0!==e.__v_isRef)}function Ve(e,t,i){Object.defineProperty(e,i,{enumerable:!0,configurable:!0,get:function(){var e=t[i];if(We(e))return e.value;var n=e&&e.__ob__;return n&&n.dep.depend(),e},set:function(e){var n=t[i];We(n)&&!We(e)?n.value=e:t[i]=e}})}var ze=y((function(e){var t="&"===e.charAt(0),i="~"===(e=t?e.slice(1):e).charAt(0),n="!"===(e=i?e.slice(1):e).charAt(0);return{name:e=n?e.slice(1):e,once:i,capture:n,passive:t}}));function He(e,t){function i(){var e=i.fns;if(!o(e))return Kt(e,null,arguments,t,"v-on handler");for(var n=e.slice(),r=0;r<n.length;r++)Kt(n[r],null,arguments,t,"v-on handler")}return i.fns=e,i}function Ue(e,t,i,n,o,s){var a,l,c,d;for(a in e)l=e[a],c=t[a],d=ze(a),r(l)||(r(c)?(r(l.fns)&&(l=e[a]=He(l,s)),!0===d.once&&(l=e[a]=o(d.name,l,d.capture)),i(d.name,l,d.capture,d.passive,d.params)):l!==c&&(c.fns=l,e[a]=c));for(a in t)r(e[a])&&n((d=ze(a)).name,t[a],d.capture)}function $e(e,t,i){var n,o=(e=e instanceof ge?e.data.hook||(e.data.hook={}):e)[t];function a(){i.apply(this,arguments),_(n.fns,a)}r(o)?n=He([a]):s(o.fns)&&!0===o.merged?(n=o).fns.push(a):n=He([o,a]),n.merged=!0,e[t]=n}function Ke(e,t,i,n,o){if(s(t)){if(C(t,i))return e[i]=t[i],o||delete t[i],1;if(C(t,n))return e[i]=t[n],o||delete t[n],1}}function qe(e){return a(e)?[me(e)]:o(e)?function e(t,i){var n,l,c,d,h=[];for(n=0;n<t.length;n++)r(l=t[n])||"boolean"==typeof l||(d=h[c=h.length-1],o(l)?0<l.length&&(Ge((l=e(l,"".concat(i||"","_").concat(n)))[0])&&Ge(d)&&(h[c]=me(d.text+l[0].text),l.shift()),h.push.apply(h,l)):a(l)?Ge(d)?h[c]=me(d.text+l):""!==l&&h.push(me(l)):Ge(l)&&Ge(d)?h[c]=me(d.text+l.text):(!0===t._isVList&&s(l.tag)&&r(l.key)&&s(i)&&(l.key="__vlist".concat(i,"_").concat(n,"__")),h.push(l)));return h}(e):void 0}function Ge(e){return s(e)&&s(e.text)&&!1===e.isComment}function Ye(e,t,i,n,d,h){return(o(i)||a(i))&&(d=n,n=i,i=void 0),function(e,t,i,n,a){return s(i)&&s(i.__ob__)?fe():(s(i)&&s(i.is)&&(t=i.is),t?(o(n)&&l(n[0])&&((i=i||{}).scopedSlots={default:n[0]},n.length=0),2===a?n=qe(n):1===a&&(n=function(e){for(var t=0;t<e.length;t++)if(o(e[t]))return Array.prototype.concat.apply([],e);return e}(n)),n="string"==typeof t?(a=void 0,d=e.$vnode&&e.$vnode.ns||z.getTagNamespace(t),z.isReservedTag(t)?new ge(z.parsePlatformTagName(t),i,n,void 0,void 0,e):i&&i.pre||!s(a=Ri(e.$options,"components",t))?new ge(t,i,n,void 0,void 0,e):Li(a,i,e,n,t)):Li(t,i,e,n),o(n)?n:s(n)?(s(d)&&function e(t,i,n){if(t.ns=i,"foreignObject"===t.tag&&(n=!(i=void 0)),s(t.children))for(var o=0,a=t.children.length;o<a;o++){var l=t.children[o];s(l.tag)&&(r(l.ns)||!0===n&&"svg"!==l.tag)&&e(l,i,n)}}(n,d),s(i)&&function(e){c(e.style)&&si(e.style),c(e.class)&&si(e.class)}(i),n):fe()):fe());var d}(e,t,i,n,d=!0===h?2:d)}function Ze(e,t){var i,n,r,a,l=null;if(o(e)||"string"==typeof e)for(l=new Array(e.length),i=0,n=e.length;i<n;i++)l[i]=t(e[i],i);else if("number"==typeof e)for(l=new Array(e),i=0;i<e;i++)l[i]=t(i+1,i);else if(c(e))if(le&&e[Symbol.iterator]){l=[];for(var d=e[Symbol.iterator](),h=d.next();!h.done;)l.push(t(h.value,l.length)),h=d.next()}else for(r=Object.keys(e),l=new Array(r.length),i=0,n=r.length;i<n;i++)a=r[i],l[i]=t(e[a],a,i);return(l=s(l)?l:[])._isVList=!0,l}function Xe(e,t,i,n){var o=this.$scopedSlots[e];t=o?(i=i||{},o(i=n?N(N({},n),i):i)||(l(t)?t():t)):this.$slots[e]||(l(t)?t():t);return(i=i&&i.slot)?this.$createElement("template",{slot:i},t):t}function Qe(e){return Ri(this.$options,"filters",e)||A}function Je(e,t){return o(e)?-1===e.indexOf(t):e!==t}function et(e,t,i,n,o){return i=z.keyCodes[t]||i,o&&n&&!z.keyCodes[t]?Je(o,n):i?Je(i,e):n?L(n)!==t:void 0===e}function tt(e,t,i,n,r){if(i&&c(i)){o(i)&&(i=I(i));var s,a=void 0;for(s in i)!function(o){a="class"===o||"style"===o||b(o)?e:(l=e.attrs&&e.attrs.type,n||z.mustUseProp(t,l,o)?e.domProps||(e.domProps={}):e.attrs||(e.attrs={}));var s=S(o),l=L(o);s in a||l in a||(a[o]=i[o],r&&((e.on||(e.on={}))["update:".concat(o)]=function(e){i[o]=e}))}(s)}return e}function it(e,t){var i=this._staticTrees||(this._staticTrees=[]),n=i[e];return n&&!t||ot(n=i[e]=this.$options.staticRenderFns[e].call(this._renderProxy,this._c,this),"__static__".concat(e),!1),n}function nt(e,t,i){return ot(e,"__once__".concat(t).concat(i?"_".concat(i):""),!0),e}function ot(e,t,i){if(o(e))for(var n=0;n<e.length;n++)e[n]&&"string"!=typeof e[n]&&rt(e[n],"".concat(t,"_").concat(n),i);else rt(e,t,i)}function rt(e,t,i){e.isStatic=!0,e.key=t,e.isOnce=i}function st(e,t){if(t&&h(t)){var i,n=e.on=e.on?N({},e.on):{};for(i in t){var o=n[i],r=t[i];n[i]=o?[].concat(o,r):r}}return e}function at(e,t,i,n){t=t||{$stable:!i};for(var r=0;r<e.length;r++){var s=e[r];o(s)?at(s,t,i):s&&(s.proxy&&(s.fn.proxy=!0),t[s.key]=s.fn)}return n&&(t.$key=n),t}function lt(e,t){for(var i=0;i<t.length;i+=2){var n=t[i];"string"==typeof n&&n&&(e[t[i]]=t[i+1])}return e}function ct(e,t){return"string"==typeof e?t+e:e}function dt(e){e._o=nt,e._n=f,e._s=p,e._l=Ze,e._t=Xe,e._q=P,e._i=R,e._m=it,e._f=Qe,e._k=et,e._b=tt,e._v=me,e._e=fe,e._u=at,e._g=st,e._d=lt,e._p=ct}function ht(e,t){if(!e||!e.length)return{};for(var i,n={},o=0,r=e.length;o<r;o++){var s=e[o],a=s.data;a&&a.attrs&&a.attrs.slot&&delete a.attrs.slot,s.context!==t&&s.fnContext!==t||!a||null==a.slot?(n.default||(n.default=[])).push(s):(a=n[a=a.slot]||(n[a]=[]),"template"===s.tag?a.push.apply(a,s.children||[]):a.push(s))}for(i in n)n[i].every(ut)&&delete n[i];return n}function ut(e){return e.isComment&&!e.asyncFactory||" "===e.text}function gt(e){return e.isComment&&e.asyncFactory}function pt(e,t,i,r){var s,a,l=0<Object.keys(i).length,c=t?!!t.$stable:!l,d=t&&t.$key;if(t){if(t._normalized)return t._normalized;if(c&&r&&r!==n&&d===r.$key&&!l&&!r.$hasNormal)return r;for(var h in s={},t)t[h]&&"$"!==h[0]&&(s[h]=function(e,t,i,n){function r(){var t=he;ue(e);var i=arguments.length?n.apply(null,arguments):n({}),r=(i=i&&"object"==typeof i&&!o(i)?[i]:qe(i))&&i[0];return ue(t),i&&(!r||1===i.length&&r.isComment&&!gt(r))?void 0:i}return n.proxy&&Object.defineProperty(t,i,{get:r,enumerable:!0,configurable:!0}),r}(e,i,h,t[h]))}else s={};for(a in i)a in s||(s[a]=function(e,t){return function(){return e[t]}}(i,a));return t&&Object.isExtensible(t)&&(t._normalized=s),$(s,"$stable",c),$(s,"$key",d),$(s,"$hasNormal",l),s}function ft(e,t,i,n,o){var r,s=!1;for(r in t)r in e?t[r]!==i[r]&&(s=!0):(s=!0,function(e,t,i,n){Object.defineProperty(e,t,{enumerable:!0,configurable:!0,get:function(){return i[n][t]}})}(e,r,n,o));for(r in e)r in t||(s=!0,delete e[r]);return s}function mt(e,t){for(var i in t)e[i]=t[i];for(var i in e)i in t||delete e[i]}var vt,bt=null;function _t(e,t){return c(e=e.__esModule||le&&"Module"===e[Symbol.toStringTag]?e.default:e)?t.extend(e):e}function wt(e){if(o(e))for(var t=0;t<e.length;t++){var i=e[t];if(s(i)&&(s(i.componentOptions)||gt(i)))return i}}function Ct(e,t){vt.$on(e,t)}function yt(e,t){vt.$off(e,t)}function xt(e,t){var i=vt;return function n(){null!==t.apply(null,arguments)&&i.$off(e,n)}}function St(e,t,i){Ue(t,i||{},Ct,yt,xt,vt=e),vt=void 0}var kt=null;function Dt(e){var t=kt;return kt=e,function(){kt=t}}function Lt(e){for(;e=e&&e.$parent;)if(e._inactive)return 1}function Ot(e,t){if(t){if(e._directInactive=!1,Lt(e))return}else if(e._directInactive)return;if(e._inactive||null===e._inactive){e._inactive=!1;for(var i=0;i<e.$children.length;i++)Ot(e.$children[i]);Et(e,"activated")}}function Et(e,t,i,n){void 0===n&&(n=!0),xe();var o=he;n&&ue(e);var r=e.$options[t],s="".concat(t," hook");if(r)for(var a=0,l=r.length;a<l;a++)Kt(r[a],e,i||null,e,s);e._hasHookEvent&&e.$emit("hook:"+t),n&&ue(o),Se()}var Nt,It=[],Tt=[],Mt={},At=!1,Pt=!1,Rt=0,Ft=0,jt=Date.now;!G||Z||(Nt=window.performance)&&"function"==typeof Nt.now&&jt()>document.createEvent("Event").timeStamp&&(jt=function(){return Nt.now()});var Bt=function(e,t){if(e.post){if(!t.post)return 1}else if(t.post)return-1;return e.id-t.id};function Wt(){var e,t;for(Ft=jt(),Pt=!0,It.sort(Bt),Rt=0;Rt<It.length;Rt++)(e=It[Rt]).before&&e.before(),t=e.id,Mt[t]=null,e.run();var i=Tt.slice(),n=It.slice();Rt=It.length=Tt.length=0,At=Pt=!(Mt={}),function(e){for(var t=0;t<e.length;t++)e[t]._inactive=!0,Ot(e[t],!0)}(i),function(e){for(var t=e.length;t--;){var i=e[t],n=i.vm;n&&n._watcher===i&&n._isMounted&&!n._isDestroyed&&Et(n,"updated")}}(n),function(){for(var e=0;e<_e.length;e++){var t=_e[e];t.subs=t.subs.filter((function(e){return e})),t._pending=!1}_e.length=0}(),se&&z.devtools&&se.emit("flush")}var Vt,zt="watcher";"".concat(zt," callback"),"".concat(zt," getter"),"".concat(zt," cleanup");var Ht=(Ut.prototype.run=function(e){if(this.active){var t=Vt;try{return Vt=this,e()}finally{Vt=t}}},Ut.prototype.on=function(){Vt=this},Ut.prototype.off=function(){Vt=this.parent},Ut.prototype.stop=function(e){if(this.active){var t=void 0,i=void 0;for(t=0,i=this.effects.length;t<i;t++)this.effects[t].teardown();for(t=0,i=this.cleanups.length;t<i;t++)this.cleanups[t]();if(this.scopes)for(t=0,i=this.scopes.length;t<i;t++)this.scopes[t].stop(!0);this.detached||!this.parent||e||(e=this.parent.scopes.pop())&&e!==this&&((this.parent.scopes[this.index]=e).index=this.index),this.parent=void 0,this.active=!1}},Ut);function Ut(e){this.detached=e=void 0!==e&&e,this.active=!0,this.effects=[],this.cleanups=[],this.parent=Vt,!e&&Vt&&(this.index=(Vt.scopes||(Vt.scopes=[])).push(this)-1)}function $t(e,t,i){xe();try{if(t)for(var n=t;n=n.$parent;){var o=n.$options.errorCaptured;if(o)for(var r=0;r<o.length;r++)try{if(!1===o[r].call(n,e,t,i))return}catch(e){qt(e,n,"errorCaptured hook")}}qt(e,t,i)}finally{Se()}}function Kt(e,t,i,n,o){var r;try{(r=i?e.apply(t,i):e.call(t))&&!r._isVue&&g(r)&&!r._handled&&(r.catch((function(e){return $t(e,n,o+" (Promise/async)")})),r._handled=!0)}catch(e){$t(e,n,o)}return r}function qt(e,t,i){if(z.errorHandler)try{return z.errorHandler.call(null,e,t,i)}catch(t){t!==e&&Gt(t)}Gt(e)}function Gt(e){if(!G||"undefined"==typeof console)throw e;console.error(e)}var Yt,Zt,Xt,Qt,Jt=!1,ei=[],ti=!1;function ii(){ti=!1;for(var e=ei.slice(0),t=ei.length=0;t<e.length;t++)e[t]()}function ni(e,t){var i;if(ei.push((function(){if(e)try{e.call(t)}catch(e){$t(e,t,"nextTick")}else i&&i(t)})),ti||(ti=!0,Zt()),!e&&"undefined"!=typeof Promise)return new Promise((function(e){i=e}))}function oi(e){return function(t,i){if(i=void 0===i?he:i)return function(e,t,i){(e=e.$options)[t]=Ti(e[t],i)}(i,e,t)}}"undefined"!=typeof Promise&&ae(Promise)?(Yt=Promise.resolve(),Zt=function(){Yt.then(ii),J&&setTimeout(T)},Jt=!0):Z||"undefined"==typeof MutationObserver||!ae(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString()?Zt="undefined"!=typeof setImmediate&&ae(setImmediate)?function(){setImmediate(ii)}:function(){setTimeout(ii,0)}:(Xt=1,Nn=new MutationObserver(ii),Qt=document.createTextNode(String(Xt)),Nn.observe(Qt,{characterData:!0}),Zt=function(){Xt=(Xt+1)%2,Qt.data=String(Xt)},Jt=!0),oi("beforeMount"),oi("mounted"),oi("beforeUpdate"),oi("updated"),oi("beforeDestroy"),oi("destroyed"),oi("activated"),oi("deactivated"),oi("serverPrefetch"),oi("renderTracked"),oi("renderTriggered"),oi("errorCaptured");var ri=new de;function si(e){return function e(t,i){var n,r,s=o(t);if(!(!s&&!c(t)||t.__v_skip||Object.isFrozen(t)||t instanceof ge)){if(t.__ob__){var a=t.__ob__.dep.id;if(i.has(a))return;i.add(a)}if(s)for(n=t.length;n--;)e(t[n],i);else if(We(t))e(t.value,i);else for(n=(r=Object.keys(t)).length;n--;)e(t[r[n]],i)}}(e,ri),ri.clear(),e}var ai=0,li=(ci.prototype.get=function(){var e;xe(this);var t=this.vm;try{e=this.getter.call(t,t)}catch(e){if(!this.user)throw e;$t(e,t,'getter for watcher "'.concat(this.expression,'"'))}finally{this.deep&&si(e),Se(),this.cleanupDeps()}return e},ci.prototype.addDep=function(e){var t=e.id;this.newDepIds.has(t)||(this.newDepIds.add(t),this.newDeps.push(e),this.depIds.has(t)||e.addSub(this))},ci.prototype.cleanupDeps=function(){for(var e=this.deps.length;e--;){var t=this.deps[e];this.newDepIds.has(t.id)||t.removeSub(this)}var i=this.depIds;this.depIds=this.newDepIds,this.newDepIds=i,this.newDepIds.clear(),i=this.deps,this.deps=this.newDeps,this.newDeps=i,this.newDeps.length=0},ci.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():function(e){var t=e.id;if(null==Mt[t]&&(e!==we.target||!e.noRecurse)){if(Mt[t]=!0,Pt){for(var i=It.length-1;Rt<i&&It[i].id>e.id;)i--;It.splice(i+1,0,e)}else It.push(e);At||(At=!0,ni(Wt))}}(this)},ci.prototype.run=function(){var e,t,i;!this.active||((e=this.get())!==this.value||c(e)||this.deep)&&(t=this.value,this.value=e,this.user?(i='callback for watcher "'.concat(this.expression,'"'),Kt(this.cb,this.vm,[e,t],this.vm,i)):this.cb.call(this.vm,e,t))},ci.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},ci.prototype.depend=function(){for(var e=this.deps.length;e--;)this.deps[e].depend()},ci.prototype.teardown=function(){if(this.vm&&!this.vm._isBeingDestroyed&&_(this.vm._scope.effects,this),this.active){for(var e=this.deps.length;e--;)this.deps[e].removeSub(this);this.active=!1,this.onStop&&this.onStop()}},ci);function ci(e,t,i,n,o){var r;(r=void 0===(r=Vt&&!Vt._vm?Vt:e?e._scope:void 0)?Vt:r)&&r.active&&r.effects.push(this),(this.vm=e)&&o&&(e._watcher=this),n?(this.deep=!!n.deep,this.user=!!n.user,this.lazy=!!n.lazy,this.sync=!!n.sync,this.before=n.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=i,this.id=++ai,this.active=!0,this.post=!1,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new de,this.newDepIds=new de,this.expression="",l(t)?this.getter=t:(this.getter=function(e){if(!K.test(e)){var t=e.split(".");return function(e){for(var i=0;i<t.length;i++){if(!e)return;e=e[t[i]]}return e}}}(t),this.getter||(this.getter=T)),this.value=this.lazy?void 0:this.get()}var di={enumerable:!0,configurable:!0,get:T,set:T};function hi(e,t,i){di.get=function(){return this[t][i]},di.set=function(e){this[t][i]=e},Object.defineProperty(e,i,di)}function ui(e){var t,i=e.$options;i.props&&function(e,t){var i=e.$options.propsData||{},n=e._props=je({}),o=e.$options._propKeys=[];for(var r in e.$parent&&Ne(!1),t)!function(r){o.push(r);var s=Fi(r,t,i,e);Pe(n,r,s),r in e||hi(e,"_props",r)}(r);Ne(!0)}(e,i.props),function(e){var t=e.$options,i=t.setup;if(i){var o=e._setupContext=function(e){return{get attrs(){var t;return e._attrsProxy||($(t=e._attrsProxy={},"_v_attr_proxy",!0),ft(t,e.$attrs,n,e,"$attrs")),e._attrsProxy},get listeners(){return e._listenersProxy||ft(e._listenersProxy={},e.$listeners,n,e,"$listeners"),e._listenersProxy},get slots(){return function(e){return e._slotsProxy||mt(e._slotsProxy={},e.$scopedSlots),e._slotsProxy}(e)},emit:O(e.$emit,e),expose:function(t){t&&Object.keys(t).forEach((function(i){return Ve(e,t,i)}))}}}(e);ue(e),xe();var r=Kt(i,null,[e._props||je({}),o],e,"setup");if(Se(),ue(),l(r))t.render=r;else if(c(r))if((e._setupState=r).__sfc){var s=e._setupProxy={};for(a in r)"__sfc"!==a&&Ve(s,r,a)}else for(var a in r)U(a)||Ve(e,r,a)}}(e),i.methods&&function(e,t){for(var i in e.$options.props,t)e[i]="function"!=typeof t[i]?T:O(t[i],e)}(e,i.methods),i.data?function(e){var t=e.$options.data;h(t=e._data=l(t)?function(e,t){xe();try{return e.call(t,t)}catch(e){return $t(e,t,"data()"),{}}finally{Se()}}(t,e):t||{})||(t={});for(var i=Object.keys(t),n=e.$options.props,o=(e.$options.methods,i.length);o--;){var r=i[o];n&&C(n,r)||U(r)||hi(e,"_data",r)}(t=Ae(t))&&t.vmCount++}(e):(t=Ae(e._data={}))&&t.vmCount++,i.computed&&function(e,t){var i,n=e._computedWatchers=Object.create(null),o=re();for(i in t){var r=t[i],s=l(r)?r:r.get;o||(n[i]=new li(e,s||T,T,gi)),i in e||pi(e,i,r)}}(e,i.computed),i.watch&&i.watch!==ie&&function(e,t){for(var i in t){var n=t[i];if(o(n))for(var r=0;r<n.length;r++)vi(e,i,n[r]);else vi(e,i,n)}}(e,i.watch)}var gi={lazy:!0};function pi(e,t,i){var n=!re();l(i)?(di.get=n?fi(t):mi(i),di.set=T):(di.get=i.get?n&&!1!==i.cache?fi(t):mi(i.get):T,di.set=i.set||T),Object.defineProperty(e,t,di)}function fi(e){return function(){var t=this._computedWatchers&&this._computedWatchers[e];if(t)return t.dirty&&t.evaluate(),we.target&&t.depend(),t.value}}function mi(e){return function(){return e.call(this,this)}}function vi(e,t,i,n){return"string"==typeof(i=h(i)?(n=i).handler:i)&&(i=e[i]),e.$watch(t,i,n)}function bi(e,t){if(e){for(var i=Object.create(null),n=le?Reflect.ownKeys(e):Object.keys(e),o=0;o<n.length;o++){var r,s=n[o];"__ob__"!==s&&((r=e[s].from)in t._provided?i[s]=t._provided[r]:"default"in e[s]&&(r=e[s].default,i[s]=l(r)?r.call(t):r))}return i}}var _i=0;function wi(e){var t,i,n=e.options;return!e.super||(t=wi(e.super))!==e.superOptions&&(e.superOptions=t,(i=function(e){var t,i,n=e.options,o=e.sealedOptions;for(i in n)n[i]!==o[i]&&((t=t||{})[i]=n[i]);return t}(e))&&N(e.extendOptions,i),(n=e.options=Pi(t,e.extendOptions)).name&&(n.components[n.name]=e)),n}function Ci(e,t,i,r,s){var a,l=this,c=s.options;C(r,"_uid")?(a=Object.create(r))._original=r:r=(a=r)._original;var d=!(s=!0===c._compiled);this.data=e,this.props=t,this.children=i,this.parent=r,this.listeners=e.on||n,this.injections=bi(c.inject,r),this.slots=function(){return l.$slots||pt(r,e.scopedSlots,l.$slots=ht(i,r)),l.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return pt(r,e.scopedSlots,this.slots())}}),s&&(this.$options=c,this.$slots=this.slots(),this.$scopedSlots=pt(r,e.scopedSlots,this.$slots)),c._scopeId?this._c=function(e,t,i,n){return(n=Ye(a,e,t,i,n,d))&&!o(n)&&(n.fnScopeId=c._scopeId,n.fnContext=r),n}:this._c=function(e,t,i,n){return Ye(a,e,t,i,n,d)}}function yi(e,t,i,n){return(e=ve(e)).fnContext=i,e.fnOptions=n,t.slot&&((e.data||(e.data={})).slot=t.slot),e}function xi(e,t){for(var i in t)e[S(i)]=t[i]}function Si(e){return e.name||e.__name||e._componentTag}dt(Ci.prototype);var ki={init:function(e,t){e.componentInstance&&!e.componentInstance._isDestroyed&&e.data.keepAlive?ki.prepatch(e,e):(e.componentInstance=function(e,t){var i={_isComponent:!0,_parentVnode:e,parent:t};return s(t=e.data.inlineTemplate)&&(i.render=t.render,i.staticRenderFns=t.staticRenderFns),new e.componentOptions.Ctor(i)}(e,kt)).$mount(t?e.elm:void 0,t)},prepatch:function(e,t){var i=t.componentOptions;!function(e,t,i,o,r){var s=o.data.scopedSlots,a=e.$scopedSlots,l=!!(s&&!s.$stable||a!==n&&!a.$stable||s&&e.$scopedSlots.$key!==s.$key||!s&&e.$scopedSlots.$key);a=!!(r||e.$options._renderChildren||l),s=e.$vnode;if(e.$options._parentVnode=o,e.$vnode=o,e._vnode&&(e._vnode.parent=o),e.$options._renderChildren=r,l=o.data.attrs||n,e._attrsProxy&&ft(e._attrsProxy,l,s.data&&s.data.attrs||n,e,"$attrs")&&(a=!0),e.$attrs=l,i=i||n,l=e.$options._parentListeners,e._listenersProxy&&ft(e._listenersProxy,i,l||n,e,"$listeners"),e.$listeners=e.$options._parentListeners=i,St(e,i,l),t&&e.$options.props){Ne(!1);for(var c=e._props,d=e.$options._propKeys||[],h=0;h<d.length;h++){var u=d[h],g=e.$options.props;c[u]=Fi(u,g,t,e)}Ne(!0),e.$options.propsData=t}a&&(e.$slots=ht(r,o.context),e.$forceUpdate())}(t.componentInstance=e.componentInstance,i.propsData,i.listeners,t,i.children)},insert:function(e){var t=e.context,i=e.componentInstance;i._isMounted||(i._isMounted=!0,Et(i,"mounted")),e.data.keepAlive&&(t._isMounted?((t=i)._inactive=!1,Tt.push(t)):Ot(i,!0))},destroy:function(e){var t=e.componentInstance;t._isDestroyed||(e.data.keepAlive?function e(t,i){if(!(i&&(t._directInactive=!0,Lt(t))||t._inactive)){t._inactive=!0;for(var n=0;n<t.$children.length;n++)e(t.$children[n]);Et(t,"deactivated")}}(t,!0):t.$destroy())}},Di=Object.keys(ki);function Li(e,t,i,a,l){if(!r(e)){var d,h,u,p,f=i.$options._base;if("function"==typeof(e=c(e)?f.extend(e):e)){if(r(e.cid)&&void 0===(e=function(e,t){if(!0===e.error&&s(e.errorComp))return e.errorComp;if(s(e.resolved))return e.resolved;var i=bt;if(i&&s(e.owners)&&-1===e.owners.indexOf(i)&&e.owners.push(i),!0===e.loading&&s(e.loadingComp))return e.loadingComp;if(i&&!s(e.owners)){var n=e.owners=[i],o=!0,a=null,l=null;i.$on("hook:destroyed",(function(){return _(n,i)}));var d=function(e){for(var t=0,i=n.length;t<i;t++)n[t].$forceUpdate();e&&(n.length=0,null!==a&&(clearTimeout(a),a=null),null!==l&&(clearTimeout(l),l=null))},h=F((function(i){e.resolved=_t(i,t),o?n.length=0:d(!0)})),u=F((function(t){s(e.errorComp)&&(e.error=!0,d(!0))})),p=e(h,u);return c(p)&&(g(p)?r(e.resolved)&&p.then(h,u):g(p.component)&&(p.component.then(h,u),s(p.error)&&(e.errorComp=_t(p.error,t)),s(p.loading)&&(e.loadingComp=_t(p.loading,t),0===p.delay?e.loading=!0:a=setTimeout((function(){a=null,r(e.resolved)&&r(e.error)&&(e.loading=!0,d(!1))}),p.delay||200)),s(p.timeout)&&(l=setTimeout((function(){l=null,r(e.resolved)&&u(null)}),p.timeout)))),o=!1,e.loading?e.loadingComp:e.resolved}}(d=e,f)))return h=d,u=t,p=i,f=a,m=l,(v=fe()).asyncFactory=h,v.asyncMeta={data:u,context:p,children:f,tag:m},v;t=t||{},wi(e),s(t.model)&&function(e,t){var i=e.model&&e.model.prop||"value",n=e.model&&e.model.event||"input";(t.attrs||(t.attrs={}))[i]=t.model.value,i=(e=t.on||(t.on={}))[n],t=t.model.callback,s(i)?(o(i)?-1===i.indexOf(t):i!==t)&&(e[n]=[t].concat(i)):e[n]=t}(e.options,t);var m=function(e,t){if(!r(t=t.options.props)){var i={},n=e.attrs,o=e.props;if(s(n)||s(o))for(var a in t){var l=L(a);Ke(i,o,a,l,!0)||Ke(i,n,a,l,!1)}return i}}(t,e);if(!0===e.options.functional)return function(e,t,i,r,a){var l=e.options,c={},d=l.props;if(s(d))for(var h in d)c[h]=Fi(h,d,t||n);else s(i.attrs)&&xi(c,i.attrs),s(i.props)&&xi(c,i.props);var u=new Ci(i,c,a,r,e);if((e=l.render.call(null,u._c,u))instanceof ge)return yi(e,i,u.parent,l);if(o(e)){for(var g=qe(e)||[],p=new Array(g.length),f=0;f<g.length;f++)p[f]=yi(g[f],i,u.parent,l);return p}}(e,m,t,i,a);var v=t.on;t.on=t.nativeOn,!0===e.options.abstract&&(b=t.slot,t={},b&&(t.slot=b)),function(e){for(var t=e.hook||(e.hook={}),i=0;i<Di.length;i++){var n=Di[i],o=t[n],r=ki[n];o===r||o&&o._merged||(t[n]=o?function(e,t){function i(i,n){e(i,n),t(i,n)}return i._merged=!0,i}(r,o):r)}}(t);var b=Si(e.options)||l;return new ge("vue-component-".concat(e.cid).concat(b?"-".concat(b):""),t,void 0,void 0,void 0,i,{Ctor:e,propsData:m,listeners:v,tag:l,children:a},d)}}}var Oi=T,Ei=z.optionMergeStrategies;function Ni(e,t,i){if(void 0===i&&(i=!0),!t)return e;for(var n,o,r,s=le?Reflect.ownKeys(t):Object.keys(t),a=0;a<s.length;a++)"__ob__"!==(n=s[a])&&(o=e[n],r=t[n],i&&C(e,n)?o!==r&&h(o)&&h(r)&&Ni(o,r):Re(e,n,r));return e}function Ii(e,t,i){return i?function(){var n=l(t)?t.call(i,i):t,o=l(e)?e.call(i,i):e;return n?Ni(n,o):o}:t?e?function(){return Ni(l(t)?t.call(this,this):t,l(e)?e.call(this,this):e)}:t:e}function Ti(e,t){return(e=t?e?e.concat(t):o(t)?t:[t]:e)&&function(e){for(var t=[],i=0;i<e.length;i++)-1===t.indexOf(e[i])&&t.push(e[i]);return t}(e)}function Mi(e,t,i,n){return e=Object.create(e||null),t?N(e,t):e}Ei.data=function(e,t,i){return i?Ii(e,t,i):t&&"function"!=typeof t?e:Ii(e,t)},V.forEach((function(e){Ei[e]=Ti})),W.forEach((function(e){Ei[e+"s"]=Mi})),Ei.watch=function(e,t,i,n){if(e===ie&&(e=void 0),!(t=t===ie?void 0:t))return Object.create(e||null);if(!e)return t;var r,s={};for(r in N(s,e),t){var a=s[r],l=t[r];a&&!o(a)&&(a=[a]),s[r]=a?a.concat(l):o(l)?l:[l]}return s},Ei.props=Ei.methods=Ei.inject=Ei.computed=function(e,t,i,n){if(!e)return t;var o=Object.create(null);return N(o,e),t&&N(o,t),o},Ei.provide=function(e,t){return e?function(){var i=Object.create(null);return Ni(i,l(e)?e.call(this):e),t&&Ni(i,l(t)?t.call(this):t,!1),i}:t};var Ai=function(e,t){return void 0===t?e:t};function Pi(e,t,i){if(function(e){var t=e.props;if(t){var i,n,r={};if(o(t))for(i=t.length;i--;)"string"==typeof(n=t[i])&&(r[S(n)]={type:null});else if(h(t))for(var s in t)n=t[s],r[S(s)]=h(n)?n:{type:n};e.props=r}}(t=l(t)?t.options:t),function(e){var t=e.inject;if(t){var i=e.inject={};if(o(t))for(var n=0;n<t.length;n++)i[t[n]]={from:t[n]};else if(h(t))for(var r in t){var s=t[r];i[r]=h(s)?N({from:r},s):{from:s}}}}(t),function(e){var t=e.directives;if(t)for(var i in t){var n=t[i];l(n)&&(t[i]={bind:n,update:n})}}(t),!t._base&&(t.extends&&(e=Pi(e,t.extends,i)),t.mixins))for(var n=0,r=t.mixins.length;n<r;n++)e=Pi(e,t.mixins[n],i);var s,a={};for(s in e)c(s);for(s in t)C(e,s)||c(s);function c(n){var o=Ei[n]||Ai;a[n]=o(e[n],t[n],i,n)}return a}function Ri(e,t,i){if("string"==typeof i){var n=e[t];return C(n,i)?n[i]:C(n,e=S(i))?n[e]:C(n,t=k(e))?n[t]:n[i]||n[e]||n[t]}}function Fi(e,t,i,n){var o=t[e],r=!C(i,e);t=i[e];return-1<(i=Gi(Boolean,o.type))&&(r&&!C(o,"default")?t=!1:""!==t&&t!==L(e)||((r=Gi(String,o.type))<0||i<r)&&(t=!0)),void 0===t&&(t=function(e,t,i){if(C(t,"default")){var n=t.default;return e&&e.$options.propsData&&void 0===e.$options.propsData[i]&&void 0!==e._props[i]?e._props[i]:l(n)&&"Function"!==Ki(t.type)?n.call(e):n}}(n,o,e),e=Ee,Ne(!0),Ae(t),Ne(e)),t}var ji,Bi,Wi,Vi,zi,Hi,Ui,$i=/^\s*function (\w+)/;function Ki(e){return(e=e&&e.toString().match($i))?e[1]:""}function qi(e,t){return Ki(e)===Ki(t)}function Gi(e,t){if(!o(t))return qi(t,e)?0:-1;for(var i=0,n=t.length;i<n;i++)if(qi(t[i],e))return i;return-1}function Yi(e){this._init(e)}function Zi(e){return e&&(Si(e.Ctor.options)||e.tag)}function Xi(e,t){return o(e)?-1<e.indexOf(t):"string"==typeof e?-1<e.split(",").indexOf(t):!!function(e){return"[object RegExp]"===d.call(e)}(e)&&e.test(t)}function Qi(e,t){var i,n=e.cache,o=e.keys,r=e._vnode;for(i in n){var s=n[i];!s||(s=s.name)&&!t(s)&&Ji(n,i,o,r)}}function Ji(e,t,i,n){var o=e[t];!o||n&&o.tag===n.tag||o.componentInstance.$destroy(),e[t]=null,_(i,t)}Yi.prototype._init=function(e){var t,i,o=this;o._uid=_i++,o._isVue=!0,o.__v_skip=!0,o._scope=new Ht(!0),o._scope._vm=!0,e&&e._isComponent?function(e,t){var i=e.$options=Object.create(e.constructor.options);e=t._parentVnode;i.parent=t.parent,e=(i._parentVnode=e).componentOptions,i.propsData=e.propsData,i._parentListeners=e.listeners,i._renderChildren=e.children,i._componentTag=e.tag,t.render&&(i.render=t.render,i.staticRenderFns=t.staticRenderFns)}(o,e):o.$options=Pi(wi(o.constructor),e||{},o),function(e){var t=e.$options,i=t.parent;if(i&&!t.abstract){for(;i.$options.abstract&&i.$parent;)i=i.$parent;i.$children.push(e)}e.$parent=i,e.$root=i?i.$root:e,e.$children=[],e.$refs={},e._provided=i?i._provided:Object.create(null),e._watcher=null,e._inactive=null,e._directInactive=!1,e._isMounted=!1,e._isDestroyed=!1,e._isBeingDestroyed=!1}((o._renderProxy=o)._self=o),function(e){e._events=Object.create(null),e._hasHookEvent=!1;var t=e.$options._parentListeners;t&&St(e,t)}(o),function(e){e._vnode=null,e._staticTrees=null;var t=e.$options,i=e.$vnode=t._parentVnode,o=i&&i.context;e.$slots=ht(t._renderChildren,o),e.$scopedSlots=i?pt(e.$parent,i.data.scopedSlots,e.$slots):n,e._c=function(t,i,n,o){return Ye(e,t,i,n,o,!1)},e.$createElement=function(t,i,n,o){return Ye(e,t,i,n,o,!0)},i=i&&i.data,Pe(e,"$attrs",i&&i.attrs||n,null,!0),Pe(e,"$listeners",t._parentListeners||n,null,!0)}(o),Et(o,"beforeCreate",void 0,!1),(i=bi((t=o).$options.inject,t))&&(Ne(!1),Object.keys(i).forEach((function(e){Pe(t,e,i[e])})),Ne(!0)),ui(o),function(e){var t=e.$options.provide;if(t){var i=l(t)?t.call(e):t;if(c(i))for(var n=function(e){var t=e._provided,i=e.$parent&&e.$parent._provided;return i===t?e._provided=Object.create(i):t}(e),o=le?Reflect.ownKeys(i):Object.keys(i),r=0;r<o.length;r++){var s=o[r];Object.defineProperty(n,s,Object.getOwnPropertyDescriptor(i,s))}}}(o),Et(o,"created"),o.$options.el&&o.$mount(o.$options.el)},ji=Yi,Bi={get:function(){return this._data}},Wi={get:function(){return this._props}},Object.defineProperty(ji.prototype,"$data",Bi),Object.defineProperty(ji.prototype,"$props",Wi),ji.prototype.$set=Re,ji.prototype.$delete=Fe,ji.prototype.$watch=function(e,t,i){if(h(t))return vi(this,e,t,i);(i=i||{}).user=!0;var n=new li(this,e,t,i);return i.immediate&&(i='callback for immediate watcher "'.concat(n.expression,'"'),xe(),Kt(t,this,[n.value],this,i),Se()),function(){n.teardown()}},zi=/^hook:/,(Vi=Yi).prototype.$on=function(e,t){if(o(e))for(var i=0,n=e.length;i<n;i++)this.$on(e[i],t);else(this._events[e]||(this._events[e]=[])).push(t),zi.test(e)&&(this._hasHookEvent=!0);return this},Vi.prototype.$once=function(e,t){var i=this;function n(){i.$off(e,n),t.apply(i,arguments)}return n.fn=t,i.$on(e,n),i},Vi.prototype.$off=function(e,t){if(!arguments.length)return this._events=Object.create(null),this;if(o(e)){for(var i=0,n=e.length;i<n;i++)this.$off(e[i],t);return this}var r,s=this._events[e];if(!s)return this;if(!t)return this._events[e]=null,this;for(var a=s.length;a--;)if((r=s[a])===t||r.fn===t){s.splice(a,1);break}return this},Vi.prototype.$emit=function(e){if(t=this._events[e])for(var t=1<t.length?E(t):t,i=E(arguments,1),n='event handler for "'.concat(e,'"'),o=0,r=t.length;o<r;o++)Kt(t[o],this,i,this,n);return this},(Hi=Yi).prototype._update=function(e,t){var i=this,n=i.$el,o=i._vnode,r=Dt(i);i._vnode=e,i.$el=o?i.__patch__(o,e):i.__patch__(i.$el,e,t,!1),r(),n&&(n.__vue__=null),i.$el&&(i.$el.__vue__=i);for(var s=i;s&&s.$vnode&&s.$parent&&s.$vnode===s.$parent._vnode;)s.$parent.$el=s.$el,s=s.$parent},Hi.prototype.$forceUpdate=function(){this._watcher&&this._watcher.update()},Hi.prototype.$destroy=function(){var e,t=this;t._isBeingDestroyed||(Et(t,"beforeDestroy"),t._isBeingDestroyed=!0,!(e=t.$parent)||e._isBeingDestroyed||t.$options.abstract||_(e.$children,t),t._scope.stop(),t._data.__ob__&&t._data.__ob__.vmCount--,t._isDestroyed=!0,t.__patch__(t._vnode,null),Et(t,"destroyed"),t.$off(),t.$el&&(t.$el.__vue__=null),t.$vnode&&(t.$vnode.parent=null))},dt((Ui=Yi).prototype),Ui.prototype.$nextTick=function(e){return ni(e,this)},Ui.prototype._render=function(){var e,t,i=this,n=(t=i.$options).render;(t=t._parentVnode)&&i._isMounted&&(i.$scopedSlots=pt(i.$parent,t.data.scopedSlots,i.$slots,i.$scopedSlots),i._slotsProxy&&mt(i._slotsProxy,i.$scopedSlots)),i.$vnode=t;try{ue(i),bt=i,e=n.call(i._renderProxy,i.$createElement)}catch(t){$t(t,i,"render"),e=i._vnode}finally{bt=null,ue()}return(e=(e=o(e)&&1===e.length?e[0]:e)instanceof ge?e:fe()).parent=t,e};var en,tn,nn,on=[String,RegExp,Array],rn={KeepAlive:{name:"keep-alive",abstract:!0,props:{include:on,exclude:on,max:[String,Number]},methods:{cacheVNode:function(){var e,t,i=this.cache,n=this.keys,o=this.vnodeToCache,r=this.keyToCache;o&&(e=o.tag,t=o.componentInstance,o=o.componentOptions,i[r]={name:Zi(o),tag:e,componentInstance:t},n.push(r),this.max&&n.length>parseInt(this.max)&&Ji(i,n[0],n,this._vnode),this.vnodeToCache=null)}},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var e in this.cache)Ji(this.cache,e,this.keys)},mounted:function(){var e=this;this.cacheVNode(),this.$watch("include",(function(t){Qi(e,(function(e){return Xi(t,e)}))})),this.$watch("exclude",(function(t){Qi(e,(function(e){return!Xi(t,e)}))}))},updated:function(){this.cacheVNode()},render:function(){var e=this.$slots.default,t=wt(e),i=t&&t.componentOptions;if(i){var n=Zi(i),o=this.include,r=this.exclude;if(o&&(!n||!Xi(o,n))||r&&n&&Xi(r,n))return t;r=this.cache,n=this.keys,r[i=null==t.key?i.Ctor.cid+(i.tag?"::".concat(i.tag):""):t.key]?(t.componentInstance=r[i].componentInstance,_(n,i),n.push(i)):(this.vnodeToCache=t,this.keyToCache=i),t.data.keepAlive=!0}return t||e&&e[0]}}};en=Yi,nn={get:function(){return z}},Object.defineProperty(en,"config",nn),en.util={warn:Oi,extend:N,mergeOptions:Pi,defineReactive:Pe},en.set=Re,en.delete=Fe,en.nextTick=ni,en.observable=function(e){return Ae(e),e},en.options=Object.create(null),W.forEach((function(e){en.options[e+"s"]=Object.create(null)})),N((en.options._base=en).options.components,rn),en.use=function(e){var t=this._installedPlugins||(this._installedPlugins=[]);if(-1<t.indexOf(e))return this;var i=E(arguments,1);return i.unshift(this),l(e.install)?e.install.apply(e,i):l(e)&&e.apply(null,i),t.push(e),this},en.mixin=function(e){return this.options=Pi(this.options,e),this},function(e){e.cid=0;var t=1;e.extend=function(e){var i=this,n=i.cid,o=(e=e||{})._Ctor||(e._Ctor={});if(o[n])return o[n];var r=Si(e)||Si(i.options);function s(e){this._init(e)}return((s.prototype=Object.create(i.prototype)).constructor=s).cid=t++,s.options=Pi(i.options,e),s.super=i,s.options.props&&function(e){for(var t in e.options.props)hi(e.prototype,"_props",t)}(s),s.options.computed&&function(e){var t,i=e.options.computed;for(t in i)pi(e.prototype,t,i[t])}(s),s.extend=i.extend,s.mixin=i.mixin,s.use=i.use,W.forEach((function(e){s[e]=i[e]})),r&&(s.options.components[r]=s),s.superOptions=i.options,s.extendOptions=e,s.sealedOptions=N({},s.options),o[n]=s}}(en),tn=en,W.forEach((function(e){tn[e]=function(t,i){return i?("component"===e&&h(i)&&(i.name=i.name||t,i=this.options._base.extend(i)),"directive"===e&&l(i)&&(i={bind:i,update:i}),this.options[e+"s"][t]=i):this.options[e+"s"][t]}})),Object.defineProperty(Yi.prototype,"$isServer",{get:re}),Object.defineProperty(Yi.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(Yi,"FunctionalRenderContext",{value:Ci}),Yi.version="2.7.14";i=m("style,class");var sn=m("input,textarea,option,select,progress"),an=(t=function(e,t,i){return"value"===i&&sn(e)&&"button"!==t||"selected"===i&&"option"===e||"checked"===i&&"input"===e||"muted"===i&&"video"===e},m("contenteditable,draggable,spellcheck")),ln=m("events,caret,typing,plaintext-only"),cn=m("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,truespeed,typemustmatch,visible"),dn="http://www.w3.org/1999/xlink",hn=function(e){return":"===e.charAt(5)&&"xlink"===e.slice(0,5)},un=function(e){return hn(e)?e.slice(6,e.length):""},gn=function(e){return null==e||!1===e};function pn(e,t){return{staticClass:fn(e.staticClass,t.staticClass),class:s(e.class)?[e.class,t.class]:t.class}}function fn(e,t){return e?t?e+" "+t:e:t||""}function mn(e){return Array.isArray(e)?function(e){for(var t,i="",n=0,o=e.length;n<o;n++)s(t=mn(e[n]))&&""!==t&&(i&&(i+=" "),i+=t);return i}(e):c(e)?function(e){var t,i="";for(t in e)e[t]&&(i&&(i+=" "),i+=t);return i}(e):"string"==typeof e?e:""}function vn(e){return _n(e)||wn(e)}var bn={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},_n=m("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),wn=m("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignobject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0);function Cn(e){return wn(e)?"svg":"math"===e?"math":void 0}var yn=Object.create(null),xn=m("text,number,password,search,email,tel,url");function Sn(e){return"string"!=typeof e?e:(e=document.querySelector(e))||document.createElement("div")}function kn(e,t){var i,n,r,a,c,d,h,u=e.data.ref;s(u)&&(i=e.context,n=e.componentInstance||e.elm,r=t?null:n,a=t?void 0:n,l(u)?Kt(u,i,[r],i,"template ref function"):(h=e.data.refInFor,c=We(u),d=i.$refs,((e="string"==typeof u||"number"==typeof u)||c)&&(h?(h=e?d[u]:u.value,t?o(h)&&_(h,n):o(h)?h.includes(n)||h.push(n):e?(d[u]=[n],Dn(i,u,d[u])):u.value=[n]):e?t&&d[u]!==n||(d[u]=a,Dn(i,u,r)):c&&(t&&u.value!==n||(u.value=r)))))}function Dn(e,t,i){(e=e._setupState)&&C(e,t)&&(We(e[t])?e[t].value=i:e[t]=i)}Y=Object.freeze({__proto__:null,createElement:function(e,t){var i=document.createElement(e);return"select"!==e||t.data&&t.data.attrs&&void 0!==t.data.attrs.multiple&&i.setAttribute("multiple","multiple"),i},createElementNS:function(e,t){return document.createElementNS(bn[e],t)},createTextNode:function(e){return document.createTextNode(e)},createComment:function(e){return document.createComment(e)},insertBefore:function(e,t,i){e.insertBefore(t,i)},removeChild:function(e,t){e.removeChild(t)},appendChild:function(e,t){e.appendChild(t)},parentNode:function(e){return e.parentNode},nextSibling:function(e){return e.nextSibling},tagName:function(e){return e.tagName},setTextContent:function(e,t){e.textContent=t},setStyleScope:function(e,t){e.setAttribute(t,"")}}),oe={create:function(e,t){kn(t)},update:function(e,t){e.data.ref!==t.data.ref&&(kn(e,!0),kn(t))},destroy:function(e){kn(e,!0)}};var Ln=new ge("",{},[]),On=["create","activate","update","remove","destroy"];function En(e,t){return e.key===t.key&&e.asyncFactory===t.asyncFactory&&(e.tag===t.tag&&e.isComment===t.isComment&&s(e.data)===s(t.data)&&function(e,t){if("input"!==e.tag)return 1;e=s(i=e.data)&&s(i=i.attrs)&&i.type;var i=s(i=t.data)&&s(i=i.attrs)&&i.type;return e===i||xn(e)&&xn(i)}(e,t)||!0===e.isAsyncPlaceholder&&r(t.asyncFactory.error))}var Nn={create:In,update:In,destroy:function(e){In(e,Ln)}};function In(e,t){(e.data.directives||t.data.directives)&&function(e,t){var i,n,o,r,s=e===Ln,a=t===Ln,l=Mn(e.data.directives,e.context),c=Mn(t.data.directives,t.context),d=[],h=[];for(i in c)n=l[i],o=c[i],n?(o.oldValue=n.value,o.oldArg=n.arg,An(o,"update",t,e),o.def&&o.def.componentUpdated&&h.push(o)):(An(o,"bind",t,e),o.def&&o.def.inserted&&d.push(o));if(d.length&&(r=function(){for(var i=0;i<d.length;i++)An(d[i],"inserted",t,e)},s?$e(t,"insert",r):r()),h.length&&$e(t,"postpatch",(function(){for(var i=0;i<h.length;i++)An(h[i],"componentUpdated",t,e)})),!s)for(i in l)c[i]||An(l[i],"unbind",e,e,a)}(e,t)}var Tn=Object.create(null);function Mn(e,t){var i,n,o,r=Object.create(null);if(!e)return r;for(i=0;i<e.length;i++)(n=e[i]).modifiers||(n.modifiers=Tn),r[(o=n).rawName||"".concat(o.name,".").concat(Object.keys(o.modifiers||{}).join("."))]=n,t._setupState&&t._setupState.__sfc&&(o=n.def||Ri(t,"_setupState","v-"+n.name),n.def="function"==typeof o?{bind:o,update:o}:o),n.def=n.def||Ri(t.$options,"directives",n.name);return r}function An(e,t,i,n,o){var r=e.def&&e.def[t];if(r)try{r(i.elm,e,i,n,o)}catch(n){$t(n,i.context,"directive ".concat(e.name," ").concat(t," hook"))}}function Pn(e,t){var i=t.componentOptions;if(!(s(i)&&!1===i.Ctor.options.inheritAttrs||r(e.data.attrs)&&r(t.data.attrs))){var n,o,a=t.elm,l=e.data.attrs||{},c=t.data.attrs||{};for(n in c=s(c.__ob__)||!0===c._v_attr_proxy?t.data.attrs=N({},c):c)o=c[n],l[n]!==o&&Rn(a,n,o,t.data.pre);for(n in(Z||Q)&&c.value!==l.value&&Rn(a,"value",c.value),l)r(c[n])&&(hn(n)?a.removeAttributeNS(dn,un(n)):an(n)||a.removeAttribute(n))}}function Rn(e,t,i,n){n||-1<e.tagName.indexOf("-")?Fn(e,t,i):cn(t)?gn(i)?e.removeAttribute(t):(i="allowfullscreen"===t&&"EMBED"===e.tagName?"true":t,e.setAttribute(t,i)):an(t)?e.setAttribute(t,function(e,t){return gn(t)||"false"===t?"false":"contenteditable"===e&&ln(t)?t:"true"}(t,i)):hn(t)?gn(i)?e.removeAttributeNS(dn,un(t)):e.setAttributeNS(dn,t,i):Fn(e,t,i)}function Fn(e,t,i){var n;gn(i)?e.removeAttribute(t):(!Z||X||"TEXTAREA"!==e.tagName||"placeholder"!==t||""===i||e.__ieph||(n=function(t){t.stopImmediatePropagation(),e.removeEventListener("input",n)},e.addEventListener("input",n),e.__ieph=!0),e.setAttribute(t,i))}function jn(e,t){var i=t.elm,n=t.data;e=e.data;r(n.staticClass)&&r(n.class)&&(r(e)||r(e.staticClass)&&r(e.class))||(e=function(e){for(var t=e.data,i=e,n=e;s(n.componentInstance);)(n=n.componentInstance._vnode)&&n.data&&(t=pn(n.data,t));for(;s(i=i.parent);)i&&i.data&&(t=pn(t,i.data));return function(e,t){return s(e)||s(t)?fn(e,mn(t)):""}(t.staticClass,t.class)}(t),(e=s(t=i._transitionClasses)?fn(e,mn(t)):e)!==i._prevClass&&(i.setAttribute("class",e),i._prevClass=e))}V=[oe,Nn],on={create:Pn,update:Pn};oe={create:jn,update:jn};var Bn,Wn,Vn,zn,Hn,Un,$n=/[\w).+\-_$\]]/;function Kn(e){for(var t,i,n,o,r=!1,s=!1,a=!1,l=!1,c=0,d=0,h=0,u=0,g=0;g<e.length;g++)if(i=t,t=e.charCodeAt(g),r)39===t&&92!==i&&(r=!1);else if(s)34===t&&92!==i&&(s=!1);else if(a)96===t&&92!==i&&(a=!1);else if(l)47===t&&92!==i&&(l=!1);else if(124!==t||124===e.charCodeAt(g+1)||124===e.charCodeAt(g-1)||c||d||h){switch(t){case 34:s=!0;break;case 39:r=!0;break;case 96:a=!0;break;case 40:h++;break;case 41:h--;break;case 91:d++;break;case 93:d--;break;case 123:c++;break;case 125:c--}if(47===t){for(var p=g-1,f=void 0;0<=p&&" "===(f=e.charAt(p));p--);f&&$n.test(f)||(l=!0)}}else void 0===n?(u=g+1,n=e.slice(0,g).trim()):m();function m(){(o=o||[]).push(e.slice(u,g).trim()),u=g+1}if(void 0===n?n=e.slice(0,g).trim():0!==u&&m(),o)for(g=0;g<o.length;g++)n=function(e,t){if((n=t.indexOf("("))<0)return'_f("'.concat(t,'")(').concat(e,")");var i=t.slice(0,n),n=t.slice(n+1);return'_f("'.concat(i,'")(').concat(e).concat(")"!==n?","+n:n)}(n,o[g]);return n}function qn(e,t){console.error("[Vue compiler]: ".concat(e))}function Gn(e,t){return e?e.map((function(e){return e[t]})).filter((function(e){return e})):[]}function Yn(e,t,i,n,o){(e.props||(e.props=[])).push(no({name:t,value:i,dynamic:o},n)),e.plain=!1}function Zn(e,t,i,n,o){(o?e.dynamicAttrs||(e.dynamicAttrs=[]):e.attrs||(e.attrs=[])).push(no({name:t,value:i,dynamic:o},n)),e.plain=!1}function Xn(e,t,i,n){e.attrsMap[t]=i,e.attrsList.push(no({name:t,value:i},n))}function Qn(e,t,i){return i?"_p(".concat(t,',"').concat(e,'")'):e+t}function Jn(e,t,i,o,r,s,a,l){(o=o||n).right?l?t="(".concat(t,")==='click'?'contextmenu':(").concat(t,")"):"click"===t&&(t="contextmenu",delete o.right):o.middle&&(l?t="(".concat(t,")==='click'?'mouseup':(").concat(t,")"):"click"===t&&(t="mouseup")),o.capture&&(delete o.capture,t=Qn("!",t,l)),o.once&&(delete o.once,t=Qn("~",t,l)),o.passive&&(delete o.passive,t=Qn("&",t,l));var c=o.native?(delete o.native,e.nativeEvents||(e.nativeEvents={})):e.events||(e.events={});a=no({value:i.trim(),dynamic:l},a);o!==n&&(a.modifiers=o),o=c[t],Array.isArray(o)?r?o.unshift(a):o.push(a):c[t]=o?r?[a,o]:[o,a]:a,e.plain=!1}function eo(e,t,i){var n=to(e,":"+t)||to(e,"v-bind:"+t);return null!=n?Kn(n):!1!==i&&null!=(t=to(e,t))?JSON.stringify(t):void 0}function to(e,t,i){var n;if(null!=(n=e.attrsMap[t]))for(var o=e.attrsList,r=0,s=o.length;r<s;r++)if(o[r].name===t){o.splice(r,1);break}return i&&delete e.attrsMap[t],n}function io(e,t){for(var i=e.attrsList,n=0,o=i.length;n<o;n++){var r=i[n];if(t.test(r.name))return i.splice(n,1),r}}function no(e,t){return t&&(null!=t.start&&(e.start=t.start),null!=t.end&&(e.end=t.end)),e}function oo(e,t,i){var n=i||{},o=n.number;i="$$v";n.trim&&(i="(typeof ".concat("$$v"," === 'string'")+"? ".concat("$$v",".trim()")+": ".concat("$$v",")")),i=ro(t,i=o?"_n(".concat(i,")"):i),e.model={value:"(".concat(t,")"),expression:JSON.stringify(t),callback:"function (".concat("$$v",") {").concat(i,"}")}}function ro(e,t){var i=function(e){if(e=e.trim(),Bn=e.length,e.indexOf("[")<0||e.lastIndexOf("]")<Bn-1)return-1<(zn=e.lastIndexOf("."))?{exp:e.slice(0,zn),key:'"'+e.slice(zn+1)+'"'}:{exp:e,key:null};for(Wn=e,zn=Hn=Un=0;!ao();)lo(Vn=so())?co(Vn):91===Vn&&function(e){var t=1;for(Hn=zn;!ao();)if(lo(e=so()))co(e);else if(91===e&&t++,93===e&&t--,0===t){Un=zn;break}}(Vn);return{exp:e.slice(0,Hn),key:e.slice(Hn+1,Un)}}(e);return null===i.key?"".concat(e,"=").concat(t):"$set(".concat(i.exp,", ").concat(i.key,", ").concat(t,")")}function so(){return Wn.charCodeAt(++zn)}function ao(){return Bn<=zn}function lo(e){return 34===e||39===e}function co(e){for(var t=e;!ao()&&(e=so())!==t;);}var ho,uo="__r";function go(e,t,i){var n=ho;return function o(){null!==t.apply(null,arguments)&&mo(e,o,i,n)}}var po=Jt&&!(te&&Number(te[1])<=53);function fo(e,t,i,n){var o,r;po&&(o=Ft,t=(r=t)._wrapper=function(e){if(e.target===e.currentTarget||e.timeStamp>=o||e.timeStamp<=0||e.target.ownerDocument!==document)return r.apply(this,arguments)}),ho.addEventListener(e,t,ne?{capture:i,passive:n}:i)}function mo(e,t,i,n){(n||ho).removeEventListener(e,t._wrapper||t,i)}function vo(e,t){var i,n,o;r(e.data.on)&&r(t.data.on)||(i=t.data.on||{},n=e.data.on||{},ho=t.elm||e.elm,s((o=i).__r)&&(o[e=Z?"change":"input"]=[].concat(o.__r,o[e]||[]),delete o.__r),s(o.__c)&&(o.change=[].concat(o.__c,o.change||[]),delete o.__c),Ue(i,n,fo,mo,go,t.context),ho=void 0)}var bo;Nn={create:vo,update:vo,destroy:function(e){return vo(e,Ln)}};function _o(e,t){if(!r(e.data.domProps)||!r(t.data.domProps)){var i,n,o,a,l=t.elm,c=e.data.domProps||{},d=t.data.domProps||{};for(i in!s(d.__ob__)&&!0!==d._v_attr_proxy||(d=t.data.domProps=N({},d)),c)i in d||(l[i]="");for(i in d){if(n=d[i],"textContent"===i||"innerHTML"===i){if(t.children&&(t.children.length=0),n===c[i])continue;1===l.childNodes.length&&l.removeChild(l.childNodes[0])}if("value"===i&&"PROGRESS"!==l.tagName){var h=r(l._value=n)?"":String(n);a=h,(o=l).composing||"OPTION"!==o.tagName&&!function(e,t){var i=!0;try{i=document.activeElement!==e}catch(e){}return i&&e.value!==t}(o,a)&&!function(e,t){var i=e.value;if(s(e=e._vModifiers)){if(e.number)return f(i)!==f(t);if(e.trim)return i.trim()!==t.trim()}return i!==t}(o,a)||(l.value=h)}else if("innerHTML"===i&&wn(l.tagName)&&r(l.innerHTML)){(bo=bo||document.createElement("div")).innerHTML="<svg>".concat(n,"</svg>");for(var u=bo.firstChild;l.firstChild;)l.removeChild(l.firstChild);for(;u.firstChild;)l.appendChild(u.firstChild)}else if(n!==c[i])try{l[i]=n}catch(e){}}}}Jt={create:_o,update:_o};var wo=y((function(e){var t={},i=/:(.+)/;return e.split(/;(?![^(]*\))/g).forEach((function(e){!e||1<(e=e.split(i)).length&&(t[e[0].trim()]=e[1].trim())})),t}));function Co(e){var t=yo(e.style);return e.staticStyle?N(e.staticStyle,t):t}function yo(e){return Array.isArray(e)?I(e):"string"==typeof e?wo(e):e}function xo(e,t,i){if(ko.test(t))e.style.setProperty(t,i);else if(Do.test(i))e.style.setProperty(L(t),i.replace(Do,""),"important");else{var n=Oo(t);if(Array.isArray(i))for(var o=0,r=i.length;o<r;o++)e.style[n]=i[o];else e.style[n]=i}}var So,ko=/^--/,Do=/\s*!important$/,Lo=["Webkit","Moz","ms"],Oo=y((function(e){if(So=So||document.createElement("div").style,"filter"!==(e=S(e))&&e in So)return e;for(var t=e.charAt(0).toUpperCase()+e.slice(1),i=0;i<Lo.length;i++){var n=Lo[i]+t;if(n in So)return n}}));function Eo(e,t){var i=t.data;e=e.data;if(!(r(i.staticStyle)&&r(i.style)&&r(e.staticStyle)&&r(e.style))){var n,o,a=t.elm,l=(i=e.staticStyle,e=e.normalizedStyle||e.style||{},i||e);e=yo(t.data.style)||{};t.data.normalizedStyle=s(e.__ob__)?N({},e):e;var c=function(e,t){for(var i,n={},o=e;o.componentInstance;)(o=o.componentInstance._vnode)&&o.data&&(i=Co(o.data))&&N(n,i);(i=Co(e.data))&&N(n,i);for(var r=e;r=r.parent;)r.data&&(i=Co(r.data))&&N(n,i);return n}(t);for(o in l)r(c[o])&&xo(a,o,"");for(o in c)(n=c[o])!==l[o]&&xo(a,o,null==n?"":n)}}te={create:Eo,update:Eo};var No=/\s+/;function Io(e,t){var i;(t=t&&t.trim())&&(e.classList?-1<t.indexOf(" ")?t.split(No).forEach((function(t){return e.classList.add(t)})):e.classList.add(t):(i=" ".concat(e.getAttribute("class")||""," ")).indexOf(" "+t+" ")<0&&e.setAttribute("class",(i+t).trim()))}function To(e,t){if(t=t&&t.trim())if(e.classList)-1<t.indexOf(" ")?t.split(No).forEach((function(t){return e.classList.remove(t)})):e.classList.remove(t),e.classList.length||e.removeAttribute("class");else{for(var i=" ".concat(e.getAttribute("class")||""," "),n=" "+t+" ";0<=i.indexOf(n);)i=i.replace(n," ");(i=i.trim())?e.setAttribute("class",i):e.removeAttribute("class")}}function Mo(e){if(e){if("object"!=typeof e)return"string"==typeof e?Ao(e):void 0;var t={};return!1!==e.css&&N(t,Ao(e.name||"v")),N(t,e),t}}var Ao=y((function(e){return{enterClass:"".concat(e,"-enter"),enterToClass:"".concat(e,"-enter-to"),enterActiveClass:"".concat(e,"-enter-active"),leaveClass:"".concat(e,"-leave"),leaveToClass:"".concat(e,"-leave-to"),leaveActiveClass:"".concat(e,"-leave-active")}})),Po=G&&!X,Ro="transition",Fo="animation",jo="transition",Bo="transitionend",Wo="animation",Vo="animationend";Po&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(jo="WebkitTransition",Bo="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(Wo="WebkitAnimation",Vo="webkitAnimationEnd"));var zo=G?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(e){return e()};function Ho(e){zo((function(){zo(e)}))}function Uo(e,t){var i=e._transitionClasses||(e._transitionClasses=[]);i.indexOf(t)<0&&(i.push(t),Io(e,t))}function $o(e,t){e._transitionClasses&&_(e._transitionClasses,t),To(e,t)}function Ko(e,t,i){var n=Go(e,t),o=n.type,r=(t=n.timeout,n.propCount);if(!o)return i();function s(){e.removeEventListener(a,c),i()}var a=o===Ro?Bo:Vo,l=0,c=function(t){t.target===e&&++l>=r&&s()};setTimeout((function(){l<r&&s()}),t+1),e.addEventListener(a,c)}var qo=/\b(transform|all)(,|$)/;function Go(e,t){var i,n=window.getComputedStyle(e),o=(n[jo+"Delay"]||"").split(", "),r=(n[jo+"Duration"]||"").split(", "),s=Yo(o,r),a=(n[Wo+"Delay"]||"").split(", "),l=(n[Wo+"Duration"]||"").split(", ");e=Yo(a,l),o=0,a=0;return t===Ro?0<s&&(i=Ro,o=s,a=r.length):t===Fo?0<e&&(i=Fo,o=e,a=l.length):a=(i=0<(o=Math.max(s,e))?e<s?Ro:Fo:null)?(i===Ro?r:l).length:0,{type:i,timeout:o,propCount:a,hasTransform:i===Ro&&qo.test(n[jo+"Property"])}}function Yo(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max.apply(null,t.map((function(t,i){return Zo(t)+Zo(e[i])})))}function Zo(e){return 1e3*Number(e.slice(0,-1).replace(",","."))}function Xo(e,t){var i=e.elm;if(s(i._leaveCb)&&(i._leaveCb.cancelled=!0,i._leaveCb()),!r(j=Mo(e.data.transition))&&!s(i._enterCb)&&1===i.nodeType){for(var n=j.css,o=j.type,a=j.enterClass,d=j.enterToClass,h=j.enterActiveClass,u=j.appearClass,g=j.appearToClass,p=j.appearActiveClass,m=j.beforeEnter,v=j.enter,b=j.afterEnter,_=j.enterCancelled,w=j.beforeAppear,C=j.appear,y=j.afterAppear,x=j.appearCancelled,S=j.duration,k=kt,D=kt.$vnode;D&&D.parent;)k=D.context,D=D.parent;var L,O,E,N,I,T,M,A,P,R,j;(j=!k._isMounted||!e.isRootInsert)&&!C&&""!==C||(L=j&&u?u:a,O=j&&p?p:h,E=j&&g?g:d,m=j&&w||m,N=j&&l(C)?C:v,I=j&&y||b,T=j&&x||_,M=f(c(S)?S.enter:S),A=!1!==n&&!X,P=er(N),R=i._enterCb=F((function(){A&&($o(i,E),$o(i,O)),R.cancelled?(A&&$o(i,L),T&&T(i)):I&&I(i),i._enterCb=null})),e.data.show||$e(e,"insert",(function(){var t;(t=(t=i.parentNode)&&t._pending&&t._pending[e.key])&&t.tag===e.tag&&t.elm._leaveCb&&t.elm._leaveCb(),N&&N(i,R)})),m&&m(i),A&&(Uo(i,L),Uo(i,O),Ho((function(){$o(i,L),R.cancelled||(Uo(i,E),P||(Jo(M)?setTimeout(R,M):Ko(i,o,R)))}))),e.data.show&&(t&&t(),N&&N(i,R)),A||P||R())}}function Qo(e,t){var i=e.elm;s(i._enterCb)&&(i._enterCb.cancelled=!0,i._enterCb());var n,o,a,l,d,h,u,g,p,m,v,b,_,w,C=Mo(e.data.transition);if(r(C)||1!==i.nodeType)return t();function y(){w.cancelled||(!e.data.show&&i.parentNode&&((i.parentNode._pending||(i.parentNode._pending={}))[e.key]=e),h&&h(i),v&&(Uo(i,a),Uo(i,d),Ho((function(){$o(i,a),w.cancelled||(Uo(i,l),b||(Jo(_)?setTimeout(w,_):Ko(i,o,w)))}))),u&&u(i,w),v||b||w())}s(i._leaveCb)||(n=C.css,o=C.type,a=C.leaveClass,l=C.leaveToClass,d=C.leaveActiveClass,h=C.beforeLeave,u=C.leave,g=C.afterLeave,p=C.leaveCancelled,m=C.delayLeave,C=C.duration,v=!1!==n&&!X,b=er(u),_=f(c(C)?C.leave:C),w=i._leaveCb=F((function(){i.parentNode&&i.parentNode._pending&&(i.parentNode._pending[e.key]=null),v&&($o(i,l),$o(i,d)),w.cancelled?(v&&$o(i,a),p&&p(i)):(t(),g&&g(i)),i._leaveCb=null})),m?m(y):y())}function Jo(e){return"number"==typeof e&&!isNaN(e)}function er(e){if(r(e))return!1;var t=e.fns;return s(t)?er(Array.isArray(t)?t[0]:t):1<(e._length||e.length)}function tr(e,t){!0!==t.data.show&&Xo(t)}oe=function(e){for(var t,i={},n=e.modules,l=e.nodeOps,c=0;c<On.length;++c)for(i[On[c]]=[],t=0;t<n.length;++t)s(n[t][On[c]])&&i[On[c]].push(n[t][On[c]]);function d(e,t){function i(){0==--i.listeners&&h(e)}return i.listeners=t,i}function h(e){var t=l.parentNode(e);s(t)&&l.removeChild(t,e)}function u(e,t,n,o,r,a,c){(e=s(e.elm)&&s(a)?a[c]=ve(e):e).isRootInsert=!r,function(e,t,n,o){var r=e.data;if(s(r)){var a=s(e.componentInstance)&&r.keepAlive;if(s(r=r.hook)&&s(r=r.init)&&r(e,!1),s(e.componentInstance))return g(e,t),p(n,e.elm,o),!0===a&&function(e,t,n,o){for(var r,a=e;a.componentInstance;)if(s(r=(a=a.componentInstance._vnode).data)&&s(r=r.transition)){for(r=0;r<i.activate.length;++r)i.activate[r](Ln,a);t.push(a);break}p(n,e.elm,o)}(e,t,n,o),!0}}(e,t,n,o)||(a=e.data,c=e.children,s(r=e.tag)?(e.elm=e.ns?l.createElementNS(e.ns,r):l.createElement(r,e),_(e),f(e,c,t),s(a)&&b(e,t)):!0===e.isComment?e.elm=l.createComment(e.text):e.elm=l.createTextNode(e.text),p(n,e.elm,o))}function g(e,t){s(e.data.pendingInsert)&&(t.push.apply(t,e.data.pendingInsert),e.data.pendingInsert=null),e.elm=e.componentInstance.$el,v(e)?(b(e,t),_(e)):(kn(e),t.push(e))}function p(e,t,i){s(e)&&(s(i)?l.parentNode(i)===e&&l.insertBefore(e,t,i):l.appendChild(e,t))}function f(e,t,i){if(o(t))for(var n=0;n<t.length;++n)u(t[n],i,e.elm,null,!0,t,n);else a(e.text)&&l.appendChild(e.elm,l.createTextNode(String(e.text)))}function v(e){for(;e.componentInstance;)e=e.componentInstance._vnode;return s(e.tag)}function b(e,t){for(var n=0;n<i.create.length;++n)i.create[n](Ln,e);s(c=e.data.hook)&&(s(c.create)&&c.create(Ln,e),s(c.insert)&&t.push(e))}function _(e){var t;if(s(t=e.fnScopeId))l.setStyleScope(e.elm,t);else for(var i=e;i;)s(t=i.context)&&s(t=t.$options._scopeId)&&l.setStyleScope(e.elm,t),i=i.parent;s(t=kt)&&t!==e.context&&t!==e.fnContext&&s(t=t.$options._scopeId)&&l.setStyleScope(e.elm,t)}function w(e,t,i,n,o,r){for(;n<=o;++n)u(i[n],r,e,t,!1,i,n)}function C(e){var t,n,o=e.data;if(s(o))for(s(t=o.hook)&&s(t=t.destroy)&&t(e),t=0;t<i.destroy.length;++t)i.destroy[t](e);if(s(t=e.children))for(n=0;n<e.children.length;++n)C(e.children[n])}function y(e,t,n){for(;t<=n;++t){var o=e[t];s(o)&&(s(o.tag)?(function e(t,n){if(s(n)||s(t.data)){var o,r=i.remove.length+1;for(s(n)?n.listeners+=r:n=d(t.elm,r),s(o=t.componentInstance)&&s(o=o._vnode)&&s(o.data)&&e(o,n),o=0;o<i.remove.length;++o)i.remove[o](t,n);s(o=t.data.hook)&&s(o=o.remove)?o(t,n):n()}else h(t.elm)}(o),C(o)):h(o.elm))}}function x(e,t,n,o,a,c){if(e!==t){var d=(t=s(t.elm)&&s(o)?o[a]=ve(t):t).elm=e.elm;if(!0!==e.isAsyncPlaceholder)if(!0!==t.isStatic||!0!==e.isStatic||t.key!==e.key||!0!==t.isCloned&&!0!==t.isOnce){var h,g=t.data;if(s(g)&&s(h=g.hook)&&s(h=h.prepatch)&&h(e,t),o=e.children,a=t.children,s(g)&&v(t)){for(h=0;h<i.update.length;++h)i.update[h](e,t);s(h=g.hook)&&s(h=h.update)&&h(e,t)}r(t.text)?s(o)&&s(a)?o!==a&&function(e,t,i,n,o){for(var a,c,d,h=0,g=0,p=t.length-1,f=t[0],m=t[p],v=i.length-1,b=i[0],_=i[v],C=!o;h<=p&&g<=v;)r(f)?f=t[++h]:r(m)?m=t[--p]:En(f,b)?(x(f,b,n,i,g),f=t[++h],b=i[++g]):En(m,_)?(x(m,_,n,i,v),m=t[--p],_=i[--v]):En(f,_)?(x(f,_,n,i,v),C&&l.insertBefore(e,f.elm,l.nextSibling(m.elm)),f=t[++h],_=i[--v]):(En(m,b)?(x(m,b,n,i,g),C&&l.insertBefore(e,m.elm,f.elm),m=t[--p]):(r(a)&&(a=function(e,t,i){for(var n,o={},r=t;r<=i;++r)s(n=e[r].key)&&(o[n]=r);return o}(t,h,p)),!r(c=s(b.key)?a[b.key]:function(e,t,i,n){for(var o=i;o<n;o++){var r=t[o];if(s(r)&&En(e,r))return o}}(b,t,h,p))&&En(d=t[c],b)?(x(d,b,n,i,g),t[c]=void 0,C&&l.insertBefore(e,d.elm,f.elm)):u(b,n,e,f.elm,!1,i,g)),b=i[++g]);p<h?w(e,r(i[v+1])?null:i[v+1].elm,i,g,v,n):v<g&&y(t,h,p)}(d,o,a,n,c):s(a)?(s(e.text)&&l.setTextContent(d,""),w(d,null,a,0,a.length-1,n)):s(o)?y(o,0,o.length-1):s(e.text)&&l.setTextContent(d,""):e.text!==t.text&&l.setTextContent(d,t.text),s(g)&&s(h=g.hook)&&s(h=h.postpatch)&&h(e,t)}else t.componentInstance=e.componentInstance;else s(t.asyncFactory.resolved)?D(e.elm,t,n):t.isAsyncPlaceholder=!0}}function S(e,t,i){if(!0===i&&s(e.parent))e.parent.data.pendingInsert=t;else for(var n=0;n<t.length;++n)t[n].data.hook.insert(t[n])}var k=m("attrs,class,staticClass,staticStyle,key");function D(e,t,i,n){var o,r=t.tag,a=t.data,l=t.children;if(n=n||a&&a.pre,t.elm=e,!0===t.isComment&&s(t.asyncFactory))return t.isAsyncPlaceholder=!0;if(s(a)&&(s(o=a.hook)&&s(o=o.init)&&o(t,!0),s(o=t.componentInstance)))return g(t,i),1;if(s(r)){if(s(l))if(e.hasChildNodes())if(s(o=a)&&s(o=o.domProps)&&s(o=o.innerHTML)){if(o!==e.innerHTML)return}else{for(var c=!0,d=e.firstChild,h=0;h<l.length;h++){if(!d||!D(d,l[h],i,n)){c=!1;break}d=d.nextSibling}if(!c||d)return}else f(t,l,i);if(s(a)){var u,p=!1;for(u in a)if(!k(u)){p=!0,b(t,i);break}!p&&a.class&&si(a.class)}}else e.data!==t.text&&(e.data=t.text);return 1}return function(e,t,n,o){if(!r(t)){var a=!1,c=[];if(r(e))a=!0,u(t,c);else{var d=s(e.nodeType);if(!d&&En(e,t))x(e,t,c,null,null,o);else{if(d){if(1===e.nodeType&&e.hasAttribute(B)&&(e.removeAttribute(B),n=!0),!0===n&&D(e,t,c))return S(t,c,!0),e;h=e,e=new ge(l.tagName(h).toLowerCase(),{},[],void 0,h)}n=e.elm;var h=l.parentNode(n);if(u(t,c,n._leaveCb?null:h,l.nextSibling(n)),s(t.parent))for(var g=t.parent,p=v(t);g;){for(var f=0;f<i.destroy.length;++f)i.destroy[f](g);if(g.elm=t.elm,p){for(var m=0;m<i.create.length;++m)i.create[m](Ln,g);var b=g.data.hook.insert;if(b.merged)for(var _=1;_<b.fns.length;_++)b.fns[_]()}else kn(g);g=g.parent}s(h)?y([e],0,0):s(e.tag)&&C(e)}}return S(t,c,a),t.elm}s(e)&&C(e)}}({nodeOps:Y,modules:[on,oe,Nn,Jt,te,G?{create:tr,activate:tr,remove:function(e,t){!0!==e.data.show?Qo(e,t):t()}}:{}].concat(V)}),X&&document.addEventListener("selectionchange",(function(){var e=document.activeElement;e&&e.vmodel&&cr(e,"input")}));var ir={inserted:function(e,t,i,n){"select"===i.tag?(n.elm&&!n.elm._vOptions?$e(i,"postpatch",(function(){ir.componentUpdated(e,t,i)})):nr(e,t,i.context),e._vOptions=[].map.call(e.options,sr)):"textarea"!==i.tag&&!xn(e.type)||(e._vModifiers=t.modifiers,t.modifiers.lazy||(e.addEventListener("compositionstart",ar),e.addEventListener("compositionend",lr),e.addEventListener("change",lr),X&&(e.vmodel=!0)))},componentUpdated:function(e,t,i){var n,o;"select"===i.tag&&(nr(e,t,i.context),n=e._vOptions,(o=e._vOptions=[].map.call(e.options,sr)).some((function(e,t){return!P(e,n[t])}))&&(e.multiple?t.value.some((function(e){return rr(e,o)})):t.value!==t.oldValue&&rr(t.value,o))&&cr(e,"change"))}};function nr(e,t,i){or(e,t),(Z||Q)&&setTimeout((function(){or(e,t)}),0)}function or(e,t){var i=t.value,n=e.multiple;if(!n||Array.isArray(i)){for(var o,r,s=0,a=e.options.length;s<a;s++)if(r=e.options[s],n)o=-1<R(i,sr(r)),r.selected!==o&&(r.selected=o);else if(P(sr(r),i))return void(e.selectedIndex!==s&&(e.selectedIndex=s));n||(e.selectedIndex=-1)}}function rr(e,t){return t.every((function(t){return!P(t,e)}))}function sr(e){return"_value"in e?e._value:e.value}function ar(e){e.target.composing=!0}function lr(e){e.target.composing&&(e.target.composing=!1,cr(e.target,"input"))}function cr(e,t){var i=document.createEvent("HTMLEvents");i.initEvent(t,!0,!0),e.dispatchEvent(i)}function dr(e){return!e.componentInstance||e.data&&e.data.transition?e:dr(e.componentInstance._vnode)}function hr(e){var t=e&&e.componentOptions;return t&&t.Ctor.options.abstract?hr(wt(t.children)):e}function ur(e){var t={},i=e.$options;for(n in i.propsData)t[n]=e[n];var n,o=i._parentListeners;for(n in o)t[S(n)]=o[n];return t}function gr(e,t){if(/\d-keep-alive$/.test(t.tag))return e("keep-alive",{props:t.componentOptions.propsData})}function pr(e){return e.tag||gt(e)}function fr(e){return"show"===e.name}function mr(e){e.elm._moveCb&&e.elm._moveCb(),e.elm._enterCb&&e.elm._enterCb()}function vr(e){e.data.newPos=e.elm.getBoundingClientRect()}function br(e){var t=e.data.pos,i=e.data.newPos,n=t.left-i.left;i=t.top-i.top;(n||i)&&(e.data.moved=!0,(e=e.elm.style).transform=e.WebkitTransform="translate(".concat(n,"px,").concat(i,"px)"),e.transitionDuration="0s")}Nn={model:ir,show:{bind:function(e,t,i){var n=t.value,o=(t=(i=dr(i)).data&&i.data.transition,e.__vOriginalDisplay="none"===e.style.display?"":e.style.display);n&&t?(i.data.show=!0,Xo(i,(function(){e.style.display=o}))):e.style.display=n?o:"none"},update:function(e,t,i){var n=t.value;!n!=!t.oldValue&&((i=dr(i)).data&&i.data.transition?(i.data.show=!0,n?Xo(i,(function(){e.style.display=e.__vOriginalDisplay})):Qo(i,(function(){e.style.display="none"}))):e.style.display=n?e.__vOriginalDisplay:"none")},unbind:function(e,t,i,n,o){o||(e.style.display=e.__vOriginalDisplay)}}},te={name:"transition",props:Jt={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]},abstract:!0,render:function(e){var t=this,i=this.$slots.default;if(i&&(i=i.filter(pr)).length){var n=this.mode,o=i[0];if(function(e){for(;e=e.parent;)if(e.data.transition)return 1}(this.$vnode))return o;var r=hr(o);if(!r)return o;if(this._leaving)return gr(e,o);var s="__transition-".concat(this._uid,"-");r.key=null==r.key?r.isComment?s+"comment":s+r.tag:a(r.key)&&0!==String(r.key).indexOf(s)?s+r.key:r.key;var l=(r.data||(r.data={})).transition=ur(this),c=hr(h=this._vnode);if(r.data.directives&&r.data.directives.some(fr)&&(r.data.show=!0),c&&c.data&&(i=r,(s=c).key!==i.key||s.tag!==i.tag)&&!gt(c)&&(!c.componentInstance||!c.componentInstance._vnode.isComment)){if(c=c.data.transition=N({},l),"out-in"===n)return this._leaving=!0,$e(c,"afterLeave",(function(){t._leaving=!1,t.$forceUpdate()})),gr(e,o);if("in-out"===n){if(gt(r))return h;var d,h;$e(l,"afterEnter",h=function(){d()}),$e(l,"enterCancelled",h),$e(c,"delayLeave",(function(e){d=e}))}}return o}}},delete(V=N({tag:String,moveClass:String},Jt)).mode,Jt={Transition:te,TransitionGroup:{props:V,beforeMount:function(){var e=this,t=this._update;this._update=function(i,n){var o=Dt(e);e.__patch__(e._vnode,e.kept,!1,!0),e._vnode=e.kept,o(),t.call(e,i,n)}},render:function(e){for(var t=this.tag||this.$vnode.data.tag||"span",i=Object.create(null),n=this.prevChildren=this.children,o=this.$slots.default||[],r=this.children=[],s=ur(this),a=0;a<o.length;a++)(l=o[a]).tag&&null!=l.key&&0!==String(l.key).indexOf("__vlist")&&(r.push(l),((i[l.key]=l).data||(l.data={})).transition=s);if(n){var l,c=[],d=[];for(a=0;a<n.length;a++)(l=n[a]).data.transition=s,l.data.pos=l.elm.getBoundingClientRect(),(i[l.key]?c:d).push(l);this.kept=e(t,null,c),this.removed=d}return e(t,null,r)},updated:function(){var e=this.prevChildren,t=this.moveClass||(this.name||"v")+"-move";e.length&&this.hasMove(e[0].elm,t)&&(e.forEach(mr),e.forEach(vr),e.forEach(br),this._reflow=document.body.offsetHeight,e.forEach((function(e){var i;e.data.moved&&(e=(i=e.elm).style,Uo(i,t),e.transform=e.WebkitTransform=e.transitionDuration="",i.addEventListener(Bo,i._moveCb=function e(n){n&&n.target!==i||n&&!/transform$/.test(n.propertyName)||(i.removeEventListener(Bo,e),i._moveCb=null,$o(i,t))}))})))},methods:{hasMove:function(e,t){if(!Po)return!1;if(this._hasMove)return this._hasMove;var i=e.cloneNode();return e._transitionClasses&&e._transitionClasses.forEach((function(e){To(i,e)})),Io(i,t),i.style.display="none",this.$el.appendChild(i),t=Go(i),this.$el.removeChild(i),this._hasMove=t.hasTransform}}}},Yi.config.mustUseProp=t,Yi.config.isReservedTag=vn,Yi.config.isReservedAttr=i,Yi.config.getTagNamespace=Cn,Yi.config.isUnknownElement=function(e){if(!G)return!0;if(vn(e))return!1;if(e=e.toLowerCase(),null!=yn[e])return yn[e];var t=document.createElement(e);return-1<e.indexOf("-")?yn[e]=t.constructor===window.HTMLUnknownElement||t.constructor===window.HTMLElement:yn[e]=/HTMLUnknownElement/.test(t.toString())},N(Yi.options.directives,Nn),N(Yi.options.components,Jt),Yi.prototype.__patch__=G?oe:T,Yi.prototype.$mount=function(e,t){return function(e,t,i){e.$el=t,e.$options.render||(e.$options.render=fe),Et(e,"beforeMount"),t=function(){e._update(e._render(),i)},new li(e,t,T,{before:function(){e._isMounted&&!e._isDestroyed&&Et(e,"beforeUpdate")}},!0),i=!1;var n=e._preWatchers;if(n)for(var o=0;o<n.length;o++)n[o].run();return null==e.$vnode&&(e._isMounted=!0,Et(e,"mounted")),e}(this,e=e&&G?Sn(e):void 0,t)},G&&setTimeout((function(){z.devtools&&se&&se.emit("init",Yi)}),0);var _r=/\{\{((?:.|\r?\n)+?)\}\}/g,wr=/[-.*+?^${}()|[\]\/\\]/g,Cr=y((function(e){var t=e[0].replace(wr,"\\$&");e=e[1].replace(wr,"\\$&");return new RegExp(t+"((?:.|\\n)+?)"+e,"g")}));te={staticKeys:["staticClass"],transformNode:function(e,t){t.warn,(t=to(e,"class"))&&(e.staticClass=JSON.stringify(t.replace(/\s+/g," ").trim())),(t=eo(e,"class",!1))&&(e.classBinding=t)},genData:function(e){var t="";return e.staticClass&&(t+="staticClass:".concat(e.staticClass,",")),e.classBinding&&(t+="class:".concat(e.classBinding,",")),t}};V={staticKeys:["staticStyle"],transformNode:function(e,t){t.warn,(t=to(e,"style"))&&(e.staticStyle=JSON.stringify(wo(t))),(t=eo(e,"style",!1))&&(e.styleBinding=t)},genData:function(e){var t="";return e.staticStyle&&(t+="staticStyle:".concat(e.staticStyle,",")),e.styleBinding&&(t+="style:(".concat(e.styleBinding,"),")),t}},i=function(e){return(yr=yr||document.createElement("div")).innerHTML=e,yr.textContent},Nn=m("area,base,br,col,embed,frame,hr,img,input,isindex,keygen,link,meta,param,source,track,wbr"),Jt=m("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr,source");var yr,xr=m("address,article,aside,base,blockquote,body,caption,col,colgroup,dd,details,dialog,div,dl,dt,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,head,header,hgroup,hr,html,legend,li,menuitem,meta,optgroup,option,param,rp,rt,source,style,summary,tbody,td,tfoot,th,thead,title,tr,track"),Sr=/^\s*([^\s"'<>\/=]+)(?:\s*(=)\s*(?:"([^"]*)"+|'([^']*)'+|([^\s"'=<>`]+)))?/,kr=/^\s*((?:v-[\w-]+:|@|:|#)\[[^=]+?\][^\s"'<>\/=]*)(?:\s*(=)\s*(?:"([^"]*)"+|'([^']*)'+|([^\s"'=<>`]+)))?/,Dr=(oe="[a-zA-Z_][\\-\\.0-9_a-zA-Z".concat(H.source,"]*"),oe="((?:".concat(oe,"\\:)?").concat(oe,")"),new RegExp("^<".concat(oe))),Lr=/^\s*(\/?)>/,Or=new RegExp("^<\\/".concat(oe,"[^>]*>")),Er=/^<!DOCTYPE [^>]+>/i,Nr=/^<!\--/,Ir=/^<!\[/,Tr=m("script,style,textarea",!0),Mr={},Ar={"&lt;":"<","&gt;":">","&quot;":'"',"&amp;":"&","&#10;":"\n","&#9;":"\t","&#39;":"'"},Pr=/&(?:lt|gt|quot|amp|#39);/g,Rr=/&(?:lt|gt|quot|amp|#39|#10|#9);/g,Fr=m("pre,textarea",!0),jr=function(e,t){return e&&Fr(e)&&"\n"===t[0]};var Br,Wr,Vr,zr,Hr,Ur,$r,Kr,qr=/^@|^v-on:/,Gr=/^v-|^@|^:|^#/,Yr=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,Zr=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,Xr=/^\(|\)$/g,Qr=/^\[.*\]$/,Jr=/:(.*)$/,es=/^:|^\.|^v-bind:/,ts=/\.[^.\]]+(?=[^\]]*$)/g,is=/^v-slot(:|$)|^#/,ns=/[\r\n]/,os=/[ \f\t\r\n]+/g,rs=y(i),ss="_empty_";function as(e,t,i){return{type:1,tag:e,attrsList:t,attrsMap:function(e){for(var t={},i=0,n=e.length;i<n;i++)t[e[i].name]=e[i].value;return t}(t),rawAttrsMap:{},parent:i,children:[]}}function ls(e,t){Br=t.warn||qn,Ur=t.isPreTag||M,$r=t.mustUseProp||M,Kr=t.getTagNamespace||M;t.isReservedTag;Vr=Gn(t.modules,"transformNode"),zr=Gn(t.modules,"preTransformNode"),Hr=Gn(t.modules,"postTransformNode"),Wr=t.delimiters;var i,n,o=[],r=!1!==t.preserveWhitespace,s=t.whitespace,a=!1,l=!1;function c(e){var r;d(e),a||e.processed||(e=cs(e,t)),o.length||e===i||i.if&&(e.elseif||e.else)&&hs(i,{exp:e.elseif,block:e}),n&&!e.forbidden&&(e.elseif||e.else?function(e,t){(t=function(e){for(var t=e.length;t--;){if(1===e[t].type)return e[t];e.pop()}}(t.children))&&t.if&&hs(t,{exp:e.elseif,block:e})}(e,n):(e.slotScope&&(r=e.slotTarget||'"default"',(n.scopedSlots||(n.scopedSlots={}))[r]=e),n.children.push(e),e.parent=n)),e.children=e.children.filter((function(e){return!e.slotScope})),d(e),e.pre&&(a=!1),Ur(e.tag)&&(l=!1);for(var s=0;s<Hr.length;s++)Hr[s](e,t)}function d(e){if(!l)for(var t;(t=e.children[e.children.length-1])&&3===t.type&&" "===t.text;)e.children.pop()}return function(e,t){for(var i,n,o=[],r=t.expectHTML,s=t.isUnaryTag||M,a=t.canBeLeftOpenTag||M,l=0,c=function(){if(i=e,n&&Tr(n)){var c=0,u=n.toLowerCase(),g=Mr[u]||(Mr[u]=new RegExp("([\\s\\S]*?)(</"+u+"[^>]*>)","i")),p=e.replace(g,(function(e,i,n){return c=n.length,Tr(u)||"noscript"===u||(i=i.replace(/<!\--([\s\S]*?)-->/g,"$1").replace(/<!\[CDATA\[([\s\S]*?)]]>/g,"$1")),jr(u,i)&&(i=i.slice(1)),t.chars&&t.chars(i),""}));l+=e.length-p.length,e=p,h(u,l-c,l)}else{var f=e.indexOf("<");if(0===f){if(Nr.test(e)&&0<=(g=e.indexOf("--\x3e")))return t.shouldKeepComment&&t.comment&&t.comment(e.substring(4,g),l,l+g+3),d(g+3),"continue";if(Ir.test(e)){var m=e.indexOf("]>");if(0<=m)return d(m+2),"continue"}if(m=e.match(Er))return d(m[0].length),"continue";if(m=e.match(Or)){var v=l;return d(m[0].length),h(m[1],v,l),"continue"}if(v=function(){var t=e.match(Dr);if(t){var i={tagName:t[1],attrs:[],start:l};d(t[0].length);for(var n=void 0,o=void 0;!(n=e.match(Lr))&&(o=e.match(kr)||e.match(Sr));)o.start=l,d(o[0].length),o.end=l,i.attrs.push(o);if(n)return i.unarySlash=n[1],d(n[0].length),i.end=l,i}}())return function(e){var i=e.tagName,l=e.unarySlash;r&&("p"===n&&xr(i)&&h(n),a(i)&&n===i&&h(i));l=s(i)||!!l;for(var c=e.attrs.length,d=new Array(c),u=0;u<c;u++){var g=e.attrs[u],p=g[3]||g[4]||g[5]||"",f="a"===i&&"href"===g[1]?t.shouldDecodeNewlinesForHref:t.shouldDecodeNewlines;d[u]={name:g[1],value:function(e,t){return e.replace(t?Rr:Pr,(function(e){return Ar[e]}))}(p,f)}}l||(o.push({tag:i,lowerCasedTag:i.toLowerCase(),attrs:d,start:e.start,end:e.end}),n=i),t.start&&t.start(i,d,l,e.start,e.end)}(v),jr(v.tagName,e)&&d(1),"continue"}var b;v=void 0,p=void 0;if(0<=f){for(p=e.slice(f);!(Or.test(p)||Dr.test(p)||Nr.test(p)||Ir.test(p)||(b=p.indexOf("<",1))<0);)p=e.slice(f+=b);v=e.substring(0,f)}(v=f<0?e:v)&&d(v.length),t.chars&&v&&t.chars(v,l-v.length,l)}if(e===i)return t.chars&&t.chars(e),"break"};e&&"break"!==c(););function d(t){l+=t,e=e.substring(t)}function h(e,i,r){var s,a;if(null==i&&(i=l),null==r&&(r=l),e)for(a=e.toLowerCase(),s=o.length-1;0<=s&&o[s].lowerCasedTag!==a;s--);else s=0;if(0<=s){for(var c=o.length-1;s<=c;c--)t.end&&t.end(o[c].tag,i,r);o.length=s,n=s&&o[s-1].tag}else"br"===a?t.start&&t.start(e,[],!0,i,r):"p"===a&&(t.start&&t.start(e,[],!1,i,r),t.end&&t.end(e,i,r))}h()}(e,{warn:Br,expectHTML:t.expectHTML,isUnaryTag:t.isUnaryTag,canBeLeftOpenTag:t.canBeLeftOpenTag,shouldDecodeNewlines:t.shouldDecodeNewlines,shouldDecodeNewlinesForHref:t.shouldDecodeNewlinesForHref,shouldKeepComment:t.comments,outputSourceRange:t.outputSourceRange,start:function(e,r,s,d,h){var u=n&&n.ns||Kr(e),g=as(e,r=Z&&"svg"===u?function(e){for(var t=[],i=0;i<e.length;i++){var n=e[i];gs.test(n.name)||(n.name=n.name.replace(ps,""),t.push(n))}return t}(r):r,n);u&&(g.ns=u),"style"!==(u=g).tag&&("script"!==u.tag||u.attrsMap.type&&"text/javascript"!==u.attrsMap.type)||re()||(g.forbidden=!0);for(var p,f=0;f<zr.length;f++)g=zr[f](g,t)||g;a||(null!=to(p=g,"v-pre")&&(p.pre=!0),g.pre&&(a=!0)),Ur(g.tag)&&(l=!0),a?function(e){var t=e.attrsList,i=t.length;if(i)for(var n=e.attrs=new Array(i),o=0;o<i;o++)n[o]={name:t[o].name,value:JSON.stringify(t[o].value)},null!=t[o].start&&(n[o].start=t[o].start,n[o].end=t[o].end);else e.pre||(e.plain=!0)}(g):g.processed||(ds(g),(p=to(u=g,"v-if"))?(u.if=p,hs(u,{exp:p,block:u})):(null!=to(u,"v-else")&&(u.else=!0),(p=to(u,"v-else-if"))&&(u.elseif=p)),null!=to(p=g,"v-once")&&(p.once=!0)),i=i||g,s?c(g):(n=g,o.push(g))},end:function(e,t,i){var r=o[o.length-1];--o.length,n=o[o.length-1],c(r)},chars:function(e,t,i){var o,c,d;n&&(Z&&"textarea"===n.tag&&n.attrsMap.placeholder===e||(o=n.children,(e=l||e.trim()?"script"===(d=n).tag||"style"===d.tag?e:rs(e):o.length?s?"condense"===s&&ns.test(e)?"":" ":r?" ":"":"")&&(l||"condense"!==s||(e=e.replace(os," ")),d=c=void 0,!a&&" "!==e&&(c=function(e,t){var i=t?Cr(t):_r;if(i.test(e)){for(var n,o,r,s=[],a=[],l=i.lastIndex=0;n=i.exec(e);){l<(o=n.index)&&(a.push(r=e.slice(l,o)),s.push(JSON.stringify(r)));var c=Kn(n[1].trim());s.push("_s(".concat(c,")")),a.push({"@binding":c}),l=o+n[0].length}return l<e.length&&(a.push(r=e.slice(l)),s.push(JSON.stringify(r))),{expression:s.join("+"),tokens:a}}}(e,Wr))?d={type:2,expression:c.expression,tokens:c.tokens,text:e}:" "===e&&o.length&&" "===o[o.length-1].text||(d={type:3,text:e}),d&&o.push(d))))},comment:function(e,t,i){n&&n.children.push({type:3,text:e,isComment:!0})}}),i}function cs(e,t){var i,n;(i=eo(n=e,"key"))&&(n.key=i),e.plain=!e.key&&!e.scopedSlots&&!e.attrsList.length,(i=eo(n=e,"ref"))&&(n.ref=i,n.refInFor=function(e){for(var t=e;t;){if(void 0!==t.for)return!0;t=t.parent}return!1}(n)),function(e){"template"===e.tag?(s=to(e,"scope"),e.slotScope=s||to(e,"slot-scope")):(s=to(e,"slot-scope"))&&(e.slotScope=s);var t,i,n,o,r,s=eo(e,"slot");s&&(e.slotTarget='""'===s?'"default"':s,e.slotTargetDynamic=!(!e.attrsMap[":slot"]&&!e.attrsMap["v-bind:slot"]),"template"===e.tag||e.slotScope||Zn(e,"slot",s,function(e,t){return e.rawAttrsMap[":"+t]||e.rawAttrsMap["v-bind:"+t]||e.rawAttrsMap[t]}(e,"slot"))),"template"===e.tag?(t=io(e,is))&&(n=(i=us(t)).name,o=i.dynamic,e.slotTarget=n,e.slotTargetDynamic=o,e.slotScope=t.value||ss):(t=io(e,is))&&(s=e.scopedSlots||(e.scopedSlots={}),n=(i=us(t)).name,o=i.dynamic,(r=s[n]=as("template",[],e)).slotTarget=n,r.slotTargetDynamic=o,r.children=e.children.filter((function(e){if(!e.slotScope)return e.parent=r,!0})),r.slotScope=t.value||ss,e.children=[],e.plain=!1)}(e),"slot"===(n=e).tag&&(n.slotName=eo(n,"name")),function(e){var t;(t=eo(e,"is"))&&(e.component=t),null!=to(e,"inline-template")&&(e.inlineTemplate=!0)}(e);for(var o=0;o<Vr.length;o++)e=Vr[o](e,t)||e;return function(e){var t,i,n,o,r,s,a,l=e.attrsList;for(t=0,i=l.length;t<i;t++){var c;n=o=l[t].name,r=l[t].value,Gr.test(n)?(e.hasBindings=!0,(s=function(e){if(e=e.match(ts)){var t={};return e.forEach((function(e){t[e.slice(1)]=!0})),t}}(n.replace(Gr,"")))&&(n=n.replace(ts,"")),es.test(n)?(n=n.replace(es,""),r=Kn(r),(a=Qr.test(n))&&(n=n.slice(1,-1)),s&&(s.prop&&!a&&"innerHtml"===(n=S(n))&&(n="innerHTML"),s.camel&&!a&&(n=S(n)),s.sync&&(c=ro(r,"$event"),a?Jn(e,'"update:"+('.concat(n,")"),c,null,!1,0,l[t],!0):(Jn(e,"update:".concat(S(n)),c,null,!1,0,l[t]),L(n)!==S(n)&&Jn(e,"update:".concat(L(n)),c,null,!1,0,l[t])))),(s&&s.prop||!e.component&&$r(e.tag,e.attrsMap.type,n)?Yn:Zn)(e,n,r,l[t],a)):qr.test(n)?(n=n.replace(qr,""),(a=Qr.test(n))&&(n=n.slice(1,-1)),Jn(e,n,r,s,!1,0,l[t],a)):(a=!1,(c=(c=(n=n.replace(Gr,"")).match(Jr))&&c[1])&&(n=n.slice(0,-(c.length+1)),Qr.test(c)&&(c=c.slice(1,-1),a=!0)),function(e,t,i,n,o,r,s,a){(e.directives||(e.directives=[])).push(no({name:t,rawName:i,value:n,arg:o,isDynamicArg:r,modifiers:s},a)),e.plain=!1}(e,n,o,r,c,a,s,l[t]))):(Zn(e,n,JSON.stringify(r),l[t]),!e.component&&"muted"===n&&$r(e.tag,e.attrsMap.type,n)&&Yn(e,n,"true",l[t]))}}(e),e}function ds(e){var t;!(t=to(e,"v-for"))||(t=function(e){var t=e.match(Yr);if(t){var i={};return i.for=t[2].trim(),e=t[1].trim().replace(Xr,""),(t=e.match(Zr))?(i.alias=e.replace(Zr,"").trim(),i.iterator1=t[1].trim(),t[2]&&(i.iterator2=t[2].trim())):i.alias=e,i}}(t))&&N(e,t)}function hs(e,t){e.ifConditions||(e.ifConditions=[]),e.ifConditions.push(t)}function us(e){var t=e.name.replace(is,"");return t||"#"!==e.name[0]&&(t="default"),Qr.test(t)?{name:t.slice(1,-1),dynamic:!0}:{name:'"'.concat(t,'"'),dynamic:!1}}var gs=/^xmlns:NS\d+/,ps=/^NS\d+:/;function fs(e){return as(e.tag,e.attrsList.slice(),e.parent)}var ms,vs,bs=[te,V,{preTransformNode:function(e,t){if("input"===e.tag){var i=e.attrsMap;if(i["v-model"]){var n=void 0;if((i[":type"]||i["v-bind:type"])&&(n=eo(e,"type")),n=i.type||n||!i["v-bind"]?n:"(".concat(i["v-bind"],").type")){var o=to(e,"v-if",!0),r=o?"&&(".concat(o,")"):"",s=null!=to(e,"v-else",!0),a=to(e,"v-else-if",!0),l=fs(e);return ds(l),Xn(l,"type","checkbox"),cs(l,t),l.processed=!0,l.if="(".concat(n,")==='checkbox'")+r,hs(l,{exp:l.if,block:l}),to(i=fs(e),"v-for",!0),Xn(i,"type","radio"),cs(i,t),hs(l,{exp:"(".concat(n,")==='radio'")+r,block:i}),to(e=fs(e),"v-for",!0),Xn(e,":type",n),cs(e,t),hs(l,{exp:o,block:e}),s?l.else=!0:a&&(l.elseif=a),l}}}}}],_s=(Jt={expectHTML:!0,modules:bs,directives:{model:function(e,t,i){var n,o,r,s,a=t.value,l=t.modifiers,c=e.tag,d=e.attrsMap.type;if(e.component)return oo(e,a,l),!1;if("select"===c)!function(e,t,i){i=i&&i.number,i='Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = "_value" in o ? o._value : o.value;'+"return ".concat(i?"_n(val)":"val","})"),i="var $$selectedVal = ".concat(i,";"),Jn(e,"change",i="".concat(i," ").concat(ro(t,"$event.target.multiple ? $$selectedVal : $$selectedVal[0]")),null,!0)}(e,a,l);else if("input"===c&&"checkbox"===d)n=e,o=a,r=(i=l)&&i.number,s=eo(n,"value")||"null",t=eo(n,"true-value")||"true",i=eo(n,"false-value")||"false",Yn(n,"checked","Array.isArray(".concat(o,")")+"?_i(".concat(o,",").concat(s,")>-1")+("true"===t?":(".concat(o,")"):":_q(".concat(o,",").concat(t,")"))),Jn(n,"change","var $$a=".concat(o,",")+"$$el=$event.target,"+"$$c=$$el.checked?(".concat(t,"):(").concat(i,");")+"if(Array.isArray($$a)){"+"var $$v=".concat(r?"_n("+s+")":s,",")+"$$i=_i($$a,$$v);"+"if($$el.checked){$$i<0&&(".concat(ro(o,"$$a.concat([$$v])"),")}")+"else{$$i>-1&&(".concat(ro(o,"$$a.slice(0,$$i).concat($$a.slice($$i+1))"),")}")+"}else{".concat(ro(o,"$$c"),"}"),null,!0);else if("input"===c&&"radio"===d)r=e,s=a,d=(o=l)&&o.number,o=eo(r,"value")||"null",o=d?"_n(".concat(o,")"):o,Yn(r,"checked","_q(".concat(s,",").concat(o,")")),Jn(r,"change",ro(s,o),null,!0);else if("input"===c||"textarea"===c)!function(e,t,i){var n=e.attrsMap.type,o=(s=i||{}).lazy,r=s.number,s=(i=s.trim,!o&&"range"!==n);o=o?"change":"range"===n?uo:"input",n="$event.target.value";i&&(n="$event.target.value.trim()"),r&&(n="_n(".concat(n,")")),n=ro(t,n),s&&(n="if($event.target.composing)return;".concat(n)),Yn(e,"value","(".concat(t,")")),Jn(e,o,n,null,!0),(i||r)&&Jn(e,"blur","$forceUpdate()")}(e,a,l);else if(!z.isReservedTag(c))return oo(e,a,l),!1;return!0},text:function(e,t){t.value&&Yn(e,"textContent","_s(".concat(t.value,")"),t)},html:function(e,t){t.value&&Yn(e,"innerHTML","_s(".concat(t.value,")"),t)}},isPreTag:function(e){return"pre"===e},isUnaryTag:Nn,mustUseProp:t,canBeLeftOpenTag:Jt,isReservedTag:vn,getTagNamespace:Cn,staticKeys:bs.reduce((function(e,t){return e.concat(t.staticKeys||[])}),[]).join(",")},y((function(e){return m("type,tag,attrsList,attrsMap,plain,parent,children,attrs,start,end,rawAttrsMap"+(e?","+e:""))})));function ws(e,t){e&&(ms=_s(t.staticKeys||""),vs=t.isReservedTag||M,function e(t){if(t.static=function(e){return 2!==e.type&&(3===e.type||!(!e.pre&&(e.hasBindings||e.if||e.for||v(e.tag)||!vs(e.tag)||function(e){for(;e.parent;){if("template"!==(e=e.parent).tag)return!1;if(e.for)return!0}return!1}(e)||!Object.keys(e).every(ms))))}(t),1===t.type&&(vs(t.tag)||"slot"===t.tag||null!=t.attrsMap["inline-template"])){for(var i=0,n=t.children.length;i<n;i++){var o=t.children[i];e(o),o.static||(t.static=!1)}if(t.ifConditions)for(i=1,n=t.ifConditions.length;i<n;i++){var r=t.ifConditions[i].block;e(r),r.static||(t.static=!1)}}}(e),function e(t,i){if(1===t.type)if((t.static||t.once)&&(t.staticInFor=i),!t.static||!t.children.length||1===t.children.length&&3===t.children[0].type){if(t.staticRoot=!1,t.children)for(var n=0,o=t.children.length;n<o;n++)e(t.children[n],i||!!t.for);if(t.ifConditions)for(n=1,o=t.ifConditions.length;n<o;n++)e(t.ifConditions[n].block,i)}else t.staticRoot=!0}(e,!1))}var Cs=/^([\w$_]+|\([^)]*?\))\s*=>|^function(?:\s+[\w$]+)?\s*\(/,ys=/\([^)]*?\);*$/,xs=/^[A-Za-z_$][\w$]*(?:\.[A-Za-z_$][\w$]*|\['[^']*?']|\["[^"]*?"]|\[\d+]|\[[A-Za-z_$][\w$]*])*$/,Ss={esc:27,tab:9,enter:13,space:32,up:38,left:37,right:39,down:40,delete:[8,46]},ks={esc:["Esc","Escape"],tab:"Tab",enter:"Enter",space:[" ","Spacebar"],up:["Up","ArrowUp"],left:["Left","ArrowLeft"],right:["Right","ArrowRight"],down:["Down","ArrowDown"],delete:["Backspace","Delete","Del"]},Ds=function(e){return"if(".concat(e,")return null;")},Ls={stop:"$event.stopPropagation();",prevent:"$event.preventDefault();",self:Ds("$event.target !== $event.currentTarget"),ctrl:Ds("!$event.ctrlKey"),shift:Ds("!$event.shiftKey"),alt:Ds("!$event.altKey"),meta:Ds("!$event.metaKey"),left:Ds("'button' in $event && $event.button !== 0"),middle:Ds("'button' in $event && $event.button !== 1"),right:Ds("'button' in $event && $event.button !== 2")};function Os(e,t){t=t?"nativeOn:":"on:";var i,n="",o="";for(i in e){var r=function e(t){if(!t)return"function(){}";if(Array.isArray(t))return"[".concat(t.map((function(t){return e(t)})).join(","),"]");var i=xs.test(t.value),n=Cs.test(t.value),o=xs.test(t.value.replace(ys,""));if(t.modifiers){var r,s="",a="",l=[],c=function(e){var i;Ls[e]?(a+=Ls[e],Ss[e]&&l.push(e)):"exact"===e?(i=t.modifiers,a+=Ds(["ctrl","shift","alt","meta"].filter((function(e){return!i[e]})).map((function(e){return"$event.".concat(e,"Key")})).join("||"))):l.push(e)};for(r in t.modifiers)c(r);l.length&&(s+=Es(l)),a&&(s+=a);var d=i?"return ".concat(t.value,".apply(null, arguments)"):n?"return (".concat(t.value,").apply(null, arguments)"):o?"return ".concat(t.value):t.value;return"function($event){".concat(s).concat(d,"}")}return i||n?t.value:"function($event){".concat(o?"return ".concat(t.value):t.value,"}")}(e[i]);e[i]&&e[i].dynamic?o+="".concat(i,",").concat(r,","):n+='"'.concat(i,'":').concat(r,",")}return n="{".concat(n.slice(0,-1),"}"),o?t+"_d(".concat(n,",[").concat(o.slice(0,-1),"])"):t+n}function Es(e){return"if(!$event.type.indexOf('key')&&"+"".concat(e.map(Ns).join("&&"),")return null;")}function Ns(e){if(i=parseInt(e,10))return"$event.keyCode!==".concat(i);var t=Ss[e],i=ks[e];return"_k($event.keyCode,"+"".concat(JSON.stringify(e),",")+"".concat(JSON.stringify(t),",")+"$event.key,"+"".concat(JSON.stringify(i))+")"}var Is={on:function(e,t){e.wrapListeners=function(e){return"_g(".concat(e,",").concat(t.value,")")}},bind:function(e,t){e.wrapData=function(i){return"_b(".concat(i,",'").concat(e.tag,"',").concat(t.value,",").concat(t.modifiers&&t.modifiers.prop?"true":"false").concat(t.modifiers&&t.modifiers.sync?",true":"",")")}},cloak:T},Ts=function(e){this.options=e,this.warn=e.warn||qn,this.transforms=Gn(e.modules,"transformCode"),this.dataGenFns=Gn(e.modules,"genData"),this.directives=N(N({},Is),e.directives);var t=e.isReservedTag||M;this.maybeComponent=function(e){return!!e.component||!t(e.tag)},this.onceId=0,this.staticRenderFns=[],this.pre=!1};function Ms(e,t){return t=new Ts(t),e=e?"script"===e.tag?"null":As(e,t):'_c("div")',{render:"with(this){return ".concat(e,"}"),staticRenderFns:t.staticRenderFns}}function As(e,t){if(e.parent&&(e.pre=e.pre||e.parent.pre),e.staticRoot&&!e.staticProcessed)return Ps(e,t);if(e.once&&!e.onceProcessed)return Rs(e,t);if(e.for&&!e.forProcessed)return js(e,t);if(e.if&&!e.ifProcessed)return Fs(e,t);if("template"!==e.tag||e.slotTarget||t.pre){if("slot"===e.tag)return function(e,t){var i=e.slotName||'"default"',n=zs(e,t);t="_t(".concat(i).concat(n?",function(){return ".concat(n,"}"):""),i=e.attrs||e.dynamicAttrs?$s((e.attrs||[]).concat(e.dynamicAttrs||[]).map((function(e){return{name:S(e.name),value:e.value,dynamic:e.dynamic}}))):null,e=e.attrsMap["v-bind"];return!i&&!e||n||(t+=",null"),i&&(t+=",".concat(i)),e&&(t+="".concat(i?"":",null",",").concat(e)),t+")"}(e,t);var i=void 0;i=e.component?(o=e.component,s=t,a=(r=e).inlineTemplate?null:zs(r,s,!0),"_c(".concat(o,",").concat(Bs(r,s)).concat(a?",".concat(a):"",")")):(o=void 0,r=t.maybeComponent(e),(!e.plain||e.pre&&r)&&(o=Bs(e,t)),s=void 0,a=t.options.bindings,s=(s=r&&a&&!1!==a.__isScriptSetup?function(e,t){var i=S(t),n=k(i),o=function(o){return e[t]===o?t:e[i]===o?i:e[n]===o?n:void 0},r=o("setup-const")||o("setup-reactive-const");return r||((o=o("setup-let")||o("setup-ref")||o("setup-maybe-ref"))||void 0)}(a,e.tag):s)||"'".concat(e.tag,"'"),a=e.inlineTemplate?null:zs(e,t,!0),"_c(".concat(s).concat(o?",".concat(o):"").concat(a?",".concat(a):"",")"));for(var n=0;n<t.transforms.length;n++)i=t.transforms[n](e,i);return i}return zs(e,t)||"void 0";var o,r,s,a}function Ps(e,t){e.staticProcessed=!0;var i=t.pre;return e.pre&&(t.pre=e.pre),t.staticRenderFns.push("with(this){return ".concat(As(e,t),"}")),t.pre=i,"_m(".concat(t.staticRenderFns.length-1).concat(e.staticInFor?",true":"",")")}function Rs(e,t){if(e.onceProcessed=!0,e.if&&!e.ifProcessed)return Fs(e,t);if(e.staticInFor){for(var i="",n=e.parent;n;){if(n.for){i=n.key;break}n=n.parent}return i?"_o(".concat(As(e,t),",").concat(t.onceId++,",").concat(i,")"):As(e,t)}return Ps(e,t)}function Fs(e,t,i,n){return e.ifProcessed=!0,function e(t,i,n,o){if(!t.length)return o||"_e()";var r=t.shift();return r.exp?"(".concat(r.exp,")?").concat(s(r.block),":").concat(e(t,i,n,o)):"".concat(s(r.block));function s(e){return(n||(e.once?Rs:As))(e,i)}}(e.ifConditions.slice(),t,i,n)}function js(e,t,i,n){var o=e.for,r=e.alias,s=e.iterator1?",".concat(e.iterator1):"",a=e.iterator2?",".concat(e.iterator2):"";return e.forProcessed=!0,"".concat(n||"_l","((").concat(o,"),")+"function(".concat(r).concat(s).concat(a,"){")+"return ".concat((i||As)(e,t))+"})"}function Bs(e,t){var i="{",n=function(e,t){var i=e.directives;if(i){var n,o,r,s,a="directives:[",l=!1;for(n=0,o=i.length;n<o;n++){r=i[n],s=!0;var c=t.directives[r.name];(s=c?!!c(e,r,t.warn):s)&&(l=!0,a+='{name:"'.concat(r.name,'",rawName:"').concat(r.rawName,'"').concat(r.value?",value:(".concat(r.value,"),expression:").concat(JSON.stringify(r.value)):"").concat(r.arg?",arg:".concat(r.isDynamicArg?r.arg:'"'.concat(r.arg,'"')):"").concat(r.modifiers?",modifiers:".concat(JSON.stringify(r.modifiers)):"","},"))}if(l)return a.slice(0,-1)+"]"}}(e,t);n&&(i+=n+","),e.key&&(i+="key:".concat(e.key,",")),e.ref&&(i+="ref:".concat(e.ref,",")),e.refInFor&&(i+="refInFor:true,"),e.pre&&(i+="pre:true,"),e.component&&(i+='tag:"'.concat(e.tag,'",'));for(var o=0;o<t.dataGenFns.length;o++)i+=t.dataGenFns[o](e);return e.attrs&&(i+="attrs:".concat($s(e.attrs),",")),e.props&&(i+="domProps:".concat($s(e.props),",")),e.events&&(i+="".concat(Os(e.events,!1),",")),e.nativeEvents&&(i+="".concat(Os(e.nativeEvents,!0),",")),e.slotTarget&&!e.slotScope&&(i+="slot:".concat(e.slotTarget,",")),e.scopedSlots&&(i+="".concat(function(e,t,i){var n=e.for||Object.keys(t).some((function(e){return(e=t[e]).slotTargetDynamic||e.if||e.for||Ws(e)})),o=!!e.if;if(!n)for(var r=e.parent;r;){if(r.slotScope&&r.slotScope!==ss||r.for){n=!0;break}r.if&&(o=!0),r=r.parent}return e=Object.keys(t).map((function(e){return Vs(t[e],i)})).join(","),"scopedSlots:_u([".concat(e,"]").concat(n?",null,true":"").concat(!n&&o?",null,false,".concat(function(e){for(var t=5381,i=e.length;i;)t=33*t^e.charCodeAt(--i);return t>>>0}(e)):"",")")}(e,e.scopedSlots,t),",")),e.model&&(i+="model:{value:".concat(e.model.value,",callback:").concat(e.model.callback,",expression:").concat(e.model.expression,"},")),!e.inlineTemplate||(n=function(e,t){if((e=e.children[0])&&1===e.type)return t=Ms(e,t.options),"inlineTemplate:{render:function(){".concat(t.render,"},staticRenderFns:[").concat(t.staticRenderFns.map((function(e){return"function(){".concat(e,"}")})).join(","),"]}")}(e,t))&&(i+="".concat(n,",")),i=i.replace(/,$/,"")+"}",e.dynamicAttrs&&(i="_b(".concat(i,',"').concat(e.tag,'",').concat($s(e.dynamicAttrs),")")),e.wrapData&&(i=e.wrapData(i)),e.wrapListeners?e.wrapListeners(i):i}function Ws(e){return 1===e.type&&("slot"===e.tag||e.children.some(Ws))}function Vs(e,t){var i=e.attrsMap["slot-scope"];if(e.if&&!e.ifProcessed&&!i)return Fs(e,t,Vs,"null");if(e.for&&!e.forProcessed)return js(e,t,Vs);var n=e.slotScope===ss?"":String(e.slotScope);t="function(".concat(n,"){")+"return ".concat("template"===e.tag?e.if&&i?"(".concat(e.if,")?").concat(zs(e,t)||"undefined",":undefined"):zs(e,t)||"undefined":As(e,t),"}"),n=n?"":",proxy:true";return"{key:".concat(e.slotTarget||'"default"',",fn:").concat(t).concat(n,"}")}function zs(e,t,i,n,o){var r=e.children;if(r.length){var s=r[0];if(1===r.length&&s.for&&"template"!==s.tag&&"slot"!==s.tag)return e=i?t.maybeComponent(s)?",1":",0":"","".concat((n||As)(s,t)).concat(e);i=i?function(e,t){for(var i=0,n=0;n<e.length;n++){var o=e[n];if(1===o.type){if(Hs(o)||o.ifConditions&&o.ifConditions.some((function(e){return Hs(e.block)}))){i=2;break}(t(o)||o.ifConditions&&o.ifConditions.some((function(e){return t(e.block)})))&&(i=1)}}return i}(r,t.maybeComponent):0;var a=o||Us;return"[".concat(r.map((function(e){return a(e,t)})).join(","),"]").concat(i?",".concat(i):"")}}function Hs(e){return void 0!==e.for||"template"===e.tag||"slot"===e.tag}function Us(e,t){return 1===e.type?As(e,t):3===e.type&&e.isComment?"_e(".concat(JSON.stringify(e.text),")"):"_v(".concat(2===(e=e).type?e.expression:Ks(JSON.stringify(e.text)),")")}function $s(e){for(var t="",i="",n=0;n<e.length;n++){var o=e[n],r=Ks(o.value);o.dynamic?i+="".concat(o.name,",").concat(r,","):t+='"'.concat(o.name,'":').concat(r,",")}return t="{".concat(t.slice(0,-1),"}"),i?"_d(".concat(t,",[").concat(i.slice(0,-1),"])"):t}function Ks(e){return e.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}function qs(e,t){try{return new Function(e)}catch(i){return t.push({err:i,code:e}),T}}new RegExp("\\b"+"do,if,for,let,new,try,var,case,else,with,await,break,catch,class,const,super,throw,while,yield,delete,export,import,return,switch,default,extends,finally,continue,debugger,function,arguments".split(",").join("\\b|\\b")+"\\b"),new RegExp("\\b"+"delete,typeof,void".split(",").join("\\s*\\([^\\)]*\\)|\\b")+"\\s*\\([^\\)]*\\)");var Gs,Ys,Zs=(Gs=function(e,t){return e=ls(e.trim(),t),!1!==t.optimize&&ws(e,t),{ast:e,render:(t=Ms(e,t)).render,staticRenderFns:t.staticRenderFns}},function(e){function t(t,i){var n,o=Object.create(e),r=[],s=[];if(i)for(n in i.modules&&(o.modules=(e.modules||[]).concat(i.modules)),i.directives&&(o.directives=N(Object.create(e.directives||null),i.directives)),i)"modules"!==n&&"directives"!==n&&(o[n]=i[n]);return o.warn=function(e,t,i){(i?s:r).push(e)},(t=Gs(t.trim(),o)).errors=r,t.tips=s,t}return{compile:t,compileToFunctions:(i=t,n=Object.create(null),function(e,t,o){(t=N({},t)).warn,delete t.warn;var r=t.delimiters?String(t.delimiters)+e:e;if(n[r])return n[r];e=i(e,t);var s=[];return(t={}).render=qs(e.render,s),t.staticRenderFns=e.staticRenderFns.map((function(e){return qs(e,s)})),n[r]=t})};var i,n})(Jt).compileToFunctions;function Xs(e){return(Ys=Ys||document.createElement("div")).innerHTML=e?'<a href="\n"/>':'<div a="\n"/>',0<Ys.innerHTML.indexOf("&#10;")}var Qs=!!G&&Xs(!1),Js=!!G&&Xs(!0),ea=y((function(e){return(e=Sn(e))&&e.innerHTML})),ta=Yi.prototype.$mount;Yi.prototype.$mount=function(e,t){if((e=e&&Sn(e))===document.body||e===document.documentElement)return this;var i=this.$options;if(!i.render){var n,o=i.template;if(o)if("string"==typeof o)"#"===o.charAt(0)&&(o=ea(o));else{if(!o.nodeType)return this;o=o.innerHTML}else e&&(o=function(e){if(e.outerHTML)return e.outerHTML;var t=document.createElement("div");return t.appendChild(e.cloneNode(!0)),t.innerHTML}(e));o&&(o=(n=Zs(o,{outputSourceRange:!1,shouldDecodeNewlines:Qs,shouldDecodeNewlinesForHref:Js,delimiters:i.delimiters,comments:i.comments},this)).render,n=n.staticRenderFns,i.render=o,i.staticRenderFns=n)}return ta.call(this,e,t)},Yi.compile=Zs},function(e,t,i){"use strict";i.d(t,"f",(function(){return te})),i.d(t,"e",(function(){return oe})),i.d(t,"b",(function(){return re})),i.d(t,"g",(function(){return se})),i.d(t,"h",(function(){return ae})),i.d(t,"d",(function(){return le})),i.d(t,"c",(function(){return ce})),i.d(t,"a",(function(){return de}));var n=i(38);class o{constructor(e){this.executor=e,this._didRun=!1}getValue(){if(!this._didRun)try{this._value=this.executor()}catch(e){this._error=e}finally{this._didRun=!0}if(this._error)throw this._error;return this._value}get rawValue(){return this._value}}var r=i(2),s=i(9),a=i(5),l=i(177),c=i(8),d=i(124),h=i(17),u=i(178),g=i(21),p=i(1),f=i(65),m=i(12),v=i(11),b=i(81),_=i(106),w=i(58),C=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;0<=a;a--)(o=e[a])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s};t=function(e,t){return function(i,n){t(i,n,e)}};class y extends f.a{constructor(e,t){super(e.command?e.command.id:e.title,e.title.replace(/\r\n|\r|\n/g," "),void 0,!e.disabled,t),this.action=e}}let x=class extends r.a{constructor(e,t,i,n){super(),this._editor=e,this._delegate=t,this._contextMenuService=i,this._visible=!1,this._showingActions=this._register(new r.d),this._keybindingResolver=new S({getKeybindings:()=>n.getKeybindings()})}get isVisible(){return this._visible}show(e,t,i,n){return function(e,t,i,n){return new(i=i||Promise)((function(o,r){function s(e){try{l(n.next(e))}catch(e){r(e)}}function a(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):((t=e.value)instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))}(this,void 0,void 0,(function*(){var o=n.includeDisabledActions?t.allActions:t.validActions;if(o.length){if(!this._editor.getDomNode())throw this._visible=!1,Object(h.b)();this._visible=!0,this._showingActions.value=t;const n=this.getMenuActions(e,o,t.documentation),r=m.a.isIPosition(i)?this._toCoords(i):i||{x:0,y:0},s=this._keybindingResolver.getResolver();o=this._editor.getOption(113),this._contextMenuService.showContextMenu({domForShadowRoot:o?this._editor.getDomNode():void 0,getAnchor:()=>r,getActions:()=>n,onHide:()=>{this._visible=!1,this._editor.focus()},autoSelectFirstItem:!0,getKeyBinding:e=>e instanceof y?s(e.action):void 0})}else this._visible=!1}))}getMenuActions(e,t,i){var n;const o=e=>new y(e.action,()=>this._delegate.onSelectCodeAction(e)),r=t.map(o),s=[...i];if((i=this._editor.getModel())&&r.length)for(const o of v.a.all(i))o._getAdditionalMenuItems&&s.push(...o._getAdditionalMenuItems({trigger:e.type,only:null===(n=null===(n=e.filter)||void 0===n?void 0:n.include)||void 0===n?void 0:n.value},t.map(e=>e.action)));return s.length&&r.push(new f.d,...s.map(e=>o(new d.a({title:e.title,command:e},void 0)))),r}_toCoords(e){if(!this._editor.hasModel())return{x:0,y:0};this._editor.revealPosition(e,1),this._editor.render();var t=this._editor.getScrolledVisiblePosition(e);return{x:(e=Object(p.D)(this._editor.getDomNode())).left+t.left,y:e.top+t.top+t.height}}};x=C([t(2,_.a),t(3,w.a)],x);class S{constructor(e){this._keybindingProvider=e}getResolver(){const e=new o(()=>this._keybindingProvider.getKeybindings().filter(e=>0<=S.codeActionCommands.indexOf(e.command)).filter(e=>e.resolvedKeybinding).map(e=>{let t=e.commandArgs;return e.command===d.e?t={kind:b.b.SourceOrganizeImports.value}:e.command===d.c&&(t={kind:b.b.SourceFixAll.value}),Object.assign({resolvedKeybinding:e.resolvedKeybinding},b.a.fromUser(t,{kind:b.b.None,apply:"never"}))}));return t=>{if(t.kind)return null==(t=this.bestKeybindingForCodeAction(t,e.getValue()))?void 0:t.resolvedKeybinding}}bestKeybindingForCodeAction(e,t){if(e.kind){const i=new b.b(e.kind);return t.filter(e=>e.kind.contains(i)).filter(t=>!t.preferred||e.isPreferred).reduceRight((e,t)=>!e||e.kind.contains(t.kind)?t:e,void 0)}}}S.codeActionCommands=[d.f,d.b,d.g,d.e,d.c];var k,D=i(122),L=i(62),O=i(23),E=i(6),N=(i(410),i(42)),I=i(0),T=i(4);C=i(16),_=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;0<=a;a--)(o=e[a])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s},t=function(e,t){return function(i,n){t(i,n,e)}};!function(e){e.Hidden={type:0},e.Showing=class{constructor(e,t,i,n){this.actions=e,this.trigger=t,this.editorPosition=i,this.widgetPosition=n,this.type=1}}}(k=k||{});let M=class e extends r.a{constructor(e,t,i,n){super(),this._editor=e,this._quickFixActionId=t,this._preferredFixActionId=i,this._keybindingService=n,this._onClick=this._register(new E.b),this.onClick=this._onClick.event,this._state=k.Hidden,this._domNode=document.createElement("div"),this._domNode.className=O.b.lightBulb.classNames,this._editor.addContentWidget(this),this._register(this._editor.onDidChangeModelContent(e=>{const t=this._editor.getModel();(1!==this.state.type||!t||this.state.editorPosition.lineNumber>=t.getLineCount())&&this.hide()})),L.b.ignoreTarget(this._domNode),this._register(p.n(this._domNode,e=>{if(1===this.state.type){this._editor.focus(),e.preventDefault();var{top:t,height:i}=p.D(this._domNode),n=this._editor.getOption(58);let o=Math.floor(n/3);null!==this.state.widgetPosition.position&&this.state.widgetPosition.position.lineNumber<this.state.editorPosition.lineNumber&&(o+=n),this._onClick.fire({x:e.posx,y:t+i+o,actions:this.state.actions,trigger:this.state.trigger})}})),this._register(p.i(this._domNode,"mouseenter",e=>{if(1==(1&e.buttons)){this.hide();const t=new D.a;t.startMonitoring(e.target,e.buttons,D.b,()=>{},()=>{t.dispose()})}})),this._register(this._editor.onDidChangeConfiguration(e=>{e.hasChanged(56)&&!this._editor.getOption(56).enabled&&this.hide()})),this._updateLightBulbTitleAndIcon(),this._register(this._keybindingService.onDidUpdateKeybindings(this._updateLightBulbTitleAndIcon,this))}dispose(){super.dispose(),this._editor.removeContentWidget(this)}getId(){return"LightBulbWidget"}getDomNode(){return this._domNode}getPosition(){return 1===this._state.type?this._state.widgetPosition:null}update(t,i,n){if(t.validActions.length<=0)return this.hide();const o=this._editor.getOptions();if(!o.get(56).enabled)return this.hide();const r=this._editor.getModel();if(!r)return this.hide();var{lineNumber:s,column:a}=r.validatePosition(n),l=r.getOptions().tabSize,c=o.get(43),d=r.getLineContent(s);d=N.c.computeIndentLevel(d,l),l=e=>2<e&&this._editor.getTopForLineNumber(e)===this._editor.getTopForLineNumber(e-1);let h=s;if(!(22<c.spaceWidth*d))if(1<s&&!l(s-1))--h;else if(l(s+1)){if(a*c.spaceWidth<22)return this.hide()}else h+=1;this.state=new k.Showing(t,i,n,{position:{lineNumber:h,column:1},preference:e._posPref}),this._editor.layoutContentWidget(this)}hide(){this.state=k.Hidden,this._editor.layoutContentWidget(this)}get state(){return this._state}set state(e){this._state=e,this._updateLightBulbTitleAndIcon()}_updateLightBulbTitleAndIcon(){if(1===this.state.type&&this.state.actions.hasAutoFix){this._domNode.classList.remove(...O.b.lightBulb.classNamesArray),this._domNode.classList.add(...O.b.lightbulbAutofix.classNamesArray);const e=this._keybindingService.lookupKeybinding(this._preferredFixActionId);if(e)return void(this.title=I.a("preferredcodeActionWithKb","Show Code Actions. Preferred Quick Fix Available ({0})",e.getLabel()))}this._domNode.classList.remove(...O.b.lightbulbAutofix.classNamesArray),this._domNode.classList.add(...O.b.lightBulb.classNamesArray);const e=this._keybindingService.lookupKeybinding(this._quickFixActionId);this.title=e?I.a("codeActionWithKb","Show Code Actions ({0})",e.getLabel()):I.a("codeAction","Show Code Actions")}set title(e){this._domNode.title=e}};M._posPref=[0],M=_([t(3,w.a)],M),Object(C.f)((e,t)=>{var i=null===(n=e.getColor(T.r))||void 0===n?void 0:n.transparent(.7),n=e.getColor(T.U);n&&t.addRule(`\n\t\t.monaco-editor .contentWidgets ${O.b.lightBulb.cssSelector} {\n\t\t\tcolor: ${n};\n\t\t\tbackground-color: ${i};\n\t\t}`),(e=e.getColor(T.T))&&t.addRule(`\n\t\t.monaco-editor .contentWidgets ${O.b.lightbulbAutofix.cssSelector} {\n\t\t\tcolor: ${e};\n\t\t\tbackground-color: ${i};\n\t\t}`)});w=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;0<=a;a--)(o=e[a])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s},C=function(e,t){return function(i,n){t(i,n,e)}};var A,P=function(e,t,i,n){return new(i=i||Promise)((function(o,r){function s(e){try{l(n.next(e))}catch(e){r(e)}}function a(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):((t=e.value)instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};let R=class extends r.a{constructor(e,t,i,n,s){super(),this._editor=e,this.delegate=n,this._activeCodeActions=this._register(new r.d),A.set(this,!1),this._codeActionWidget=new o(()=>this._register(s.createInstance(x,this._editor,{onSelectCodeAction:e=>P(this,void 0,void 0,(function*(){this.delegate.applyCodeAction(e,!0)}))}))),this._lightBulbWidget=new o(()=>{const e=this._register(s.createInstance(M,this._editor,t,i));return this._register(e.onClick(e=>this.showCodeActionList(e.trigger,e.actions,e,{includeDisabledActions:!1}))),e})}dispose(){(function(e,t,i,n,o){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");"a"===n?o.call(e,i):o?o.value=i:t.set(e,i)})(this,A,!0,"f"),super.dispose()}update(e){var t;return P(this,void 0,void 0,(function*(){if(1===e.type){let o;try{o=yield e.actions}catch(e){return void Object(h.f)(e)}if(!function(e,t,i,n){if("a"===i&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?n:"a"===i?n.call(e):n?n.value:t.get(e)}(this,A,"f"))if(this._lightBulbWidget.getValue().update(o,e.trigger,e.position),1===e.trigger.type){if(null!==(t=e.trigger.filter)&&void 0!==t&&t.include){var i=this.tryGetValidActionToApply(e.trigger,o);if(i){try{this._lightBulbWidget.getValue().hide(),yield this.delegate.applyCodeAction(i,!1)}finally{o.dispose()}return}if(e.trigger.context){var n=this.getInvalidActionThatWouldHaveBeenApplied(e.trigger,o);if(n&&n.action.disabled)return u.a.get(this._editor).showMessage(n.action.disabled,e.trigger.context.position),void o.dispose()}}if(n=!(null===(t=e.trigger.filter)||void 0===t||!t.include),e.trigger.context&&(!o.allActions.length||!n&&!o.validActions.length))return u.a.get(this._editor).showMessage(e.trigger.context.notAvailableMessage,e.trigger.context.position),this._activeCodeActions.value=o,void o.dispose();this._activeCodeActions.value=o,this._codeActionWidget.getValue().show(e.trigger,o,e.position,{includeDisabledActions:n})}else this._codeActionWidget.getValue().isVisible?o.dispose():this._activeCodeActions.value=o}else null!==(t=this._lightBulbWidget.rawValue)&&void 0!==t&&t.hide()}))}getInvalidActionThatWouldHaveBeenApplied(e,t){if(t.allActions.length)return"first"===e.autoApply&&0===t.validActions.length||"ifSingle"===e.autoApply&&1===t.allActions.length?t.allActions.find(({action:e})=>e.disabled):void 0}tryGetValidActionToApply(e,t){if(t.validActions.length)return"first"===e.autoApply&&0<t.validActions.length||"ifSingle"===e.autoApply&&1===t.validActions.length?t.validActions[0]:void 0}showCodeActionList(e,t,i,n){return P(this,void 0,void 0,(function*(){this._codeActionWidget.getValue().show(e,t,i,n)}))}};A=new WeakMap,R=w([C(4,g.a)],R);var F,j=i(36),B=i(10),W=(w=i(76),i(64)),V=i(102),z=i(146),H=i(18),U=i(60),$=i(3),K=function(e,t,i,n){if("a"===i&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?n:"a"===i?n.call(e):n?n.value:t.get(e)};const q=new B.c("supportedCodeAction","");class G extends r.a{constructor(e,t,i,n=250){super(),this._editor=e,this._markerService=t,this._signalChange=i,this._delay=n,this._autoTriggerTimer=this._register(new H.g),this._register(this._markerService.onMarkerChanged(e=>this._onMarkerChanges(e))),this._register(this._editor.onDidChangeCursorPosition(()=>this._onCursorChange()))}trigger(e){var t=this._getRangeOfSelectionUnlessWhitespaceEnclosed(e);return this._createEventAndSignalChange(e,t)}_onMarkerChanges(e){const t=this._editor.getModel();t&&e.some(e=>Object(U.f)(e,t.uri))&&this._autoTriggerTimer.cancelAndSet(()=>{this.trigger({type:2})},this._delay)}_onCursorChange(){this._autoTriggerTimer.cancelAndSet(()=>{this.trigger({type:2})},this._delay)}_getRangeOfMarker(e){const t=this._editor.getModel();if(t)for(const n of this._markerService.read({resource:t.uri})){var i=t.validateRange(n);if($.a.intersectRanges(i,e))return $.a.lift(i)}}_getRangeOfSelectionUnlessWhitespaceEnclosed(e){if(this._editor.hasModel()){const n=this._editor.getModel(),o=this._editor.getSelection();if(o.isEmpty()&&2===e.type){var{lineNumber:t,column:i}=o.getPosition();if(0===(e=n.getLineContent(t)).length)return;if(1===i){if(/\s/.test(e[0]))return}else if(i===n.getLineMaxColumn(t)){if(/\s/.test(e[e.length-1]))return}else if(/\s/.test(e[i-2])&&/\s/.test(e[i-1]))return}return o}}_createEventAndSignalChange(e,t){var i=this._editor.getModel();if(t&&i){return i={trigger:e,selection:t,position:i=(this._getRangeOfMarker(t)||t).getStartPosition()},this._signalChange(i),i}this._signalChange(void 0)}}!function(e){e.Empty={type:0},e.Triggered=class{constructor(e,t,i,n){this.trigger=e,this.rangeOrSelection=t,this.position=i,this._cancellablePromise=n,this.type=1,this.actions=n.catch(e=>{if(Object(h.e)(e))return Y;throw e})}cancel(){this._cancellablePromise.cancel()}}}(F=F||{});const Y={allActions:[],validActions:[],dispose:()=>{},documentation:[],hasAutoFix:!1};class Z extends r.a{constructor(e,t,i,n){super(),this._editor=e,this._markerService=t,this._progressService=n,this._codeActionOracle=this._register(new r.d),this._state=F.Empty,this._onDidChangeState=this._register(new E.b),this.onDidChangeState=this._onDidChangeState.event,X.set(this,!1),this._supportedCodeActions=q.bindTo(i),this._register(this._editor.onDidChangeModel(()=>this._update())),this._register(this._editor.onDidChangeModelLanguage(()=>this._update())),this._register(v.a.onDidChange(()=>this._update())),this._update()}dispose(){K(this,X,"f")||(function(e,t,i,n,o){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");"a"===n?o.call(e,i):o?o.value=i:t.set(e,i)}(this,X,!0,"f"),super.dispose(),this.setState(F.Empty,!0))}_update(){if(!K(this,X,"f")){this._codeActionOracle.value=void 0,this.setState(F.Empty);const e=this._editor.getModel();if(e&&v.a.has(e)&&!this._editor.getOption(80)){const t=[];for(const i of v.a.all(e))Array.isArray(i.providedCodeActionKinds)&&t.push(...i.providedCodeActionKinds);this._supportedCodeActions.set(t.join(" ")),this._codeActionOracle.value=new G(this._editor,this._markerService,t=>{var i,n;t?(n=Object(H.h)(i=>Object(d.d)(e,t.selection,t.trigger,V.b.None,i)),1===t.trigger.type&&null!==(i=this._progressService)&&void 0!==i&&i.showWhile(n,250),this.setState(new F.Triggered(t.trigger,t.selection,t.position,n))):this.setState(F.Empty)},void 0),this._codeActionOracle.value.trigger({type:2})}else this._supportedCodeActions.reset()}}trigger(e){this._codeActionOracle.value&&this._codeActionOracle.value.trigger(e)}setState(e,t){e!==this._state&&(1===this._state.type&&this._state.cancel(),this._state=e,t||K(this,X,"f")||this._onDidChangeState.fire(e))}}var X=new WeakMap,Q=(C=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;0<=a;a--)(o=e[a])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s},i=function(e,t){return function(i,n){t(i,n,e)}},function(e,t,i,n){return new(i=i||Promise)((function(o,r){function s(e){try{l(n.next(e))}catch(e){r(e)}}function a(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):((t=e.value)instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))});function J(e){return B.a.regex(q.keys()[0],new RegExp("(\\s|^)"+Object(s.t)(e.value)+"\\b"))}const ee={type:"object",defaultSnippets:[{body:{kind:""}}],properties:{kind:{type:"string",description:I.a("args.schema.kind","Kind of the code action to run.")},apply:{type:"string",description:I.a("args.schema.apply","Controls when the returned actions are applied."),default:"ifSingle",enum:["first","ifSingle","never"],enumDescriptions:[I.a("args.schema.apply.first","Always apply the first returned code action."),I.a("args.schema.apply.ifSingle","Apply the first returned code action if it is the only one."),I.a("args.schema.apply.never","Do not apply the returned code actions.")]},preferred:{type:"boolean",default:!1,description:I.a("args.schema.preferred","Controls if only preferred code actions should be returned.")}}};let te=class e extends r.a{constructor(e,t,i,n,r){super(),this._instantiationService=r,this._editor=e,this._model=this._register(new Z(this._editor,t,i,n)),this._register(this._model.onDidChangeState(e=>this.update(e))),this._ui=new o(()=>this._register(new R(e,oe.Id,de.Id,{applyCodeAction:(e,t)=>Q(this,void 0,void 0,(function*(){try{yield this._applyCodeAction(e)}finally{t&&this._trigger({type:2,filter:{}})}}))},this._instantiationService)))}static get(t){return t.getContribution(e.ID)}update(e){this._ui.getValue().update(e)}showCodeActions(e,t,i){return this._ui.getValue().showCodeActionList(e,t,i,{includeDisabledActions:!1})}manualTriggerAtCurrentPosition(e,t,i){var n;this._editor.hasModel()&&(u.a.get(this._editor).closeMessage(),n=this._editor.getPosition(),this._trigger({type:1,filter:t,autoApply:i,context:{notAvailableMessage:e,position:n}}))}_trigger(e){return this._model.trigger(e)}_applyCodeAction(e){return this._instantiationService.invokeFunction(ie,e,this._editor)}};function ie(e,t,i){return Q(this,void 0,void 0,(function*(){const o=e.get(l.a),r=e.get(j.b),s=e.get(z.a),a=e.get(W.a);if(s.publicLog2("codeAction.applyCodeAction",{codeActionTitle:t.action.title,codeActionKind:t.action.kind,codeActionIsPreferred:!!t.action.isPreferred}),yield t.resolve(n.a.None),t.action.edit&&(yield o.apply(l.b.convert(t.action.edit),{editor:i,label:t.action.title})),t.action.command)try{yield r.executeCommand(t.action.command.id,...t.action.command.arguments||[])}catch(o){var c=function(e){return"string"==typeof e?e:e instanceof Error&&"string"==typeof e.message?e.message:void 0}(o);a.error("string"==typeof c?c:I.a("applyCodeActionFailed","An unknown error occurred while applying the code action"))}}))}function ne(e,t,i,n){if(e.hasModel()){const o=te.get(e);o&&o.manualTriggerAtCurrentPosition(t,i,n)}}te.ID="editor.contrib.quickFixController",te=C([i(1,w.b),i(2,B.b),i(3,V.a),i(4,g.a)],te);class oe extends a.b{constructor(){super({id:oe.Id,label:I.a("quickfix.trigger.label","Quick Fix..."),alias:"Quick Fix...",precondition:B.a.and(c.a.writable,c.a.hasCodeActionsProvider),kbOpts:{kbExpr:c.a.editorTextFocus,primary:2132,weight:100}})}run(e,t){return ne(t,I.a("editor.action.quickFix.noneMessage","No code actions available"),void 0,void 0)}}oe.Id="editor.action.quickFix";class re extends a.c{constructor(){super({id:d.b,precondition:B.a.and(c.a.writable,c.a.hasCodeActionsProvider),description:{description:"Trigger a code action",args:[{name:"args",schema:ee}]}})}runEditorCommand(e,t,i){var n=b.a.fromUser(i,{kind:b.b.Empty,apply:"ifSingle"});return ne(t,"string"==typeof(null==i?void 0:i.kind)?n.preferred?I.a("editor.action.codeAction.noneMessage.preferred.kind","No preferred code actions for '{0}' available",i.kind):I.a("editor.action.codeAction.noneMessage.kind","No code actions for '{0}' available",i.kind):n.preferred?I.a("editor.action.codeAction.noneMessage.preferred","No preferred code actions available"):I.a("editor.action.codeAction.noneMessage","No code actions available"),{include:n.kind,includeSourceActions:!0,onlyIncludePreferredActions:n.preferred},n.apply)}}class se extends a.b{constructor(){super({id:d.f,label:I.a("refactor.label","Refactor..."),alias:"Refactor...",precondition:B.a.and(c.a.writable,c.a.hasCodeActionsProvider),kbOpts:{kbExpr:c.a.editorTextFocus,primary:3120,mac:{primary:1328},weight:100},contextMenuOpts:{group:"1_modification",order:2,when:B.a.and(c.a.writable,J(b.b.Refactor))},description:{description:"Refactor...",args:[{name:"args",schema:ee}]}})}run(e,t,i){var n=b.a.fromUser(i,{kind:b.b.Refactor,apply:"never"});return ne(t,"string"==typeof(null==i?void 0:i.kind)?n.preferred?I.a("editor.action.refactor.noneMessage.preferred.kind","No preferred refactorings for '{0}' available",i.kind):I.a("editor.action.refactor.noneMessage.kind","No refactorings for '{0}' available",i.kind):n.preferred?I.a("editor.action.refactor.noneMessage.preferred","No preferred refactorings available"):I.a("editor.action.refactor.noneMessage","No refactorings available"),{include:b.b.Refactor.contains(n.kind)?n.kind:b.b.None,onlyIncludePreferredActions:n.preferred},n.apply)}}class ae extends a.b{constructor(){super({id:d.g,label:I.a("source.label","Source Action..."),alias:"Source Action...",precondition:B.a.and(c.a.writable,c.a.hasCodeActionsProvider),contextMenuOpts:{group:"1_modification",order:2.1,when:B.a.and(c.a.writable,J(b.b.Source))},description:{description:"Source Action...",args:[{name:"args",schema:ee}]}})}run(e,t,i){var n=b.a.fromUser(i,{kind:b.b.Source,apply:"never"});return ne(t,"string"==typeof(null==i?void 0:i.kind)?n.preferred?I.a("editor.action.source.noneMessage.preferred.kind","No preferred source actions for '{0}' available",i.kind):I.a("editor.action.source.noneMessage.kind","No source actions for '{0}' available",i.kind):n.preferred?I.a("editor.action.source.noneMessage.preferred","No preferred source actions available"):I.a("editor.action.source.noneMessage","No source actions available"),{include:b.b.Source.contains(n.kind)?n.kind:b.b.None,includeSourceActions:!0,onlyIncludePreferredActions:n.preferred},n.apply)}}class le extends a.b{constructor(){super({id:d.e,label:I.a("organizeImports.label","Organize Imports"),alias:"Organize Imports",precondition:B.a.and(c.a.writable,J(b.b.SourceOrganizeImports)),kbOpts:{kbExpr:c.a.editorTextFocus,primary:1581,weight:100}})}run(e,t){return ne(t,I.a("editor.action.organize.noneMessage","No organize imports action available"),{include:b.b.SourceOrganizeImports,includeSourceActions:!0},"ifSingle")}}class ce extends a.b{constructor(){super({id:d.c,label:I.a("fixAll.label","Fix All"),alias:"Fix All",precondition:B.a.and(c.a.writable,J(b.b.SourceFixAll))})}run(e,t){return ne(t,I.a("fixAll.noneMessage","No fix all action available"),{include:b.b.SourceFixAll,includeSourceActions:!0},"ifSingle")}}class de extends a.b{constructor(){super({id:de.Id,label:I.a("autoFix.label","Auto Fix..."),alias:"Auto Fix...",precondition:B.a.and(c.a.writable,J(b.b.QuickFix)),kbOpts:{kbExpr:c.a.editorTextFocus,primary:1620,mac:{primary:2644},weight:100}})}run(e,t){return ne(t,I.a("editor.action.autoFix.noneMessage","No auto fixes available"),{include:b.b.QuickFix,onlyIncludePreferredActions:!0},"ifSingle")}}de.Id="editor.action.autoFix"},function(e,t){e.exports=require("@vscode/sudo-prompt")},function(e,t,i){"use strict";i.d(t,"c",(function(){return o})),i.d(t,"b",(function(){return r})),i.d(t,"d",(function(){return a})),i.d(t,"a",(function(){return h}));var n=i(9);function o(e){return r(e,0)}function r(e,t){switch(typeof e){case"object":return null===e?s(349,t):Array.isArray(e)?(n=s(104579,n=t),e.reduce((e,t)=>r(t,e),n)):(i=e,n=s(181387,n=t),Object.keys(i).sort().reduce((e,t)=>(e=a(t,e),r(i[t],e)),n));case"string":return a(e,t);case"boolean":return s(e?433:863,t);case"number":return s(e,t);case"undefined":return s(937,t);default:return s(617,t)}var i,n}function s(e,t){return(t<<5)-t+e|0}function a(e,t){t=s(149417,t);for(let i=0,n=e.length;i<n;i++)t=s(e.charCodeAt(i),t);return t}function l(e,t,i=32){return(e<<t|(~((1<<(i-=t))-1)&e)>>>i)>>>0}function c(e,t=0,i=e.byteLength,n=0){for(let o=0;o<i;o++)e[t+o]=n}function d(e,t=32){return e instanceof ArrayBuffer?Array.from(new Uint8Array(e)).map(e=>e.toString(16).padStart(2,"0")).join(""):function(e,t,i="0"){for(;e.length<t;)e=i+e;return e}((e>>>0).toString(16),t/4)}class h{constructor(){this._h0=1732584193,this._h1=4023233417,this._h2=2562383102,this._h3=271733878,this._h4=3285377520,this._buff=new Uint8Array(67),this._buffDV=new DataView(this._buff.buffer),this._buffLen=0,this._totalLen=0,this._leftoverHighSurrogate=0,this._finished=!1}update(e){var t=e.length;if(0!==t){var i=this._buff;let r,s,a=this._buffLen,l=this._leftoverHighSurrogate;for(0!==l?(r=l,s=-1,l=0):(r=e.charCodeAt(0),s=0);;){let c=r;if(n.E(r)){if(!(s+1<t)){l=r;break}var o=e.charCodeAt(s+1);c=n.F(o)?(s++,n.j(r,o)):65533}else n.F(r)&&(c=65533);if(a=this._push(i,a,c),s++,!(s<t))break;r=e.charCodeAt(s)}this._buffLen=a,this._leftoverHighSurrogate=l}}_push(e,t,i){return i<128?e[t++]=i:(i<2048?e[t++]=192|(1984&i)>>>6:(i<65536?e[t++]=224|(61440&i)>>>12:(e[t++]=240|(1835008&i)>>>18,e[t++]=128|(258048&i)>>>12),e[t++]=128|(4032&i)>>>6),e[t++]=128|(63&i)>>>0),64<=t&&(this._step(),t-=64,this._totalLen+=64,e[0]=e[64],e[1]=e[65],e[2]=e[66]),t}digest(){return this._finished||(this._finished=!0,this._leftoverHighSurrogate&&(this._leftoverHighSurrogate=0,this._buffLen=this._push(this._buff,this._buffLen,65533)),this._totalLen+=this._buffLen,this._wrapUp()),d(this._h0)+d(this._h1)+d(this._h2)+d(this._h3)+d(this._h4)}_wrapUp(){this._buff[this._buffLen++]=128,c(this._buff,this._buffLen),56<this._buffLen&&(this._step(),c(this._buff));var e=8*this._totalLen;this._buffDV.setUint32(56,Math.floor(e/4294967296),!1),this._buffDV.setUint32(60,e%4294967296,!1),this._step()}_step(){const e=h._bigBlock32,t=this._buffDV;for(let i=0;i<64;i+=4)e.setUint32(i,t.getUint32(i,!1),!1);for(let t=64;t<320;t+=4)e.setUint32(t,l(e.getUint32(t-12,!1)^e.getUint32(t-32,!1)^e.getUint32(t-56,!1)^e.getUint32(t-64,!1),1),!1);let i,n,o=this._h0,r=this._h1,s=this._h2,a=this._h3,c=this._h4;var d;for(let t=0;t<80;t++)n=t<20?(i=r&s|~r&a,1518500249):t<40?(i=r^s^a,1859775393):t<60?(i=r&s|r&a|s&a,2400959708):(i=r^s^a,3395469782),d=l(o,5)+i+c+n+e.getUint32(4*t,!1)&4294967295,c=a,a=s,s=l(r,30),r=o,o=d;this._h0=this._h0+o&4294967295,this._h1=this._h1+r&4294967295,this._h2=this._h2+s&4294967295,this._h3=this._h3+a&4294967295,this._h4=this._h4+c&4294967295}}h._bigBlock32=new DataView(new ArrayBuffer(320))},function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));var n=i(1),o=i(23);const r=new RegExp(`(\\\\)?\\$\\((${o.a.iconNameExpression}(?:${o.a.iconModifierExpression})?)\\)`,"g");function s(e){const t=new Array;let i,s=0;for(;null!==(l=r.exec(e));){i=l.index||0,t.push(e.substring(s,i)),s=(l.index||0)+l[0].length;var[,a,l]=l;t.push(a?`$(${l})`:function(e){const t=n.a("span");return t.classList.add(...o.a.asClassNameArray(e)),t}({id:l}))}return s<e.length&&t.push(e.substring(s)),t}},function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i=i(21);const n=Object(i.c)("themeService")},function(e,t,i){"use strict";function n(e){return e&&"string"==typeof e.id}i.d(t,"b",(function(){return n})),i.d(t,"a",(function(){return o}));const o={ICodeEditor:"vs.editor.ICodeEditor",IDiffEditor:"vs.editor.IDiffEditor"}},function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),t=i(426);const n="monaco-mouse-cursor-text"},function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i=i(21);const n=Object(i.c)("labelService")},function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i=i(21);const n=Object(i.c)("dialogService")},function(e,t,i){"use strict";i.d(t,"a",(function(){return ke}));var n,o=i(1),r=Object.hasOwnProperty,s=Object.setPrototypeOf,a=Object.isFrozen,l=Object.getPrototypeOf,c=Object.getOwnPropertyDescriptor,d=Object.freeze,h=Object.seal,u=Object.create,g="undefined"!=typeof Reflect&&Reflect,p=(p=g.apply)||function(e,t,i){return e.apply(t,i)},f=(d=d||function(e){return e},h=h||function(e){return e},(f=g.construct)||function(e,t){return new(Function.prototype.bind.apply(e,[null].concat(function(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)}(t))))}),m=D(Array.prototype.forEach),v=D(Array.prototype.pop),b=D(Array.prototype.push),_=D(String.prototype.toLowerCase),w=D(String.prototype.match),C=D(String.prototype.replace),y=D(String.prototype.indexOf),x=D(String.prototype.trim),S=D(RegExp.prototype.test),k=(n=TypeError,function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return f(n,t)});
/*! @license DOMPurify 2.3.1 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.3.1/LICENSE */function D(e){return function(t){for(var i=arguments.length,n=Array(1<i?i-1:0),o=1;o<i;o++)n[o-1]=arguments[o];return p(e,t,n)}}function L(e,t){s&&s(e,null);for(var i=t.length;i--;){var n,o=t[i];"string"!=typeof o||(n=_(o))!==o&&(a(t)||(t[i]=n),o=n),e[o]=!0}return e}function O(e){var t=u(null),i=void 0;for(i in e)p(r,e,[i])&&(t[i]=e[i]);return t}function E(e,t){for(;null!==e;){var i=c(e,t);if(i){if(i.get)return D(i.get);if("function"==typeof i.value)return D(i.value)}e=l(e)}return function(e){return console.warn("fallback value for",e),null}}var N=d(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),I=d(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),T=d(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),M=d(["animate","color-profile","cursor","discard","fedropshadow","feimage","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),A=d(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),P=d(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),R=d(["#text"]),F=d(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),j=d(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),B=d(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),W=d(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),V=h(/\{\{[\s\S]*|[\s\S]*\}\}/gm),z=h(/<%[\s\S]*|[\s\S]*%>/gm),H=h(/^data-[\-\w.\u00B7-\uFFFF]/),U=h(/^aria-[\-\w]+$/),$=h(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),K=h(/^(?:\w+script|data):/i),q=h(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function Y(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)}var Z=function(){return"undefined"==typeof window?null:window},X=function(e,t){if("object"!==(void 0===e?"undefined":G(e))||"function"!=typeof e.createPolicy)return null;var i=null,n="data-tt-policy-suffix";i="dompurify"+((i=t.currentScript&&t.currentScript.hasAttribute(n)?t.currentScript.getAttribute(n):i)?"#"+i:"");try{return e.createPolicy(i,{createHTML:function(e){return e}})}catch(e){return console.warn("TrustedTypes policy "+i+" could not be created."),null}};(Se=function e(t){function i(t){return e(t)}var n=0<arguments.length&&void 0!==t?t:Z();if(i.version="2.3.1",i.removed=[],!n||!n.document||9!==n.document.nodeType)return i.isSupported=!1,i;var o,r=n.document,s=n.document,a=n.DocumentFragment,l=n.HTMLTemplateElement,c=n.Node,h=n.Element,u=n.NodeFilter,g=void 0===(o=n.NamedNodeMap)?n.NamedNodeMap||n.MozNamedAttrMap:o,p=n.Text,f=n.Comment,D=n.DOMParser,Q=(t=n.trustedTypes,E(o=h.prototype,"cloneNode")),J=E(o,"nextSibling"),ee=E(o,"childNodes"),te=E(o,"parentNode");"function"!=typeof l||(l=s.createElement("template")).content&&l.content.ownerDocument&&(s=l.content.ownerDocument);var ie=X(t,r),ne=ie&&Pe?ie.createHTML(""):"",oe=(t=s).implementation,re=t.createNodeIterator,se=t.createDocumentFragment,ae=t.getElementsByTagName,le=r.importNode;t={};try{t=O(s).documentMode?s.documentMode:{}}catch(t){}var ce={};function de(e){Ze&&Ze===e||(e=O(e=e&&"object"===(void 0===e?"undefined":G(e))?e:{}),_e="ALLOWED_TAGS"in e?L({},e.ALLOWED_TAGS):we,Ce="ALLOWED_ATTR"in e?L({},e.ALLOWED_ATTR):ye,He="ADD_URI_SAFE_ATTR"in e?L(O(Ue),e.ADD_URI_SAFE_ATTR):Ue,Ve="ADD_DATA_URI_TAGS"in e?L(O(ze),e.ADD_DATA_URI_TAGS):ze,Be="FORBID_CONTENTS"in e?L({},e.FORBID_CONTENTS):We,xe="FORBID_TAGS"in e?L({},e.FORBID_TAGS):{},Se="FORBID_ATTR"in e?L({},e.FORBID_ATTR):{},he="USE_PROFILES"in e&&e.USE_PROFILES,ke=!1!==e.ALLOW_ARIA_ATTR,De=!1!==e.ALLOW_DATA_ATTR,Le=e.ALLOW_UNKNOWN_PROTOCOLS||!1,Oe=e.SAFE_FOR_TEMPLATES||!1,Ee=e.WHOLE_DOCUMENT||!1,Te=e.RETURN_DOM||!1,Me=e.RETURN_DOM_FRAGMENT||!1,Ae=!1!==e.RETURN_DOM_IMPORT,Pe=e.RETURN_TRUSTED_TYPE||!1,Ie=e.FORCE_BODY||!1,Re=!1!==e.SANITIZE_DOM,Fe=!1!==e.KEEP_CONTENT,je=e.IN_PLACE||!1,be=e.ALLOWED_URI_REGEXP||be,Ge=e.NAMESPACE||qe,Oe&&(De=!1),Me&&(Te=!0),he&&(_e=L({},[].concat(Y(R))),Ce=[],!0===he.html&&(L(_e,N),L(Ce,F)),!0===he.svg&&(L(_e,I),L(Ce,j),L(Ce,W)),!0===he.svgFilters&&(L(_e,T),L(Ce,j),L(Ce,W)),!0===he.mathMl&&(L(_e,A),L(Ce,B),L(Ce,W))),e.ADD_TAGS&&L(_e=_e===we?O(_e):_e,e.ADD_TAGS),e.ADD_ATTR&&L(Ce=Ce===ye?O(Ce):Ce,e.ADD_ATTR),e.ADD_URI_SAFE_ATTR&&L(He,e.ADD_URI_SAFE_ATTR),e.FORBID_CONTENTS&&L(Be=Be===We?O(Be):Be,e.FORBID_CONTENTS),Fe&&(_e["#text"]=!0),Ee&&L(_e,["html","head","body"]),_e.table&&(L(_e,["tbody"]),delete xe.tbody),d&&d(e),Ze=e)}i.isSupported="function"==typeof te&&oe&&void 0!==oe.createHTMLDocument&&9!==t;var he,ue=V,ge=z,pe=H,fe=U,me=K,ve=q,be=$,_e=null,we=L({},[].concat(Y(N),Y(I),Y(T),Y(A),Y(R))),Ce=null,ye=L({},[].concat(Y(F),Y(j),Y(B),Y(W))),xe=null,Se=null,ke=!0,De=!0,Le=!1,Oe=!1,Ee=!1,Ne=!1,Ie=!1,Te=!1,Me=!1,Ae=!0,Pe=!1,Re=!0,Fe=!0,je=!1,Be=null,We=L({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Ve=null,ze=L({},["audio","video","img","source","image","track"]),He=null,Ue=L({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),$e="http://www.w3.org/1998/Math/MathML",Ke="http://www.w3.org/2000/svg",qe="http://www.w3.org/1999/xhtml",Ge=qe,Ye=!1,Ze=null,Xe=s.createElement("form"),Qe=L({},["mi","mo","mn","ms","mtext"]),Je=L({},["foreignobject","desc","title","annotation-xml"]),et=L({},I);L(et,T),L(et,M);var tt=L({},A);function it(e){b(i.removed,{element:e});try{e.parentNode.removeChild(e)}catch(t){try{e.outerHTML=ne}catch(t){e.remove()}}}function nt(e,t){try{b(i.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){b(i.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e&&!Ce[e])if(Te||Me)try{it(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}}function ot(e){var t=void 0,i=void 0;Ie?e="<remove></remove>"+e:i=(n=w(e,/^[\r\n\t ]+/))&&n[0];var n=ie?ie.createHTML(e):e;if(Ge===qe)try{t=(new D).parseFromString(n,"text/html")}catch(e){}if(!t||!t.documentElement){t=oe.createDocument(Ge,"template",null);try{t.documentElement.innerHTML=Ye?"":n}catch(e){}}return n=t.body||t.documentElement,e&&i&&n.insertBefore(s.createTextNode(i),n.childNodes[0]||null),Ge===qe?ae.call(t,Ee?"html":"body")[0]:Ee?t.documentElement:n}function rt(e){return re.call(e.ownerDocument||e,e,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT,null,!1)}function st(e){return"object"===(void 0===c?"undefined":G(c))?e instanceof c:e&&"object"===(void 0===e?"undefined":G(e))&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName}function at(e,t,n){ce[e]&&m(ce[e],(function(e){e.call(i,t,n,Ze)}))}function lt(e){var t;if(at("beforeSanitizeElements",e,null),!((n=e)instanceof p||n instanceof f||"string"==typeof n.nodeName&&"string"==typeof n.textContent&&"function"==typeof n.removeChild&&n.attributes instanceof g&&"function"==typeof n.removeAttribute&&"function"==typeof n.setAttribute&&"string"==typeof n.namespaceURI&&"function"==typeof n.insertBefore))return it(e),1;if(w(e.nodeName,/[\u0080-\uFFFF]/))return it(e),1;var n=_(e.nodeName);if(at("uponSanitizeElement",e,{tagName:n,allowedTags:_e}),!st(e.firstElementChild)&&(!st(e.content)||!st(e.content.firstElementChild))&&S(/<[/\w]/g,e.innerHTML)&&S(/<[/\w]/g,e.textContent))return it(e),1;if("select"===n&&S(/<template/i,e.innerHTML))return it(e),1;if(_e[n]&&!xe[n])return e instanceof h&&!function(e){var t=te(e);t&&t.tagName||(t={namespaceURI:qe,tagName:"template"});var i=_(e.tagName),n=_(t.tagName);return e.namespaceURI===Ke?t.namespaceURI===qe?"svg"===i:t.namespaceURI===$e?"svg"===i&&("annotation-xml"===n||Qe[n]):Boolean(et[i]):e.namespaceURI===$e?t.namespaceURI===qe?"math"===i:t.namespaceURI===Ke?"math"===i&&Je[n]:Boolean(tt[i]):e.namespaceURI===qe&&(t.namespaceURI!==Ke||Je[n])&&(t.namespaceURI!==$e||Qe[n])&&(n=L({},["title","style","font","a","script"]),!tt[i]&&(n[i]||!et[i]))}(e)||("noscript"===n||"noembed"===n)&&S(/<\/no(script|embed)/i,e.innerHTML)?(it(e),1):(Oe&&3===e.nodeType&&(t=e.textContent,t=C(t,ue," "),t=C(t,ge," "),e.textContent!==t&&(b(i.removed,{element:e.cloneNode()}),e.textContent=t)),at("afterSanitizeElements",e,null),0);if(Fe&&!Be[n]){var o=te(e)||e.parentNode,r=ee(e)||e.childNodes;if(r&&o)for(var s=r.length-1;0<=s;--s)o.insertBefore(Q(r[s],!0),J(e))}return it(e),1}function ct(e,t,i){if(Re&&("id"===t||"name"===t)&&(i in s||i in Xe))return!1;if((!De||Se[t]||!S(pe,t))&&(!ke||!S(fe,t))){if(!Ce[t]||Se[t])return!1;if(!He[t]&&!S(be,C(i,ve,""))&&("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==y(i,"data:")||!Ve[e])&&(!Le||S(me,C(i,ve,"")))&&i)return!1}return!0}function dt(e){var t=void 0,n=void 0,o=void 0;at("beforeSanitizeAttributes",e,null);var r=e.attributes;if(r){var s={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Ce};for(o=r.length;o--;){var a=(t=r[o]).name,l=t.namespaceURI,c=(n=x(t.value),_(a));if(s.attrName=c,s.attrValue=n,s.keepAttr=!0,s.forceKeepAttr=void 0,at("uponSanitizeAttribute",e,s),n=s.attrValue,!s.forceKeepAttr&&(nt(a,e),s.keepAttr))if(S(/\/>/i,n))nt(a,e);else{if(Oe&&(n=C(n,ue," "),n=C(n,ge," ")),ct(e.nodeName.toLowerCase(),c,n))try{l?e.setAttributeNS(l,a,n):e.setAttribute(a,n),v(i.removed)}catch(e){}}}at("afterSanitizeAttributes",e,null)}}function ht(e){var t,i=rt(e);for(at("beforeSanitizeShadowDOM",e,null);t=i.nextNode();)at("uponSanitizeShadowNode",t,null),lt(t)||(t.content instanceof a&&ht(t.content),dt(t));at("afterSanitizeShadowDOM",e,null)}return L(tt,P),i.sanitize=function(e,t){var o,s=void 0,l=void 0,d=void 0;if("string"!=typeof(e=(Ye=!e)?"\x3c!--\x3e":e)&&!st(e)){if("function"!=typeof e.toString)throw k("toString is not a function");if("string"!=typeof(e=e.toString()))throw k("dirty is not a string, aborting")}if(!i.isSupported){if("object"===G(n.toStaticHTML)||"function"==typeof n.toStaticHTML){if("string"==typeof e)return n.toStaticHTML(e);if(st(e))return n.toStaticHTML(e.outerHTML)}return e}if(Ne||de(t),i.removed=[],!(je="string"!=typeof e&&je))if(e instanceof c)1===(t=(s=ot("\x3c!----\x3e")).ownerDocument.importNode(e,!0)).nodeType&&"BODY"===t.nodeName||"HTML"===t.nodeName?s=t:s.appendChild(t);else{if(!Te&&!Oe&&!Ee&&-1===e.indexOf("<"))return ie&&Pe?ie.createHTML(e):e;if(!(s=ot(e)))return Te?null:ne}s&&Ie&&it(s.firstChild);for(var h=rt(je?e:s);o=h.nextNode();)3===o.nodeType&&o===l||lt(o)||(o.content instanceof a&&ht(o.content),dt(o),l=o);if(l=null,je)return e;if(Te){if(Me)for(d=se.call(s.ownerDocument);s.firstChild;)d.appendChild(s.firstChild);else d=s;return Ae?le.call(r,d,!0):d}return e=Ee?s.outerHTML:s.innerHTML,Oe&&(e=C(e,ue," "),e=C(e,ge," ")),ie&&Pe?ie.createHTML(e):e},i.setConfig=function(e){de(e),Ne=!0},i.clearConfig=function(){Ze=null,Ne=!1},i.isValidAttribute=function(e,t,i){return Ze||de({}),ct(e=_(e),t=_(t),i)},i.addHook=function(e,t){"function"==typeof t&&(ce[e]=ce[e]||[],b(ce[e],t))},i.removeHook=function(e){ce[e]&&v(ce[e])},i.removeHooks=function(e){ce[e]&&(ce[e]=[])},i.removeAllHooks=function(){ce={}},i}()).version,Se.isSupported;const Q=Se.sanitize;Se.setConfig,Se.clearConfig,Se.isValidAttribute;const J=Se.addHook,ee=Se.removeHook;Se.removeHooks,Se.removeAllHooks;var te=i(69),ie=i(204),ne=i(89),oe=i(170),re=i(18),se=i(38),ae=i(17),le=i(6),ce=i(104),de=i(134),he=i(193),ue=i(2),ge=i(276),pe=i(241),fe=i(52),me=i(55),ve=i(60),be=i(9),_e=i(35);function we(e,t={},i={}){var n,r;const s=new ue.b;let a=!1;const l=s.add(new se.b),c=Object(ie.a)(t),d=function(t,i){var n=e.uris&&e.uris[t];if(!n)return t;let o=_e.a.revive(n);return i?t.startsWith(fe.c.data+":")?t:fe.a.asBrowserUri(o).toString(!0):_e.a.parse(t).toString()===o.toString()?t:(o.query&&(o=o.with({query:function(t){let i;try{i=Object(pe.a)(decodeURIComponent(t))}catch(t){}return i?(i=Object(me.a)(i,t=>{if(e.uris&&e.uris[t])return _e.a.revive(e.uris[t])}),encodeURIComponent(JSON.stringify(i))):t}(o.query)})),o.toString())};let h;const u=new Promise(e=>h=e),g=new ge.a;g.image=(e,i,n)=>{let o=[],r=[];if(e){({href:e,dimensions:o}=Object(ce.d)(e)),e=d(e,!0);try{var s=_e.a.parse(e);t.baseUrl&&s.scheme===fe.c.file&&(e=Object(ve.j)(t.baseUrl,e).toString())}catch(e){}r.push(`src="${e}"`)}return n&&r.push(`alt="${n}"`),i&&r.push(`title="${i}"`),o.length&&(r=r.concat(o)),"<img "+r.join(" ")+">"},g.link=(i,n,o)=>(i===o&&(o=Object(ce.e)(o)),i=d(i,!1),t.baseUrl&&(/^\w[\w\d+.-]*:/.test(i)||(i=Object(ve.j)(t.baseUrl,i).toString())),n=Object(ce.e)(n),!(i=Object(ce.e)(i))||i.match(/^data:|javascript:/i)||i.match(/^command:/i)&&!e.isTrusted||i.match(/^command:(\/\/\/)?_workbench\.downloadResource/i)?o:`<a href="#" data-href="${i=i.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}" title="${n||i}">${o}</a>`),g.paragraph=e=>`<p>${e}</p>`,t.codeBlockRenderer&&(g.code=(e,i)=>{i=t.codeBlockRenderer(i,e);const n=he.b.nextId();return Object(re.l)(Promise.all([i,u]),l.token).then(e=>{var i;!a&&e&&((i=c.querySelector(`div[data-code="${n}"]`))&&o.R(i,e[0]),null!==(e=t.asyncRenderCallback)&&void 0!==e&&e.call(t))}).catch(()=>{}),`<div class="code" data-code="${n}">${Object(be.s)(e)}</div>`}),t.actionHandler&&(n=t.actionHandler.disposables.add(new te.a(c,"click")),r=t.actionHandler.disposables.add(new te.a(c,"auxclick")),t.actionHandler.disposables.add(le.c.any(n.event,r.event)(e=>{const i=new ne.a(e);if(i.leftButton||i.middleButton){let o=i.target;if("A"===o.tagName||(o=o.parentElement,o&&"A"===o.tagName))try{var n=o.dataset.href;n&&t.actionHandler.callback(n,i)}catch(e){Object(ae.f)(e)}finally{i.preventDefault()}}}))),e.supportHtml||(i.sanitizer=t=>(e.isTrusted?t.match(/^(<span[^>]+>)|(<\/\s*span>)$/):void 0)?t:"",i.sanitize=!0,i.silent=!0),i.renderer=g;let p=null!==(r=e.value)&&void 0!==r?r:"";1e5<p.length&&(p=p.substr(0,1e5)+"…"),e.supportThemeIcons&&(p=Object(de.b)(p));let f=ge.b(p,i);if(e.supportThemeIcons){f=Object(oe.a)(f).map(e=>"string"==typeof e?e:e.outerHTML).join("")}if(c.innerHTML=function(e,t){const{config:i,allowedSchemes:n}=function(e){const t=[fe.c.http,fe.c.https,fe.c.mailto,fe.c.data,fe.c.file,fe.c.vscodeFileResource,fe.c.vscodeRemote,fe.c.vscodeRemoteResource];return e.isTrusted&&t.push(fe.c.command),{config:{ALLOWED_TAGS:["ul","li","p","b","i","code","blockquote","ol","h1","h2","h3","h4","h5","h6","hr","em","pre","table","thead","tbody","tr","th","td","div","del","a","strong","br","img","span"],ALLOWED_ATTR:["href","data-href","target","title","src","alt","class","style","data-code","width","height","align"],ALLOW_UNKNOWN_PROTOCOLS:!0},allowedSchemes:t}}(e);J("uponSanitizeAttribute",(e,t)=>{if("style"===t.attrName||"class"===t.attrName){if("SPAN"===e.tagName){if("style"===t.attrName)return void(t.keepAttr=/^(color\:#[0-9a-fA-F]+;)?(background-color\:#[0-9a-fA-F]+;)?$/.test(t.attrValue));if("class"===t.attrName)return void(t.keepAttr=/^codicon codicon-[a-z\-]+( codicon-modifier-[a-z\-]+)?$/.test(t.attrValue))}t.keepAttr=!1}});const o=document.createElement("a");J("afterSanitizeAttributes",e=>{for(const t of["href","src"])e.hasAttribute(t)&&(o.href=e.getAttribute(t),n.includes(o.protocol.replace(/:$/,""))||e.removeAttribute(t))});try{return Q(t,Object.assign(Object.assign({},i),{RETURN_TRUSTED_TYPE:!0}))}finally{ee("uponSanitizeAttribute"),ee("afterSanitizeAttributes")}}(e,f),h(),t.asyncRenderCallback)for(const e of c.getElementsByTagName("img")){const i=s.add(o.i(e,"load",()=>{i.dispose(),t.asyncRenderCallback()}))}return{element:c,dispose:()=>{a=!0,l.cancel(),s.dispose()}}}t=i(91),g=i(80);var Ce=i(239),ye=i(11),xe=i(94),Se=(h=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;0<=a;a--)(o=e[a])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s},function(e,t){return function(i,n){t(i,n,e)}});let ke=class e{constructor(e,t,i){this._options=e,this._modeService=t,this._openerService=i,this._onDidRenderAsync=new le.b,this.onDidRenderAsync=this._onDidRenderAsync.event}dispose(){this._onDidRenderAsync.dispose()}render(e,t,i){if(!e)return{element:document.createElement("span"),dispose:()=>{}};const n=new ue.b;return{element:n.add(we(e,Object.assign(Object.assign({},this._getRenderOptions(e,n)),t),i)).element,dispose:()=>n.dispose()}}_getRenderOptions(t,i){return{baseUrl:this._options.baseUrl,codeBlockRenderer:(t,i)=>function(e,t,i,n){return new(i=i||Promise)((function(o,r){function s(e){try{l(n.next(e))}catch(e){r(e)}}function a(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):((t=e.value)instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))}(this,void 0,void 0,(function*(){var n;let o;t?o=this._modeService.getModeIdForLanguageName(t):this._options.editor&&(o=null===(r=this._options.editor.getModel())||void 0===r?void 0:r.getLanguageId()),o=o||"plaintext",this._modeService.triggerMode(o);var r=null!==(n=yield ye.F.getPromise(o))&&void 0!==n?n:void 0;const s=document.createElement("span");return s.innerHTML=null!==(n=null===(n=e._ttpTokenizer)||void 0===n?void 0:n.createHTML(i,this._modeService.languageIdCodec,r))&&void 0!==n?n:Object(Ce.b)(i,this._modeService.languageIdCodec,r),this._options.editor?(r=this._options.editor.getOption(43),xe.a.applyFontInfoSlow(s,r)):this._options.codeBlockFontFamily&&(s.style.fontFamily=this._options.codeBlockFontFamily),s})),asyncRenderCallback:()=>this._onDidRenderAsync.fire(),actionHandler:{callback:e=>this._openerService.open(e,{fromUserGesture:!0,allowContributedOpeners:!0,allowCommands:t.isTrusted}).catch(ae.f),disposables:i}}}};ke._ttpTokenizer=null===(i=window.trustedTypes)||void 0===i?void 0:i.createPolicy("tokenizeToString",{createHTML:(e,t,i)=>Object(Ce.b)(e,t,i)}),ke=h([Se(1,g.a),Se(2,t.a)],ke)},function(e,t,i){"use strict";i.d(t,"a",(function(){return r})),i.d(t,"b",(function(){return s})),i.d(t,"c",(function(){return a}));t=i(21);var n=i(35),o=i(19);const r=Object(t.c)("IWorkspaceEditService");class s{constructor(e){this.metadata=e}static convert(e){return e.edits.map(e=>{if(t=e,Object(o.k)(t)&&n.a.isUri(t.resource)&&Object(o.k)(t.edit))return new a(e.resource,e.edit,e.modelVersionId,e.metadata);var t;if(t=e,Object(o.k)(t)&&(Boolean(t.newUri)||Boolean(t.oldUri)))return new l(e.oldUri,e.newUri,e.options,e.metadata);throw new Error("Unsupported edit")})}}class a extends s{constructor(e,t,i,n){super(n),this.resource=e,this.textEdit=t,this.versionId=i}}class l extends s{constructor(e,t,i,n){super(n),this.oldResource=e,this.newResource=t,this.options=i}}},function(e,t,i){"use strict";i.d(t,"a",(function(){return u}));var n=i(73),o=i(18),r=i(2),s=(i(408),i(5)),a=i(3),l=i(0),c=i(10),d=i(4),h=i(133);t=i(16),i=function(e,t){return function(i,n){t(i,n,e)}};let u=class e{constructor(t,i){this._messageWidget=new r.d,this._messageListeners=new r.b,this._editor=t,this._visible=e.MESSAGE_VISIBLE.bindTo(i),this._editorListener=this._editor.onDidAttemptReadOnlyEdit(()=>this._onDidAttemptReadOnlyEdit())}static get(t){return t.getContribution(e.ID)}dispose(){this._editorListener.dispose(),this._messageListeners.dispose(),this._messageWidget.dispose(),this._visible.reset()}showMessage(e,t){let i;Object(n.a)(e),this._visible.set(!0),this._messageWidget.clear(),this._messageListeners.clear(),this._messageWidget.value=new p(this._editor,t,e),this._messageListeners.add(this._editor.onDidBlurEditorText(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidChangeCursorPosition(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidDispose(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidChangeModel(()=>this.closeMessage())),this._messageListeners.add(new o.g(()=>this.closeMessage(),3e3)),this._messageListeners.add(this._editor.onMouseMove(e=>{e.target.position&&(i?i.containsPosition(e.target.position)||this.closeMessage():i=new a.a(t.lineNumber-3,1,e.target.position.lineNumber+3,1))}))}closeMessage(){this._visible.reset(),this._messageListeners.clear(),this._messageWidget.value&&this._messageListeners.add(p.fadeOut(this._messageWidget.value))}_onDidAttemptReadOnlyEdit(){this._editor.hasModel()&&this.showMessage(l.a("editor.readonly","无法在只读编辑器中编辑(请在右边进行编辑)"),this._editor.getPosition())}};u.ID="editor.contrib.messageController",u.MESSAGE_VISIBLE=new c.c("messageVisible",!1,l.a("messageVisible","Whether the editor is currently showing an inline message")),u=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;0<=a;a--)(o=e[a])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s}([i(1,c.b)],u);const g=s.c.bindToContribution(u.get);Object(s.k)(new g({id:"leaveEditorMessage",precondition:u.MESSAGE_VISIBLE,handler:e=>e.closeMessage(),kbOpts:{weight:130,primary:9}}));class p{constructor(e,{lineNumber:t,column:i},n){this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._editor=e,this._editor.revealLinesInCenterIfOutsideViewport(t,t,0),this._position={lineNumber:t,column:i-1},this._domNode=document.createElement("div"),this._domNode.classList.add("monaco-editor-overlaymessage");const o=document.createElement("div");o.classList.add("anchor","top"),this._domNode.appendChild(o);const r=document.createElement("div");r.classList.add("message"),r.textContent=n,this._domNode.appendChild(r);const s=document.createElement("div");s.classList.add("anchor","below"),this._domNode.appendChild(s),this._editor.addContentWidget(this),this._domNode.classList.add("fadeIn")}static fadeOut(e){let t;const i=()=>{e.dispose(),clearTimeout(t),e.getDomNode().removeEventListener("animationend",i)};return t=setTimeout(i,110),e.getDomNode().addEventListener("animationend",i),e.getDomNode().classList.add("fadeOut"),{dispose:i}}dispose(){this._editor.removeContentWidget(this)}getId(){return"messageoverlay"}getDomNode(){return this._domNode}getPosition(){return{position:this._position,preference:[1,2]}}afterRender(e){this._domNode.classList.toggle("below",2===e)}}Object(s.l)(u.ID,u),Object(t.f)((e,t)=>{var i,n=e.getColor(d.ub);n&&(i=e.type===h.a.HIGH_CONTRAST?2:1,t.addRule(`.monaco-editor .monaco-editor-overlaymessage .anchor.below { border-top-color: ${n}; }`),t.addRule(`.monaco-editor .monaco-editor-overlaymessage .anchor.top { border-bottom-color: ${n}; }`),t.addRule(`.monaco-editor .monaco-editor-overlaymessage .message { border: ${i}px solid ${n}; }`)),(n=e.getColor(d.tb))&&t.addRule(`.monaco-editor .monaco-editor-overlaymessage .message { background-color: ${n}; }`),(e=e.getColor(d.vb))&&t.addRule(`.monaco-editor .monaco-editor-overlaymessage .message { color: ${e}; }`)})},function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));class n{constructor(e,t=[],i=!1){this.ctor=e,this.staticArguments=t,this.supportsDelayedInstantiation=i}}},function(e,t,i){"use strict";i.d(t,"b",(function(){return c})),i.d(t,"a",(function(){return d})),i.d(t,"c",(function(){return h})),i.d(t,"e",(function(){return u})),i.d(t,"d",(function(){return g}));var n=i(38),o=i(17),r=(t=i(5),i(11)),s=i(101),a=function(e,t,i,n){return new(i=i||Promise)((function(o,r){function s(e){try{l(n.next(e))}catch(e){r(e)}}function a(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):((t=e.value)instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};function l(e,t,i,n){const r=i.ordered(e);return i=r.map(i=>Promise.resolve(n(i,e,t)).then(void 0,e=>{Object(o.g)(e)})),Promise.all(i).then(e=>{const t=[];for(var i of e)Array.isArray(i)?t.push(...i):i&&t.push(i);return t})}function c(e,t,i){return l(e,t,r.f,(e,t,n)=>e.provideDefinition(t,n,i))}function d(e,t,i){return l(e,t,r.e,(e,t,n)=>e.provideDeclaration(t,n,i))}function h(e,t,i){return l(e,t,r.q,(e,t,n)=>e.provideImplementation(t,n,i))}function u(e,t,i){return l(e,t,r.G,(e,t,n)=>e.provideTypeDefinition(t,n,i))}function g(e,t,i,n){return l(e,t,r.y,(e,t,o)=>a(this,void 0,void 0,(function*(){var r=yield e.provideReferences(t,o,{includeDeclaration:!0},n);if(!i||!r||2!==r.length)return r;var s=yield e.provideReferences(t,o,{includeDeclaration:!1},n);return s&&1===s.length?s:r})))}function p(e){return a(this,void 0,void 0,(function*(){var t=yield e();const i=new s.c(t,"");return t=i.references.map(e=>e.link),i.dispose(),t}))}Object(t.n)("_executeDefinitionProvider",(e,t)=>p(()=>c(e,t,n.a.None))),Object(t.n)("_executeDeclarationProvider",(e,t)=>p(()=>d(e,t,n.a.None))),Object(t.n)("_executeImplementationProvider",(e,t)=>p(()=>h(e,t,n.a.None))),Object(t.n)("_executeTypeDefinitionProvider",(e,t)=>p(()=>u(e,t,n.a.None))),Object(t.n)("_executeReferenceProvider",(e,t)=>p(()=>g(e,t,!1,n.a.None)))},function(e,t,i){"use strict";i.r(t),i.d(t,"GhostTextController",(function(){return pe})),i.d(t,"ActiveGhostTextController",(function(){return me})),i.d(t,"commitInlineSuggestionAction",(function(){return be})),i.d(t,"ShowNextInlineSuggestionAction",(function(){return _e})),i.d(t,"ShowPreviousInlineSuggestionAction",(function(){return we})),i.d(t,"TriggerInlineSuggestionAction",(function(){return Ce}));var n=i(2),o=i(9),r=i(5),s=i(189),a=i(8);const l="editor.action.inlineSuggest.commit";var c=i(6),d=i(12),h=i(11),u=i(18),g=i(38),p=i(17),f=i(116),m=i(75),v=i(3);class b{constructor(e,t,i=0){this.lineNumber=e,this.parts=t,this.additionalReservedLineCount=i}renderForScreenReader(e){if(0===this.parts.length)return"";var t=this.parts[this.parts.length-1];return function(e,t){const i=new _(e),n=t.map(e=>{const t=v.a.lift(e.range);return{startOffset:i.getOffset(t.getStartPosition()),endOffset:i.getOffset(t.getEndPosition()),text:e.text}});n.sort((e,t)=>t.startOffset-e.startOffset);for(const t of n)e=e.substring(0,t.startOffset)+t.text+e.substring(t.endOffset);return e}(e.substr(0,t.column-1),this.parts.map(e=>({range:{startLineNumber:1,endLineNumber:1,startColumn:e.column,endColumn:e.column},text:e.lines.join("\n")}))).substring(this.parts[0].column-1)}}class _{constructor(e){this.lineStartOffsetByLineIdx=[],this.lineStartOffsetByLineIdx.push(0);for(let t=0;t<e.length;t++)"\n"===e.charAt(t)&&this.lineStartOffsetByLineIdx.push(t+1)}getOffset(e){return this.lineStartOffsetByLineIdx[e.lineNumber-1]+e.column-1}}class w{constructor(e,t,i){this.column=e,this.lines=t,this.preview=i}}class C extends n.a{constructor(e){super(),this.editor=e,this._expanded=void 0,this.onDidChangeEmitter=new c.b,this.onDidChange=this.onDidChangeEmitter.event,this._register(e.onDidChangeConfiguration(e=>{e.hasChanged(105)&&void 0===this._expanded&&this.onDidChangeEmitter.fire()}))}setExpanded(e){this._expanded=!0,this.onDidChangeEmitter.fire()}}var y=i(36),x=i(195);function S(e,t,i,n,r=0){if(e.range.startLineNumber===e.range.endLineNumber){const p=t.getLineContent(e.range.startLineNumber);var s=o.x(p).length;e.range.startColumn-1<=s&&(l=o.x(e.text).length,a=p.substring(e.range.startColumn-1,s),e={range:v.a.fromPositions(e.range.getStartPosition().delta(0,a.length),e.range.getEndPosition()),text:e.text.startsWith(a)?e.text.substring(a.length):e.text.substring(l),command:e.command});var a=t.getValueInRange(e.range);const f=function(e,t){if((null==k?void 0:k.originalValue)===e&&(null==k?void 0:k.newValue)===t)return null==k?void 0:k.changes;var i=function(e,t){if(5e3<e.length||5e3<t.length)return;function i(e){let t=0;for(let n=0,o=e.length;n<o;n++){var i=e.charCodeAt(n);i>t&&(t=i)}return t}const n=Math.max(i(e),i(t));function o(e){if(e<0)throw new Error("unexpected");return n+e+1}function r(e){let t=0,i=0;const n=new Int32Array(e.length);for(let s=0,a=e.length;s<a;s++){var r=100*i+t;"("===e[s]?(n[s]=o(2*r),t++):")"===e[s]?(n[s]=o(2*r+1),1===t&&i++,t=Math.max(t-1,0)):n[s]=e.charCodeAt(s)}return n}const s=r(e),a=r(t);return new x.a({getElements:()=>s},{getElements:()=>a}).ComputeDiff(!1).changes}(e,t);return k={originalValue:e,newValue:t,changes:i},i}(a,e.text);if(f){var l=e.range.startLineNumber;const s=new Array;if("prefix"===i&&(1<(t=f.filter(e=>0===e.originalLength)).length||1===t.length&&t[0].originalStart!==a.length))return;var c=e.text.length-r;for(const t of f){var d,h,u,g=e.range.startColumn+t.originalStart+t.originalLength;if("subwordSmart"===i&&n&&n.lineNumber===e.range.startLineNumber&&g<n.column)return;if(0<t.originalLength)return;0!==t.modifiedLength&&(u=t.modifiedStart+t.modifiedLength,d=Math.max(t.modifiedStart,Math.min(u,c)),h=e.text.substring(t.modifiedStart,d),u=e.text.substring(d,Math.max(t.modifiedStart,u)),0<h.length&&(h=o.Q(h),s.push(new w(g,h,!1))),0<u.length&&(u=o.Q(u),s.push(new w(g,u,!0))))}return new b(l,s,0)}}}let k=void 0;var D=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;0<=a;a--)(o=e[a])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s},L=function(e,t){return function(i,n){t(i,n,e)}},O=function(e,t,i,n){return new(i=i||Promise)((function(o,r){function s(e){try{l(n.next(e))}catch(e){r(e)}}function a(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):((t=e.value)instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};let E=class extends n.a{constructor(e,t,i){super(),this.editor=e,this.cache=t,this.commandService=i,this.onDidChangeEmitter=new c.b,this.onDidChange=this.onDidChangeEmitter.event,this.completionSession=this._register(new n.d),this.active=!1,this.disposed=!1,this._register(i.onDidExecuteCommand(t=>{new Set([r.i.id,r.g.id,f.CoreEditingCommands.Tab.id,f.CoreEditingCommands.DeleteLeft.id,f.CoreEditingCommands.DeleteRight.id,l,"acceptSelectedSuggestion"]).has(t.commandId)&&e.hasTextFocus()&&this.handleUserInput()})),this._register(this.editor.onDidType(e=>{this.handleUserInput()})),this._register(this.editor.onDidChangeCursorPosition(e=>{this.session&&!this.session.isValid&&this.hide()})),this._register(Object(n.i)(()=>{this.disposed=!0})),this._register(this.editor.onDidBlurEditorWidget(()=>{this.hide()}))}handleUserInput(){this.session&&!this.session.isValid&&this.hide(),setTimeout(()=>{this.disposed||this.startSessionIfTriggered()},0)}get session(){return this.completionSession.value}get ghostText(){var e;return null===(e=this.session)||void 0===e?void 0:e.ghostText}get minReservedLineCount(){return this.session?this.session.minReservedLineCount:0}setExpanded(e){var t;null!==(t=this.session)&&void 0!==t&&t.setExpanded(e)}setActive(e){var t;(this.active=e)&&null!==(t=this.session)&&void 0!==t&&t.scheduleAutomaticUpdate()}startSessionIfTriggered(){this.editor.getOption(54).enabled&&(this.session&&this.session.isValid||this.trigger(h.t.Automatic))}trigger(e){this.completionSession.value?e===h.t.Explicit&&this.completionSession.value.ensureUpdateWithExplicitContext():(this.completionSession.value=new N(this.editor,this.editor.getPosition(),()=>this.active,this.commandService,this.cache,e),this.completionSession.value.takeOwnership(this.completionSession.value.onDidChange(()=>{this.onDidChangeEmitter.fire()})))}hide(){this.completionSession.clear(),this.onDidChangeEmitter.fire()}commitCurrentSuggestion(){var e;null!==(e=this.session)&&void 0!==e&&e.commitCurrentCompletion()}showNext(){var e;null!==(e=this.session)&&void 0!==e&&e.showNextInlineCompletion()}showPrevious(){var e;null!==(e=this.session)&&void 0!==e&&e.showPreviousInlineCompletion()}hasMultipleInlineCompletions(){var e;return O(this,void 0,void 0,(function*(){var t=yield null===(e=this.session)||void 0===e?void 0:e.hasMultipleInlineCompletions();return void 0!==t&&t}))}};E=D([L(2,y.b)],E);class N extends C{constructor(e,t,i,o,r,s){super(e),this.triggerPosition=t,this.shouldUpdate=i,this.commandService=o,this.cache=r,this.initialTriggerKind=s,this.minReservedLineCount=0,this.updateOperation=this._register(new n.d),this.updateSoon=this._register(new u.e(()=>{var e=this.initialTriggerKind;return this.initialTriggerKind=h.t.Automatic,this.update(e)},50));let a=this.currentlySelectedCompletionId=void 0;this._register(this.onDidChange(()=>{var e=this.currentCompletion;if(e&&e.sourceInlineCompletion!==a){a=e.sourceInlineCompletion;const t=e.sourceProvider;t.handleItemDidShow&&t.handleItemDidShow(e.sourceInlineCompletions,a)}})),this._register(Object(n.i)(()=>{this.cache.clear()})),this._register(this.editor.onDidChangeCursorPosition(e=>{this.cache.value&&this.onDidChangeEmitter.fire()})),this._register(this.editor.onDidChangeModelContent(e=>{this.scheduleAutomaticUpdate()})),this._register(h.u.onDidChange(()=>{this.updateSoon.schedule()})),this.scheduleAutomaticUpdate()}fixAndGetIndexOfCurrentSelection(){if(!this.currentlySelectedCompletionId||!this.cache.value)return 0;if(0===this.cache.value.completions.length)return 0;var e=this.cache.value.completions.findIndex(e=>e.semanticId===this.currentlySelectedCompletionId);return-1===e?(this.currentlySelectedCompletionId=void 0,0):e}get currentCachedCompletion(){if(this.cache.value)return this.cache.value.completions[this.fixAndGetIndexOfCurrentSelection()]}showNextInlineCompletion(){var e;return O(this,void 0,void 0,(function*(){yield this.ensureUpdateWithExplicitContext();var t,i=(null===(e=this.cache.value)||void 0===e?void 0:e.completions)||[];0<i.length?(t=(this.fixAndGetIndexOfCurrentSelection()+1)%i.length,this.currentlySelectedCompletionId=i[t].semanticId):this.currentlySelectedCompletionId=void 0,this.onDidChangeEmitter.fire()}))}showPreviousInlineCompletion(){var e;return O(this,void 0,void 0,(function*(){yield this.ensureUpdateWithExplicitContext();var t,i=(null===(e=this.cache.value)||void 0===e?void 0:e.completions)||[];0<i.length?(t=(this.fixAndGetIndexOfCurrentSelection()+i.length-1)%i.length,this.currentlySelectedCompletionId=i[t].semanticId):this.currentlySelectedCompletionId=void 0,this.onDidChangeEmitter.fire()}))}ensureUpdateWithExplicitContext(){var e;return O(this,void 0,void 0,(function*(){this.updateOperation.value?this.updateOperation.value.triggerKind===h.t.Explicit?yield this.updateOperation.value.promise:yield this.update(h.t.Explicit):(null===(e=this.cache.value)||void 0===e?void 0:e.triggerKind)!==h.t.Explicit&&(yield this.update(h.t.Explicit))}))}hasMultipleInlineCompletions(){var e;return O(this,void 0,void 0,(function*(){return yield this.ensureUpdateWithExplicitContext(),1<((null===(e=this.cache.value)||void 0===e?void 0:e.completions.length)||0)}))}get ghostText(){var e=this.currentCompletion,t=this.editor.getOptions().get(54).mode;return e?S(e,this.editor.getModel(),t,this.editor.getPosition()):void 0}get currentCompletion(){const e=this.currentCachedCompletion;if(e)return e.toLiveInlineCompletion()}get isValid(){return this.editor.getPosition().lineNumber===this.triggerPosition.lineNumber}scheduleAutomaticUpdate(){this.updateOperation.clear(),this.updateSoon.schedule()}update(e){return O(this,void 0,void 0,(function*(){if(this.shouldUpdate()){const n=this.editor.getPosition();var t=Object(u.h)(t=>O(this,void 0,void 0,(function*(){let i;try{i=yield A(n,this.editor.getModel(),{triggerKind:e,selectedSuggestionInfo:void 0},t)}catch(i){return void Object(p.f)(i)}t.isCancellationRequested||(this.cache.setValue(this.editor,i,e),this.onDidChangeEmitter.fire())}))),i=new I(t,e);this.updateOperation.value=i,yield t,this.updateOperation.value===i&&this.updateOperation.clear()}}))}takeOwnership(e){this._register(e)}commitCurrentCompletion(){var e;!this.ghostText||(e=this.currentCompletion)&&this.commit(e)}commit(e){const t=this.cache.clearAndLeak();this.editor.executeEdits("inlineSuggestion.accept",[m.a.replaceMove(e.range,e.text)]),e.command?this.commandService.executeCommand(e.command.id,...e.command.arguments||[]).finally(()=>{null!=t&&t.dispose()}).then(void 0,p.g):null!=t&&t.dispose(),this.onDidChangeEmitter.fire()}}class I{constructor(e,t){this.promise=e,this.triggerKind=t}dispose(){this.promise.cancel()}}class T extends n.a{constructor(e,t,i,o){super(),this.triggerKind=o;const r=e.deltaDecorations([],t.items.map(e=>({range:e.range,options:{description:"inline-completion-tracking-range"}})));this._register(Object(n.i)(()=>{e.deltaDecorations(r,[])})),this.completions=t.items.map((e,t)=>new M(e,r[t])),this._register(e.onDidChangeModelContent(()=>{let t=!1;const n=e.getModel();for(const e of this.completions){var o=n.getDecorationRange(e.decorationId);o?e.synchronizedRange.equalsRange(o)||(t=!0,e.synchronizedRange=o):Object(p.f)(new Error("Decoration has no range"))}t&&i()})),this._register(t)}}class M{constructor(e,t){this.inlineCompletion=e,this.decorationId=t,this.semanticId=JSON.stringify({text:this.inlineCompletion.text,startLine:this.inlineCompletion.range.startLineNumber,startColumn:this.inlineCompletion.range.startColumn,command:this.inlineCompletion.command}),this.synchronizedRange=e.range}toLiveInlineCompletion(){return{text:this.inlineCompletion.text,range:this.synchronizedRange,command:this.inlineCompletion.command,sourceProvider:this.inlineCompletion.sourceProvider,sourceInlineCompletions:this.inlineCompletion.sourceInlineCompletions,sourceInlineCompletion:this.inlineCompletion.sourceInlineCompletion}}}function A(e,t,i,n=g.a.None){return O(this,void 0,void 0,(function*(){const o=(r=e,a=(s=t).getWordAtPosition(r),s=s.getLineMaxColumn(r.lineNumber),a?new v.a(r.lineNumber,a.startColumn,r.lineNumber,s):v.a.fromPositions(r,r.with(void 0,s)));var r,s,a;const l=h.u.all(t),c=yield Promise.all(l.map(o=>O(this,void 0,void 0,(function*(){const r=yield o.provideInlineCompletions(t,e,i,n);return{completions:r,provider:o,dispose:()=>{r&&o.freeInlineCompletions(r)}}})))),d=new Map;for(const e of c){const t=e.completions;if(t)for(const i of t.items.map(i=>({text:i.text,range:i.range?v.a.lift(i.range):o,command:i.command,sourceProvider:e.provider,sourceInlineCompletions:t,sourceInlineCompletion:i})))i.range.startLineNumber===i.range.endLineNumber&&d.set(JSON.stringify({text:i.text,range:i.range}),i)}return{items:[...d.values()],dispose:()=>{for(const e of c)e.dispose()}}}))}function P(e,t){if(!t)return t;const i=e.getValueInRange(t.range);var n=Object(o.d)(i,t.text),r=e.getOffsetAt(t.range.getStartPosition())+n,s=e.getPositionAt(r),a=i.substr(n);a=Object(o.e)(a,t.text),e=e.getPositionAt(Math.max(r,e.getOffsetAt(t.range.getEndPosition())-a));return{range:v.a.fromPositions(s,e),text:t.text.substr(n,t.text.length-n-a)}}var R=i(143),F=i(265),j=i(229);class B extends n.a{constructor(e,t){super(),this.editor=e,this.suggestControllerPreselector=t,this.isSuggestWidgetVisible=!1,this.isShiftKeyPressed=!1,this._isActive=!1,this._currentInlineCompletion=void 0,this.onDidChangeEmitter=new c.b,this.onDidChange=this.onDidChangeEmitter.event,this.setInactiveDelayed=this._register(new u.e(()=>{this.isSuggestWidgetVisible||this._isActive&&(this._isActive=!1,this.onDidChangeEmitter.fire())},100)),this._register(e.onKeyDown(e=>{e.shiftKey&&!this.isShiftKeyPressed&&(this.isShiftKeyPressed=!0,this.update(this._isActive))})),this._register(e.onKeyUp(e=>{e.shiftKey&&this.isShiftKeyPressed&&(this.isShiftKeyPressed=!1,this.update(this._isActive))}));const i=j.SuggestController.get(this.editor);if(i){this._register(i.registerSelector({priority:100,select:(e,t,n)=>{const o=this.editor.getModel(),r=P(o,this.suggestControllerPreselector());if(!r)return-1;const s=d.a.lift(t);var a,l;return(n=function(e,t){let i=void 0;for(const n of e)(void 0===i||0<t(n,i))&&(i=n);return i}(n.map((e,t)=>{var n=W(i,s,e,this.isShiftKeyPressed),a=P(o,n);if(a)return{index:t,valid:(n=r.range,t=a.range,n.startLineNumber===t.startLineNumber&&n.startColumn===t.startColumn&&(n.endLineNumber<t.endLineNumber||n.endLineNumber===t.endLineNumber&&n.endColumn<=t.endColumn)&&r.text.startsWith(a.text)),prefixLength:a.text.length,suggestItem:e}}).filter(e=>e&&e.valid),(a=e=>e.prefixLength,l=(e,t)=>e-t,(e,t)=>l(a(e),a(t)))))?n.index:-1}}));let e=!1;const t=()=>{e||(e=!0,this._register(i.widget.value.onDidShow(()=>{this.isSuggestWidgetVisible=!0,this.update(!0)})),this._register(i.widget.value.onDidHide(()=>{this.isSuggestWidgetVisible=!1,this.setInactiveDelayed.schedule(),this.update(this._isActive)})),this._register(i.widget.value.onDidFocus(()=>{this.isSuggestWidgetVisible=!0,this.update(!0)})))};this._register(c.c.once(i.model.onDidTrigger)(e=>{t()}))}this.update(this._isActive)}get state(){if(this._isActive)return{selectedItemAsInlineCompletion:this._currentInlineCompletion}}update(e){var t,i,n=this.getInlineCompletion();let o=!1;(t=this._currentInlineCompletion)===(i=n)||t&&i&&t.range.equalsRange(i.range)&&t.text===i.text&&t.command===i.command||(this._currentInlineCompletion=n,o=!0),this._isActive!==e&&(this._isActive=e,o=!0),o&&this.onDidChangeEmitter.fire()}getInlineCompletion(){const e=j.SuggestController.get(this.editor);if(e&&this.isSuggestWidgetVisible){var t=e.widget.value.getFocusedItem();if(t)return W(e,this.editor.getPosition(),t.item,this.isShiftKeyPressed)}}stopForceRenderingAbove(){const e=j.SuggestController.get(this.editor);e&&e.stopForceRenderingAbove()}forceRenderingAbove(){const e=j.SuggestController.get(this.editor);e&&e.forceRenderingAbove()}}function W(e,t,i,n){if(Array.isArray(i.completion.additionalTextEdits)&&0<i.completion.additionalTextEdits.length)return{text:"",range:v.a.fromPositions(t,t)};let{insertText:o}=i.completion;if(4&i.completion.insertTextRules){const i=(new R.c).parse(o);var r=e.editor.getModel();if(100<i.children.length)return;F.a.adjustWhitespace(r,t,i,!0,!0),o=i.toString()}return n=e.getOverwriteInfo(i,n),{text:o,range:v.a.fromPositions(t.delta(0,-n.overwriteBefore),t.delta(0,Math.max(n.overwriteAfter,0)))}}var V=function(e,t,i,n){return new(i=i||Promise)((function(o,r){function s(e){try{l(n.next(e))}catch(e){r(e)}}function a(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):((t=e.value)instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};class z extends C{constructor(e,t){super(e),this.cache=t,this.suggestionInlineCompletionSource=this._register(new B(this.editor,()=>{var e;return null===(e=null===(e=this.cache.value)||void 0===e?void 0:e.completions[0])||void 0===e?void 0:e.toLiveInlineCompletion()})),this.updateOperation=this._register(new n.d),this.updateCacheSoon=this._register(new u.e(()=>this.updateCache(),50)),this.minReservedLineCount=0,this._register(this.suggestionInlineCompletionSource.onDidChange(()=>{this.updateCacheSoon.schedule(),this.suggestionInlineCompletionSource.state||(this.minReservedLineCount=0);const e=this.ghostText;e&&(this.minReservedLineCount=Math.max(this.minReservedLineCount,e.parts.map(e=>e.lines.length-1).reduce((e,t)=>e+t,0))),1<=this.minReservedLineCount&&this.isSuggestionPreviewEnabled()?this.suggestionInlineCompletionSource.forceRenderingAbove():this.suggestionInlineCompletionSource.stopForceRenderingAbove(),this.onDidChangeEmitter.fire()})),this._register(this.cache.onDidChange(()=>{this.onDidChangeEmitter.fire()})),this._register(this.editor.onDidChangeCursorPosition(e=>{this.isSuggestionPreviewEnabled()&&(this.minReservedLineCount=0,this.updateCacheSoon.schedule(),this.onDidChangeEmitter.fire())})),this._register(Object(n.i)(()=>this.suggestionInlineCompletionSource.stopForceRenderingAbove()))}get isActive(){return void 0!==this.suggestionInlineCompletionSource.state}isSuggestionPreviewEnabled(){return this.editor.getOption(105).preview}updateCache(){return V(this,void 0,void 0,(function*(){if((t=this.suggestionInlineCompletionSource.state)&&t.selectedItemAsInlineCompletion){const i={text:t.selectedItemAsInlineCompletion.text,range:t.selectedItemAsInlineCompletion.range},n=this.editor.getPosition();var e=Object(u.h)(e=>V(this,void 0,void 0,(function*(){let t;try{t=yield A(n,this.editor.getModel(),{triggerKind:h.t.Automatic,selectedSuggestionInfo:i},e)}catch(t){return void Object(p.f)(t)}e.isCancellationRequested||(this.cache.setValue(this.editor,t,h.t.Automatic),this.onDidChangeEmitter.fire())}))),t=new I(e,h.t.Automatic);this.updateOperation.value=t,yield e,this.updateOperation.value===t&&this.updateOperation.clear()}}))}get ghostText(){if(this.isSuggestionPreviewEnabled()){var e=this.suggestionInlineCompletionSource.state,t=P(this.editor.getModel(),null==e?void 0:e.selectedItemAsInlineCompletion);const o=P(this.editor.getModel(),null===(e=null===(e=this.cache.value)||void 0===e?void 0:e.completions[0])||void 0===e?void 0:e.toLiveInlineCompletion());e=!(o&&t&&o.text.startsWith(t.text)&&o.range.equalsRange(t.range))&&t||o;const r=t?((null==e?void 0:e.text.length)||0)-t.text.length:0;var i,n;return i=e,n=this.editor.getOptions().get(105).previewMode,i?S(i,this.editor.getModel(),n,this.editor.getPosition(),r)||new b(i.range.endLineNumber,[],this.minReservedLineCount):void 0}}}var H=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;0<=a;a--)(o=e[a])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s},U=function(e,t){return function(i,n){t(i,n,e)}};class $ extends n.a{constructor(){super(...arguments),this.onDidChangeEmitter=new c.b,this.onDidChange=this.onDidChangeEmitter.event,this.hasCachedGhostText=!1,this.currentModelRef=this._register(new n.d)}get targetModel(){var e;return null===(e=this.currentModelRef.value)||void 0===e?void 0:e.object}setTargetModel(e){var t,i;(null===(t=this.currentModelRef.value)||void 0===t?void 0:t.object)!==e&&(this.currentModelRef.clear(),this.currentModelRef.value=e?(i=(e=e).onDidChange(()=>{this.hasCachedGhostText=!1,this.onDidChangeEmitter.fire()}),{object:e,dispose:()=>null==i?void 0:i.dispose()}):void 0,this.hasCachedGhostText=!1,this.onDidChangeEmitter.fire())}get ghostText(){var e;return this.hasCachedGhostText||(this.cachedGhostText=null===(e=null===(e=this.currentModelRef.value)||void 0===e?void 0:e.object)||void 0===e?void 0:e.ghostText,this.hasCachedGhostText=!0),this.cachedGhostText}setExpanded(e){var t;null!==(t=this.targetModel)&&void 0!==t&&t.setExpanded(e)}get minReservedLineCount(){return this.targetModel?this.targetModel.minReservedLineCount:0}}let K=class extends ${constructor(e,t){super(),this.editor=e,this.commandService=t,this.sharedCache=this._register(new q),this.suggestWidgetAdapterModel=this._register(new z(this.editor,this.sharedCache)),this.inlineCompletionsModel=this._register(new E(this.editor,this.sharedCache,this.commandService)),this._register(this.suggestWidgetAdapterModel.onDidChange(()=>{this.updateModel()})),this.updateModel()}get activeInlineCompletionsModel(){if(this.targetModel===this.inlineCompletionsModel)return this.inlineCompletionsModel}updateModel(){this.setTargetModel(this.suggestWidgetAdapterModel.isActive?this.suggestWidgetAdapterModel:this.inlineCompletionsModel),this.inlineCompletionsModel.setActive(this.targetModel===this.inlineCompletionsModel)}shouldShowHoverAt(e){var t;const i=null===(t=this.activeInlineCompletionsModel)||void 0===t?void 0:t.ghostText;return!!i&&i.parts.some(t=>e.containsPosition(new d.a(i.lineNumber,t.column)))}triggerInlineCompletion(){var e;null!==(e=this.activeInlineCompletionsModel)&&void 0!==e&&e.trigger(h.t.Explicit)}commitInlineCompletion(){var e;null!==(e=this.activeInlineCompletionsModel)&&void 0!==e&&e.commitCurrentSuggestion()}hideInlineCompletion(){var e;null!==(e=this.activeInlineCompletionsModel)&&void 0!==e&&e.hide()}showNextInlineCompletion(){var e;null!==(e=this.activeInlineCompletionsModel)&&void 0!==e&&e.showNext()}showPreviousInlineCompletion(){var e;null!==(e=this.activeInlineCompletionsModel)&&void 0!==e&&e.showPrevious()}hasMultipleInlineCompletions(){var e;return function(e,t,i,n){return new(i=i||Promise)((function(o,r){function s(e){try{l(n.next(e))}catch(e){r(e)}}function a(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):((t=e.value)instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))}(this,void 0,void 0,(function*(){var t=yield null===(e=this.activeInlineCompletionsModel)||void 0===e?void 0:e.hasMultipleInlineCompletions();return void 0!==t&&t}))}};K=H([U(1,y.b)],K);class q extends n.a{constructor(){super(...arguments),this.onDidChangeEmitter=new c.b,this.onDidChange=this.onDidChangeEmitter.event,this.cache=this._register(new n.d)}get value(){return this.cache.value}setValue(e,t,i){this.cache.value=new T(e,t,()=>this.onDidChangeEmitter.fire(),i)}clearAndLeak(){return this.cache.clearAndLeak()}clear(){this.cache.clear()}}var G=i(1),Y=i(14),Z=(i(492),i(94)),X=(t=i(46),i(34)),Q=i(26),J=i(118),ee=i(147),te=(D=i(80),i(45)),ie=i(160),ne=i(115),oe=i(10);L=i(21),g=i(16),H=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;0<=a;a--)(o=e[a])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s},U=function(e,t){return function(i,n){t(i,n,e)}};const re=null===(y=window.trustedTypes)||void 0===y?void 0:y.createPolicy("editorGhostText",{createHTML:e=>e});let se=class extends n.a{constructor(e,t,i,o){super(),this.editor=e,this.model=t,this.instantiationService=i,this.modeService=o,this.disposed=!1,this.partsWidget=this._register(this.instantiationService.createInstance(ae,this.editor)),this.additionalLinesWidget=this._register(new ce(this.editor,this.modeService.languageIdCodec)),this.viewMoreContentWidget=void 0,this._register(this.editor.onDidChangeConfiguration(e=>{(e.hasChanged(29)||e.hasChanged(104)||e.hasChanged(87)||e.hasChanged(82)||e.hasChanged(44)||e.hasChanged(43)||e.hasChanged(58))&&this.update()})),this._register(Object(n.i)(()=>{var e;this.disposed=!0,this.update(),null!==(e=this.viewMoreContentWidget)&&void 0!==e&&e.dispose(),this.viewMoreContentWidget=void 0})),this._register(t.onDidChange(()=>{this.update()})),this.update()}shouldShowHoverAtViewZone(e){return this.additionalLinesWidget.viewZoneId===e}update(){var e;const t=this.model.ghostText;if(!this.editor.hasModel()||!t||this.disposed)return this.partsWidget.clear(),void this.additionalLinesWidget.clear();const i=new Array,n=new Array;function o(e,t){if(0<n.length){const i=n[n.length-1];t&&i.decorations.push(new ie.a(i.content.length+1,i.content.length+1+e[0].length,t,0)),i.content+=e[0],e=e.slice(1)}for(const i of e)n.push({content:i,decorations:t?[new ie.a(1,i.length+1,t,0)]:[]})}const r=this.editor.getModel().getLineContent(t.lineNumber);this.editor.getModel().getLineTokens(t.lineNumber);let s=void 0,a=0;for(const e of t.parts){let t=e.lines;void 0===s?(i.push({column:e.column,text:t[0],preview:e.preview}),t=t.slice(1)):o([r.substring(a,e.column-1)],void 0),0<t.length&&(o(t,"ghost-text"),void 0===s&&e.column<=r.length&&(s=e.column)),a=e.column-1}void 0!==s&&o([r.substring(a)],void 0),this.partsWidget.setParts(t.lineNumber,i,void 0!==s?{column:s,length:r.length+1-s}:void 0),this.additionalLinesWidget.updateLines(t.lineNumber,n,t.additionalReservedLineCount),t.parts.some(e=>e.lines.length<0)?this.viewMoreContentWidget=this.renderViewMoreLines(new d.a(t.lineNumber,this.editor.getModel().getLineMaxColumn(t.lineNumber)),"",0):(null!==(e=this.viewMoreContentWidget)&&void 0!==e&&e.dispose(),this.viewMoreContentWidget=void 0)}renderViewMoreLines(e,t,i){var o=this.editor.getOption(43);const r=document.createElement("div");r.className="suggest-preview-additional-widget",Z.a.applyFontInfoSlow(r,o);const s=document.createElement("span");s.className="content-spacer",s.append(t),r.append(s);const a=document.createElement("span");a.className="content-newline suggest-preview-text",a.append("⏎  "),r.append(a);const l=new n.b,c=document.createElement("div");return c.className="button suggest-preview-text",c.append(`+${i} lines…`),l.add(G.o(c,"mousedown",e=>{var t;null!==(t=this.model)&&void 0!==t&&t.setExpanded(!0),e.preventDefault(),this.editor.focus()})),r.append(c),new he(this.editor,e,r,l)}};se=H([U(2,L.a),U(3,D.a)],se);let ae=class{constructor(e,t,i,o){this.editor=e,this.codeEditorService=t,this.themeService=i,this.contextKeyService=o,this.decorationIds=[],this.disposableStore=new n.b}dispose(){this.clear(),this.disposableStore.dispose()}clear(){this.editor.deltaDecorations(this.decorationIds,[]),this.disposableStore.clear()}setParts(e,t,i){this.disposableStore.clear();const n=this.themeService.getColorTheme();var o=n.getColor(te.K);let r=void 0,s=void 0;o&&(r=String(o.rgba.a),s=Y.a.Format.CSS.format(le(o))),o=n.getColor(te.J);let a=void 0;o&&(a="2px dashed "+o);const l=this.editor.getModel();if(l){const{tabSize:n}=l.getOptions(),o=l.getLineContent(e)||"";let c=0,h="";const u=new Array;i&&u.push({range:v.a.fromPositions(new d.a(e,i.column),new d.a(e,i.column+i.length)),options:{inlineClassName:"ghost-text-hidden",description:"ghost-text-hidden"}});const g=void 0===(i=this.contextKeyService.getContextKeyValue("config.editor.useInjectedText"))||!!i;this.decorationIds=this.editor.deltaDecorations(this.decorationIds,t.map(t=>{h+=o.substring(c,t.column-1),c=t.column-1;var i=g?t.text:this.renderSingleLineText(t.text,h,n,!1);const l=this.disposableStore.add(function(e,t,i,n){const o="0-ghost-text-"+de++;return e.registerDecorationType("ghost-text",o,n),{dispose(){e.removeDecorationType(o)},resolve:()=>e.resolveDecorationOptions(o,!0)}}(this.codeEditorService,0,0,{after:{contentText:i,opacity:r,color:s,border:a,fontWeight:t.preview?"bold":"normal"}}));return{range:v.a.fromPositions(new d.a(e,t.column)),options:g?{description:"ghost-text",after:{content:i,inlineClassName:t.preview?"ghost-text-decoration-preview":"ghost-text-decoration"},showIfCollapsed:!0}:Object.assign({},l.resolve())}}).concat(u))}}renderSingleLineText(e,t,i,n){var o=Q.a.visibleColumnsByColumns(t+e,i);let r="",s=t.length+1;for(const t of e){if("\t"===t){var a=o[s+1]-o[s];if(n){r+="→";for(let e=1;e<a;e++)r+=" "}else for(let e=0;e<a;e++)r+=" "}else r+=" "===t?n?"·":" ":t;s+=1}return r}};function le(e){var{r:t,b:i,g:e}=e.rgba;return new Y.a(new Y.c(t,e,i,255))}ae=H([U(1,t.a),U(2,g.b),U(3,oe.b)],ae);class ce{constructor(e,t){this.editor=e,this.languageIdCodec=t,this._viewZoneId=void 0}get viewZoneId(){return this._viewZoneId}dispose(){this.clear()}clear(){this.editor.changeViewZones(e=>{this._viewZoneId&&(e.removeZone(this._viewZoneId),this._viewZoneId=void 0)})}updateLines(e,t,i){const n=this.editor.getModel();if(n){const{tabSize:r}=n.getOptions();this.editor.changeViewZones(n=>{this._viewZoneId&&(n.removeZone(this._viewZoneId),this._viewZoneId=void 0);var s,a=Math.max(t.length,i);0<a&&(function(e,t,i,n,r){const s=n.get(29),a=n.get(104),l=n.get(82),c=n.get(44),d=n.get(43),h=n.get(58),u=Object(ee.a)(1e4);u.appendASCIIString('<div class="suggest-preview-text">');for(let e=0,n=i.length;e<n;e++){var g=i[e],p=g.content;u.appendASCIIString('<div class="view-line'),u.appendASCIIString('" style="top:'),u.appendASCIIString(String(e*h)),u.appendASCIIString('px;width:1000000px;">');var f=o.A(p),m=o.m(p),v=J.a.createEmpty(p,r);Object(ne.d)(new ne.c(d.isMonospace&&!s,d.canUseHalfwidthRightwardsArrow,p,!1,f,m,0,v,g.decorations,t,0,d.spaceWidth,d.middotWidth,d.wsmiddotWidth,a,"none",l,c!==X.e.OFF,null),u),u.appendASCIIString("</div>")}u.appendASCIIString("</div>"),Z.a.applyFontInfoSlow(e,d),n=u.build(),n=re?re.createHTML(n):n,e.innerHTML=n}(s=document.createElement("div"),r,t,this.editor.getOptions(),this.languageIdCodec),this._viewZoneId=n.addZone({afterLineNumber:e,heightInLines:a,domNode:s}))})}}}let de=0;class he extends n.a{constructor(e,t,i,o){super(),this.editor=e,this.position=t,this.domNode=i,this.allowEditorOverflow=!1,this.suppressMouseDown=!1,this._register(o),this._register(Object(n.i)(()=>{this.editor.removeContentWidget(this)})),this.editor.addContentWidget(this)}getId(){return"editor.widget.viewMoreLinesWidget"}getDomNode(){return this.domNode}getPosition(){return{position:this.position,preference:[0]}}}Object(g.f)((e,t)=>{const i=e.getColor(te.K);var n,o;i&&(n=String(i.rgba.a),o=Y.a.Format.CSS.format(le(i)),t.addRule(`.monaco-editor .ghost-text-decoration { opacity: ${n} !important; color: ${o} !important; }`),t.addRule(`.monaco-editor .ghost-text-decoration-preview { color: ${i.toString()} !important; }`),t.addRule(`.monaco-editor .suggest-preview-text .ghost-text { opacity: ${n} !important; color: ${o} !important; }`)),(e=e.getColor(te.J))&&(t.addRule(`.monaco-editor .suggest-preview-text .ghost-text { border: 1px solid ${e}; }`),t.addRule(`.monaco-editor .ghost-text-decoration { border: 1px solid ${e}; }`),t.addRule(`.monaco-editor .ghost-text-decoration-preview { border: 1px solid ${e}; }`))});var ue=i(0),ge=(U=i(111),g=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;0<=a;a--)(o=e[a])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s},i=function(e,t){return function(i,n){t(i,n,e)}},function(e,t,i,n){return new(i=i||Promise)((function(o,r){function s(e){try{l(n.next(e))}catch(e){r(e)}}function a(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):((t=e.value)instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))});let pe=class e extends n.a{constructor(e,t){super(),this.editor=e,this.instantiationService=t,this.triggeredExplicitly=!1,this.activeController=this._register(new n.d),this._register(this.editor.onDidChangeModel(()=>{this.updateModelController()})),this._register(this.editor.onDidChangeConfiguration(e=>{e.hasChanged(105)&&this.updateModelController(),e.hasChanged(54)&&this.updateModelController()})),this.updateModelController()}static get(t){return t.getContribution(e.ID)}get activeModel(){var e;return null===(e=this.activeController.value)||void 0===e?void 0:e.model}updateModelController(){var e=this.editor.getOption(105),t=this.editor.getOption(54);this.activeController.value=void 0,this.activeController.value=this.editor.hasModel()&&(e.preview||t.enabled||this.triggeredExplicitly)?this.instantiationService.createInstance(me,this.editor):void 0}shouldShowHoverAt(e){var t;return(null===(t=this.activeModel)||void 0===t?void 0:t.shouldShowHoverAt(e))||!1}shouldShowHoverAtViewZone(e){var t;return(null===(t=null===(t=this.activeController.value)||void 0===t?void 0:t.widget)||void 0===t?void 0:t.shouldShowHoverAtViewZone(e))||!1}trigger(){var e;this.triggeredExplicitly=!0,this.activeController.value||this.updateModelController(),null!==(e=this.activeModel)&&void 0!==e&&e.triggerInlineCompletion()}commit(){var e;null!==(e=this.activeModel)&&void 0!==e&&e.commitInlineCompletion()}hide(){var e;null!==(e=this.activeModel)&&void 0!==e&&e.hideInlineCompletion()}showNextInlineCompletion(){var e;null!==(e=this.activeModel)&&void 0!==e&&e.showNextInlineCompletion()}showPreviousInlineCompletion(){var e;null!==(e=this.activeModel)&&void 0!==e&&e.showPreviousInlineCompletion()}hasMultipleInlineCompletions(){var e;return ge(this,void 0,void 0,(function*(){var t=yield null===(e=this.activeModel)||void 0===e?void 0:e.hasMultipleInlineCompletions();return void 0!==t&&t}))}};pe.inlineSuggestionVisible=new oe.c("inlineSuggestionVisible",!1,ue.a("inlineSuggestionVisible","Whether an inline suggestion is visible")),pe.inlineSuggestionHasIndentation=new oe.c("inlineSuggestionHasIndentation",!1,ue.a("inlineSuggestionHasIndentation","Whether the inline suggestion starts with whitespace")),pe.inlineSuggestionHasIndentationLessThanTabSize=new oe.c("inlineSuggestionHasIndentationLessThanTabSize",!0,ue.a("inlineSuggestionHasIndentationLessThanTabSize","Whether the inline suggestion starts with whitespace that is less than what would be inserted by tab")),pe.ID="editor.contrib.ghostTextController",pe=g([i(1,L.a)],pe);class fe{constructor(e){this.contextKeyService=e,this.inlineCompletionVisible=pe.inlineSuggestionVisible.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentation=pe.inlineSuggestionHasIndentation.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentationLessThanTabSize=pe.inlineSuggestionHasIndentationLessThanTabSize.bindTo(this.contextKeyService)}}let me=class extends n.a{constructor(e,t,i){super(),this.editor=e,this.instantiationService=t,this.contextKeyService=i,this.contextKeys=new fe(this.contextKeyService),this.model=this._register(this.instantiationService.createInstance(K,this.editor)),this.widget=this._register(this.instantiationService.createInstance(se,this.editor,this.model)),this._register(Object(n.i)(()=>{this.contextKeys.inlineCompletionVisible.set(!1),this.contextKeys.inlineCompletionSuggestsIndentation.set(!1),this.contextKeys.inlineCompletionSuggestsIndentationLessThanTabSize.set(!0)})),this._register(this.model.onDidChange(()=>{this.updateContextKeys()})),this.updateContextKeys()}updateContextKeys(){this.contextKeys.inlineCompletionVisible.set(void 0!==(null===(r=this.model.activeInlineCompletionsModel)||void 0===r?void 0:r.ghostText));let e=!1,t=!0;var i=this.model.inlineCompletionsModel.ghostText;if(this.model.activeInlineCompletionsModel&&i&&0<i.parts.length){var{column:n,lines:r}=i.parts[0],r=r[0];if(n<=this.editor.getModel().getLineIndentColumn(i.lineNumber)){let n=Object(o.u)(r);-1===n&&(n=r.length-1),e=0<n,i=this.editor.getModel().getOptions().tabSize,t=(r=s.a.visibleColumnFromColumn(r,n+1,i))<i}}this.contextKeys.inlineCompletionSuggestsIndentation.set(e),this.contextKeys.inlineCompletionSuggestsIndentationLessThanTabSize.set(t)}};me=g([i(1,L.a),i(2,oe.b)],me);const ve=r.c.bindToContribution(pe.get),be=new ve({id:l,precondition:pe.inlineSuggestionVisible,handler(e){e.commit(),e.editor.focus()}});Object(r.k)(be),U.a.registerKeybindingRule({primary:2,weight:200,id:be.id,when:oe.a.and(be.precondition,a.a.tabMovesFocus.toNegated(),pe.inlineSuggestionHasIndentationLessThanTabSize)}),Object(r.k)(new ve({id:"editor.action.inlineSuggest.hide",precondition:pe.inlineSuggestionVisible,kbOpts:{weight:100,primary:9},handler(e){e.hide()}}));class _e extends r.b{constructor(){super({id:_e.ID,label:ue.a("action.inlineSuggest.showNext","Show Next Inline Suggestion"),alias:"Show Next Inline Suggestion",precondition:oe.a.and(a.a.writable,pe.inlineSuggestionVisible),kbOpts:{weight:100,primary:601}})}run(e,t){return ge(this,void 0,void 0,(function*(){const e=pe.get(t);e&&(e.showNextInlineCompletion(),t.focus())}))}}_e.ID="editor.action.inlineSuggest.showNext";class we extends r.b{constructor(){super({id:we.ID,label:ue.a("action.inlineSuggest.showPrevious","Show Previous Inline Suggestion"),alias:"Show Previous Inline Suggestion",precondition:oe.a.and(a.a.writable,pe.inlineSuggestionVisible),kbOpts:{weight:100,primary:599}})}run(e,t){return ge(this,void 0,void 0,(function*(){const e=pe.get(t);e&&(e.showPreviousInlineCompletion(),t.focus())}))}}we.ID="editor.action.inlineSuggest.showPrevious";class Ce extends r.b{constructor(){super({id:"editor.action.inlineSuggest.trigger",label:ue.a("action.inlineSuggest.trigger","Trigger Inline Suggestion"),alias:"Trigger Inline Suggestion",precondition:a.a.writable})}run(e,t){return ge(this,void 0,void 0,(function*(){const e=pe.get(t);e&&e.trigger()}))}}Object(r.l)(pe.ID,pe),Object(r.j)(Ce),Object(r.j)(_e),Object(r.j)(we)},function(e,t){e.exports=require("os")},function(e,t,i){"use strict";i.d(t,"a",(function(){return u}));var n=i(55),o=i(46),r=i(218),s=i(36),a=i(10),l=i(21),c=i(64),d=i(16),h=i(90);t=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;0<=a;a--)(o=e[a])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s},i=function(e,t){return function(i,n){t(i,n,e)}};let u=class extends r.a{constructor(e,t,i,n,o,r,s,a,l,c){super(e,Object.assign(Object.assign({},i.getRawOptions()),{overflowWidgetsDomNode:i.getOverflowWidgetsDomNode()}),{},n,o,r,s,a,l,c),this._parentEditor=i,this._overwriteOptions=t,super.updateOptions(this._overwriteOptions),this._register(i.onDidChangeConfiguration(e=>this._onParentConfigurationChanged(e)))}getParentEditor(){return this._parentEditor}_onParentConfigurationChanged(e){super.updateOptions(this._parentEditor.getRawOptions()),super.updateOptions(this._overwriteOptions)}updateOptions(e){n.f(this._overwriteOptions,e,!0),super.updateOptions(this._overwriteOptions)}};u=t([i(3,l.a),i(4,o.a),i(5,s.b),i(6,a.b),i(7,d.b),i(8,c.a),i(9,h.b)],u)},function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));class n{constructor(...e){for(var[t,i]of(this._entries=new Map,e))this.set(t,i)}set(e,t){var i=this._entries.get(e);return this._entries.set(e,t),i}has(e){return this._entries.has(e)}get(e){return this._entries.get(e)}}},function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i.d(t,"b",(function(){return o})),i=i(21);const n=Object(i.c)("textResourceConfigurationService"),o=Object(i.c)("textResourcePropertiesService")},function(e,t,i){"use strict";i.d(t,"d",(function(){return n})),i.d(t,"a",(function(){return p})),i.d(t,"b",(function(){return f})),i.d(t,"c",(function(){return m}));var n,o=i(44),r=i(1),s=i(18),a=i(6),l=(t=i(2),i(140)),c=i(15),d=i(9),h=i(112),u=i(12),g=i(29);const p={forceCopyWithSyntaxHighlighting:!((n=n||{}).Tap="-monaco-textarea-synthetic-tap")};class f{constructor(){this._lastState=null}set(e,t){this._lastState={lastCopiedValue:e,data:t}}get(e){return this._lastState&&this._lastState.lastCopiedValue===e?this._lastState.data:this._lastState=null}}f.INSTANCE=new f;class m extends t.a{constructor(e,t){super(),this.textArea=t,this._onFocus=this._register(new a.b),this.onFocus=this._onFocus.event,this._onBlur=this._register(new a.b),this.onBlur=this._onBlur.event,this._onKeyDown=this._register(new a.b),this.onKeyDown=this._onKeyDown.event,this._onKeyUp=this._register(new a.b),this.onKeyUp=this._onKeyUp.event,this._onCut=this._register(new a.b),this.onCut=this._onCut.event,this._onPaste=this._register(new a.b),this.onPaste=this._onPaste.event,this._onType=this._register(new a.b),this.onType=this._onType.event,this._onCompositionStart=this._register(new a.b),this.onCompositionStart=this._onCompositionStart.event,this._onCompositionUpdate=this._register(new a.b),this.onCompositionUpdate=this._onCompositionUpdate.event,this._onCompositionEnd=this._register(new a.b),this.onCompositionEnd=this._onCompositionEnd.event,this._onSelectionChangeRequest=this._register(new a.b),this.onSelectionChangeRequest=this._onSelectionChangeRequest.event,this._host=e,this._textArea=this._register(new b(t)),this._asyncTriggerCut=this._register(new s.e(()=>this._onCut.fire(),0)),this._asyncFocusGainWriteScreenReaderContent=this._register(new s.e(()=>this.writeScreenReaderContent("asyncFocusGain"),0)),this._textAreaState=h.b.EMPTY,this._selectionChangeListener=null,this.writeScreenReaderContent("ctor"),this._hasFocus=!1,this._isDoingComposition=!1,this._nextCommand=0;let i=null;this._register(r.o(t.domNode,"keydown",e=>{(109===e.keyCode||this._isDoingComposition&&1===e.keyCode)&&e.stopPropagation(),e.equals(9)&&e.preventDefault(),i=e,this._onKeyDown.fire(e)})),this._register(r.o(t.domNode,"keyup",e=>{this._onKeyUp.fire(e)})),this._register(r.i(t.domNode,"compositionstart",e=>{if(h.c&&console.log("[compositionstart]",e),!this._isDoingComposition){if(this._isDoingComposition=!0,c.f&&this._textAreaState.selectionStart===this._textAreaState.selectionEnd&&0<this._textAreaState.selectionStart&&this._textAreaState.value.substr(this._textAreaState.selectionStart-1,1)===e.data&&(i&&i.equals(109)&&("ArrowRight"===i.code||"ArrowLeft"===i.code)||o.g))return h.c&&console.log("[compositionstart] Handling long press case on macOS + arrow key or Firefox",e),this._textAreaState=new h.b(this._textAreaState.value,this._textAreaState.selectionStart-1,this._textAreaState.selectionEnd,this._textAreaState.selectionStartPosition?new u.a(this._textAreaState.selectionStartPosition.lineNumber,this._textAreaState.selectionStartPosition.column-1):null,this._textAreaState.selectionEndPosition),void this._onCompositionStart.fire({revealDeltaColumns:-1});o.e?this._onCompositionStart.fire({revealDeltaColumns:-this._textAreaState.selectionStart}):(this._setAndWriteTextAreaState("compositionstart",h.b.EMPTY),this._onCompositionStart.fire({revealDeltaColumns:0}))}}));const l=e=>{var t=this._textAreaState,i=h.b.readFromTextArea(this._textArea);return[i,h.b.deduceInput(t,i,e)]},g=()=>{var e=this._textAreaState,t=h.b.readFromTextArea(this._textArea);return[t,h.b.deduceAndroidCompositionInput(e,t)]},p=e=>{var t=this._textAreaState;return[e=h.b.selectedText(e),{text:e.value,replacePrevCharCnt:t.selectionEnd-t.selectionStart,replaceNextCharCnt:0,positionDelta:0}]};this._register(r.i(t.domNode,"compositionupdate",e=>{if(h.c&&console.log("[compositionupdate]",e),o.e){const[t,i]=g();return this._textAreaState=t,this._onType.fire(i),void this._onCompositionUpdate.fire(e)}const[t,i]=p(e.data||"");this._textAreaState=t,this._onType.fire(i),this._onCompositionUpdate.fire(e)})),this._register(r.i(t.domNode,"compositionend",e=>{if(h.c&&console.log("[compositionend]",e),this._isDoingComposition){if(this._isDoingComposition=!1,o.e){const[e,t]=g();return this._textAreaState=e,this._onType.fire(t),void this._onCompositionEnd.fire()}const[t,i]=p(e.data||"");this._textAreaState=t,this._onType.fire(i),(o.f||o.g)&&(this._textAreaState=h.b.readFromTextArea(this._textArea)),this._onCompositionEnd.fire()}})),this._register(r.i(t.domNode,"input",()=>{if(this._textArea.setIgnoreSelectionChangeTime("received input event"),!this._isDoingComposition){const[e,t]=l(c.f);0===t.replacePrevCharCnt&&1===t.text.length&&d.E(t.text.charCodeAt(0))||(this._textAreaState=e,0===this._nextCommand?""===t.text&&0===t.replacePrevCharCnt||this._onType.fire(t):(""===t.text&&0===t.replacePrevCharCnt||this._firePaste(t.text,null),this._nextCommand=0))}})),this._register(r.i(t.domNode,"cut",e=>{this._textArea.setIgnoreSelectionChangeTime("received cut event"),this._ensureClipboardGetsEditorSelection(e),this._asyncTriggerCut.schedule()})),this._register(r.i(t.domNode,"copy",e=>{this._ensureClipboardGetsEditorSelection(e)})),this._register(r.i(t.domNode,"paste",e=>{var t;this._textArea.setIgnoreSelectionChangeTime("received paste event"),v.canUseTextData(e)?([t,e]=v.getTextData(e),""!==t&&this._firePaste(t,e)):(this._textArea.getSelectionStart()!==this._textArea.getSelectionEnd()&&this._setAndWriteTextAreaState("paste",h.b.EMPTY),this._nextCommand=1)})),this._register(r.i(t.domNode,"focus",()=>{var e=this._hasFocus;this._setHasFocus(!0),o.h&&!e&&this._hasFocus&&this._asyncFocusGainWriteScreenReaderContent.schedule()})),this._register(r.i(t.domNode,"blur",()=>{this._isDoingComposition&&(this._isDoingComposition=!1,this.writeScreenReaderContent("blurWithoutCompositionEnd"),this._onCompositionEnd.fire()),this._setHasFocus(!1)})),this._register(r.i(t.domNode,n.Tap,()=>{o.e&&this._isDoingComposition&&(this._isDoingComposition=!1,this.writeScreenReaderContent("tapWithoutCompositionEnd"),this._onCompositionEnd.fire())}))}_installSelectionChangeListener(){let e=0;return r.i(document,"selectionchange",t=>{var i,n;this._hasFocus&&(this._isDoingComposition||o.f&&(i=(n=Date.now())-e,e=n,i<5||(i=n-this._textArea.getIgnoreSelectionChangeTime(),this._textArea.resetSelectionChangeTime(),i<100||this._textAreaState.selectionStartPosition&&this._textAreaState.selectionEndPosition&&(n=this._textArea.getValue(),this._textAreaState.value===n&&(i=this._textArea.getSelectionStart(),n=this._textArea.getSelectionEnd(),this._textAreaState.selectionStart===i&&this._textAreaState.selectionEnd===n||(i=this._textAreaState.deduceEditorPosition(i),i=this._host.deduceModelPosition(i[0],i[1],i[2]),n=this._textAreaState.deduceEditorPosition(n),n=this._host.deduceModelPosition(n[0],n[1],n[2]),n=new g.a(i.lineNumber,i.column,n.lineNumber,n.column),this._onSelectionChangeRequest.fire(n)))))))})}dispose(){super.dispose(),this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null)}focusTextArea(){this._setHasFocus(!0),this.refreshFocusState()}isFocused(){return this._hasFocus}refreshFocusState(){var e=r.F(this.textArea.domNode);e?this._setHasFocus(e.activeElement===this.textArea.domNode):r.N(this.textArea.domNode)?this._setHasFocus(document.activeElement===this.textArea.domNode):this._setHasFocus(!1)}_setHasFocus(e){this._hasFocus!==e&&(this._hasFocus=e,this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null),this._hasFocus&&(this._selectionChangeListener=this._installSelectionChangeListener()),this._hasFocus&&this.writeScreenReaderContent("focusgain"),(this._hasFocus?this._onFocus:this._onBlur).fire())}_setAndWriteTextAreaState(e,t){(t=this._hasFocus?t:t.collapseSelection()).writeToTextArea(e,this._textArea,this._hasFocus),this._textAreaState=t}writeScreenReaderContent(e){this._isDoingComposition||this._setAndWriteTextAreaState(e,this._host.getScreenReaderContent(this._textAreaState))}_ensureClipboardGetsEditorSelection(e){const t=this._host.getDataToCopy(v.canUseTextData(e));var i={version:1,isFromEmptySelection:t.isFromEmptySelection,multicursorText:t.multicursorText,mode:t.mode};f.INSTANCE.set(o.g?t.text.replace(/\r\n/g,"\n"):t.text,i),v.canUseTextData(e)?v.setTextData(e,t.text,t.html,i):this._setAndWriteTextAreaState("copy or cut",h.b.selectedText(t.text))}_firePaste(e,t){t=t||f.INSTANCE.get(e),this._onPaste.fire({text:e,metadata:t})}}class v{static canUseTextData(e){return!!e.clipboardData}static getTextData(e){if(e.clipboardData){e.preventDefault();var t=e.clipboardData.getData(l.a.text);let i=null;if("string"==typeof(e=e.clipboardData.getData("vscode-editor-data")))try{i=JSON.parse(e),1!==i.version&&(i=null)}catch(e){}return[t,i]}throw new Error("ClipboardEventUtils.getTextData: Cannot use text data!")}static setTextData(e,t,i,n){if(e.clipboardData)return e.clipboardData.setData(l.a.text,t),"string"==typeof i&&e.clipboardData.setData("text/html",i),e.clipboardData.setData("vscode-editor-data",JSON.stringify(n)),void e.preventDefault();throw new Error("ClipboardEventUtils.setTextData: Cannot use text data!")}}class b extends t.a{constructor(e){super(),this._actual=e,this._ignoreSelectionChangeTime=0}setIgnoreSelectionChangeTime(e){this._ignoreSelectionChangeTime=Date.now()}getIgnoreSelectionChangeTime(){return this._ignoreSelectionChangeTime}resetSelectionChangeTime(){this._ignoreSelectionChangeTime=0}getValue(){return this._actual.domNode.value}setValue(e,t){const i=this._actual.domNode;i.value!==t&&(this.setIgnoreSelectionChangeTime("setValue"),i.value=t)}getSelectionStart(){return"backward"===this._actual.domNode.selectionDirection?this._actual.domNode.selectionEnd:this._actual.domNode.selectionStart}getSelectionEnd(){return"backward"===this._actual.domNode.selectionDirection?this._actual.domNode.selectionStart:this._actual.domNode.selectionEnd}setSelectionRange(e,t,i){const n=this._actual.domNode;let s=null;s=((c=r.F(n))||document).activeElement;var a=s===n,l=n.selectionStart,c=n.selectionEnd;if(a&&l===t&&c===i)o.g&&window.parent!==window&&n.focus();else{if(a)return this.setIgnoreSelectionChangeTime("setSelectionRange"),n.setSelectionRange(t,i),void(o.g&&window.parent!==window&&n.focus());try{var d=r.U(n);this.setIgnoreSelectionChangeTime("setSelectionRange"),n.focus(),n.setSelectionRange(t,i),r.S(n,d)}catch(e){}}}}},function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));var n=i(1),o=i(170),r=i(55);class s{constructor(e,t){this.supportIcons=t,this.text="",this.title="",this.highlights=[],this.didEverRender=!1,this.domNode=document.createElement("span"),this.domNode.className="monaco-highlighted-label",e.appendChild(this.domNode)}get element(){return this.domNode}set(e,t=[],i="",n){e=e||"",n&&(e=s.escapeNewLines(e,t)),this.didEverRender&&this.text===e&&this.title===i&&r.d(this.highlights,t)||(this.text=e,this.title=i,this.highlights=t,this.render())}render(){const e=[];let t=0;for(const r of this.highlights)if(r.end!==r.start){t<r.start&&(i=this.text.substring(t,r.start),e.push(n.a("span",void 0,...this.supportIcons?Object(o.a)(i):[i])),t=r.end);var i=this.text.substring(r.start,r.end);const s=n.a("span.highlight",void 0,...this.supportIcons?Object(o.a)(i):[i]);r.extraClasses&&s.classList.add(r.extraClasses),e.push(s),t=r.end}var r;t<this.text.length&&(r=this.text.substring(t),e.push(n.a("span",void 0,...this.supportIcons?Object(o.a)(r):[r]))),n.R(this.domNode,...e),this.title?this.domNode.title=this.title:this.domNode.removeAttribute("title"),this.didEverRender=!0}static escapeNewLines(e,t){let i,n=0;return e.replace(/\r\n|\r|\n/g,(e,o)=>{i="\r\n"===e?-1:0,o+=n;for(const e of t)e.end<=o||(e.start>=o&&(e.start+=i),e.end>=o&&(e.end+=i));return n+=i,"⏎"})}}},function(e,t,i){"use strict";i.d(t,"b",(function(){return p})),i.d(t,"a",(function(){return f}));var n=i(0),o=i(17),r=i(29),s=i(35),a=i(236),l=i(82),c=i(60);function d(e){return e.toString()}class h{constructor(e,t,i,n,o,r,s){this.beforeVersionId=e,this.afterVersionId=t,this.beforeEOL=i,this.afterEOL=n,this.beforeCursorState=o,this.afterCursorState=r,this.changes=s}static create(e,t){var i=e.getAlternativeVersionId();e=g(e);return new h(i,i,e,e,t,t,[])}append(e,t,i,n,o){0<t.length&&(this.changes=Object(a.b)(this.changes,t)),this.afterEOL=i,this.afterVersionId=n,this.afterCursorState=o}static _writeSelectionsSize(e){return 4+16*(e?e.length:0)}static _writeSelections(e,t,i){if(l.f(e,t?t.length:0,i),i+=4,t)for(const n of t)l.f(e,n.selectionStartLineNumber,i),i+=4,l.f(e,n.selectionStartColumn,i),i+=4,l.f(e,n.positionLineNumber,i),i+=4,l.f(e,n.positionColumn,i),i+=4;return i}static _readSelections(e,t,i){var n=l.c(e,t);t+=4;for(let d=0;d<n;d++){var o=l.c(e,t);t+=4;var s=l.c(e,t);t+=4;var a=l.c(e,t);t+=4;var c=l.c(e,t);t+=4,i.push(new r.a(o,s,a,c))}return t}serialize(){let e=10+h._writeSelectionsSize(this.beforeCursorState)+h._writeSelectionsSize(this.afterCursorState)+4;for(const t of this.changes)e+=t.writeSize();var t=new Uint8Array(e);let i=0;l.f(t,this.beforeVersionId,i),i+=4,l.f(t,this.afterVersionId,i),i+=4,l.g(t,this.beforeEOL,i),i+=1,l.g(t,this.afterEOL,i),i+=1,i=h._writeSelections(t,this.beforeCursorState,i),i=h._writeSelections(t,this.afterCursorState,i),l.f(t,this.changes.length,i),i+=4;for(const e of this.changes)i=e.write(t,i);return t.buffer}static deserialize(e){var t=new Uint8Array(e);let i=0;var n=l.c(t,i);i+=4;var o=l.c(t,i);i+=4;var r=l.d(t,i);i+=1;var s=l.d(t,i);i+=1;var c=[];i=h._readSelections(t,i,c),e=[],i=h._readSelections(t,i,e);var d=l.c(t,i);i+=4;var u=[];for(let e=0;e<d;e++)i=a.a.read(t,i,u);return new h(n,o,r,s,c,e,u)}}class u{constructor(e,t){this.model=e,this._data=h.create(e,t)}get type(){return 0}get resource(){return s.a.isUri(this.model)?this.model:this.model.uri}get label(){return n.a("edit","Typing")}toString(){return(this._data instanceof h?this._data:h.deserialize(this._data)).changes.map(e=>e.toString()).join(", ")}matchesResource(e){return(s.a.isUri(this.model)?this.model:this.model.uri).toString()===e.toString()}setModel(e){this.model=e}canAppend(e){return this.model===e&&this._data instanceof h}append(e,t,i,n,o){this._data instanceof h&&this._data.append(e,t,i,n,o)}close(){this._data instanceof h&&(this._data=this._data.serialize())}open(){this._data instanceof h||(this._data=h.deserialize(this._data))}undo(){if(s.a.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof h&&(this._data=this._data.serialize());var e=h.deserialize(this._data);this.model._applyUndo(e.changes,e.beforeEOL,e.beforeVersionId,e.beforeCursorState)}redo(){if(s.a.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof h&&(this._data=this._data.serialize());var e=h.deserialize(this._data);this.model._applyRedo(e.changes,e.afterEOL,e.afterVersionId,e.afterCursorState)}heapSize(){return this._data instanceof h&&(this._data=this._data.serialize()),this._data.byteLength+168}}function g(e){return"\n"===e.getEOL()?0:1}function p(e){return!!e&&(e instanceof u||e instanceof class{constructor(e,t){this.type=1,this.label=e,this._isOpen=!0,this._editStackElementsArr=t.slice(0),this._editStackElementsMap=new Map;for(const e of this._editStackElementsArr){var i=d(e.resource);this._editStackElementsMap.set(i,e)}this._delegate=null}get resources(){return this._editStackElementsArr.map(e=>e.resource)}prepareUndoRedo(){if(this._delegate)return this._delegate.prepareUndoRedo(this)}matchesResource(e){return e=d(e),this._editStackElementsMap.has(e)}setModel(e){var t=d(s.a.isUri(e)?e:e.uri);this._editStackElementsMap.has(t)&&this._editStackElementsMap.get(t).setModel(e)}canAppend(e){if(!this._isOpen)return!1;var t=d(e.uri);if(this._editStackElementsMap.has(t)){return this._editStackElementsMap.get(t).canAppend(e)}return!1}append(e,t,i,n,o){var r=d(e.uri);this._editStackElementsMap.get(r).append(e,t,i,n,o)}close(){this._isOpen=!1}open(){}undo(){this._isOpen=!1;for(const e of this._editStackElementsArr)e.undo()}redo(){for(const e of this._editStackElementsArr)e.redo()}heapSize(e){if(e=d(e),this._editStackElementsMap.has(e)){return this._editStackElementsMap.get(e).heapSize()}return 0}split(){return this._editStackElementsArr}toString(){let e=[];for(const t of this._editStackElementsArr)e.push(`${Object(c.b)(t.resource)}: ${t}`);return`{${e.join(", ")}}`}})}class f{constructor(e,t){this._model=e,this._undoRedoService=t}pushStackElement(){const e=this._undoRedoService.getLastElement(this._model.uri);p(e)&&e.close()}popStackElement(){const e=this._undoRedoService.getLastElement(this._model.uri);p(e)&&e.open()}clear(){this._undoRedoService.removeElements(this._model.uri)}_getOrCreateEditStackElement(e){const t=this._undoRedoService.getLastElement(this._model.uri);return p(t)&&t.canAppend(this._model)?t:(e=new u(this._model,e),this._undoRedoService.pushElement(e),e)}pushEOL(e){const t=this._getOrCreateEditStackElement(null);this._model.setEOL(e),t.append(this._model,[],g(this._model),this._model.getAlternativeVersionId(),null)}pushEditOperation(e,t,i){const n=this._getOrCreateEditStackElement(e),o=this._model.applyEdits(t,!0);i=f._computeCursorState(i,o);const r=o.map((e,t)=>({index:t,textChange:e.textChange}));return r.sort((e,t)=>e.textChange.oldPosition===t.textChange.oldPosition?e.index-t.index:e.textChange.oldPosition-t.textChange.oldPosition),n.append(this._model,r.map(e=>e.textChange),g(this._model),this._model.getAlternativeVersionId(),i),i}static _computeCursorState(e,t){try{return e?e(t):null}catch(e){return Object(o.f)(e),null}}}},function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var n=i(9);class o{static visibleColumnFromColumn(e,t,i){var r=e.length,s=t-1<r?t-1:r;let a=0,l=0;for(;l<s;){var c=n.z(e,s,l);if(l+=65536<=c?2:1,9===c)a=o.nextRenderTabStop(a,i);else{let t=n.w(c);for(;l<s;){var d=n.z(e,s,l),h=n.w(d);if(n.c(t,h))break;l+=65536<=d?2:1,t=h}n.D(c)||n.B(c)?a+=2:a+=1}}return a}static visibleColumnsByColumns(e,t){var i=e.length;let r=new Array;r.push(-1);let s=0,a=0;for(;a<i;){var l=n.z(e,i,a);if(a+=65536<=l?2:1,r.push(s),65536<=l&&r.push(s),9===l)s=o.nextRenderTabStop(s,t);else{let t=n.w(l);for(;a<i;){var c=n.z(e,i,a),d=n.w(c);if(n.c(t,d))break;a+=65536<=c?2:1,r.push(s),65536<=l&&r.push(s),t=d}n.D(l)||n.B(l)?s+=2:s+=1}}return r.push(s),r}static visibleColumnFromColumn2(e,t,i){return this.visibleColumnFromColumn(t.getLineContent(i.lineNumber),i.column,e.tabSize)}static columnFromVisibleColumn(e,t,i){if(t<=0)return 1;var r=e.length;let s=0,a=1,l=0;for(;l<r;){var c=n.z(e,r,l);let g;if(l+=65536<=c?2:1,9===c)g=o.nextRenderTabStop(s,i);else{let t=n.w(c);for(;l<r;){var d=n.z(e,r,l),h=n.w(d);if(n.c(t,h))break;l+=65536<=d?2:1,t=h}g=n.D(c)||n.B(c)?s+2:s+1}var u=l+1;if(g>=t)return g-t<(c=t-s)?u:a;s=g,a=u}return r+1}static columnFromVisibleColumn2(e,t,i,n){return(n=this.columnFromVisibleColumn(t.getLineContent(i),n,e.tabSize))<(e=t.getLineMinColumn(i))?e:(i=t.getLineMaxColumn(i))<n?i:n}static nextRenderTabStop(e,t){return e+t-e%t}static nextIndentTabStop(e,t){return e+t-e%t}static prevRenderTabStop(e,t){return Math.max(0,e-1-(e-1)%t)}static prevIndentTabStop(e,t){return Math.max(0,e-1-(e-1)%t)}}},function(e,t){e.exports=require("vuedraggable")},function(e,t,i){"use strict";i.d(t,"b",(function(){return h}));var n=i(213),o=i.n(n),r=i(96),s=i(182),a=i(234),l=i(25);function c(e,t){var i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!i){if(Array.isArray(e)||(i=function(e,t){if(e){if("string"==typeof e)return d(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(i="Object"===i&&e.constructor?e.constructor.name:i)||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?d(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){i&&(e=i);var n=0;return{s:t=function(){},n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,r=!0,s=!1;return{s:function(){i=i.call(e)},n:function(){var e=i.next();return r=e.done,e},e:function(e){s=!0,o=e},f:function(){try{r||null==i.return||i.return()}finally{if(s)throw o}}}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}var h=function(){var e=[],t=Object(s.networkInterfaces)();return Object.keys(t).forEach((function(i){t[i].forEach((function(t){!0!==t.internal&&"IPv6"!==t.family&&e.push({name:i,address:t.address})}))})),e};t.a=function(){if(Object(l.k)()){var e=Object(r.execSync)("netstat -nr | grep default ").toString().split("\n").map((function(e){return e.split(/\s+/).filter((function(e){return e}))})).filter((function(e){return 4===e.length&&Object(a.isIPv4)(e[1])})),t=Object(s.networkInterfaces)();if(0<e.length){var i,n=c(e);try{for(n.s();!(i=n.n()).done;){var d=i.value[3];if(Object.keys(t).includes(d))return d}}catch(e){n.e(e)}finally{n.f()}}if(Object.keys(t).includes("en0"))return"en0"}else if(Object(l.l)()){e=Object(r.execSync)("route print 0.0.0.0 mask 0.0.0.0",{windowsHide:!0}).toString().split("\n").map((function(e){return e.split(/\s+/).filter((function(e){return e}))})).filter((function(e){return 5===e.length&&e.slice(0,4).every((function(e){return Object(a.isIP)(e)}))&&NaN!==parseInt(e[4])}));var h=Object(s.networkInterfaces)();if(delete h["cfw-tap"],0<e.length){var u,g=c(e.sort((function(e,t){return parseInt(e[4])-parseInt(t[4])})));try{for(g.s();!(u=g.n()).done;){var p=function(){for(var e=u.value[3],t=0,i=Object.keys(h);t<i.length;t++){var n=i[t];if(h[n].find((function(t){return t.address===e})))return{v:n}}}();if("object"===o()(p))return p.v}}catch(e){g.e(e)}finally{g.f()}}if(Object.keys(h).includes("以太网"))return"以太网";if(Object.keys(h).includes("WLAN"))return"WLAN"}return null}},function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var n=i(6);class o{constructor(e,t,i,n,o,r){this._scrollStateBrand=void 0,e|=0,n|=0,o|=0,r|=0,(i=(t|=0)<(this.rawScrollLeft=i|=0)+(e=e<0?0:e)?t-e:i)<0&&(i=0),(r=o<(this.rawScrollTop=r)+(n=n<0?0:n)?o-n:r)<0&&(r=0),this.width=e,this.scrollWidth=t,this.scrollLeft=i,this.height=n,this.scrollHeight=o,this.scrollTop=r}equals(e){return this.rawScrollLeft===e.rawScrollLeft&&this.rawScrollTop===e.rawScrollTop&&this.width===e.width&&this.scrollWidth===e.scrollWidth&&this.scrollLeft===e.scrollLeft&&this.height===e.height&&this.scrollHeight===e.scrollHeight&&this.scrollTop===e.scrollTop}withScrollDimensions(e,t){return new o((void 0!==e.width?e:this).width,(void 0!==e.scrollWidth?e:this).scrollWidth,t?this.rawScrollLeft:this.scrollLeft,(void 0!==e.height?e:this).height,(void 0!==e.scrollHeight?e:this).scrollHeight,t?this.rawScrollTop:this.scrollTop)}withScrollPosition(e){return new o(this.width,this.scrollWidth,void 0!==e.scrollLeft?e.scrollLeft:this.rawScrollLeft,this.height,this.scrollHeight,void 0!==e.scrollTop?e.scrollTop:this.rawScrollTop)}createScrollEvent(e,t){var i=this.width!==e.width,n=this.scrollWidth!==e.scrollWidth,o=this.scrollLeft!==e.scrollLeft,r=this.height!==e.height,s=this.scrollHeight!==e.scrollHeight,a=this.scrollTop!==e.scrollTop;return{inSmoothScrolling:t,oldWidth:e.width,oldScrollWidth:e.scrollWidth,oldScrollLeft:e.scrollLeft,width:this.width,scrollWidth:this.scrollWidth,scrollLeft:this.scrollLeft,oldHeight:e.height,oldScrollHeight:e.scrollHeight,oldScrollTop:e.scrollTop,height:this.height,scrollHeight:this.scrollHeight,scrollTop:this.scrollTop,widthChanged:i,scrollWidthChanged:n,scrollLeftChanged:o,heightChanged:r,scrollHeightChanged:s,scrollTopChanged:a}}}class r extends i(2).a{constructor(e,t){super(),this._scrollableBrand=void 0,this._onScroll=this._register(new n.b),this.onScroll=this._onScroll.event,this._smoothScrollDuration=e,this._scheduleAtNextAnimationFrame=t,this._state=new o(0,0,0,0,0,0),this._smoothScrolling=null}dispose(){this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),super.dispose()}setSmoothScrollDuration(e){this._smoothScrollDuration=e}validateScrollPosition(e){return this._state.withScrollPosition(e)}getScrollDimensions(){return this._state}setScrollDimensions(e,t){t=this._state.withScrollDimensions(e,t),this._setState(t,Boolean(this._smoothScrolling)),this._smoothScrolling&&this._smoothScrolling.acceptScrollDimensions(this._state)}getFutureScrollPosition(){return this._smoothScrolling?this._smoothScrolling.to:this._state}getCurrentScrollPosition(){return this._state}setScrollPositionNow(e){e=this._state.withScrollPosition(e),this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),this._setState(e,!1)}setScrollPositionSmooth(e,t){if(0===this._smoothScrollDuration)return this.setScrollPositionNow(e);if(this._smoothScrolling){e={scrollLeft:(void 0===e.scrollLeft?this._smoothScrolling.to:e).scrollLeft,scrollTop:(void 0===e.scrollTop?this._smoothScrolling.to:e).scrollTop};var i=this._state.withScrollPosition(e);if(this._smoothScrolling.to.scrollLeft===i.scrollLeft&&this._smoothScrolling.to.scrollTop===i.scrollTop)return;let n;n=t?new l(this._smoothScrolling.from,i,this._smoothScrolling.startTime,this._smoothScrolling.duration):this._smoothScrolling.combine(this._state,i,this._smoothScrollDuration),this._smoothScrolling.dispose(),this._smoothScrolling=n}else e=this._state.withScrollPosition(e),this._smoothScrolling=l.start(this._state,e,this._smoothScrollDuration);this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{this._smoothScrolling&&(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}_performSmoothScrolling(){if(this._smoothScrolling){var e=this._smoothScrolling.tick(),t=this._state.withScrollPosition(e);if(this._setState(t,!0),this._smoothScrolling)return e.isDone?(this._smoothScrolling.dispose(),void(this._smoothScrolling=null)):void(this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{this._smoothScrolling&&(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())}))}}_setState(e,t){const i=this._state;i.equals(e)||(this._state=e,this._onScroll.fire(this._state.createScrollEvent(i,t)))}}class s{constructor(e,t,i){this.scrollLeft=e,this.scrollTop=t,this.isDone=i}}function a(e,t){const i=t-e;return function(t){return e+i*(1-function(e){return Math.pow(e,3)}(1-t))}}class l{constructor(e,t,i,n){this.from=e,this.to=t,this.duration=n,this.startTime=i,this.animationFrameDisposable=null,this._initAnimations()}_initAnimations(){this.scrollLeft=this._initAnimation(this.from.scrollLeft,this.to.scrollLeft,this.to.width),this.scrollTop=this._initAnimation(this.from.scrollTop,this.to.scrollTop,this.to.height)}_initAnimation(e,t,i){var n,o,r;if(2.5*i<Math.abs(e-t)){let s,l;return l=e<t?(s=e+.75*i,t-.75*i):(s=e-.75*i,t+.75*i),n=a(e,s),o=a(l,t),r=.33,function(e){return e<r?n(e/r):o((e-r)/(1-r))}}return a(e,t)}dispose(){null!==this.animationFrameDisposable&&(this.animationFrameDisposable.dispose(),this.animationFrameDisposable=null)}acceptScrollDimensions(e){this.to=e.withScrollPosition(this.to),this._initAnimations()}tick(){return this._tick(Date.now())}_tick(e){var t=(e-this.startTime)/this.duration;return t<1?(e=this.scrollLeft(t),t=this.scrollTop(t),new s(e,t,!1)):new s(this.to.scrollLeft,this.to.scrollTop,!0)}combine(e,t,i){return l.start(e,t,i)}static start(e,t,i){i+=10;var n=Date.now()-10;return new l(e,t,n,i)}}},function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i.d(t,"b",(function(){return o}));class n{constructor(e){this._prefix=e,this._lastId=0}nextId(){return this._prefix+ ++this._lastId}}const o=new n("id#")},function(e,t,i){"use strict";var n=i(31),o=i.n(n);n=i(33);function r(e,t){var i,n=Object.keys(e);return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(e),t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)),n}n={props:["on"],model:{prop:"on",event:"change"},data:function(){return{}},watch:{},computed:function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?r(Object(i),!0).forEach((function(t){o()(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},Object(n.mapState)({})),methods:{handleClick:function(e){this.$emit("change",!this.on)}},mounted:function(){}},i(569),i=i(37),n=Object(i.a)(n,(function(){var e=this,t=e.$createElement;return(t=e._self._c||t)("div",{staticClass:"main",on:{click:e.handleClick}},[t("transition",{attrs:{name:"move-right"}},[e.on?e._e():t("div",{staticClass:"text"},[t("div",{staticClass:"base tint-right"}),e._v(" "),t("div",{staticClass:"base text-font text-off"})])]),e._v(" "),t("transition",{attrs:{name:"move-left"}},[e.on?t("div",{staticClass:"text"},[t("div",{staticClass:"base text-font text-on"}),e._v(" "),t("div",{staticClass:"base tint-left"})]):e._e()])],1)}),[],!1,null,"37d0be30",null),t.a=n.exports},function(e,t,i){"use strict";i.d(t,"b",(function(){return s})),i.d(t,"a",(function(){return d}));class n{constructor(e,t,i,n){this.originalStart=e,this.originalLength=t,this.modifiedStart=i,this.modifiedLength=n}getOriginalEnd(){return this.originalStart+this.originalLength}getModifiedEnd(){return this.modifiedStart+this.modifiedLength}}var o=i(169);class r{constructor(e){this.source=e}getElements(){const e=this.source,t=new Int32Array(e.length);for(let i=0,n=e.length;i<n;i++)t[i]=e.charCodeAt(i);return t}}function s(e,t,i){return new d(new r(e),new r(t)).ComputeDiff(i).changes}class a{static Assert(e,t){if(!e)throw new Error(t)}}class l{static Copy(e,t,i,n,o){for(let r=0;r<o;r++)i[n+r]=e[t+r]}static Copy2(e,t,i,n,o){for(let r=0;r<o;r++)i[n+r]=e[t+r]}}class c{constructor(){this.m_changes=[],this.m_originalStart=1073741824,this.m_modifiedStart=1073741824,this.m_originalCount=0,this.m_modifiedCount=0}MarkNextChange(){(0<this.m_originalCount||0<this.m_modifiedCount)&&this.m_changes.push(new n(this.m_originalStart,this.m_originalCount,this.m_modifiedStart,this.m_modifiedCount)),this.m_originalCount=0,this.m_modifiedCount=0,this.m_originalStart=1073741824,this.m_modifiedStart=1073741824}AddOriginalElement(e,t){this.m_originalStart=Math.min(this.m_originalStart,e),this.m_modifiedStart=Math.min(this.m_modifiedStart,t),this.m_originalCount++}AddModifiedElement(e,t){this.m_originalStart=Math.min(this.m_originalStart,e),this.m_modifiedStart=Math.min(this.m_modifiedStart,t),this.m_modifiedCount++}getChanges(){return(0<this.m_originalCount||0<this.m_modifiedCount)&&this.MarkNextChange(),this.m_changes}getReverseChanges(){return(0<this.m_originalCount||0<this.m_modifiedCount)&&this.MarkNextChange(),this.m_changes.reverse(),this.m_changes}}class d{constructor(e,t,i=null){this.ContinueProcessingPredicate=i,this._originalSequence=e,this._modifiedSequence=t;var[n,o,r]=d._getElements(e),[i,e,t]=d._getElements(t);this._hasStrings=r&&t,this._originalStringElements=n,this._originalElementsOrHash=o,this._modifiedStringElements=i,this._modifiedElementsOrHash=e,this.m_forwardHistory=[],this.m_reverseHistory=[]}static _isStringArray(e){return 0<e.length&&"string"==typeof e[0]}static _getElements(e){var t=e.getElements();if(d._isStringArray(t)){const e=new Int32Array(t.length);for(let i=0,n=t.length;i<n;i++)e[i]=Object(o.d)(t[i],0);return[t,e,!0]}return t instanceof Int32Array?[[],t,!1]:[[],new Int32Array(t),!1]}ElementsAreEqual(e,t){return this._originalElementsOrHash[e]===this._modifiedElementsOrHash[t]&&(!this._hasStrings||this._originalStringElements[e]===this._modifiedStringElements[t])}ElementsAreStrictEqual(e,t){return!!this.ElementsAreEqual(e,t)&&d._getStrictElement(this._originalSequence,e)===d._getStrictElement(this._modifiedSequence,t)}static _getStrictElement(e,t){return"function"==typeof e.getStrictElement?e.getStrictElement(t):null}OriginalElementsAreEqual(e,t){return this._originalElementsOrHash[e]===this._originalElementsOrHash[t]&&(!this._hasStrings||this._originalStringElements[e]===this._originalStringElements[t])}ModifiedElementsAreEqual(e,t){return this._modifiedElementsOrHash[e]===this._modifiedElementsOrHash[t]&&(!this._hasStrings||this._modifiedStringElements[e]===this._modifiedStringElements[t])}ComputeDiff(e){return this._ComputeDiff(0,this._originalElementsOrHash.length-1,0,this._modifiedElementsOrHash.length-1,e)}_ComputeDiff(e,t,i,n,o){var r=[!1];let s=this.ComputeDiffRecursive(e,t,i,n,r);return o&&(s=this.PrettifyChanges(s)),{quitEarly:r[0],changes:s}}ComputeDiffRecursive(e,t,i,o,r){for(r[0]=!1;e<=t&&i<=o&&this.ElementsAreEqual(e,i);)e++,i++;for(;e<=t&&i<=o&&this.ElementsAreEqual(t,o);)t--,o--;if(t<e||o<i){let r;return r=i<=o?(a.Assert(e===t+1,"originalStart should only be one more than originalEnd"),[new n(e,0,i,o-i+1)]):e<=t?(a.Assert(i===o+1,"modifiedStart should only be one more than modifiedEnd"),[new n(e,t-e+1,i,0)]):(a.Assert(e===t+1,"originalStart should only be one more than originalEnd"),a.Assert(i===o+1,"modifiedStart should only be one more than modifiedEnd"),[]),r}var s=[0],l=[0],c=this.ComputeRecursionPoint(e,t,i,o,s,l,r);s=s[0],l=l[0];if(null!==c)return c;if(r[0])return[new n(e,t-e+1,i,o-i+1)];{c=this.ComputeDiffRecursive(e,s,i,l,r);let a=[];return a=r[0]?[new n(s+1,t-(s+1)+1,l+1,o-(l+1)+1)]:this.ComputeDiffRecursive(s+1,t,l+1,o,r),this.ConcatenateChanges(c,a)}}WALKTRACE(e,t,i,o,r,s,a,l,d,h,u,g,p,f,m,v,b,_){var w;let C=null,y=new c,x=t,S=i,k=p[0]-v[0]-o,D=-1073741824,L=this.m_forwardHistory.length-1;do{var O=k+e;k=O===x||O<S&&d[O-1]<d[O+1]?(f=(u=d[O+1])-k-o,u<D&&y.MarkNextChange(),D=u,y.AddModifiedElement(u+1,f),O+1-e):(f=(u=d[O-1]+1)-k-o,u<D&&y.MarkNextChange(),D=u-1,y.AddOriginalElement(u,f+1),O-1-e),0<=L&&(e=(d=this.m_forwardHistory[L])[0],x=1,S=d.length-1)}while(-1<=--L);if(w=y.getReverseChanges(),_[0]){let e=p[0]+1,t=v[0]+1;if(null!==w&&0<w.length){const i=w[w.length-1];e=Math.max(e,i.getOriginalEnd()),t=Math.max(t,i.getModifiedEnd())}C=[new n(e,g-e+1,t,m-t+1)]}else{y=new c,x=s,S=a,k=p[0]-v[0]-l,D=1073741824,L=b?this.m_reverseHistory.length-1:this.m_reverseHistory.length-2;do{var E=k+r;k=E===x||E<S&&h[E-1]>=h[E+1]?(f=(u=h[E+1]-1)-k-l,u>D&&y.MarkNextChange(),D=u+1,y.AddOriginalElement(u+1,f+1),E+1-r):(f=(u=h[E-1])-k-l,u>D&&y.MarkNextChange(),D=u,y.AddModifiedElement(u+1,f+1),E-1-r),0<=L&&(r=(h=this.m_reverseHistory[L])[0],x=1,S=h.length-1)}while(-1<=--L);C=y.getChanges()}return this.ConcatenateChanges(w,C)}ComputeRecursionPoint(e,t,i,o,r,s,a){let c=0,d=0,h=0,u=0,g=0,p=0;e--,i--,s[r[0]=0]=0,this.m_forwardHistory=[],this.m_reverseHistory=[];var f=t-e+(o-i),m=1+f;const v=new Int32Array(m),b=new Int32Array(m);var _=o-i,w=t-e,C=e-i,y=t-o,x=(w-_)%2==0;v[_]=e,b[w]=t,a[0]=!1;for(let L=1;L<=f/2+1;L++){let f=0,O=0;h=this.ClipDiagonalBound(_-L,L,_,m),u=this.ClipDiagonalBound(_+L,L,_,m);for(let e=h;e<=u;e+=2){c=e===h||e<u&&v[e-1]<v[e+1]?v[e+1]:v[e-1]+1,d=c-(e-_)-C;for(var S=c;c<t&&d<o&&this.ElementsAreEqual(c+1,d+1);)c++,d++;if(v[e]=c,c+d>f+O&&(f=c,O=d),!x&&Math.abs(e-w)<=L-1&&c>=b[e])return r[0]=c,s[0]=d,S<=b[e]&&L<=1448?this.WALKTRACE(_,h,u,C,w,g,p,y,v,b,c,t,r,d,o,s,x,a):null}var k=(f-e+(O-i)-L)/2;if(null!==this.ContinueProcessingPredicate&&!this.ContinueProcessingPredicate(f,k))return a[0]=!0,r[0]=f,s[0]=O,0<k&&L<=1448?this.WALKTRACE(_,h,u,C,w,g,p,y,v,b,c,t,r,d,o,s,x,a):(e++,i++,[new n(e,t-e+1,i,o-i+1)]);g=this.ClipDiagonalBound(w-L,L,w,m),p=this.ClipDiagonalBound(w+L,L,w,m);for(let n=g;n<=p;n+=2){c=n===g||n<p&&b[n-1]>=b[n+1]?b[n+1]-1:b[n-1],d=c-(n-w)-y;for(var D=c;c>e&&d>i&&this.ElementsAreEqual(c,d);)c--,d--;if(b[n]=c,x&&Math.abs(n-_)<=L&&c<=v[n])return r[0]=c,s[0]=d,D>=v[n]&&L<=1448?this.WALKTRACE(_,h,u,C,w,g,p,y,v,b,c,t,r,d,o,s,x,a):null}if(L<=1447){let e=new Int32Array(u-h+2);e[0]=_-h+1,l.Copy2(v,h,e,1,u-h+1),this.m_forwardHistory.push(e),e=new Int32Array(p-g+2),e[0]=w-g+1,l.Copy2(b,g,e,1,p-g+1),this.m_reverseHistory.push(e)}}return this.WALKTRACE(_,h,u,C,w,g,p,y,v,b,c,t,r,d,o,s,x,a)}PrettifyChanges(e){for(let a=0;a<e.length;a++){const l=e[a];for(var t=a<e.length-1?e[a+1].originalStart:this._originalElementsOrHash.length,i=a<e.length-1?e[a+1].modifiedStart:this._modifiedElementsOrHash.length,n=0<l.originalLength,o=0<l.modifiedLength;l.originalStart+l.originalLength<t&&l.modifiedStart+l.modifiedLength<i&&(!n||this.OriginalElementsAreEqual(l.originalStart,l.originalStart+l.originalLength))&&(!o||this.ModifiedElementsAreEqual(l.modifiedStart,l.modifiedStart+l.modifiedLength));){var r=this.ElementsAreStrictEqual(l.originalStart,l.modifiedStart);if(this.ElementsAreStrictEqual(l.originalStart+l.originalLength,l.modifiedStart+l.modifiedLength)&&!r)break;l.originalStart++,l.modifiedStart++}var s=[null];a<e.length-1&&this.ChangesOverlap(e[a],e[a+1],s)&&(e[a]=s[0],e.splice(a+1,1),a--)}for(let t=e.length-1;0<=t;t--){const i=e[t];let n=0,o=0;0<t&&(n=(h=e[t-1]).originalStart+h.originalLength,o=h.modifiedStart+h.modifiedLength);var a=0<i.originalLength,l=0<i.modifiedLength;let r=0,s=this._boundaryScore(i.originalStart,i.originalLength,i.modifiedStart,i.modifiedLength);for(let e=1;;e++){var c=i.originalStart-e,d=i.modifiedStart-e;if(c<n||d<o)break;if(a&&!this.OriginalElementsAreEqual(c,c+i.originalLength))break;if(l&&!this.ModifiedElementsAreEqual(d,d+i.modifiedLength))break;(d=(c===n&&d===o?5:0)+this._boundaryScore(c,i.originalLength,d,i.modifiedLength))>s&&(s=d,r=e)}i.originalStart-=r,i.modifiedStart-=r;var h=[null];0<t&&this.ChangesOverlap(e[t-1],e[t],h)&&(e[t-1]=h[0],e.splice(t,1),t++)}if(this._hasStrings)for(let t=1,i=e.length;t<i;t++){const i=e[t-1],n=e[t];var u=n.originalStart-i.originalStart-i.originalLength,g=i.originalStart,p=n.originalStart+n.originalLength,f=p-g,m=i.modifiedStart,v=n.modifiedStart+n.modifiedLength,b=v-m;u<5&&f<20&&b<20&&(m=this._findBetterContiguousSequence(g,f,m,b,u))&&([b,m]=m,b===i.originalStart+i.originalLength&&m===i.modifiedStart+i.modifiedLength||(i.originalLength=b-i.originalStart,i.modifiedLength=m-i.modifiedStart,n.originalStart=b+u,n.modifiedStart=m+u,n.originalLength=p-n.originalStart,n.modifiedLength=v-n.modifiedStart))}return e}_findBetterContiguousSequence(e,t,i,n,o){if(t<o||n<o)return null;var r=e+t-o+1,s=i+n-o+1;let a=0,l=0,c=0;for(let t=e;t<r;t++)for(let e=i;e<s;e++){var d=this._contiguousSequenceScore(t,e,o);0<d&&d>a&&(a=d,l=t,c=e)}return 0<a?[l,c]:null}_contiguousSequenceScore(e,t,i){let n=0;for(let o=0;o<i;o++){if(!this.ElementsAreEqual(e+o,t+o))return 0;n+=this._originalStringElements[e+o].length}return n}_OriginalIsBoundary(e){return e<=0||e>=this._originalElementsOrHash.length-1||this._hasStrings&&/^\s*$/.test(this._originalStringElements[e])}_OriginalRegionIsBoundary(e,t){return!(!this._OriginalIsBoundary(e)&&!this._OriginalIsBoundary(e-1))||!!(0<t&&(t=e+t,this._OriginalIsBoundary(t-1)||this._OriginalIsBoundary(t)))}_ModifiedIsBoundary(e){return e<=0||e>=this._modifiedElementsOrHash.length-1||this._hasStrings&&/^\s*$/.test(this._modifiedStringElements[e])}_ModifiedRegionIsBoundary(e,t){return!(!this._ModifiedIsBoundary(e)&&!this._ModifiedIsBoundary(e-1))||!!(0<t&&(t=e+t,this._ModifiedIsBoundary(t-1)||this._ModifiedIsBoundary(t)))}_boundaryScore(e,t,i,n){return(this._OriginalRegionIsBoundary(e,t)?1:0)+(this._ModifiedRegionIsBoundary(i,n)?1:0)}ConcatenateChanges(e,t){var i=[];if(0===e.length||0===t.length)return 0<t.length?t:e;if(this.ChangesOverlap(e[e.length-1],t[0],i)){const n=new Array(e.length+t.length-1);return l.Copy(e,0,n,0,e.length-1),n[e.length-1]=i[0],l.Copy(t,1,n,e.length,t.length-1),n}return i=new Array(e.length+t.length),l.Copy(e,0,i,0,e.length),l.Copy(t,0,i,e.length,t.length),i}ChangesOverlap(e,t,i){if(a.Assert(e.originalStart<=t.originalStart,"Left change is not less than or equal to right change"),a.Assert(e.modifiedStart<=t.modifiedStart,"Left change is not less than or equal to right change"),e.originalStart+e.originalLength>=t.originalStart||e.modifiedStart+e.modifiedLength>=t.modifiedStart){var o=e.originalStart;let s=e.originalLength;var r=e.modifiedStart;let a=e.modifiedLength;return e.originalStart+e.originalLength>=t.originalStart&&(s=t.originalStart+t.originalLength-e.originalStart),e.modifiedStart+e.modifiedLength>=t.modifiedStart&&(a=t.modifiedStart+t.modifiedLength-e.modifiedStart),i[0]=new n(o,s,r,a),!0}return i[0]=null,!1}ClipDiagonalBound(e,t,i,n){return 0<=e&&e<n?e:(t=t%2==0,e<0?t==(i%2==0)?0:1:t==((n-i-1)%2==0)?n-1:n-2)}}},function(e,t,i){"use strict";i.d(t,"b",(function(){return g})),i.d(t,"a",(function(){return _})),i.d(t,"d",(function(){return L})),i.d(t,"c",(function(){return O}));var n=i(0),o=i(6),r=i(2),s=i(55),a=i(22),l=i(34),c=i(164),d=i(197),h=i(156),u=(t=i(59),i(253));const g=new class{constructor(){this._tabFocus=!1,this._onDidChangeTabFocus=new o.b,this.onDidChangeTabFocus=this._onDidChangeTabFocus.event}getTabFocusMode(){return this._tabFocus}setTabFocusMode(e){this._tabFocus!==e&&(this._tabFocus=e,this._onDidChangeTabFocus.fire(this._tabFocus))}},p=Object.hasOwnProperty;class f{constructor(){this._values=[]}_read(e){return this._values[e]}get(e){return this._values[e]}_write(e,t){this._values[e]=t}}class m{constructor(){this._values=[]}_read(e){return this._values[e]}_write(e,t){this._values[e]=t}}class v{static readOptions(e){var t=e;const i=new m;for(const e of l.m){var n="_never_"===e.name?void 0:t[e.name];i._write(e.id,n)}return i}static validateOptions(e){const t=new l.j;for(const i of l.m)t._write(i.id,i.validate(e._read(i.id)));return t}static computeOptions(e,t){const i=new f;for(const n of l.m)i._write(n.id,n.compute(t,i,e._read(n.id)));return i}static _deepEquals(e,t){if("object"!=typeof e||"object"!=typeof t)return e===t;if(Array.isArray(e)||Array.isArray(t))return!(!Array.isArray(e)||!Array.isArray(t))&&a.g(e,t);for(var i in e)if(!v._deepEquals(e[i],t[i]))return!1;return!0}static checkEquals(e,t){const i=[];let n=!1;for(const r of l.m){var o=!v._deepEquals(e._read(r.id),t._read(r.id));(i[r.id]=o)&&(n=!0)}return n?new l.b(i):null}}function b(e){return function(e){!0===(i=e.wordWrap)?e.wordWrap="on":!1===i&&(e.wordWrap="off"),!0===(n=e.lineNumbers)?e.lineNumbers="on":!1===n&&(e.lineNumbers="off"),!1===e.autoClosingBrackets&&(e.autoClosingBrackets="never",e.autoClosingQuotes="never",e.autoSurround="never"),"visible"===e.cursorBlinking&&(e.cursorBlinking="solid"),!0===(i=e.renderWhitespace)?e.renderWhitespace="boundary":!1===i&&(e.renderWhitespace="none"),!0===(n=e.renderLineHighlight)?e.renderLineHighlight="line":!1===n&&(e.renderLineHighlight="none"),!0===(i=e.acceptSuggestionOnEnter)?e.acceptSuggestionOnEnter="on":!1===i&&(e.acceptSuggestionOnEnter="off"),!1===(n=e.tabCompletion)?e.tabCompletion="off":!0===n&&(e.tabCompletion="onlySnippets");const t=e.suggest;if(t&&"object"==typeof t.filteredTypes&&t.filteredTypes){const e={method:"showMethods",function:"showFunctions",constructor:"showConstructors",deprecated:"showDeprecated",field:"showFields",variable:"showVariables",class:"showClasses",struct:"showStructs",interface:"showInterfaces",module:"showModules",property:"showProperties",event:"showEvents",operator:"showOperators",unit:"showUnits",value:"showValues",constant:"showConstants",enum:"showEnums",enumMember:"showEnumMembers",keyword:"showKeywords",text:"showWords",color:"showColors",file:"showFiles",reference:"showReferences",folder:"showFolders",typeParameter:"showTypeParameters",snippet:"showSnippets"};Object(u.b)(e,e=>{var i=t.filteredTypes[e.key];!1===i&&(t[e.value]=i)})}!0===(i=e.hover)?e.hover={enabled:!0}:!1===i&&(e.hover={enabled:!1}),!0===(n=e.parameterHints)?e.parameterHints={enabled:!0}:!1===n&&(e.parameterHints={enabled:!1}),!0===(i=e.autoIndent)?e.autoIndent="full":!1===i&&(e.autoIndent="advanced"),!0===(n=e.matchBrackets)?e.matchBrackets="always":!1===n&&(e.matchBrackets="never");var{renderIndentGuides:i,highlightActiveIndentGuide:n}=e;e.guides||(e.guides={}),void 0!==i&&(e.guides.indentation=!!i),void 0!==n&&(e.guides.highlightActiveIndentation=!!n)}(e=s.b(e)),e}class _ extends r.a{constructor(e,t){super(),this._onDidChange=this._register(new o.b),this.onDidChange=this._onDidChange.event,this._onDidChangeFast=this._register(new o.b),this.onDidChangeFast=this._onDidChangeFast.event,this.isSimpleWidget=e,this._isDominatedByLongLines=!1,this._computeOptionsMemory=new l.a,this._viewLineCount=1,this._lineNumbersDigitCount=1,this._rawOptions=b(t),this._readOptions=v.readOptions(this._rawOptions),this._validatedOptions=v.validateOptions(this._readOptions),this._register(c.a.onDidChangeZoomLevel(e=>this._recomputeOptions())),this._register(g.onDidChangeTabFocus(e=>this._recomputeOptions()))}observeReferenceElement(e){}updatePixelRatio(){}_recomputeOptions(){var e=this.options,t=this._computeInternalOptions();e?null!==(e=v.checkEquals(e,t))&&(this.options=t,this._onDidChangeFast.fire(e),this._onDidChange.fire(e)):this.options=t}getRawOptions(){return this._rawOptions}_computeInternalOptions(){var e=this._getEnvConfiguration(),t=d.a.createFromValidatedSettings(this._validatedOptions,e.zoomLevel,e.pixelRatio,this.isSimpleWidget);e={memory:this._computeOptionsMemory,outerWidth:e.outerWidth,outerHeight:e.outerHeight,fontInfo:this.readConfiguration(t),extraEditorClassName:e.extraEditorClassName,isDominatedByLongLines:this._isDominatedByLongLines,viewLineCount:this._viewLineCount,lineNumbersDigitCount:this._lineNumbersDigitCount,emptySelectionClipboard:e.emptySelectionClipboard,pixelRatio:e.pixelRatio,tabFocusMode:g.getTabFocusMode(),accessibilitySupport:e.accessibilitySupport};return v.computeOptions(this._validatedOptions,e)}static _subsetEquals(e,t){for(const o in t)if(p.call(t,o)){var i=t[o],n=e[o];if(n!==i)if(Array.isArray(n)&&Array.isArray(i)){if(!a.g(n,i))return!1}else{if(!n||"object"!=typeof n||!i||"object"!=typeof i)return!1;if(!this._subsetEquals(n,i))return!1}}return!0}updateOptions(e){void 0!==e&&(e=b(e),_._subsetEquals(this._rawOptions,e)||(this._rawOptions=s.f(this._rawOptions,e||{}),this._readOptions=v.readOptions(this._rawOptions),this._validatedOptions=v.validateOptions(this._readOptions),this._recomputeOptions()))}setIsDominatedByLongLines(e){this._isDominatedByLongLines=e,this._recomputeOptions()}setMaxLineNumber(e){e=_._digitCount(e),this._lineNumbersDigitCount!==e&&(this._lineNumbersDigitCount=e,this._recomputeOptions())}setViewLineCount(e){this._viewLineCount!==e&&(this._viewLineCount=e,this._recomputeOptions())}static _digitCount(e){let t=0;for(;e;)e=Math.floor(e/10),t++;return t||1}}var w;r=Object.freeze({id:"editor",order:5,type:"object",title:n.a("editorConfigurationTitle","Editor"),scope:5});const C=t.a.as(h.a.Configuration),y=Object.assign(Object.assign({},r),{properties:{"editor.tabSize":{type:"number",default:l.d.tabSize,minimum:1,markdownDescription:n.a("tabSize","The number of spaces a tab is equal to. This setting is overridden based on the file contents when `#editor.detectIndentation#` is on.")},"editor.insertSpaces":{type:"boolean",default:l.d.insertSpaces,markdownDescription:n.a("insertSpaces","Insert spaces when pressing `Tab`. This setting is overridden based on the file contents when `#editor.detectIndentation#` is on.")},"editor.detectIndentation":{type:"boolean",default:l.d.detectIndentation,markdownDescription:n.a("detectIndentation","Controls whether `#editor.tabSize#` and `#editor.insertSpaces#` will be automatically detected when a file is opened based on the file contents.")},"editor.trimAutoWhitespace":{type:"boolean",default:l.d.trimAutoWhitespace,description:n.a("trimAutoWhitespace","Remove trailing auto inserted whitespace.")},"editor.largeFileOptimizations":{type:"boolean",default:l.d.largeFileOptimizations,description:n.a("largeFileOptimizations","Special handling for large files to disable certain memory intensive features.")},"editor.wordBasedSuggestions":{type:"boolean",default:!0,description:n.a("wordBasedSuggestions","Controls whether completions should be computed based on words in the document.")},"editor.wordBasedSuggestionsMode":{enum:["currentDocument","matchingDocuments","allDocuments"],default:"matchingDocuments",enumDescriptions:[n.a("wordBasedSuggestionsMode.currentDocument","Only suggest words from the active document."),n.a("wordBasedSuggestionsMode.matchingDocuments","Suggest words from all open documents of the same language."),n.a("wordBasedSuggestionsMode.allDocuments","Suggest words from all open documents.")],description:n.a("wordBasedSuggestionsMode","Controls from which documents word based completions are computed.")},"editor.semanticHighlighting.enabled":{enum:[!0,!1,"configuredByTheme"],enumDescriptions:[n.a("semanticHighlighting.true","Semantic highlighting enabled for all color themes."),n.a("semanticHighlighting.false","Semantic highlighting disabled for all color themes."),n.a("semanticHighlighting.configuredByTheme","Semantic highlighting is configured by the current color theme's `semanticHighlighting` setting.")],default:"configuredByTheme",description:n.a("semanticHighlighting.enabled","Controls whether the semanticHighlighting is shown for the languages that support it.")},"editor.stablePeek":{type:"boolean",default:!1,markdownDescription:n.a("stablePeek","Keep peek editors open even when double clicking their content or when hitting `Escape`.")},"editor.maxTokenizationLineLength":{type:"integer",default:2e4,description:n.a("maxTokenizationLineLength","Lines above this length will not be tokenized for performance reasons")},"editor.language.brackets":{type:"array",default:!1,description:n.a("schema.brackets","Defines the bracket symbols that increase or decrease the indentation."),items:{type:"array",items:[{type:"string",description:n.a("schema.openBracket","The opening bracket character or string sequence.")},{type:"string",description:n.a("schema.closeBracket","The closing bracket character or string sequence.")}]}},"editor.language.colorizedBracketPairs":{type:"array",default:!1,description:n.a("schema.colorizedBracketPairs","Defines the bracket pairs that are colorized by their nesting level if bracket pair colorization is enabled."),items:{type:"array",items:[{type:"string",description:n.a("schema.openBracket","The opening bracket character or string sequence.")},{type:"string",description:n.a("schema.closeBracket","The closing bracket character or string sequence.")}]}},"diffEditor.maxComputationTime":{type:"number",default:5e3,description:n.a("maxComputationTime","以毫秒为单位的超时，之后差异计算被取消。 使用 0 表示没有超时")},"diffEditor.maxFileSize":{type:"number",default:50,description:n.a("maxFileSize","计算差异的最大文件大小（以 MB 为单位）。 使用 0 表示没有限制")},"diffEditor.renderSideBySide":{type:"boolean",default:!0,description:n.a("sideBySide","控制 diff 编辑器是并排还是内联显示 diff")},"diffEditor.ignoreTrimWhitespace":{type:"boolean",default:!0,description:n.a("ignoreTrimWhitespace","When enabled, the diff editor ignores changes in leading or trailing whitespace.")},"diffEditor.renderIndicators":{type:"boolean",default:!0,description:n.a("renderIndicators","Controls whether the diff editor shows +/- indicators for added/removed changes.")},"diffEditor.codeLens":{type:"boolean",default:!1,description:n.a("codeLens","Controls whether the editor shows CodeLens.")},"diffEditor.wordWrap":{type:"string",enum:["off","on","inherit"],default:"inherit",markdownEnumDescriptions:[n.a("wordWrap.off","Lines will never wrap."),n.a("wordWrap.on","Lines will wrap at the viewport width."),n.a("wordWrap.inherit","Lines will wrap according to the `#editor.wordWrap#` setting.")]}}});for(const e of l.m){var x=e.schema;if(void 0!==x)if(void 0!==(w=x).type||void 0!==w.anyOf)y.properties["editor."+e.name]=x;else for(var S in x)p.call(x,S)&&(y.properties[S]=x[S])}let k=null;function D(){return null===k&&(k=Object.create(null),Object.keys(y.properties).forEach(e=>{k[e]=!0})),k}function L(e){return D()["editor."+e]||!1}function O(e){return D()["diffEditor."+e]||!1}C.registerConfiguration(y)},function(e,t,i){"use strict";i.d(t,"a",(function(){return r})),i.d(t,"b",(function(){return s}));t=i(15);var n=i(164);const o=t.f?1.5:1.35;class r{constructor(e){this._bareFontInfoBrand=void 0,this.zoomLevel=e.zoomLevel,this.pixelRatio=e.pixelRatio,this.fontFamily=String(e.fontFamily),this.fontWeight=String(e.fontWeight),this.fontSize=e.fontSize,this.fontFeatureSettings=e.fontFeatureSettings,this.lineHeight=0|e.lineHeight,this.letterSpacing=e.letterSpacing}static createFromValidatedSettings(e,t,i,n){var o=e.get(42),s=e.get(46),a=e.get(45),l=e.get(44),c=e.get(58);e=e.get(55);return r._create(o,s,a,l,c,e,t,i,n)}static _create(e,t,i,s,a,l,c,d,h){return 0===a?a=o*i:a<8&&(a*=i),(a=Math.round(a))<8&&(a=8),h=1+(h?0:.1*n.a.getZoomLevel()),new r({zoomLevel:c,pixelRatio:d,fontFamily:e,fontWeight:t,fontSize:i*=h,fontFeatureSettings:s,lineHeight:a*=h,letterSpacing:l})}getId(){return this.zoomLevel+"-"+this.pixelRatio+"-"+this.fontFamily+"-"+this.fontWeight+"-"+this.fontSize+"-"+this.fontFeatureSettings+"-"+this.lineHeight+"-"+this.letterSpacing}getMassagedFontFamily(e){var t=r._wrapInQuotes(this.fontFamily);return e&&this.fontFamily!==e?`${t}, ${e}`:t}static _wrapInQuotes(e){return!/[,"']/.test(e)&&/[+ ]/.test(e)?`"${e}"`:e}}class s extends r{constructor(e,t){super(e),this._editorStylingBrand=void 0,this.version=1,this.isTrusted=t,this.isMonospace=e.isMonospace,this.typicalHalfwidthCharacterWidth=e.typicalHalfwidthCharacterWidth,this.typicalFullwidthCharacterWidth=e.typicalFullwidthCharacterWidth,this.canUseHalfwidthRightwardsArrow=e.canUseHalfwidthRightwardsArrow,this.spaceWidth=e.spaceWidth,this.middotWidth=e.middotWidth,this.wsmiddotWidth=e.wsmiddotWidth,this.maxDigitWidth=e.maxDigitWidth}equals(e){return this.fontFamily===e.fontFamily&&this.fontWeight===e.fontWeight&&this.fontSize===e.fontSize&&this.fontFeatureSettings===e.fontFeatureSettings&&this.lineHeight===e.lineHeight&&this.letterSpacing===e.letterSpacing&&this.typicalHalfwidthCharacterWidth===e.typicalHalfwidthCharacterWidth&&this.typicalFullwidthCharacterWidth===e.typicalFullwidthCharacterWidth&&this.canUseHalfwidthRightwardsArrow===e.canUseHalfwidthRightwardsArrow&&this.spaceWidth===e.spaceWidth&&this.middotWidth===e.middotWidth&&this.wsmiddotWidth===e.wsmiddotWidth&&this.maxDigitWidth===e.maxDigitWidth}}},function(e,t,i){"use strict";i.d(t,"c",(function(){return o})),i.d(t,"a",(function(){return r})),i.d(t,"b",(function(){return s})),i=i(0);class n{constructor(e,t,i=t){this.modifierLabels=[null],this.modifierLabels[2]=e,this.modifierLabels[1]=t,this.modifierLabels[3]=i}toLabel(e,t,i){if(0===t.length)return null;const n=[];for(let s=0,a=t.length;s<a;s++){var o=t[s],r=i(o);if(null===r)return null;n[s]=function(e,t,i){if(null===t)return"";const n=[];return e.ctrlKey&&n.push(i.ctrlKey),e.shiftKey&&n.push(i.shiftKey),e.altKey&&n.push(i.altKey),e.metaKey&&n.push(i.metaKey),""!==t&&n.push(t),n.join(i.separator)}(o,r,this.modifierLabels[e])}return n.join(" ")}}const o=new n({ctrlKey:"⌃",shiftKey:"⇧",altKey:"⌥",metaKey:"⌘",separator:""},{ctrlKey:i.a({key:"ctrlKey",comment:["This is the short form for the Control key on the keyboard"]},"Ctrl"),shiftKey:i.a({key:"shiftKey",comment:["This is the short form for the Shift key on the keyboard"]},"Shift"),altKey:i.a({key:"altKey",comment:["This is the short form for the Alt key on the keyboard"]},"Alt"),metaKey:i.a({key:"windowsKey",comment:["This is the short form for the Windows key on the keyboard"]},"Windows"),separator:"+"},{ctrlKey:i.a({key:"ctrlKey",comment:["This is the short form for the Control key on the keyboard"]},"Ctrl"),shiftKey:i.a({key:"shiftKey",comment:["This is the short form for the Shift key on the keyboard"]},"Shift"),altKey:i.a({key:"altKey",comment:["This is the short form for the Alt key on the keyboard"]},"Alt"),metaKey:i.a({key:"superKey",comment:["This is the short form for the Super key on the keyboard"]},"Super"),separator:"+"}),r=new n({ctrlKey:i.a({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:i.a({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:i.a({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:i.a({key:"cmdKey.long",comment:["This is the long form for the Command key on the keyboard"]},"Command"),separator:"+"},{ctrlKey:i.a({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:i.a({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:i.a({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:i.a({key:"windowsKey.long",comment:["This is the long form for the Windows key on the keyboard"]},"Windows"),separator:"+"},{ctrlKey:i.a({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:i.a({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:i.a({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:i.a({key:"superKey.long",comment:["This is the long form for the Super key on the keyboard"]},"Super"),separator:"+"}),s=new n({ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Cmd",separator:"+"},{ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Super",separator:"+"})},function(e,t,i){"use strict";i.r(t),i.d(t,"SnippetController2",(function(){return p}));var n=i(2),o=i(5),r=i(3),s=i(29),a=i(8),l=i(48),c=i(0),d=i(10),h=i(105),u=i(265);t=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;0<=a;a--)(o=e[a])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s},i=function(e,t){return function(i,n){t(i,n,e)}};const g={overwriteBefore:0,overwriteAfter:0,undoStopBefore:!0,undoStopAfter:!0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};let p=class e{constructor(t,i,o){this._editor=t,this._logService=i,this._snippetListener=new n.b,this._modelVersionId=-1,this._inSnippet=e.InSnippetMode.bindTo(o),this._hasNextTabstop=e.HasNextTabstop.bindTo(o),this._hasPrevTabstop=e.HasPrevTabstop.bindTo(o)}static get(t){return t.getContribution(e.ID)}dispose(){var e;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),null!==(e=this._session)&&void 0!==e&&e.dispose(),this._snippetListener.dispose()}insert(e,t){try{this._doInsert(e,void 0===t?g:Object.assign(Object.assign({},g),t))}catch(t){this.cancel(),this._logService.error(t),this._logService.error("snippet_error"),this._logService.error("insert_template=",e),this._logService.error("existing_template=",this._session?this._session._logInfo():"<no_session>")}}_doInsert(e,t){this._editor.hasModel()&&(this._snippetListener.clear(),t.undoStopBefore&&this._editor.getModel().pushStackElement(),this._session?this._session.merge(e,t):(this._modelVersionId=this._editor.getModel().getAlternativeVersionId(),this._session=new u.a(this._editor,e,t),this._session.insert()),t.undoStopAfter&&this._editor.getModel().pushStackElement(),this._updateState(),this._snippetListener.add(this._editor.onDidChangeModelContent(e=>e.isFlush&&this.cancel())),this._snippetListener.add(this._editor.onDidChangeModel(()=>this.cancel())),this._snippetListener.add(this._editor.onDidChangeCursorSelection(()=>this._updateState())))}_updateState(){if(this._session&&this._editor.hasModel())return this._modelVersionId!==this._editor.getModel().getAlternativeVersionId()&&this._session.hasPlaceholder&&!this._session.isAtLastPlaceholder&&this._session.isSelectionWithinPlaceholders()?(this._inSnippet.set(!0),this._hasPrevTabstop.set(!this._session.isAtFirstPlaceholder),this._hasNextTabstop.set(!this._session.isAtLastPlaceholder),void this._handleChoice()):this.cancel()}_handleChoice(){if(this._session&&this._editor.hasModel()){const{choice:e}=this._session;if(e){if(this._currentChoice!==e){this._currentChoice=e,this._editor.setSelections(this._editor.getSelections().map(e=>s.a.fromPositions(e.getStartPosition())));const[t]=e.options;Object(l.f)(this._editor,e.options.map((e,i)=>({kind:13,label:e.value,insertText:e.value,sortText:"a".repeat(i+1),range:r.a.fromPositions(this._editor.getPosition(),this._editor.getPosition().delta(0,t.value.length))})))}}else this._currentChoice=void 0}else this._currentChoice=void 0}finish(){for(;this._inSnippet.get();)this.next()}cancel(e=!1){var t;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),this._snippetListener.clear(),null!==(t=this._session)&&void 0!==t&&t.dispose(),this._session=void 0,this._modelVersionId=-1,e&&this._editor.setSelections([this._editor.getSelection()])}prev(){this._session&&this._session.prev(),this._updateState()}next(){this._session&&this._session.next(),this._updateState()}isInSnippet(){return Boolean(this._inSnippet.get())}};p.ID="snippetController2",p.InSnippetMode=new d.c("inSnippetMode",!1,Object(c.a)("inSnippetMode","Whether the editor in current in snippet mode")),p.HasNextTabstop=new d.c("hasNextTabstop",!1,Object(c.a)("hasNextTabstop","Whether there is a next tab stop when in snippet mode")),p.HasPrevTabstop=new d.c("hasPrevTabstop",!1,Object(c.a)("hasPrevTabstop","Whether there is a previous tab stop when in snippet mode")),p=t([i(1,h.b),i(2,d.b)],p),Object(o.l)(p.ID,p);const f=o.c.bindToContribution(p.get);Object(o.k)(new f({id:"jumpToNextSnippetPlaceholder",precondition:d.a.and(p.InSnippetMode,p.HasNextTabstop),handler:e=>e.next(),kbOpts:{weight:130,kbExpr:a.a.editorTextFocus,primary:2}})),Object(o.k)(new f({id:"jumpToPrevSnippetPlaceholder",precondition:d.a.and(p.InSnippetMode,p.HasPrevTabstop),handler:e=>e.prev(),kbOpts:{weight:130,kbExpr:a.a.editorTextFocus,primary:1026}})),Object(o.k)(new f({id:"leaveSnippet",precondition:p.InSnippetMode,handler:e=>e.cancel(!0),kbOpts:{weight:130,kbExpr:a.a.editorTextFocus,primary:9,secondary:[1033]}})),Object(o.k)(new f({id:"acceptSnippet",precondition:p.InSnippetMode,handler:e=>e.finish()}))},function(e,t,i){"use strict";i.d(t,"a",(function(){return C})),i.d(t,"b",(function(){return k}));var n=i(44),o=i(153),r=i(1),s=i(69),a=i(62),l=i(120),c=i(22),d=i(18),h=(t=i(92),i(6)),u=i(2),g=i(55),p=i(119),f=i(192);function m(e,t){const i=[];for(var n of t)if(!(e.start>=n.range.end)){if(e.end<n.range.start)break;var o=p.a.intersect(e,n.range);p.a.isEmpty(o)||i.push({range:o,size:n.size})}return i}function v({start:e,end:t},i){return{start:e+i,end:t+i}}class b{constructor(){this.groups=[],this._size=0}splice(e,t,i=[]){const n=i.length-t;var o=m({start:0,end:e},this.groups);t=m({start:e+t,end:Number.POSITIVE_INFINITY},this.groups).map(e=>({range:v(e.range,n),size:e.size})),i=i.map((t,i)=>({range:{start:e+i,end:e+i+1},size:t.size}));this.groups=function(...e){return function(e){const t=[];let i=null;for(var n of e){var o=n.range.start,r=n.range.end;n=n.size;i&&n===i.size?i.range.end=r:(i={range:{start:o,end:r},size:n},t.push(i))}return t}(e.reduce((e,t)=>e.concat(t),[]))}(o,i,t),this._size=this.groups.reduce((e,t)=>e+t.size*(t.range.end-t.range.start),0)}get count(){var e=this.groups.length;return e?this.groups[e-1].range.end:0}get size(){return this._size}indexAt(e){if(e<0)return-1;let t=0,i=0;for(var n of this.groups){var o=n.range.end-n.range.start,r=i+o*n.size;if(e<r)return t+Math.floor((e-i)/n.size);t+=o,i=r}return t}indexAfter(e){return Math.min(this.indexAt(e)+1,this.count)}positionAt(e){if(e<0)return-1;let t=0,i=0;for(var n of this.groups){var o=n.range.end-n.range.start,r=i+o;if(e<r)return t+(e-i)*n.size;t+=o*n.size,i=r}return-1}}class _{constructor(e){this.renderers=e,this.cache=new Map}alloc(e){let t=this.getTemplateCache(e).pop();if(!t){var i=Object(r.a)(".monaco-list-row");t={domNode:i,templateId:e,templateData:this.getRenderer(e).renderTemplate(i)}}return t}release(e){e&&this.releaseRow(e)}releaseRow(e){const{domNode:t,templateId:i}=e;t&&(t.classList.remove("scrolling"),function(e){try{e.parentElement&&e.parentElement.removeChild(e)}catch(e){}}(t));this.getTemplateCache(i).push(e)}getTemplateCache(e){let t=this.cache.get(e);return t||(t=[],this.cache.set(e,t)),t}dispose(){this.cache.forEach((e,t)=>{for(const i of e){this.getRenderer(t).disposeTemplate(i.templateData),i.templateData=null}}),this.cache.clear()}getRenderer(e){var t=this.renderers.get(e);if(!t)throw new Error("No renderer found for "+e);return t}}i=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;0<=a;a--)(o=e[a])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s};const w={useShadows:!0,verticalScrollMode:1,setRowLineHeight:!0,setRowHeight:!0,supportDynamicHeights:!1,dnd:{getDragElements:e=>[e],getDragURI:()=>null,onDragStart(){},onDragOver:()=>!1,drop(){}},horizontalScrolling:!1,transformOptimization:!0,alwaysConsumeMouseWheel:!0};class C{constructor(e){this.elements=e}update(){}getData(){return this.elements}}class y{constructor(e){this.elements=e}update(){}getData(){return this.elements}}class x{constructor(){this.types=[],this.files=[]}update(e){if(e.types&&this.types.splice(0,this.types.length,...e.types),e.files){this.files.splice(0,this.files.length);for(let i=0;i<e.files.length;i++){var t=e.files.item(i);t&&(t.size||t.type)&&this.files.push(t)}}}getData(){return{types:this.types,files:this.files}}}class S{constructor(e){null!=e&&e.getSetSize?this.getSetSize=e.getSetSize.bind(e):this.getSetSize=(e,t,i)=>i,null!=e&&e.getPosInSet?this.getPosInSet=e.getPosInSet.bind(e):this.getPosInSet=(e,t)=>t+1,null!=e&&e.getRole?this.getRole=e.getRole.bind(e):this.getRole=e=>"listitem",null!=e&&e.isChecked?this.isChecked=e.isChecked.bind(e):this.isChecked=e=>{}}}class k{constructor(e,t,i,n=w){if(this.virtualDelegate=t,this.domId="list_id_"+ ++k.InstanceCount,this.renderers=new Map,this.renderWidth=0,this._scrollHeight=0,this.scrollableElementUpdateDisposable=null,this.scrollableElementWidthDelayer=new d.a(50),this.splicing=!1,this.dragOverAnimationStopDisposable=u.a.None,this.dragOverMouseY=0,this.canDrop=!1,this.currentDragFeedbackDisposable=u.a.None,this.onDragLeaveTimeout=u.a.None,this.disposables=new u.b,this._onDidChangeContentHeight=new h.b,this._horizontalScrolling=!1,n.horizontalScrolling&&n.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");this.items=[],this.itemId=0,this.rangeMap=new b;for(const e of i)this.renderers.set(e.templateId,e);this.cache=this.disposables.add(new _(this.renderers)),this.lastRenderTop=0,this.lastRenderHeight=0,this.domNode=document.createElement("div"),this.domNode.className="monaco-list",this.domNode.classList.add(this.domId),this.domNode.tabIndex=0,this.domNode.classList.toggle("mouse-support","boolean"!=typeof n.mouseSupport||n.mouseSupport),this._horizontalScrolling=Object(g.e)(n,e=>e.horizontalScrolling,w.horizontalScrolling),this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this.additionalScrollHeight=void 0===n.additionalScrollHeight?0:n.additionalScrollHeight,this.accessibilityProvider=new S(n.accessibilityProvider),this.rowsContainer=document.createElement("div"),this.rowsContainer.className="monaco-list-rows",Object(g.e)(n,e=>e.transformOptimization,w.transformOptimization)&&(this.rowsContainer.style.transform="translate3d(0px, 0px, 0px)"),this.disposables.add(a.b.addTarget(this.rowsContainer)),this.scrollable=new f.a(Object(g.e)(n,e=>e.smoothScrolling,!1)?125:0,e=>Object(r.V)(e)),this.scrollableElement=this.disposables.add(new l.c(this.rowsContainer,{alwaysConsumeMouseWheel:Object(g.e)(n,e=>e.alwaysConsumeMouseWheel,w.alwaysConsumeMouseWheel),horizontal:1,vertical:Object(g.e)(n,e=>e.verticalScrollMode,w.verticalScrollMode),useShadows:Object(g.e)(n,e=>e.useShadows,w.useShadows),mouseWheelScrollSensitivity:n.mouseWheelScrollSensitivity,fastScrollSensitivity:n.fastScrollSensitivity},this.scrollable)),this.domNode.appendChild(this.scrollableElement.getDomNode()),e.appendChild(this.domNode),this.scrollableElement.onScroll(this.onScroll,this,this.disposables),this.disposables.add(Object(r.i)(this.rowsContainer,a.a.Change,e=>this.onTouchChange(e))),this.disposables.add(Object(r.i)(this.scrollableElement.getDomNode(),"scroll",e=>e.target.scrollTop=0)),this.disposables.add(Object(r.i)(this.domNode,"dragover",e=>this.onDragOver(this.toDragEvent(e)))),this.disposables.add(Object(r.i)(this.domNode,"drop",e=>this.onDrop(this.toDragEvent(e)))),this.disposables.add(Object(r.i)(this.domNode,"dragleave",e=>this.onDragLeave(this.toDragEvent(e)))),this.disposables.add(Object(r.i)(this.domNode,"dragend",e=>this.onDragEnd(e))),this.setRowLineHeight=Object(g.e)(n,e=>e.setRowLineHeight,w.setRowLineHeight),this.setRowHeight=Object(g.e)(n,e=>e.setRowHeight,w.setRowHeight),this.supportDynamicHeights=Object(g.e)(n,e=>e.supportDynamicHeights,w.supportDynamicHeights),this.dnd=Object(g.e)(n,e=>e.dnd,w.dnd),this.layout()}get contentHeight(){return this.rangeMap.size}get horizontalScrolling(){return this._horizontalScrolling}set horizontalScrolling(e){if(e!==this._horizontalScrolling){if(e&&this.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");if(this._horizontalScrolling=e,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this._horizontalScrolling){for(const e of this.items)this.measureItemWidth(e);this.updateScrollWidth(),this.scrollableElement.setScrollDimensions({width:Object(r.C)(this.domNode)}),this.rowsContainer.style.width=Math.max(this.scrollWidth||0,this.renderWidth)+"px"}else this.scrollableElementWidthDelayer.cancel(),this.scrollableElement.setScrollDimensions({width:this.renderWidth,scrollWidth:this.renderWidth}),this.rowsContainer.style.width=""}}updateOptions(e){void 0!==e.additionalScrollHeight&&(this.additionalScrollHeight=e.additionalScrollHeight,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),void 0!==e.smoothScrolling&&this.scrollable.setSmoothScrollDuration(e.smoothScrolling?125:0),void 0!==e.horizontalScrolling&&(this.horizontalScrolling=e.horizontalScrolling),void 0!==e.mouseWheelScrollSensitivity&&this.scrollableElement.updateOptions({mouseWheelScrollSensitivity:e.mouseWheelScrollSensitivity}),void 0!==e.fastScrollSensitivity&&this.scrollableElement.updateOptions({fastScrollSensitivity:e.fastScrollSensitivity})}splice(e,t,i=[]){if(this.splicing)throw new Error("Can't run recursive splices.");this.splicing=!0;try{return this._splice(e,t,i)}finally{this.splicing=!1,this._onDidChangeContentHeight.fire(this.contentHeight)}}_splice(e,t,i=[]){var n=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),o=p.a.intersect(n,{start:e,end:e+t});const r=new Map;for(let e=o.start;e<o.end;e++){const t=this.items[e];if(t.dragStartDisposable.dispose(),t.row){let i=r.get(t.templateId);i||(i=[],r.set(t.templateId,i));const n=this.renderers.get(t.templateId);n&&n.disposeElement&&n.disposeElement(t.element,e,t.row.templateData,t.size),i.push(t.row)}t.row=null}var s={start:e+t,end:this.items.length},a=p.a.intersect(s,n);const l=p.a.relativeComplement(s,n);let c;n=i.map(e=>({id:String(this.itemId++),element:e,templateId:this.virtualDelegate.getTemplateId(e),size:this.virtualDelegate.getHeight(e),width:void 0,hasDynamicHeight:!!this.virtualDelegate.hasDynamicHeight&&this.virtualDelegate.hasDynamicHeight(e),lastDynamicHeightWidth:void 0,row:null,uri:void 0,dropTarget:!1,dragStartDisposable:u.a.None})),0===e&&t>=this.items.length?(this.rangeMap=new b,this.rangeMap.splice(0,0,n),c=this.items,this.items=n):(this.rangeMap.splice(e,t,n),c=this.items.splice(e,t,...n));const d=i.length-t,h=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight);a=v(a,d);var g=p.a.intersect(h,a);for(let e=g.start;e<g.end;e++)this.updateItemInDOM(this.items[e],e);for(const e of p.a.relativeComplement(a,h))for(let t=e.start;t<e.end;t++)this.removeItemFromDOM(t);a=l.map(e=>v(e,d));a=[{start:e,end:e+i.length},...a].map(e=>p.a.intersect(h,e));var f=this.getNextToLastElement(a);for(const e of a)for(let t=e.start;t<e.end;t++){var m=this.items[t];const e=r.get(m.templateId);m=null==e?void 0:e.pop(),this.insertItemInDOM(t,f,m)}for(const e of r.values())for(const t of e)this.cache.release(t);return this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight),c.map(e=>e.element)}eventuallyUpdateScrollDimensions(){this._scrollHeight=this.contentHeight,this.rowsContainer.style.height=this._scrollHeight+"px",this.scrollableElementUpdateDisposable||(this.scrollableElementUpdateDisposable=Object(r.V)(()=>{this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight}),this.updateScrollWidth(),this.scrollableElementUpdateDisposable=null}))}eventuallyUpdateScrollWidth(){this.horizontalScrolling?this.scrollableElementWidthDelayer.trigger(()=>this.updateScrollWidth()):this.scrollableElementWidthDelayer.cancel()}updateScrollWidth(){if(this.horizontalScrolling){let e=0;for(const t of this.items)void 0!==t.width&&(e=Math.max(e,t.width));this.scrollWidth=e,this.scrollableElement.setScrollDimensions({scrollWidth:0===e?0:e+10})}}rerender(){if(this.supportDynamicHeights){for(const e of this.items)e.lastDynamicHeightWidth=void 0;this._rerender(this.lastRenderTop,this.lastRenderHeight)}}get length(){return this.items.length}get renderHeight(){return this.scrollableElement.getScrollDimensions().height}element(e){return this.items[e].element}domElement(e){return(e=this.items[e].row)&&e.domNode}elementHeight(e){return this.items[e].size}elementTop(e){return this.rangeMap.positionAt(e)}indexAt(e){return this.rangeMap.indexAt(e)}indexAfter(e){return this.rangeMap.indexAfter(e)}layout(e,t){let i={height:"number"==typeof e?e:Object(r.B)(this.domNode)};this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,i.scrollHeight=this.scrollHeight),this.scrollableElement.setScrollDimensions(i),void 0!==t&&(this.renderWidth=t,this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight)),this.horizontalScrolling&&this.scrollableElement.setScrollDimensions({width:"number"==typeof t?t:Object(r.C)(this.domNode)})}render(e,t,i,n,o,r=!1){var s=this.getRenderRange(t,i),a=p.a.relativeComplement(s,e),l=p.a.relativeComplement(e,s),c=this.getNextToLastElement(a);if(r){var d=p.a.intersect(e,s);for(let e=d.start;e<d.end;e++)this.updateItemInDOM(this.items[e],e)}for(const e of a)for(let t=e.start;t<e.end;t++)this.insertItemInDOM(t,c);for(const e of l)for(let t=e.start;t<e.end;t++)this.removeItemFromDOM(t);void 0!==n&&(this.rowsContainer.style.left=`-${n}px`),this.rowsContainer.style.top=`-${t}px`,this.horizontalScrolling&&void 0!==o&&(this.rowsContainer.style.width=Math.max(o,this.renderWidth)+"px"),this.lastRenderTop=t,this.lastRenderHeight=i}insertItemInDOM(e,t,i){const n=this.items[e];n.row||(n.row=null!=i?i:this.cache.alloc(n.templateId)),i=this.accessibilityProvider.getRole(n.element)||"listitem",n.row.domNode.setAttribute("role",i),void 0!==(i=this.accessibilityProvider.isChecked(n.element))&&n.row.domNode.setAttribute("aria-checked",String(!!i)),n.row.domNode.parentElement||(t?this.rowsContainer.insertBefore(n.row.domNode,t):this.rowsContainer.appendChild(n.row.domNode)),this.updateItemInDOM(n,e);const o=this.renderers.get(n.templateId);if(!o)throw new Error("No renderer found for template id "+n.templateId);o&&o.renderElement(n.element,e,n.row.templateData,n.size);const s=this.dnd.getDragURI(n.element);n.dragStartDisposable.dispose(),n.row.domNode.draggable=!!s,s&&(n.dragStartDisposable=Object(r.i)(n.row.domNode,"dragstart",e=>this.onDragStart(n.element,s,e))),this.horizontalScrolling&&(this.measureItemWidth(n),this.eventuallyUpdateScrollWidth())}measureItemWidth(e){var t;e.row&&e.row.domNode&&(e.row.domNode.style.width=n.g?"-moz-fit-content":"fit-content",e.width=Object(r.C)(e.row.domNode),(t=window.getComputedStyle(e.row.domNode)).paddingLeft&&(e.width+=parseFloat(t.paddingLeft)),t.paddingRight&&(e.width+=parseFloat(t.paddingRight)),e.row.domNode.style.width="")}updateItemInDOM(e,t){e.row.domNode.style.top=this.elementTop(t)+"px",this.setRowHeight&&(e.row.domNode.style.height=e.size+"px"),this.setRowLineHeight&&(e.row.domNode.style.lineHeight=e.size+"px"),e.row.domNode.setAttribute("data-index",""+t),e.row.domNode.setAttribute("data-last-element",t===this.length-1?"true":"false"),e.row.domNode.setAttribute("data-parity",t%2==0?"even":"odd"),e.row.domNode.setAttribute("aria-setsize",String(this.accessibilityProvider.getSetSize(e.element,t,this.length))),e.row.domNode.setAttribute("aria-posinset",String(this.accessibilityProvider.getPosInSet(e.element,t))),e.row.domNode.setAttribute("id",this.getElementDomId(t)),e.row.domNode.classList.toggle("drop-target",e.dropTarget)}removeItemFromDOM(e){const t=this.items[e];if(t.dragStartDisposable.dispose(),t.row){const i=this.renderers.get(t.templateId);i&&i.disposeElement&&i.disposeElement(t.element,e,t.row.templateData,t.size),this.cache.release(t.row),t.row=null}this.horizontalScrolling&&this.eventuallyUpdateScrollWidth()}getScrollTop(){return this.scrollableElement.getScrollPosition().scrollTop}setScrollTop(e,t){this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),this.scrollableElement.setScrollPosition({scrollTop:e,reuseAnimation:t})}get scrollTop(){return this.getScrollTop()}set scrollTop(e){this.setScrollTop(e)}get scrollHeight(){return this._scrollHeight+(this.horizontalScrolling?10:0)+this.additionalScrollHeight}get onMouseClick(){return h.c.map(this.disposables.add(new s.a(this.domNode,"click")).event,e=>this.toMouseEvent(e))}get onMouseDblClick(){return h.c.map(this.disposables.add(new s.a(this.domNode,"dblclick")).event,e=>this.toMouseEvent(e))}get onMouseMiddleClick(){return h.c.filter(h.c.map(this.disposables.add(new s.a(this.domNode,"auxclick")).event,e=>this.toMouseEvent(e)),e=>1===e.browserEvent.button)}get onMouseDown(){return h.c.map(this.disposables.add(new s.a(this.domNode,"mousedown")).event,e=>this.toMouseEvent(e))}get onContextMenu(){return h.c.any(h.c.map(this.disposables.add(new s.a(this.domNode,"contextmenu")).event,e=>this.toMouseEvent(e)),h.c.map(this.disposables.add(new s.a(this.domNode,a.a.Contextmenu)).event,e=>this.toGestureEvent(e)))}get onTouchStart(){return h.c.map(this.disposables.add(new s.a(this.domNode,"touchstart")).event,e=>this.toTouchEvent(e))}get onTap(){return h.c.map(this.disposables.add(new s.a(this.rowsContainer,a.a.Tap)).event,e=>this.toGestureEvent(e))}toMouseEvent(e){var t=this.getItemIndexFromEventTarget(e.target||null),i=void 0===t?void 0:this.items[t];return{browserEvent:e,index:t,element:i&&i.element}}toTouchEvent(e){var t=this.getItemIndexFromEventTarget(e.target||null),i=void 0===t?void 0:this.items[t];return{browserEvent:e,index:t,element:i&&i.element}}toGestureEvent(e){var t=this.getItemIndexFromEventTarget(e.initialTarget||null),i=void 0===t?void 0:this.items[t];return{browserEvent:e,index:t,element:i&&i.element}}toDragEvent(e){var t=this.getItemIndexFromEventTarget(e.target||null),i=void 0===t?void 0:this.items[t];return{browserEvent:e,index:t,element:i&&i.element}}onScroll(e){try{var t=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight);this.render(t,e.scrollTop,e.height,e.scrollLeft,e.scrollWidth),this.supportDynamicHeights&&this._rerender(e.scrollTop,e.height,e.inSmoothScrolling)}catch(t){throw console.error("Got bad scroll event:",e),t}}onTouchChange(e){e.preventDefault(),e.stopPropagation(),this.scrollTop-=e.translationY}onDragStart(e,t,i){if(i.dataTransfer){if(e=this.dnd.getDragElements(e),i.dataTransfer.effectAllowed="copyMove",i.dataTransfer.setData(o.a.TEXT,t),i.dataTransfer.setDragImage){let t;this.dnd.getDragLabel&&(t=this.dnd.getDragLabel(e,i)),void 0===t&&(t=String(e.length));const n=Object(r.a)(".monaco-drag-image");n.textContent=t,document.body.appendChild(n),i.dataTransfer.setDragImage(n,-10,-10),setTimeout(()=>document.body.removeChild(n),0)}this.currentDragData=new C(e),o.c.CurrentDragAndDropData=new y(e),this.dnd.onDragStart&&this.dnd.onDragStart(this.currentDragData,i)}}onDragOver(e){if(e.browserEvent.preventDefault(),this.onDragLeaveTimeout.dispose(),o.c.CurrentDragAndDropData&&"vscode-ui"===o.c.CurrentDragAndDropData.getData())return!1;if(this.setupDragAndDropScrollTopAnimation(e.browserEvent),!e.browserEvent.dataTransfer)return!1;if(!this.currentDragData)if(o.c.CurrentDragAndDropData)this.currentDragData=o.c.CurrentDragAndDropData;else{if(!e.browserEvent.dataTransfer.types)return!1;this.currentDragData=new x}var t=this.dnd.onDragOver(this.currentDragData,e.element,e.index,e.browserEvent);if(this.canDrop="boolean"==typeof t?t:t.accept,!this.canDrop)return this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),!1;let i;if(e.browserEvent.dataTransfer.dropEffect="boolean"!=typeof t&&0===t.effect?"copy":"move",i="boolean"!=typeof t&&t.feedback?t.feedback:void 0===e.index?[-1]:[e.index],i=Object(c.f)(i).filter(e=>-1<=e&&e<this.length).sort((e,t)=>e-t),i=-1===i[0]?[-1]:i,t=this.currentDragFeedback,e=i,Array.isArray(t)&&Array.isArray(e)?Object(c.g)(t,e):t===e)return!0;if(this.currentDragFeedback=i,this.currentDragFeedbackDisposable.dispose(),-1===i[0])this.domNode.classList.add("drop-target"),this.rowsContainer.classList.add("drop-target"),this.currentDragFeedbackDisposable=Object(u.i)(()=>{this.domNode.classList.remove("drop-target"),this.rowsContainer.classList.remove("drop-target")});else{for(const e of i){const t=this.items[e];t.dropTarget=!0,t.row&&t.row.domNode.classList.add("drop-target")}this.currentDragFeedbackDisposable=Object(u.i)(()=>{for(const e of i){const t=this.items[e];t.dropTarget=!1,t.row&&t.row.domNode.classList.remove("drop-target")}})}return!0}onDragLeave(e){var t,i;this.onDragLeaveTimeout.dispose(),this.onDragLeaveTimeout=Object(d.i)(()=>this.clearDragOverFeedback(),100),this.currentDragData&&null!==(i=(t=this.dnd).onDragLeave)&&void 0!==i&&i.call(t,this.currentDragData,e.element,e.index,e.browserEvent)}onDrop(e){if(this.canDrop){const t=this.currentDragData;this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.currentDragData=void 0,o.c.CurrentDragAndDropData=void 0,t&&e.browserEvent.dataTransfer&&(e.browserEvent.preventDefault(),t.update(e.browserEvent.dataTransfer),this.dnd.drop(t,e.element,e.index,e.browserEvent))}}onDragEnd(e){this.canDrop=!1,this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.currentDragData=void 0,o.c.CurrentDragAndDropData=void 0,this.dnd.onDragEnd&&this.dnd.onDragEnd(e)}clearDragOverFeedback(){this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),this.currentDragFeedbackDisposable=u.a.None}setupDragAndDropScrollTopAnimation(e){var t;this.dragOverAnimationDisposable||(t=Object(r.G)(this.domNode).top,this.dragOverAnimationDisposable=Object(r.p)(this.animateDragAndDropScrollTop.bind(this,t))),this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationStopDisposable=Object(d.i)(()=>{this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)},1e3),this.dragOverMouseY=e.pageY}animateDragAndDropScrollTop(e){var t;void 0!==this.dragOverMouseY&&(t=this.dragOverMouseY-e,e=this.renderHeight-35,t<35?this.scrollTop+=Math.max(-14,Math.floor(.3*(t-35))):e<t&&(this.scrollTop+=Math.min(14,Math.floor(.3*(t-e)))))}teardownDragAndDropScrollTopAnimation(){this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)}getItemIndexFromEventTarget(e){const t=this.scrollableElement.getDomNode();let i=e;for(;i instanceof HTMLElement&&i!==this.rowsContainer&&t.contains(i);){var n=i.getAttribute("data-index");if(n&&(n=Number(n),!isNaN(n)))return n;i=i.parentElement}}getRenderRange(e,t){return{start:this.rangeMap.indexAt(e),end:this.rangeMap.indexAfter(e+t-1)}}_rerender(e,t,i){var n=this.getRenderRange(e,t);let o,r;e===this.elementTop(n.start)?(o=n.start,r=0):1<n.end-n.start&&(o=n.start+1,r=this.elementTop(o)-e);let s=0;for(;;){var a,l=this.getRenderRange(e,t);let h=!1;for(let e=l.start;e<l.end;e++){var c=this.probeDynamicHeight(e);0!==c&&this.rangeMap.splice(e,1,[this.items[e]]),s+=c,h=h||0!==c}if(!h){0!==s&&this.eventuallyUpdateScrollDimensions();for(const e of p.a.relativeComplement(n,l))for(let t=e.start;t<e.end;t++)this.items[t].row&&this.removeItemFromDOM(t);for(const e of p.a.relativeComplement(l,n))for(let t=e.start;t<e.end;t++){var d=(d=(d=t+1)<this.items.length?this.items[d].row:null)?d.domNode:null;this.insertItemInDOM(t,d)}for(let e=l.start;e<l.end;e++)this.items[e].row&&this.updateItemInDOM(this.items[e],e);return"number"==typeof o&&(a=this.scrollable.getFutureScrollPosition().scrollTop-e,a=this.elementTop(o)-r+a,this.setScrollTop(a,i)),void this._onDidChangeContentHeight.fire(this.contentHeight)}}}probeDynamicHeight(e){const t=this.items[e];if(this.virtualDelegate.getDynamicHeight){var i=this.virtualDelegate.getDynamicHeight(t.element);if(null!==i){const e=t.size;return t.size=i,t.lastDynamicHeightWidth=this.renderWidth,i-e}}if(!t.hasDynamicHeight||t.lastDynamicHeightWidth===this.renderWidth)return 0;if(this.virtualDelegate.hasDynamicHeight&&!this.virtualDelegate.hasDynamicHeight(t.element))return 0;const n=t.size;if(!this.setRowHeight&&t.row)return i=t.row.domNode.offsetHeight,t.size=i,t.lastDynamicHeightWidth=this.renderWidth,i-n;const o=this.cache.alloc(t.templateId);o.domNode.style.height="",this.rowsContainer.appendChild(o.domNode);const r=this.renderers.get(t.templateId);return r&&(r.renderElement(t.element,e,o.templateData,void 0),r.disposeElement&&r.disposeElement(t.element,e,o.templateData,void 0)),t.size=o.domNode.offsetHeight,this.virtualDelegate.setDynamicHeight&&this.virtualDelegate.setDynamicHeight(t.element,t.size),t.lastDynamicHeightWidth=this.renderWidth,this.rowsContainer.removeChild(o.domNode),this.cache.release(o),t.size-n}getNextToLastElement(e){return(e=e[e.length-1])&&(e=this.items[e.end])&&e.row?e.row.domNode:null}getElementDomId(e){return`${this.domId}_${e}`}dispose(){if(this.items){for(const e of this.items)if(e.row){const t=this.renderers.get(e.row.templateId);t&&(t.disposeElement&&t.disposeElement(e.element,-1,e.row.templateData,void 0),t.disposeTemplate(e.row.templateData))}this.items=[]}this.domNode&&this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),Object(u.f)(this.disposables)}}k.InstanceCount=0,i([t.a],k.prototype,"onMouseClick",null),i([t.a],k.prototype,"onMouseDblClick",null),i([t.a],k.prototype,"onMouseMiddleClick",null),i([t.a],k.prototype,"onMouseDown",null),i([t.a],k.prototype,"onContextMenu",null),i([t.a],k.prototype,"onTouchStart",null),i([t.a],k.prototype,"onTap",null)},function(e,t,i){"use strict";i.d(t,"b",(function(){return S})),i.d(t,"a",(function(){return D})),i.d(t,"c",(function(){return L})),i.d(t,"d",(function(){return E})),i.d(t,"e",(function(){return I}));var n=i(73),o=i(22),r=i(38),s=i(17),a=i(54),l=i(114),c=i(19),d=i(35),h=i(103),u=i(135),g=i(12),p=i(3),f=i(29),m=i(11),v=i(121),b=i(110),_=i(242),w=i(0);t=i(36);class C{constructor(e){this.value=e,this._lower=e.toLowerCase()}static toKey(e){return"string"==typeof e?e.toLowerCase():e._lower}}var y=i(21),x=function(e,t,i,n){return new(i=i||Promise)((function(o,r){function s(e){try{l(n.next(e))}catch(e){r(e)}}function a(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):((t=e.value)instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};function S(e){if((e=e.filter(e=>e.range)).length){let{range:o}=e[0];for(let t=1;t<e.length;t++)o=p.a.plusRange(o,e[t].range);var{startLineNumber:t,endLineNumber:i}=o;t===i?1===e.length?Object(n.a)(w.a("hint11","Made 1 formatting edit on line {0}",t)):Object(n.a)(w.a("hintn1","Made {0} formatting edits on line {1}",e.length,t)):1===e.length?Object(n.a)(w.a("hint1n","Made 1 formatting edit between lines {0} and {1}",t,i)):Object(n.a)(w.a("hintnn","Made {0} formatting edits between lines {1} and {2}",e.length,t,i))}}function k(e){const t=[],i=new Set;for(const n of m.g.ordered(e))t.push(n),n.extensionId&&i.add(C.toKey(n.extensionId));for(const n of m.j.ordered(e)){if(n.extensionId){if(i.has(C.toKey(n.extensionId)))continue;i.add(C.toKey(n.extensionId))}t.push({displayName:n.displayName,extensionId:n.extensionId,provideDocumentFormattingEdits:(e,t,i)=>n.provideDocumentRangeFormattingEdits(e,e.getFullModelRange(),t,i)})}return t}class D{static setFormatterSelector(e){return{dispose:D._selectors.unshift(e)}}static select(e,t,i){return x(this,void 0,void 0,(function*(){if(0!==e.length){const n=a.a.first(D._selectors);return n?yield n(e,t,i):void 0}}))}}function L(e,t,i,n,o,r){return x(this,void 0,void 0,(function*(){const s=e.get(y.a);var a=Object(u.b)(t)?t.getModel():t,l=m.j.ordered(a);(a=yield D.select(l,a,n))&&(o.report(a),yield s.invokeFunction(O,a,t,i,r))}))}function O(e,t,i,n,r){return x(this,void 0,void 0,(function*(){const s=e.get(v.a);let a,l;l=Object(u.b)(i)?(a=i.getModel(),new h.b(i,5,void 0,r)):(a=i,new h.d(i,r));let c=[],d=0;for(var g of Object(o.c)(n).sort(p.a.compareRangesUsingStarts))0<d&&p.a.areIntersectingOrTouching(c[d-1],g)?c[d-1]=p.a.fromPositions(c[d-1].getStartPosition(),g.getEndPosition()):d=c.push(g);var m,b,w=e=>x(this,void 0,void 0,(function*(){return(yield t.provideDocumentRangeFormattingEdits(a,e,a.getFormattingOptions(),l.token))||[]}));const C=[],y=[];try{for(var k of c){if(l.token.isCancellationRequested)return!0;y.push(yield w(k))}for(let e=0;e<c.length;++e)for(let t=e+1;t<c.length;++t){if(l.token.isCancellationRequested)return!0;((e,t)=>{if(!e.length||!t.length)return!1;const i=e.reduce((e,t)=>p.a.plusRange(e,t.range),e[0].range);if(!t.some(e=>p.a.intersectRanges(i,e.range)))return!1;for(var n of e)for(var o of t)if(p.a.intersectRanges(n.range,o.range))return!0;return!1})(y[e],y[t])&&(b=yield w(m=p.a.plusRange(c[e],c[t])),c.splice(t,1),c.splice(e,1),c.push(m),y.splice(t,1),y.splice(e,1),y.push(b),e=0,t=0)}for(var D of y){if(l.token.isCancellationRequested)return!0;var L=yield s.computeMoreMinimalEdits(a.uri,D);L&&C.push(...L)}}finally{l.dispose()}if(0===C.length)return!1;if(Object(u.b)(i))_.a.execute(i,C,!0),S(C),i.revealPositionInCenterIfOutsideViewport(i.getPosition(),1);else{var[{range:O}]=C;const e=new f.a(O.startLineNumber,O.startColumn,O.endLineNumber,O.endColumn);a.pushEditOperations([e],C.map(e=>({text:e.text,range:p.a.lift(e.range),forceMoveMarkers:!0})),t=>{for(var{range:i}of t)if(p.a.areIntersectingOrTouching(i,e))return[new f.a(i.startLineNumber,i.startColumn,i.endLineNumber,i.endColumn)];return null})}return!0}))}function E(e,t,i,n,o){return x(this,void 0,void 0,(function*(){const r=e.get(y.a);var s,a=k(s=Object(u.b)(t)?t.getModel():t);(s=yield D.select(a,s,i))&&(n.report(s),yield r.invokeFunction(N,s,t,i,o))}))}function N(e,t,i,n,o){return x(this,void 0,void 0,(function*(){const r=e.get(v.a);let s,a,l;a=Object(u.b)(i)?(s=i.getModel(),new h.b(i,5,void 0,o)):(s=i,new h.d(i,o));try{var c=yield t.provideDocumentFormattingEdits(s,s.getFormattingOptions(),a.token);if(l=yield r.computeMoreMinimalEdits(s.uri,c),a.token.isCancellationRequested)return!0}finally{a.dispose()}if(!l||0===l.length)return!1;if(Object(u.b)(i))_.a.execute(i,l,2!==n),2!==n&&(S(l),i.revealPositionInCenterIfOutsideViewport(i.getPosition(),1));else{var[{range:c}]=l;const e=new f.a(c.startLineNumber,c.startColumn,c.endLineNumber,c.endColumn);s.pushEditOperations([e],l.map(e=>({text:e.text,range:p.a.lift(e.range),forceMoveMarkers:!0})),t=>{for(var{range:i}of t)if(p.a.areIntersectingOrTouching(i,e))return[new f.a(i.startLineNumber,i.startColumn,i.endLineNumber,i.endColumn)];return null})}return!0}))}function I(e,t,i,n,o){const a=m.x.ordered(t);return 0===a.length||a[0].autoFormatTriggerCharacters.indexOf(n)<0?Promise.resolve(void 0):Promise.resolve(a[0].provideOnTypeFormattingEdits(t,i,n,o,r.a.None)).catch(s.g).then(i=>e.computeMoreMinimalEdits(t.uri,i))}D._selectors=new l.a,t.a.registerCommand("_executeFormatRangeProvider",(function(e,...t){return x(this,void 0,void 0,(function*(){var[i,n,a]=t;Object(c.c)(d.a.isUri(i)),Object(c.c)(p.a.isIRange(n));const l=e.get(b.a);var h=e.get(v.a);const u=yield l.createModelReference(i);try{return function(e,t,i,n,r){return x(this,void 0,void 0,(function*(){for(const l of m.j.ordered(t)){var a=yield Promise.resolve(l.provideDocumentRangeFormattingEdits(t,i,n,r)).catch(s.g);if(Object(o.n)(a))return yield e.computeMoreMinimalEdits(t.uri,a)}}))}(h,u.object.textEditorModel,p.a.lift(n),a,r.a.None)}finally{u.dispose()}}))})),t.a.registerCommand("_executeFormatDocumentProvider",(function(e,...t){return x(this,void 0,void 0,(function*(){var[i,n]=t;Object(c.c)(d.a.isUri(i));const a=e.get(b.a);var l=e.get(v.a);const h=yield a.createModelReference(i);try{return function(e,t,i,n){return x(this,void 0,void 0,(function*(){for(const a of k(t)){var r=yield Promise.resolve(a.provideDocumentFormattingEdits(t,i,n)).catch(s.g);if(Object(o.n)(r))return yield e.computeMoreMinimalEdits(t.uri,r)}}))}(l,h.object.textEditorModel,n,r.a.None)}finally{h.dispose()}}))})),t.a.registerCommand("_executeFormatOnTypeProvider",(function(e,...t){return x(this,void 0,void 0,(function*(){var[i,n,o,r]=t;Object(c.c)(d.a.isUri(i)),Object(c.c)(g.a.isIPosition(n)),Object(c.c)("string"==typeof o);const s=e.get(b.a);var a=e.get(v.a);const l=yield s.createModelReference(i);try{return I(a,l.object.textEditorModel,g.a.lift(n),o,r)}finally{l.dispose()}}))}))},function(e,t,i){"use strict";i.d(t,"e",(function(){return f})),i.d(t,"f",(function(){return m})),i.d(t,"d",(function(){return b})),i.d(t,"b",(function(){return _})),i.d(t,"c",(function(){return C})),i.d(t,"a",(function(){return x}));var n=i(38),o=i(17),r=i(35),s=i(11),a=i(70),l=i(36),c=i(19),d=i(82),h=i(15);function u(e){const t=new Uint32Array(function(e){let t=0;if(t+=2,"full"===e.type)t+=1+e.data.length;else{t+=1,t+=3*e.deltas.length;for(const i of e.deltas)i.data&&(t+=i.data.length)}return t}(e));let i=0;if(t[i++]=e.id,"full"===e.type)t[i++]=1,t[i++]=e.data.length,t.set(e.data,i),i+=e.data.length;else{t[i++]=2,t[i++]=e.deltas.length;for(const n of e.deltas)t[i++]=n.start,t[i++]=n.deleteCount,n.data?(t[i++]=n.data.length,t.set(n.data,i),i+=n.data.length):t[i++]=0}return function(e){return e=new Uint8Array(e.buffer,e.byteOffset,4*e.length),h.e()||function(e){for(let r=0,s=e.length;r<s;r+=4){var t=e[r+0],i=e[r+1],n=e[r+2],o=e[r+3];e[r+0]=o,e[r+1]=n,e[r+2]=i,e[r+3]=t}}(e),d.a.wrap(e)}(t)}var g=i(3),p=function(e,t,i,n){return new(i=i||Promise)((function(o,r){function s(e){try{l(n.next(e))}catch(e){r(e)}}function a(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):((t=e.value)instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};function f(e){return e&&!!e.data}function m(e){return e&&Array.isArray(e.edits)}class v{constructor(e,t){this.provider=e,this.tokens=t}}function b(e){return s.l.has(e)}function _(e,t,i,n){return p(this,void 0,void 0,(function*(){const r=(a=e,0<(a=s.l.orderedGroups(a)).length?a[0]:[]);var a=yield Promise.all(r.map(r=>p(this,void 0,void 0,(function*(){let s;try{s=yield r.provideDocumentSemanticTokens(e,r===t?i:null,n)}catch(e){Object(o.g)(e),s=null}return s&&(f(s)||m(s))||(s=null),new v(r,s)}))));for(const e of a)if(e.tokens)return e;return 0<a.length?a[0]:null}))}class w{constructor(e,t){this.provider=e,this.tokens=t}}function C(e){return s.k.has(e)}function y(e){return 0<(e=s.k.orderedGroups(e)).length?e[0]:[]}function x(e,t,i){return p(this,void 0,void 0,(function*(){const n=y(e);var r=yield Promise.all(n.map(n=>p(this,void 0,void 0,(function*(){let r;try{r=yield n.provideDocumentRangeSemanticTokens(e,t,i)}catch(e){Object(o.g)(e),r=null}return r&&f(r)||(r=null),new w(n,r)}))));for(const e of r)if(e.tokens)return e;return 0<r.length?r[0]:null}))}l.a.registerCommand("_provideDocumentSemanticTokensLegend",(e,...t)=>p(void 0,void 0,void 0,(function*(){var[i]=t;Object(c.c)(i instanceof r.a);var n=e.get(a.a).getModel(i);if(n){const t=(n=n,0<(n=s.l.orderedGroups(n)).length?n[0]:null);return t?t[0].getLegend():e.get(l.b).executeCommand("_provideDocumentRangeSemanticTokensLegend",i)}}))),l.a.registerCommand("_provideDocumentSemanticTokens",(e,...t)=>p(void 0,void 0,void 0,(function*(){var[i]=t;Object(c.c)(i instanceof r.a);const o=e.get(a.a).getModel(i);if(o){if(!b(o))return e.get(l.b).executeCommand("_provideDocumentRangeSemanticTokens",i,o.getFullModelRange());if(i=yield _(o,null,null,n.a.None)){const{provider:e,tokens:t}=i;if(t&&f(t))return i=u({id:0,type:"full",data:t.data}),t.resultId&&e.releaseDocumentSemanticTokens(t.resultId),i}}}))),l.a.registerCommand("_provideDocumentRangeSemanticTokensLegend",(e,...t)=>p(void 0,void 0,void 0,(function*(){var[i,o]=t;if(Object(c.c)(i instanceof r.a),i=e.get(a.a).getModel(i)){const e=y(i);if(0!==e.length){if(1===e.length)return e[0].getLegend();if(!o||!g.a.isIRange(o))return console.warn("provideDocumentRangeSemanticTokensLegend might be out-of-sync with provideDocumentRangeSemanticTokens unless a range argument is passed in"),e[0].getLegend();const t=yield x(i,g.a.lift(o),n.a.None);return t?t.provider.getLegend():void 0}}}))),l.a.registerCommand("_provideDocumentRangeSemanticTokens",(e,...t)=>p(void 0,void 0,void 0,(function*(){var[i,o]=t;if(Object(c.c)(i instanceof r.a),Object(c.c)(g.a.isIRange(o)),(i=e.get(a.a).getModel(i))&&(o=yield x(i,g.a.lift(o),n.a.None))&&o.tokens)return u({id:0,type:"full",data:o.tokens.data})})))},function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),t=i(44);const n={clipboard:{writeText:(i=i(15)).g||document.queryCommandSupported&&document.queryCommandSupported("copy")||!!(navigator&&navigator.clipboard&&navigator.clipboard.writeText),readText:i.g||!!(navigator&&navigator.clipboard&&navigator.clipboard.readText)},keyboard:i.g||t.i?0:navigator.keyboard||t.h?1:2,touch:"ontouchstart"in window||0<navigator.maxTouchPoints,pointerEvents:window.PointerEvent&&("ontouchstart"in window||0<window.navigator.maxTouchPoints||0<navigator.maxTouchPoints)}},function(e,t,i){"use strict";i.d(t,"c",(function(){return o})),i.d(t,"b",(function(){return r})),i.d(t,"a",(function(){return s}));var n=i(1);function o(e,t={}){const i=s(t);return i.textContent=e,i}function r(e,t={}){var i=s(t);return function e(t,i,o,r){let s;if(2===i.type)s=document.createTextNode(i.content||"");else if(3===i.type)s=document.createElement("b");else if(4===i.type)s=document.createElement("i");else if(7===i.type&&r)s=document.createElement("code");else if(5===i.type&&o){const e=document.createElement("a");e.href="#",o.disposables.add(n.o(e,"click",e=>{o.callback(String(i.index),e)})),s=e}else 8===i.type?s=document.createElement("br"):1===i.type&&(s=t);s&&t!==s&&t.appendChild(s),s&&Array.isArray(i.children)&&i.children.forEach(t=>{e(s,t,o,r)})}(i,function(e,t){var i={type:1,children:[]};let n=0,o=i;const r=[],s=new a(e);for(;!s.eos();){let e=s.next();var c="\\"===e&&0!==l(s.peek(),t);if(c&&(e=s.next()),!c&&function(e,t){return 0!==l(e,t)}(e,t)&&e===s.peek()){s.advance(),2===o.type&&(o=r.pop());var d=l(e,t);if(o.type===d||5===o.type&&6===d)o=r.pop();else{const e={type:d,children:[]};5===d&&(e.index=n,n++),o.children.push(e),r.push(o),o=e}}else"\n"===e?(2===o.type&&(o=r.pop()),o.children.push({type:8})):2!==o.type?(d={type:2,content:e},o.children.push(d),r.push(o),o=d):o.content+=e}return 2===o.type&&(o=r.pop()),r.length,i}(e,!!t.renderCodeSegments),t.actionHandler,t.renderCodeSegments),i}function s(e){var t=e.inline?"span":"div";const i=document.createElement(t);return e.className&&(i.className=e.className),i}class a{constructor(e){this.source=e,this.index=0}eos(){return this.index>=this.source.length}next(){var e=this.peek();return this.advance(),e}peek(){return this.source[this.index]}advance(){this.index++}}function l(e,t){switch(e){case"*":return 3;case"_":return 4;case"[":return 5;case"]":return 6;case"`":return t?7:0;default:return 0}}},function(e,t,i){"use strict";i.d(t,"d",(function(){return s})),i.d(t,"b",(function(){return a})),i.d(t,"c",(function(){return l})),i.d(t,"a",(function(){return c}));var n=i(72),o=i(15),r=i(9);function s(e){return-1===e.indexOf("/")&&(e=e.replace(/[\\/]/g,n.e.sep)),/^[a-zA-Z]:(\/|$)/.test(e)?"/"+e:e}function a(e,t,i,o=n.h){if(e===t)return!0;if(!e||!t)return!1;if(t.length>e.length)return!1;if(i){if(!Object(r.R)(e,t))return!1;if(t.length===e.length)return!0;let i=t.length;return t.charAt(t.length-1)===o&&i--,e.charAt(i)===o}return t.charAt(t.length-1)!==o&&(t+=o),0===e.indexOf(t)}function l(e){const t=Object(n.d)(e);return o.i?!(3<e.length)&&c(t)&&(2===e.length||92===t.charCodeAt(2)):t===n.e.sep}function c(e){return!!o.i&&(65<=(t=e.charCodeAt(0))&&t<=90||97<=t&&t<=122)&&58===e.charCodeAt(1);var t}},function(e,t,i){"use strict";i.d(t,"a",(function(){return c}));var n=i(9),o=i(77),r=i(26),s=i(93),a=i(3),l=i(12);class c{static deleteRight(e,t,i,n){let r=[],l=3!==e;for(let e=0,h=n.length;e<h;e++){const h=n[e];let u=h;var c,d;u.isEmpty()&&(c=h.getPosition(),d=s.a.right(t,i,c),u=new a.a(d.lineNumber,d.column,c.lineNumber,c.column)),u.isEmpty()?r[e]=null:(u.startLineNumber!==u.endLineNumber&&(l=!0),r[e]=new o.a(u,""))}return[l,r]}static isAutoClosingPairDelete(e,t,i,n,o,s,a){if("never"===t&&"never"===i)return!1;if("never"===e)return!1;for(let g=0,p=s.length;g<p;g++){const p=s[g];var l=p.getPosition();if(!p.isEmpty())return!1;const f=o.getLineContent(l.lineNumber);if(l.column<2||l.column>=f.length+1)return!1;var c=f.charAt(l.column-2),d=n.get(c);if(!d)return!1;if(Object(r.g)(c)){if("never"===i)return!1}else if("never"===t)return!1;var h=f.charAt(l.column-1);let m=!1;for(const e of d)e.open===c&&e.close===h&&(m=!0);if(!m)return!1;if("auto"===e){let e=!1;for(let t=0,i=a.length;t<i;t++){var u=a[t];if(l.lineNumber===u.startLineNumber&&l.column===u.startColumn){e=!0;break}}if(!e)return!1}}return!0}static _runAutoClosingPairDelete(e,t,i){let n=[];for(let e=0,t=i.length;e<t;e++){var r=i[e].getPosition();r=new a.a(r.lineNumber,r.column-1,r.lineNumber,r.column+1);n[e]=new o.a(r,"")}return[!0,n]}static deleteLeft(e,t,i,n,r){if(this.isAutoClosingPairDelete(t.autoClosingDelete,t.autoClosingBrackets,t.autoClosingQuotes,t.autoClosingPairs.autoClosingPairsOpenByEnd,i,n,r))return this._runAutoClosingPairDelete(t,i,n);const s=[];let a=2!==e;for(let e=0,r=n.length;e<r;e++){let r=c.getDeleteRange(n[e],i,t);r.isEmpty()?s[e]=null:(r.startLineNumber!==r.endLineNumber&&(a=!0),s[e]=new o.a(r,""))}return[a,s]}static getDeleteRange(e,t,i){if(!e.isEmpty())return e;var o=e.getPosition();if(i.useTabStops&&1<o.column){var s=t.getLineContent(o.lineNumber);e=-1===(e=n.u(s))?s.length+1:e+1;if(o.column<=e)return e=r.a.visibleColumnFromColumn2(i,t,o),e=r.a.prevIndentTabStop(e,i.indentSize),e=r.a.columnFromVisibleColumn2(i,t,o.lineNumber,e),new a.a(o.lineNumber,e,o.lineNumber,o.column)}return a.a.fromPositions(c.getPositionAfterDeleteLeft(o,t),o)}static getPositionAfterDeleteLeft(e,t){if(1<e.column){var i=n.y(e.column-1,t.getLineContent(e.lineNumber));return e.with(void 0,i+1)}return 1<e.lineNumber?(i=e.lineNumber-1,new l.a(i,t.getLineMaxColumn(i))):e}static cut(e,t,i){let n=[],s=null;i.sort((e,t)=>l.a.compare(e.getStartPosition(),t.getEndPosition()));for(let r=0,l=i.length;r<l;r++){const l=i[r];if(l.isEmpty())if(e.emptySelectionClipboard){var c=l.getPosition();let e,i,d,h;h=c.lineNumber<t.getLineCount()?(e=c.lineNumber,i=1,d=c.lineNumber+1,1):(i=1<c.lineNumber&&(null==s?void 0:s.endLineNumber)!==c.lineNumber?(e=c.lineNumber-1,t.getLineMaxColumn(c.lineNumber-1)):(e=c.lineNumber,1),d=c.lineNumber,t.getLineMaxColumn(c.lineNumber));let u=new a.a(e,i,d,h);s=u,u.isEmpty()?n[r]=null:n[r]=new o.a(u,"")}else n[r]=null;else n[r]=new o.a(l,"")}return new r.e(0,n,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}}},function(e,t,i){"use strict";i.d(t,"a",(function(){return l})),i.d(t,"b",(function(){return c}));var n=i(205),o=i(52),r=i(15),s=i(60),a=i(35);function l(e){if(e)return"string"==typeof e&&(e=a.a.file(e)),e=Object(s.b)(e)||(e.scheme===o.c.file?e.fsPath:e.path),r.i&&Object(n.c)(e)?c(e):e}function c(e){return Object(n.a)(e)?e.charAt(0).toUpperCase()+e.slice(1):e}},function(e,t,i){"use strict";var n=i(31),o=i.n(n),r=i(86);n=i.n(r),r=i(33);function s(e,t){var i,n=Object.keys(e);return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(e),t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)),n}function a(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?s(Object(i),!0).forEach((function(t){o()(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):s(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}r={name:"Navigator",props:{list:{type:Array,required:!0},index:{type:Number,default:-1},width:{type:String,default:"100"},errorIndexes:{type:Array,default:function(){return[]}}},data:function(){return{currentHoverIndex:-1}},watch:{index:n.a.debounce((function(e){var t,i;this.isClosed&&-1<e&&(t=this.$refs.list,i=this.$refs.items,t&&i&&i.length>e&&(t.scrollTop=i[e].offsetTop))}),500)},computed:a(a({},Object(r.mapState)({})),{},{isClosed:function(){return-1===this.currentHoverIndex},listStyle:function(){var e=this.width||"100";return this.isClosed?{opacity:.5,alignItems:"center",width:"20px",backgroundColor:"transparent"}:{opacity:1,width:"".concat(e,"px"),right:"-10px",transform:"translateX(-10px)",borderLeftWidth:"1px"}}}),methods:{handleHover:function(e){this.currentHoverIndex=e},itemClass:function(e){return this.errorIndexes.includes(e)?["item-error"]:this.currentHoverIndex===e?["item-hover"]:e===this.index?["item-selected"]:void 0}},updated:function(){}},i(591),i=i(37),r=Object(i.a)(r,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"list",staticClass:"main-proxy-navigator",style:e.listStyle,on:{mouseleave:function(t){e.currentHoverIndex=-1}}},e._l(e.list,(function(t,n){return i("div",{key:t,ref:"items",refInFor:!0,staticClass:"clickable item",class:e.itemClass(n),on:{mouseover:function(t){return e.handleHover(n)},click:function(t){return e.$emit("select",n)}}},[e._v("\n    "+e._s(e.isClosed?e.$removeEmoji(t).trim()[0]:t)+"\n  ")])})),0)}),[],!1,null,"298f5540",null),t.a=r.exports},function(e,t,i){"use strict";i.d(t,"a",(function(){return o})),i.d(t,"b",(function(){return r}));class n{constructor(e,t,i){this._colorZoneBrand=void 0,this.from=0|e,this.to=0|t,this.colorId=0|i}static compare(e,t){return e.colorId===t.colorId?e.from===t.from?e.to-t.to:e.from-t.from:e.colorId-t.colorId}}class o{constructor(e,t,i){this._overviewRulerZoneBrand=void 0,this.startLineNumber=e,this.endLineNumber=t,this.color=i,this._colorZone=null}static compare(e,t){return e.color===t.color?e.startLineNumber===t.startLineNumber?e.endLineNumber-t.endLineNumber:e.startLineNumber-t.startLineNumber:e.color<t.color?-1:1}setColorZone(e){this._colorZone=e}getColorZones(){return this._colorZone}}class r{constructor(e){this._getVerticalOffsetForLine=e,this._zones=[],this._colorZonesInvalid=!1,this._lineHeight=0,this._domWidth=0,this._domHeight=0,this._outerHeight=0,this._pixelRatio=1,this._lastAssignedId=0,this._color2Id=Object.create(null),this._id2Color=[]}getId2Color(){return this._id2Color}setZones(e){this._zones=e,this._zones.sort(o.compare)}setLineHeight(e){return this._lineHeight!==e&&(this._lineHeight=e,this._colorZonesInvalid=!0)}setPixelRatio(e){this._pixelRatio=e,this._colorZonesInvalid=!0}getDOMWidth(){return this._domWidth}getCanvasWidth(){return this._domWidth*this._pixelRatio}setDOMWidth(e){return this._domWidth!==e&&(this._domWidth=e,this._colorZonesInvalid=!0)}getDOMHeight(){return this._domHeight}getCanvasHeight(){return this._domHeight*this._pixelRatio}setDOMHeight(e){return this._domHeight!==e&&(this._domHeight=e,this._colorZonesInvalid=!0)}getOuterHeight(){return this._outerHeight}setOuterHeight(e){return this._outerHeight!==e&&(this._outerHeight=e,this._colorZonesInvalid=!0)}resolveColorZones(){var e=this._colorZonesInvalid,t=Math.floor(this._lineHeight),i=Math.floor(this.getCanvasHeight()),o=i/Math.floor(this._outerHeight),r=Math.floor(4*this._pixelRatio/2);let s=[];for(let c=0,d=this._zones.length;c<d;c++){const d=this._zones[c];if(!e)if(l=d.getColorZones()){s.push(l);continue}var a=Math.floor(o*this._getVerticalOffsetForLine(d.startLineNumber)),l=Math.floor(o*(this._getVerticalOffsetForLine(d.endLineNumber)+t));let h=Math.floor((a+l)/2),u=l-h;u<r&&(u=r),h-u<0&&(h=u),h+u>i&&(h=i-u),l=d.color;let g=this._color2Id[l];g||(g=++this._lastAssignedId,this._color2Id[l]=g,this._id2Color[g]=l),l=new n(h-u,h+u,g),d.setColorZone(l),s.push(l)}return this._colorZonesInvalid=!1,s.sort(n.compare),s}}},function(e,t,i){"use strict";i.d(t,"b",(function(){return o})),i.d(t,"a",(function(){return r}));var n=i(15);t=i(0);const o=new(i(10).c)("isWindows",n.i,Object(t.a)("isWindows","Whether the operating system is Windows")),r="inputFocus"},function(e,t){e.exports=require("require-from-string")},function(e,t){e.exports=require("got")},function(e,t){function i(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?e.exports=i=function(e){return typeof e}:e.exports=i=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.default=e.exports,e.exports.__esModule=!0,i(t)}e.exports=i,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var n=i(6);t=i(59);const o={JSONContribution:"base.contributions.json"};i=new class{constructor(){this._onDidChangeSchema=new n.b,this.schemasById={}}registerSchema(e,t){var i;this.schemasById[0<(i=e).length&&"#"===i.charAt(i.length-1)?i.substring(0,i.length-1):i]=t,this._onDidChangeSchema.fire(e)}notifySchemaChanged(e){this._onDidChangeSchema.fire(e)}},t.a.add(o.JSONContribution,i)},function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i=i(21);const n=Object(i.c)("markerDecorationsService")},function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i.d(t,"b",(function(){return o})),i(74),i=i(21);const n=Object(i.c)("contextService");class o{constructor(e,t){this.raw=t,this.uri=e.uri,this.index=e.index,this.name=e.name}toJSON(){return{uri:this.uri,name:this.name,index:this.index}}}},function(e,t,i){"use strict";i.d(t,"a",(function(){return l}));var n=i(233),o={},r={},s=(a.getOrCreate=function(e){return r[e]||(r[e]=new a(e)),r[e]},a.prototype.whenLoaded=function(){return this._lazyLoadPromise},a.prototype.load=function(){var e=this;return this._loadingTriggered||(this._loadingTriggered=!0,o[this._languageId].loader().then((function(t){return e._lazyLoadPromiseResolve(t)}),(function(t){return e._lazyLoadPromiseReject(t)}))),this._lazyLoadPromise},a);function a(e){var t=this;this._languageId=e,this._loadingTriggered=!1,this._lazyLoadPromise=new Promise((function(e,i){t._lazyLoadPromiseResolve=e,t._lazyLoadPromiseReject=i}))}function l(e){var t=e.id;o[t]=e,n.languages.register(e);var i=s.getOrCreate(t);n.languages.setMonarchTokensProvider(t,i.whenLoaded().then((function(e){return e.language}))),n.languages.onLanguage(t,(function(){i.load().then((function(e){n.languages.setLanguageConfiguration(t,e.conf)}))}))}},function(e,t,i){"use strict";i.d(t,"a",(function(){return Vn}));var n=i(215),o=i(5),r=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;0<=a;a--)(o=e[a])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s},s=function(e,t){return function(i,n){t(i,n,e)}};(Dn=class{constructor(e,t){}dispose(){}}).ID="editor.contrib.markerDecorations",Dn=r([s(1,n.a)],Dn),Object(o.l)(Dn.ID,Dn),i(420);var a=i(0),l=i(1),c=i(17),d=i(6),h=i(2),u=i(52),g=i(94),p=i(46),f=i(44),m=i(29),v=i(47),b=i(15),_=i(62),w=i(89),C=i(18),y=i(122);class x{constructor(e,t){this.x=e,this.y=t,this._pageCoordinatesBrand=void 0}toClientCoordinates(){return new S(this.x-l.f.scrollX,this.y-l.f.scrollY)}}class S{constructor(e,t){this.clientX=e,this.clientY=t,this._clientCoordinatesBrand=void 0}toPageCoordinates(){return new x(this.clientX+l.f.scrollX,this.clientY+l.f.scrollY)}}class k{constructor(e,t,i,n){this.x=e,this.y=t,this.width=i,this.height=n,this._editorPagePositionBrand=void 0}}function D(e){return e=l.D(e),new k(e.left,e.top,e.width,e.height)}class L extends w.a{constructor(e,t){super(e),this._editorMouseEventBrand=void 0,this.pos=new x(this.posx,this.posy),this.editorPos=D(t)}}class O{constructor(e){this._editorViewDomNode=e}_create(e){return new L(e,this._editorViewDomNode)}onContextMenu(e,t){return l.i(e,"contextmenu",e=>{t(this._create(e))})}onMouseUp(e,t){return l.i(e,"mouseup",e=>{t(this._create(e))})}onMouseDown(e,t){return l.i(e,"mousedown",e=>{t(this._create(e))})}onMouseLeave(e,t){return l.j(e,e=>{t(this._create(e))})}onMouseMoveThrottled(e,t,i,n){return l.l(e,"mousemove",t,(e,t)=>i(e,this._create(t)),n)}}class E{constructor(e){this._editorViewDomNode=e}_create(e){return new L(e,this._editorViewDomNode)}onPointerUp(e,t){return l.i(e,"pointerup",e=>{t(this._create(e))})}onPointerDown(e,t){return l.i(e,"pointerdown",e=>{t(this._create(e))})}onPointerLeave(e,t){return l.k(e,e=>{t(this._create(e))})}onPointerMoveThrottled(e,t,i,n){return l.l(e,"pointermove",t,(e,t)=>i(e,this._create(t)),n)}}class N extends h.a{constructor(e){super(),this._editorViewDomNode=e,this._globalMouseMoveMonitor=this._register(new y.a),this._keydownListener=null}startMonitoring(e,t,i,n,o){this._keydownListener=l.o(document,"keydown",e=>{e.toKeybinding().isModifierKey()||this._globalMouseMoveMonitor.stopMonitoring(!0,e.browserEvent)},!0),this._globalMouseMoveMonitor.startMonitoring(e,t,(e,t)=>i(e,new L(t,this._editorViewDomNode)),n,e=>{this._keydownListener.dispose(),o(e)})}stopMonitoring(){this._globalMouseMoveMonitor.stopMonitoring(!0)}}class I extends h.a{constructor(){super(),this._shouldRender=!0}shouldRender(){return this._shouldRender}forceShouldRender(){this._shouldRender=!0}setShouldRender(){this._shouldRender=!0}onDidRender(){this._shouldRender=!1}onCompositionStart(e){return!1}onCompositionEnd(e){return!1}onConfigurationChanged(e){return!1}onCursorStateChanged(e){return!1}onDecorationsChanged(e){return!1}onFlushed(e){return!1}onFocusChanged(e){return!1}onLanguageConfigurationChanged(e){return!1}onLineMappingChanged(e){return!1}onLinesChanged(e){return!1}onLinesDeleted(e){return!1}onLinesInserted(e){return!1}onRevealRangeRequest(e){return!1}onScrollChanged(e){return!1}onThemeChanged(e){return!1}onTokensChanged(e){return!1}onTokensColorsChanged(e){return!1}onZonesChanged(e){return!1}handleEvents(e){let t=!1;for(let n=0,o=e.length;n<o;n++){var i=e[n];switch(i.type){case 0:this.onCompositionStart(i)&&(t=!0);break;case 1:this.onCompositionEnd(i)&&(t=!0);break;case 2:this.onConfigurationChanged(i)&&(t=!0);break;case 3:this.onCursorStateChanged(i)&&(t=!0);break;case 4:this.onDecorationsChanged(i)&&(t=!0);break;case 5:this.onFlushed(i)&&(t=!0);break;case 6:this.onFocusChanged(i)&&(t=!0);break;case 7:this.onLanguageConfigurationChanged(i)&&(t=!0);break;case 8:this.onLineMappingChanged(i)&&(t=!0);break;case 9:this.onLinesChanged(i)&&(t=!0);break;case 10:this.onLinesDeleted(i)&&(t=!0);break;case 11:this.onLinesInserted(i)&&(t=!0);break;case 12:this.onRevealRangeRequest(i)&&(t=!0);break;case 13:this.onScrollChanged(i)&&(t=!0);break;case 15:this.onTokensChanged(i)&&(t=!0);break;case 14:this.onThemeChanged(i)&&(t=!0);break;case 16:this.onTokensColorsChanged(i)&&(t=!0);break;case 17:this.onZonesChanged(i)&&(t=!0);break;default:console.info("View received unknown event: "),console.info(i)}}t&&(this._shouldRender=!0)}}class T extends I{constructor(e){super(),this._context=e,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}}class M{static write(e,t){v.a,e.setAttribute("data-mprt",String(t))}static read(e){return null===(e=e.getAttribute("data-mprt"))?0:parseInt(e,10)}static collect(e,t){let i=[],n=0;for(;e&&e!==document.body&&e!==t;)e.nodeType===e.ELEMENT_NODE&&(i[n++]=this.read(e)),e=e.parentElement;const o=new Uint8Array(n);for(let e=0;e<n;e++)o[e]=i[n-e-1];return o}}class A extends class{constructor(e,t){this._restrictedRenderingContextBrand=void 0,this._viewLayout=e,this.viewportData=t,this.scrollWidth=this._viewLayout.getScrollWidth(),this.scrollHeight=this._viewLayout.getScrollHeight(),this.visibleRange=this.viewportData.visibleRange,this.bigNumbersDelta=this.viewportData.bigNumbersDelta,t=this._viewLayout.getCurrentViewport(),this.scrollTop=t.top,this.scrollLeft=t.left,this.viewportWidth=t.width,this.viewportHeight=t.height}getScrolledTopFromAbsoluteTop(e){return e-this.scrollTop}getVerticalOffsetForLineNumber(e){return this._viewLayout.getVerticalOffsetForLineNumber(e)}getDecorationsInViewport(){return this.viewportData.getDecorationsInViewport()}}{constructor(e,t,i){super(e,t),this._renderingContextBrand=void 0,this._viewLines=i}linesVisibleRangesForRange(e,t){return this._viewLines.linesVisibleRangesForRange(e,t)}visibleRangeForPosition(e){return this._viewLines.visibleRangeForPosition(e)}}class P{constructor(e,t,i){this.outsideRenderedLine=e,this.lineNumber=t,this.ranges=i}}class R{constructor(e,t){this._horizontalRangeBrand=void 0,this.left=Math.round(e),this.width=Math.round(t)}static from(e){const t=new Array(e.length);for(let n=0,o=e.length;n<o;n++){var i=e[n];t[n]=new R(i.left,i.width)}return t}toString(){return`[${this.left},${this.width}]`}}class F{constructor(e,t){this._floatHorizontalRangeBrand=void 0,this.left=e,this.width=t}toString(){return`[${this.left},${this.width}]`}static compare(e,t){return e.left-t.left}}class j{constructor(e,t){this.outsideRenderedLine=e,this.originalLeft=t,this.left=Math.round(this.originalLeft)}}class B{constructor(e,t){this.outsideRenderedLine=e,this.ranges=t}}class W{static _createRange(){return this._handyReadyRange||(this._handyReadyRange=document.createRange()),this._handyReadyRange}static _detachRange(e,t){e.selectNodeContents(t)}static _readClientRects(e,t,i,n,o){const r=this._createRange();try{return r.setStart(e,t),r.setEnd(i,n),r.getClientRects()}catch(e){return null}finally{this._detachRange(r,o)}}static _mergeAdjacentRanges(e){if(1===e.length)return e;e.sort(F.compare);let t=[],i=0,n=e[0];for(let r=1,s=e.length;r<s;r++){var o=e[r];n.left+n.width+.9>=o.left?n.width=Math.max(n.width,o.left+o.width-n.left):(t[i++]=n,n=o)}return t[i++]=n,t}static _createHorizontalRangesFromClientRects(e,t){if(!e||0===e.length)return null;const i=[];for(let o=0,r=e.length;o<r;o++){var n=e[o];i[o]=new F(Math.max(0,n.left-t),n.width)}return this._mergeAdjacentRanges(i)}static readHorizontalRanges(e,t,i,n,o,r,s){var a=e.children.length-1;if(a<0)return null;if((t=Math.min(a,Math.max(0,t)))===(n=Math.min(a,Math.max(0,n)))&&i===o&&0===i&&!e.children[t].firstChild){const i=e.children[t].getClientRects();return this._createHorizontalRangesFromClientRects(i,r)}t!==n&&0<n&&0===o&&(n--,o=1073741824);let l=e.children[t].firstChild,c=e.children[n].firstChild;if(l&&c||(!l&&0===i&&0<t&&(l=e.children[t-1].firstChild,i=1073741824),!c&&0===o&&0<n&&(c=e.children[n-1].firstChild,o=1073741824)),!l||!c)return null;i=Math.min(l.textContent.length,Math.max(0,i)),o=Math.min(c.textContent.length,Math.max(0,o));const d=this._readClientRects(l,i,c,o,s);return this._createHorizontalRangesFromClientRects(d,r)}}var V=i(160),z=i(115),H=i(133),U=i(34);const $=!!b.g||!(b.d||f.g||f.h);let K=!0;class q{constructor(e,t){this._domNode=e,this._clientRectDeltaLeft=0,this._clientRectDeltaLeftRead=!1,this.endNode=t}get clientRectDeltaLeft(){return this._clientRectDeltaLeftRead||(this._clientRectDeltaLeftRead=!0,this._clientRectDeltaLeft=this._domNode.getBoundingClientRect().left),this._clientRectDeltaLeft}}class G{constructor(e,t){this.themeType=t;const i=e.options;e=i.get(43),this.renderWhitespace=i.get(87),this.renderControlCharacters=i.get(82),this.spaceWidth=e.spaceWidth,this.middotWidth=e.middotWidth,this.wsmiddotWidth=e.wsmiddotWidth,this.useMonospaceOptimizations=e.isMonospace&&!i.get(29),this.canUseHalfwidthRightwardsArrow=e.canUseHalfwidthRightwardsArrow,this.lineHeight=i.get(58),this.stopRenderingLineAfter=i.get(104),this.fontLigatures=i.get(44)}equals(e){return this.themeType===e.themeType&&this.renderWhitespace===e.renderWhitespace&&this.renderControlCharacters===e.renderControlCharacters&&this.spaceWidth===e.spaceWidth&&this.middotWidth===e.middotWidth&&this.wsmiddotWidth===e.wsmiddotWidth&&this.useMonospaceOptimizations===e.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===e.canUseHalfwidthRightwardsArrow&&this.lineHeight===e.lineHeight&&this.stopRenderingLineAfter===e.stopRenderingLineAfter&&this.fontLigatures===e.fontLigatures}}class Y{constructor(e){this._options=e,this._isMaybeInvalid=!0,this._renderedViewLine=null}getDomNode(){return this._renderedViewLine&&this._renderedViewLine.domNode?this._renderedViewLine.domNode.domNode:null}setDomNode(e){if(!this._renderedViewLine)throw new Error("I have no rendered view line to set the dom node to...");this._renderedViewLine.domNode=Object(v.b)(e)}onContentChanged(){this._isMaybeInvalid=!0}onTokensChanged(){this._isMaybeInvalid=!0}onDecorationsChanged(){this._isMaybeInvalid=!0}onOptionsChanged(e){this._isMaybeInvalid=!0,this._options=e}onSelectionChanged(){return(this._options.themeType===H.a.HIGH_CONTRAST||"selection"===this._options.renderWhitespace)&&(this._isMaybeInvalid=!0)}renderLine(e,t,i,n){if(!1===this._isMaybeInvalid)return!1;this._isMaybeInvalid=!1;var o,r,s=i.getViewLineRenderingData(e),a=this._options;const l=V.a.filter(s.inlineDecorations,e,s.minColumn,s.maxColumn);let c=null;if(a.themeType===H.a.HIGH_CONTRAST||"selection"===this._options.renderWhitespace)for(const t of i.selections)t.endLineNumber<e||t.startLineNumber>e||(o=t.startLineNumber===e?t.startColumn:s.minColumn)<(r=t.endLineNumber===e?t.endColumn:s.maxColumn)&&(a.themeType===H.a.HIGH_CONTRAST||"selection"!==this._options.renderWhitespace?l.push(new V.a(o,r,"inline-selected-text",0)):(c=c||[],c.push(new z.b(o-1,r-1))));const d=new z.c(a.useMonospaceOptimizations,a.canUseHalfwidthRightwardsArrow,s.content,s.continuesWithWrappedLine,s.isBasicASCII,s.containsRTL,s.minColumn-1,s.tokens,l,s.tabSize,s.startVisibleColumn,a.spaceWidth,a.middotWidth,a.wsmiddotWidth,a.stopRenderingLineAfter,a.renderWhitespace,a.renderControlCharacters,a.fontLigatures!==U.e.OFF,c);if(this._renderedViewLine&&this._renderedViewLine.input.equals(d))return!1;n.appendASCIIString('<div style="top:'),n.appendASCIIString(String(t)),n.appendASCIIString("px;height:"),n.appendASCIIString(String(this._options.lineHeight)),n.appendASCIIString('px;" class="'),n.appendASCIIString(Y.CLASS_NAME),n.appendASCIIString('">'),t=Object(z.d)(d,n),n.appendASCIIString("</div>");let h=null;return K&&$&&s.isBasicASCII&&a.useMonospaceOptimizations&&0===t.containsForeignElements&&s.content.length<300&&d.lineTokens.getCount()<100&&(h=new Z(this._renderedViewLine?this._renderedViewLine.domNode:null,d,t.characterMapping)),h=h||J(this._renderedViewLine?this._renderedViewLine.domNode:null,d,t.characterMapping,t.containsRTL,t.containsForeignElements),this._renderedViewLine=h,!0}layoutLine(e,t){this._renderedViewLine&&this._renderedViewLine.domNode&&(this._renderedViewLine.domNode.setTop(t),this._renderedViewLine.domNode.setHeight(this._options.lineHeight))}getWidth(){return this._renderedViewLine?this._renderedViewLine.getWidth():0}getWidthIsFast(){return!this._renderedViewLine||this._renderedViewLine.getWidthIsFast()}needsMonospaceFontCheck(){return!!this._renderedViewLine&&this._renderedViewLine instanceof Z}monospaceAssumptionsAreValid(){return this._renderedViewLine&&this._renderedViewLine instanceof Z?this._renderedViewLine.monospaceAssumptionsAreValid():K}onMonospaceAssumptionsInvalidated(){this._renderedViewLine&&this._renderedViewLine instanceof Z&&(this._renderedViewLine=this._renderedViewLine.toSlowRenderedLine())}getVisibleRangesForRange(e,t,i,n){if(!this._renderedViewLine)return null;t|=0,i|=0,t=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,t)),i=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,i));var o=0|this._renderedViewLine.input.stopRenderingLineAfter;let r=-1!=o&&1+o<t&&1+o<i;return(n=this._renderedViewLine.getVisibleRangesForRange(e,t=-1!=o&&1+o<t?1+o:t,i=-1!=o&&1+o<i?1+o:i,n))&&0<n.length?new B(r,n):null}getColumnOfNodeOffset(e,t,i){return this._renderedViewLine?this._renderedViewLine.getColumnOfNodeOffset(e,t,i):1}}Y.CLASS_NAME="view-line";class Z{constructor(e,t,i){this.domNode=e,this.input=t,this._characterMapping=i,this._charWidth=t.spaceWidth}getWidth(){return Math.round(this._getCharPosition(this._characterMapping.length))}getWidthIsFast(){return!0}monospaceAssumptionsAreValid(){if(!this.domNode)return K;var e=this.getWidth(),t=this.domNode.domNode.firstChild.offsetWidth;return 2<=Math.abs(e-t)&&(console.warn("monospace assumptions have been violated, therefore disabling monospace optimizations!"),K=!1),K}toSlowRenderedLine(){return J(this.domNode,this.input,this._characterMapping,!1,0)}getVisibleRangesForRange(e,t,i,n){return t=this._getCharPosition(t),i=this._getCharPosition(i),[new F(t,i-t)]}_getCharPosition(e){return e=this._characterMapping.getAbsoluteOffset(e),this._charWidth*e}getColumnOfNodeOffset(e,t,i){var n=t.textContent.length;let o=-1;for(;t;)t=t.previousSibling,o++;return this._characterMapping.getColumn(new z.a(o,i),n)}}class X{constructor(e,t,i,n,o){if(this.domNode=e,this.input=t,this._characterMapping=i,this._isWhitespaceOnly=/^\s*$/.test(t.lineContent),this._containsForeignElements=o,this._cachedWidth=-1,this._pixelOffsetCache=null,!n||0===this._characterMapping.length){this._pixelOffsetCache=new Float32Array(Math.max(2,this._characterMapping.length+1));for(let e=0,t=this._characterMapping.length;e<=t;e++)this._pixelOffsetCache[e]=-1}}_getReadingTarget(e){return e.domNode.firstChild}getWidth(){return this.domNode?(-1===this._cachedWidth&&(this._cachedWidth=this._getReadingTarget(this.domNode).offsetWidth),this._cachedWidth):0}getWidthIsFast(){return-1!==this._cachedWidth}getVisibleRangesForRange(e,t,i,n){return this.domNode?null===this._pixelOffsetCache?this._readVisibleRangesForRange(this.domNode,e,t,i,n):-1===(t=this._readPixelOffset(this.domNode,e,t,n))||-1===(n=this._readPixelOffset(this.domNode,e,i,n))?null:[new F(t,n-t)]:null}_readVisibleRangesForRange(e,t,i,n,o){return i!==n?this._readRawVisibleRangesForRange(e,i,n,o):-1===(o=this._readPixelOffset(e,t,i,o))?null:[new F(o,0)]}_readPixelOffset(e,t,i,n){if(0===this._characterMapping.length){if(0===this._containsForeignElements)return 0;if(2===this._containsForeignElements)return 0;if(1===this._containsForeignElements)return this.getWidth();var o=this._getReadingTarget(e);return o.firstChild?o.firstChild.offsetWidth:0}return null===this._pixelOffsetCache?this._actualReadPixelOffset(e,t,i,n):-1!==(o=this._pixelOffsetCache[i])?o:(n=this._actualReadPixelOffset(e,t,i,n),this._pixelOffsetCache[i]=n)}_actualReadPixelOffset(e,t,i,n){if(0===this._characterMapping.length){const t=W.readHorizontalRanges(this._getReadingTarget(e),0,0,0,0,n.clientRectDeltaLeft,n.endNode);return t&&0!==t.length?t[0].left:-1}if(i===this._characterMapping.length&&this._isWhitespaceOnly&&0===this._containsForeignElements)return this.getWidth();var o=this._characterMapping.getDomPosition(i);const r=W.readHorizontalRanges(this._getReadingTarget(e),o.partIndex,o.charIndex,o.partIndex,o.charIndex,n.clientRectDeltaLeft,n.endNode);return r&&0!==r.length?(n=r[0].left,this.input.isBasicASCII&&(i=this._characterMapping.getAbsoluteOffset(i),i=Math.round(this.input.spaceWidth*i),Math.abs(i-n)<=1)?i:n):-1}_readRawVisibleRangesForRange(e,t,i,n){return 1===t&&i===this._characterMapping.length?[new F(0,this.getWidth())]:(t=this._characterMapping.getDomPosition(t),i=this._characterMapping.getDomPosition(i),W.readHorizontalRanges(this._getReadingTarget(e),t.partIndex,t.charIndex,i.partIndex,i.charIndex,n.clientRectDeltaLeft,n.endNode))}getColumnOfNodeOffset(e,t,i){var n=t.textContent.length;let o=-1;for(;t;)t=t.previousSibling,o++;return this._characterMapping.getColumn(new z.a(o,i),n)}}class Q extends X{_readVisibleRangesForRange(e,t,i,n,o){var r=super._readVisibleRangesForRange(e,t,i,n,o);if(!r||0===r.length||i===n||1===i&&n===this._characterMapping.length)return r;if(!this.input.containsRTL&&-1!==(o=this._readPixelOffset(e,t,n,o))){const e=r[r.length-1];e.left<o&&(e.width=o-e.left)}return r}}const J=f.j?function(e,t,i,n,o){return new Q(e,t,i,n,o)}:function(e,t,i,n,o){return new X(e,t,i,n,o)};var ee,te=i(12),ie=i(3),ne=i(26),oe=i(238);class re{constructor(e=null){this.hitTarget=e,this.type=0}}class se{constructor(e,t,i){this.position=e,this.spanNode=t,this.injectedText=i,this.type=1}}(ee||(ee={})).createFromDOMInfo=function(e,t,i){return(i=e.getPositionFromDOMInfo(t,i))?new se(i,t,null):new re(t)};class ae{constructor(e,t){this.lastViewCursorsRenderData=e,this.lastTextareaPosition=t}}class le{constructor(e,t,i=0,n=null,o=null,r=null){this.element=e,this.type=t,this.mouseColumn=i,this.position=n,!o&&n&&(o=new ie.a(n.lineNumber,n.column,n.lineNumber,n.column)),this.range=o,this.detail=r}static _typeToString(e){return 1===e?"TEXTAREA":2===e?"GUTTER_GLYPH_MARGIN":3===e?"GUTTER_LINE_NUMBERS":4===e?"GUTTER_LINE_DECORATIONS":5===e?"GUTTER_VIEW_ZONE":6===e?"CONTENT_TEXT":7===e?"CONTENT_EMPTY":8===e?"CONTENT_VIEW_ZONE":9===e?"CONTENT_WIDGET":10===e?"OVERVIEW_RULER":11===e?"SCROLLBAR":12===e?"OVERLAY_WIDGET":"UNKNOWN"}static toString(e){return this._typeToString(e.type)+": "+e.position+" - "+e.range+" - "+e.detail}toString(){return le.toString(this)}}class ce{static isTextArea(e){return 2===e.length&&3===e[0]&&6===e[1]}static isChildOfViewLines(e){return 4<=e.length&&3===e[0]&&7===e[3]}static isStrictChildOfViewLines(e){return 4<e.length&&3===e[0]&&7===e[3]}static isChildOfScrollableElement(e){return 2<=e.length&&3===e[0]&&5===e[1]}static isChildOfMinimap(e){return 2<=e.length&&3===e[0]&&8===e[1]}static isChildOfContentWidgets(e){return 4<=e.length&&3===e[0]&&1===e[3]}static isChildOfOverflowingContentWidgets(e){return 1<=e.length&&2===e[0]}static isChildOfOverlayWidgets(e){return 2<=e.length&&3===e[0]&&4===e[1]}}class de{constructor(e,t,i){this.model=e.model;const n=e.configuration.options;this.layoutInfo=n.get(129),this.viewDomNode=t.viewDomNode,this.lineHeight=n.get(58),this.stickyTabStops=n.get(103),this.typicalHalfwidthCharacterWidth=n.get(43).typicalHalfwidthCharacterWidth,this.lastRenderData=i,this._context=e,this._viewHelper=t}getZoneAtCoord(e){return de.getZoneAtCoord(this._context,e)}static getZoneAtCoord(e,t){var i=e.viewLayout.getWhitespaceAtVerticalOffset(t);if(i){var n=i.verticalOffset+i.height/2,o=e.model.getLineCount();let r,s=null,a=null;return i.afterLineNumber!==o&&(a=new te.a(i.afterLineNumber+1,1)),0<i.afterLineNumber&&(s=new te.a(i.afterLineNumber,e.model.getLineMaxColumn(i.afterLineNumber))),r=null===a||null!==s&&t<n?s:a,{viewZoneId:i.id,afterLineNumber:i.afterLineNumber,positionBefore:s,positionAfter:a,position:r}}return null}getFullLineRangeAtCoord(e){if(this._context.viewLayout.isAfterLines(e)){const e=this._context.model.getLineCount(),t=this._context.model.getLineMaxColumn(e);return{range:new ie.a(e,t,e,t),isAfterLines:!0}}const t=this._context.viewLayout.getLineNumberAtVerticalOffset(e),i=this._context.model.getLineMaxColumn(t);return{range:new ie.a(t,1,t,i),isAfterLines:!1}}getLineNumberAtVerticalOffset(e){return this._context.viewLayout.getLineNumberAtVerticalOffset(e)}isAfterLines(e){return this._context.viewLayout.isAfterLines(e)}isInTopPadding(e){return this._context.viewLayout.isInTopPadding(e)}isInBottomPadding(e){return this._context.viewLayout.isInBottomPadding(e)}getVerticalOffsetForLineNumber(e){return this._context.viewLayout.getVerticalOffsetForLineNumber(e)}findAttribute(e,t){return de._findAttribute(e,t,this._viewHelper.viewDomNode)}static _findAttribute(e,t,i){for(;e&&e!==document.body;){if(e.hasAttribute&&e.hasAttribute(t))return e.getAttribute(t);if(e===i)return null;e=e.parentNode}return null}getLineWidth(e){return this._viewHelper.getLineWidth(e)}visibleRangeForPosition(e,t){return this._viewHelper.visibleRangeForPosition(e,t)}getPositionFromDOMInfo(e,t){return this._viewHelper.getPositionFromDOMInfo(e,t)}getCurrentScrollTop(){return this._context.viewLayout.getCurrentScrollTop()}getCurrentScrollLeft(){return this._context.viewLayout.getCurrentScrollLeft()}}class he extends class{constructor(e,t,i){this.editorPos=t,this.pos=i,this.mouseVerticalOffset=Math.max(0,e.getCurrentScrollTop()+i.y-t.y),this.mouseContentHorizontalOffset=e.getCurrentScrollLeft()+i.x-t.x-e.layoutInfo.contentLeft,this.isInMarginArea=i.x-t.x<e.layoutInfo.contentLeft&&i.x-t.x>=e.layoutInfo.glyphMarginLeft,this.isInContentArea=!this.isInMarginArea,this.mouseColumn=Math.max(0,pe._getMouseColumn(this.mouseContentHorizontalOffset,e.typicalHalfwidthCharacterWidth))}}{constructor(e,t,i,n){super(e,t,i),this._ctx=e,n?(this.target=n,this.targetPath=M.collect(n,e.viewDomNode)):(this.target=null,this.targetPath=new Uint8Array(0))}toString(){return`pos(${this.pos.x},${this.pos.y}), editorPos(${this.editorPos.x},${this.editorPos.y}), mouseVerticalOffset: ${this.mouseVerticalOffset}, mouseContentHorizontalOffset: ${this.mouseContentHorizontalOffset}\n\ttarget: ${this.target?this.target.outerHTML:null}`}fulfill(e,t=null,i=null,n=null){let o=this.mouseColumn;return t&&t.column<this._ctx.model.getLineMaxColumn(t.lineNumber)&&(o=ne.a.visibleColumnFromColumn(this._ctx.model.getLineContent(t.lineNumber),t.column,this._ctx.model.getTextModelOptions().tabSize)+1),new le(this.target,e,o,t,i,n)}withTarget(e){return new he(this._ctx,this.editorPos,this.pos,e)}}const ue={isAfterLines:!0};function ge(e){return{isAfterLines:!1,horizontalDistanceToText:e}}class pe{constructor(e,t){this._context=e,this._viewHelper=t}mouseTargetIsWidget(e){return e=e.target,e=M.collect(e,this._viewHelper.viewDomNode),!(!ce.isChildOfContentWidgets(e)&&!ce.isChildOfOverflowingContentWidgets(e)&&!ce.isChildOfOverlayWidgets(e))}createMouseTarget(e,t,i,n){e=new de(this._context,this._viewHelper,e);const o=new he(e,t,i,n);try{return pe._createMouseTarget(e,o,!1)}catch(e){return o.fulfill(0)}}static _createMouseTarget(e,t,i){if(null===t.target){if(i)return t.fulfill(0);var n=pe._doHitTest(e,t);return 1===n.type?pe.createMouseTargetFromHitTestPosition(e,t,n.spanNode,n.position,n.injectedText):this._createMouseTarget(e,t.withTarget(n.hitTarget),!0)}return n=t,pe._hitTestContentWidget(e,n)||pe._hitTestOverlayWidget(e,n)||pe._hitTestMinimap(e,n)||pe._hitTestScrollbarSlider(e,n)||pe._hitTestViewZone(e,n)||pe._hitTestMargin(e,n)||pe._hitTestViewCursor(e,n)||pe._hitTestTextArea(e,n)||pe._hitTestViewLines(e,n,i)||pe._hitTestScrollbar(e,n)||t.fulfill(0)}static _hitTestContentWidget(e,t){return ce.isChildOfContentWidgets(t.targetPath)||ce.isChildOfOverflowingContentWidgets(t.targetPath)?(e=e.findAttribute(t.target,"widgetId"))?t.fulfill(9,null,null,e):t.fulfill(0):null}static _hitTestOverlayWidget(e,t){return ce.isChildOfOverlayWidgets(t.targetPath)?(e=e.findAttribute(t.target,"widgetId"))?t.fulfill(12,null,null,e):t.fulfill(0):null}static _hitTestViewCursor(e,t){if(t.target)for(const i of e.lastRenderData.lastViewCursorsRenderData)if(t.target===i.domNode)return t.fulfill(6,i.position,null,{mightBeForeignElement:!1});if(t.isInContentArea){var i=e.lastRenderData.lastViewCursorsRenderData,n=t.mouseContentHorizontalOffset,o=t.mouseVerticalOffset;for(const s of i)if(!(n<s.contentLeft||n>s.contentLeft+s.width)){var r=e.getVerticalOffsetForLineNumber(s.position.lineNumber);if(r<=o&&o<=r+s.height)return t.fulfill(6,s.position,null,{mightBeForeignElement:!1})}}return null}static _hitTestViewZone(e,t){var i=e.getZoneAtCoord(t.mouseVerticalOffset);return i?(e=t.isInContentArea?8:5,t.fulfill(e,i.position,null,i)):null}static _hitTestTextArea(e,t){return ce.isTextArea(t.targetPath)?e.lastRenderData.lastTextareaPosition?t.fulfill(6,e.lastRenderData.lastTextareaPosition,null,{mightBeForeignElement:!1}):t.fulfill(1,e.lastRenderData.lastTextareaPosition):null}static _hitTestMargin(e,t){if(t.isInMarginArea){const r=e.getFullLineRangeAtCoord(t.mouseVerticalOffset);var i=r.range.getStartPosition(),n=Math.abs(t.pos.x-t.editorPos.x),o={isAfterLines:r.isAfterLines,glyphMarginLeft:e.layoutInfo.glyphMarginLeft,glyphMarginWidth:e.layoutInfo.glyphMarginWidth,lineNumbersWidth:e.layoutInfo.lineNumbersWidth,offsetX:n};return(n-=e.layoutInfo.glyphMarginLeft)<=e.layoutInfo.glyphMarginWidth?t.fulfill(2,i,r.range,o):(n-=e.layoutInfo.glyphMarginWidth)<=e.layoutInfo.lineNumbersWidth?t.fulfill(3,i,r.range,o):(e.layoutInfo.lineNumbersWidth,t.fulfill(4,i,r.range,o))}return null}static _hitTestViewLines(e,t,i){if(!ce.isChildOfViewLines(t.targetPath))return null;if(e.isInTopPadding(t.mouseVerticalOffset))return t.fulfill(7,new te.a(1,1),null,ue);if(e.isAfterLines(t.mouseVerticalOffset)||e.isInBottomPadding(t.mouseVerticalOffset)){var n=e.model.getLineCount(),o=e.model.getLineMaxColumn(n);return t.fulfill(7,new te.a(n,o),null,ue)}if(i){if(ce.isStrictChildOfViewLines(t.targetPath)){if(i=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset),0===e.model.getLineLength(i)){var r=e.getLineWidth(i);r=ge(t.mouseContentHorizontalOffset-r);return t.fulfill(7,new te.a(i,1),null,r)}if(r=e.getLineWidth(i),t.mouseContentHorizontalOffset>=r){var s=ge(t.mouseContentHorizontalOffset-r);i=new te.a(i,e.model.getLineMaxColumn(i));return t.fulfill(7,i,null,s)}}return t.fulfill(0)}return 1===(s=pe._doHitTest(e,t)).type?pe.createMouseTargetFromHitTestPosition(e,t,s.spanNode,s.position,s.injectedText):this._createMouseTarget(e,t.withTarget(s.hitTarget),!0)}static _hitTestMinimap(e,t){if(ce.isChildOfMinimap(t.targetPath)){var i=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset);e=e.model.getLineMaxColumn(i);return t.fulfill(11,new te.a(i,e))}return null}static _hitTestScrollbarSlider(e,t){if(ce.isChildOfScrollableElement(t.targetPath)&&t.target&&1===t.target.nodeType){var i=t.target.className;if(i&&/\b(slider|scrollbar)\b/.test(i))return i=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset),e=e.model.getLineMaxColumn(i),t.fulfill(11,new te.a(i,e))}return null}static _hitTestScrollbar(e,t){if(ce.isChildOfScrollableElement(t.targetPath)){var i=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset);e=e.model.getLineMaxColumn(i);return t.fulfill(11,new te.a(i,e))}return null}getMouseColumn(e,t){const i=this._context.configuration.options;var n=i.get(129);n=this._context.viewLayout.getCurrentScrollLeft()+t.x-e.x-n.contentLeft;return pe._getMouseColumn(n,i.get(43).typicalHalfwidthCharacterWidth)}static _getMouseColumn(e,t){return e<0?1:Math.round(e/t)+1}static createMouseTargetFromHitTestPosition(e,t,i,n,o){var r=n.lineNumber,s=n.column,a=e.getLineWidth(r);if(t.mouseContentHorizontalOffset>a){var l=ge(t.mouseContentHorizontalOffset-a);return t.fulfill(7,n,null,l)}const c=e.visibleRangeForPosition(r,s);if(!c)return t.fulfill(0,n);if(l=c.left,t.mouseContentHorizontalOffset===l)return t.fulfill(6,n,null,{mightBeForeignElement:!!o});const d=[];if(d.push({offset:c.left,column:s}),1<s){const t=e.visibleRangeForPosition(r,s-1);t&&d.push({offset:t.left,column:s-1})}if(s<e.model.getLineMaxColumn(r)){const t=e.visibleRangeForPosition(r,s+1);t&&d.push({offset:t.left,column:s+1})}d.sort((e,t)=>e.offset-t.offset);s=t.pos.toClientCoordinates();var h=(i=i.getBoundingClientRect()).left<=s.clientX&&s.clientX<=i.right;for(let e=1;e<d.length;e++){var u=d[e-1],g=d[e];if(u.offset<=t.mouseContentHorizontalOffset&&t.mouseContentHorizontalOffset<=g.offset)return g=new ie.a(r,u.column,r,g.column),t.fulfill(6,n,g,{mightBeForeignElement:!h||!!o})}return t.fulfill(6,n,null,{mightBeForeignElement:!h||!!o})}static _doHitTestWithCaretRangeFromPoint(e,t){var i=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset);i=e.getVerticalOffsetForLineNumber(i)+Math.floor(e.lineHeight/2);let n=t.pos.y+(i-t.mouseVerticalOffset);n<=t.editorPos.y&&(n=t.editorPos.y+1),n>=t.editorPos.y+e.layoutInfo.height&&(n=t.editorPos.y+e.layoutInfo.height-1);const o=new x(t.pos.x,n);return 1===(i=this._actualDoHitTestWithCaretRangeFromPoint(e,o.toClientCoordinates())).type?i:this._actualDoHitTestWithCaretRangeFromPoint(e,t.pos.toClientCoordinates())}static _actualDoHitTestWithCaretRangeFromPoint(e,t){const i=l.F(e.viewDomNode);let n;if(n=i?void 0===i.caretRangeFromPoint?function(e,t,i){const n=document.createRange();let o=e.elementFromPoint(t,i);if(null!==o){for(;o&&o.firstChild&&o.firstChild.nodeType!==o.firstChild.TEXT_NODE&&o.lastChild&&o.lastChild.firstChild;)o=o.lastChild;i=o.getBoundingClientRect();var r,s=window.getComputedStyle(o,null).getPropertyValue("font");const e=o.innerText;let a=i.left,l=0;if(t>i.left+i.width)l=e.length;else{const i=fe.getInstance();for(let n=0;n<e.length+1;n++){if(a+=r=i.getCharWidth(e.charAt(n),s)/2,t<a){l=n;break}a+=r}}n.setStart(o.firstChild,l),n.setEnd(o.firstChild,l)}return n}(i,t.clientX,t.clientY):i.caretRangeFromPoint(t.clientX,t.clientY):document.caretRangeFromPoint(t.clientX,t.clientY),!n||!n.startContainer)return new re;var o=n.startContainer;if(o.nodeType===o.TEXT_NODE){var r=o.parentNode;return((t=(t=r?r.parentNode:null)?t.parentNode:null)&&t.nodeType===t.ELEMENT_NODE?t.className:null)===Y.CLASS_NAME?ee.createFromDOMInfo(e,r,n.startOffset):new re(o.parentNode)}return o.nodeType!==o.ELEMENT_NODE?new re:((r=(r=o.parentNode)?r.parentNode:null)&&r.nodeType===r.ELEMENT_NODE?r.className:null)===Y.CLASS_NAME?ee.createFromDOMInfo(e,o,o.textContent.length):new re(o)}static _doHitTestWithCaretPositionFromPoint(e,t){if((t=document.caretPositionFromPoint(t.clientX,t.clientY)).offsetNode.nodeType===t.offsetNode.TEXT_NODE){var i,n=(i=t.offsetNode.parentNode)?i.parentNode:null;return((i=n?n.parentNode:null)&&i.nodeType===i.ELEMENT_NODE?i.className:null)===Y.CLASS_NAME?ee.createFromDOMInfo(e,t.offsetNode.parentNode,t.offset):new re(t.offsetNode.parentNode)}if(t.offsetNode.nodeType===t.offsetNode.ELEMENT_NODE)if(i=(n=t.offsetNode.parentNode)&&n.nodeType===n.ELEMENT_NODE?n.className:null,n=(n=n?n.parentNode:null)&&n.nodeType===n.ELEMENT_NODE?n.className:null,i===Y.CLASS_NAME){if(i=t.offsetNode.childNodes[Math.min(t.offset,t.offsetNode.childNodes.length-1)])return ee.createFromDOMInfo(e,i,0)}else if(n===Y.CLASS_NAME)return ee.createFromDOMInfo(e,t.offsetNode,0);return new re(t.offsetNode)}static _snapToSoftTabBoundary(e,t){var i=t.getLineContent(e.lineNumber),{tabSize:t}=t.getTextModelOptions();return-1!==(t=oe.a.atomicPosition(i,e.column-1,t,2))?new te.a(e.lineNumber,t+1):e}static _doHitTest(e,t){let i=new re;if("function"==typeof document.caretRangeFromPoint?i=this._doHitTestWithCaretRangeFromPoint(e,t):document.caretPositionFromPoint&&(i=this._doHitTestWithCaretPositionFromPoint(e,t.pos.toClientCoordinates())),1===i.type){t=e.model.getInjectedTextAt(i.position);const n=e.model.normalizePosition(i.position,2);!t&&n.equals(i.position)||(i=new se(n,i.spanNode,t))}return 1===i.type&&e.stickyTabStops&&(i=new se(this._snapToSoftTabBoundary(i.position,e.model),i.spanNode,i.injectedText)),i}}class fe{constructor(){this._cache={},this._canvas=document.createElement("canvas")}static getInstance(){return fe._INSTANCE||(fe._INSTANCE=new fe),fe._INSTANCE}getCharWidth(e,t){var i=e+t;if(this._cache[i])return this._cache[i];const n=this._canvas.getContext("2d");return n.font=t,e=n.measureText(e).width,this._cache[i]=e}}fe._INSTANCE=null;var me=i(164);function ve(e){return function(t,i){let n=!1;return e&&(n=e.mouseTargetIsWidget(i)),n||i.preventDefault(),i}}class be extends I{constructor(e,t,i){super(),this._context=e,this.viewController=t,this.viewHelper=i,this.mouseTargetFactory=new pe(this._context,i),this._mouseDownOperation=this._register(new _e(this._context,this.viewController,this.viewHelper,(e,t)=>this._createMouseTarget(e,t),e=>this._getMouseColumn(e))),this.lastMouseLeaveTime=-1,this._height=this._context.configuration.options.get(129).height;const n=new O(this.viewHelper.viewDomNode);this._register(n.onContextMenu(this.viewHelper.viewDomNode,e=>this._onContextMenu(e,!0))),this._register(n.onMouseMoveThrottled(this.viewHelper.viewDomNode,e=>this._onMouseMove(e),ve(this.mouseTargetFactory),be.MOUSE_MOVE_MINIMUM_TIME)),this._register(n.onMouseUp(this.viewHelper.viewDomNode,e=>this._onMouseUp(e))),this._register(n.onMouseLeave(this.viewHelper.viewDomNode,e=>this._onMouseLeave(e))),this._register(n.onMouseDown(this.viewHelper.viewDomNode,e=>this._onMouseDown(e))),this._register(l.i(this.viewHelper.viewDomNode,l.d.MOUSE_WHEEL,e=>{if(this.viewController.emitMouseWheel(e),this._context.configuration.options.get(67)){const i=new w.b(e);var t;(b.f?(e.metaKey||e.ctrlKey)&&!e.shiftKey&&!e.altKey:e.ctrlKey&&!e.metaKey&&!e.shiftKey&&!e.altKey)&&(t=me.a.getZoomLevel(),e=0<i.deltaY?1:-1,me.a.setZoomLevel(t+e),i.preventDefault(),i.stopPropagation())}},{capture:!0,passive:!1})),this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}onConfigurationChanged(e){return e.hasChanged(129)&&(e=this._context.configuration.options.get(129).height,this._height!==e&&(this._height=e,this._mouseDownOperation.onHeightChanged())),!1}onCursorStateChanged(e){return this._mouseDownOperation.onCursorStateChanged(e),!1}onFocusChanged(e){return!1}onScrollChanged(e){return this._mouseDownOperation.onScrollChanged(),!1}getTargetAtClientPoint(e,t){return e=new S(e,t).toPageCoordinates(),t=D(this.viewHelper.viewDomNode),e.y<t.y||e.y>t.y+t.height||e.x<t.x||e.x>t.x+t.width?null:this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),t,e,null)}_createMouseTarget(e,t){let i=e.target;if(!this.viewHelper.viewDomNode.contains(i)){const t=l.F(this.viewHelper.viewDomNode);t&&(i=t.elementsFromPoint(e.posx,e.posy).find(e=>this.viewHelper.viewDomNode.contains(e)))}return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),e.editorPos,e.pos,t?i:null)}_getMouseColumn(e){return this.mouseTargetFactory.getMouseColumn(e.editorPos,e.pos)}_onContextMenu(e,t){this.viewController.emitContextMenu({event:e,target:this._createMouseTarget(e,t)})}_onMouseMove(e){this._mouseDownOperation.isActive()||e.timestamp<this.lastMouseLeaveTime||this.viewController.emitMouseMove({event:e,target:this._createMouseTarget(e,!0)})}_onMouseLeave(e){this.lastMouseLeaveTime=(new Date).getTime(),this.viewController.emitMouseLeave({event:e,target:null})}_onMouseUp(e){this.viewController.emitMouseUp({event:e,target:this._createMouseTarget(e,!0)})}_onMouseDown(e){var t=this._createMouseTarget(e,!0),i=6===t.type||7===t.type,n=2===t.type||3===t.type||4===t.type,o=3===t.type,r=this._context.configuration.options.get(97),s=8===t.type||5===t.type,a=9===t.type;let l=e.leftButton||e.middleButton;b.f&&e.leftButton&&e.ctrlKey&&(l=!1);var c=()=>{e.preventDefault(),this.viewHelper.focusTextArea()};l&&(i||o&&r)?(c(),this._mouseDownOperation.start(t.type,e)):n?e.preventDefault():s?(s=t.detail,this.viewHelper.shouldSuppressMouseDownOnViewZone(s.viewZoneId)&&(c(),this._mouseDownOperation.start(t.type,e),e.preventDefault())):a&&this.viewHelper.shouldSuppressMouseDownOnWidget(t.detail)&&(c(),e.preventDefault()),this.viewController.emitMouseDown({event:e,target:t})}}be.MOUSE_MOVE_MINIMUM_TIME=100;class _e extends h.a{constructor(e,t,i,n,o){super(),this._context=e,this._viewController=t,this._viewHelper=i,this._createMouseTarget=n,this._getMouseColumn=o,this._mouseMoveMonitor=this._register(new N(this._viewHelper.viewDomNode)),this._onScrollTimeout=this._register(new C.g),this._mouseState=new we,this._currentSelection=new m.a(1,1,1,1),this._isActive=!1,this._lastMouseEvent=null}dispose(){super.dispose()}isActive(){return this._isActive}_onMouseDownThenMove(e){this._lastMouseEvent=e,this._mouseState.setModifiers(e);var t=this._findMousePosition(e,!0);t&&(this._mouseState.isDragAndDrop?this._viewController.emitMouseDrag({event:e,target:t}):this._dispatchMouse(t,!0))}start(e,t){if(this._lastMouseEvent=t,this._mouseState.setStartedOnLineNumbers(3===e),this._mouseState.setStartButtons(t),this._mouseState.setModifiers(t),(e=this._findMousePosition(t,!0))&&e.position){this._mouseState.trySetCount(t.detail,e.position),t.detail=this._mouseState.count;const i=this._context.configuration.options;if(!i.get(80)&&i.get(31)&&!i.get(18)&&!this._mouseState.altKey&&t.detail<2&&!this._isActive&&!this._currentSelection.isEmpty()&&6===e.type&&e.position&&this._currentSelection.containsPosition(e.position))return this._mouseState.isDragAndDrop=!0,this._isActive=!0,void this._mouseMoveMonitor.startMonitoring(t.target,t.buttons,ve(null),e=>this._onMouseDownThenMove(e),e=>{var t=this._findMousePosition(this._lastMouseEvent,!0);e&&e instanceof KeyboardEvent?this._viewController.emitMouseDropCanceled():this._viewController.emitMouseDrop({event:this._lastMouseEvent,target:t?this._createMouseTarget(this._lastMouseEvent,!0):null}),this._stop()});this._mouseState.isDragAndDrop=!1,this._dispatchMouse(e,t.shiftKey),this._isActive||(this._isActive=!0,this._mouseMoveMonitor.startMonitoring(t.target,t.buttons,ve(null),e=>this._onMouseDownThenMove(e),()=>this._stop()))}}_stop(){this._isActive=!1,this._onScrollTimeout.cancel()}onHeightChanged(){this._mouseMoveMonitor.stopMonitoring()}onScrollChanged(){this._isActive&&this._onScrollTimeout.setIfNotSet(()=>{var e;!this._lastMouseEvent||(e=this._findMousePosition(this._lastMouseEvent,!1))&&(this._mouseState.isDragAndDrop||this._dispatchMouse(e,!0))},10)}onCursorStateChanged(e){this._currentSelection=e.selections[0]}_getPositionOutsideEditor(e){var t=e.editorPos;const i=this._context.model,n=this._context.viewLayout;var o=this._getMouseColumn(e);if(e.posy<t.y){var r=Math.max(n.getCurrentScrollTop()-(t.y-e.posy),0),s=de.getZoneAtCoord(this._context,r);return s&&(s=this._helpPositionJumpOverViewZone(s))?new le(null,13,o,s):(r=n.getLineNumberAtVerticalOffset(r),new le(null,13,o,new te.a(r,1)))}if(e.posy>t.y+t.height){var a=n.getCurrentScrollTop()+(e.posy-t.y);return(r=de.getZoneAtCoord(this._context,a))&&(r=this._helpPositionJumpOverViewZone(r))?new le(null,13,o,r):(a=n.getLineNumberAtVerticalOffset(a),new le(null,13,o,new te.a(a,i.getLineMaxColumn(a))))}return a=n.getLineNumberAtVerticalOffset(n.getCurrentScrollTop()+(e.posy-t.y)),e.posx<t.x?new le(null,13,o,new te.a(a,1)):e.posx>t.x+t.width?new le(null,13,o,new te.a(a,i.getLineMaxColumn(a))):null}_findMousePosition(e,t){var i=this._getPositionOutsideEditor(e);return i||((e=this._createMouseTarget(e,t)).position?8!==e.type&&5!==e.type||!(t=this._helpPositionJumpOverViewZone(e.detail))?e:new le(e.element,e.type,e.mouseColumn,t,null,e.detail):null)}_helpPositionJumpOverViewZone(e){var t=new te.a(this._currentSelection.selectionStartLineNumber,this._currentSelection.selectionStartColumn);const i=e.positionBefore;return e=e.positionAfter,i&&e?i.isBefore(t)?i:e:null}_dispatchMouse(e,t){e.position&&this._viewController.dispatchMouse({position:e.position,mouseColumn:e.mouseColumn,startedOnLineNumbers:this._mouseState.startedOnLineNumbers,inSelectionMode:t,mouseDownCount:this._mouseState.count,altKey:this._mouseState.altKey,ctrlKey:this._mouseState.ctrlKey,metaKey:this._mouseState.metaKey,shiftKey:this._mouseState.shiftKey,leftButton:this._mouseState.leftButton,middleButton:this._mouseState.middleButton})}}class we{constructor(){this._altKey=!1,this._ctrlKey=!1,this._metaKey=!1,this._shiftKey=!1,this._leftButton=!1,this._middleButton=!1,this._startedOnLineNumbers=!1,this._lastMouseDownPosition=null,this._lastMouseDownPositionEqualCount=0,this._lastMouseDownCount=0,this._lastSetMouseDownCountTime=0,this.isDragAndDrop=!1}get altKey(){return this._altKey}get ctrlKey(){return this._ctrlKey}get metaKey(){return this._metaKey}get shiftKey(){return this._shiftKey}get leftButton(){return this._leftButton}get middleButton(){return this._middleButton}get startedOnLineNumbers(){return this._startedOnLineNumbers}get count(){return this._lastMouseDownCount}setModifiers(e){this._altKey=e.altKey,this._ctrlKey=e.ctrlKey,this._metaKey=e.metaKey,this._shiftKey=e.shiftKey}setStartButtons(e){this._leftButton=e.leftButton,this._middleButton=e.middleButton}setStartedOnLineNumbers(e){this._startedOnLineNumbers=e}trySetCount(e,t){var i=(new Date).getTime();i-this._lastSetMouseDownCountTime>we.CLEAR_MOUSE_DOWN_COUNT_TIME&&(e=1),this._lastSetMouseDownCountTime=i,e>this._lastMouseDownCount+1&&(e=this._lastMouseDownCount+1),this._lastMouseDownPosition&&this._lastMouseDownPosition.equals(t)?this._lastMouseDownPositionEqualCount++:this._lastMouseDownPositionEqualCount=1,this._lastMouseDownPosition=t,this._lastMouseDownCount=Math.min(e,this._lastMouseDownPositionEqualCount)}}we.CLEAR_MOUSE_DOWN_COUNT_TIME=400;var Ce=i(203),ye=i(186);class xe extends be{constructor(e,t,i){super(e,t,i),this._register(_.b.addTarget(this.viewHelper.linesContentDomNode)),this._register(l.i(this.viewHelper.linesContentDomNode,_.a.Tap,e=>this.onTap(e))),this._register(l.i(this.viewHelper.linesContentDomNode,_.a.Change,e=>this.onChange(e))),this._register(l.i(this.viewHelper.linesContentDomNode,_.a.Contextmenu,e=>this._onContextMenu(new L(e,this.viewHelper.viewDomNode),!1))),this._lastPointerType="mouse",this._register(l.i(this.viewHelper.linesContentDomNode,"pointerdown",e=>{e=e.pointerType,this._lastPointerType="mouse"===e?"mouse":"touch"===e?"touch":"pen"}));const n=new E(this.viewHelper.viewDomNode);this._register(n.onPointerMoveThrottled(this.viewHelper.viewDomNode,e=>this._onMouseMove(e),ve(this.mouseTargetFactory),be.MOUSE_MOVE_MINIMUM_TIME)),this._register(n.onPointerUp(this.viewHelper.viewDomNode,e=>this._onMouseUp(e))),this._register(n.onPointerLeave(this.viewHelper.viewDomNode,e=>this._onMouseLeave(e))),this._register(n.onPointerDown(this.viewHelper.viewDomNode,e=>this._onMouseDown(e)))}onTap(e){var t;e.initialTarget&&this.viewHelper.linesContentDomNode.contains(e.initialTarget)&&(e.preventDefault(),this.viewHelper.focusTextArea(),(t=this._createMouseTarget(new L(e,this.viewHelper.viewDomNode),!1)).position&&this.viewController.dispatchMouse({position:t.position,mouseColumn:t.position.column,startedOnLineNumbers:!1,mouseDownCount:e.tapCount,inSelectionMode:!1,altKey:!1,ctrlKey:!1,metaKey:!1,shiftKey:!1,leftButton:!1,middleButton:!1}))}onChange(e){"touch"===this._lastPointerType&&this._context.model.deltaScrollNow(-e.translationX,-e.translationY)}_onMouseDown(e){"touch"!==e.browserEvent.pointerType&&super._onMouseDown(e)}}class Se extends be{constructor(e,t,i){super(e,t,i),this._register(_.b.addTarget(this.viewHelper.linesContentDomNode)),this._register(l.i(this.viewHelper.linesContentDomNode,_.a.Tap,e=>this.onTap(e))),this._register(l.i(this.viewHelper.linesContentDomNode,_.a.Change,e=>this.onChange(e))),this._register(l.i(this.viewHelper.linesContentDomNode,_.a.Contextmenu,e=>this._onContextMenu(new L(e,this.viewHelper.viewDomNode),!1)))}onTap(e){if(e.preventDefault(),this.viewHelper.focusTextArea(),(e=this._createMouseTarget(new L(e,this.viewHelper.viewDomNode),!1)).position){const t=document.createEvent("CustomEvent");t.initEvent(ye.d.Tap,!1,!0),this.viewHelper.dispatchTextAreaEvent(t),this.viewController.moveTo(e.position)}}onChange(e){this._context.model.deltaScrollNow(-e.translationX,-e.translationY)}}class ke extends h.a{constructor(e,t,i){super(),b.c&&Ce.a.pointerEvents?this.handler=this._register(new xe(e,t,i)):window.TouchEvent?this.handler=this._register(new Se(e,t,i)):this.handler=this._register(new be(e,t,i))}getTargetAtClientPoint(e,t){return this.handler.getTargetAtClientPoint(e,t)}}i(422);var De=i(9),Le=i(112);i(424);class Oe extends I{}var Ee=i(45),Ne=i(16);class Ie extends Oe{constructor(e){super(),this._context=e,this._readConfig(),this._lastCursorModelPosition=new te.a(1,1),this._renderResult=null,this._activeLineNumber=1,this._context.addEventHandler(this)}_readConfig(){const e=this._context.configuration.options;this._lineHeight=e.get(58);var t=e.get(59);this._renderLineNumbers=t.renderType,this._renderCustomLineNumbers=t.renderFn,this._renderFinalNewline=e.get(83),t=e.get(129),this._lineNumbersLeft=t.lineNumbersLeft,this._lineNumbersWidth=t.lineNumbersWidth}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){return this._readConfig(),!0}onCursorStateChanged(e){e=e.selections[0].getPosition(),this._lastCursorModelPosition=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(e);let t=!1;return this._activeLineNumber!==e.lineNumber&&(this._activeLineNumber=e.lineNumber,t=!0),2!==this._renderLineNumbers&&3!==this._renderLineNumbers||(t=!0),t}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_getLineRenderLineNumber(e){var t=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(new te.a(e,1));return 1!==t.column?"":(e=t.lineNumber,this._renderCustomLineNumbers?this._renderCustomLineNumbers(e):2!==this._renderLineNumbers?3!==this._renderLineNumbers||this._lastCursorModelPosition.lineNumber===e||e%10==0?String(e):"":0===(t=Math.abs(this._lastCursorModelPosition.lineNumber-e))?'<span class="relative-current-line-number">'+e+"</span>":String(t))}prepareRender(e){if(0!==this._renderLineNumbers){var t=b.d?this._lineHeight%2==0?" lh-even":" lh-odd":"",i=e.visibleRange.startLineNumber,n=e.visibleRange.endLineNumber,o='<div class="'+Ie.CLASS_NAME+t+'" style="left:'+this._lineNumbersLeft+"px;width:"+this._lineNumbersWidth+'px;">',r=this._context.model.getLineCount();const l=[];for(let e=i;e<=n;e++){var s,a=e-i;(this._renderFinalNewline||e!==r||0!==this._context.model.getLineLength(e))&&(s=this._getLineRenderLineNumber(e))?e===this._activeLineNumber?l[a]='<div class="active-line-number '+Ie.CLASS_NAME+t+'" style="left:'+this._lineNumbersLeft+"px;width:"+this._lineNumbersWidth+'px;">'+s+"</div>":l[a]=o+s+"</div>":l[a]=""}this._renderResult=l}else this._renderResult=null}render(e,t){return this._renderResult?(e=t-e)<0||e>=this._renderResult.length?"":this._renderResult[e]:""}}Ie.CLASS_NAME="line-numbers",Object(Ne.f)((e,t)=>{var i=e.getColor(Ee.D);i&&t.addRule(`.monaco-editor .line-numbers { color: ${i}; }`),(e=e.getColor(Ee.b))&&t.addRule(`.monaco-editor .line-numbers.active-line-number { color: ${e}; }`)});class Te extends T{constructor(e){super(e);const t=this._context.configuration.options;e=t.get(129),this._canUseLayerHinting=!t.get(28),this._contentLeft=e.contentLeft,this._glyphMarginLeft=e.glyphMarginLeft,this._glyphMarginWidth=e.glyphMarginWidth,this._domNode=Object(v.b)(document.createElement("div")),this._domNode.setClassName(Te.OUTER_CLASS_NAME),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._glyphMarginBackgroundDomNode=Object(v.b)(document.createElement("div")),this._glyphMarginBackgroundDomNode.setClassName(Te.CLASS_NAME),this._domNode.appendChild(this._glyphMarginBackgroundDomNode)}dispose(){super.dispose()}getDomNode(){return this._domNode}onConfigurationChanged(e){const t=this._context.configuration.options;var i=t.get(129);return this._canUseLayerHinting=!t.get(28),this._contentLeft=i.contentLeft,this._glyphMarginLeft=i.glyphMarginLeft,this._glyphMarginWidth=i.glyphMarginWidth,!0}onScrollChanged(e){return super.onScrollChanged(e)||e.scrollTopChanged}prepareRender(e){}render(e){this._domNode.setLayerHinting(this._canUseLayerHinting),this._domNode.setContain("strict");var t=e.scrollTop-e.bigNumbersDelta;this._domNode.setTop(-t),e=Math.min(e.scrollHeight,1e6),this._domNode.setHeight(e),this._domNode.setWidth(this._contentLeft),this._glyphMarginBackgroundDomNode.setLeft(this._glyphMarginLeft),this._glyphMarginBackgroundDomNode.setWidth(this._glyphMarginWidth),this._glyphMarginBackgroundDomNode.setHeight(e)}}Te.CLASS_NAME="glyph-margin",Te.OUTER_CLASS_NAME="margin";var Me=i(128),Ae=i(173);class Pe{constructor(e,t,i){this._visibleTextAreaBrand=void 0,this.top=e,this.left=t,this.width=i}setWidth(e){return new Pe(this.top,this.left,e)}}const Re=f.g;class Fe extends T{constructor(e,t,i){super(e),this._primaryCursorPosition=new te.a(1,1),this._primaryCursorVisibleRange=null,this._viewController=t,this._viewHelper=i,this._scrollLeft=0,this._scrollTop=0;const n=this._context.configuration.options;i=n.get(129),this._setAccessibilityOptions(n),this._contentLeft=i.contentLeft,this._contentWidth=i.contentWidth,this._contentHeight=i.height,this._fontInfo=n.get(43),this._lineHeight=n.get(58),this._emptySelectionClipboard=n.get(32),this._copyWithSyntaxHighlighting=n.get(21),this._visibleTextArea=null,this._selections=[new m.a(1,1,1,1)],this._modelSelections=[new m.a(1,1,1,1)],this._lastRenderPosition=null,this.textArea=Object(v.b)(document.createElement("textarea")),M.write(this.textArea,6),this.textArea.setClassName("inputarea "+Ae.a),this.textArea.setAttribute("wrap","off"),this.textArea.setAttribute("autocorrect","off"),this.textArea.setAttribute("autocapitalize","off"),this.textArea.setAttribute("autocomplete","off"),this.textArea.setAttribute("spellcheck","false"),this.textArea.setAttribute("aria-label",this._getAriaLabel(n)),this.textArea.setAttribute("tabindex",String(n.get(111))),this.textArea.setAttribute("role","textbox"),this.textArea.setAttribute("aria-roledescription",a.a("editor","editor")),this.textArea.setAttribute("aria-multiline","true"),this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),n.get(30)&&n.get(80)&&this.textArea.setAttribute("readonly","true"),this.textAreaCover=Object(v.b)(document.createElement("div")),this.textAreaCover.setPosition("absolute");const o={getLineCount:()=>this._context.model.getLineCount(),getLineMaxColumn:e=>this._context.model.getLineMaxColumn(e),getValueInRange:(e,t)=>this._context.model.getValueInRange(e,t)};i={getDataToCopy:e=>{const t=this._context.model.getPlainTextToCopy(this._modelSelections,this._emptySelectionClipboard,b.i);var i=this._context.model.getEOL(),n=this._emptySelectionClipboard&&1===this._modelSelections.length&&this._modelSelections[0].isEmpty(),o=Array.isArray(t)?t:null;i=Array.isArray(t)?t.join(i):t;let r=void 0,s=null;return e&&(!(ye.a.forceCopyWithSyntaxHighlighting||this._copyWithSyntaxHighlighting&&i.length<65536)||(e=this._context.model.getRichTextToCopy(this._modelSelections,this._emptySelectionClipboard))&&(r=e.html,s=e.mode)),{isFromEmptySelection:n,multicursorText:o,text:i,html:r,mode:s}},getScreenReaderContent:e=>{if(1===this._accessibilitySupport){if(b.f){const e=this._selections[0];if(e.isEmpty()){var t=e.getStartPosition();let i=this._getWordBeforePosition(t);if(0===i.length&&(i=this._getCharacterBeforePosition(t)),0<i.length)return new Le.b(i,i.length,i.length,t,t)}}return Le.b.EMPTY}if(f.e){const e=this._selections[0];if(e.isEmpty()){var i=e.getStartPosition(),[n,t]=this._getAndroidWordAtPosition(i);if(0<n.length)return new Le.b(n,t,t,i,i)}return Le.b.EMPTY}return Le.a.fromEditorSelection(e,o,this._selections[0],this._accessibilityPageSize,0===this._accessibilitySupport)},deduceModelPosition:(e,t,i)=>this._context.model.deduceModelPositionRelativeToViewPosition(e,t,i)},this._textAreaInput=this._register(new ye.c(i,this.textArea)),this._register(this._textAreaInput.onKeyDown(e=>{this._viewController.emitKeyDown(e)})),this._register(this._textAreaInput.onKeyUp(e=>{this._viewController.emitKeyUp(e)})),this._register(this._textAreaInput.onPaste(e=>{let t=!1,i=null,n=null;e.metadata&&(t=this._emptySelectionClipboard&&!!e.metadata.isFromEmptySelection,i=void 0!==e.metadata.multicursorText?e.metadata.multicursorText:null,n=e.metadata.mode),this._viewController.paste(e.text,t,i,n)})),this._register(this._textAreaInput.onCut(()=>{this._viewController.cut()})),this._register(this._textAreaInput.onType(e=>{e.replacePrevCharCnt||e.replaceNextCharCnt||e.positionDelta?(Le.c&&console.log(` => compositionType: <<${e.text}>>, ${e.replacePrevCharCnt}, ${e.replaceNextCharCnt}, ${e.positionDelta}`),this._viewController.compositionType(e.text,e.replacePrevCharCnt,e.replaceNextCharCnt,e.positionDelta)):(Le.c&&console.log(` => type: <<${e.text}>>`),this._viewController.type(e.text))})),this._register(this._textAreaInput.onSelectionChangeRequest(e=>{this._viewController.setSelection(e)})),this._register(this._textAreaInput.onCompositionStart(e=>{var t=this._selections[0].startLineNumber;e=this._selections[0].startColumn+e.revealDeltaColumns;this._context.model.revealRange("keyboard",!0,new ie.a(t,e,t,e),0,1),(e=this._viewHelper.visibleRangeForPositionRelativeToEditor(t,e))&&(this._visibleTextArea=new Pe(this._context.viewLayout.getVerticalOffsetForLineNumber(t),e.left,Re?0:1),this._render()),this.textArea.setClassName(`inputarea ${Ae.a} ime-input`),this._viewController.compositionStart(),this._context.model.onCompositionStart()})),this._register(this._textAreaInput.onCompositionUpdate(e=>{this._visibleTextArea&&(this._visibleTextArea=this._visibleTextArea.setWidth(function(e,t){const i=document.createElement("canvas").getContext("2d");return i.font=function(e){return`normal normal ${e.fontWeight} ${e.fontSize}px / ${e.lineHeight}px ${e.fontFamily}`}(t),e=i.measureText(e),f.g?e.width+2:e.width}(e.data,this._fontInfo)),this._render())})),this._register(this._textAreaInput.onCompositionEnd(()=>{this._visibleTextArea=null,this._render(),this.textArea.setClassName("inputarea "+Ae.a),this._viewController.compositionEnd(),this._context.model.onCompositionEnd()})),this._register(this._textAreaInput.onFocus(()=>{this._context.model.setHasFocus(!0)})),this._register(this._textAreaInput.onBlur(()=>{this._context.model.setHasFocus(!1)}))}dispose(){super.dispose()}_getAndroidWordAtPosition(e){var t;const i=this._context.model.getLineContent(e.lineNumber),n=Object(Me.a)('`~!@#$%^&*()-=+[{]}\\|;:",.<>/?');let o=!0,r=e.column,s=!0,a=e.column,l=0;for(;l<50&&(o||s);)o&&r<=1&&(o=!1),o&&(t=i.charCodeAt(r-2),0!==n.get(t)?o=!1:r--),s&&a>i.length&&(s=!1),s&&(t=i.charCodeAt(a-1),0!==n.get(t)?s=!1:a++),l++;return[i.substring(r-1,a-1),e.column-r]}_getWordBeforePosition(e){const t=this._context.model.getLineContent(e.lineNumber),i=Object(Me.a)(this._context.configuration.options.get(115));let n=e.column,o=0;for(;1<n;){var r=t.charCodeAt(n-2);if(0!==i.get(r)||50<o)return t.substring(n-1,e.column-1);o++,n--}return t.substring(0,e.column-1)}_getCharacterBeforePosition(e){if(1<e.column){const t=this._context.model.getLineContent(e.lineNumber).charAt(e.column-2);if(!De.E(t.charCodeAt(0)))return t}return""}_getAriaLabel(e){return 1===e.get(2)?a.a("accessibilityOffAriaLabel","The editor is not accessible at this time. Press {0} for options.",b.d?"Shift+Alt+F1":"Alt+F1"):e.get(4)}_setAccessibilityOptions(e){this._accessibilitySupport=e.get(2),e=e.get(3),2===this._accessibilitySupport&&e===U.g.accessibilityPageSize.defaultValue?this._accessibilityPageSize=500:this._accessibilityPageSize=e}onConfigurationChanged(e){const t=this._context.configuration.options;var i=t.get(129);return this._setAccessibilityOptions(t),this._contentLeft=i.contentLeft,this._contentWidth=i.contentWidth,this._contentHeight=i.height,this._fontInfo=t.get(43),this._lineHeight=t.get(58),this._emptySelectionClipboard=t.get(32),this._copyWithSyntaxHighlighting=t.get(21),this.textArea.setAttribute("aria-label",this._getAriaLabel(t)),this.textArea.setAttribute("tabindex",String(t.get(111))),(e.hasChanged(30)||e.hasChanged(80))&&(t.get(30)&&t.get(80)?this.textArea.setAttribute("readonly","true"):this.textArea.removeAttribute("readonly")),e.hasChanged(2)&&this._textAreaInput.writeScreenReaderContent("strategy changed"),!0}onCursorStateChanged(e){return this._selections=e.selections.slice(0),this._modelSelections=e.modelSelections.slice(0),this._textAreaInput.writeScreenReaderContent("selection changed"),!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return this._scrollLeft=e.scrollLeft,this._scrollTop=e.scrollTop,!0}onZonesChanged(e){return!0}isFocused(){return this._textAreaInput.isFocused()}focusTextArea(){this._textAreaInput.focusTextArea()}getLastRenderData(){return this._lastRenderPosition}setAriaOptions(e){e.activeDescendant?(this.textArea.setAttribute("aria-haspopup","true"),this.textArea.setAttribute("aria-autocomplete","list"),this.textArea.setAttribute("aria-activedescendant",e.activeDescendant)):(this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),this.textArea.removeAttribute("aria-activedescendant")),e.role&&this.textArea.setAttribute("role",e.role)}prepareRender(e){this._primaryCursorPosition=new te.a(this._selections[0].positionLineNumber,this._selections[0].positionColumn),this._primaryCursorVisibleRange=e.visibleRangeForPosition(this._primaryCursorPosition)}render(e){this._textAreaInput.writeScreenReaderContent("render"),this._render()}_render(){var e,t;this._visibleTextArea?this._renderInsideEditor(null,this._visibleTextArea.top-this._scrollTop,this._contentLeft+this._visibleTextArea.left-this._scrollLeft,this._visibleTextArea.width,this._lineHeight):!this._primaryCursorVisibleRange||(e=this._contentLeft+this._primaryCursorVisibleRange.left-this._scrollLeft)<this._contentLeft||e>this._contentLeft+this._contentWidth||(t=this._context.viewLayout.getVerticalOffsetForLineNumber(this._selections[0].positionLineNumber)-this._scrollTop)<0||t>this._contentHeight?this._renderAtTopLeft():b.f?this._renderInsideEditor(this._primaryCursorPosition,t,e,Re?0:1,this._lineHeight):this._renderInsideEditor(this._primaryCursorPosition,t,e,Re?0:1,Re?0:1)}_renderInsideEditor(e,t,i,n,o){this._lastRenderPosition=e;const r=this.textArea,s=this.textAreaCover;g.a.applyFontInfo(r,this._fontInfo),r.setTop(t),r.setLeft(i),r.setWidth(n),r.setHeight(o),s.setTop(0),s.setLeft(0),s.setWidth(0),s.setHeight(0)}_renderAtTopLeft(){this._lastRenderPosition=null;const e=this.textArea,t=this.textAreaCover;if(g.a.applyFontInfo(e,this._fontInfo),e.setTop(0),e.setLeft(0),t.setTop(0),t.setLeft(0),Re)return e.setWidth(0),e.setHeight(0),t.setWidth(0),void t.setHeight(0);e.setWidth(1),e.setHeight(1),t.setWidth(1),t.setHeight(1);const i=this._context.configuration.options;i.get(49)?t.setClassName("monaco-editor-background textAreaCover "+Te.OUTER_CLASS_NAME):0!==i.get(59).renderType?t.setClassName("monaco-editor-background textAreaCover "+Ie.CLASS_NAME):t.setClassName("monaco-editor-background textAreaCover")}}var je=i(116);class Be{constructor(e,t,i,n){this.configuration=e,this.viewModel=t,this.userInputEvents=i,this.commandDelegate=n}paste(e,t,i,n){this.commandDelegate.paste(e,t,i,n)}type(e){this.commandDelegate.type(e)}compositionType(e,t,i,n){this.commandDelegate.compositionType(e,t,i,n)}compositionStart(){this.commandDelegate.startComposition()}compositionEnd(){this.commandDelegate.endComposition()}cut(){this.commandDelegate.cut()}setSelection(e){je.CoreNavigationCommands.SetSelection.runCoreEditorCommand(this.viewModel,{source:"keyboard",selection:e})}_validateViewColumn(e){var t=this.viewModel.getLineMinColumn(e.lineNumber);return e.column<t?new te.a(e.lineNumber,t):e}_hasMulticursorModifier(e){switch(this.configuration.options.get(69)){case"altKey":return e.altKey;case"ctrlKey":return e.ctrlKey;case"metaKey":return e.metaKey;default:return!1}}_hasNonMulticursorModifier(e){switch(this.configuration.options.get(69)){case"altKey":return e.ctrlKey||e.metaKey;case"ctrlKey":return e.altKey||e.metaKey;case"metaKey":return e.ctrlKey||e.altKey;default:return!1}}dispatchMouse(e){const t=this.configuration.options;var i=b.d&&t.get(95),n=t.get(18);e.middleButton&&!i?this._columnSelect(e.position,e.mouseColumn,e.inSelectionMode):e.startedOnLineNumbers?this._hasMulticursorModifier(e)?e.inSelectionMode?this._lastCursorLineSelect(e.position):this._createCursor(e.position,!0):e.inSelectionMode?this._lineSelectDrag(e.position):this._lineSelect(e.position):4<=e.mouseDownCount?this._selectAll():3===e.mouseDownCount?this._hasMulticursorModifier(e)?e.inSelectionMode?this._lastCursorLineSelectDrag(e.position):this._lastCursorLineSelect(e.position):e.inSelectionMode?this._lineSelectDrag(e.position):this._lineSelect(e.position):2===e.mouseDownCount?this._hasMulticursorModifier(e)?this._lastCursorWordSelect(e.position):e.inSelectionMode?this._wordSelectDrag(e.position):this._wordSelect(e.position):this._hasMulticursorModifier(e)?this._hasNonMulticursorModifier(e)||(e.shiftKey?this._columnSelect(e.position,e.mouseColumn,!0):e.inSelectionMode?this._lastCursorMoveToSelect(e.position):this._createCursor(e.position,!1)):e.inSelectionMode?e.altKey||n?this._columnSelect(e.position,e.mouseColumn,!0):this._moveToSelect(e.position):this.moveTo(e.position)}_usualArgs(e){return e=this._validateViewColumn(e),{source:"mouse",position:this._convertViewToModelPosition(e),viewPosition:e}}moveTo(e){je.CoreNavigationCommands.MoveTo.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_moveToSelect(e){je.CoreNavigationCommands.MoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_columnSelect(e,t,i){e=this._validateViewColumn(e),je.CoreNavigationCommands.ColumnSelect.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(e),viewPosition:e,mouseColumn:t,doColumnSelect:i})}_createCursor(e,t){e=this._validateViewColumn(e),je.CoreNavigationCommands.CreateCursor.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(e),viewPosition:e,wholeLine:t})}_lastCursorMoveToSelect(e){je.CoreNavigationCommands.LastCursorMoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_wordSelect(e){je.CoreNavigationCommands.WordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_wordSelectDrag(e){je.CoreNavigationCommands.WordSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_lastCursorWordSelect(e){je.CoreNavigationCommands.LastCursorWordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_lineSelect(e){je.CoreNavigationCommands.LineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_lineSelectDrag(e){je.CoreNavigationCommands.LineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_lastCursorLineSelect(e){je.CoreNavigationCommands.LastCursorLineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_lastCursorLineSelectDrag(e){je.CoreNavigationCommands.LastCursorLineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_selectAll(){je.CoreNavigationCommands.SelectAll.runCoreEditorCommand(this.viewModel,{source:"mouse"})}_convertViewToModelPosition(e){return this.viewModel.coordinatesConverter.convertViewPositionToModelPosition(e)}emitKeyDown(e){this.userInputEvents.emitKeyDown(e)}emitKeyUp(e){this.userInputEvents.emitKeyUp(e)}emitContextMenu(e){this.userInputEvents.emitContextMenu(e)}emitMouseMove(e){this.userInputEvents.emitMouseMove(e)}emitMouseLeave(e){this.userInputEvents.emitMouseLeave(e)}emitMouseUp(e){this.userInputEvents.emitMouseUp(e)}emitMouseDown(e){this.userInputEvents.emitMouseDown(e)}emitMouseDrag(e){this.userInputEvents.emitMouseDrag(e)}emitMouseDrop(e){this.userInputEvents.emitMouseDrop(e)}emitMouseDropCanceled(){this.userInputEvents.emitMouseDropCanceled()}emitMouseWheel(e){this.userInputEvents.emitMouseWheel(e)}}class We{constructor(e){this.onKeyDown=null,this.onKeyUp=null,this.onContextMenu=null,this.onMouseMove=null,this.onMouseLeave=null,this.onMouseDown=null,this.onMouseUp=null,this.onMouseDrag=null,this.onMouseDrop=null,this.onMouseDropCanceled=null,this.onMouseWheel=null,this._coordinatesConverter=e}emitKeyDown(e){this.onKeyDown&&this.onKeyDown(e)}emitKeyUp(e){this.onKeyUp&&this.onKeyUp(e)}emitContextMenu(e){this.onContextMenu&&this.onContextMenu(this._convertViewToModelMouseEvent(e))}emitMouseMove(e){this.onMouseMove&&this.onMouseMove(this._convertViewToModelMouseEvent(e))}emitMouseLeave(e){this.onMouseLeave&&this.onMouseLeave(this._convertViewToModelMouseEvent(e))}emitMouseDown(e){this.onMouseDown&&this.onMouseDown(this._convertViewToModelMouseEvent(e))}emitMouseUp(e){this.onMouseUp&&this.onMouseUp(this._convertViewToModelMouseEvent(e))}emitMouseDrag(e){this.onMouseDrag&&this.onMouseDrag(this._convertViewToModelMouseEvent(e))}emitMouseDrop(e){this.onMouseDrop&&this.onMouseDrop(this._convertViewToModelMouseEvent(e))}emitMouseDropCanceled(){this.onMouseDropCanceled&&this.onMouseDropCanceled()}emitMouseWheel(e){this.onMouseWheel&&this.onMouseWheel(e)}_convertViewToModelMouseEvent(e){return e.target?{event:e.event,target:this._convertViewToModelMouseTarget(e.target)}:e}_convertViewToModelMouseTarget(e){return We.convertViewToModelMouseTarget(e,this._coordinatesConverter)}static convertViewToModelMouseTarget(e,t){return new Ve(e.element,e.type,e.mouseColumn,e.position?t.convertViewPositionToModelPosition(e.position):null,e.range?t.convertViewRangeToModelRange(e.range):null,e.detail)}}class Ve{constructor(e,t,i,n,o,r){this.element=e,this.type=t,this.mouseColumn=i,this.position=n,this.range=o,this.detail=r}toString(){return le.toString(this)}}var ze=i(147);class He{constructor(e){this._createLine=e,this._set(1,[])}flush(){this._set(1,[])}_set(e,t){this._lines=t,this._rendLineNumberStart=e}_get(){return{rendLineNumberStart:this._rendLineNumberStart,lines:this._lines}}getStartLineNumber(){return this._rendLineNumberStart}getEndLineNumber(){return this._rendLineNumberStart+this._lines.length-1}getCount(){return this._lines.length}getLine(e){if((e-=this._rendLineNumberStart)<0||e>=this._lines.length)throw new Error("Illegal value for lineNumber");return this._lines[e]}onLinesDeleted(e,t){if(0===this.getCount())return null;var i=this.getStartLineNumber(),n=this.getEndLineNumber();if(t<i)return this._rendLineNumberStart-=t-e+1,null;if(n<e)return null;let o=0,r=0;for(let a=i;a<=n;a++){var s=a-this._rendLineNumberStart;e<=a&&a<=t&&(0===r?(o=s,r=1):r++)}if(e<i){let n=0;n=t<i?t-e+1:i-e,this._rendLineNumberStart-=n}return this._lines.splice(o,r)}onLinesChanged(e,t){if(0===this.getCount())return!1;var i=this.getStartLineNumber(),n=this.getEndLineNumber();let o=!1;for(let r=e;r<=t;r++)r>=i&&r<=n&&(this._lines[r-this._rendLineNumberStart].onContentChanged(),o=!0);return o}onLinesInserted(e,t){if(0===this.getCount())return null;var i=t-e+1,n=this.getStartLineNumber();t=this.getEndLineNumber();if(e<=n)return this._rendLineNumberStart+=i,null;if(t<e)return null;if(t<i+e)return this._lines.splice(e-this._rendLineNumberStart,t-e+1);const o=[];for(let e=0;e<i;e++)o[e]=this._createLine();t=e-this._rendLineNumberStart;const r=this._lines.slice(0,t);return e=this._lines.slice(t,this._lines.length-i),t=this._lines.slice(this._lines.length-i,this._lines.length),this._lines=r.concat(o).concat(e),t}onTokensChanged(e){if(0===this.getCount())return!1;var t=this.getStartLineNumber(),i=this.getEndLineNumber();let n=!1;for(let l=0,c=e.length;l<c;l++){var o=e[l];if(!(o.toLineNumber<t||o.fromLineNumber>i)){var r=Math.max(t,o.fromLineNumber),s=Math.min(i,o.toLineNumber);for(let e=r;e<=s;e++){var a=e-this._rendLineNumberStart;this._lines[a].onTokensChanged(),n=!0}}}return n}}class Ue{constructor(e){this._host=e,this.domNode=this._createDomNode(),this._linesCollection=new He(()=>this._host.createVisibleLine())}_createDomNode(){const e=Object(v.b)(document.createElement("div"));return e.setClassName("view-layer"),e.setPosition("absolute"),e.domNode.setAttribute("role","presentation"),e.domNode.setAttribute("aria-hidden","true"),e}onConfigurationChanged(e){return!!e.hasChanged(129)}onFlushed(e){return this._linesCollection.flush(),!0}onLinesChanged(e){return this._linesCollection.onLinesChanged(e.fromLineNumber,e.toLineNumber)}onLinesDeleted(e){const t=this._linesCollection.onLinesDeleted(e.fromLineNumber,e.toLineNumber);if(t)for(let e=0,n=t.length;e<n;e++){var i=t[e].getDomNode();i&&this.domNode.domNode.removeChild(i)}return!0}onLinesInserted(e){const t=this._linesCollection.onLinesInserted(e.fromLineNumber,e.toLineNumber);if(t)for(let e=0,n=t.length;e<n;e++){var i=t[e].getDomNode();i&&this.domNode.domNode.removeChild(i)}return!0}onScrollChanged(e){return e.scrollTopChanged}onTokensChanged(e){return this._linesCollection.onTokensChanged(e.ranges)}onZonesChanged(e){return!0}getStartLineNumber(){return this._linesCollection.getStartLineNumber()}getEndLineNumber(){return this._linesCollection.getEndLineNumber()}getVisibleLine(e){return this._linesCollection.getLine(e)}renderLines(e){var t=this._linesCollection._get();const i=new $e(this.domNode.domNode,this._host,e);t={rendLineNumberStart:t.rendLineNumberStart,lines:t.lines,linesLength:t.lines.length},e=i.render(t,e.startLineNumber,e.endLineNumber,e.relativeVerticalOffset),this._linesCollection._set(e.rendLineNumberStart,e.lines)}}class $e{constructor(e,t,i){this.domNode=e,this.host=t,this.viewportData=i}render(e,t,i,n){const o={rendLineNumberStart:e.rendLineNumberStart,lines:e.lines.slice(0),linesLength:e.linesLength};if(o.rendLineNumberStart+o.linesLength-1<t||i<o.rendLineNumberStart){o.rendLineNumberStart=t,o.linesLength=i-t+1,o.lines=[];for(let e=t;e<=i;e++)o.lines[e-t]=this.host.createVisibleLine();return this._finishRendering(o,!0,n),o}var r,s,a;return this._renderUntouchedLines(o,Math.max(t-o.rendLineNumberStart,0),Math.min(i-o.rendLineNumberStart,o.linesLength-1),n,t),o.rendLineNumberStart>t?(r=t)<=(e=Math.min(i,o.rendLineNumberStart-1))&&(this._insertLinesBefore(o,r,e,n,t),o.linesLength+=e-r+1):o.rendLineNumberStart<t&&0<(s=Math.min(o.linesLength,t-o.rendLineNumberStart))&&(this._removeLinesBefore(o,s),o.linesLength-=s),o.rendLineNumberStart=t,o.rendLineNumberStart+o.linesLength-1<i?(a=o.rendLineNumberStart+o.linesLength)<=(s=i)&&(this._insertLinesAfter(o,a,s,n,t),o.linesLength+=s-a+1):o.rendLineNumberStart+o.linesLength-1>i&&(a=Math.max(0,i-o.rendLineNumberStart+1),0<(a=o.linesLength-1-a+1)&&(this._removeLinesAfter(o,a),o.linesLength-=a)),this._finishRendering(o,!1,n),o}_renderUntouchedLines(e,t,i,n,o){var r=e.rendLineNumberStart;const s=e.lines;for(let e=t;e<=i;e++){var a=r+e;s[e].layoutLine(a,n[a-o])}}_insertLinesBefore(e,t,i,n,o){const r=[];let s=0;for(let e=t;e<=i;e++)r[s++]=this.host.createVisibleLine();e.lines=r.concat(e.lines)}_removeLinesBefore(e,t){for(let n=0;n<t;n++){var i=e.lines[n].getDomNode();i&&this.domNode.removeChild(i)}e.lines.splice(0,t)}_insertLinesAfter(e,t,i,n,o){const r=[];let s=0;for(let e=t;e<=i;e++)r[s++]=this.host.createVisibleLine();e.lines=e.lines.concat(r)}_removeLinesAfter(e,t){var i=e.linesLength-t;for(let o=0;o<t;o++){var n=e.lines[i+o].getDomNode();n&&this.domNode.removeChild(n)}e.lines.splice(i,t)}_finishRenderingNewLines(e,t,i,n){$e._ttPolicy&&(i=$e._ttPolicy.createHTML(i));const o=this.domNode.lastChild;t||!o?this.domNode.innerHTML=i:o.insertAdjacentHTML("afterend",i);let r=this.domNode.lastChild;for(let t=e.linesLength-1;0<=t;t--){const i=e.lines[t];n[t]&&(i.setDomNode(r),r=r.previousSibling)}}_finishRenderingInvalidLines(e,t,i){const n=document.createElement("div");$e._ttPolicy&&(t=$e._ttPolicy.createHTML(t)),n.innerHTML=t;for(let t=0;t<e.linesLength;t++){const r=e.lines[t];if(i[t]){var o=n.firstChild;const e=r.getDomNode();e.parentNode.replaceChild(o,e),r.setDomNode(o)}}}_finishRendering(e,t,i){const n=$e._sb;var o=e.linesLength,r=e.lines,s=e.rendLineNumberStart;const a=[];{n.reset();let l=!1;for(let e=0;e<o;e++){const t=r[e];a[e]=!1,t.getDomNode()||t.renderLine(e+s,i[e],this.viewportData,n)&&(a[e]=!0,l=!0)}l&&this._finishRenderingNewLines(e,t,n.build(),a)}{n.reset();let t=!1;const l=[];for(let e=0;e<o;e++){const o=r[e];l[e]=!1,a[e]||o.renderLine(e+s,i[e],this.viewportData,n)&&(l[e]=!0,t=!0)}t&&this._finishRenderingInvalidLines(e,n.build(),l)}}}$e._ttPolicy=null===(t=window.trustedTypes)||void 0===t?void 0:t.createPolicy("editorViewLayer",{createHTML:e=>e}),$e._sb=Object(ze.a)(1e5);class Ke extends T{constructor(e){super(e),this._visibleLines=new Ue(this),this.domNode=this._visibleLines.domNode,this._dynamicOverlays=[],this._isFocused=!1,this.domNode.setClassName("view-overlays")}shouldRender(){if(super.shouldRender())return!0;for(let e=0,t=this._dynamicOverlays.length;e<t;e++){if(this._dynamicOverlays[e].shouldRender())return!0}return!1}dispose(){super.dispose();for(let e=0,t=this._dynamicOverlays.length;e<t;e++){this._dynamicOverlays[e].dispose()}this._dynamicOverlays=[]}getDomNode(){return this.domNode}createVisibleLine(){return new qe(this._context.configuration,this._dynamicOverlays)}addDynamicOverlay(e){this._dynamicOverlays.push(e)}onConfigurationChanged(e){this._visibleLines.onConfigurationChanged(e);var t=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber();for(let n=t;n<=i;n++){this._visibleLines.getVisibleLine(n).onConfigurationChanged(e)}return!0}onFlushed(e){return this._visibleLines.onFlushed(e)}onFocusChanged(e){return this._isFocused=e.isFocused,!0}onLinesChanged(e){return this._visibleLines.onLinesChanged(e)}onLinesDeleted(e){return this._visibleLines.onLinesDeleted(e)}onLinesInserted(e){return this._visibleLines.onLinesInserted(e)}onScrollChanged(e){return this._visibleLines.onScrollChanged(e)||!0}onTokensChanged(e){return this._visibleLines.onTokensChanged(e)}onZonesChanged(e){return this._visibleLines.onZonesChanged(e)}prepareRender(e){var t=this._dynamicOverlays.filter(e=>e.shouldRender());for(let i=0,n=t.length;i<n;i++){const n=t[i];n.prepareRender(e),n.onDidRender()}}render(e){this._viewOverlaysRender(e),this.domNode.toggleClassName("focused",this._isFocused)}_viewOverlaysRender(e){this._visibleLines.renderLines(e.viewportData)}}class qe{constructor(e,t){this._configuration=e,this._lineHeight=this._configuration.options.get(58),this._dynamicOverlays=t,this._domNode=null,this._renderedContent=null}getDomNode(){return this._domNode?this._domNode.domNode:null}setDomNode(e){this._domNode=Object(v.b)(e)}onContentChanged(){}onTokensChanged(){}onConfigurationChanged(e){this._lineHeight=this._configuration.options.get(58)}renderLine(e,t,i,n){let o="";for(let t=0,n=this._dynamicOverlays.length;t<n;t++){o+=this._dynamicOverlays[t].render(i.startLineNumber,e)}return this._renderedContent!==o&&(this._renderedContent=o,n.appendASCIIString('<div style="position:absolute;top:'),n.appendASCIIString(String(t)),n.appendASCIIString("px;width:100%;height:"),n.appendASCIIString(String(this._lineHeight)),n.appendASCIIString('px;">'),n.appendASCIIString(o),n.appendASCIIString("</div>"),!0)}layoutLine(e,t){this._domNode&&(this._domNode.setTop(t),this._domNode.setHeight(this._lineHeight))}}class Ge extends Ke{constructor(e){super(e);e=this._context.configuration.options.get(129),this._contentWidth=e.contentWidth,this.domNode.setHeight(0)}onConfigurationChanged(e){var t=this._context.configuration.options.get(129);return this._contentWidth=t.contentWidth,super.onConfigurationChanged(e)||!0}onScrollChanged(e){return super.onScrollChanged(e)||e.scrollWidthChanged}_viewOverlaysRender(e){super._viewOverlaysRender(e),this.domNode.setWidth(Math.max(e.scrollWidth,this._contentWidth))}}class Ye extends Ke{constructor(e){super(e);const t=this._context.configuration.options;e=t.get(129),this._contentLeft=e.contentLeft,this.domNode.setClassName("margin-view-overlays"),this.domNode.setWidth(1),g.a.applyFontInfo(this.domNode,t.get(43))}onConfigurationChanged(e){const t=this._context.configuration.options;g.a.applyFontInfo(this.domNode,t.get(43));var i=t.get(129);return this._contentLeft=i.contentLeft,super.onConfigurationChanged(e)||!0}onScrollChanged(e){return super.onScrollChanged(e)||e.scrollHeightChanged}_viewOverlaysRender(e){super._viewOverlaysRender(e),e=Math.min(e.scrollHeight,1e6),this.domNode.setHeight(e),this.domNode.setWidth(this._contentLeft)}}class Ze{constructor(e,t){this._coordinateBrand=void 0,this.top=e,this.left=t}}class Xe extends T{constructor(e,t){super(e),this._viewDomNode=t,this._widgets={},this.domNode=Object(v.b)(document.createElement("div")),M.write(this.domNode,1),this.domNode.setClassName("contentWidgets"),this.domNode.setPosition("absolute"),this.domNode.setTop(0),this.overflowingContentWidgetsDomNode=Object(v.b)(document.createElement("div")),M.write(this.overflowingContentWidgetsDomNode,2),this.overflowingContentWidgetsDomNode.setClassName("overflowingContentWidgets")}dispose(){super.dispose(),this._widgets={}}onConfigurationChanged(e){for(const t of Object.keys(this._widgets))this._widgets[t].onConfigurationChanged(e);return!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLineMappingChanged(e){for(const t of Object.keys(this._widgets))this._widgets[t].onLineMappingChanged(e);return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return!0}onZonesChanged(e){return!0}addWidget(e){e=new Qe(this._context,this._viewDomNode,e),((this._widgets[e.id]=e).allowEditorOverflow?this.overflowingContentWidgetsDomNode:this.domNode).appendChild(e.domNode),this.setShouldRender()}setWidgetPosition(e,t,i){this._widgets[e.getId()].setPosition(t,i),this.setShouldRender()}removeWidget(e){var t=e.getId();if(this._widgets.hasOwnProperty(t)){e=this._widgets[t],delete this._widgets[t];const i=e.domNode.domNode;i.parentNode.removeChild(i),i.removeAttribute("monaco-visible-content-widget"),this.setShouldRender()}}shouldSuppressMouseDownOnWidget(e){return!!this._widgets.hasOwnProperty(e)&&this._widgets[e].suppressMouseDown}onBeforeRender(e){for(const t of Object.keys(this._widgets))this._widgets[t].onBeforeRender(e)}prepareRender(e){for(const t of Object.keys(this._widgets))this._widgets[t].prepareRender(e)}render(e){for(const t of Object.keys(this._widgets))this._widgets[t].render(e)}}class Qe{constructor(e,t,i){this._context=e,this._viewDomNode=t,this._actual=i,this.domNode=Object(v.b)(this._actual.getDomNode()),this.id=this._actual.getId(),this.allowEditorOverflow=this._actual.allowEditorOverflow||!1,this.suppressMouseDown=this._actual.suppressMouseDown||!1;const n=this._context.configuration.options;i=n.get(129),this._fixedOverflowWidgets=n.get(36),this._contentWidth=i.contentWidth,this._contentLeft=i.contentLeft,this._lineHeight=n.get(58),this._range=null,this._viewRange=null,this._preference=[],this._cachedDomNodeClientWidth=-1,this._cachedDomNodeClientHeight=-1,this._maxWidth=this._getMaxWidth(),this._isVisible=!1,this._renderData=null,this.domNode.setPosition(this._fixedOverflowWidgets&&this.allowEditorOverflow?"fixed":"absolute"),this.domNode.setVisibility("hidden"),this.domNode.setAttribute("widgetId",this.id),this.domNode.setMaxWidth(this._maxWidth)}onConfigurationChanged(e){const t=this._context.configuration.options;this._lineHeight=t.get(58),e.hasChanged(129)&&(e=t.get(129),this._contentLeft=e.contentLeft,this._contentWidth=e.contentWidth,this._maxWidth=this._getMaxWidth())}onLineMappingChanged(e){this._setPosition(this._range)}_setPosition(e){if(this._range=e,this._viewRange=null,this._range){const e=this._context.model.validateModelRange(this._range);(this._context.model.coordinatesConverter.modelPositionIsVisible(e.getStartPosition())||this._context.model.coordinatesConverter.modelPositionIsVisible(e.getEndPosition()))&&(this._viewRange=this._context.model.coordinatesConverter.convertModelRangeToViewRange(e))}}_getMaxWidth(){return this.allowEditorOverflow?window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth:this._contentWidth}setPosition(e,t){this._setPosition(e),this._preference=t,this._cachedDomNodeClientWidth=-1,this._cachedDomNodeClientHeight=-1}_layoutBoxInViewport(e,t,i,n,o){var r=e.top,s=t.top+this._lineHeight,a=o.viewportHeight-s;let l=e.left,c=t.left;return l+i>o.scrollLeft+o.viewportWidth&&(l=o.scrollLeft+o.viewportWidth-i),c+i>o.scrollLeft+o.viewportWidth&&(c=o.scrollLeft+o.viewportWidth-i),l<o.scrollLeft&&(l=o.scrollLeft),c<o.scrollLeft&&(c=o.scrollLeft),{fitsAbove:n<=r,aboveTop:r-n,aboveLeft:l,fitsBelow:n<=a,belowTop:s,belowLeft:c}}_layoutHorizontalSegmentInPage(e,t,i,n){var o=Math.max(0,t.left-n);e=Math.min(t.left+t.width+n,e.width);let r=t.left+i-l.f.scrollX;return r+n>e&&(r-=n=r-(e-n),i-=n),r<o&&(r-=o=r-o,i-=o),[i,r]}_layoutBoxInPage(e,t,i,n,o){var r=e.top-n,s=t.top+this._lineHeight,a=l.D(this._viewDomNode.domNode),c=a.top+r-l.f.scrollY,d=a.top+s-l.f.scrollY,h=l.z(document.body),[u,e]=this._layoutHorizontalSegmentInPage(h,a,e.left-o.scrollLeft+this._contentLeft,i),[t,o]=this._layoutHorizontalSegmentInPage(h,a,t.left-o.scrollLeft+this._contentLeft,i);i=22<=c,h=d+n<=h.height-22;return this._fixedOverflowWidgets?{fitsAbove:i,aboveTop:Math.max(c,22),aboveLeft:e,fitsBelow:h,belowTop:d,belowLeft:o}:{fitsAbove:i,aboveTop:r,aboveLeft:u,fitsBelow:h,belowTop:s,belowLeft:t}}_prepareRenderWidgetAtExactPositionOverflowing(e){return new Ze(e.top,e.left+this._contentLeft)}_getTopAndBottomLeft(e){if(!this._viewRange)return[null,null];var t=e.linesVisibleRangesForRange(this._viewRange,!1);if(!t||0===t.length)return[null,null];let i=t[0],n=t[0];for(const e of t)e.lineNumber<i.lineNumber&&(i=e),e.lineNumber>n.lineNumber&&(n=e);let o=1073741824;for(const e of i.ranges)e.left<o&&(o=e.left);let r=1073741824;for(const e of n.ranges)e.left<r&&(r=e.left);return t=e.getVerticalOffsetForLineNumber(i.lineNumber)-e.scrollTop,t=new Ze(t,o),e=e.getVerticalOffsetForLineNumber(n.lineNumber)-e.scrollTop,[t,new Ze(e,r)]}_prepareRenderWidget(e){var t,[i,n]=this._getTopAndBottomLeft(e);if(!i||!n)return null;if(-1===this._cachedDomNodeClientWidth||-1===this._cachedDomNodeClientHeight){let e=null;"function"==typeof this._actual.beforeRender&&(e=Je(this._actual.beforeRender,this._actual)),e?(this._cachedDomNodeClientWidth=e.width,this._cachedDomNodeClientHeight=e.height):(t=this.domNode.domNode,this._cachedDomNodeClientWidth=t.clientWidth,this._cachedDomNodeClientHeight=t.clientHeight)}let o;if(o=this.allowEditorOverflow?this._layoutBoxInPage(i,n,this._cachedDomNodeClientWidth,this._cachedDomNodeClientHeight,e):this._layoutBoxInViewport(i,n,this._cachedDomNodeClientWidth,this._cachedDomNodeClientHeight,e),this._preference)for(let e=1;e<=2;e++)for(const t of this._preference)if(1===t){if(!o)return null;if(2===e||o.fitsAbove)return{coordinate:new Ze(o.aboveTop,o.aboveLeft),position:1}}else{if(2!==t)return this.allowEditorOverflow?{coordinate:this._prepareRenderWidgetAtExactPositionOverflowing(i),position:0}:{coordinate:i,position:0};if(!o)return null;if(2===e||o.fitsBelow)return{coordinate:new Ze(o.belowTop,o.belowLeft),position:2}}return null}onBeforeRender(e){this._viewRange&&this._preference&&(this._viewRange.endLineNumber<e.startLineNumber||this._viewRange.startLineNumber>e.endLineNumber||this.domNode.setMaxWidth(this._maxWidth))}prepareRender(e){this._renderData=this._prepareRenderWidget(e)}render(e){if(!this._renderData)return this._isVisible&&(this.domNode.removeAttribute("monaco-visible-content-widget"),this._isVisible=!1,this.domNode.setVisibility("hidden")),void("function"==typeof this._actual.afterRender&&Je(this._actual.afterRender,this._actual,null));this.allowEditorOverflow?this.domNode.setTop(this._renderData.coordinate.top):this.domNode.setTop(this._renderData.coordinate.top+e.scrollTop-e.bigNumbersDelta),this.domNode.setLeft(this._renderData.coordinate.left),this._isVisible||(this.domNode.setVisibility("inherit"),this.domNode.setAttribute("monaco-visible-content-widget","true"),this._isVisible=!0),"function"==typeof this._actual.afterRender&&Je(this._actual.afterRender,this._actual,this._renderData.position)}}function Je(e,t,...i){try{return e.call(t,...i)}catch(e){return null}}i(428);var et=i(22);let tt=!0;class it extends Oe{constructor(e){super(),this._context=e;const t=this._context.configuration.options;e=t.get(129),this._lineHeight=t.get(58),this._renderLineHighlight=t.get(84),this._renderLineHighlightOnlyWhenFocus=t.get(85),this._contentLeft=e.contentLeft,this._contentWidth=e.contentWidth,this._selectionIsEmpty=!0,this._focused=!1,this._cursorLineNumbers=[1],this._selections=[new m.a(1,1,1,1)],this._renderData=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}_readFromSelections(){let e=!1;const t=tt?this._selections.slice(0,1):this._selections,i=t.map(e=>e.positionLineNumber);i.sort((e,t)=>e-t),et.g(this._cursorLineNumbers,i)||(this._cursorLineNumbers=i,e=!0);var n=t.every(e=>e.isEmpty());return this._selectionIsEmpty!==n&&(this._selectionIsEmpty=n,e=!0),e}onThemeChanged(e){return this._readFromSelections()}onConfigurationChanged(e){const t=this._context.configuration.options;var i=t.get(129);return this._lineHeight=t.get(58),this._renderLineHighlight=t.get(84),this._renderLineHighlightOnlyWhenFocus=t.get(85),this._contentLeft=i.contentLeft,this._contentWidth=i.contentWidth,!0}onCursorStateChanged(e){return this._selections=e.selections,this._readFromSelections()}onFlushed(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollWidthChanged||e.scrollTopChanged}onZonesChanged(e){return!0}onFocusChanged(e){return!!this._renderLineHighlightOnlyWhenFocus&&(this._focused=e.isFocused,!0)}prepareRender(e){if(this._shouldRenderThis()){var t=this._renderOne(e),i=e.visibleRange.startLineNumber,n=e.visibleRange.endLineNumber,o=this._cursorLineNumbers.length;let s=0;const a=[];for(let e=i;e<=n;e++){for(var r=e-i;s<o&&this._cursorLineNumbers[s]<e;)s++;s<o&&this._cursorLineNumbers[s]===e?a[r]=t:a[r]=""}this._renderData=a}else this._renderData=null}render(e,t){return this._renderData?(e=t-e)>=this._renderData.length?"":this._renderData[e]:""}}class nt extends it{_renderOne(e){return`<div class="${"current-line"+(this._shouldRenderOther()?" current-line-both":"")}" style="width:${Math.max(e.scrollWidth,this._contentWidth)}px; height:${this._lineHeight}px;"></div>`}_shouldRenderThis(){return("line"===this._renderLineHighlight||"all"===this._renderLineHighlight)&&this._selectionIsEmpty&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}_shouldRenderOther(){return("gutter"===this._renderLineHighlight||"all"===this._renderLineHighlight)&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}}class ot extends it{_renderOne(e){return`<div class="${"current-line"+(this._shouldRenderMargin()?" current-line-margin":"")+(this._shouldRenderOther()?" current-line-margin-both":"")}" style="width:${this._contentLeft}px; height:${this._lineHeight}px;"></div>`}_shouldRenderMargin(){return("gutter"===this._renderLineHighlight||"all"===this._renderLineHighlight)&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}_shouldRenderThis(){return!0}_shouldRenderOther(){return("line"===this._renderLineHighlight||"all"===this._renderLineHighlight)&&this._selectionIsEmpty&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}}Object(Ne.f)((e,t)=>{tt=!1;const i=e.getColor(Ee.B);var n;i&&(t.addRule(`.monaco-editor .view-overlays .current-line { background-color: ${i}; }`),t.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { background-color: ${i}; border: none; }`)),i&&!i.isTransparent()&&!e.defines(Ee.C)||(n=e.getColor(Ee.C))&&(tt=!0,t.addRule(`.monaco-editor .view-overlays .current-line { border: 2px solid ${n}; }`),t.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { border: 2px solid ${n}; }`),"hc"===e.type&&(t.addRule(".monaco-editor .view-overlays .current-line { border-width: 1px; }"),t.addRule(".monaco-editor .margin-view-overlays .current-line-margin { border-width: 1px; }")))}),i(430);class rt extends Oe{constructor(e){super(),this._context=e;const t=this._context.configuration.options;this._lineHeight=t.get(58),this._typicalHalfwidthCharacterWidth=t.get(43).typicalHalfwidthCharacterWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const t=this._context.configuration.options;return this._lineHeight=t.get(58),this._typicalHalfwidthCharacterWidth=t.get(43).typicalHalfwidthCharacterWidth,!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged||e.scrollWidthChanged}onZonesChanged(e){return!0}prepareRender(e){var t=e.getDecorationsInViewport();let i=[],n=0;for(let e=0,r=t.length;e<r;e++){var o=t[e];o.options.className&&(i[n++]=o)}i=i.sort((e,t)=>{if(e.options.zIndex<t.options.zIndex)return-1;if(e.options.zIndex>t.options.zIndex)return 1;var i=e.options.className,n=t.options.className;return i<n?-1:n<i?1:ie.a.compareRangesUsingStarts(e.range,t.range)});var r=e.visibleRange.startLineNumber,s=e.visibleRange.endLineNumber;const a=[];for(let e=r;e<=s;e++){a[e-r]=""}this._renderWholeLineDecorations(e,i,a),this._renderNormalDecorations(e,i,a),this._renderResult=a}_renderWholeLineDecorations(e,t,i){var n=String(this._lineHeight),o=e.visibleRange.startLineNumber,r=e.visibleRange.endLineNumber;for(let e=0,d=t.length;e<d;e++){var s=t[e];if(s.options.isWholeLine){var a='<div class="cdr '+s.options.className+'" style="left:0;width:100%;height:'+n+'px;"></div>',l=Math.max(s.range.startLineNumber,o),c=Math.min(s.range.endLineNumber,r);for(let e=l;e<=c;e++)i[e-o]+=a}}}_renderNormalDecorations(e,t,i){var n=String(this._lineHeight),o=e.visibleRange.startLineNumber;let r=null,s=!1,a=null;for(let h=0,u=t.length;h<u;h++){var l=t[h];if(!l.options.isWholeLine){var c=l.options.className,d=Boolean(l.options.showIfCollapsed);let t=l.range;d&&1===t.endColumn&&t.endLineNumber!==t.startLineNumber&&(t=new ie.a(t.startLineNumber,t.startColumn,t.endLineNumber-1,this._context.model.getLineMaxColumn(t.endLineNumber-1))),a=r===c&&s===d&&ie.a.areIntersectingOrTouching(a,t)?ie.a.plusRange(a,t):(null!==r&&this._renderNormalDecoration(e,a,r,s,n,o,i),r=c,s=d,t)}}null!==r&&this._renderNormalDecoration(e,a,r,s,n,o,i)}_renderNormalDecoration(e,t,i,n,o,r,s){var a=e.linesVisibleRangesForRange(t,"findMatch"===i);if(a)for(let e=0,t=a.length;e<t;e++){const t=a[e];if(!t.outsideRenderedLine){var l,c=t.lineNumber-r;!n||1!==t.ranges.length||0===(l=t.ranges[0]).width&&(t.ranges[0]=new R(l.left,this._typicalHalfwidthCharacterWidth));for(let e=0,n=t.ranges.length;e<n;e++){var d=t.ranges[e];d='<div class="cdr '+i+'" style="left:'+String(d.left)+"px;width:"+String(d.width)+"px;height:"+o+'px;"></div>';s[c]+=d}}}}render(e,t){return this._renderResult?(e=t-e)<0||e>=this._renderResult.length?"":this._renderResult[e]:""}}var st=i(120),at=i(4);class lt extends T{constructor(e,t,i,n){super(e);const o=this._context.configuration.options;var r=o.get(91),s=o.get(66),a=o.get(34),c=o.get(94);r={listenOnDomNode:i.domNode,className:"editor-scrollable "+Object(Ne.e)(e.theme.type),useShadows:!1,lazyRender:!0,vertical:r.vertical,horizontal:r.horizontal,verticalHasArrows:r.verticalHasArrows,horizontalHasArrows:r.horizontalHasArrows,verticalScrollbarSize:r.verticalScrollbarSize,verticalSliderSize:r.verticalSliderSize,horizontalScrollbarSize:r.horizontalScrollbarSize,horizontalSliderSize:r.horizontalSliderSize,handleMouseWheel:r.handleMouseWheel,alwaysConsumeMouseWheel:r.alwaysConsumeMouseWheel,arrowSize:r.arrowSize,mouseWheelScrollSensitivity:s,fastScrollSensitivity:a,scrollPredominantAxis:c,scrollByPage:r.scrollByPage};this.scrollbar=this._register(new st.c(t.domNode,r,this._context.viewLayout.getScrollable())),M.write(this.scrollbar.getDomNode(),5),this.scrollbarDomNode=Object(v.b)(this.scrollbar.getDomNode()),this.scrollbarDomNode.setPosition("absolute"),this._setLayout();const d=(e,t,i)=>{const n={};!t||(t=e.scrollTop)&&(n.scrollTop=this._context.viewLayout.getCurrentScrollTop()+t,e.scrollTop=0),!i||(i=e.scrollLeft)&&(n.scrollLeft=this._context.viewLayout.getCurrentScrollLeft()+i,e.scrollLeft=0),this._context.model.setScrollPosition(n,1)};this._register(l.i(i.domNode,"scroll",e=>d(i.domNode,!0,!0))),this._register(l.i(t.domNode,"scroll",e=>d(t.domNode,!0,!1))),this._register(l.i(n.domNode,"scroll",e=>d(n.domNode,!0,!1))),this._register(l.i(this.scrollbarDomNode.domNode,"scroll",e=>d(this.scrollbarDomNode.domNode,!0,!1)))}dispose(){super.dispose()}_setLayout(){const e=this._context.configuration.options;var t=e.get(129);this.scrollbarDomNode.setLeft(t.contentLeft),"right"===e.get(64).side?this.scrollbarDomNode.setWidth(t.contentWidth+t.minimap.minimapWidth):this.scrollbarDomNode.setWidth(t.contentWidth),this.scrollbarDomNode.setHeight(t.height)}getOverviewRulerLayoutInfo(){return this.scrollbar.getOverviewRulerLayoutInfo()}getDomNode(){return this.scrollbarDomNode}delegateVerticalScrollbarMouseDown(e){this.scrollbar.delegateVerticalScrollbarMouseDown(e)}onConfigurationChanged(e){if(e.hasChanged(91)||e.hasChanged(66)||e.hasChanged(34)){const e=this._context.configuration.options;var t=e.get(91),i=e.get(66),n=e.get(34),o=e.get(94);o={vertical:t.vertical,horizontal:t.horizontal,verticalScrollbarSize:t.verticalScrollbarSize,horizontalScrollbarSize:t.horizontalScrollbarSize,scrollByPage:t.scrollByPage,handleMouseWheel:t.handleMouseWheel,mouseWheelScrollSensitivity:i,fastScrollSensitivity:n,scrollPredominantAxis:o};this.scrollbar.updateOptions(o)}return e.hasChanged(129)&&this._setLayout(),!0}onScrollChanged(e){return!0}onThemeChanged(e){return this.scrollbar.updateClassName("editor-scrollable "+Object(Ne.e)(this._context.theme.type)),!0}prepareRender(e){}render(e){this.scrollbar.renderNow()}}Object(Ne.f)((e,t)=>{var i=e.getColor(at.Ec);i&&t.addRule(`\n\t\t\t.monaco-scrollable-element > .shadow.top {\n\t\t\t\tbox-shadow: ${i} 0 6px 6px -6px inset;\n\t\t\t}\n\n\t\t\t.monaco-scrollable-element > .shadow.left {\n\t\t\t\tbox-shadow: ${i} 6px 0 6px -6px inset;\n\t\t\t}\n\n\t\t\t.monaco-scrollable-element > .shadow.top.left {\n\t\t\t\tbox-shadow: ${i} 6px 6px 6px -6px inset;\n\t\t\t}\n\t\t`),(i=e.getColor(at.Gc))&&t.addRule(`\n\t\t\t.monaco-scrollable-element > .scrollbar > .slider {\n\t\t\t\tbackground: ${i};\n\t\t\t}\n\t\t`),(i=e.getColor(at.Hc))&&t.addRule(`\n\t\t\t.monaco-scrollable-element > .scrollbar > .slider:hover {\n\t\t\t\tbackground: ${i};\n\t\t\t}\n\t\t`),(e=e.getColor(at.Fc))&&t.addRule(`\n\t\t\t.monaco-scrollable-element > .scrollbar > .slider.active {\n\t\t\t\tbackground: ${e};\n\t\t\t}\n\t\t`)}),i(434);class ct{constructor(e,t,i){this._decorationToRenderBrand=void 0,this.startLineNumber=+e,this.endLineNumber=+t,this.className=String(i)}}class dt extends Oe{_render(e,t,i){const n=[];for(let i=e;i<=t;i++){n[i-e]=[]}if(0===i.length)return n;i.sort((e,t)=>e.className===t.className?e.startLineNumber===t.startLineNumber?e.endLineNumber-t.endLineNumber:e.startLineNumber-t.startLineNumber:e.className<t.className?-1:1);let o=null,r=0;for(let l=0,c=i.length;l<c;l++){var s=i[l],a=s.className;let c=Math.max(s.startLineNumber,e)-e;s=Math.min(s.endLineNumber,t)-e,r=o===a?(c=Math.max(r+1,c),Math.max(r,s)):(o=a,s);for(let e=c;e<=r;e++)n[e].push(o)}return n}}class ht extends dt{constructor(e){super(),this._context=e;const t=this._context.configuration.options;e=t.get(129),this._lineHeight=t.get(58),this._glyphMargin=t.get(49),this._glyphMarginLeft=e.glyphMarginLeft,this._glyphMarginWidth=e.glyphMarginWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const t=this._context.configuration.options;var i=t.get(129);return this._lineHeight=t.get(58),this._glyphMargin=t.get(49),this._glyphMarginLeft=i.glyphMarginLeft,this._glyphMarginWidth=i.glyphMarginWidth,!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_getDecorations(e){var t=e.getDecorationsInViewport();let i=[],n=0;for(let e=0,s=t.length;e<s;e++){var o=t[e],r=o.options.glyphMarginClassName;r&&(i[n++]=new ct(o.range.startLineNumber,o.range.endLineNumber,r))}return i}prepareRender(e){if(this._glyphMargin){var t=e.visibleRange.startLineNumber,i=e.visibleRange.endLineNumber,n=this._render(t,i,this._getDecorations(e)),o=(e=this._lineHeight.toString(),'" style="left:'+this._glyphMarginLeft.toString()+"px;width:"+this._glyphMarginWidth.toString()+"px;height:"+e+'px;"></div>');const s=[];for(let e=t;e<=i;e++){var r=e-t;const i=n[r];0===i.length?s[r]="":s[r]='<div class="cgmr codicon '+i.join(" ")+o}this._renderResult=s}else this._renderResult=null}render(e,t){return this._renderResult?(e=t-e)<0||e>=this._renderResult.length?"":this._renderResult[e]:""}}i(436);var ut=i(50),gt=i(42),pt=i(19);class ft extends Oe{constructor(e){super(),this._context=e,this._primaryPosition=null;const t=this._context.configuration.options;var i=t.get(130);e=t.get(43);this._lineHeight=t.get(58),this._spaceWidth=e.spaceWidth,this._maxIndentLeft=-1===i.wrappingColumn?-1:i.wrappingColumn*e.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=t.get(13),this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const t=this._context.configuration.options;var i=t.get(130),n=t.get(43);return this._lineHeight=t.get(58),this._spaceWidth=n.spaceWidth,this._maxIndentLeft=-1===i.wrappingColumn?-1:i.wrappingColumn*n.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=t.get(13),!0}onCursorStateChanged(e){var t=e.selections[0].getPosition();return!(null!==(e=this._primaryPosition)&&void 0!==e&&e.equals(t)||(this._primaryPosition=t,0))}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}onLanguageConfigurationChanged(e){return!0}prepareRender(e){var t;if(this._bracketPairGuideOptions.indentation||!1!==this._bracketPairGuideOptions.bracketPairs){var i=e.visibleRange.startLineNumber,n=e.visibleRange.endLineNumber,o=e.scrollWidth,r=this._lineHeight,s=this._primaryPosition,a=this.getGuidesByLine(i,n,s);const p=[];for(let s=i;s<=n;s++){var l=s-i,c=a[l];let n="";var d=null!==(t=null===(t=e.visibleRangeForPosition(new te.a(s,1)))||void 0===t?void 0:t.left)&&void 0!==t?t:0;for(const t of c){var h=d+(t.visibleColumn-1)*this._spaceWidth;if(o<h||0<this._maxIndentLeft&&h>this._maxIndentLeft)break;var u=t.horizontalLine?t.horizontalLine.top?"horizontal-top":"horizontal-bottom":"vertical",g=t.horizontalLine?(null!==(g=null===(g=e.visibleRangeForPosition(new te.a(s,t.horizontalLine.endColumn)))||void 0===g?void 0:g.left)&&void 0!==g?g:h+this._spaceWidth)-h:this._spaceWidth;n+=`<div class="core-guide ${t.className} ${u}" style="left:${h}px;height:${r}px;width:${g}px"></div>`}p[l]=n}this._renderResult=p}else this._renderResult=null}getGuidesByLine(e,t,i){var n=!1!==this._bracketPairGuideOptions.bracketPairs?this._context.model.getBracketGuidesInRangeByLine(e,t,i,{highlightActive:this._bracketPairGuideOptions.highlightActiveBracketPair,horizontalGuides:!0===this._bracketPairGuideOptions.bracketPairsHorizontal?ut.c.Enabled:"active"===this._bracketPairGuideOptions.bracketPairsHorizontal?ut.c.EnabledForActive:ut.c.Disabled,includeInactive:!0===this._bracketPairGuideOptions.bracketPairs}):null,o=this._bracketPairGuideOptions.indentation?this._context.model.getLinesIndentGuides(e,t):null;let r=0,s=0,a=0;this._bracketPairGuideOptions.highlightActiveIndentation&&i&&(r=(i=this._context.model.getActiveIndentGuide(i.lineNumber,e,t)).startLineNumber,s=i.endLineNumber,a=i.indent);var{indentSize:l}=this._context.model.getTextModelOptions();const c=[];for(let i=e;i<=t;i++){const t=new Array;c.push(t);var d=n?n[i-e]:[];const p=new et.a(d);var h=o?o[i-e]:[];for(let e=1;e<=h;e++){const n=(e-1)*l+1;var u=0===d.length&&r<=i&&i<=s&&e===a;t.push(...p.takeWhile(e=>e.visibleColumn<n)||[]);var g=p.peek();g&&g.visibleColumn===n&&!g.horizontalLine||t.push(new ut.d(n,u?"core-guide-indent-active":"core-guide-indent",null))}t.push(...p.takeWhile(e=>!0)||[])}return c}render(e,t){return this._renderResult?(e=t-e)<0||e>=this._renderResult.length?"":this._renderResult[e]:""}}function mt(e){if(!e||!e.isTransparent())return e}Object(Ne.f)((e,t)=>{var i=e.getColor(Ee.A);i&&t.addRule(`.monaco-editor .lines-content .core-guide-indent { box-shadow: 1px 0 0 0 ${i} inset; }`),(i=e.getColor(Ee.a)||i)&&t.addRule(`.monaco-editor .lines-content .core-guide-indent-active { box-shadow: 1px 0 0 0 ${i} inset; }`);const n=[{bracketColor:Ee.c,guideColor:Ee.r,guideColorActive:Ee.l},{bracketColor:Ee.d,guideColor:Ee.s,guideColorActive:Ee.m},{bracketColor:Ee.e,guideColor:Ee.t,guideColorActive:Ee.n},{bracketColor:Ee.f,guideColor:Ee.u,guideColorActive:Ee.o},{bracketColor:Ee.g,guideColor:Ee.v,guideColorActive:Ee.p},{bracketColor:Ee.h,guideColor:Ee.w,guideColorActive:Ee.q}],o=new gt.a;var r=n.map(t=>{const i=e.getColor(t.bracketColor);var n=e.getColor(t.guideColor);t=e.getColor(t.guideColorActive),n=mt(null!==(n=mt(n))&&void 0!==n?n:null==i?void 0:i.transparent(.3)),t=mt(null!==(t=mt(t))&&void 0!==t?t:i);if(n&&t)return{guideColor:n,guideColorActive:t}}).filter(pt.h);if(0<r.length){for(let e=0;e<30;e++){const i=r[e%r.length];t.addRule(`.monaco-editor .${o.getInlineClassNameOfLevel(e).replace(/ /g,".")} { --guide-color: ${i.guideColor}; --guide-color-active: ${i.guideColorActive}; }`)}t.addRule(".monaco-editor .vertical { box-shadow: 1px 0 0 0 var(--guide-color) inset; }"),t.addRule(".monaco-editor .horizontal-top { border-top: 1px solid var(--guide-color); }"),t.addRule(".monaco-editor .horizontal-bottom { border-bottom: 1px solid var(--guide-color); }"),t.addRule(`.monaco-editor .vertical.${o.activeClassName} { box-shadow: 1px 0 0 0 var(--guide-color-active) inset; }`),t.addRule(`.monaco-editor .horizontal-top.${o.activeClassName} { border-top: 1px solid var(--guide-color-active); }`),t.addRule(`.monaco-editor .horizontal-bottom.${o.activeClassName} { border-bottom: 1px solid var(--guide-color-active); }`)}}),i(438);class vt{constructor(){this._currentVisibleRange=new ie.a(1,1,1,1)}getCurrentVisibleRange(){return this._currentVisibleRange}setCurrentVisibleRange(e){this._currentVisibleRange=e}}class bt{constructor(e,t,i,n,o,r){this.lineNumber=e,this.startColumn=t,this.endColumn=i,this.startScrollTop=n,this.stopScrollTop=o,this.scrollType=r,this.type="range",this.minLineNumber=e,this.maxLineNumber=e}}class _t{constructor(e,t,i,n){this.selections=e,this.startScrollTop=t,this.stopScrollTop=i,this.scrollType=n,this.type="selections";let o=e[0].startLineNumber,r=e[0].endLineNumber;for(let t=1,i=e.length;t<i;t++){var s=e[t];o=Math.min(o,s.startLineNumber),r=Math.max(r,s.endLineNumber)}this.minLineNumber=o,this.maxLineNumber=r}}class wt extends T{constructor(e,t){super(e),this._linesContent=t,this._textRangeRestingSpot=document.createElement("div"),this._visibleLines=new Ue(this),this.domNode=this._visibleLines.domNode;var i=this._context.configuration;const n=this._context.configuration.options;e=n.get(43),t=n.get(130),this._lineHeight=n.get(58),this._typicalHalfwidthCharacterWidth=e.typicalHalfwidthCharacterWidth,this._isViewportWrapping=t.isViewportWrapping,this._revealHorizontalRightPadding=n.get(88),this._cursorSurroundingLines=n.get(25),this._cursorSurroundingLinesStyle=n.get(26),this._canUseLayerHinting=!n.get(28),this._viewLineOptions=new G(i,this._context.theme.type),M.write(this.domNode,7),this.domNode.setClassName("view-lines "+Ae.a),g.a.applyFontInfo(this.domNode,e),this._maxLineWidth=0,this._asyncUpdateLineWidths=new C.e(()=>{this._updateLineWidthsSlow()},200),this._asyncCheckMonospaceFontAssumptions=new C.e(()=>{this._checkMonospaceFontAssumptions()},2e3),this._lastRenderedData=new vt,this._horizontalRevealRequest=null}dispose(){this._asyncUpdateLineWidths.dispose(),this._asyncCheckMonospaceFontAssumptions.dispose(),super.dispose()}getDomNode(){return this.domNode}createVisibleLine(){return new Y(this._viewLineOptions)}onConfigurationChanged(e){this._visibleLines.onConfigurationChanged(e),e.hasChanged(130)&&(this._maxLineWidth=0);const t=this._context.configuration.options;var i=t.get(43),n=t.get(130);return this._lineHeight=t.get(58),this._typicalHalfwidthCharacterWidth=i.typicalHalfwidthCharacterWidth,this._isViewportWrapping=n.isViewportWrapping,this._revealHorizontalRightPadding=t.get(88),this._cursorSurroundingLines=t.get(25),this._cursorSurroundingLinesStyle=t.get(26),this._canUseLayerHinting=!t.get(28),g.a.applyFontInfo(this.domNode,i),this._onOptionsMaybeChanged(),e.hasChanged(129)&&(this._maxLineWidth=0),!0}_onOptionsMaybeChanged(){var e=this._context.configuration;e=new G(e,this._context.theme.type);if(this._viewLineOptions.equals(e))return!1;this._viewLineOptions=e;e=this._visibleLines.getStartLineNumber();var t=this._visibleLines.getEndLineNumber();for(let i=e;i<=t;i++){this._visibleLines.getVisibleLine(i).onOptionsChanged(this._viewLineOptions)}return!0}onCursorStateChanged(e){var t=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber();let n=!1;for(let e=t;e<=i;e++)n=this._visibleLines.getVisibleLine(e).onSelectionChanged()||n;return n}onDecorationsChanged(e){var t=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber();for(let e=t;e<=i;e++)this._visibleLines.getVisibleLine(e).onDecorationsChanged();return!0}onFlushed(e){return e=this._visibleLines.onFlushed(e),this._maxLineWidth=0,e}onLinesChanged(e){return this._visibleLines.onLinesChanged(e)}onLinesDeleted(e){return this._visibleLines.onLinesDeleted(e)}onLinesInserted(e){return this._visibleLines.onLinesInserted(e)}onRevealRangeRequest(e){var t=this._computeScrollTopToRevealRange(this._context.viewLayout.getFutureViewport(),e.source,e.range,e.selections,e.verticalType);if(-1===t)return!1;let i=this._context.viewLayout.validateScrollPosition({scrollTop:t});return e.revealHorizontal?e.range&&e.range.startLineNumber!==e.range.endLineNumber?i={scrollTop:i.scrollTop,scrollLeft:0}:e.range?this._horizontalRevealRequest=new bt(e.range.startLineNumber,e.range.startColumn,e.range.endColumn,this._context.viewLayout.getCurrentScrollTop(),i.scrollTop,e.scrollType):e.selections&&0<e.selections.length&&(this._horizontalRevealRequest=new _t(e.selections,this._context.viewLayout.getCurrentScrollTop(),i.scrollTop,e.scrollType)):this._horizontalRevealRequest=null,e=Math.abs(this._context.viewLayout.getCurrentScrollTop()-i.scrollTop)<=this._lineHeight?1:e.scrollType,this._context.model.setScrollPosition(i,e),!0}onScrollChanged(e){var t,i;return this._horizontalRevealRequest&&e.scrollLeftChanged&&(this._horizontalRevealRequest=null),this._horizontalRevealRequest&&e.scrollTopChanged&&(t=Math.min(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop),i=Math.max(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop),(e.scrollTop<t||e.scrollTop>i)&&(this._horizontalRevealRequest=null)),this.domNode.setWidth(e.scrollWidth),this._visibleLines.onScrollChanged(e)||!0}onTokensChanged(e){return this._visibleLines.onTokensChanged(e)}onZonesChanged(e){return this._context.model.setMaxLineWidth(this._maxLineWidth),this._visibleLines.onZonesChanged(e)}onThemeChanged(e){return this._onOptionsMaybeChanged()}getPositionFromDOMInfo(e,t){if(null===(o=this._getViewLineDomNode(e)))return null;var i=this._getLineNumberFor(o);if(-1===i)return null;if(i<1||i>this._context.model.getLineCount())return null;if(1===this._context.model.getLineMaxColumn(i))return new te.a(i,1);var n=this._visibleLines.getStartLineNumber(),o=this._visibleLines.getEndLineNumber();if(i<n||o<i)return null;let r=this._visibleLines.getVisibleLine(i).getColumnOfNodeOffset(i,e,t);return r<(t=this._context.model.getLineMinColumn(i))&&(r=t),new te.a(i,r)}_getViewLineDomNode(e){for(;e&&1===e.nodeType;){if(e.className===Y.CLASS_NAME)return e;e=e.parentElement}return null}_getLineNumberFor(e){var t=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber();for(let n=t;n<=i;n++){if(e===this._visibleLines.getVisibleLine(n).getDomNode())return n}return-1}getLineWidth(e){var t=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber();return e<t||i<e?-1:this._visibleLines.getVisibleLine(e).getWidth()}linesVisibleRangesForRange(e,t){if(this.shouldRender())return null;var i=e.endLineNumber,n=ie.a.intersectRanges(e,this._lastRenderedData.getCurrentVisibleRange());if(!n)return null;let o=[],r=0;var s=new q(this.domNode.domNode,this._textRangeRestingSpot);let a=0;t&&(a=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(new te.a(n.startLineNumber,1)).lineNumber);var l=this._visibleLines.getStartLineNumber(),c=this._visibleLines.getEndLineNumber();for(let e=n.startLineNumber;e<=n.endLineNumber;e++)if(!(e<l||e>c)){var d=e===n.startLineNumber?n.startColumn:1,h=e===n.endLineNumber?n.endColumn:this._context.model.getLineMaxColumn(e);const l=this._visibleLines.getVisibleLine(e).getVisibleRangesForRange(e,d,h,s);l&&(t&&e<i&&(h=a,a=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(new te.a(e+1,1)).lineNumber,h!==a&&(l.ranges[l.ranges.length-1].width+=this._typicalHalfwidthCharacterWidth)),o[r++]=new P(l.outsideRenderedLine,e,R.from(l.ranges)))}return 0===r?null:o}_visibleRangesForLineRange(e,t,i){return this.shouldRender()||e<this._visibleLines.getStartLineNumber()||e>this._visibleLines.getEndLineNumber()?null:this._visibleLines.getVisibleLine(e).getVisibleRangesForRange(e,t,i,new q(this.domNode.domNode,this._textRangeRestingSpot))}visibleRangeForPosition(e){return(e=this._visibleRangesForLineRange(e.lineNumber,e.column,e.column))?new j(e.outsideRenderedLine,e.ranges[0].left):null}updateLineWidths(){this._updateLineWidths(!1)}_updateLineWidthsFast(){return this._updateLineWidths(!0)}_updateLineWidthsSlow(){this._updateLineWidths(!1)}_updateLineWidths(e){var t=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber();let n=1,o=!0;for(let r=t;r<=i;r++){const t=this._visibleLines.getVisibleLine(r);!e||t.getWidthIsFast()?n=Math.max(n,t.getWidth()):o=!1}return o&&1===t&&i===this._context.model.getLineCount()&&(this._maxLineWidth=0),this._ensureMaxLineWidth(n),o}_checkMonospaceFontAssumptions(){let e=-1,t=-1;var i,n=this._visibleLines.getStartLineNumber(),o=this._visibleLines.getEndLineNumber();for(let r=n;r<=o;r++){const n=this._visibleLines.getVisibleLine(r);!n.needsMonospaceFontCheck()||(i=n.getWidth())>t&&(t=i,e=r)}if(-1!==e&&!this._visibleLines.getVisibleLine(e).monospaceAssumptionsAreValid())for(let e=n;e<=o;e++){this._visibleLines.getVisibleLine(e).onMonospaceAssumptionsInvalidated()}}prepareRender(){throw new Error("Not supported")}render(){throw new Error("Not supported")}renderText(e){var t;if(this._visibleLines.renderLines(e),this._lastRenderedData.setCurrentVisibleRange(e.visibleRange),this.domNode.setWidth(this._context.viewLayout.getScrollWidth()),this.domNode.setHeight(Math.min(this._context.viewLayout.getScrollHeight(),1e6)),this._horizontalRevealRequest&&(i=this._horizontalRevealRequest,e.startLineNumber<=i.minLineNumber&&i.maxLineNumber<=e.endLineNumber&&(this._horizontalRevealRequest=null,this.onDidRender(),(t=this._computeScrollLeftToReveal(i))&&(this._isViewportWrapping||this._ensureMaxLineWidth(t.maxHorizontalOffset),this._context.model.setScrollPosition({scrollLeft:t.scrollLeft},i.scrollType)))),this._updateLineWidthsFast()||this._asyncUpdateLineWidths.schedule(),b.d&&!this._asyncCheckMonospaceFontAssumptions.isScheduled()){var i=this._visibleLines.getStartLineNumber(),n=this._visibleLines.getEndLineNumber();for(let e=i;e<=n;e++){if(this._visibleLines.getVisibleLine(e).needsMonospaceFontCheck()){this._asyncCheckMonospaceFontAssumptions.schedule();break}}}this._linesContent.setLayerHinting(this._canUseLayerHinting),this._linesContent.setContain("strict"),e=this._context.viewLayout.getCurrentScrollTop()-e.bigNumbersDelta,this._linesContent.setTop(-e),this._linesContent.setLeft(-this._context.viewLayout.getCurrentScrollLeft())}_ensureMaxLineWidth(e){e=Math.ceil(e),this._maxLineWidth<e&&(this._maxLineWidth=e,this._context.model.setMaxLineWidth(this._maxLineWidth))}_computeScrollTopToRevealRange(e,t,i,n,o){var r,s,a=e.top,l=e.height;e=a+l;let c,d,h,u;if(n&&0<n.length){let e=n[0].startLineNumber,t=n[0].endLineNumber;for(let i=1,o=n.length;i<o;i++){var g=n[i];e=Math.min(e,g.startLineNumber),t=Math.max(t,g.endLineNumber)}c=!1,d=this._context.viewLayout.getVerticalOffsetForLineNumber(e),h=this._context.viewLayout.getVerticalOffsetForLineNumber(t)+this._lineHeight}else{if(!i)return-1;c=!0,d=this._context.viewLayout.getVerticalOffsetForLineNumber(i.startLineNumber),h=this._context.viewLayout.getVerticalOffsetForLineNumber(i.endLineNumber)+this._lineHeight}if("mouse"===t&&"default"===this._cursorSurroundingLinesStyle||(d-=(r=Math.min(l/this._lineHeight/2,this._cursorSurroundingLines))*this._lineHeight,h+=Math.max(0,r-1)*this._lineHeight),0!==o&&4!==o||(h+=this._lineHeight),h-d>l){if(!c)return-1;u=d}else u=5===o||6===o?6===o&&a<=d&&h<=e?a:(s=d-(r=Math.max(5*this._lineHeight,.2*l)),r=h-l,Math.max(r,s)):1===o||2===o?2===o&&a<=d&&h<=e?a:(s=(d+h)/2,Math.max(0,s-l/2)):this._computeMinimumScrolling(a,e,d,h,3===o,4===o);return u}_computeScrollLeftToReveal(e){var t=this._context.viewLayout.getCurrentViewport(),i=t.left,n=i+t.width;let o=1073741824,r=0;if("range"===e.type){var s=this._visibleRangesForLineRange(e.lineNumber,e.startColumn,e.endColumn);if(!s)return null;for(const e of s.ranges)o=Math.min(o,Math.round(e.left)),r=Math.max(r,Math.round(e.left+e.width))}else for(const t of e.selections){if(t.startLineNumber!==t.endLineNumber)return null;var a=this._visibleRangesForLineRange(t.startLineNumber,t.startColumn,t.endColumn);if(!a)return null;for(const e of a.ranges)o=Math.min(o,Math.round(e.left)),r=Math.max(r,Math.round(e.left+e.width))}return o=Math.max(0,o-wt.HORIZONTAL_EXTRA_PX),r+=this._revealHorizontalRightPadding,"selections"===e.type&&r-o>t.width?null:{scrollLeft:this._computeMinimumScrolling(i,n,o,r),maxHorizontalOffset:r}}_computeMinimumScrolling(e,t,i,n,o,r){o=!!o,r=!!r;var s=(t|=0)-(e|=0);return(n|=0)-(i|=0)<s&&!o?r?Math.max(0,n-s):i<e?i:t<n?Math.max(0,n-s):e:i}}wt.HORIZONTAL_EXTRA_PX=30,i(440);class Ct extends dt{constructor(e){super(),this._context=e;e=this._context.configuration.options.get(129),this._decorationsLeft=e.decorationsLeft,this._decorationsWidth=e.decorationsWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){var t=this._context.configuration.options.get(129);return this._decorationsLeft=t.decorationsLeft,this._decorationsWidth=t.decorationsWidth,!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_getDecorations(e){var t=e.getDecorationsInViewport();let i=[],n=0;for(let e=0,s=t.length;e<s;e++){var o=t[e],r=o.options.linesDecorationsClassName;r&&(i[n++]=new ct(o.range.startLineNumber,o.range.endLineNumber,r)),(r=o.options.firstLineDecorationClassName)&&(i[n++]=new ct(o.range.startLineNumber,o.range.startLineNumber,r))}return i}prepareRender(e){var t=e.visibleRange.startLineNumber,i=e.visibleRange.endLineNumber,n=this._render(t,i,this._getDecorations(e)),o='" style="left:'+this._decorationsLeft.toString()+"px;width:"+this._decorationsWidth.toString()+'px;"></div>';const r=[];for(let e=t;e<=i;e++){var s=e-t,a=n[s];let i="";for(let e=0,t=a.length;e<t;e++)i+='<div class="cldr '+a[e]+o;r[s]=i}this._renderResult=r}render(e,t){return this._renderResult?this._renderResult[t-e]:""}}i(442);class yt extends dt{constructor(e){super(),this._context=e,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){return!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_getDecorations(e){var t=e.getDecorationsInViewport();let i=[],n=0;for(let e=0,s=t.length;e<s;e++){var o=t[e],r=o.options.marginClassName;r&&(i[n++]=new ct(o.range.startLineNumber,o.range.endLineNumber,r))}return i}prepareRender(e){var t=e.visibleRange.startLineNumber,i=e.visibleRange.endLineNumber,n=this._render(t,i,this._getDecorations(e));const o=[];for(let e=t;e<=i;e++){var r=e-t,s=n[r];let i="";for(let e=0,t=s.length;e<t;e++)i+='<div class="cmdr '+s[e]+'" style=""></div>';o[r]=i}this._renderResult=o}render(e,t){return this._renderResult?this._renderResult[t-e]:""}}i(444);class xt{constructor(e,t,i,n){this._rgba8Brand=void 0,this.r=xt._clamp(e),this.g=xt._clamp(t),this.b=xt._clamp(i),this.a=xt._clamp(n)}equals(e){return this.r===e.r&&this.g===e.g&&this.b===e.b&&this.a===e.a}static _clamp(e){return e<0?0:255<e?255:0|e}}xt.Empty=new xt(0,0,0,0);var St=i(11);class kt extends h.a{constructor(){super(),this._onDidChange=new d.b,this.onDidChange=this._onDidChange.event,this._updateColorMap(),this._register(St.F.onDidChange(e=>{e.changedColorMap&&this._updateColorMap()}))}static getInstance(){return this._INSTANCE||(this._INSTANCE=Object(h.h)(new kt)),this._INSTANCE}_updateColorMap(){const e=St.F.getColorMap();if(!e)return this._colors=[xt.Empty],void(this._backgroundIsLight=!0);this._colors=[xt.Empty];for(let i=1;i<e.length;i++){var t=e[i].rgba;this._colors[i]=new xt(t.r,t.g,t.b,Math.round(255*t.a))}var i=e[2].getRelativeLuminance();this._backgroundIsLight=.5<=i,this._onDidChange.fire(void 0)}getColor(e){return(e<1||e>=this._colors.length)&&(e=2),this._colors[e]}backgroundIsLight(){return this._backgroundIsLight}}kt._INSTANCE=null;var Dt=i(68);const Lt=(()=>{const e=[];for(let t=32;t<=126;t++)e.push(t);return e.push(65533),e})();var Ot=i(159);class Et{constructor(e,t){this.scale=t,this._minimapCharRendererBrand=void 0,this.charDataNormal=Et.soften(e,.8),this.charDataLight=Et.soften(e,50/60)}static soften(e,t){let i=new Uint8ClampedArray(e.length);for(let n=0,o=e.length;n<o;n++)i[n]=Object(Ot.b)(e[n]*t);return i}renderChar(e,t,i,n,o,r,s,a,l,c,d){var h=+this.scale,u=2*this.scale,g=d?1:u;if(t+h>e.width||i+g>e.height)console.warn("bad render request outside image data");else{var p=c?this.charDataLight:this.charDataNormal,f=(n=(n=n,l=l,(n-=32)<0||96<n?l<=2?(n+96)%96:95:n),4*e.width),m=s.r,v=s.g,b=s.b,_=o.r-m,w=o.g-v,C=o.b-b,y=Math.max(r,a);const d=e.data;let S=n*h*u,k=i*f+4*t;for(let e=0;e<g;e++){let e=k;for(let t=0;t<h;t++){var x=p[S++]/255*(r/255);d[e++]=m+_*x,d[e++]=v+w*x,d[e++]=b+C*x,d[e++]=y}k+=f}}}blockRenderChar(e,t,i,n,o,r,s,a){var l=+this.scale,c=2*this.scale,d=a?1:c;if(t+l>e.width||i+d>e.height)console.warn("bad render request outside image data");else{var h=4*e.width,u=o/255*.5,g=(a=r.r,c=r.g,r=r.b,a+(n.r-a)*u),p=c+(n.g-c)*u,f=r+(n.b-r)*u,m=Math.max(o,s);const v=e.data;let b=i*h+4*t;for(let e=0;e<d;e++){let e=b;for(let t=0;t<l;t++)v[e++]=g,v[e++]=p,v[e++]=f,v[e++]=m;b+=h}}}}var Nt=i(138);const It={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15},Tt=e=>{const t=new Uint8ClampedArray(e.length/2);for(let i=0;i<e.length;i+=2)t[i>>1]=It[e[i]]<<4|15&It[e[i+1]];return t},Mt={1:Object(Nt.a)(()=>Tt("0000511D6300CF609C709645A78432005642574171487021003C451900274D35D762755E8B629C5BA856AF57BA649530C167D1512A272A3F6038604460398526BCA2A968DB6F8957C768BE5FBE2FB467CF5D8D5B795DC7625B5DFF50DE64C466DB2FC47CD860A65E9A2EB96CB54CE06DA763AB2EA26860524D3763536601005116008177A8705E53AB738E6A982F88BAA35B5F5B626D9C636B449B737E5B7B678598869A662F6B5B8542706C704C80736A607578685B70594A49715A4522E792")),2:Object(Nt.a)(()=>Tt("000000000000000055394F383D2800008B8B1F210002000081B1CBCBCC820000847AAF6B9AAF2119BE08B8881AD60000A44FD07DCCF107015338130C00000000385972265F390B406E2437634B4B48031B12B8A0847000001E15B29A402F0000000000004B33460B00007A752C2A0000000000004D3900000084394B82013400ABA5CFC7AD9C0302A45A3E5A98AB000089A43382D97900008BA54AA087A70A0248A6A7AE6DBE0000BF6F94987EA40A01A06DCFA7A7A9030496C32F77891D0000A99FB1A0AFA80603B29AB9CA75930D010C0948354D3900000C0948354F37460D0028BE673D8400000000AF9D7B6E00002B007AA8933400007AA642675C2700007984CFB9C3985B768772A8A6B7B20000CAAECAAFC4B700009F94A6009F840009D09F9BA4CA9C0000CC8FC76DC87F0000C991C472A2000000A894A48CA7B501079BA2C9C69BA20000B19A5D3FA89000005CA6009DA2960901B0A7F0669FB200009D009E00B7890000DAD0F5D092820000D294D4C48BD10000B5A7A4A3B1A50402CAB6CBA6A2000000B5A7A4A3B1A8044FCDADD19D9CB00000B7778F7B8AAE0803C9AB5D3F5D3F00009EA09EA0BAB006039EA0989A8C7900009B9EF4D6B7C00000A9A7816CACA80000ABAC84705D3F000096DA635CDC8C00006F486F266F263D4784006124097B00374F6D2D6D2D6D4A3A95872322000000030000000000008D8939130000000000002E22A5C9CBC70600AB25C0B5C9B400061A2DB04CA67001082AA6BEBEBFC606002321DACBC19E03087AA08B6768380000282FBAC0B8CA7A88AD25BBA5A29900004C396C5894A6000040485A6E356E9442A32CD17EADA70000B4237923628600003E2DE9C1D7B500002F25BBA5A2990000231DB6AFB4A804023025C0B5CAB588062B2CBDBEC0C706882435A75CA20000002326BD6A82A908048B4B9A5A668000002423A09CB4BB060025259C9D8A7900001C1FCAB2C7C700002A2A9387ABA200002626A4A47D6E9D14333163A0C87500004B6F9C2D643A257049364936493647358A34438355497F1A0000A24C1D590000D38DFFBDD4CD3126"))};class At{static create(e,t){if(this.lastCreated&&e===this.lastCreated.scale&&t===this.lastFontFamily)return this.lastCreated;let i;return i=Mt[e]?new Et(Mt[e](),e):At.createFromSampleData(At.createSampleData(t).data,e),this.lastFontFamily=t,this.lastCreated=i,i}static createSampleData(e){const t=document.createElement("canvas"),i=t.getContext("2d");t.style.height="16px",t.height=16,t.width=960,t.style.width="960px",i.fillStyle="#ffffff",i.font="bold 16px "+e,i.textBaseline="middle";let n=0;for(const e of Lt)i.fillText(String.fromCharCode(e),n,8),n+=10;return i.getImageData(0,0,960,16)}static createFromSampleData(e,t){if(61440!==e.length)throw new Error("Unexpected source in MinimapCharRenderer");return e=At._downsample(e,t),new Et(e,t)}static _downsampleChar(e,t,i,n,o){var r=+o,s=2*o;let a=n,l=0;for(let n=0;n<s;n++){var c=n/s*16,d=(n+1)/s*16;for(let n=0;n<r;n++){var h=n/r*10,u=(n+1)/r*10;let o=0,s=0;for(let i=c;i<d;i++){var g=t+3840*Math.floor(i),p=1-(i-Math.floor(i));for(let t=h;t<u;t++){var f=1-(t-Math.floor(t)),m=g+4*Math.floor(t);s+=f=f*p,o+=e[m]*e[m+3]/255*f}}var v=o/s;l=Math.max(l,v),i[a++]=Object(Ot.b)(v)}}return l}static _downsample(e,t){var i=2*t*1*t,n=96*i;const o=new Uint8ClampedArray(n);let r=0,s=0,a=0;for(let n=0;n<96;n++)a=Math.max(a,this._downsampleChar(e,s,o,r,t)),r+=i,s+=40;if(0<a){var l=255/a;for(let e=0;e<n;e++)o[e]*=l}return o}}class Pt{constructor(e,t,i){const n=e.options;var o=n.get(127),r=n.get(129),s=r.minimap;const a=n.get(43);e=n.get(64),this.renderMinimap=s.renderMinimap,this.size=e.size,this.minimapHeightIsEditorHeight=s.minimapHeightIsEditorHeight,this.scrollBeyondLastLine=n.get(93),this.showSlider=e.showSlider,this.pixelRatio=o,this.typicalHalfwidthCharacterWidth=a.typicalHalfwidthCharacterWidth,this.lineHeight=n.get(58),this.minimapLeft=s.minimapLeft,this.minimapWidth=s.minimapWidth,this.minimapHeight=r.height,this.canvasInnerWidth=s.minimapCanvasInnerWidth,this.canvasInnerHeight=s.minimapCanvasInnerHeight,this.canvasOuterWidth=s.minimapCanvasOuterWidth,this.canvasOuterHeight=s.minimapCanvasOuterHeight,this.isSampling=s.minimapIsSampling,this.editorHeight=r.height,this.fontScale=s.minimapScale,this.minimapLineHeight=s.minimapLineHeight,this.minimapCharWidth=+this.fontScale,this.charRenderer=Object(Nt.a)(()=>At.create(this.fontScale,a.fontFamily)),this.defaultBackgroundColor=i.getColor(2),this.backgroundColor=Pt._getMinimapBackground(t,this.defaultBackgroundColor),this.foregroundAlpha=Pt._getMinimapForegroundOpacity(t)}static _getMinimapBackground(e,t){return(e=e.getColor(at.dc))?new xt(e.rgba.r,e.rgba.g,e.rgba.b,Math.round(255*e.rgba.a)):t}static _getMinimapForegroundOpacity(e){return(e=e.getColor(at.gc))?xt._clamp(Math.round(255*e.rgba.a)):255}equals(e){return this.renderMinimap===e.renderMinimap&&this.size===e.size&&this.minimapHeightIsEditorHeight===e.minimapHeightIsEditorHeight&&this.scrollBeyondLastLine===e.scrollBeyondLastLine&&this.showSlider===e.showSlider&&this.pixelRatio===e.pixelRatio&&this.typicalHalfwidthCharacterWidth===e.typicalHalfwidthCharacterWidth&&this.lineHeight===e.lineHeight&&this.minimapLeft===e.minimapLeft&&this.minimapWidth===e.minimapWidth&&this.minimapHeight===e.minimapHeight&&this.canvasInnerWidth===e.canvasInnerWidth&&this.canvasInnerHeight===e.canvasInnerHeight&&this.canvasOuterWidth===e.canvasOuterWidth&&this.canvasOuterHeight===e.canvasOuterHeight&&this.isSampling===e.isSampling&&this.editorHeight===e.editorHeight&&this.fontScale===e.fontScale&&this.minimapLineHeight===e.minimapLineHeight&&this.minimapCharWidth===e.minimapCharWidth&&this.defaultBackgroundColor&&this.defaultBackgroundColor.equals(e.defaultBackgroundColor)&&this.backgroundColor&&this.backgroundColor.equals(e.backgroundColor)&&this.foregroundAlpha===e.foregroundAlpha}}class Rt{constructor(e,t,i,n,o,r,s,a){this.scrollTop=e,this.scrollHeight=t,this.sliderNeeded=i,this._computedSliderRatio=n,this.sliderTop=o,this.sliderHeight=r,this.startLineNumber=s,this.endLineNumber=a}getDesiredScrollTopFromDelta(e){return Math.round(this.scrollTop+e/this._computedSliderRatio)}getDesiredScrollTopFromTouchLocation(e){return Math.round((e-this.sliderHeight/2)/this._computedSliderRatio)}static create(e,t,i,n,o,r,s,a,l,c,d){var h=e.pixelRatio,u=e.minimapLineHeight,g=Math.floor(e.canvasInnerHeight/u),p=e.lineHeight;if(e.minimapHeightIsEditorHeight){var f=a*e.lineHeight+(e.scrollBeyondLastLine?o-e.lineHeight:0);const t=Math.max(1,Math.floor(o*o/f)),i=Math.max(0,e.minimapHeight-t),n=i/(c-o),r=l*n;return a=0<i,f=Math.floor(e.canvasInnerHeight/e.minimapLineHeight),new Rt(l,c,a,n,r,t,1,Math.min(s,f))}let m,v;m=r&&i!==s?Math.floor((i-t+1)*u/h):Math.floor(o/p*u/h),v=e.scrollBeyondLastLine?(s-1)*u/h:Math.max(0,s*u/h-m),v=Math.min(e.minimapHeight-m,v);const b=v/(c-o),_=l*b;let w=0;if(e.scrollBeyondLastLine&&(w=o/p-1),g>=s+w)return new Rt(l,c,o=0<v,b,_,m,1,e=s);{let e=Math.max(1,Math.floor(t-_*h/u));return d&&d.scrollHeight===c&&(d.scrollTop>l&&(e=Math.min(e,d.startLineNumber)),d.scrollTop<l&&(e=Math.max(e,d.startLineNumber))),g=Math.min(s,e+g-1),new Rt(l,c,!0,b,h=(t-e+(l-n)/p)*u/h,m,e,g)}}}class Ft{constructor(e){this.dy=e}onContentChanged(){this.dy=-1}onTokensChanged(){this.dy=-1}}Ft.INVALID=new Ft(-1);class jt{constructor(e,t,i){this.renderedLayout=e,this._imageData=t,this._renderedLines=new He(()=>Ft.INVALID),this._renderedLines._set(e.startLineNumber,i)}linesEquals(e){if(!this.scrollEquals(e))return!1;var t=this._renderedLines._get().lines;for(let e=0,i=t.length;e<i;e++)if(-1===t[e].dy)return!1;return!0}scrollEquals(e){return this.renderedLayout.startLineNumber===e.startLineNumber&&this.renderedLayout.endLineNumber===e.endLineNumber}_get(){var e=this._renderedLines._get();return{imageData:this._imageData,rendLineNumberStart:e.rendLineNumberStart,lines:e.lines}}onLinesChanged(e,t){return this._renderedLines.onLinesChanged(e,t)}onLinesDeleted(e,t){this._renderedLines.onLinesDeleted(e,t)}onLinesInserted(e,t){this._renderedLines.onLinesInserted(e,t)}onTokensChanged(e){return this._renderedLines.onTokensChanged(e)}}class Bt{constructor(e,t,i,n){this._backgroundFillData=Bt._createBackgroundFillData(t,i,n),this._buffers=[e.createImageData(t,i),e.createImageData(t,i)],this._lastUsedBuffer=0}getBuffer(){this._lastUsedBuffer=1-this._lastUsedBuffer;const e=this._buffers[this._lastUsedBuffer];return e.data.set(this._backgroundFillData),e}static _createBackgroundFillData(e,t,i){var n=i.r,o=i.g,r=i.b,s=i.a;const a=new Uint8ClampedArray(e*t*4);let l=0;for(let i=0;i<t;i++)for(let t=0;t<e;t++)a[l]=n,a[l+1]=o,a[l+2]=r,a[l+3]=s,l+=4;return a}}class Wt{constructor(e,t){this.samplingRatio=e,this.minimapLines=t}static compute(e,t,i){if(0===e.renderMinimap||!e.isSampling)return[null,[]];var n=e.pixelRatio,o=e.lineHeight,r=e.scrollBeyondLastLine,{minimapLineCount:s}=U.f.computeContainedMinimapLineCount({viewLineCount:t,scrollBeyondLastLine:r,height:e.editorHeight,lineHeight:o,pixelRatio:n}),a=t/s,l=a/2;if(!i||0===i.minimapLines.length){let e=[];if((e[0]=1)<s){for(let t=0,i=s-1;t<i;t++)e[t]=Math.round(t*a+l);e[s-1]=t}return[new Wt(a,e),[]]}var c=i.minimapLines,d=c.length;let h=[],u=0,g=0,p=1,f=[],m=null;for(let e=0;e<s;e++){for(var v,b=Math.max(p,Math.round(e*a)),_=Math.max(b,Math.round((e+1)*a));u<d&&c[u]<b;)f.length<10&&(v=u+1+g,m&&"deleted"===m.type&&m._oldIndex===u-1?m.deleteToLineNumber++:(m={type:"deleted",_oldIndex:u,deleteFromLineNumber:v,deleteToLineNumber:v},f.push(m)),g--),u++;let i;u<d&&c[u]<=_?(i=c[u],u++):(i=0===e?1:e+1===s?t:Math.round(e*a+l),f.length<10&&(_=u+1+g,m&&"inserted"===m.type&&m._i===e-1?m.insertToLineNumber++:(m={type:"inserted",_i:e,insertFromLineNumber:_,insertToLineNumber:_},f.push(m)),g++)),h[e]=i,p=i}if(f.length<10)for(;u<d;){var w=u+1+g;m&&"deleted"===m.type&&m._oldIndex===u-1?m.deleteToLineNumber++:(m={type:"deleted",_oldIndex:u,deleteFromLineNumber:w,deleteToLineNumber:w},f.push(m)),g--,u++}else f=[{type:"flush"}];return[new Wt(a,h),f]}modelLineToMinimapLine(e){return Math.min(this.minimapLines.length,Math.max(1,Math.round(e/this.samplingRatio)))}modelLineRangeToMinimapLineRange(e,t){let i=this.modelLineToMinimapLine(e)-1;for(;0<i&&this.minimapLines[i-1]>=e;)i--;let n=this.modelLineToMinimapLine(t)-1;for(;n+1<this.minimapLines.length&&this.minimapLines[n+1]<=t;)n++;if(i===n){var o=this.minimapLines[i];if(o<e||t<o)return null}return[i+1,n+1]}decorationLineRangeToMinimapLineRange(e,t){let i=this.modelLineToMinimapLine(e),n=this.modelLineToMinimapLine(t);return e!==t&&n===i&&(n===this.minimapLines.length?1<i&&i--:n++),[i,n]}onLinesDeleted(e){var t=e.toLineNumber-e.fromLineNumber+1;let i=this.minimapLines.length,n=0;for(let o=this.minimapLines.length-1;0<=o&&!(this.minimapLines[o]<e.fromLineNumber);o--)this.minimapLines[o]<=e.toLineNumber?(this.minimapLines[o]=Math.max(1,e.fromLineNumber-1),i=Math.min(i,o),n=Math.max(n,o)):this.minimapLines[o]-=t;return[i,n]}onLinesInserted(e){var t=e.toLineNumber-e.fromLineNumber+1;for(let i=this.minimapLines.length-1;0<=i&&!(this.minimapLines[i]<e.fromLineNumber);i--)this.minimapLines[i]+=t}}class Vt extends T{constructor(e){super(e),this.tokensColorTracker=kt.getInstance(),this._selections=[],this._minimapSelections=null,this.options=new Pt(this._context.configuration,this._context.theme,this.tokensColorTracker);var[t]=Wt.compute(this.options,this._context.model.getLineCount(),null);this._samplingState=t,this._shouldCheckSampling=!1,this._actual=new zt(e.theme,this)}dispose(){this._actual.dispose(),super.dispose()}getDomNode(){return this._actual.getDomNode()}_onOptionsMaybeChanged(){var e=new Pt(this._context.configuration,this._context.theme,this.tokensColorTracker);return!this.options.equals(e)&&(this.options=e,this._recreateLineSampling(),this._actual.onDidChangeOptions(),!0)}onConfigurationChanged(e){return this._onOptionsMaybeChanged()}onCursorStateChanged(e){return this._selections=e.selections,this._minimapSelections=null,this._actual.onSelectionChanged()}onDecorationsChanged(e){return!!e.affectsMinimap&&this._actual.onDecorationsChanged()}onFlushed(e){return this._samplingState&&(this._shouldCheckSampling=!0),this._actual.onFlushed()}onLinesChanged(e){if(this._samplingState){var t=this._samplingState.modelLineRangeToMinimapLineRange(e.fromLineNumber,e.toLineNumber);return!!t&&this._actual.onLinesChanged(t[0],t[1])}return this._actual.onLinesChanged(e.fromLineNumber,e.toLineNumber)}onLinesDeleted(e){if(this._samplingState){var[t,i]=this._samplingState.onLinesDeleted(e);return t<=i&&this._actual.onLinesChanged(t+1,i+1),this._shouldCheckSampling=!0}return this._actual.onLinesDeleted(e.fromLineNumber,e.toLineNumber)}onLinesInserted(e){return this._samplingState?(this._samplingState.onLinesInserted(e),this._shouldCheckSampling=!0):this._actual.onLinesInserted(e.fromLineNumber,e.toLineNumber)}onScrollChanged(e){return this._actual.onScrollChanged()}onThemeChanged(e){return this._context.model.invalidateMinimapColorCache(),this._actual.onThemeChanged(),this._onOptionsMaybeChanged(),!0}onTokensChanged(e){if(this._samplingState){let i=[];for(const n of e.ranges){var t=this._samplingState.modelLineRangeToMinimapLineRange(n.fromLineNumber,n.toLineNumber);t&&i.push({fromLineNumber:t[0],toLineNumber:t[1]})}return!!i.length&&this._actual.onTokensChanged(i)}return this._actual.onTokensChanged(e.ranges)}onTokensColorsChanged(e){return this._onOptionsMaybeChanged(),this._actual.onTokensColorsChanged()}onZonesChanged(e){return this._actual.onZonesChanged()}prepareRender(e){this._shouldCheckSampling&&(this._shouldCheckSampling=!1,this._recreateLineSampling())}render(e){let t=e.visibleRange.startLineNumber,i=e.visibleRange.endLineNumber;this._samplingState&&(t=this._samplingState.modelLineToMinimapLine(t),i=this._samplingState.modelLineToMinimapLine(i)),e={viewportContainsWhitespaceGaps:0<e.viewportData.whitespaceViewportData.length,scrollWidth:e.scrollWidth,scrollHeight:e.scrollHeight,viewportStartLineNumber:t,viewportEndLineNumber:i,viewportStartLineNumberVerticalOffset:e.getVerticalOffsetForLineNumber(t),scrollTop:e.scrollTop,scrollLeft:e.scrollLeft,viewportWidth:e.viewportWidth,viewportHeight:e.viewportHeight},this._actual.render(e)}_recreateLineSampling(){this._minimapSelections=null;var e=Boolean(this._samplingState),[t,i]=Wt.compute(this.options,this._context.model.getLineCount(),this._samplingState);if(this._samplingState=t,e&&this._samplingState)for(const e of i)switch(e.type){case"deleted":this._actual.onLinesDeleted(e.deleteFromLineNumber,e.deleteToLineNumber);break;case"inserted":this._actual.onLinesInserted(e.insertFromLineNumber,e.insertToLineNumber);break;case"flush":this._actual.onFlushed()}}getLineCount(){return this._samplingState?this._samplingState.minimapLines.length:this._context.model.getLineCount()}getRealLineCount(){return this._context.model.getLineCount()}getLineContent(e){return this._samplingState?this._context.model.getLineContent(this._samplingState.minimapLines[e-1]):this._context.model.getLineContent(e)}getLineMaxColumn(e){return this._samplingState?this._context.model.getLineMaxColumn(this._samplingState.minimapLines[e-1]):this._context.model.getLineMaxColumn(e)}getMinimapLinesRenderingData(e,t,i){if(this._samplingState){let n=[];for(let o=0,r=t-e+1;o<r;o++)i[o]?n[o]=this._context.model.getViewLineData(this._samplingState.minimapLines[e+o-1]):n[o]=null;return n}return this._context.model.getMinimapLinesRenderingData(e,t,i).data}getSelections(){if(null===this._minimapSelections)if(this._samplingState){this._minimapSelections=[];for(const i of this._selections){var[e,t]=this._samplingState.decorationLineRangeToMinimapLineRange(i.startLineNumber,i.endLineNumber);this._minimapSelections.push(new m.a(e,i.startColumn,t,i.endColumn))}}else this._minimapSelections=this._selections;return this._minimapSelections}getMinimapDecorationsInViewport(e,t){let i;var n,o;i=this._samplingState?(n=this._samplingState.minimapLines[e-1],o=this._samplingState.minimapLines[t-1],new ie.a(n,1,o,this._context.model.getLineMaxColumn(o))):new ie.a(e,1,t,this._context.model.getLineMaxColumn(t));var r,s,a;t=this._context.model.getDecorationsInViewport(i);if(this._samplingState){let e=[];for(const i of t)i.options.minimap&&(r=i.range,s=this._samplingState.modelLineToMinimapLine(r.startLineNumber),a=this._samplingState.modelLineToMinimapLine(r.endLineNumber),e.push(new Dt.h(new ie.a(s,r.startColumn,a,r.endColumn),i.options)));return e}return t}getOptions(){return this._context.model.getTextModelOptions()}revealLineNumber(e){this._samplingState&&(e=this._samplingState.minimapLines[e-1]),this._context.model.revealRange("mouse",!1,new ie.a(e,1,e,1),1,0)}setScrollTop(e){this._context.model.setScrollPosition({scrollTop:e},1)}}class zt extends h.a{constructor(e,t){super(),this._renderDecorations=!1,this._gestureInProgress=!1,this._theme=e,this._model=t,this._lastRenderData=null,this._buffers=null,this._selectionColor=this._theme.getColor(at.hc),this._domNode=Object(v.b)(document.createElement("div")),M.write(this._domNode,8),this._domNode.setClassName(this._getMinimapDomNodeClassName()),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._shadow=Object(v.b)(document.createElement("div")),this._shadow.setClassName("minimap-shadow-hidden"),this._domNode.appendChild(this._shadow),this._canvas=Object(v.b)(document.createElement("canvas")),this._canvas.setPosition("absolute"),this._canvas.setLeft(0),this._domNode.appendChild(this._canvas),this._decorationsCanvas=Object(v.b)(document.createElement("canvas")),this._decorationsCanvas.setPosition("absolute"),this._decorationsCanvas.setClassName("minimap-decorations-layer"),this._decorationsCanvas.setLeft(0),this._domNode.appendChild(this._decorationsCanvas),this._slider=Object(v.b)(document.createElement("div")),this._slider.setPosition("absolute"),this._slider.setClassName("minimap-slider"),this._slider.setLayerHinting(!0),this._slider.setContain("strict"),this._domNode.appendChild(this._slider),this._sliderHorizontal=Object(v.b)(document.createElement("div")),this._sliderHorizontal.setPosition("absolute"),this._sliderHorizontal.setClassName("minimap-slider-horizontal"),this._slider.appendChild(this._sliderHorizontal),this._applyLayout(),this._mouseDownListener=l.o(this._domNode.domNode,"mousedown",e=>{var t,i;e.preventDefault(),0!==this._model.options.renderMinimap&&this._lastRenderData&&("proportional"===this._model.options.size?(i=this._model.options.minimapLineHeight,t=this._model.options.canvasInnerHeight/this._model.options.canvasOuterHeight*e.browserEvent.offsetY,i=Math.floor(t/i)+this._lastRenderData.renderedLayout.startLineNumber,i=Math.min(i,this._model.getLineCount()),this._model.revealLineNumber(i)):e.leftButton&&this._lastRenderData&&(i=(i=l.D(this._slider.domNode)).top+i.height/2,this._startSliderDragging(e.buttons,e.posx,i,e.posy,this._lastRenderData.renderedLayout)))}),this._sliderMouseMoveMonitor=new y.a,this._sliderMouseDownListener=l.o(this._slider.domNode,"mousedown",e=>{e.preventDefault(),e.stopPropagation(),e.leftButton&&this._lastRenderData&&this._startSliderDragging(e.buttons,e.posx,e.posy,e.posy,this._lastRenderData.renderedLayout)}),this._gestureDisposable=_.b.addTarget(this._domNode.domNode),this._sliderTouchStartListener=l.i(this._domNode.domNode,_.a.Start,e=>{e.preventDefault(),e.stopPropagation(),this._lastRenderData&&(this._slider.toggleClassName("active",!0),this._gestureInProgress=!0,this.scrollDueToTouchEvent(e))},{passive:!1}),this._sliderTouchMoveListener=l.i(this._domNode.domNode,_.a.Change,e=>{e.preventDefault(),e.stopPropagation(),this._lastRenderData&&this._gestureInProgress&&this.scrollDueToTouchEvent(e)},{passive:!1}),this._sliderTouchEndListener=l.o(this._domNode.domNode,_.a.End,e=>{e.preventDefault(),e.stopPropagation(),this._gestureInProgress=!1,this._slider.toggleClassName("active",!1)})}_startSliderDragging(e,t,i,n,o){this._slider.toggleClassName("active",!0);const r=(e,n)=>{n=Math.abs(n-t),b.i&&140<n?this._model.setScrollTop(o.scrollTop):this._model.setScrollTop(o.getDesiredScrollTopFromDelta(e-i))};n!==i&&r(n,t),this._sliderMouseMoveMonitor.startMonitoring(this._slider.domNode,e,y.b,e=>r(e.posy,e.posx),()=>{this._slider.toggleClassName("active",!1)})}scrollDueToTouchEvent(e){var t=this._domNode.domNode.getBoundingClientRect().top;t=this._lastRenderData.renderedLayout.getDesiredScrollTopFromTouchLocation(e.pageY-t);this._model.setScrollTop(t)}dispose(){this._mouseDownListener.dispose(),this._sliderMouseMoveMonitor.dispose(),this._sliderMouseDownListener.dispose(),this._gestureDisposable.dispose(),this._sliderTouchStartListener.dispose(),this._sliderTouchMoveListener.dispose(),this._sliderTouchEndListener.dispose(),super.dispose()}_getMinimapDomNodeClassName(){return"always"===this._model.options.showSlider?"minimap slider-always":"minimap slider-mouseover"}getDomNode(){return this._domNode}_applyLayout(){this._domNode.setLeft(this._model.options.minimapLeft),this._domNode.setWidth(this._model.options.minimapWidth),this._domNode.setHeight(this._model.options.minimapHeight),this._shadow.setHeight(this._model.options.minimapHeight),this._canvas.setWidth(this._model.options.canvasOuterWidth),this._canvas.setHeight(this._model.options.canvasOuterHeight),this._canvas.domNode.width=this._model.options.canvasInnerWidth,this._canvas.domNode.height=this._model.options.canvasInnerHeight,this._decorationsCanvas.setWidth(this._model.options.canvasOuterWidth),this._decorationsCanvas.setHeight(this._model.options.canvasOuterHeight),this._decorationsCanvas.domNode.width=this._model.options.canvasInnerWidth,this._decorationsCanvas.domNode.height=this._model.options.canvasInnerHeight,this._slider.setWidth(this._model.options.minimapWidth)}_getBuffer(){return this._buffers||0<this._model.options.canvasInnerWidth&&0<this._model.options.canvasInnerHeight&&(this._buffers=new Bt(this._canvas.domNode.getContext("2d"),this._model.options.canvasInnerWidth,this._model.options.canvasInnerHeight,this._model.options.backgroundColor)),this._buffers?this._buffers.getBuffer():null}onDidChangeOptions(){this._lastRenderData=null,this._buffers=null,this._applyLayout(),this._domNode.setClassName(this._getMinimapDomNodeClassName())}onSelectionChanged(){return this._renderDecorations=!0}onDecorationsChanged(){return this._renderDecorations=!0}onFlushed(){return!(this._lastRenderData=null)}onLinesChanged(e,t){return!!this._lastRenderData&&this._lastRenderData.onLinesChanged(e,t)}onLinesDeleted(e,t){return this._lastRenderData&&this._lastRenderData.onLinesDeleted(e,t),!0}onLinesInserted(e,t){return this._lastRenderData&&this._lastRenderData.onLinesInserted(e,t),!0}onScrollChanged(){return this._renderDecorations=!0}onThemeChanged(){return this._selectionColor=this._theme.getColor(at.hc),this._renderDecorations=!0}onTokensChanged(e){return!!this._lastRenderData&&this._lastRenderData.onTokensChanged(e)}onTokensColorsChanged(){return this._lastRenderData=null,!(this._buffers=null)}onZonesChanged(){return!(this._lastRenderData=null)}render(e){if(0===this._model.options.renderMinimap)return this._shadow.setClassName("minimap-shadow-hidden"),this._sliderHorizontal.setWidth(0),void this._sliderHorizontal.setHeight(0);e.scrollLeft+e.viewportWidth>=e.scrollWidth?this._shadow.setClassName("minimap-shadow-hidden"):this._shadow.setClassName("minimap-shadow-visible"),e=Rt.create(this._model.options,e.viewportStartLineNumber,e.viewportEndLineNumber,e.viewportStartLineNumberVerticalOffset,e.viewportHeight,e.viewportContainsWhitespaceGaps,this._model.getLineCount(),this._model.getRealLineCount(),e.scrollTop,e.scrollHeight,this._lastRenderData?this._lastRenderData.renderedLayout:null),this._slider.setDisplay(e.sliderNeeded?"block":"none"),this._slider.setTop(e.sliderTop),this._slider.setHeight(e.sliderHeight),this._sliderHorizontal.setLeft(0),this._sliderHorizontal.setWidth(this._model.options.minimapWidth),this._sliderHorizontal.setTop(0),this._sliderHorizontal.setHeight(e.sliderHeight),this.renderDecorations(e),this._lastRenderData=this.renderLines(e)}renderDecorations(e){if(this._renderDecorations){this._renderDecorations=!1;const s=this._model.getSelections();s.sort(ie.a.compareRangesUsingStarts);const a=this._model.getMinimapDecorationsInViewport(e.startLineNumber,e.endLineNumber);a.sort((e,t)=>(e.options.zIndex||0)-(t.options.zIndex||0));var{canvasInnerWidth:t,canvasInnerHeight:i}=this._model.options,n=this._model.options.minimapLineHeight,o=this._model.options.minimapCharWidth,r=this._model.getOptions().tabSize;const l=this._decorationsCanvas.domNode.getContext("2d");l.clearRect(0,0,t,i),i=new Ht(e.startLineNumber,e.endLineNumber,!1),this._renderSelectionLineHighlights(l,s,i,e,n),this._renderDecorationsLineHighlights(l,a,i,e,n),i=new Ht(e.startLineNumber,e.endLineNumber,null),this._renderSelectionsHighlights(l,s,i,e,n,r,o,t),this._renderDecorationsHighlights(l,a,i,e,n,r,o,t)}}_renderSelectionLineHighlights(e,t,i,n,o){if(this._selectionColor&&!this._selectionColor.isTransparent()){e.fillStyle=this._selectionColor.transparent(.5).toString();let l=0,c=0;for(const d of t){var r=Math.max(n.startLineNumber,d.startLineNumber),s=Math.min(n.endLineNumber,d.endLineNumber);if(!(s<r)){for(let e=r;e<=s;e++)i.set(e,!0);var a=(r-n.startLineNumber)*o;r=(s-n.startLineNumber)*o+o;c>=a||(c>l&&e.fillRect(U.h,l,e.canvas.width,c-l),l=a),c=r}}c>l&&e.fillRect(U.h,l,e.canvas.width,c-l)}}_renderDecorationsLineHighlights(e,t,i,n,o){const r=new Map;for(let d=t.length-1;0<=d;d--){var s=t[d];const h=s.options.minimap;if(h&&h.position===ut.f.Inline){var a,l=Math.max(n.startLineNumber,s.range.startLineNumber),c=Math.min(n.endLineNumber,s.range.endLineNumber);if(!(c<l)){const t=h.getColor(this._theme);if(t&&!t.isTransparent()){let s=r.get(t.toString());s||(s=t.transparent(.5).toString(),r.set(t.toString(),s)),e.fillStyle=s;for(let t=l;t<=c;t++)i.has(t)||(i.set(t,!0),a=(l-n.startLineNumber)*o,e.fillRect(U.h,a,e.canvas.width,o))}}}}}_renderSelectionsHighlights(e,t,i,n,o,r,s,a){if(this._selectionColor&&!this._selectionColor.isTransparent())for(const d of t){var l=Math.max(n.startLineNumber,d.startLineNumber),c=Math.min(n.endLineNumber,d.endLineNumber);if(!(c<l))for(let t=l;t<=c;t++)this.renderDecorationOnLine(e,i,d,this._selectionColor,n,t,o,o,r,s,a)}}_renderDecorationsHighlights(e,t,i,n,o,r,s,a){for(const h of t){const t=h.options.minimap;if(t){var l=Math.max(n.startLineNumber,h.range.startLineNumber),c=Math.min(n.endLineNumber,h.range.endLineNumber);if(!(c<l)){const u=t.getColor(this._theme);if(u&&!u.isTransparent())for(let g=l;g<=c;g++)switch(t.position){case ut.f.Inline:this.renderDecorationOnLine(e,i,h.range,u,n,g,o,o,r,s,a);continue;case ut.f.Gutter:var d=(g-n.startLineNumber)*o;this.renderDecoration(e,u,2,d,2,o);continue}}}}}renderDecorationOnLine(e,t,i,n,o,r,s,a,l,c,d){var h=(r-o.startLineNumber)*a;h+s<0||h>this._model.options.canvasInnerHeight||(({startLineNumber:o,endLineNumber:a}=i),o=o===r?i.startColumn:1,i=a===r?i.endColumn:this._model.getLineMaxColumn(r),o=this.getXOffsetForPosition(t,r,o,l,c,d),d=this.getXOffsetForPosition(t,r,i,l,c,d),this.renderDecoration(e,n,o,h,d-o,s))}getXOffsetForPosition(e,t,i,n,o,r){if(1===i)return U.h;if(r<=(i-1)*o)return r;let s=e.get(t);if(!s){const i=this._model.getLineContent(t);s=[U.h];let l=U.h;for(let e=1;e<i.length+1;e++){var a;if(r<=(a=l+(a=9===(a=i.charCodeAt(e-1))?n*o:De.D(a)?2*o:o))){s[e]=r;break}s[e]=a,l=a}e.set(t,s)}return i-1<s.length?s[i-1]:r}renderDecoration(e,t,i,n,o,r){e.fillStyle=t&&t.toString()||"",e.fillRect(i,n,o,r)}renderLines(e){var t=e.startLineNumber,i=e.endLineNumber,n=this._model.options.minimapLineHeight;if(this._lastRenderData&&this._lastRenderData.linesEquals(e)){var o=this._lastRenderData._get();return new jt(e,o.imageData,o.lines)}var r=this._getBuffer();if(!r)return null;var[s,a,l]=zt._renderUntouchedLines(r,t,i,n,this._lastRenderData),c=this._model.getMinimapLinesRenderingData(t,i,l),d=this._model.getOptions().tabSize,h=this._model.options.defaultBackgroundColor,u=this._model.options.backgroundColor,g=this._model.options.foregroundAlpha;const p=this._model.tokensColorTracker;var f=p.backgroundIsLight(),m=this._model.options.renderMinimap,v=this._model.options.charRenderer(),b=this._model.options.fontScale,_=this._model.options.minimapCharWidth,w=(o=(1===m?2:3)*b)<n?Math.floor((n-o)/2):0,C=(o=u.a/255,new xt(Math.round((u.r-h.r)*o+h.r),Math.round((u.g-h.g)*o+h.g),Math.round((u.b-h.b)*o+h.b),255));let y=0;const x=[];for(let e=0,o=i-t+1;e<o;e++)l[e]&&zt._renderLine(r,C,u.a,f,m,_,p,g,v,y,w,d,c[e],b,n),x[e]=new Ft(y),y+=n;s=-1===s?0:s,a=(-1===a?r.height:a)-s;return this._canvas.domNode.getContext("2d").putImageData(r,0,0,0,s,r.width,a),new jt(e,r,x)}static _renderUntouchedLines(e,t,i,n,o){const r=[];if(!o){for(let e=0,n=i-t+1;e<n;e++)r[e]=!0;return[-1,-1,r]}const s=(o=o._get()).imageData.data;var a=o.rendLineNumberStart,l=o.lines,c=l.length,d=e.width;const h=e.data;var u=(i-t+1)*n*d*4;let g=-1,p=-1,f=-1,m=-1,v=-1,b=-1,_=0;for(let e=t;e<=i;e++){var w,C,y=e-t,x=e-a,S=0<=x&&x<c?l[x].dy:-1;-1!==S?(w=S*d*4,C=(S+n)*d*4,x=_*d*4,S=(_+n)*d*4,m===w&&b===x?m=C:(-1!==f&&(h.set(s.subarray(f,m),v),-1===g&&0===f&&f===v&&(g=m),-1===p&&m===u&&f===v&&(p=f)),f=w,m=C,v=x),b=S,r[y]=!1,_+=n):(r[y]=!0,_+=n)}return-1!==f&&(h.set(s.subarray(f,m),v),-1===g&&0===f&&f===v&&(g=m),-1===p&&m===u&&f===v&&(p=f)),[-1===g?-1:g/(4*d),-1===p?-1:p/(4*d),r]}static _renderLine(e,t,i,n,o,r,s,a,l,c,d,h,u,g,p){const f=u.content,m=u.tokens;var v=e.width-r,b=1===p;let _=U.h,w=0,C=0;for(let u=0,p=m.getCount();u<p;u++)for(var y=m.getEndOffset(u),x=m.getForeground(u),S=s.getColor(x);w<y;w++){if(_>v)return;var k=f.charCodeAt(w);if(9===k){var D=h-(w+C)%h;C+=D-1,_+=D*r}else if(32===k)_+=r;else{var L=De.D(k)?2:1;for(let s=0;s<L;s++)if(2===o?l.blockRenderChar(e,_,c+d,S,a,t,i,b):l.renderChar(e,_,c+d,k,S,a,t,i,g,n,b),_+=r,_>v)return}}}}class Ht{constructor(e,t,i){this._startLineNumber=e,this._endLineNumber=t,this._defaultValue=i,this._values=[];for(let e=0,t=this._endLineNumber-this._startLineNumber+1;e<t;e++)this._values[e]=i}has(e){return this.get(e)!==this._defaultValue}set(e,t){e<this._startLineNumber||e>this._endLineNumber||(this._values[e-this._startLineNumber]=t)}get(e){return e<this._startLineNumber||e>this._endLineNumber?this._defaultValue:this._values[e-this._startLineNumber]}}Object(Ne.f)((e,t)=>{var i=e.getColor(at.kc);i&&t.addRule(`.monaco-editor .minimap-slider .minimap-slider-horizontal { background: ${i}; }`),(i=e.getColor(at.lc))&&t.addRule(`.monaco-editor .minimap-slider:hover .minimap-slider-horizontal { background: ${i}; }`),(i=e.getColor(at.jc))&&t.addRule(`.monaco-editor .minimap-slider.active .minimap-slider-horizontal { background: ${i}; }`),(e=e.getColor(at.Ec))&&t.addRule(`.monaco-editor .minimap-shadow-visible { box-shadow: ${e} -6px 0 6px -6px inset; }`)}),i(446);class Ut extends T{constructor(e){super(e);e=this._context.configuration.options.get(129),this._widgets={},this._verticalScrollbarWidth=e.verticalScrollbarWidth,this._minimapWidth=e.minimap.minimapWidth,this._horizontalScrollbarHeight=e.horizontalScrollbarHeight,this._editorHeight=e.height,this._editorWidth=e.width,this._domNode=Object(v.b)(document.createElement("div")),M.write(this._domNode,4),this._domNode.setClassName("overlayWidgets")}dispose(){super.dispose(),this._widgets={}}getDomNode(){return this._domNode}onConfigurationChanged(e){var t=this._context.configuration.options.get(129);return this._verticalScrollbarWidth=t.verticalScrollbarWidth,this._minimapWidth=t.minimap.minimapWidth,this._horizontalScrollbarHeight=t.horizontalScrollbarHeight,this._editorHeight=t.height,this._editorWidth=t.width,!0}addWidget(e){const t=Object(v.b)(e.getDomNode());this._widgets[e.getId()]={widget:e,preference:null,domNode:t},t.setPosition("absolute"),t.setAttribute("widgetId",e.getId()),this._domNode.appendChild(t),this.setShouldRender()}setWidgetPosition(e,t){const i=this._widgets[e.getId()];return i.preference!==t&&(i.preference=t,this.setShouldRender(),!0)}removeWidget(e){if(e=e.getId(),this._widgets.hasOwnProperty(e)){const t=this._widgets[e].domNode.domNode;delete this._widgets[e],t.parentNode.removeChild(t),this.setShouldRender()}}_renderWidget(e){const t=e.domNode;var i;null!==e.preference?0===e.preference?(t.setTop(0),t.setRight(2*this._verticalScrollbarWidth+this._minimapWidth)):1===e.preference?(i=t.domNode.clientHeight,t.setTop(this._editorHeight-i-2*this._horizontalScrollbarHeight),t.setRight(2*this._verticalScrollbarWidth+this._minimapWidth)):2===e.preference&&(t.setTop(0),t.domNode.style.right="50%"):t.unsetTop()}prepareRender(e){}render(e){this._domNode.setWidth(this._editorWidth);var t=Object.keys(this._widgets);for(let e=0,n=t.length;e<n;e++){var i=t[e];this._renderWidget(this._widgets[i])}}}var $t=i(14);class Kt{constructor(e,t){const i=e.options;this.lineHeight=i.get(58),this.pixelRatio=i.get(127),this.overviewRulerLanes=i.get(73),this.renderBorder=i.get(72);const n=t.getColor(Ee.F);this.borderColor=n?n.toString():null,this.hideCursor=i.get(51);const o=t.getColor(Ee.z);this.cursorColor=o?o.transparent(.7).toString():null,this.themeType=t.type;e=(r=i.get(64)).enabled;var r=r.side;t=e?t.getColor(Ee.E)||St.F.getDefaultBackground():null;this.backgroundColor=null===t||"left"===r?null:$t.a.Format.CSS.formatHex(t),r=i.get(129).overviewRuler,this.top=r.top,this.right=r.right,this.domWidth=r.width,this.domHeight=r.height,0===this.overviewRulerLanes?(this.canvasWidth=0,this.canvasHeight=0):(this.canvasWidth=this.domWidth*this.pixelRatio|0,this.canvasHeight=this.domHeight*this.pixelRatio|0);var[t,r]=this._initLanes(1,this.canvasWidth,this.overviewRulerLanes);this.x=t,this.w=r}_initLanes(e,t,i){var n=t-e;if(3<=i){var o=Math.floor(n/3),r=Math.floor(n/3),s=n-o-r;return[[0,e,t=e+o,e,e+o+s,e,t,e],[0,o,s,o+s,r,o+s+r,s+r,o+s+r]]}return 2!==i?[[0,e,e,e,e,e,e,e],[0,n,n,n,n,n,n,n]]:[[0,e,e,e,e+(i=Math.floor(n/2)),e,e,e],[0,i,i,i,n-=i,i+n,i+n,i+n]]}equals(e){return this.lineHeight===e.lineHeight&&this.pixelRatio===e.pixelRatio&&this.overviewRulerLanes===e.overviewRulerLanes&&this.renderBorder===e.renderBorder&&this.borderColor===e.borderColor&&this.hideCursor===e.hideCursor&&this.cursorColor===e.cursorColor&&this.themeType===e.themeType&&this.backgroundColor===e.backgroundColor&&this.top===e.top&&this.right===e.right&&this.domWidth===e.domWidth&&this.domHeight===e.domHeight&&this.canvasWidth===e.canvasWidth&&this.canvasHeight===e.canvasHeight}}class qt extends T{constructor(e){super(e),this._domNode=Object(v.b)(document.createElement("canvas")),this._domNode.setClassName("decorationsOverviewRuler"),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._domNode.setAttribute("aria-hidden","true"),this._updateSettings(!1),this._tokensColorTrackerListener=St.F.onDidChange(e=>{e.changedColorMap&&this._updateSettings(!0)}),this._cursorPositions=[]}dispose(){super.dispose(),this._tokensColorTrackerListener.dispose()}_updateSettings(e){var t=new Kt(this._context.configuration,this._context.theme);return!(this._settings&&this._settings.equals(t)||(this._settings=t,this._domNode.setTop(this._settings.top),this._domNode.setRight(this._settings.right),this._domNode.setWidth(this._settings.domWidth),this._domNode.setHeight(this._settings.domHeight),this._domNode.domNode.width=this._settings.canvasWidth,this._domNode.domNode.height=this._settings.canvasHeight,e&&this._render(),0))}onConfigurationChanged(e){return this._updateSettings(!1)}onCursorStateChanged(e){this._cursorPositions=[];for(let t=0,i=e.selections.length;t<i;t++)this._cursorPositions[t]=e.selections[t].getPosition();return this._cursorPositions.sort(te.a.compare),!0}onDecorationsChanged(e){return!!e.affectsOverviewRuler}onFlushed(e){return!0}onScrollChanged(e){return e.scrollHeightChanged}onZonesChanged(e){return!0}onThemeChanged(e){return this._context.model.invalidateOverviewRulerColorCache(),this._updateSettings(!1)}getDomNode(){return this._domNode.domNode}prepareRender(e){}render(e){this._render()}_render(){if(0!==this._settings.overviewRulerLanes){var e=this._settings.canvasWidth,t=this._settings.canvasHeight,i=this._settings.lineHeight;const _=this._context.viewLayout;var n=t/this._context.viewLayout.getScrollHeight();const w=this._context.model.getAllOverviewRulerDecorations(this._context.theme);var o=6*this._settings.pixelRatio|0,r=o/2|0;const C=this._domNode.domNode.getContext("2d");null===this._settings.backgroundColor?C.clearRect(0,0,e,t):(C.fillStyle=this._settings.backgroundColor,C.fillRect(0,0,e,t));var s=this._settings.x,a=this._settings.w;w.sort(Dt.d.cmp);for(const e of w){var l=e.color,c=e.data;C.fillStyle=l;let g=0,p=0,f=0;for(let e=0,l=c.length/3;e<l;e++){var d=c[3*e],h=c[3*e+1],u=c[3*e+2];let l=_.getVerticalOffsetForLineNumber(h)*n|0,m=(_.getVerticalOffsetForLineNumber(u)+i)*n|0;if(m-l<o){let e=(l+m)/2|0;e<r?e=r:e+r>t&&(e=t-r),l=e-r,m=e+r}l>f+1||d!==g?(0!==e&&C.fillRect(s[g],p,a[g],f-p),g=d,p=l,f=m):m>f&&(f=m)}C.fillRect(s[g],p,a[g],f-p)}if(!this._settings.hideCursor&&this._settings.cursorColor){var g=2*this._settings.pixelRatio|0,p=g/2|0,f=this._settings.x[7],m=this._settings.w[7];C.fillStyle=this._settings.cursorColor;let e=-100,i=-100;for(let o=0,r=this._cursorPositions.length;o<r;o++){var v=this._cursorPositions[o];let r=_.getVerticalOffsetForLineNumber(v.lineNumber)*n|0;r<p?r=p:r+p>t&&(r=t-p);var b=r-p;v=b+g;b>i+1?(0!==o&&C.fillRect(f,e,m,i-e),e=b,i=v):v>i&&(i=v)}C.fillRect(f,e,m,i-e)}this._settings.renderBorder&&this._settings.borderColor&&0<this._settings.overviewRulerLanes&&(C.beginPath(),C.lineWidth=1,C.strokeStyle=this._settings.borderColor,C.moveTo(0,0),C.lineTo(0,t),C.stroke(),C.moveTo(0,0),C.lineTo(e,0),C.stroke())}else this._domNode.setBackgroundColor(this._settings.backgroundColor||"")}}var Gt=i(209);class Yt extends I{constructor(e,t){super(),this._context=e;const i=this._context.configuration.options;this._domNode=Object(v.b)(document.createElement("canvas")),this._domNode.setClassName(t),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._zoneManager=new Gt.b(e=>this._context.viewLayout.getVerticalOffsetForLineNumber(e)),this._zoneManager.setDOMWidth(0),this._zoneManager.setDOMHeight(0),this._zoneManager.setOuterHeight(this._context.viewLayout.getScrollHeight()),this._zoneManager.setLineHeight(i.get(58)),this._zoneManager.setPixelRatio(i.get(127)),this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}onConfigurationChanged(e){const t=this._context.configuration.options;return e.hasChanged(58)&&(this._zoneManager.setLineHeight(t.get(58)),this._render()),e.hasChanged(127)&&(this._zoneManager.setPixelRatio(t.get(127)),this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render()),!0}onFlushed(e){return this._render(),!0}onScrollChanged(e){return e.scrollHeightChanged&&(this._zoneManager.setOuterHeight(e.scrollHeight),this._render()),!0}onZonesChanged(e){return this._render(),!0}getDomNode(){return this._domNode.domNode}setLayout(e){this._domNode.setTop(e.top),this._domNode.setRight(e.right);let t=!1;t=this._zoneManager.setDOMWidth(e.width)||t,t=this._zoneManager.setDOMHeight(e.height)||t,t&&(this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render())}setZones(e){this._zoneManager.setZones(e),this._render()}_render(){if(0===this._zoneManager.getOuterHeight())return!1;var e=this._zoneManager.getCanvasWidth(),t=this._zoneManager.getCanvasHeight(),i=this._zoneManager.resolveColorZones(),n=this._zoneManager.getId2Color();const o=this._domNode.domNode.getContext("2d");return o.clearRect(0,0,e,t),0<i.length&&this._renderOneLane(o,i,n,e),!0}_renderOneLane(e,t,i,n){let o=0,r=0,s=0;for(const d of t){var a=d.colorId,l=d.from,c=d.to;s=a!==o?(e.fillRect(0,r,n,s-r),o=a,e.fillStyle=i[o],r=l,c):s>=l?Math.max(s,c):(e.fillRect(0,r,n,s-r),r=l,c)}e.fillRect(0,r,n,s-r)}}i(448);class Zt extends T{constructor(e){super(e),this.domNode=Object(v.b)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.domNode.setClassName("view-rulers"),this._renderedRulers=[];const t=this._context.configuration.options;this._rulers=t.get(90),this._typicalHalfwidthCharacterWidth=t.get(43).typicalHalfwidthCharacterWidth}dispose(){super.dispose()}onConfigurationChanged(e){const t=this._context.configuration.options;return this._rulers=t.get(90),this._typicalHalfwidthCharacterWidth=t.get(43).typicalHalfwidthCharacterWidth,!0}onScrollChanged(e){return e.scrollHeightChanged}prepareRender(e){}_ensureRulersCount(){var e=this._renderedRulers.length,t=this._rulers.length;if(e!==t)if(e<t){var{tabSize:i}=this._context.model.getTextModelOptions(),n=i;let o=t-e;for(;0<o;){const e=Object(v.b)(document.createElement("div"));e.setClassName("view-ruler"),e.setWidth(n),this.domNode.appendChild(e),this._renderedRulers.push(e),o--}}else{let i=e-t;for(;0<i;){var o=this._renderedRulers.pop();this.domNode.removeChild(o),i--}}}render(e){this._ensureRulersCount();for(let i=0,n=this._rulers.length;i<n;i++){const n=this._renderedRulers[i];var t=this._rulers[i];n.setBoxShadow(t.color?`1px 0 0 0 ${t.color} inset`:""),n.setHeight(Math.min(e.scrollHeight,1e6)),n.setLeft(t.column*this._typicalHalfwidthCharacterWidth)}}}Object(Ne.f)((e,t)=>{(e=e.getColor(Ee.G))&&t.addRule(`.monaco-editor .view-ruler { box-shadow: 1px 0 0 0 ${e} inset; }`)}),i(450);class Xt extends T{constructor(e){super(e),this._scrollTop=0,this._width=0,this._updateWidth(),this._shouldShow=!1;e=this._context.configuration.options.get(91),this._useShadows=e.useShadows,this._domNode=Object(v.b)(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true")}dispose(){super.dispose()}_updateShouldShow(){var e=this._useShadows&&0<this._scrollTop;return this._shouldShow!==e&&(this._shouldShow=e,!0)}getDomNode(){return this._domNode}_updateWidth(){var e=this._context.configuration.options.get(129);0===e.minimap.renderMinimap||0<e.minimap.minimapWidth&&0===e.minimap.minimapLeft?this._width=e.width:this._width=e.width-e.minimap.minimapWidth-e.verticalScrollbarWidth}onConfigurationChanged(e){var t=this._context.configuration.options.get(91);return this._useShadows=t.useShadows,this._updateWidth(),this._updateShouldShow(),!0}onScrollChanged(e){return this._scrollTop=e.scrollTop,this._updateShouldShow()}prepareRender(e){}render(e){this._domNode.setWidth(this._width),this._domNode.setClassName(this._shouldShow?"scroll-decoration":"")}}Object(Ne.f)((e,t)=>{(e=e.getColor(at.Ec))&&t.addRule(`.monaco-editor .scroll-decoration { box-shadow: ${e} 0 6px 6px -6px inset; }`)}),i(452);class Qt{constructor(e){this.left=e.left,this.width=e.width,this.startStyle=null,this.endStyle=null}}class Jt{constructor(e,t){this.lineNumber=e,this.ranges=t}}function ei(e){return new Qt(e)}function ti(e){return new Jt(e.lineNumber,e.ranges.map(ei))}class ii extends Oe{constructor(e){super(),this._previousFrameVisibleRangesWithStyle=[],this._context=e;const t=this._context.configuration.options;this._lineHeight=t.get(58),this._roundedSelection=t.get(89),this._typicalHalfwidthCharacterWidth=t.get(43).typicalHalfwidthCharacterWidth,this._selections=[],this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const t=this._context.configuration.options;return this._lineHeight=t.get(58),this._roundedSelection=t.get(89),this._typicalHalfwidthCharacterWidth=t.get(43).typicalHalfwidthCharacterWidth,!0}onCursorStateChanged(e){return this._selections=e.selections.slice(0),!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_visibleRangesHaveGaps(e){for(let t=0,i=e.length;t<i;t++)if(1<e[t].ranges.length)return!0;return!1}_enrichVisibleRangesWithStyle(e,t,i){var n=this._typicalHalfwidthCharacterWidth/4;let o=null,r=null;if(i&&0<i.length&&0<t.length){var s=t[0].lineNumber;if(s===e.startLineNumber)for(let e=0;!o&&e<i.length;e++)i[e].lineNumber===s&&(o=i[e].ranges[0]);var a=t[t.length-1].lineNumber;if(a===e.endLineNumber)for(let e=i.length-1;!r&&0<=e;e--)i[e].lineNumber===a&&(r=i[e].ranges[0]);o&&!o.startStyle&&(o=null),r&&!r.startStyle&&(r=null)}for(let e=0,i=t.length;e<i;e++){const s=t[e].ranges[0];var l,c,d=s.left,h=s.left+s.width;const a={top:0,bottom:0},u={top:0,bottom:0};0<e?(l=t[e-1].ranges[0].left,c=t[e-1].ranges[0].left+t[e-1].ranges[0].width,ni(d-l)<n?a.top=2:l<d&&(a.top=1),ni(h-c)<n?u.top=2:l<h&&h<c&&(u.top=1)):o&&(a.top=o.startStyle.top,u.top=o.endStyle.top),e+1<i?(l=t[e+1].ranges[0].left,c=t[e+1].ranges[0].left+t[e+1].ranges[0].width,ni(d-l)<n?a.bottom=2:l<d&&d<c&&(a.bottom=1),ni(h-c)<n?u.bottom=2:h<c&&(u.bottom=1)):r&&(a.bottom=r.startStyle.bottom,u.bottom=r.endStyle.bottom),s.startStyle=a,s.endStyle=u}}_getVisibleRangesWithStyle(e,t,i){return e=(t.linesVisibleRangesForRange(e,!0)||[]).map(ti),!this._visibleRangesHaveGaps(e)&&this._roundedSelection&&this._enrichVisibleRangesWithStyle(t.visibleRange,e,i),e}_createSelectionPiece(e,t,i,n,o){return'<div class="cslr '+i+'" style="top:'+e.toString()+"px;left:"+n.toString()+"px;width:"+o.toString()+"px;height:"+t+'px;"></div>'}_actualRenderOneSelection(e,t,i,n){if(0!==n.length){var o=!!n[0].ranges[0].startStyle,r=this._lineHeight.toString(),s=(this._lineHeight-1).toString(),a=n[0].lineNumber,l=n[n.length-1].lineNumber;for(let v=0,b=n.length;v<b;v++){var c=n[v],d=c.lineNumber,h=d-t,u=!i||d!==l&&d!==a?r:s,g=i&&d===a?1:0;let b="",_="";for(let e=0,t=c.ranges.length;e<t;e++){var p=c.ranges[e];if(o){var f=p.startStyle,m=p.endStyle;if(1===f.top||1===f.bottom){b+=this._createSelectionPiece(g,u,ii.SELECTION_CLASS_NAME,p.left-ii.ROUNDED_PIECE_WIDTH,ii.ROUNDED_PIECE_WIDTH);let e=ii.EDITOR_BACKGROUND_CLASS_NAME;1===f.top&&(e+=" "+ii.SELECTION_TOP_RIGHT),1===f.bottom&&(e+=" "+ii.SELECTION_BOTTOM_RIGHT),b+=this._createSelectionPiece(g,u,e,p.left-ii.ROUNDED_PIECE_WIDTH,ii.ROUNDED_PIECE_WIDTH)}if(1===m.top||1===m.bottom){b+=this._createSelectionPiece(g,u,ii.SELECTION_CLASS_NAME,p.left+p.width,ii.ROUNDED_PIECE_WIDTH);let e=ii.EDITOR_BACKGROUND_CLASS_NAME;1===m.top&&(e+=" "+ii.SELECTION_TOP_LEFT),1===m.bottom&&(e+=" "+ii.SELECTION_BOTTOM_LEFT),b+=this._createSelectionPiece(g,u,e,p.left+p.width,ii.ROUNDED_PIECE_WIDTH)}}let t=ii.SELECTION_CLASS_NAME;o&&(f=p.startStyle,m=p.endStyle,0===f.top&&(t+=" "+ii.SELECTION_TOP_LEFT),0===f.bottom&&(t+=" "+ii.SELECTION_BOTTOM_LEFT),0===m.top&&(t+=" "+ii.SELECTION_TOP_RIGHT),0===m.bottom&&(t+=" "+ii.SELECTION_BOTTOM_RIGHT)),_+=this._createSelectionPiece(g,u,t,p.left,p.width)}e[h][0]+=b,e[h][1]+=_}}}prepareRender(e){const t=[];var i,n=e.visibleRange.startLineNumber,o=e.visibleRange.endLineNumber;for(let e=n;e<=o;e++){t[e-n]=["",""]}const r=[];for(let o=0,s=this._selections.length;o<s;o++){const s=this._selections[o];s.isEmpty()?r[o]=null:(i=this._getVisibleRangesWithStyle(s,e,this._previousFrameVisibleRangesWithStyle[o]),r[o]=i,this._actualRenderOneSelection(t,n,1<this._selections.length,i))}this._previousFrameVisibleRangesWithStyle=r,this._renderResult=t.map(([e,t])=>e+t)}render(e,t){return this._renderResult?(e=t-e)<0||e>=this._renderResult.length?"":this._renderResult[e]:""}}function ni(e){return e<0?-e:e}ii.SELECTION_CLASS_NAME="selected-text",ii.SELECTION_TOP_LEFT="top-left-radius",ii.SELECTION_BOTTOM_LEFT="bottom-left-radius",ii.SELECTION_TOP_RIGHT="top-right-radius",ii.SELECTION_BOTTOM_RIGHT="bottom-right-radius",ii.EDITOR_BACKGROUND_CLASS_NAME="monaco-editor-background",ii.ROUNDED_PIECE_WIDTH=10,Object(Ne.f)((e,t)=>{var i=e.getColor(at.V);i&&t.addRule(`.monaco-editor .focused .selected-text { background-color: ${i}; }`),(i=e.getColor(at.J))&&t.addRule(`.monaco-editor .selected-text { background-color: ${i}; }`);const n=e.getColor(at.W);n&&!n.isTransparent()&&t.addRule(`.monaco-editor .view-line span.inline-selected-text { color: ${n}; }`)}),i(454);class oi{constructor(e,t,i,n,o,r){this.top=e,this.left=t,this.width=i,this.height=n,this.textContent=o,this.textContentClassName=r}}class ri{constructor(e){this._context=e;const t=this._context.configuration.options;e=t.get(43),this._cursorStyle=t.get(24),this._lineHeight=t.get(58),this._typicalHalfwidthCharacterWidth=e.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(t.get(27),this._typicalHalfwidthCharacterWidth),this._isVisible=!0,this._domNode=Object(v.b)(document.createElement("div")),this._domNode.setClassName("cursor "+Ae.a),this._domNode.setHeight(this._lineHeight),this._domNode.setTop(0),this._domNode.setLeft(0),g.a.applyFontInfo(this._domNode,e),this._domNode.setDisplay("none"),this._position=new te.a(1,1),this._lastRenderedContent="",this._renderData=null}getDomNode(){return this._domNode}getPosition(){return this._position}show(){this._isVisible||(this._domNode.setVisibility("inherit"),this._isVisible=!0)}hide(){this._isVisible&&(this._domNode.setVisibility("hidden"),this._isVisible=!1)}onConfigurationChanged(e){const t=this._context.configuration.options;var i=t.get(43);return this._cursorStyle=t.get(24),this._lineHeight=t.get(58),this._typicalHalfwidthCharacterWidth=i.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(t.get(27),this._typicalHalfwidthCharacterWidth),g.a.applyFontInfo(this._domNode,i),!0}onCursorPositionChanged(e){return this._position=e,!0}_prepareRender(e){let t="";if(this._cursorStyle===U.i.Line||this._cursorStyle===U.i.LineThin){var i=e.visibleRangeForPosition(this._position);if(!i||i.outsideRenderedLine)return null;let n;if(this._cursorStyle===U.i.Line){if(n=l.u(0<this._lineCursorWidth?this._lineCursorWidth:2),2<n){const e=this._context.model.getLineContent(this._position.lineNumber),i=De.K(e,this._position.column-1);t=e.substr(this._position.column-1,i)}}else n=l.u(1);let o=i.left;2<=n&&1<=o&&--o;const r=e.getVerticalOffsetForLineNumber(this._position.lineNumber)-e.bigNumbersDelta;return new oi(r,o,n,this._lineHeight,t,"")}const n=this._context.model.getLineContent(this._position.lineNumber),o=De.K(n,this._position.column-1);var r=e.linesVisibleRangesForRange(new ie.a(this._position.lineNumber,this._position.column,this._position.lineNumber,this._position.column+o),!1);if(!r||0===r.length)return null;var s=r[0];if(s.outsideRenderedLine||0===s.ranges.length)return null;r=(i=s.ranges[0]).width<1?this._typicalHalfwidthCharacterWidth:i.width;let a="";if(this._cursorStyle===U.i.Block){const e=this._context.model.getViewLineData(this._position.lineNumber);t=n.substr(this._position.column-1,o),s=e.tokens.findTokenIndexAtOffset(this._position.column-1),a=e.tokens.getClassName(s)}let c=e.getVerticalOffsetForLineNumber(this._position.lineNumber)-e.bigNumbersDelta,d=this._lineHeight;return this._cursorStyle!==U.i.Underline&&this._cursorStyle!==U.i.UnderlineThin||(c+=this._lineHeight-2,d=2),new oi(c,i.left,r,d,t,a)}prepareRender(e){this._renderData=this._prepareRender(e)}render(e){return this._renderData?(this._lastRenderedContent!==this._renderData.textContent&&(this._lastRenderedContent=this._renderData.textContent,this._domNode.domNode.textContent=this._lastRenderedContent),this._domNode.setClassName(`cursor ${Ae.a} ${this._renderData.textContentClassName}`),this._domNode.setDisplay("block"),this._domNode.setTop(this._renderData.top),this._domNode.setLeft(this._renderData.left),this._domNode.setWidth(this._renderData.width),this._domNode.setLineHeight(this._renderData.height),this._domNode.setHeight(this._renderData.height),{domNode:this._domNode.domNode,position:this._position,contentLeft:this._renderData.left,height:this._renderData.height,width:2}):(this._domNode.setDisplay("none"),null)}}class si extends T{constructor(e){super(e);const t=this._context.configuration.options;this._readOnly=t.get(80),this._cursorBlinking=t.get(22),this._cursorStyle=t.get(24),this._cursorSmoothCaretAnimation=t.get(23),this._selectionIsEmpty=!0,this._isComposingInput=!1,this._isVisible=!1,this._primaryCursor=new ri(this._context),this._secondaryCursors=[],this._renderData=[],this._domNode=Object(v.b)(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._updateDomClassName(),this._domNode.appendChild(this._primaryCursor.getDomNode()),this._startCursorBlinkAnimation=new C.g,this._cursorFlatBlinkInterval=new C.c,this._blinkingEnabled=!1,this._editorHasFocus=!1,this._updateBlinking()}dispose(){super.dispose(),this._startCursorBlinkAnimation.dispose(),this._cursorFlatBlinkInterval.dispose()}getDomNode(){return this._domNode}onCompositionStart(e){return this._isComposingInput=!0,this._updateBlinking(),!0}onCompositionEnd(e){return this._isComposingInput=!1,this._updateBlinking(),!0}onConfigurationChanged(e){const t=this._context.configuration.options;this._readOnly=t.get(80),this._cursorBlinking=t.get(22),this._cursorStyle=t.get(24),this._cursorSmoothCaretAnimation=t.get(23),this._updateBlinking(),this._updateDomClassName(),this._primaryCursor.onConfigurationChanged(e);for(let t=0,i=this._secondaryCursors.length;t<i;t++)this._secondaryCursors[t].onConfigurationChanged(e);return!0}_onCursorPositionChanged(e,t){if(this._primaryCursor.onCursorPositionChanged(e),this._updateBlinking(),this._secondaryCursors.length<t.length){var i=t.length-this._secondaryCursors.length;for(let e=0;e<i;e++){const e=new ri(this._context);this._domNode.domNode.insertBefore(e.getDomNode().domNode,this._primaryCursor.getDomNode().domNode.nextSibling),this._secondaryCursors.push(e)}}else if(this._secondaryCursors.length>t.length){var n=this._secondaryCursors.length-t.length;for(let e=0;e<n;e++)this._domNode.removeChild(this._secondaryCursors[0].getDomNode()),this._secondaryCursors.splice(0,1)}for(let e=0;e<t.length;e++)this._secondaryCursors[e].onCursorPositionChanged(t[e])}onCursorStateChanged(e){const t=[];for(let i=0,n=e.selections.length;i<n;i++)t[i]=e.selections[i].getPosition();this._onCursorPositionChanged(t[0],t.slice(1));var i=e.selections[0].isEmpty();return this._selectionIsEmpty!==i&&(this._selectionIsEmpty=i,this._updateDomClassName()),!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onFocusChanged(e){return this._editorHasFocus=e.isFocused,this._updateBlinking(),!1}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return!0}onTokensChanged(e){var t=t=>{for(let i=0,n=e.ranges.length;i<n;i++)if(e.ranges[i].fromLineNumber<=t.lineNumber&&t.lineNumber<=e.ranges[i].toLineNumber)return!0;return!1};if(t(this._primaryCursor.getPosition()))return!0;for(const e of this._secondaryCursors)if(t(e.getPosition()))return!0;return!1}onZonesChanged(e){return!0}_getCursorBlinking(){return!this._isComposingInput&&this._editorHasFocus?this._readOnly?5:this._cursorBlinking:0}_updateBlinking(){this._startCursorBlinkAnimation.cancel(),this._cursorFlatBlinkInterval.cancel();var e=this._getCursorBlinking(),t=0===e,i=5===e;t?this._hide():this._show(),this._blinkingEnabled=!1,this._updateDomClassName(),t||i||(1===e?this._cursorFlatBlinkInterval.cancelAndSet(()=>{this._isVisible?this._hide():this._show()},si.BLINK_INTERVAL):this._startCursorBlinkAnimation.setIfNotSet(()=>{this._blinkingEnabled=!0,this._updateDomClassName()},si.BLINK_INTERVAL))}_updateDomClassName(){this._domNode.setClassName(this._getClassName())}_getClassName(){let e="cursors-layer";switch(this._selectionIsEmpty||(e+=" has-selection"),this._cursorStyle){case U.i.Line:e+=" cursor-line-style";break;case U.i.Block:e+=" cursor-block-style";break;case U.i.Underline:e+=" cursor-underline-style";break;case U.i.LineThin:e+=" cursor-line-thin-style";break;case U.i.BlockOutline:e+=" cursor-block-outline-style";break;case U.i.UnderlineThin:e+=" cursor-underline-thin-style";break;default:e+=" cursor-line-style"}if(this._blinkingEnabled)switch(this._getCursorBlinking()){case 1:e+=" cursor-blink";break;case 2:e+=" cursor-smooth";break;case 3:e+=" cursor-phase";break;case 4:e+=" cursor-expand";break;default:e+=" cursor-solid"}else e+=" cursor-solid";return this._cursorSmoothCaretAnimation&&(e+=" cursor-smooth-caret-animation"),e}_show(){this._primaryCursor.show();for(let e=0,t=this._secondaryCursors.length;e<t;e++)this._secondaryCursors[e].show();this._isVisible=!0}_hide(){this._primaryCursor.hide();for(let e=0,t=this._secondaryCursors.length;e<t;e++)this._secondaryCursors[e].hide();this._isVisible=!1}prepareRender(e){this._primaryCursor.prepareRender(e);for(let t=0,i=this._secondaryCursors.length;t<i;t++)this._secondaryCursors[t].prepareRender(e)}render(e){let t=[],i=0;var n=this._primaryCursor.render(e);n&&(t[i++]=n);for(let n=0,r=this._secondaryCursors.length;n<r;n++){var o=this._secondaryCursors[n].render(e);o&&(t[i++]=o)}this._renderData=t}getLastRenderData(){return this._renderData}}si.BLINK_INTERVAL=500,Object(Ne.f)((e,t)=>{const i=e.getColor(Ee.z);if(i){let n=e.getColor(Ee.y);n=n||i.opposite(),t.addRule(`.monaco-editor .cursors-layer .cursor { background-color: ${i}; border-color: ${i}; color: ${n}; }`),"hc"===e.type&&t.addRule(`.monaco-editor .cursors-layer.has-selection .cursor { border-left: 1px solid ${n}; border-right: 1px solid ${n}; }`)}});const ai=()=>{throw new Error("Invalid change accessor")};class li extends T{constructor(e){super(e);const t=this._context.configuration.options;e=t.get(129),this._lineHeight=t.get(58),this._contentWidth=e.contentWidth,this._contentLeft=e.contentLeft,this.domNode=Object(v.b)(document.createElement("div")),this.domNode.setClassName("view-zones"),this.domNode.setPosition("absolute"),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.marginDomNode=Object(v.b)(document.createElement("div")),this.marginDomNode.setClassName("margin-view-zones"),this.marginDomNode.setPosition("absolute"),this.marginDomNode.setAttribute("role","presentation"),this.marginDomNode.setAttribute("aria-hidden","true"),this._zones={}}dispose(){super.dispose(),this._zones={}}_recomputeWhitespacesProps(){var e=this._context.viewLayout.getWhitespaces();const t=new Map;for(const i of e)t.set(i.id,i);let i=!1;return this._context.model.changeWhitespace(e=>{var n=Object.keys(this._zones);for(let a=0,l=n.length;a<l;a++){var o=n[a];const l=this._zones[o];var r=this._computeWhitespaceProps(l.delegate);l.isInHiddenArea=r.isInHiddenArea;var s=t.get(o);!s||s.afterLineNumber===r.afterViewLineNumber&&s.height===r.heightInPx||(e.changeOneWhitespace(o,r.afterViewLineNumber,r.heightInPx),this._safeCallOnComputedHeight(l.delegate,r.heightInPx),i=!0)}}),i}onConfigurationChanged(e){const t=this._context.configuration.options;var i=t.get(129);return this._lineHeight=t.get(58),this._contentWidth=i.contentWidth,this._contentLeft=i.contentLeft,e.hasChanged(58)&&this._recomputeWhitespacesProps(),!0}onLineMappingChanged(e){return this._recomputeWhitespacesProps()}onLinesDeleted(e){return!0}onScrollChanged(e){return e.scrollTopChanged||e.scrollWidthChanged}onZonesChanged(e){return!0}onLinesInserted(e){return!0}_getZoneOrdinal(e){return void 0!==e.afterColumn?e.afterColumn:1e4}_computeWhitespaceProps(e){if(0===e.afterLineNumber)return{isInHiddenArea:!1,afterViewLineNumber:0,heightInPx:this._heightInPixels(e),minWidthInPx:this._minWidthInPixels(e)};let t,i;t=void 0!==e.afterColumn?this._context.model.validateModelPosition({lineNumber:e.afterLineNumber,column:e.afterColumn}):(o=this._context.model.validateModelPosition({lineNumber:e.afterLineNumber,column:1}).lineNumber,new te.a(o,this._context.model.getModelLineMaxColumn(o))),i=t.column===this._context.model.getModelLineMaxColumn(t.lineNumber)?this._context.model.validateModelPosition({lineNumber:t.lineNumber+1,column:1}):this._context.model.validateModelPosition({lineNumber:t.lineNumber,column:t.column+1});var n=this._context.model.coordinatesConverter.convertModelPositionToViewPosition(t),o=this._context.model.coordinatesConverter.modelPositionIsVisible(i);return{isInHiddenArea:!o,afterViewLineNumber:n.lineNumber,heightInPx:o?this._heightInPixels(e):0,minWidthInPx:this._minWidthInPixels(e)}}changeViewZones(e){let t=!1;return this._context.model.changeWhitespace(i=>{const n={addZone:e=>(t=!0,this._addZone(i,e)),removeZone:e=>{e&&(t=this._removeZone(i,e)||t)},layoutZone:e=>{e&&(t=this._layoutZone(i,e)||t)}};!function(e,t){try{e(t)}catch(e){Object(c.f)(e)}}(e,n),n.addZone=ai,n.removeZone=ai,n.layoutZone=ai}),t}_addZone(e,t){var i=this._computeWhitespaceProps(t);const n={whitespaceId:e.insertWhitespace(i.afterViewLineNumber,this._getZoneOrdinal(t),i.heightInPx,i.minWidthInPx),delegate:t,isInHiddenArea:i.isInHiddenArea,isVisible:!1,domNode:Object(v.b)(t.domNode),marginDomNode:t.marginDomNode?Object(v.b)(t.marginDomNode):null};return this._safeCallOnComputedHeight(n.delegate,i.heightInPx),n.domNode.setPosition("absolute"),n.domNode.domNode.style.width="100%",n.domNode.setDisplay("none"),n.domNode.setAttribute("monaco-view-zone",n.whitespaceId),this.domNode.appendChild(n.domNode),n.marginDomNode&&(n.marginDomNode.setPosition("absolute"),n.marginDomNode.domNode.style.width="100%",n.marginDomNode.setDisplay("none"),n.marginDomNode.setAttribute("monaco-view-zone",n.whitespaceId),this.marginDomNode.appendChild(n.marginDomNode)),this._zones[n.whitespaceId]=n,this.setShouldRender(),n.whitespaceId}_removeZone(e,t){if(this._zones.hasOwnProperty(t)){const i=this._zones[t];return delete this._zones[t],e.removeWhitespace(i.whitespaceId),i.domNode.removeAttribute("monaco-visible-view-zone"),i.domNode.removeAttribute("monaco-view-zone"),i.domNode.domNode.parentNode.removeChild(i.domNode.domNode),i.marginDomNode&&(i.marginDomNode.removeAttribute("monaco-visible-view-zone"),i.marginDomNode.removeAttribute("monaco-view-zone"),i.marginDomNode.domNode.parentNode.removeChild(i.marginDomNode.domNode)),this.setShouldRender(),!0}return!1}_layoutZone(e,t){if(this._zones.hasOwnProperty(t)){const i=this._zones[t];return t=this._computeWhitespaceProps(i.delegate),i.isInHiddenArea=t.isInHiddenArea,e.changeOneWhitespace(i.whitespaceId,t.afterViewLineNumber,t.heightInPx),this._safeCallOnComputedHeight(i.delegate,t.heightInPx),this.setShouldRender(),!0}return!1}shouldSuppressMouseDownOnViewZone(e){return!!this._zones.hasOwnProperty(e)&&(e=this._zones[e],Boolean(e.delegate.suppressMouseDown))}_heightInPixels(e){return"number"==typeof e.heightInPx?e.heightInPx:"number"==typeof e.heightInLines?this._lineHeight*e.heightInLines:this._lineHeight}_minWidthInPixels(e){return"number"==typeof e.minWidthInPx?e.minWidthInPx:0}_safeCallOnComputedHeight(e,t){if("function"==typeof e.onComputedHeight)try{e.onComputedHeight(t)}catch(e){Object(c.f)(e)}}_safeCallOnDomNodeTop(e,t){if("function"==typeof e.onDomNodeTop)try{e.onDomNodeTop(t)}catch(e){Object(c.f)(e)}}prepareRender(e){}render(e){const t={};let i=!1;for(const n of e.viewportData.whitespaceViewportData)this._zones[n.id].isInHiddenArea||(t[n.id]=n,i=!0);var n=Object.keys(this._zones);for(let i=0,r=n.length;i<r;i++){var o=n[i];const r=this._zones[o];let s=0,a=0,l="none";t.hasOwnProperty(o)?(s=t[o].verticalOffset-e.bigNumbersDelta,a=t[o].height,l="block",r.isVisible||(r.domNode.setAttribute("monaco-visible-view-zone","true"),r.isVisible=!0),this._safeCallOnDomNodeTop(r.delegate,e.getScrolledTopFromAbsoluteTop(t[o].verticalOffset))):(r.isVisible&&(r.domNode.removeAttribute("monaco-visible-view-zone"),r.isVisible=!1),this._safeCallOnDomNodeTop(r.delegate,e.getScrolledTopFromAbsoluteTop(-1e6))),r.domNode.setTop(s),r.domNode.setHeight(a),r.domNode.setDisplay(l),r.marginDomNode&&(r.marginDomNode.setTop(s),r.marginDomNode.setHeight(a),r.marginDomNode.setDisplay(l))}i&&(this.domNode.setWidth(Math.max(e.scrollWidth,this._contentWidth)),this.marginDomNode.setWidth(this._contentLeft))}}class ci{constructor(e){this._theme=e}get type(){return this._theme.type}update(e){this._theme=e}getColor(e){return this._theme.getColor(e)}}class di{constructor(e,t,i){this.configuration=e,this.theme=new ci(t),this.model=i,this.viewLayout=i.viewLayout}addEventHandler(e){this.model.addViewEventHandler(e)}removeEventHandler(e){this.model.removeViewEventHandler(e)}}class hi{constructor(e,t,i,n){this.selections=e,this.startLineNumber=0|t.startLineNumber,this.endLineNumber=0|t.endLineNumber,this.relativeVerticalOffset=t.relativeVerticalOffset,this.bigNumbersDelta=0|t.bigNumbersDelta,this.whitespaceViewportData=i,this._model=n,this.visibleRange=new ie.a(t.startLineNumber,this._model.getLineMinColumn(t.startLineNumber),t.endLineNumber,this._model.getLineMaxColumn(t.endLineNumber))}getViewLineRenderingData(e){return this._model.getViewLineRenderingData(this.visibleRange,e)}getDecorationsInViewport(){return this._model.getDecorationsInViewport(this.visibleRange)}}class ui extends I{constructor(e,t,i,n,o,r){super(),this._selections=[new m.a(1,1,1,1)],this._renderAnimationFrame=null,e=new Be(t,n,o,e),this._context=new di(t,i.getColorTheme(),n),this._configPixelRatio=this._context.configuration.options.get(127),this._context.addEventHandler(this),this._register(i.onDidColorThemeChange(e=>{this._context.theme.update(e),this._context.model.onDidColorThemeChange(),this.render(!0,!1)})),this._viewParts=[],this._textAreaHandler=new Fe(this._context,e,this._createTextAreaHandlerHelper()),this._viewParts.push(this._textAreaHandler),this._linesContent=Object(v.b)(document.createElement("div")),this._linesContent.setClassName("lines-content monaco-editor-background"),this._linesContent.setPosition("absolute"),this.domNode=Object(v.b)(document.createElement("div")),this.domNode.setClassName(this._getEditorClassName()),this.domNode.setAttribute("role","code"),this._overflowGuardContainer=Object(v.b)(document.createElement("div")),M.write(this._overflowGuardContainer,3),this._overflowGuardContainer.setClassName("overflow-guard"),this._scrollbar=new lt(this._context,this._linesContent,this.domNode,this._overflowGuardContainer),this._viewParts.push(this._scrollbar),this._viewLines=new wt(this._context,this._linesContent),this._viewZones=new li(this._context),this._viewParts.push(this._viewZones);const s=new qt(this._context);this._viewParts.push(s);const a=new Xt(this._context);this._viewParts.push(a);const l=new Ge(this._context);this._viewParts.push(l),l.addDynamicOverlay(new nt(this._context)),l.addDynamicOverlay(new ii(this._context)),l.addDynamicOverlay(new ft(this._context)),l.addDynamicOverlay(new rt(this._context));const c=new Ye(this._context);this._viewParts.push(c),c.addDynamicOverlay(new ot(this._context)),c.addDynamicOverlay(new ht(this._context)),c.addDynamicOverlay(new yt(this._context)),c.addDynamicOverlay(new Ct(this._context)),c.addDynamicOverlay(new Ie(this._context));const d=new Te(this._context);d.getDomNode().appendChild(this._viewZones.marginDomNode),d.getDomNode().appendChild(c.getDomNode()),this._viewParts.push(d),this._contentWidgets=new Xe(this._context,this.domNode),this._viewParts.push(this._contentWidgets),this._viewCursors=new si(this._context),this._viewParts.push(this._viewCursors),this._overlayWidgets=new Ut(this._context),this._viewParts.push(this._overlayWidgets),i=new Zt(this._context),this._viewParts.push(i);const h=new Vt(this._context);if(this._viewParts.push(h),s){const e=this._scrollbar.getOverviewRulerLayoutInfo();e.parent.insertBefore(s.getDomNode(),e.insertBefore)}this._linesContent.appendChild(l.getDomNode()),this._linesContent.appendChild(i.domNode),this._linesContent.appendChild(this._viewZones.domNode),this._linesContent.appendChild(this._viewLines.getDomNode()),this._linesContent.appendChild(this._contentWidgets.domNode),this._linesContent.appendChild(this._viewCursors.getDomNode()),this._overflowGuardContainer.appendChild(d.getDomNode()),this._overflowGuardContainer.appendChild(this._scrollbar.getDomNode()),this._overflowGuardContainer.appendChild(a.getDomNode()),this._overflowGuardContainer.appendChild(this._textAreaHandler.textArea),this._overflowGuardContainer.appendChild(this._textAreaHandler.textAreaCover),this._overflowGuardContainer.appendChild(this._overlayWidgets.getDomNode()),this._overflowGuardContainer.appendChild(h.getDomNode()),this.domNode.appendChild(this._overflowGuardContainer),r?r.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode.domNode):this.domNode.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode),this._applyLayout(),this._pointerHandler=this._register(new ke(this._context,e,this._createPointerHandlerHelper()))}_flushAccumulatedAndRenderNow(){this._renderNow()}_createPointerHandlerHelper(){return{viewDomNode:this.domNode.domNode,linesContentDomNode:this._linesContent.domNode,focusTextArea:()=>{this.focus()},dispatchTextAreaEvent:e=>{this._textAreaHandler.textArea.domNode.dispatchEvent(e)},getLastRenderData:()=>{var e=this._viewCursors.getLastRenderData()||[],t=this._textAreaHandler.getLastRenderData();return new ae(e,t)},shouldSuppressMouseDownOnViewZone:e=>this._viewZones.shouldSuppressMouseDownOnViewZone(e),shouldSuppressMouseDownOnWidget:e=>this._contentWidgets.shouldSuppressMouseDownOnWidget(e),getPositionFromDOMInfo:(e,t)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getPositionFromDOMInfo(e,t)),visibleRangeForPosition:(e,t)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(new te.a(e,t))),getLineWidth:e=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getLineWidth(e))}}_createTextAreaHandlerHelper(){return{visibleRangeForPositionRelativeToEditor:(e,t)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(new te.a(e,t)))}}_applyLayout(){var e=this._context.configuration.options.get(129);this.domNode.setWidth(e.width),this.domNode.setHeight(e.height),this._overflowGuardContainer.setWidth(e.width),this._overflowGuardContainer.setHeight(e.height),this._linesContent.setWidth(1e6),this._linesContent.setHeight(1e6)}_getEditorClassName(){var e=this._textAreaHandler.isFocused()?" focused":"";return this._context.configuration.options.get(126)+" "+Object(Ne.e)(this._context.theme.type)+e}handleEvents(e){super.handleEvents(e),this._scheduleRender()}onConfigurationChanged(e){return this._configPixelRatio=this._context.configuration.options.get(127),this.domNode.setClassName(this._getEditorClassName()),this._applyLayout(),!1}onCursorStateChanged(e){return this._selections=e.selections,!1}onFocusChanged(e){return this.domNode.setClassName(this._getEditorClassName()),!1}onThemeChanged(e){return this.domNode.setClassName(this._getEditorClassName()),!1}dispose(){null!==this._renderAnimationFrame&&(this._renderAnimationFrame.dispose(),this._renderAnimationFrame=null),this._contentWidgets.overflowingContentWidgetsDomNode.domNode.remove(),this._context.removeEventHandler(this),this._viewLines.dispose();for(const e of this._viewParts)e.dispose();super.dispose()}_scheduleRender(){null===this._renderAnimationFrame&&(this._renderAnimationFrame=l.T(this._onRenderScheduled.bind(this),100))}_onRenderScheduled(){this._renderAnimationFrame=null,this._flushAccumulatedAndRenderNow()}_renderNow(){!function(e){try{e()}catch(e){Object(c.f)(e)}}(()=>this._actualRender())}_getViewPartsToRender(){let e=[],t=0;for(const i of this._viewParts)i.shouldRender()&&(e[t++]=i);return e}_actualRender(){if(l.N(this.domNode.domNode)){let i=this._getViewPartsToRender();if(this._viewLines.shouldRender()||0!==i.length){var e=this._context.viewLayout.getLinesViewportData();this._context.model.setViewport(e.startLineNumber,e.endLineNumber,e.centeredLineNumber),e=new hi(this._selections,e,this._context.viewLayout.getWhitespaceViewportData(),this._context.model),this._contentWidgets.shouldRender()&&this._contentWidgets.onBeforeRender(e),this._viewLines.shouldRender()&&(this._viewLines.renderText(e),this._viewLines.onDidRender(),i=this._getViewPartsToRender());var t=new A(this._context.viewLayout,e,this._viewLines);for(const e of i)e.prepareRender(t);for(const e of i)e.render(t),e.onDidRender();.001<Math.abs(f.a()-this._configPixelRatio)&&this._context.configuration.updatePixelRatio()}}}delegateVerticalScrollbarMouseDown(e){this._scrollbar.delegateVerticalScrollbarMouseDown(e)}restoreState(e){this._context.model.setScrollPosition({scrollTop:e.scrollTop},1),this._context.model.tokenizeViewport(),this._renderNow(),this._viewLines.updateLineWidths(),this._context.model.setScrollPosition({scrollLeft:e.scrollLeft},1)}getOffsetForColumn(e,t){return t=this._context.model.validateModelPosition({lineNumber:e,column:t}),t=this._context.model.coordinatesConverter.convertModelPositionToViewPosition(t),this._flushAccumulatedAndRenderNow(),(t=this._viewLines.visibleRangeForPosition(new te.a(t.lineNumber,t.column)))?t.left:-1}getTargetAtClientPoint(e,t){return(t=this._pointerHandler.getTargetAtClientPoint(e,t))?We.convertViewToModelMouseTarget(t,this._context.model.coordinatesConverter):null}createOverviewRuler(e){return new Yt(this._context,e)}change(e){this._viewZones.changeViewZones(e),this._scheduleRender()}render(e,t){if(t){this._viewLines.forceShouldRender();for(const e of this._viewParts)e.forceShouldRender()}e?this._flushAccumulatedAndRenderNow():this._scheduleRender()}focus(){this._textAreaHandler.focusTextArea()}isFocused(){return this._textAreaHandler.isFocused()}setAriaOptions(e){this._textAreaHandler.setAriaOptions(e)}addContentWidget(e){this._contentWidgets.addWidget(e.widget),this.layoutContentWidget(e),this._scheduleRender()}layoutContentWidget(e){let t=e.position&&e.position.range||null;null!==t||null!==(i=e.position?e.position.position:null)&&(t=new ie.a(i.lineNumber,i.column,i.lineNumber,i.column));var i=e.position?e.position.preference:null;this._contentWidgets.setWidgetPosition(e.widget,t,i),this._scheduleRender()}removeContentWidget(e){this._contentWidgets.removeWidget(e.widget),this._scheduleRender()}addOverlayWidget(e){this._overlayWidgets.addWidget(e.widget),this.layoutOverlayWidget(e),this._scheduleRender()}layoutOverlayWidget(e){var t=e.position?e.position.preference:null;this._overlayWidgets.setWidgetPosition(e.widget,t)&&this._scheduleRender()}removeOverlayWidget(e){this._overlayWidgets.removeWidget(e.widget),this._scheduleRender()}}class gi{constructor(e){this._selTrackedRange=null,this._trackSelection=!0,this._setState(e,new ne.f(new ie.a(1,1,1,1),0,new te.a(1,1),0),new ne.f(new ie.a(1,1,1,1),0,new te.a(1,1),0))}dispose(e){this._removeTrackedRange(e)}startTrackingSelection(e){this._trackSelection=!0,this._updateTrackedRange(e)}stopTrackingSelection(e){this._trackSelection=!1,this._removeTrackedRange(e)}_updateTrackedRange(e){this._trackSelection&&(this._selTrackedRange=e.model._setTrackedRange(this._selTrackedRange,this.modelState.selection,0))}_removeTrackedRange(e){this._selTrackedRange=e.model._setTrackedRange(this._selTrackedRange,null,0)}asCursorState(){return new ne.d(this.modelState,this.viewState)}readSelectionFromMarkers(e){return e=e.model._getTrackedRange(this._selTrackedRange),0===this.modelState.selection.getDirection()?new m.a(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn):new m.a(e.endLineNumber,e.endColumn,e.startLineNumber,e.startColumn)}ensureValidState(e){this._setState(e,this.modelState,this.viewState)}setState(e,t,i){this._setState(e,t,i)}static _validatePositionWithCache(e,t,i,n){return t.equals(i)?n:e.normalizePosition(t,2)}static _validateViewState(e,t){const i=t.position,n=t.selectionStart.getStartPosition(),o=t.selectionStart.getEndPosition();var r=e.normalizePosition(i,2),s=this._validatePositionWithCache(e,n,i,r);e=this._validatePositionWithCache(e,o,n,s);return i.equals(r)&&n.equals(s)&&o.equals(e)?t:new ne.f(ie.a.fromPositions(s,e),t.selectionStartLeftoverVisibleColumns+n.column-s.column,r,t.leftoverVisibleColumns+i.column-r.column)}_setState(e,t,i){if(i=i&&gi._validateViewState(e.viewModel,i),t){var n=e.model.validateRange(t.selectionStart),o=t.selectionStart.equalsRange(n)?t.selectionStartLeftoverVisibleColumns:0,r=e.model.validatePosition(t.position),s=t.position.equals(r)?t.leftoverVisibleColumns:0;t=new ne.f(n,o,r,s)}else{if(!i)return;r=e.model.validateRange(e.coordinatesConverter.convertViewRangeToModelRange(i.selectionStart)),s=e.model.validatePosition(e.coordinatesConverter.convertViewPositionToModelPosition(i.position)),t=new ne.f(r,i.selectionStartLeftoverVisibleColumns,s,i.leftoverVisibleColumns)}var a,l;i=i?(a=e.coordinatesConverter.validateViewRange(i.selectionStart,t.selectionStart),l=e.coordinatesConverter.validateViewPosition(i.position,t.position),new ne.f(a,t.selectionStartLeftoverVisibleColumns,l,t.leftoverVisibleColumns)):(a=e.coordinatesConverter.convertModelPositionToViewPosition(new te.a(t.selectionStart.startLineNumber,t.selectionStart.startColumn)),l=e.coordinatesConverter.convertModelPositionToViewPosition(new te.a(t.selectionStart.endLineNumber,t.selectionStart.endColumn)),a=new ie.a(a.lineNumber,a.column,l.lineNumber,l.column),l=e.coordinatesConverter.convertModelPositionToViewPosition(t.position),new ne.f(a,t.selectionStartLeftoverVisibleColumns,l,t.leftoverVisibleColumns)),this.modelState=t,this.viewState=i,this._updateTrackedRange(e)}}class pi{constructor(e){this.context=e,this.primaryCursor=new gi(e),this.secondaryCursors=[],this.lastAddedCursorIndex=0}dispose(){this.primaryCursor.dispose(this.context),this.killSecondaryCursors()}startTrackingSelections(){this.primaryCursor.startTrackingSelection(this.context);for(let e=0,t=this.secondaryCursors.length;e<t;e++)this.secondaryCursors[e].startTrackingSelection(this.context)}stopTrackingSelections(){this.primaryCursor.stopTrackingSelection(this.context);for(let e=0,t=this.secondaryCursors.length;e<t;e++)this.secondaryCursors[e].stopTrackingSelection(this.context)}updateContext(e){this.context=e}ensureValidState(){this.primaryCursor.ensureValidState(this.context);for(let e=0,t=this.secondaryCursors.length;e<t;e++)this.secondaryCursors[e].ensureValidState(this.context)}readSelectionFromMarkers(){let e=[];e[0]=this.primaryCursor.readSelectionFromMarkers(this.context);for(let t=0,i=this.secondaryCursors.length;t<i;t++)e[t+1]=this.secondaryCursors[t].readSelectionFromMarkers(this.context);return e}getAll(){let e=[];e[0]=this.primaryCursor.asCursorState();for(let t=0,i=this.secondaryCursors.length;t<i;t++)e[t+1]=this.secondaryCursors[t].asCursorState();return e}getViewPositions(){let e=[];e[0]=this.primaryCursor.viewState.position;for(let t=0,i=this.secondaryCursors.length;t<i;t++)e[t+1]=this.secondaryCursors[t].viewState.position;return e}getTopMostViewPosition(){let e=this.primaryCursor.viewState.position;for(let t=0,i=this.secondaryCursors.length;t<i;t++){const i=this.secondaryCursors[t].viewState.position;i.isBefore(e)&&(e=i)}return e}getBottomMostViewPosition(){let e=this.primaryCursor.viewState.position;for(let i=0,n=this.secondaryCursors.length;i<n;i++){var t=this.secondaryCursors[i].viewState.position;e.isBeforeOrEqual(t)&&(e=t)}return e}getSelections(){let e=[];e[0]=this.primaryCursor.modelState.selection;for(let t=0,i=this.secondaryCursors.length;t<i;t++)e[t+1]=this.secondaryCursors[t].modelState.selection;return e}getViewSelections(){let e=[];e[0]=this.primaryCursor.viewState.selection;for(let t=0,i=this.secondaryCursors.length;t<i;t++)e[t+1]=this.secondaryCursors[t].viewState.selection;return e}setSelections(e){this.setStates(ne.d.fromModelSelections(e))}getPrimaryCursor(){return this.primaryCursor.asCursorState()}setStates(e){null!==e&&(this.primaryCursor.setState(this.context,e[0].modelState,e[0].viewState),this._setSecondaryStates(e.slice(1)))}_setSecondaryStates(e){var t=this.secondaryCursors.length,i=e.length;if(t<i){var n=i-t;for(let e=0;e<n;e++)this._addSecondaryCursor()}else if(i<t){var o=t-i;for(let e=0;e<o;e++)this._removeSecondaryCursor(this.secondaryCursors.length-1)}for(let t=0;t<i;t++)this.secondaryCursors[t].setState(this.context,e[t].modelState,e[t].viewState)}killSecondaryCursors(){this._setSecondaryStates([])}_addSecondaryCursor(){this.secondaryCursors.push(new gi(this.context)),this.lastAddedCursorIndex=this.secondaryCursors.length}getLastAddedCursorIndex(){return 0===this.secondaryCursors.length||0===this.lastAddedCursorIndex?0:this.lastAddedCursorIndex}_removeSecondaryCursor(e){this.lastAddedCursorIndex>=e+1&&this.lastAddedCursorIndex--,this.secondaryCursors[e].dispose(this.context),this.secondaryCursors.splice(e,1)}_getAll(){let e=[];e[0]=this.primaryCursor;for(let t=0,i=this.secondaryCursors.length;t<i;t++)e[t+1]=this.secondaryCursors[t];return e}normalize(){if(0!==this.secondaryCursors.length){let a=this._getAll(),l=[];for(let e=0,t=a.length;e<t;e++)l.push({index:e,selection:a[e].modelState.selection});l.sort((e,t)=>e.selection.startLineNumber===t.selection.startLineNumber?e.selection.startColumn-t.selection.startColumn:e.selection.startLineNumber-t.selection.startLineNumber);for(let c=0;c<l.length-1;c++){var e=l[c],t=l[c+1];const d=e.selection,h=t.selection;if(this.context.cursorConfig.multiCursorMergeOverlapping){let u;if(u=h.isEmpty()||d.isEmpty()?h.getStartPosition().isBeforeOrEqual(d.getEndPosition()):h.getStartPosition().isBefore(d.getEndPosition()),u){var i=e.index<t.index?c:c+1,n=e.index<t.index?c+1:c,o=l[n].index,r=l[i].index;const d=l[n].selection;var s=l[i].selection;if(!d.equalsSelection(s)){let n,c;e=d.plusRange(s),t=d.selectionStartLineNumber===d.startLineNumber&&d.selectionStartColumn===d.startColumn,s=s.selectionStartLineNumber===s.startLineNumber&&s.selectionStartColumn===s.startColumn,o===this.lastAddedCursorIndex?(n=t,this.lastAddedCursorIndex=r):n=s,c=n?new m.a(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn):new m.a(e.endLineNumber,e.endColumn,e.startLineNumber,e.startColumn),l[i].selection=c,i=ne.d.fromModelSelection(c),a[r].setState(this.context,i.modelState,i.viewState)}for(const e of l)e.index>o&&e.index--;a.splice(o,1),l.splice(n,1),this._removeSecondaryCursor(o-1),c--}}}}}}var fi=i(206),mi=i(154),vi=i(99);class bi{constructor(){this.type=0}}class _i{constructor(){this.type=1}}class wi{constructor(e){this.type=2,this._source=e}hasChanged(e){return this._source.hasChanged(e)}}class Ci{constructor(e,t){this.type=3,this.selections=e,this.modelSelections=t}}class yi{constructor(e){this.type=4,e?(this.affectsMinimap=e.affectsMinimap,this.affectsOverviewRuler=e.affectsOverviewRuler):(this.affectsMinimap=!0,this.affectsOverviewRuler=!0)}}class xi{constructor(){this.type=5}}class Si{constructor(e){this.type=6,this.isFocused=e}}class ki{constructor(){this.type=7}}class Di{constructor(){this.type=8}}class Li{constructor(e,t){this.type=9,this.fromLineNumber=e,this.toLineNumber=t}}class Oi{constructor(e,t){this.type=10,this.fromLineNumber=e,this.toLineNumber=t}}class Ei{constructor(e,t){this.type=11,this.fromLineNumber=e,this.toLineNumber=t}}class Ni{constructor(e,t,i,n,o,r){this.type=12,this.source=e,this.range=t,this.selections=i,this.verticalType=n,this.revealHorizontal=o,this.scrollType=r}}class Ii{constructor(e){this.type=13,this.scrollWidth=e.scrollWidth,this.scrollLeft=e.scrollLeft,this.scrollHeight=e.scrollHeight,this.scrollTop=e.scrollTop,this.scrollWidthChanged=e.scrollWidthChanged,this.scrollLeftChanged=e.scrollLeftChanged,this.scrollHeightChanged=e.scrollHeightChanged,this.scrollTopChanged=e.scrollTopChanged}}class Ti{constructor(){this.type=14}}class Mi{constructor(e){this.type=15,this.ranges=e}}class Ai{constructor(){this.type=16}}class Pi{constructor(){this.type=17}}class Ri extends h.a{constructor(){super(),this._onEvent=this._register(new d.b),this.onEvent=this._onEvent.event,this._eventHandlers=[],this._viewEventQueue=null,this._isConsumingViewEventQueue=!1,this._collector=null,this._collectorCnt=0,this._outgoingEvents=[]}emitOutgoingEvent(e){this._addOutgoingEvent(e),this._emitOutgoingEvents()}_addOutgoingEvent(e){for(let t=0,i=this._outgoingEvents.length;t<i;t++)if(this._outgoingEvents[t].kind===e.kind)return void(this._outgoingEvents[t]=this._outgoingEvents[t].merge(e));this._outgoingEvents.push(e)}_emitOutgoingEvents(){for(;0<this._outgoingEvents.length;){if(this._collector||this._isConsumingViewEventQueue)return;const e=this._outgoingEvents.shift();e.isNoOp()||this._onEvent.fire(e)}}addViewEventHandler(e){for(let t=0,i=this._eventHandlers.length;t<i;t++)this._eventHandlers[t]===e&&console.warn("Detected duplicate listener in ViewEventDispatcher",e);this._eventHandlers.push(e)}removeViewEventHandler(e){for(let t=0;t<this._eventHandlers.length;t++)if(this._eventHandlers[t]===e){this._eventHandlers.splice(t,1);break}}beginEmitViewEvents(){return this._collectorCnt++,1===this._collectorCnt&&(this._collector=new Fi),this._collector}endEmitViewEvents(){if(this._collectorCnt--,0===this._collectorCnt){var e=this._collector.outgoingEvents,t=this._collector.viewEvents;this._collector=null;for(const t of e)this._addOutgoingEvent(t);0<t.length&&this._emitMany(t)}this._emitOutgoingEvents()}emitSingleViewEvent(e){try{this.beginEmitViewEvents().emitViewEvent(e)}finally{this.endEmitViewEvents()}}_emitMany(e){this._viewEventQueue?this._viewEventQueue=this._viewEventQueue.concat(e):this._viewEventQueue=e,this._isConsumingViewEventQueue||this._consumeViewEventQueue()}_consumeViewEventQueue(){try{this._isConsumingViewEventQueue=!0,this._doConsumeQueue()}finally{this._isConsumingViewEventQueue=!1}}_doConsumeQueue(){for(;this._viewEventQueue;){var e=this._viewEventQueue;this._viewEventQueue=null;for(const t of this._eventHandlers.slice(0))t.handleEvents(e)}}}class Fi{constructor(){this.viewEvents=[],this.outgoingEvents=[]}emitViewEvent(e){this.viewEvents.push(e)}emitOutgoingEvent(e){this.outgoingEvents.push(e)}}class ji{constructor(e,t,i,n){this.kind=0,this._oldContentWidth=e,this._oldContentHeight=t,this.contentWidth=i,this.contentHeight=n,this.contentWidthChanged=this._oldContentWidth!==this.contentWidth,this.contentHeightChanged=this._oldContentHeight!==this.contentHeight}isNoOp(){return!this.contentWidthChanged&&!this.contentHeightChanged}merge(e){return 0!==e.kind?this:new ji(this._oldContentWidth,this._oldContentHeight,e.contentWidth,e.contentHeight)}}class Bi{constructor(e,t){this.kind=1,this.oldHasFocus=e,this.hasFocus=t}isNoOp(){return this.oldHasFocus===this.hasFocus}merge(e){return 1!==e.kind?this:new Bi(this.oldHasFocus,e.hasFocus)}}class Wi{constructor(e,t,i,n,o,r,s,a){this.kind=2,this._oldScrollWidth=e,this._oldScrollLeft=t,this._oldScrollHeight=i,this._oldScrollTop=n,this.scrollWidth=o,this.scrollLeft=r,this.scrollHeight=s,this.scrollTop=a,this.scrollWidthChanged=this._oldScrollWidth!==this.scrollWidth,this.scrollLeftChanged=this._oldScrollLeft!==this.scrollLeft,this.scrollHeightChanged=this._oldScrollHeight!==this.scrollHeight,this.scrollTopChanged=this._oldScrollTop!==this.scrollTop}isNoOp(){return!(this.scrollWidthChanged||this.scrollLeftChanged||this.scrollHeightChanged||this.scrollTopChanged)}merge(e){return 2!==e.kind?this:new Wi(this._oldScrollWidth,this._oldScrollLeft,this._oldScrollHeight,this._oldScrollTop,e.scrollWidth,e.scrollLeft,e.scrollHeight,e.scrollTop)}}class Vi{constructor(){this.kind=3}isNoOp(){return!1}merge(e){return this}}class zi{constructor(e,t,i,n,o,r,s){this.kind=6,this.oldSelections=e,this.selections=t,this.oldModelVersionId=i,this.modelVersionId=n,this.source=o,this.reason=r,this.reachedMaxCursorCount=s}static _selectionsAreEqual(e,t){if(!e&&!t)return!0;if(!e||!t)return!1;var i=e.length;if(i!==t.length)return!1;for(let n=0;n<i;n++)if(!e[n].equalsSelection(t[n]))return!1;return!0}isNoOp(){return zi._selectionsAreEqual(this.oldSelections,this.selections)&&this.oldModelVersionId===this.modelVersionId}merge(e){return 6!==e.kind?this:new zi(this.oldSelections,e.selections,this.oldModelVersionId,e.modelVersionId,e.source,e.reason,this.reachedMaxCursorCount||e.reachedMaxCursorCount)}}class Hi{constructor(){this.kind=5}isNoOp(){return!1}merge(e){return this}}class Ui{constructor(e,t){this.modelVersionId=e.getVersionId(),this.cursorState=t.getCursorStates()}equals(e){if(!e)return!1;if(this.modelVersionId!==e.modelVersionId)return!1;if(this.cursorState.length!==e.cursorState.length)return!1;for(let t=0,i=this.cursorState.length;t<i;t++)if(!this.cursorState[t].equals(e.cursorState[t]))return!1;return!0}}class $i{constructor(e,t,i){this._model=e,this._autoClosedCharactersDecorations=t,this._autoClosedEnclosingDecorations=i}static getAllAutoClosedCharacters(e){let t=[];for(const i of e)t=t.concat(i.getAutoClosedCharactersRanges());return t}dispose(){this._autoClosedCharactersDecorations=this._model.deltaDecorations(this._autoClosedCharactersDecorations,[]),this._autoClosedEnclosingDecorations=this._model.deltaDecorations(this._autoClosedEnclosingDecorations,[])}getAutoClosedCharactersRanges(){let e=[];for(let i=0;i<this._autoClosedCharactersDecorations.length;i++){var t=this._model.getDecorationRange(this._autoClosedCharactersDecorations[i]);t&&e.push(t)}return e}isValid(e){let t=[];for(let e=0;e<this._autoClosedEnclosingDecorations.length;e++){var i=this._model.getDecorationRange(this._autoClosedEnclosingDecorations[e]);if(i&&(t.push(i),i.startLineNumber!==i.endLineNumber))return!1}t.sort(ie.a.compareRangesUsingStarts),e.sort(ie.a.compareRangesUsingStarts);for(let i=0;i<e.length;i++){if(i>=t.length)return!1;if(!t[i].strictContainsRange(e[i]))return!1}return!0}}class Ki extends h.a{constructor(e,t,i,n){super(),this._model=e,this._knownModelVersionId=this._model.getVersionId(),this._viewModel=t,this._coordinatesConverter=i,this.context=new ne.c(this._model,this._viewModel,this._coordinatesConverter,n),this._cursors=new pi(this.context),this._hasFocus=!1,this._isHandling=!1,this._isDoingComposition=!1,this._selectionsWhenCompositionStarted=null,this._columnSelectData=null,this._autoClosedActions=[],this._prevEditOperationType=0}dispose(){this._cursors.dispose(),this._autoClosedActions=Object(h.f)(this._autoClosedActions),super.dispose()}updateConfiguration(e){this.context=new ne.c(this._model,this._viewModel,this._coordinatesConverter,e),this._cursors.updateContext(this.context)}onLineMappingChanged(e){this._knownModelVersionId===this._model.getVersionId()&&this.setStates(e,"viewModel",0,this.getCursorStates())}setHasFocus(e){this._hasFocus=e}_validateAutoClosedActions(){if(0<this._autoClosedActions.length){var e=this._cursors.getSelections();for(let t=0;t<this._autoClosedActions.length;t++){const i=this._autoClosedActions[t];i.isValid(e)||(i.dispose(),this._autoClosedActions.splice(t,1),t--)}}}getPrimaryCursorState(){return this._cursors.getPrimaryCursor()}getLastAddedCursorIndex(){return this._cursors.getLastAddedCursorIndex()}getCursorStates(){return this._cursors.getAll()}setStates(e,t,i,n){let o=!1;null!==n&&n.length>Ki.MAX_CURSOR_COUNT&&(n=n.slice(0,Ki.MAX_CURSOR_COUNT),o=!0);var r=new Ui(this._model,this);return this._cursors.setStates(n),this._cursors.normalize(),this._columnSelectData=null,this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(e,t,i,r,o)}setCursorColumnSelectData(e){this._columnSelectData=e}revealPrimary(e,t,i,n){var o=this._cursors.getViewPositions();1<o.length?this._emitCursorRevealRange(e,t,null,this._cursors.getViewSelections(),0,i,n):(o=o[0],o=new ie.a(o.lineNumber,o.column,o.lineNumber,o.column),this._emitCursorRevealRange(e,t,o,null,0,i,n))}_revealPrimaryCursor(e,t,i,n,o){var r=this._cursors.getViewPositions();1<r.length?this._emitCursorRevealRange(e,t,null,this._cursors.getViewSelections(),i,n,o):(r=r[0],r=new ie.a(r.lineNumber,r.column,r.lineNumber,r.column),this._emitCursorRevealRange(e,t,r,null,i,n,o))}_emitCursorRevealRange(e,t,i,n,o,r,s){e.emitViewEvent(new Ni(t,i,n,o,r,s))}saveState(){let e=[];var t=this._cursors.getSelections();for(let i=0,n=t.length;i<n;i++){const n=t[i];e.push({inSelectionMode:!n.isEmpty(),selectionStart:{lineNumber:n.selectionStartLineNumber,column:n.selectionStartColumn},position:{lineNumber:n.positionLineNumber,column:n.positionColumn}})}return e}restoreState(e,t){let i=[];for(let e=0,o=t.length;e<o;e++){var n=t[e];let o=1,r=1;n.position&&n.position.lineNumber&&(o=n.position.lineNumber),n.position&&n.position.column&&(r=n.position.column);let s=o,a=r;n.selectionStart&&n.selectionStart.lineNumber&&(s=n.selectionStart.lineNumber),n.selectionStart&&n.selectionStart.column&&(a=n.selectionStart.column),i.push({selectionStartLineNumber:s,selectionStartColumn:a,positionLineNumber:o,positionColumn:r})}this.setStates(e,"restoreState",0,ne.d.fromModelSelections(i)),this.revealPrimary(e,"restoreState",!0,1)}onModelContentChanged(e,t){var i,n;if(t instanceof vi.c){if(!this._isHandling){this._isHandling=!0;try{this.setStates(e,"modelChange",0,this.getCursorStates())}finally{this._isHandling=!1}}}else this._knownModelVersionId=t.versionId,this._isHandling||(i=t.containsEvent(1),this._prevEditOperationType=0,i?(this._cursors.dispose(),this._cursors=new pi(this.context),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(e,"model",1,null,!1)):this._hasFocus&&t.resultingSelection&&0<t.resultingSelection.length?(n=ne.d.fromModelSelections(t.resultingSelection),this.setStates(e,"modelChange",t.isUndoing?5:t.isRedoing?6:2,n)&&this._revealPrimaryCursor(e,"modelChange",0,!0,0)):(n=this._cursors.readSelectionFromMarkers(),this.setStates(e,"modelChange",2,ne.d.fromModelSelections(n))))}getSelection(){return this._cursors.getPrimaryCursor().modelState.selection}getTopMostViewPosition(){return this._cursors.getTopMostViewPosition()}getBottomMostViewPosition(){return this._cursors.getBottomMostViewPosition()}getCursorColumnSelectData(){if(this._columnSelectData)return this._columnSelectData;const e=this._cursors.getPrimaryCursor();var t=e.viewState.selectionStart.getStartPosition(),i=e.viewState.position;return{isReal:!1,fromViewLineNumber:t.lineNumber,fromViewVisualColumn:ne.a.visibleColumnFromColumn2(this.context.cursorConfig,this._viewModel,t),toViewLineNumber:i.lineNumber,toViewVisualColumn:ne.a.visibleColumnFromColumn2(this.context.cursorConfig,this._viewModel,i)}}getSelections(){return this._cursors.getSelections()}setSelections(e,t,i,n){this.setStates(e,t,n,ne.d.fromModelSelections(i))}getPrevEditOperationType(){return this._prevEditOperationType}setPrevEditOperationType(e){this._prevEditOperationType=e}_pushAutoClosedAction(e,t){let i=[],n=[];for(let o=0,r=e.length;o<r;o++)i.push({range:e[o],options:{description:"auto-closed-character",inlineClassName:"auto-closed-character",stickiness:1}}),n.push({range:t[o],options:{description:"auto-closed-enclosing",stickiness:1}});var o=this._model.deltaDecorations([],i),r=this._model.deltaDecorations([],n);this._autoClosedActions.push(new $i(this._model,o,r))}_executeEditOperation(e){if(e){e.shouldPushStackElementBefore&&this._model.pushStackElement();var t=class{static executeCommands(e,t,i){const n={model:e,selectionsBefore:t,trackedRanges:[],trackedRangesDirection:[]};i=this._innerExecuteCommands(n,i);for(let e=0,t=n.trackedRanges.length;e<t;e++)n.model._setTrackedRange(n.trackedRanges[e],null,0);return i}static _innerExecuteCommands(e,t){if(this._arrayIsEmpty(t))return null;var i,n=this._getEditOperations(e,t);if(0===n.operations.length)return null;const o=n.operations,r=this._getLoserCursorMap(o);if(r.hasOwnProperty("0"))return console.warn("Ignoring commands"),null;let s=[];for(let e=0,t=o.length;e<t;e++)r.hasOwnProperty(o[e].identifier.major.toString())||s.push(o[e]);n.hadTrackedEditOperation&&0<s.length&&(s[0]._isTracked=!0);let a=e.model.pushEditOperations(e.selectionsBefore,s,i=>{let n=[];for(let t=0;t<e.selectionsBefore.length;t++)n[t]=[];for(const e of i)e.identifier&&n[e.identifier.major].push(e);var o=(e,t)=>e.identifier.minor-t.identifier.minor;let r=[];for(let i=0;i<e.selectionsBefore.length;i++)0<n[i].length?(n[i].sort(o),r[i]=t[i].computeCursorState(e.model,{getInverseEditOperations:()=>n[i],getTrackedSelection:t=>{var i=parseInt(t,10);t=e.model._getTrackedRange(e.trackedRanges[i]);return 0===e.trackedRangesDirection[i]?new m.a(t.startLineNumber,t.startColumn,t.endLineNumber,t.endColumn):new m.a(t.endLineNumber,t.endColumn,t.startLineNumber,t.startColumn)}})):r[i]=e.selectionsBefore[i];return r});a=a||e.selectionsBefore;let l=[];for(i in r)r.hasOwnProperty(i)&&l.push(parseInt(i,10));l.sort((e,t)=>t-e);for(const e of l)a.splice(e,1);return a}static _arrayIsEmpty(e){for(let t=0,i=e.length;t<i;t++)if(e[t])return!1;return!0}static _getEditOperations(e,t){let i=[],n=!1;for(let r=0,s=t.length;r<s;r++){var o=t[r];o&&(o=this._getEditOperationsFromCommand(e,r,o),i=i.concat(o.operations),n=n||o.hadTrackedEditOperation)}return{operations:i,hadTrackedEditOperation:n}}static _getEditOperationsFromCommand(e,t,i){let n=[],o=0;const r=(e,r,s=!1)=>{ie.a.isEmpty(e)&&""===r||n.push({identifier:{major:t,minor:o++},range:e,text:r,forceMoveMarkers:s,isAutoWhitespaceEdit:i.insertsAutoWhitespace})};let s=!1;var a={addEditOperation:r,addTrackedEditOperation:(e,t,i)=>{s=!0,r(e,t,i)},trackSelection:(t,i)=>{const n=m.a.liftSelection(t);let o;o=n.isEmpty()?"boolean"==typeof i?i?2:3:(s=e.model.getLineMaxColumn(n.startLineNumber),n.startColumn===s?2:3):1;const r=e.trackedRanges.length;var s=e.model._setTrackedRange(null,n,o);return e.trackedRanges[r]=s,e.trackedRangesDirection[r]=n.getDirection(),r.toString()}};try{i.getEditOperations(e.model,a)}catch(a){return Object(c.f)(a),{operations:[],hadTrackedEditOperation:!1}}return{operations:n,hadTrackedEditOperation:s}}static _getLoserCursorMap(e){(e=e.slice(0)).sort((e,t)=>-ie.a.compareRangesUsingEnds(e.range,t.range));let t={};for(let o=1;o<e.length;o++){var i=e[o-1],n=e[o];if(ie.a.getStartPosition(i.range).isBefore(ie.a.getEndPosition(n.range))){let r;r=(i.identifier.major>n.identifier.major?i:n).identifier.major,t[r.toString()]=!0;for(let t=0;t<e.length;t++)e[t].identifier.major===r&&(e.splice(t,1),t<o&&o--,t--);0<o&&o--}}return t}}.executeCommands(this._model,this._cursors.getSelections(),e.commands);if(t){this._interpretCommandResult(t);let n=[],o=[];for(let t=0;t<e.commands.length;t++){var i=e.commands[t];i instanceof mi.b&&i.enclosingRange&&i.closeCharacterRange&&(n.push(i.closeCharacterRange),o.push(i.enclosingRange))}0<n.length&&this._pushAutoClosedAction(n,o),this._prevEditOperationType=e.type}e.shouldPushStackElementAfter&&this._model.pushStackElement()}}_interpretCommandResult(e){e&&0!==e.length||(e=this._cursors.readSelectionFromMarkers()),this._columnSelectData=null,this._cursors.setSelections(e),this._cursors.normalize()}_emitStateChangedIfNecessary(e,t,i,n,o){const r=new Ui(this._model,this);if(r.equals(n))return!1;var s,a=this._cursors.getSelections(),l=this._cursors.getViewSelections();return e.emitViewEvent(new Ci(l,a)),n&&n.cursorState.length===r.cursorState.length&&!r.cursorState.some((e,t)=>!e.modelState.equals(n.cursorState[t].modelState))||(s=n?n.cursorState.map(e=>e.modelState.selection):null,l=n?n.modelVersionId:0,e.emitOutgoingEvent(new zi(s,a,l,r.modelVersionId,t||"keyboard",i,o))),!0}_findAutoClosingPairs(e){if(!e.length)return null;let t=[];for(let o=0,r=e.length;o<r;o++){const r=e[o];if(!r.text||0<=r.text.indexOf("\n"))return null;var i=r.text.match(/([)\]}>'"`])([^)\]}>'"`]*)$/);if(!i)return null;var n=i[1];if(!(n=this.context.cursorConfig.autoClosingPairs.autoClosingPairsCloseSingleChar.get(n))||1!==n.length)return null;if(n=n[0].open,i=r.text.length-i[2].length-1,-1===(n=r.text.lastIndexOf(n,i-1)))return null;t.push([n,i])}return t}executeEdits(e,t,i,n){let o=null;"snippet"===t&&(o=this._findAutoClosingPairs(i)),o&&(i[0]._isTracked=!0);let r=[],s=[];(i=this._model.pushEditOperations(this.getSelections(),i,e=>{if(o)for(let n=0,c=o.length;n<c;n++){var[t,i]=o[n],a=e[n],l=a.range.startLineNumber,t=a.range.startColumn-1+t,i=a.range.startColumn-1+i;r.push(new ie.a(l,i+1,l,i+2)),s.push(new ie.a(l,t+1,l,i+2))}var c=n(e);return c&&(this._isHandling=!0),c}))&&(this._isHandling=!1,this.setSelections(e,t,i,0)),0<r.length&&this._pushAutoClosedAction(r,s)}_executeEdit(e,t,i,n=0){if(!this.context.cursorConfig.readOnly){var o=new Ui(this._model,this);this._cursors.stopTrackingSelections(),this._isHandling=!0;try{this._cursors.ensureValidState(),e()}catch(e){Object(c.f)(e)}this._isHandling=!1,this._cursors.startTrackingSelections(),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(t,i,n,o,!1)&&this._revealPrimaryCursor(t,i,0,!0,0)}}setIsDoingComposition(e){this._isDoingComposition=e}getAutoClosedCharacters(){return $i.getAllAutoClosedCharacters(this._autoClosedActions)}startComposition(e){this._selectionsWhenCompositionStarted=this.getSelections().slice(0)}endComposition(e,t){this._executeEdit(()=>{"keyboard"===t&&(this._executeEditOperation(mi.a.compositionEndWithInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,this._selectionsWhenCompositionStarted,this.getSelections(),this.getAutoClosedCharacters())),this._selectionsWhenCompositionStarted=null)},e,t)}type(e,t,i){this._executeEdit(()=>{if("keyboard"===i){var e=t.length;let i=0;for(;i<e;){var n=De.K(t,i),o=t.substr(i,n);this._executeEditOperation(mi.a.typeWithInterceptors(this._isDoingComposition,this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),this.getAutoClosedCharacters(),o)),i+=n}}else this._executeEditOperation(mi.a.typeWithoutInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),t))},e,i)}compositionType(e,t,i,n,o,r){var s;0!==t.length||0!==i||0!==n?this._executeEdit(()=>{this._executeEditOperation(mi.a.compositionType(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),t,i,n,o))},e,r):0!==o&&(s=this.getSelections().map(e=>(e=e.getPosition(),new m.a(e.lineNumber,e.column+o,e.lineNumber,e.column+o))),this.setSelections(e,r,s,0))}paste(e,t,i,n,o){this._executeEdit(()=>{this._executeEditOperation(mi.a.paste(this.context.cursorConfig,this._model,this.getSelections(),t,i,n||[]))},e,o,4)}cut(e,t){this._executeEdit(()=>{this._executeEditOperation(fi.a.cut(this.context.cursorConfig,this._model,this.getSelections()))},e,t)}executeCommand(e,t,i){this._executeEdit(()=>{this._cursors.killSecondaryCursors(),this._executeEditOperation(new ne.e(0,[t],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},e,i)}executeCommands(e,t,i){this._executeEdit(()=>{this._executeEditOperation(new ne.e(0,t,{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},e,i)}}Ki.MAX_CURSOR_COUNT=1e4;var qi=i(257),Gi=i(172),Yi=i(8),Zi=i(239),Xi=i(192);class Qi{constructor(){this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[]}insert(e){this._hasPending=!0,this._inserts.push(e)}change(e){this._hasPending=!0,this._changes.push(e)}remove(e){this._hasPending=!0,this._removes.push(e)}mustCommit(){return this._hasPending}commit(e){var t,i,n;this._hasPending&&(t=this._inserts,i=this._changes,n=this._removes,this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[],e._commitPendingChanges(t,i,n))}}class Ji{constructor(e,t,i,n,o){this.id=e,this.afterLineNumber=t,this.ordinal=i,this.height=n,this.minWidth=o,this.prefixSum=0}}class en{constructor(e,t,i,n){this._instanceId=De.P(++en.INSTANCE_COUNT),this._pendingChanges=new Qi,this._lastWhitespaceId=0,this._arr=[],this._prefixSumValidIndex=-1,this._minWidth=-1,this._lineCount=e,this._lineHeight=t,this._paddingTop=i,this._paddingBottom=n}static findInsertionIndex(e,t,i){let n=0,o=e.length;for(;n<o;){var r=n+o>>>1;t===e[r].afterLineNumber?i<e[r].ordinal?o=r:n=1+r:t<e[r].afterLineNumber?o=r:n=1+r}return n}setLineHeight(e){this._checkPendingChanges(),this._lineHeight=e}setPadding(e,t){this._paddingTop=e,this._paddingBottom=t}onFlushed(e){this._checkPendingChanges(),this._lineCount=e}changeWhitespace(e){let t=!1;try{e({insertWhitespace:(e,i,n,o)=>{t=!0,e|=0,i|=0,n|=0,o|=0;var r=this._instanceId+ ++this._lastWhitespaceId;return this._pendingChanges.insert(new Ji(r,e,i,n,o)),r},changeOneWhitespace:(e,i,n)=>{t=!0,this._pendingChanges.change({id:e,newAfterLineNumber:i|=0,newHeight:n|=0})},removeWhitespace:e=>{t=!0,this._pendingChanges.remove({id:e})}})}finally{this._pendingChanges.commit(this)}return t}_commitPendingChanges(e,t,i){if((0<e.length||0<i.length)&&(this._minWidth=-1),e.length+t.length+i.length<=1){for(const t of e)this._insertWhitespace(t);for(const e of t)this._changeOneWhitespace(e.id,e.newAfterLineNumber,e.newHeight);for(const e of i){var n=this._findWhitespaceIndex(e.id);-1!==n&&this._removeWhitespace(n)}}else{const n=new Set;for(const e of i)n.add(e.id);const o=new Map;for(const e of t)o.set(e.id,e);const r=(t=e=>{let t=[];for(const r of e){var i;n.has(r.id)||(o.has(r.id)&&(i=o.get(r.id),r.afterLineNumber=i.newAfterLineNumber,r.height=i.newHeight),t.push(r))}return t})(this._arr).concat(t(e));r.sort((e,t)=>e.afterLineNumber===t.afterLineNumber?e.ordinal-t.ordinal:e.afterLineNumber-t.afterLineNumber),this._arr=r,this._prefixSumValidIndex=-1}}_checkPendingChanges(){this._pendingChanges.mustCommit()&&this._pendingChanges.commit(this)}_insertWhitespace(e){var t=en.findInsertionIndex(this._arr,e.afterLineNumber,e.ordinal);this._arr.splice(t,0,e),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,t-1)}_findWhitespaceIndex(e){var t=this._arr;for(let i=0,n=t.length;i<n;i++)if(t[i].id===e)return i;return-1}_changeOneWhitespace(e,t,i){if(-1!==(e=this._findWhitespaceIndex(e))&&(this._arr[e].height!==i&&(this._arr[e].height=i,this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,e-1)),this._arr[e].afterLineNumber!==t)){const i=this._arr[e];this._removeWhitespace(e),i.afterLineNumber=t,this._insertWhitespace(i)}}_removeWhitespace(e){this._arr.splice(e,1),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,e-1)}onLinesDeleted(e,t){this._checkPendingChanges(),this._lineCount-=(t|=0)-(e|=0)+1;for(let n=0,o=this._arr.length;n<o;n++){var i=this._arr[n].afterLineNumber;e<=i&&i<=t?this._arr[n].afterLineNumber=e-1:t<i&&(this._arr[n].afterLineNumber-=t-e+1)}}onLinesInserted(e,t){this._checkPendingChanges(),this._lineCount+=(t|=0)-(e|=0)+1;for(let i=0,n=this._arr.length;i<n;i++)e<=this._arr[i].afterLineNumber&&(this._arr[i].afterLineNumber+=t-e+1)}getWhitespacesTotalHeight(){return this._checkPendingChanges(),0===this._arr.length?0:this.getWhitespacesAccumulatedHeight(this._arr.length-1)}getWhitespacesAccumulatedHeight(e){this._checkPendingChanges(),e|=0;let t=Math.max(0,this._prefixSumValidIndex+1);0===t&&(this._arr[0].prefixSum=this._arr[0].height,t++);for(let i=t;i<=e;i++)this._arr[i].prefixSum=this._arr[i-1].prefixSum+this._arr[i].height;return this._prefixSumValidIndex=Math.max(this._prefixSumValidIndex,e),this._arr[e].prefixSum}getLinesTotalHeight(){return this._checkPendingChanges(),this._lineHeight*this._lineCount+this.getWhitespacesTotalHeight()+this._paddingTop+this._paddingBottom}getWhitespaceAccumulatedHeightBeforeLineNumber(e){return this._checkPendingChanges(),-1===(e=this._findLastWhitespaceBeforeLineNumber(e|=0))?0:this.getWhitespacesAccumulatedHeight(e)}_findLastWhitespaceBeforeLineNumber(e){e|=0;var t=this._arr;let i=0,n=t.length-1;for(;i<=n;){var o;if(t[o=i+((o=n-i|0)/2|0)|0].afterLineNumber<e){if(1+o>=t.length||t[1+o].afterLineNumber>=e)return o;i=1+o|0}else n=o-1|0}return-1}_findFirstWhitespaceAfterLineNumber(e){return(e=this._findLastWhitespaceBeforeLineNumber(e|=0)+1)<this._arr.length?e:-1}getFirstWhitespaceIndexAfterLineNumber(e){return this._checkPendingChanges(),this._findFirstWhitespaceAfterLineNumber(e|=0)}getVerticalOffsetForLineNumber(e){let t;return this._checkPendingChanges(),t=1<(e|=0)?this._lineHeight*(e-1):0,t+(e=this.getWhitespaceAccumulatedHeightBeforeLineNumber(e))+this._paddingTop}getWhitespaceMinWidth(){if(this._checkPendingChanges(),-1===this._minWidth){let e=0;for(let t=0,i=this._arr.length;t<i;t++)e=Math.max(e,this._arr[t].minWidth);this._minWidth=e}return this._minWidth}isAfterLines(e){return this._checkPendingChanges(),this.getLinesTotalHeight()<e}isInTopPadding(e){return 0!==this._paddingTop&&(this._checkPendingChanges(),e<this._paddingTop)}isInBottomPadding(e){return 0!==this._paddingBottom&&(this._checkPendingChanges(),e>=this.getLinesTotalHeight()-this._paddingBottom)}getLineNumberAtOrAfterVerticalOffset(e){if(this._checkPendingChanges(),(e|=0)<0)return 1;var t=0|this._lineCount,i=this._lineHeight;let n=1,o=t;for(;n<o;){var r=(n+o)/2|0,s=0|this.getVerticalOffsetForLineNumber(r);if(s+i<=e)n=1+r;else{if(s<=e)return r;o=r}}return n>t?t:n}getLinesViewportData(e,t){this._checkPendingChanges(),t|=0;var i=this._lineHeight,n=0|this.getLineNumberAtOrAfterVerticalOffset(e|=0),o=0|this.getVerticalOffsetForLineNumber(n);let r=0|this._lineCount,s=0|this.getFirstWhitespaceIndexAfterLineNumber(n);var a=0|this.getWhitespacesCount();let l,c;l=-1===s?(s=a,c=r+1,0):(c=0|this.getAfterLineNumberForWhitespaceIndex(s),0|this.getHeightForWhitespaceIndex(s));let d=o,h=d,u=0;5e5<=o&&(u=5e5*Math.floor(o/5e5),u=Math.floor(u/i)*i,h-=u);const g=[];var p,f=e+(t-e)/2;let m=-1;for(let e=n;e<=r;e++){for(-1===m&&(((p=d)<=f&&f<d+i||f<p)&&(m=e)),d+=i,g[e-n]=h,h+=i;c===e;)h+=l,d+=l,s++,s>=a?c=r+1:(c=0|this.getAfterLineNumberForWhitespaceIndex(s),l=0|this.getHeightForWhitespaceIndex(s));if(d>=t){r=e;break}}-1===m&&(m=r);var v=0|this.getVerticalOffsetForLineNumber(r);let b=n,_=r;return b<_&&o<e&&b++,b<_&&t<v+i&&_--,{bigNumbersDelta:u,startLineNumber:n,endLineNumber:r,relativeVerticalOffset:g,centeredLineNumber:m,completelyVisibleStartLineNumber:b,completelyVisibleEndLineNumber:_}}getVerticalOffsetForWhitespaceIndex(e){this._checkPendingChanges();var t=this.getAfterLineNumberForWhitespaceIndex(e|=0);let i,n;return i=1<=t?this._lineHeight*t:0,n=0<e?this.getWhitespacesAccumulatedHeight(e-1):0,i+n+this._paddingTop}getWhitespaceIndexAtOrAfterVerticallOffset(e){this._checkPendingChanges(),e|=0;let t=0,i=this.getWhitespacesCount()-1;if(i<0)return-1;if(this.getVerticalOffsetForWhitespaceIndex(i)+this.getHeightForWhitespaceIndex(i)<=e)return-1;for(;t<i;){var n=Math.floor((t+i)/2),o=this.getVerticalOffsetForWhitespaceIndex(n);if(o+this.getHeightForWhitespaceIndex(n)<=e)t=n+1;else{if(o<=e)return n;i=n}}return t}getWhitespaceAtVerticalOffset(e){this._checkPendingChanges();var t=this.getWhitespaceIndexAtOrAfterVerticallOffset(e|=0);if(t<0)return null;if(t>=this.getWhitespacesCount())return null;var i=this.getVerticalOffsetForWhitespaceIndex(t);return e<i?null:(e=this.getHeightForWhitespaceIndex(t),{id:this.getIdForWhitespaceIndex(t),afterLineNumber:this.getAfterLineNumberForWhitespaceIndex(t),verticalOffset:i,height:e})}getWhitespaceViewportData(e,t){this._checkPendingChanges(),t|=0;e=this.getWhitespaceIndexAtOrAfterVerticallOffset(e|=0);var i=this.getWhitespacesCount()-1;if(e<0)return[];let n=[];for(let s=e;s<=i;s++){var o=this.getVerticalOffsetForWhitespaceIndex(s),r=this.getHeightForWhitespaceIndex(s);if(t<=o)break;n.push({id:this.getIdForWhitespaceIndex(s),afterLineNumber:this.getAfterLineNumberForWhitespaceIndex(s),verticalOffset:o,height:r})}return n}getWhitespaces(){return this._checkPendingChanges(),this._arr.slice(0)}getWhitespacesCount(){return this._checkPendingChanges(),this._arr.length}getIdForWhitespaceIndex(e){return this._checkPendingChanges(),this._arr[e|=0].id}getAfterLineNumberForWhitespaceIndex(e){return this._checkPendingChanges(),this._arr[e|=0].afterLineNumber}getHeightForWhitespaceIndex(e){return this._checkPendingChanges(),this._arr[e|=0].height}}en.INSTANCE_COUNT=0;class tn{constructor(e,t,i,n){(t|=0)<0&&(t=0),(i|=0)<0&&(i=0),(n|=0)<0&&(n=0),this.width=e=(e|=0)<0?0:e,this.contentWidth=t,this.scrollWidth=Math.max(e,t),this.height=i,this.contentHeight=n,this.scrollHeight=Math.max(i,n)}equals(e){return this.width===e.width&&this.contentWidth===e.contentWidth&&this.height===e.height&&this.contentHeight===e.contentHeight}}class nn extends h.a{constructor(e,t){super(),this._onDidContentSizeChange=this._register(new d.b),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._dimensions=new tn(0,0,0,0),this._scrollable=this._register(new Xi.a(e,t)),this.onDidScroll=this._scrollable.onScroll}getScrollable(){return this._scrollable}setSmoothScrollDuration(e){this._scrollable.setSmoothScrollDuration(e)}validateScrollPosition(e){return this._scrollable.validateScrollPosition(e)}getScrollDimensions(){return this._dimensions}setScrollDimensions(e){var t,i,n;this._dimensions.equals(e)||(t=this._dimensions,this._dimensions=e,this._scrollable.setScrollDimensions({width:e.width,scrollWidth:e.scrollWidth,height:e.height,scrollHeight:e.scrollHeight},!0),i=t.contentWidth!==e.contentWidth,n=t.contentHeight!==e.contentHeight,(i||n)&&this._onDidContentSizeChange.fire(new ji(t.contentWidth,t.contentHeight,e.contentWidth,e.contentHeight)))}getFutureScrollPosition(){return this._scrollable.getFutureScrollPosition()}getCurrentScrollPosition(){return this._scrollable.getCurrentScrollPosition()}setScrollPositionNow(e){this._scrollable.setScrollPositionNow(e)}setScrollPositionSmooth(e){this._scrollable.setScrollPositionSmooth(e)}}class on extends h.a{constructor(e,t,i){super(),this._configuration=e;const n=this._configuration.options;var o=n.get(129);e=n.get(74);this._linesLayout=new en(t,n.get(58),e.top,e.bottom),this._scrollable=this._register(new nn(0,i)),this._configureSmoothScrollDuration(),this._scrollable.setScrollDimensions(new tn(o.contentWidth,0,o.height,0)),this.onDidScroll=this._scrollable.onDidScroll,this.onDidContentSizeChange=this._scrollable.onDidContentSizeChange,this._updateHeight()}dispose(){super.dispose()}getScrollable(){return this._scrollable.getScrollable()}onHeightMaybeChanged(){this._updateHeight()}_configureSmoothScrollDuration(){this._scrollable.setSmoothScrollDuration(this._configuration.options.get(102)?125:0)}onConfigurationChanged(e){const t=this._configuration.options;var i,n,o,r;e.hasChanged(58)&&this._linesLayout.setLineHeight(t.get(58)),e.hasChanged(74)&&(o=t.get(74),this._linesLayout.setPadding(o.top,o.bottom)),e.hasChanged(129)?(i=(r=t.get(129)).contentWidth,n=r.height,r=(o=this._scrollable.getScrollDimensions()).contentWidth,this._scrollable.setScrollDimensions(new tn(i,o.contentWidth,n,this._getContentHeight(i,n,r)))):this._updateHeight(),e.hasChanged(102)&&this._configureSmoothScrollDuration()}onFlushed(e){this._linesLayout.onFlushed(e)}onLinesDeleted(e,t){this._linesLayout.onLinesDeleted(e,t)}onLinesInserted(e,t){this._linesLayout.onLinesInserted(e,t)}_getHorizontalScrollbarHeight(e,t){var i=this._configuration.options.get(91);return 2===i.horizontal||t<=e?0:i.horizontalScrollbarSize}_getContentHeight(e,t,i){const n=this._configuration.options;let o=this._linesLayout.getLinesTotalHeight();return n.get(93)?o+=Math.max(0,t-n.get(58)-n.get(74).bottom):o+=this._getHorizontalScrollbarHeight(e,i),o}_updateHeight(){var e=this._scrollable.getScrollDimensions(),t=e.width,i=e.height,n=e.contentWidth;this._scrollable.setScrollDimensions(new tn(t,e.contentWidth,i,this._getContentHeight(t,i,n)))}getCurrentViewport(){var e=this._scrollable.getScrollDimensions(),t=this._scrollable.getCurrentScrollPosition();return new Dt.i(t.scrollTop,t.scrollLeft,e.width,e.height)}getFutureViewport(){var e=this._scrollable.getScrollDimensions(),t=this._scrollable.getFutureScrollPosition();return new Dt.i(t.scrollTop,t.scrollLeft,e.width,e.height)}_computeContentWidth(e){const t=this._configuration.options;var i=t.get(130),n=t.get(43);if(i.isViewportWrapping){var o=t.get(129);i=t.get(64);return e>o.contentWidth+n.typicalHalfwidthCharacterWidth&&i.enabled&&"right"===i.side?e+o.verticalScrollbarWidth:e}return o=t.get(92)*n.typicalHalfwidthCharacterWidth,n=this._linesLayout.getWhitespaceMinWidth(),Math.max(e+o,n)}setMaxLineWidth(e){var t=this._scrollable.getScrollDimensions();this._scrollable.setScrollDimensions(new tn(t.width,this._computeContentWidth(e),t.height,t.contentHeight)),this._updateHeight()}saveState(){var e=this._scrollable.getFutureScrollPosition(),t=e.scrollTop,i=this._linesLayout.getLineNumberAtOrAfterVerticalOffset(t);return{scrollTop:t,scrollTopWithoutViewZones:t-this._linesLayout.getWhitespaceAccumulatedHeightBeforeLineNumber(i),scrollLeft:e.scrollLeft}}changeWhitespace(e){return(e=this._linesLayout.changeWhitespace(e))&&this.onHeightMaybeChanged(),e}getVerticalOffsetForLineNumber(e){return this._linesLayout.getVerticalOffsetForLineNumber(e)}isAfterLines(e){return this._linesLayout.isAfterLines(e)}isInTopPadding(e){return this._linesLayout.isInTopPadding(e)}isInBottomPadding(e){return this._linesLayout.isInBottomPadding(e)}getLineNumberAtVerticalOffset(e){return this._linesLayout.getLineNumberAtOrAfterVerticalOffset(e)}getWhitespaceAtVerticalOffset(e){return this._linesLayout.getWhitespaceAtVerticalOffset(e)}getLinesViewportData(){var e=this.getCurrentViewport();return this._linesLayout.getLinesViewportData(e.top,e.top+e.height)}getLinesViewportDataAtScrollTop(e){var t=this._scrollable.getScrollDimensions();return e+t.height>t.scrollHeight&&(e=t.scrollHeight-t.height),this._linesLayout.getLinesViewportData(e=e<0?0:e,e+t.height)}getWhitespaceViewportData(){var e=this.getCurrentViewport();return this._linesLayout.getWhitespaceViewportData(e.top,e.top+e.height)}getWhitespaces(){return this._linesLayout.getWhitespaces()}getContentWidth(){return this._scrollable.getScrollDimensions().contentWidth}getScrollWidth(){return this._scrollable.getScrollDimensions().scrollWidth}getContentHeight(){return this._scrollable.getScrollDimensions().contentHeight}getScrollHeight(){return this._scrollable.getScrollDimensions().scrollHeight}getCurrentScrollLeft(){return this._scrollable.getCurrentScrollPosition().scrollLeft}getCurrentScrollTop(){return this._scrollable.getCurrentScrollPosition().scrollTop}validateScrollPosition(e){return this._scrollable.validateScrollPosition(e)}setScrollPosition(e,t){1===t?this._scrollable.setScrollPositionNow(e):this._scrollable.setScrollPositionSmooth(e)}deltaScrollNow(e,t){var i=this._scrollable.getCurrentScrollPosition();this._scrollable.setScrollPositionNow({scrollLeft:i.scrollLeft+e,scrollTop:i.scrollTop+t})}}var rn=i(118),sn=i(258);class an{constructor(e){this._lines=e}convertViewPositionToModelPosition(e){return this._lines.convertViewPositionToModelPosition(e.lineNumber,e.column)}convertViewRangeToModelRange(e){return this._lines.convertViewRangeToModelRange(e)}validateViewPosition(e,t){return this._lines.validateViewPosition(e.lineNumber,e.column,t)}validateViewRange(e,t){return this._lines.validateViewRange(e,t)}convertModelPositionToViewPosition(e,t){return this._lines.convertModelPositionToViewPosition(e.lineNumber,e.column,t)}convertModelRangeToViewRange(e,t){return this._lines.convertModelRangeToViewRange(e,t)}modelPositionIsVisible(e){return this._lines.modelPositionIsVisible(e.lineNumber,e.column)}getModelLineViewLineCount(e){return this._lines.getModelLineViewLineCount(e)}getViewLineNumberOfModelPosition(e,t){return this._lines.getViewLineNumberOfModelPosition(e,t)}}class ln{constructor(e){this._counts=e,this._isValid=!1,this._validEndIndex=-1,this._modelToView=[],this._viewToModel=[]}_invalidate(e){this._isValid=!1,this._validEndIndex=Math.min(this._validEndIndex,e-1)}_ensureValid(){if(!this._isValid){for(let i=this._validEndIndex+1,n=this._counts.length;i<n;i++){var e=this._counts[i],t=0<i?this._modelToView[i-1]:0;this._modelToView[i]=t+e;for(let n=0;n<e;n++)this._viewToModel[t+n]=i}this._modelToView.length=this._counts.length,this._viewToModel.length=this._modelToView[this._modelToView.length-1],this._isValid=!0,this._validEndIndex=this._counts.length-1}}changeValue(e,t){this._counts[e]!==t&&(this._counts[e]=t,this._invalidate(e))}removeValues(e,t){this._counts.splice(e,t),this._invalidate(e)}insertValues(e,t){this._counts=et.b(this._counts,e,t),this._invalidate(e)}getTotalValue(){return this._ensureValid(),this._viewToModel.length}getAccumulatedValue(e){return this._ensureValid(),this._modelToView[e]}getIndexOf(e){this._ensureValid();var t=this._viewToModel[e],i=0<t?this._modelToView[t-1]:0;return new sn.b(t,e-i)}}class cn{constructor(e,t,i,n,o,r,s,a,l){this._editorId=e,this.model=t,this._validModelVersionId=-1,this._domLineBreaksComputerFactory=i,this._monospaceLineBreaksComputerFactory=n,this.fontInfo=o,this.tabSize=r,this.wrappingStrategy=s,this.wrappingColumn=a,this.wrappingIndent=l,this._constructLines(!0,null)}dispose(){this.hiddenAreasIds=this.model.deltaDecorations(this.hiddenAreasIds,[])}createCoordinatesConverter(){return new an(this)}_constructLines(e,t){this.lines=[],e&&(this.hiddenAreasIds=[]);var i=this.model.getLinesContent(),n=(e=this.model.getInjectedTextDecorations(this._editorId),i.length);const o=this.createLineBreaksComputer(),r=new et.a(vi.b.fromDecorations(e));for(let e=0;e<n;e++){var s=r.takeWhile(t=>t.lineNumber===e+1);o.addRequest(i[e],s,t?t[e]:null)}var a=o.finalize();let l=[];var c=this.hiddenAreasIds.map(e=>this.model.getDecorationRange(e)).sort(ie.a.compareRangesUsingStarts);let d=1,h=0,u=-1,g=u+1<c.length?h+1:n+2;for(let e=0;e<n;e++){var p=e+1;p===g&&(u++,d=c[u].startLineNumber,h=c[u].endLineNumber,g=u+1<c.length?h+1:n+2),p=p>=d&&p<=h;let t=vn(a[e],!p);l[e]=t.getViewLineCount(),this.lines[e]=t}this._validModelVersionId=this.model.getVersionId(),this.prefixSumComputer=new ln(l)}getHiddenAreas(){return this.hiddenAreasIds.map(e=>this.model.getDecorationRange(e))}_reduceRanges(e){if(0===e.length)return[];var t=e.map(e=>this.model.validateRange(e)).sort(ie.a.compareRangesUsingStarts);let i=[],n=t[0].startLineNumber,o=t[0].endLineNumber;for(let e=1,s=t.length;e<s;e++){var r=t[e];r.startLineNumber>o+1?(i.push(new ie.a(n,1,o,1)),n=r.startLineNumber,o=r.endLineNumber):r.endLineNumber>o&&(o=r.endLineNumber)}return i.push(new ie.a(n,1,o,1)),i}setHiddenAreas(e){let t=this._reduceRanges(e);var i=this.hiddenAreasIds.map(e=>this.model.getDecorationRange(e)).sort(ie.a.compareRangesUsingStarts);if(t.length===i.length){let e=!1;for(let n=0;n<t.length;n++)if(!t[n].equalsRange(i[n])){e=!0;break}if(!e)return!1}let n=[];for(const e of t)n.push({range:e,options:gt.b.EMPTY});this.hiddenAreasIds=this.model.deltaDecorations(this.hiddenAreasIds,n);var o=t;let r=1,s=0,a=-1,l=a+1<o.length?s+1:this.lines.length+2,c=!1;for(let e=0;e<this.lines.length;e++){var d=e+1;d===l&&(a++,r=o[a].startLineNumber,s=o[a].endLineNumber,l=a+1<o.length?s+1:this.lines.length+2);let t=!1;d>=r&&d<=s?this.lines[e].isVisible()&&(this.lines[e]=this.lines[e].setVisible(!1),t=!0):(c=!0,this.lines[e].isVisible()||(this.lines[e]=this.lines[e].setVisible(!0),t=!0)),t&&(d=this.lines[e].getViewLineCount(),this.prefixSumComputer.changeValue(e,d))}return c||this.setHiddenAreas([]),!0}modelPositionIsVisible(e,t){return!(e<1||e>this.lines.length)&&this.lines[e-1].isVisible()}getModelLineViewLineCount(e){return e<1||e>this.lines.length?1:this.lines[e-1].getViewLineCount()}setTabSize(e){return this.tabSize!==e&&(this.tabSize=e,this._constructLines(!1,null),!0)}setWrappingSettings(e,t,i,n){var o=this.fontInfo.equals(e),r=this.wrappingStrategy===t,s=this.wrappingColumn===i,a=this.wrappingIndent===n;if(o&&r&&s&&a)return!1;a=o&&r&&!s&&a,this.fontInfo=e,this.wrappingStrategy=t,this.wrappingColumn=i,this.wrappingIndent=n;let l=null;if(a){l=[];for(let e=0,t=this.lines.length;e<t;e++)l[e]=this.lines[e].getLineBreakData()}return this._constructLines(!1,l),!0}createLineBreaksComputer(){return("advanced"===this.wrappingStrategy?this._domLineBreaksComputerFactory:this._monospaceLineBreaksComputerFactory).createLineBreaksComputer(this.fontInfo,this.tabSize,this.wrappingColumn,this.wrappingIndent)}onModelFlushed(){this._constructLines(!0,null)}onModelLinesDeleted(e,t,i){if(!e||e<=this._validModelVersionId)return null;var n=1===t?1:this.prefixSumComputer.getAccumulatedValue(t-2)+1;e=this.prefixSumComputer.getAccumulatedValue(i-1);return this.lines.splice(t-1,i-t+1),this.prefixSumComputer.removeValues(t-1,i-t+1),new Oi(n,e)}onModelLinesInserted(e,t,i,n){if(!e||e<=this._validModelVersionId)return null;var o=2<t&&!this.lines[t-2].isVisible();e=1===t?1:this.prefixSumComputer.getAccumulatedValue(t-2)+1;let r=0,s=[],a=[];for(let e=0,t=n.length;e<t;e++){let t=vn(n[e],!o);s.push(t);var l=t.getViewLineCount();r+=l,a[e]=l}return this.lines=this.lines.slice(0,t-1).concat(s).concat(this.lines.slice(t-1)),this.prefixSumComputer.insertValues(t-1,a),new Ei(e,e+r-1)}onModelLineChanged(e,t,i){if(null!==e&&e<=this._validModelVersionId)return[!1,null,null,null];var n=t-1;e=this.lines[n].getViewLineCount(),i=vn(i,this.lines[n].isVisible());this.lines[n]=i;let o=!1,r=0,s=-1,a=0,l=-1,c=0,d=-1;return(i=this.lines[n].getViewLineCount())<e?(r=1===t?1:this.prefixSumComputer.getAccumulatedValue(t-2)+1,s=r+i-1,c=s+1,d=c+(e-i)-1,o=!0):e<i?(r=1===t?1:this.prefixSumComputer.getAccumulatedValue(t-2)+1,s=r+e-1,a=s+1,l=a+(i-e)-1,o=!0):(r=1===t?1:this.prefixSumComputer.getAccumulatedValue(t-2)+1,s=r+i-1),this.prefixSumComputer.changeValue(n,i),[o,t=r<=s?new Li(r,s):null,n=a<=l?new Ei(a,l):null,i=c<=d?new Oi(c,d):null]}acceptVersionId(e){this._validModelVersionId=e,1!==this.lines.length||this.lines[0].isVisible()||this.setHiddenAreas([])}getViewLineCount(){return this.prefixSumComputer.getTotalValue()}_toValidViewLineNumber(e){if(e<1)return 1;var t=this.getViewLineCount();return t<e?t:0|e}getActiveIndentGuide(e,t,i){return e=this._toValidViewLineNumber(e),t=this._toValidViewLineNumber(t),i=this._toValidViewLineNumber(i),e=this.convertViewPositionToModelPosition(e,this.getViewLineMinColumn(e)),t=this.convertViewPositionToModelPosition(t,this.getViewLineMinColumn(t)),i=this.convertViewPositionToModelPosition(i,this.getViewLineMinColumn(i)),e=this.model.getActiveIndentGuide(e.lineNumber,t.lineNumber,i.lineNumber),t=this.convertModelPositionToViewPosition(e.startLineNumber,1),i=this.convertModelPositionToViewPosition(e.endLineNumber,this.model.getLineMaxColumn(e.endLineNumber)),{startLineNumber:t.lineNumber,endLineNumber:i.lineNumber,indent:e.indent}}getViewLineInfo(e){e=this._toValidViewLineNumber(e);e=(t=this.prefixSumComputer.getIndexOf(e-1)).index;var t=t.remainder;return new dn(e+1,t)}getMinColumnOfViewLine(e){return this.lines[e.modelLineNumber-1].getViewLineMinColumn(this.model,e.modelLineNumber,e.modelLineWrappedLineIdx)}getModelStartPositionOfViewLine(e){const t=this.lines[e.modelLineNumber-1];var i=t.getViewLineMinColumn(this.model,e.modelLineNumber,e.modelLineWrappedLineIdx);i=t.getModelColumnOfViewPosition(e.modelLineWrappedLineIdx,i);return new te.a(e.modelLineNumber,i)}getModelEndPositionOfViewLine(e){const t=this.lines[e.modelLineNumber-1];var i=t.getViewLineMaxColumn(this.model,e.modelLineNumber,e.modelLineWrappedLineIdx);i=t.getModelColumnOfViewPosition(e.modelLineWrappedLineIdx,i);return new te.a(e.modelLineNumber,i)}getViewLineInfosGroupedByModelRanges(e,t){var i=this.getViewLineInfo(e),n=this.getViewLineInfo(t);const o=new Array;let r=this.getModelStartPositionOfViewLine(i),s=new Array;for(let e=i.modelLineNumber;e<=n.modelLineNumber;e++){const t=this.lines[e-1];if(t.isVisible()){var a=e===i.modelLineNumber?i.modelLineWrappedLineIdx:0,l=e===n.modelLineNumber?n.modelLineWrappedLineIdx+1:t.getViewLineCount();for(let t=a;t<l;t++)s.push(new dn(e,t))}!t.isVisible()&&r?(a=new te.a(e-1,this.model.getLineMaxColumn(e-1)+1),a=ie.a.fromPositions(r,a),o.push(new hn(a,s)),s=[],r=null):t.isVisible()&&!r&&(r=new te.a(e,1))}return r&&(t=ie.a.fromPositions(r,this.getModelEndPositionOfViewLine(n)),o.push(new hn(t,s))),o}getViewLinesBracketGuides(e,t,i,n){var o=i?this.convertViewPositionToModelPosition(i.lineNumber,i.column):null;const r=[];for(const i of this.getViewLineInfosGroupedByModelRanges(e,t)){var s=i.modelRange.startLineNumber,a=this.model.getLinesBracketGuides(s,i.modelRange.endLineNumber,o,n);for(const e of i.viewLines)if(e.isWrappedLineContinuation&&1===this.getMinColumnOfViewLine(e))r.push([]);else{let t=a[e.modelLineNumber-s];t=t.map(t=>t.horizontalLine?new ut.d(t.visibleColumn,t.className,new ut.e(t.horizontalLine.top,this.convertModelPositionToViewPosition(e.modelLineNumber,t.horizontalLine.endColumn).column)):t),r.push(t)}}return r}getViewLinesIndentGuides(e,t){e=this._toValidViewLineNumber(e),t=this._toValidViewLineNumber(t);var i=this.convertViewPositionToModelPosition(e,this.getViewLineMinColumn(e)),n=this.convertViewPositionToModelPosition(t,this.getViewLineMaxColumn(t));let o=[],r=[],s=[];var a=i.lineNumber-1,l=n.lineNumber-1;let c=null;for(let e=a;e<=l;e++){const t=this.lines[e];if(t.isVisible()){var d=t.getViewLineNumberOfModelPosition(0,e===a?i.column:1),h=t.getViewLineNumberOfModelPosition(0,this.model.getLineMaxColumn(e+1)),u=h-d+1;let n=0;1<u&&1===t.getViewLineMinColumn(this.model,e+1,h)&&(n=0===d?1:2),r.push(u),s.push(n),null===c&&(c=new te.a(e+1,0))}else null!==c&&(o=o.concat(this.model.getLinesIndentGuides(c.lineNumber,e)),c=null)}null!==c&&(o=o.concat(this.model.getLinesIndentGuides(c.lineNumber,n.lineNumber)),c=null);var g=t-e+1;let p=new Array(g),f=0;for(let e=0,t=o.length;e<t;e++){let t=o[e];var m=Math.min(g-f,r[e]),v=s[e];let i;i=2===v?0:1===v?1:m;for(let e=0;e<m;e++)e===i&&(t=0),p[f++]=t}return p}getViewLineContent(e){e=this._toValidViewLineNumber(e);e=(t=this.prefixSumComputer.getIndexOf(e-1)).index;var t=t.remainder;return this.lines[e].getViewLineContent(this.model,e+1,t)}getViewLineLength(e){e=this._toValidViewLineNumber(e);e=(t=this.prefixSumComputer.getIndexOf(e-1)).index;var t=t.remainder;return this.lines[e].getViewLineLength(this.model,e+1,t)}getViewLineMinColumn(e){e=this._toValidViewLineNumber(e);e=(t=this.prefixSumComputer.getIndexOf(e-1)).index;var t=t.remainder;return this.lines[e].getViewLineMinColumn(this.model,e+1,t)}getViewLineMaxColumn(e){e=this._toValidViewLineNumber(e);e=(t=this.prefixSumComputer.getIndexOf(e-1)).index;var t=t.remainder;return this.lines[e].getViewLineMaxColumn(this.model,e+1,t)}getViewLineData(e){e=this._toValidViewLineNumber(e);e=(t=this.prefixSumComputer.getIndexOf(e-1)).index;var t=t.remainder;return this.lines[e].getViewLineData(this.model,e+1,t)}getViewLinesData(e,t,i){e=this._toValidViewLineNumber(e),t=this._toValidViewLineNumber(t);var n=this.prefixSumComputer.getIndexOf(e-1);let o=e;var r=n.index,s=n.remainder,a=[];for(let n=r,d=this.model.getLineCount();n<d;n++){let d=this.lines[n];if(d.isVisible()){var l=n===r?s:0;let h=d.getViewLineCount()-l,u=!1;o+h>t&&(u=!0,h=t-o+1);var c=l+h;if(d.getViewLinesData(this.model,n+1,l,c,o-e,i,a),o+=h,u)break}}return a}validateViewPosition(e,t,i){e=this._toValidViewLineNumber(e);var n=(s=this.prefixSumComputer.getIndexOf(e-1)).index,o=s.remainder;let r=this.lines[n];var s,a=r.getViewLineMinColumn(this.model,n+1,o);return(s=r.getViewLineMaxColumn(this.model,n+1,o))<(t=t<a?a:t)&&(t=s),o=r.getModelColumnOfViewPosition(o,t),this.model.validatePosition(new te.a(n+1,o)).equals(i)?new te.a(e,t):this.convertModelPositionToViewPosition(i.lineNumber,i.column)}validateViewRange(e,t){var i=this.validateViewPosition(e.startLineNumber,e.startColumn,t.getStartPosition());t=this.validateViewPosition(e.endLineNumber,e.endColumn,t.getEndPosition());return new ie.a(i.lineNumber,i.column,t.lineNumber,t.column)}convertViewPositionToModelPosition(e,t){e=this._toValidViewLineNumber(e);e=(i=this.prefixSumComputer.getIndexOf(e-1)).index;var i=i.remainder;t=this.lines[e].getModelColumnOfViewPosition(i,t);return this.model.validatePosition(new te.a(e+1,t))}convertViewRangeToModelRange(e){var t=this.convertViewPositionToModelPosition(e.startLineNumber,e.startColumn);e=this.convertViewPositionToModelPosition(e.endLineNumber,e.endColumn);return new ie.a(t.lineNumber,t.column,e.lineNumber,e.column)}convertModelPositionToViewPosition(e,t,i=2){var n=this.model.validatePosition(new te.a(e,t));e=n.lineNumber,t=n.column;let o,r=e-1,s=!1;for(;0<r&&!this.lines[r].isVisible();)r--,s=!0;return 0!==r||this.lines[r].isVisible()?(n=1+(0===r?0:this.prefixSumComputer.getAccumulatedValue(r-1)),o=s?this.lines[r].getViewPositionOfModelPosition(n,this.model.getLineMaxColumn(r+1),i):this.lines[e-1].getViewPositionOfModelPosition(n,t,i),o):new te.a(1,1)}convertModelRangeToViewRange(e,t=0){if(e.isEmpty()){var i=this.convertModelPositionToViewPosition(e.startLineNumber,e.startColumn,t);return ie.a.fromPositions(i)}return i=this.convertModelPositionToViewPosition(e.startLineNumber,e.startColumn,1),e=this.convertModelPositionToViewPosition(e.endLineNumber,e.endColumn,0),new ie.a(i.lineNumber,i.column,e.lineNumber,e.column)}getViewLineNumberOfModelPosition(e,t){let i=e-1;if(this.lines[i].isVisible()){const e=1+(0===i?0:this.prefixSumComputer.getAccumulatedValue(i-1));return this.lines[i].getViewLineNumberOfModelPosition(e,t)}for(;0<i&&!this.lines[i].isVisible();)i--;if(0===i&&!this.lines[i].isVisible())return 1;const n=1+(0===i?0:this.prefixSumComputer.getAccumulatedValue(i-1));return this.lines[i].getViewLineNumberOfModelPosition(n,this.model.getLineMaxColumn(i+1))}getDecorationsInRange(e,t,i){var n=this.convertViewPositionToModelPosition(e.startLineNumber,e.startColumn),o=this.convertViewPositionToModelPosition(e.endLineNumber,e.endColumn);if(o.lineNumber-n.lineNumber<=e.endLineNumber-e.startLineNumber)return this.model.getDecorationsInRange(new ie.a(n.lineNumber,1,o.lineNumber,o.column),t,i);let r=[];var s,a=n.lineNumber-1,l=o.lineNumber-1;let c=null;for(let e=a;e<=l;e++){this.lines[e].isVisible()?null===c&&(c=new te.a(e+1,e===a?n.column:1)):null!==c&&(s=this.model.getLineMaxColumn(e),r=r.concat(this.model.getDecorationsInRange(new ie.a(c.lineNumber,c.column,e,s),t,i)),c=null)}null!==c&&(r=r.concat(this.model.getDecorationsInRange(new ie.a(c.lineNumber,c.column,o.lineNumber,o.column),t,i)),c=null),r.sort((e,t)=>{var i=ie.a.compareRangesUsingStarts(e.range,t.range);return 0===i?e.id<t.id?-1:e.id>t.id?1:0:i});let d=[],h=0,u=null;for(const e of r){var g=e.id;u!==g&&(u=g,d[h++]=e)}return d}getInjectedTextAt(e){var t=this._toValidViewLineNumber(e.lineNumber),i=(t=(i=this.prefixSumComputer.getIndexOf(t-1)).index,i.remainder);return this.lines[t].getInjectedTextAt(i,e.column)}normalizePosition(e,t){var i=this._toValidViewLineNumber(e.lineNumber),n=(i=(n=this.prefixSumComputer.getIndexOf(i-1)).index,n.remainder);return this.lines[i].normalizePosition(this.model,i+1,n,e,t)}getLineIndentColumn(e){var t=this._toValidViewLineNumber(e);t=(e=this.prefixSumComputer.getIndexOf(t-1)).index;return 0===e.remainder?this.model.getLineIndentColumn(t+1):0}}class dn{constructor(e,t){this.modelLineNumber=e,this.modelLineWrappedLineIdx=t}get isWrappedLineContinuation(){return 0<this.modelLineWrappedLineIdx}}class hn{constructor(e,t){this.modelRange=e,this.viewLines=t}}class un{constructor(){}isVisible(){return!0}setVisible(e){return e?this:gn.INSTANCE}getLineBreakData(){return null}getViewLineCount(){return 1}getViewLineContent(e,t,i){return e.getLineContent(t)}getViewLineLength(e,t,i){return e.getLineLength(t)}getViewLineMinColumn(e,t,i){return e.getLineMinColumn(t)}getViewLineMaxColumn(e,t,i){return e.getLineMaxColumn(t)}getViewLineData(e,t,i){let n=e.getLineTokens(t);return t=n.getLineContent(),new Dt.f(t,!1,1,t.length+1,0,n.inflate(),null)}getViewLinesData(e,t,i,n,o,r,s){r[o]?s[o]=this.getViewLineData(e,t,0):s[o]=null}getModelColumnOfViewPosition(e,t){return t}getViewPositionOfModelPosition(e,t){return new te.a(e,t)}getViewLineNumberOfModelPosition(e,t){return e}normalizePosition(e,t,i,n,o){return n}getInjectedTextAt(e,t){return null}}un.INSTANCE=new un;class gn{constructor(){}isVisible(){return!1}setVisible(e){return e?un.INSTANCE:this}getLineBreakData(){return null}getViewLineCount(){return 0}getViewLineContent(e,t,i){throw new Error("Not supported")}getViewLineLength(e,t,i){throw new Error("Not supported")}getViewLineMinColumn(e,t,i){throw new Error("Not supported")}getViewLineMaxColumn(e,t,i){throw new Error("Not supported")}getViewLineData(e,t,i){throw new Error("Not supported")}getViewLinesData(e,t,i,n,o,r,s){throw new Error("Not supported")}getModelColumnOfViewPosition(e,t){throw new Error("Not supported")}getViewPositionOfModelPosition(e,t){throw new Error("Not supported")}getViewLineNumberOfModelPosition(e,t){throw new Error("Not supported")}normalizePosition(e,t,i,n,o){throw new Error("Not supported")}getInjectedTextAt(e,t){throw new Error("Not supported")}}gn.INSTANCE=new gn;class pn{constructor(e,t){this._lineBreakData=e,this._isVisible=t}isVisible(){return this._isVisible}setVisible(e){return this._isVisible=e,this}getLineBreakData(){return this._lineBreakData}getViewLineCount(){return this._isVisible?this._lineBreakData.breakOffsets.length:0}getInputStartOffsetOfOutputLineIndex(e){return this._lineBreakData.getInputOffsetOfOutputPosition(e,0)}getInputEndOffsetOfOutputLineIndex(e,t,i){return i+1===this._lineBreakData.breakOffsets.length?e.getLineMaxColumn(t)-1:this._lineBreakData.getInputOffsetOfOutputPosition(i+1,0)}getViewLineContent(e,t,i){if(!this._isVisible)throw new Error("Not supported");var n,o=0<i?this._lineBreakData.breakOffsets[i-1]:0,r=i<this._lineBreakData.breakOffsets.length?this._lineBreakData.breakOffsets[i]:this._lineBreakData.breakOffsets[this._lineBreakData.breakOffsets.length-1];let s;return s=null!==this._lineBreakData.injectionOffsets?(n=this._lineBreakData.injectionOffsets.map((e,t)=>new vi.b(0,0,e+1,this._lineBreakData.injectionOptions[t],0)),vi.b.applyInjectedText(e.getLineContent(t),n).substring(o,r)):e.getValueInRange({startLineNumber:t,startColumn:o+1,endLineNumber:t,endColumn:r+1}),0<i&&(s=mn(this._lineBreakData.wrappedTextIndentLength)+s),s}getViewLineLength(e,t,i){if(!this._isVisible)throw new Error("Not supported");var n=0<i?this._lineBreakData.breakOffsets[i-1]:0;let o=(i<this._lineBreakData.breakOffsets.length?this._lineBreakData.breakOffsets[i]:this._lineBreakData.breakOffsets[this._lineBreakData.breakOffsets.length-1])-n;return 0<i&&(o=this._lineBreakData.wrappedTextIndentLength+o),o}getViewLineMinColumn(e,t,i){if(!this._isVisible)throw new Error("Not supported");return this._getViewLineMinColumn(i)}_getViewLineMinColumn(e){return 0<e?this._lineBreakData.wrappedTextIndentLength+1:1}getViewLineMaxColumn(e,t,i){if(!this._isVisible)throw new Error("Not supported");return this.getViewLineLength(e,t,i)+1}getViewLineData(e,t,i){if(!this._isVisible)throw new Error("Not supported");var n=this._lineBreakData,o=0<i?n.wrappedTextIndentLength:0;const r=n.injectionOffsets,s=n.injectionOptions;let a,l,c;if(r){const v=e.getLineTokens(t).withInserted(r.map((e,t)=>({offset:e,text:s[t].content,tokenMetadata:rn.a.defaultTokenMetadata})));var d=0<i?n.breakOffsets[i-1]:0,h=n.breakOffsets[i];a=v.getLineContent().substring(d,h),l=v.sliceAndInflate(d,h,o),c=new Array;let b=0;for(let e=0;e<r.length;e++){var u,g,p=s[e].content.length,f=r[e]+b,m=r[e]+b+p;if(h<f)break;d<m&&(!(u=s[e]).inlineClassName||(f=(g=0<i?n.wrappedTextIndentLength:0)+Math.max(f-d,0))!==(m=g+Math.min(m-d,h))&&c.push(new Dt.e(f,m,u.inlineClassName,u.inlineClassNameAffectsLetterSpacing))),b+=p}}else{var v=this.getInputStartOffsetOfOutputLineIndex(i),b=this.getInputEndOffsetOfOutputLineIndex(e,t,i);const n=e.getLineTokens(t);a=e.getValueInRange({startLineNumber:t,startColumn:v+1,endLineNumber:t,endColumn:b+1}),l=n.sliceAndInflate(v,b,o),c=null}return 0<i&&(a=mn(n.wrappedTextIndentLength)+a),t=0<i?n.wrappedTextIndentLength+1:1,v=a.length+1,b=i+1<this.getViewLineCount(),o=0===i?0:n.breakOffsetsVisibleColumn[i-1],new Dt.f(a,b,t,v,o,l,c)}getViewLinesData(e,t,i,n,o,r,s){if(!this._isVisible)throw new Error("Not supported");for(let l=i;l<n;l++){var a=o+l-i;r[a]?s[a]=this.getViewLineData(e,t,l):s[a]=null}}getModelColumnOfViewPosition(e,t){if(!this._isVisible)throw new Error("Not supported");let i=t-1;return 0<e&&(i<this._lineBreakData.wrappedTextIndentLength?i=0:i-=this._lineBreakData.wrappedTextIndentLength),this._lineBreakData.getInputOffsetOfOutputPosition(e,i)+1}getViewPositionOfModelPosition(e,t,i=2){if(!this._isVisible)throw new Error("Not supported");i=(t=this._lineBreakData.getOutputPositionOfInputOffset(t-1,i)).outputLineIndex;let n=t.outputOffset+1;return 0<i&&(n+=this._lineBreakData.wrappedTextIndentLength),new te.a(e+i,n)}getViewLineNumberOfModelPosition(e,t){if(!this._isVisible)throw new Error("Not supported");return e+this._lineBreakData.getOutputPositionOfInputOffset(t-1).outputLineIndex}normalizePosition(e,t,i,n,o){if(null!==this._lineBreakData.injectionOffsets){var r=n.lineNumber-i,s=this._lineBreakData.outputPositionToOffsetInUnwrappedLine(i,n.column-1),a=this._lineBreakData.normalizeOffsetAroundInjections(s,o);if(a!==s)return this._lineBreakData.getOutputPositionOfOffsetInUnwrappedLine(a,o).toPosition(r,this._lineBreakData.wrappedTextIndentLength)}if(0===o){if(0<i&&n.column===this._getViewLineMinColumn(i))return new te.a(n.lineNumber-1,this.getViewLineMaxColumn(e,t,i-1))}else if(1===o&&i<this.getViewLineCount()-1&&n.column===this.getViewLineMaxColumn(e,t,i))return new te.a(n.lineNumber+1,this._getViewLineMinColumn(i+1));return n}getInjectedTextAt(e,t){return this._lineBreakData.getInjectedText(e,t-1)}}let fn=[""];function mn(e){if(e>=fn.length)for(let t=1;t<=e;t++)fn[t]=new Array(t+1).join(" ");return fn[e]}function vn(e,t){return null===e?(t?un:gn).INSTANCE:new pn(e,t)}class bn{constructor(e){this._lines=e}_validPosition(e){return this._lines.model.validatePosition(e)}_validRange(e){return this._lines.model.validateRange(e)}convertViewPositionToModelPosition(e){return this._validPosition(e)}convertViewRangeToModelRange(e){return this._validRange(e)}validateViewPosition(e,t){return this._validPosition(t)}validateViewRange(e,t){return this._validRange(t)}convertModelPositionToViewPosition(e){return this._validPosition(e)}convertModelRangeToViewRange(e){return this._validRange(e)}modelPositionIsVisible(e){var t=this._lines.model.getLineCount();return!(e.lineNumber<1||e.lineNumber>t)}getModelLineViewLineCount(e){return 1}getViewLineNumberOfModelPosition(e,t){return e}}class _n{constructor(e){this.model=e}dispose(){}createCoordinatesConverter(){return new bn(this)}getHiddenAreas(){return[]}setHiddenAreas(e){return!1}setTabSize(e){return!1}setWrappingSettings(e,t,i,n){return!1}createLineBreaksComputer(){let e=[];return{addRequest:(t,i,n)=>{e.push(null)},finalize:()=>e}}onModelFlushed(){}onModelLinesDeleted(e,t,i){return new Oi(t,i)}onModelLinesInserted(e,t,i,n){return new Ei(t,i)}onModelLineChanged(e,t,i){return[!1,new Li(t,t),null,null]}acceptVersionId(e){}getViewLineCount(){return this.model.getLineCount()}getActiveIndentGuide(e,t,i){return{startLineNumber:e,endLineNumber:e,indent:0}}getViewLinesBracketGuides(e,t,i){return new Array(t-e+1).fill([])}getViewLinesIndentGuides(e,t){var i=t-e+1;let n=new Array(i);for(let e=0;e<i;e++)n[e]=0;return n}getViewLineContent(e){return this.model.getLineContent(e)}getViewLineLength(e){return this.model.getLineLength(e)}getViewLineMinColumn(e){return this.model.getLineMinColumn(e)}getViewLineMaxColumn(e){return this.model.getLineMaxColumn(e)}getViewLineData(e){let t=this.model.getLineTokens(e);return e=t.getLineContent(),new Dt.f(e,!1,1,e.length+1,0,t.inflate(),null)}getViewLinesData(e,t,i){var n=this.model.getLineCount();e=Math.min(Math.max(1,e),n),t=Math.min(Math.max(1,t),n);let o=[];for(let n=e;n<=t;n++){var r=n-e;i[r]||(o[r]=null),o[r]=this.getViewLineData(n)}return o}getDecorationsInRange(e,t,i){return this.model.getDecorationsInRange(e,t,i)}normalizePosition(e,t){return this.model.normalizePosition(e,t)}getLineIndentColumn(e){return this.model.getLineIndentColumn(e)}getInjectedTextAt(e){return null}}class wn{constructor(e,t,i,n,o){this.editorId=e,this.model=t,this.configuration=i,this._linesCollection=n,this._coordinatesConverter=o,this._decorationsCache=Object.create(null),this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}_clearCachedModelDecorationsResolver(){this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}dispose(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}reset(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onModelDecorationsChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onLineMappingChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}_getOrCreateViewModelDecoration(e){var t=e.id;let i=this._decorationsCache[t];if(!i){var n,o=e.range,r=e.options;let s;s=r.isWholeLine?(n=this._coordinatesConverter.convertModelPositionToViewPosition(new te.a(o.startLineNumber,1),0),e=this._coordinatesConverter.convertModelPositionToViewPosition(new te.a(o.endLineNumber,this.model.getLineMaxColumn(o.endLineNumber)),1),new ie.a(n.lineNumber,n.column,e.lineNumber,e.column)):this._coordinatesConverter.convertModelRangeToViewRange(o,1),i=new Dt.h(s,r),this._decorationsCache[t]=i}return i}getDecorationsViewportData(e){return null!==this._cachedModelDecorationsResolver&&e.equalsRange(this._cachedModelDecorationsResolverViewRange)||(this._cachedModelDecorationsResolver=this._getDecorationsViewportData(e),this._cachedModelDecorationsResolverViewRange=e),this._cachedModelDecorationsResolver}_getDecorationsViewportData(e){var t=this._linesCollection.getDecorationsInRange(e,this.editorId,Object(U.n)(this.configuration.options)),i=e.startLineNumber,n=e.endLineNumber;let o=[],r=0,s=[];for(let e=i;e<=n;e++)s[e-i]=[];for(let e=0,g=t.length;e<g;e++){var a=(c=t[e]).options,l=this._getOrCreateViewModelDecoration(c),c=l.range;if(o[r++]=l,a.inlineClassName){var d=new Dt.a(c,a.inlineClassName,a.inlineClassNameAffectsLetterSpacing?3:0),h=Math.max(i,c.startLineNumber),u=Math.min(n,c.endLineNumber);for(let e=h;e<=u;e++)s[e-i].push(d)}a.beforeContentClassName&&i<=c.startLineNumber&&c.startLineNumber<=n&&(h=new Dt.a(new ie.a(c.startLineNumber,c.startColumn,c.startLineNumber,c.startColumn),a.beforeContentClassName,1),s[c.startLineNumber-i].push(h)),a.afterContentClassName&&i<=c.endLineNumber&&c.endLineNumber<=n&&(a=new Dt.a(new ie.a(c.endLineNumber,c.endColumn,c.endLineNumber,c.endColumn),a.afterContentClassName,2),s[c.endLineNumber-i].push(a))}return{decorations:o,inlineDecorations:s}}}var Cn=i(158);class yn extends h.a{constructor(e,t,i,n,o,r){if(super(),this._editorId=e,this._configuration=t,this.model=i,this._eventDispatcher=new Ri,this.onEvent=this._eventDispatcher.onEvent,this.cursorConfig=new ne.b(this.model.getLanguageId(),this.model.getOptions(),this._configuration),this._tokenizeViewportSoon=this._register(new C.e(()=>this.tokenizeViewport(),50)),this._updateConfigurationViewLineCount=this._register(new C.e(()=>this._updateConfigurationViewLineCountNow(),0)),this._hasFocus=!1,this._viewportStartLine=-1,this._viewportStartLineTrackedRange=null,this._viewportStartLineDelta=0,this.model.isTooLargeForTokenization())this._lines=new _n(this.model);else{const i=this._configuration.options;var s=i.get(43),a=i.get(123);e=i.get(130),t=i.get(122);this._lines=new cn(this._editorId,this.model,n,o,s,this.model.getOptions().tabSize,a,e.wrappingColumn,t)}this.coordinatesConverter=this._lines.createCoordinatesConverter(),this._cursor=this._register(new Ki(i,this,this.coordinatesConverter,this.cursorConfig)),this.viewLayout=this._register(new on(this._configuration,this.getLineCount(),r)),this._register(this.viewLayout.onDidScroll(e=>{e.scrollTopChanged&&this._tokenizeViewportSoon.schedule(),this._eventDispatcher.emitSingleViewEvent(new Ii(e)),this._eventDispatcher.emitOutgoingEvent(new Wi(e.oldScrollWidth,e.oldScrollLeft,e.oldScrollHeight,e.oldScrollTop,e.scrollWidth,e.scrollLeft,e.scrollHeight,e.scrollTop))})),this._register(this.viewLayout.onDidContentSizeChange(e=>{this._eventDispatcher.emitOutgoingEvent(e)})),this._decorations=new wn(this._editorId,this.model,this._configuration,this._lines,this.coordinatesConverter),this._registerModelEvents(),this._register(this._configuration.onDidChangeFast(e=>{try{var t=this._eventDispatcher.beginEmitViewEvents();this._onConfigurationChanged(t,e)}finally{this._eventDispatcher.endEmitViewEvents()}})),this._register(kt.getInstance().onDidChange(()=>{this._eventDispatcher.emitSingleViewEvent(new Ai)})),this._updateConfigurationViewLineCountNow()}dispose(){super.dispose(),this._decorations.dispose(),this._lines.dispose(),this.invalidateMinimapColorCache(),this._viewportStartLineTrackedRange=this.model._setTrackedRange(this._viewportStartLineTrackedRange,null,1),this._eventDispatcher.dispose()}createLineBreaksComputer(){return this._lines.createLineBreaksComputer()}addViewEventHandler(e){this._eventDispatcher.addViewEventHandler(e)}removeViewEventHandler(e){this._eventDispatcher.removeViewEventHandler(e)}_updateConfigurationViewLineCountNow(){this._configuration.setViewLineCount(this._lines.getViewLineCount())}tokenizeViewport(){var e=this.viewLayout.getLinesViewportData();e=new ie.a(e.startLineNumber,this.getLineMinColumn(e.startLineNumber),e.endLineNumber,this.getLineMaxColumn(e.endLineNumber));for(const t of this._toModelVisibleRanges(e))this.model.tokenizeViewport(t.startLineNumber,t.endLineNumber)}setHasFocus(e){this._hasFocus=e,this._cursor.setHasFocus(e),this._eventDispatcher.emitSingleViewEvent(new Si(e)),this._eventDispatcher.emitOutgoingEvent(new Bi(!e,e))}onCompositionStart(){this._eventDispatcher.emitSingleViewEvent(new bi)}onCompositionEnd(){this._eventDispatcher.emitSingleViewEvent(new _i)}onDidColorThemeChange(){this._eventDispatcher.emitSingleViewEvent(new Ti)}_onConfigurationChanged(e,t){let i=null;-1!==this._viewportStartLine&&(l=new te.a(this._viewportStartLine,this.getLineMinColumn(this._viewportStartLine)),i=this.coordinatesConverter.convertViewPositionToModelPosition(l));let n=!1;const o=this._configuration.options;var r=o.get(43),s=o.get(123),a=o.get(130),l=o.get(122);this._lines.setWrappingSettings(r,s,a.wrappingColumn,l)&&(e.emitViewEvent(new xi),e.emitViewEvent(new Di),e.emitViewEvent(new yi(null)),this._cursor.onLineMappingChanged(e),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),0!==this.viewLayout.getCurrentScrollTop()&&(n=!0),this._updateConfigurationViewLineCount.schedule()),t.hasChanged(80)&&(this._decorations.reset(),e.emitViewEvent(new yi(null))),e.emitViewEvent(new wi(t)),this.viewLayout.onConfigurationChanged(t),n&&i&&(e=this.coordinatesConverter.convertModelPositionToViewPosition(i),e=this.viewLayout.getVerticalOffsetForLineNumber(e.lineNumber),this.viewLayout.setScrollPosition({scrollTop:e+this._viewportStartLineDelta},1)),ne.b.shouldRecreate(t)&&(this.cursorConfig=new ne.b(this.model.getLanguageId(),this.model.getOptions(),this._configuration),this._cursor.updateConfiguration(this.cursorConfig))}_registerModelEvents(){this._register(this.model.onDidChangeContentOrInjectedText(e=>{try{const u=this._eventDispatcher.beginEmitViewEvents();let g=!1,p=!1;var t=e.changes,i=e instanceof vi.d?e.versionId:null;const f=this._lines.createLineBreaksComputer();for(const e of t)switch(e.changeType){case 4:for(let t=0;t<e.detail.length;t++){var n=e.detail[t];let i=e.injectedTexts[t];i=i&&i.filter(e=>!e.ownerId||e.ownerId===this._editorId),f.addRequest(n,i,null)}break;case 2:{let t=null;e.injectedText&&(t=e.injectedText.filter(e=>!e.ownerId||e.ownerId===this._editorId)),f.addRequest(e.detail,t,null);break}}const m=f.finalize();let v=0;for(const e of t)switch(e.changeType){case 1:this._lines.onModelFlushed(),u.emitViewEvent(new xi),this._decorations.reset(),this.viewLayout.onFlushed(this.getLineCount()),g=!0;break;case 3:var o=this._lines.onModelLinesDeleted(i,e.fromLineNumber,e.toLineNumber);null!==o&&(u.emitViewEvent(o),this.viewLayout.onLinesDeleted(o.fromLineNumber,o.toLineNumber)),g=!0;break;case 4:var r=m.slice(v,v+e.detail.length);v+=e.detail.length;var s=this._lines.onModelLinesInserted(i,e.fromLineNumber,e.toLineNumber,r);null!==s&&(u.emitViewEvent(s),this.viewLayout.onLinesInserted(s.fromLineNumber,s.toLineNumber)),g=!0;break;case 2:var a=m[v];v++;var[l,c,d,h]=this._lines.onModelLineChanged(i,e.lineNumber,a);p=l,c&&u.emitViewEvent(c),d&&(u.emitViewEvent(d),this.viewLayout.onLinesInserted(d.fromLineNumber,d.toLineNumber)),h&&(u.emitViewEvent(h),this.viewLayout.onLinesDeleted(h.fromLineNumber,h.toLineNumber))}null!==i&&this._lines.acceptVersionId(i),this.viewLayout.onHeightMaybeChanged(),!g&&p&&(u.emitViewEvent(new Di),u.emitViewEvent(new yi(null)),this._cursor.onLineMappingChanged(u),this._decorations.onLineMappingChanged())}finally{this._eventDispatcher.endEmitViewEvents()}if(this._viewportStartLine=-1,this._configuration.setMaxLineNumber(this.model.getLineCount()),this._updateConfigurationViewLineCountNow(),!this._hasFocus&&2<=this.model.getAttachedEditorCount()&&this._viewportStartLineTrackedRange){const e=this.model._getTrackedRange(this._viewportStartLineTrackedRange);e&&(t=this.coordinatesConverter.convertModelPositionToViewPosition(e.getStartPosition()),t=this.viewLayout.getVerticalOffsetForLineNumber(t.lineNumber),this.viewLayout.setScrollPosition({scrollTop:t+this._viewportStartLineDelta},1))}try{var u=this._eventDispatcher.beginEmitViewEvents();this._cursor.onModelContentChanged(u,e)}finally{this._eventDispatcher.endEmitViewEvents()}})),this._register(this.model.onDidChangeTokens(e=>{let t=[];for(let o=0,r=e.ranges.length;o<r;o++){var i=e.ranges[o],n=this.coordinatesConverter.convertModelPositionToViewPosition(new te.a(i.fromLineNumber,1)).lineNumber;i=this.coordinatesConverter.convertModelPositionToViewPosition(new te.a(i.toLineNumber,this.model.getLineMaxColumn(i.toLineNumber))).lineNumber;t[o]={fromLineNumber:n,toLineNumber:i}}this._eventDispatcher.emitSingleViewEvent(new Mi(t)),e.tokenizationSupportChanged&&this._tokenizeViewportSoon.schedule()})),this._register(this.model.onDidChangeLanguageConfiguration(e=>{this._eventDispatcher.emitSingleViewEvent(new ki),this.cursorConfig=new ne.b(this.model.getLanguageId(),this.model.getOptions(),this._configuration),this._cursor.updateConfiguration(this.cursorConfig)})),this._register(this.model.onDidChangeLanguage(e=>{this.cursorConfig=new ne.b(this.model.getLanguageId(),this.model.getOptions(),this._configuration),this._cursor.updateConfiguration(this.cursorConfig)})),this._register(this.model.onDidChangeOptions(e=>{if(this._lines.setTabSize(this.model.getOptions().tabSize)){try{const e=this._eventDispatcher.beginEmitViewEvents();e.emitViewEvent(new xi),e.emitViewEvent(new Di),e.emitViewEvent(new yi(null)),this._cursor.onLineMappingChanged(e),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule()}this.cursorConfig=new ne.b(this.model.getLanguageId(),this.model.getOptions(),this._configuration),this._cursor.updateConfiguration(this.cursorConfig)})),this._register(this.model.onDidChangeDecorations(e=>{this._decorations.onModelDecorationsChanged(),this._eventDispatcher.emitSingleViewEvent(new yi(e))}))}setHiddenAreas(e){let t=!1;try{const i=this._eventDispatcher.beginEmitViewEvents();t=this._lines.setHiddenAreas(e),t&&(i.emitViewEvent(new xi),i.emitViewEvent(new Di),i.emitViewEvent(new yi(null)),this._cursor.onLineMappingChanged(i),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this.viewLayout.onHeightMaybeChanged())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule(),t&&this._eventDispatcher.emitOutgoingEvent(new Vi)}getVisibleRangesPlusViewportAboveBelow(){var e=this._configuration.options.get(129),t=this._configuration.options.get(58),i=Math.max(20,Math.round(e.height/t));e=this.viewLayout.getLinesViewportData(),t=Math.max(1,e.completelyVisibleStartLineNumber-i),i=Math.min(this.getLineCount(),e.completelyVisibleEndLineNumber+i);return this._toModelVisibleRanges(new ie.a(t,this.getLineMinColumn(t),i,this.getLineMaxColumn(i)))}getVisibleRanges(){var e=this.getCompletelyVisibleViewRange();return this._toModelVisibleRanges(e)}_toModelVisibleRanges(e){e=this.coordinatesConverter.convertViewRangeToModelRange(e);var t=this._lines.getHiddenAreas();if(0===t.length)return[e];let i=[],n=0,o=e.startLineNumber,r=e.startColumn;var s=e.endLineNumber;e=e.endColumn;for(let e=0,c=t.length;e<c;e++){var a=t[e].startLineNumber,l=t[e].endLineNumber;l<o||s<a||(o<a&&(i[n++]=new ie.a(o,r,a-1,this.model.getLineMaxColumn(a-1))),o=l+1,r=1)}return(o<s||o===s&&r<e)&&(i[n++]=new ie.a(o,r,s,e)),i}getCompletelyVisibleViewRange(){var e=(t=this.viewLayout.getLinesViewportData()).completelyVisibleStartLineNumber,t=t.completelyVisibleEndLineNumber;return new ie.a(e,this.getLineMinColumn(e),t,this.getLineMaxColumn(t))}getCompletelyVisibleViewRangeAtScrollTop(e){e=(t=this.viewLayout.getLinesViewportDataAtScrollTop(e)).completelyVisibleStartLineNumber;var t=t.completelyVisibleEndLineNumber;return new ie.a(e,this.getLineMinColumn(e),t,this.getLineMaxColumn(t))}saveState(){var e=this.viewLayout.saveState(),t=e.scrollTop,i=this.viewLayout.getLineNumberAtVerticalOffset(t),n=this.coordinatesConverter.convertViewPositionToModelPosition(new te.a(i,this.getLineMinColumn(i)));t=this.viewLayout.getVerticalOffsetForLineNumber(i)-t;return{scrollLeft:e.scrollLeft,firstPosition:n,firstPositionDeltaTop:t}}reduceRestoreState(e){if(void 0===e.firstPosition)return this._reduceRestoreStateCompatibility(e);var t=this.model.validatePosition(e.firstPosition);t=this.coordinatesConverter.convertModelPositionToViewPosition(t),t=this.viewLayout.getVerticalOffsetForLineNumber(t.lineNumber)-e.firstPositionDeltaTop;return{scrollLeft:e.scrollLeft,scrollTop:t}}_reduceRestoreStateCompatibility(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTopWithoutViewZones}}getTabSize(){return this.model.getOptions().tabSize}getTextModelOptions(){return this.model.getOptions()}getLineCount(){return this._lines.getViewLineCount()}setViewport(e,t,i){this._viewportStartLine=e;var n=this.coordinatesConverter.convertViewPositionToModelPosition(new te.a(e,this.getLineMinColumn(e)));this._viewportStartLineTrackedRange=this.model._setTrackedRange(this._viewportStartLineTrackedRange,new ie.a(n.lineNumber,n.column,n.lineNumber,n.column),1),n=this.viewLayout.getVerticalOffsetForLineNumber(e),e=this.viewLayout.getCurrentScrollTop(),this._viewportStartLineDelta=e-n}getActiveIndentGuide(e,t,i){return this._lines.getActiveIndentGuide(e,t,i)}getLinesIndentGuides(e,t){return this._lines.getViewLinesIndentGuides(e,t)}getBracketGuidesInRangeByLine(e,t,i,n){return this._lines.getViewLinesBracketGuides(e,t,i,n)}getLineContent(e){return this._lines.getViewLineContent(e)}getLineLength(e){return this._lines.getViewLineLength(e)}getLineMinColumn(e){return this._lines.getViewLineMinColumn(e)}getLineMaxColumn(e){return this._lines.getViewLineMaxColumn(e)}getLineFirstNonWhitespaceColumn(e){return-1===(e=De.u(this.getLineContent(e)))?0:e+1}getLineLastNonWhitespaceColumn(e){return-1===(e=De.I(this.getLineContent(e)))?0:e+2}getDecorationsInViewport(e){return this._decorations.getDecorationsViewportData(e).decorations}getInjectedTextAt(e){return this._lines.getInjectedTextAt(e)}getViewLineRenderingData(e,t){var i=this.model.mightContainRTL(),n=this.model.mightContainNonBasicASCII(),o=this.getTabSize();let r=this._lines.getViewLineData(t),s=this._decorations.getDecorationsViewportData(e).inlineDecorations[t-e.startLineNumber];return r.inlineDecorations&&(s=[...s,...r.inlineDecorations.map(e=>e.toInlineDecoration(t))]),new Dt.g(r.minColumn,r.maxColumn,r.content,r.continuesWithWrappedLine,i,n,r.tokens,s,o,r.startVisibleColumn)}getViewLineData(e){return this._lines.getViewLineData(e)}getMinimapLinesRenderingData(e,t,i){return i=this._lines.getViewLinesData(e,t,i),new Dt.c(this.getTabSize(),i)}getAllOverviewRulerDecorations(e){var t=this.model.getOverviewRulerDecorations(this._editorId,Object(U.n)(this._configuration.options));const i=new xn;for(const l of t){var n,o,r,s,a=l.options;const t=a.overviewRuler;t&&0!==(n=t.position)&&(o=t.getColor(e),r=this.coordinatesConverter.getViewLineNumberOfModelPosition(l.range.startLineNumber,l.range.startColumn),s=this.coordinatesConverter.getViewLineNumberOfModelPosition(l.range.endLineNumber,l.range.endColumn),i.accept(o,a.zIndex,r,s,n))}return i.asArray}invalidateOverviewRulerColorCache(){for(const e of this.model.getOverviewRulerDecorations()){const t=e.options.overviewRuler;t&&t.invalidateCachedColor()}}invalidateMinimapColorCache(){for(const e of this.model.getAllDecorations()){const t=e.options.minimap;t&&t.invalidateCachedColor()}}getValueInRange(e,t){return e=this.coordinatesConverter.convertViewRangeToModelRange(e),this.model.getValueInRange(e,t)}getModelLineMaxColumn(e){return this.model.getLineMaxColumn(e)}validateModelPosition(e){return this.model.validatePosition(e)}validateModelRange(e){return this.model.validateRange(e)}deduceModelPositionRelativeToViewPosition(e,t,i){return e=this.coordinatesConverter.convertViewPositionToModelPosition(e),2===this.model.getEOL().length&&(t<0?t-=i:t+=i),e=this.model.getOffsetAt(e),this.model.getPositionAt(e+t)}getEOL(){return this.model.getEOL()}getPlainTextToCopy(e,t,i){var n=i?"\r\n":this.model.getEOL();(e=e.slice(0)).sort(ie.a.compareRangesUsingStarts);let o=!1,r=!1;for(const t of e)t.isEmpty()?o=!0:r=!0;if(!r){if(!t)return"";var s=e.map(e=>e.startLineNumber);let i="";for(let e=0;e<s.length;e++)0<e&&s[e-1]===s[e]||(i+=this.model.getLineContent(s[e])+n);return i}if(o&&t){let t=[],n=0;for(const o of e){var a=o.startLineNumber;o.isEmpty()?a!==n&&t.push(this.model.getLineContent(a)):t.push(this.model.getValueInRange(o,i?2:0)),n=a}return 1===t.length?t[0]:t}let l=[];for(const t of e)t.isEmpty()||l.push(this.model.getValueInRange(t,i?2:0));return 1===l.length?l[0]:l}getRichTextToCopy(e,t){var i=this.model.getLanguageId();if(i===Cn.b)return null;if(1!==e.length)return null;let n,o=e[0];if(o.isEmpty()){if(!t)return null;var r=o.startLineNumber;o=new ie.a(r,this.model.getLineMinColumn(r),r,this.model.getLineMaxColumn(r))}return e=this._configuration.options.get(43),t=this._getColorMap(),n=(r=/[:;\\\/<>]/.test(e.fontFamily)||e.fontFamily===U.c.fontFamily)?U.c.fontFamily:(n=e.fontFamily,n=n.replace(/"/g,"'"),/[,']/.test(n)||/[+ ]/.test(n)&&(n=`'${n}'`),`${n}, ${U.c.fontFamily}`),{mode:i,html:`<div style="color: ${t[1]};background-color: ${t[2]};font-family: ${n};font-weight: ${e.fontWeight};font-size: ${e.fontSize}px;line-height: ${e.lineHeight}px;white-space: pre;">`+this._getHTMLToCopy(o,t)+"</div>"}}_getHTMLToCopy(e,t){var i=e.startLineNumber,n=e.startColumn,o=e.endLineNumber,r=e.endColumn,s=this.getTabSize();let a="";for(let e=i;e<=o;e++){const h=this.model.getLineTokens(e);var l=h.getLineContent(),c=e===i?n-1:0,d=e===o?r-1:l.length;a+=""===l?"<br>":Object(Zi.a)(l,h.inflate(),t,c,d,s,b.i)}return a}_getColorMap(){var e=St.F.getColorMap();let t=["#000000"];if(e)for(let i=1,n=e.length;i<n;i++)t[i]=$t.a.Format.CSS.formatHex(e[i]);return t}pushStackElement(){this.model.pushStackElement()}getPrimaryCursorState(){return this._cursor.getPrimaryCursorState()}getLastAddedCursorIndex(){return this._cursor.getLastAddedCursorIndex()}getCursorStates(){return this._cursor.getCursorStates()}setCursorStates(e,t,i){this._withViewEventsCollector(n=>this._cursor.setStates(n,e,t,i))}getCursorColumnSelectData(){return this._cursor.getCursorColumnSelectData()}getCursorAutoClosedCharacters(){return this._cursor.getAutoClosedCharacters()}setCursorColumnSelectData(e){this._cursor.setCursorColumnSelectData(e)}getPrevEditOperationType(){return this._cursor.getPrevEditOperationType()}setPrevEditOperationType(e){this._cursor.setPrevEditOperationType(e)}getSelection(){return this._cursor.getSelection()}getSelections(){return this._cursor.getSelections()}getPosition(){return this._cursor.getPrimaryCursorState().modelState.position}setSelections(e,t,i=0){this._withViewEventsCollector(n=>this._cursor.setSelections(n,e,t,i))}saveCursorState(){return this._cursor.saveState()}restoreCursorState(e){this._withViewEventsCollector(t=>this._cursor.restoreState(t,e))}_executeCursorEdit(e){this._cursor.context.cursorConfig.readOnly?this._eventDispatcher.emitOutgoingEvent(new Hi):this._withViewEventsCollector(e)}executeEdits(e,t,i){this._executeCursorEdit(n=>this._cursor.executeEdits(n,e,t,i))}startComposition(){this._cursor.setIsDoingComposition(!0),this._executeCursorEdit(e=>this._cursor.startComposition(e))}endComposition(e){this._cursor.setIsDoingComposition(!1),this._executeCursorEdit(t=>this._cursor.endComposition(t,e))}type(e,t){this._executeCursorEdit(i=>this._cursor.type(i,e,t))}compositionType(e,t,i,n,o){this._executeCursorEdit(r=>this._cursor.compositionType(r,e,t,i,n,o))}paste(e,t,i,n){this._executeCursorEdit(o=>this._cursor.paste(o,e,t,i,n))}cut(e){this._executeCursorEdit(t=>this._cursor.cut(t,e))}executeCommand(e,t){this._executeCursorEdit(i=>this._cursor.executeCommand(i,e,t))}executeCommands(e,t){this._executeCursorEdit(i=>this._cursor.executeCommands(i,e,t))}revealPrimaryCursor(e,t){this._withViewEventsCollector(i=>this._cursor.revealPrimary(i,e,t,0))}revealTopMostCursor(e){var t=this._cursor.getTopMostViewPosition();const i=new ie.a(t.lineNumber,t.column,t.lineNumber,t.column);this._withViewEventsCollector(t=>t.emitViewEvent(new Ni(e,i,null,0,!0,0)))}revealBottomMostCursor(e){var t=this._cursor.getBottomMostViewPosition();const i=new ie.a(t.lineNumber,t.column,t.lineNumber,t.column);this._withViewEventsCollector(t=>t.emitViewEvent(new Ni(e,i,null,0,!0,0)))}revealRange(e,t,i,n,o){this._withViewEventsCollector(r=>r.emitViewEvent(new Ni(e,i,null,n,t,o)))}getVerticalOffsetForLineNumber(e){return this.viewLayout.getVerticalOffsetForLineNumber(e)}getScrollTop(){return this.viewLayout.getCurrentScrollTop()}setScrollTop(e,t){this.viewLayout.setScrollPosition({scrollTop:e},t)}setScrollPosition(e,t){this.viewLayout.setScrollPosition(e,t)}deltaScrollNow(e,t){this.viewLayout.deltaScrollNow(e,t)}changeWhitespace(e){this.viewLayout.changeWhitespace(e)&&(this._eventDispatcher.emitSingleViewEvent(new Pi),this._eventDispatcher.emitOutgoingEvent(new Vi))}setMaxLineWidth(e){this.viewLayout.setMaxLineWidth(e)}_withViewEventsCollector(e){try{e(this._eventDispatcher.beginEmitViewEvents())}finally{this._eventDispatcher.endEmitViewEvents()}}normalizePosition(e,t){return this._lines.normalizePosition(e,t)}getLineIndentColumn(e){return this._lines.getLineIndentColumn(e)}}class xn{constructor(){this._asMap=Object.create(null),this.asArray=[]}accept(e,t,i,n,o){if(s=this._asMap[e]){const e=s.data;var r=e[e.length-3],s=e[e.length-1];r===o&&i<=s+1?s<n&&(e[e.length-1]=n):e.push(o,i,n)}else n=new Dt.d(e,t,[o,i,n]),this._asMap[e]=n,this.asArray.push(n)}}r=i(36);var Sn=i(10),kn=(s=i(21),i(184)),Dn=(n=i(64),i(90));class Ln extends i(149).a{constructor(e,t){super(0);for(let t=0;t<e.length;t++)this.set(e.charCodeAt(t),1);for(let e=0;e<t.length;e++)this.set(t.charCodeAt(e),2)}get(e){return 0<=e&&e<256?this._asciiMap[e]:12352<=e&&e<=12543||13312<=e&&e<=19903||19968<=e&&e<=40959?3:this._map.get(e)||this._defaultValue}}let On=[],En=[];class Nn{constructor(e,t){this.classifier=new Ln(e,t)}static create(e){return new Nn(e.get(118),e.get(117))}createLineBreaksComputer(e,t,i,n){t|=0,i=+i;const o=[],r=[],s=[];return{addRequest:(e,t,i)=>{o.push(e),r.push(t),s.push(i)},finalize:()=>{var a=e.typicalFullwidthCharacterWidth/e.typicalHalfwidthCharacterWidth;let l=[];for(let e=0,h=o.length;e<h;e++){var c=r[e],d=s[e];!d||d.injectionOptions||c?l[e]=function(e,t,i,n,o,r,s){const a=vi.b.applyInjectedText(t,i);let l,c;if(c=i&&0<i.length?(l=i.map(e=>e.options),i.map(e=>e.column-1)):(l=null,null),-1===o)return l?new Dt.b([a.length],[],0,c,l):null;var d=a.length;if(d<=1)return l?new Dt.b([a.length],[],0,c,l):null;var h=o-(s=An(a,n,o,r,s));let u=[],g=[],p=0,f=0,m=0,v=o,b=a.charCodeAt(0),_=e.get(b),w=In(b,0,n,r),C=1;De.E(b)&&(w+=1,b=a.charCodeAt(1),_=e.get(b),C++);for(let t=C;t<d;t++){var y=t,x=a.charCodeAt(t);let i,o;o=De.E(x)?(t++,i=0,2):(i=e.get(x),In(x,w,n,r)),Mn(b,_,x,i)&&(f=y,m=w),w+=o,w>v&&((0===f||w-m>h)&&(f=y,m=w-o),u[p]=f,g[p]=m,p++,v=m+h,f=0),b=x,_=i}return 0!==p||i&&0!==i.length?(u[p]=d,g[p]=w,new Dt.b(u,g,s,c,l)):null}(this.classifier,o[e],c,t,i,a,n):l[e]=function(e,t,i,n,o,r,s){if(-1===o)return null;var a=i.length;if(a<=1)return null;var l=t.breakOffsets,c=t.breakOffsetsVisibleColumn,d=o-(s=An(i,n,o,r,s));let h=On,u=En,g=0,p=0,f=0,m=o;var v=l.length;let b=0;if(0<=b){let e=Math.abs(c[b]-m);for(;b+1<v;){var _=Math.abs(c[b+1]-m);if(_>=e)break;e=_,b++}}for(;b<v;){let t=b<0?0:l[b],o=b<0?0:c[b];p>t&&(t=p,o=f);let s=0,_=0,L=0,O=0;if(o<=m){let f=o,v=0===t?0:i.charCodeAt(t-1),b=0===t?0:e.get(v),y=!0;for(let o=t;o<a;o++){var w=o,C=i.charCodeAt(o);let t,a;if(a=De.E(C)?(o++,t=0,2):(t=e.get(C),In(C,f,n,r)),w>p&&Mn(v,b,C,t)&&(s=w,_=f),f+=a,f>m){O=w>p?(L=w,f-a):(L=o+1,f),f-_>d&&(s=0),y=!1;break}v=C,b=t}if(y){0<g&&(h[g]=l[l.length-1],u[g]=c[l.length-1],g++);break}}if(0===s){let a=o,l=i.charCodeAt(t),c=e.get(l),h=!1;for(let n=t-1;n>=p;n--){var y=n+1,x=i.charCodeAt(n);if(9===x){h=!0;break}let t,o;if(o=De.F(x)?(n--,t=0,2):(t=e.get(x),De.D(x)?r:1),a<=m){if(0===L&&(L=y,O=a),a<=m-d)break;if(Mn(0,t,l,c)){s=y,_=a;break}}a-=o,l=x,c=t}if(0!==s){var S=d-(O-_);if(S<=n){var k=i.charCodeAt(L);let e;e=De.E(k)?2:In(k,O,n,r),S-e<0&&(s=0)}}if(h){b--;continue}}for(0===s&&(s=L,_=O),s<=p&&(S=i.charCodeAt(p),_=De.E(S)?(s=p+2,f+2):(s=p+1,f+In(S,f,n,r))),p=s,h[g]=s,f=_,u[g]=_,g++,m=_+d;b<0||b<v&&c[b]<_;)b++;let E=Math.abs(c[b]-m);for(;b+1<v;){var D=Math.abs(c[b+1]-m);if(D>=E)break;E=D,b++}}return 0!==g?(h.length=g,u.length=g,On=t.breakOffsets,En=t.breakOffsetsVisibleColumn,t.breakOffsets=h,t.breakOffsetsVisibleColumn=u,t.wrappedTextIndentLength=s,t):null}(this.classifier,d,o[e],t,i,a,n)}return On.length=0,En.length=0,l}}}}function In(e,t,i,n){return 9===e?i-t%i:De.D(e)||e<32?n:1}function Tn(e,t){return t-e%t}function Mn(e,t,i,n){return 32!==i&&(2===t||3===t&&2!==n||1===n||3===n&&1!==t)}function An(e,t,i,n,o){let r=0;if(0!==o){var s=De.u(e);if(-1!==s){for(let i=0;i<s;i++){r+=9===e.charCodeAt(i)?Tn(r,t):1}var a=3===o?2:2===o?1:0;for(let e=0;e<a;e++){r+=Tn(r,t)}r+n>i&&(r=0)}}return r}const Pn=null===(t=window.trustedTypes)||void 0===t?void 0:t.createPolicy("domLineBreaksComputer",{createHTML:e=>e});class Rn{static create(){return new Rn}constructor(){}createLineBreaksComputer(e,t,i,n){t|=0,i=+i;let o=[],r=[];return{addRequest:(e,t,i)=>{o.push(e),r.push(t)},finalize:()=>function(e,t,i,n,o,r){function s(t){const i=r[t];if(i){var n=vi.b.applyInjectedText(e[t],i),o=i.map(e=>e.options);t=i.map(e=>e.column-1);return new Dt.b([n.length],[],0,t,o)}return null}if(-1===n){const t=[];for(let i=0,n=e.length;i<n;i++)t[i]=s(i);return t}const a=Math.round(n*t.typicalHalfwidthCharacterWidth),l=3===o?2:2===o?1:0,c=Math.round(i*l),d=Math.ceil(t.spaceWidth*c),h=document.createElement("div");g.a.applyFontInfoSlow(h,t);const u=Object(ze.a)(1e4),p=[],f=[],m=[],v=[],b=[];for(let n=0;n<e.length;n++){const s=vi.b.applyInjectedText(e[n],r[n]);let l=0,c=0,h=a;if(0!==o)if(l=De.u(s),-1===l)l=0;else{for(let e=0;e<l;e++){c+=9===s.charCodeAt(e)?i-c%i:1}(w=Math.ceil(t.spaceWidth*c))+t.typicalFullwidthCharacterWidth>a?(l=0,c=0):h=a-w}var _=s.substr(l),w=function(e,t,i,n,o,r){0!==r?(r=String(r),o.appendASCIIString('<div style="text-indent: -'),o.appendASCIIString(r),o.appendASCIIString("px; padding-left: "),o.appendASCIIString(r),o.appendASCIIString("px; box-sizing: border-box; width:")):o.appendASCIIString('<div style="width:'),o.appendASCIIString(String(n)),o.appendASCIIString('px;">');var s=e.length;let a=t,l=0,c=[],d=[],h=0<s?e.charCodeAt(0):0;o.appendASCIIString("<span>");for(let t=0;t<s;t++){0!==t&&t%16384==0&&o.appendASCIIString("</span><span>"),c[t]=l,d[t]=a;var u=h;h=t+1<s?e.charCodeAt(t+1):0;let n=1,r=1;switch(u){case 9:n=i-a%i,r=n;for(let e=1;e<=n;e++)e<n?o.write1(160):o.appendASCII(32);break;case 32:32===h?o.write1(160):o.appendASCII(32);break;case 60:o.appendASCIIString("&lt;");break;case 62:o.appendASCIIString("&gt;");break;case 38:o.appendASCIIString("&amp;");break;case 0:o.appendASCIIString("&#00;");break;case 65279:case 8232:case 8233:case 133:o.write1(65533);break;default:De.D(u)&&r++,u<32?o.write1(9216+u):o.write1(u)}l+=n,a+=r}return o.appendASCIIString("</span>"),c[e.length]=l,d[e.length]=a,o.appendASCIIString("</div>"),[c,d]}(_,c,i,h,u,d);p[n]=l,f[n]=c,m[n]=_,v[n]=w[0],b[n]=w[1]}var C=u.build();C=null!==(n=null==Pn?void 0:Pn.createHTML(C))&&void 0!==n?n:C;h.innerHTML=C,h.style.position="absolute",h.style.top="10000",h.style.wordWrap="break-word",document.body.appendChild(h);var y=document.createRange(),x=Array.prototype.slice.call(h.children,0);let S=[];for(let t=0;t<e.length;t++){const e=function(e,t,i,n){if(i.length<=1)return null;const o=Array.prototype.slice.call(t.children,0),r=[];try{!function e(t,i,n,o,r,s,a,l){if(o===s)return;if(r=r||Fn(t,i,n[o],n[o+1]),a=a||Fn(t,i,n[s],n[s+1]),Math.abs(r[0].top-a[0].top)<=.1)return;if(o+1===s)return void l.push(s);const c=o+(s-o)/2|0,d=Fn(t,i,n[c],n[1+c]);e(t,i,n,o,r,c,d,l),e(t,i,n,c,d,s,a,l)}(e,o,n,0,null,i.length-1,null,r)}catch(e){return console.log(e),null}return 0!==r.length?(r.push(i.length),r):null}(y,D=x[t],m[t],v[t]);if(null!==e){var k=p[t],D=f[t]+c,L=b[t];const i=[];for(let t=0,n=e.length;t<n;t++)i[t]=L[e[t]];if(0!==k)for(let t=0,i=e.length;t<i;t++)e[t]+=k;let n,o;const s=r[t];o=s?(n=s.map(e=>e.options),s.map(e=>e.column-1)):n=null,S[t]=new Dt.b(e,i,D,o,n)}else S[t]=s(t)}return document.body.removeChild(h),S}(o,e,t,i,n,r)}}}function Fn(e,t,i,n){return e.setStart(t[i/16384|0].firstChild,i%16384),e.setEnd(t[n/16384|0].firstChild,n%16384),e.getClientRects()}var jn=i(151);t=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;0<=a;a--)(o=e[a])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s},i=function(e,t){return function(i,n){t(i,n,e)}};let Bn=0;class Wn{constructor(e,t,i,n,o){this.model=e,this.viewModel=t,this.view=i,this.hasRealView=n,this.listenersToRemove=o}dispose(){Object(h.f)(this.listenersToRemove),this.model.onBeforeDetached(),this.hasRealView&&this.view.dispose(),this.viewModel.dispose()}}let Vn=class e extends h.a{constructor(e,t,i,n,r,s,a,l,h,u){super(),this._onDidDispose=this._register(new d.b),this.onDidDispose=this._onDidDispose.event,this._onDidChangeModelContent=this._register(new d.b),this.onDidChangeModelContent=this._onDidChangeModelContent.event,this._onDidChangeModelLanguage=this._register(new d.b),this.onDidChangeModelLanguage=this._onDidChangeModelLanguage.event,this._onDidChangeModelLanguageConfiguration=this._register(new d.b),this.onDidChangeModelLanguageConfiguration=this._onDidChangeModelLanguageConfiguration.event,this._onDidChangeModelOptions=this._register(new d.b),this.onDidChangeModelOptions=this._onDidChangeModelOptions.event,this._onDidChangeModelDecorations=this._register(new d.b),this.onDidChangeModelDecorations=this._onDidChangeModelDecorations.event,this._onDidChangeConfiguration=this._register(new d.b),this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._onDidChangeModel=this._register(new d.b),this.onDidChangeModel=this._onDidChangeModel.event,this._onDidChangeCursorPosition=this._register(new d.b),this.onDidChangeCursorPosition=this._onDidChangeCursorPosition.event,this._onDidChangeCursorSelection=this._register(new d.b),this.onDidChangeCursorSelection=this._onDidChangeCursorSelection.event,this._onDidAttemptReadOnlyEdit=this._register(new d.b),this.onDidAttemptReadOnlyEdit=this._onDidAttemptReadOnlyEdit.event,this._onDidLayoutChange=this._register(new d.b),this.onDidLayoutChange=this._onDidLayoutChange.event,this._editorTextFocus=this._register(new zn),this.onDidFocusEditorText=this._editorTextFocus.onDidChangeToTrue,this.onDidBlurEditorText=this._editorTextFocus.onDidChangeToFalse,this._editorWidgetFocus=this._register(new zn),this.onDidFocusEditorWidget=this._editorWidgetFocus.onDidChangeToTrue,this.onDidBlurEditorWidget=this._editorWidgetFocus.onDidChangeToFalse,this._onWillType=this._register(new d.b),this.onWillType=this._onWillType.event,this._onDidType=this._register(new d.b),this.onDidType=this._onDidType.event,this._onDidCompositionStart=this._register(new d.b),this.onDidCompositionStart=this._onDidCompositionStart.event,this._onDidCompositionEnd=this._register(new d.b),this.onDidCompositionEnd=this._onDidCompositionEnd.event,this._onDidPaste=this._register(new d.b),this.onDidPaste=this._onDidPaste.event,this._onMouseUp=this._register(new d.b),this.onMouseUp=this._onMouseUp.event,this._onMouseDown=this._register(new d.b),this.onMouseDown=this._onMouseDown.event,this._onMouseDrag=this._register(new d.b),this.onMouseDrag=this._onMouseDrag.event,this._onMouseDrop=this._register(new d.b),this.onMouseDrop=this._onMouseDrop.event,this._onMouseDropCanceled=this._register(new d.b),this.onMouseDropCanceled=this._onMouseDropCanceled.event,this._onContextMenu=this._register(new d.b),this.onContextMenu=this._onContextMenu.event,this._onMouseMove=this._register(new d.b),this.onMouseMove=this._onMouseMove.event,this._onMouseLeave=this._register(new d.b),this.onMouseLeave=this._onMouseLeave.event,this._onMouseWheel=this._register(new d.b),this.onMouseWheel=this._onMouseWheel.event,this._onKeyUp=this._register(new d.b),this.onKeyUp=this._onKeyUp.event,this._onKeyDown=this._register(new d.b),this.onKeyDown=this._onKeyDown.event,this._onDidContentSizeChange=this._register(new d.b),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._onDidScrollChange=this._register(new d.b),this.onDidScrollChange=this._onDidScrollChange.event,this._onDidChangeViewZones=this._register(new d.b),this.onDidChangeViewZones=this._onDidChangeViewZones.event,this._onDidChangeHiddenAreas=this._register(new d.b),this.onDidChangeHiddenAreas=this._onDidChangeHiddenAreas.event;const g=Object.assign({},t);let p;this._domElement=e,this._overflowWidgetsDomNode=g.overflowWidgetsDomNode,delete g.overflowWidgetsDomNode,this._id=++Bn,this._decorationTypeKeysToIds={},this._decorationTypeSubtypes={},this.isSimpleWidget=i.isSimpleWidget||!1,this._telemetryData=i.telemetryData,this._configuration=this._register(this._createConfiguration(g,u)),this._register(this._configuration.onDidChange(e=>{this._onDidChangeConfiguration.fire(e);const t=this._configuration.options;e.hasChanged(129)&&(e=t.get(129),this._onDidLayoutChange.fire(e))})),this._contextKeyService=this._register(a.createScoped(this._domElement)),this._notificationService=h,this._codeEditorService=r,this._commandService=s,this._themeService=l,this._register(new Hn(this,this._contextKeyService)),this._register(new Un(this,this._contextKeyService)),this._instantiationService=n.createChild(new kn.a([Sn.b,this._contextKeyService])),this._modelData=null,this._contributions={},this._actions={},this._focusTracker=new $n(e),this._register(this._focusTracker.onChange(()=>{this._editorWidgetFocus.setValue(this._focusTracker.hasFocus())})),this._contentWidgets={},this._overlayWidgets={},p=Array.isArray(i.contributions)?i.contributions:o.d.getEditorContributions();for(const t of p)if(this._contributions[t.id])Object(c.f)(new Error("Cannot have two contributions with the same id "+t.id));else try{var f=this._instantiationService.createInstance(t.ctor,this);this._contributions[t.id]=f}catch(e){Object(c.f)(e)}o.d.getEditorActions().forEach(e=>{var t;this._actions[e.id]?Object(c.f)(new Error("Cannot have two actions with the same id "+e.id)):(t=new qi.a(e.id,e.label,e.alias,Object(pt.p)(e.precondition),()=>this._instantiationService.invokeFunction(t=>Promise.resolve(e.runEditorCommand(t,this,null))),this._contextKeyService),this._actions[t.id]=t)}),this._codeEditorService.addCodeEditor(this)}_createConfiguration(e,t){return new g.a(this.isSimpleWidget,e,this._domElement,t)}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return Gi.a.ICodeEditor}dispose(){this._codeEditorService.removeCodeEditor(this),this._focusTracker.dispose();var e=Object.keys(this._contributions);for(let i=0,n=e.length;i<n;i++){var t=e[i];this._contributions[t].dispose()}this._contributions={},this._actions={},this._contentWidgets={},this._overlayWidgets={},this._removeDecorationTypes(),this._postDetachModelCleanup(this._detachModel()),this._onDidDispose.fire(),super.dispose()}invokeWithinContext(e){return this._instantiationService.invokeFunction(e)}updateOptions(e){this._configuration.updateOptions(e)}getOptions(){return this._configuration.options}getOption(e){return this._configuration.options.get(e)}getRawOptions(){return this._configuration.getRawOptions()}getOverflowWidgetsDomNode(){return this._overflowWidgetsDomNode}getConfiguredWordAtPosition(e){return this._modelData?jn.a.getWordAtPosition(this._modelData.model,this._configuration.options.get(115),e):null}getValue(e=null){if(!this._modelData)return"";var t=!(!e||!e.preserveBOM);let i=0;return e&&e.lineEnding&&"\n"===e.lineEnding?i=1:e&&e.lineEnding&&"\r\n"===e.lineEnding&&(i=2),this._modelData.model.getValue(i,t)}setValue(e){this._modelData&&this._modelData.model.setValue(e)}getModel(){return this._modelData?this._modelData.model:null}setModel(e=null){var t,i=e;null===this._modelData&&null===i||this._modelData&&this._modelData.model===i||(t=this.hasTextFocus(),e=this._detachModel(),this._attachModel(i),t&&this.hasModel()&&this.focus(),i={oldModelUrl:e?e.uri:null,newModelUrl:i?i.uri:null},this._removeDecorationTypes(),this._onDidChangeModel.fire(i),this._postDetachModelCleanup(e))}_removeDecorationTypes(){if(this._decorationTypeKeysToIds={},this._decorationTypeSubtypes){for(var e in this._decorationTypeSubtypes)for(var t in this._decorationTypeSubtypes[e])this._removeDecorationType(e+"-"+t);this._decorationTypeSubtypes={}}}getVisibleRanges(){return this._modelData?this._modelData.viewModel.getVisibleRanges():[]}getVisibleRangesPlusViewportAboveBelow(){return this._modelData?this._modelData.viewModel.getVisibleRangesPlusViewportAboveBelow():[]}getWhitespaces(){return this._modelData?this._modelData.viewModel.viewLayout.getWhitespaces():[]}static _getVerticalOffsetForPosition(e,t,i){return i=e.model.validatePosition({lineNumber:t,column:i}),i=e.viewModel.coordinatesConverter.convertModelPositionToViewPosition(i),e.viewModel.viewLayout.getVerticalOffsetForLineNumber(i.lineNumber)}getTopForLineNumber(t){return this._modelData?e._getVerticalOffsetForPosition(this._modelData,t,1):-1}getTopForPosition(t,i){return this._modelData?e._getVerticalOffsetForPosition(this._modelData,t,i):-1}setHiddenAreas(e){this._modelData&&this._modelData.viewModel.setHiddenAreas(e.map(e=>ie.a.lift(e)))}getVisibleColumnFromPosition(e){if(!this._modelData)return e.column;var t=this._modelData.model.validatePosition(e);e=this._modelData.model.getOptions().tabSize;return ne.a.visibleColumnFromColumn(this._modelData.model.getLineContent(t.lineNumber),t.column,e)+1}getPosition(){return this._modelData?this._modelData.viewModel.getPosition():null}setPosition(e){if(this._modelData){if(!te.a.isIPosition(e))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections("api",[{selectionStartLineNumber:e.lineNumber,selectionStartColumn:e.column,positionLineNumber:e.lineNumber,positionColumn:e.column}])}}_sendRevealRange(e,t,i,n){if(this._modelData){if(!ie.a.isIRange(e))throw new Error("Invalid arguments");e=this._modelData.model.validateRange(e),e=this._modelData.viewModel.coordinatesConverter.convertModelRangeToViewRange(e),this._modelData.viewModel.revealRange("api",i,e,t,n)}}revealLine(e,t=0){this._revealLine(e,0,t)}revealLineInCenter(e,t=0){this._revealLine(e,1,t)}revealLineInCenterIfOutsideViewport(e,t=0){this._revealLine(e,2,t)}revealLineNearTop(e,t=0){this._revealLine(e,5,t)}_revealLine(e,t,i){if("number"!=typeof e)throw new Error("Invalid arguments");this._sendRevealRange(new ie.a(e,1,e,1),t,!1,i)}revealPosition(e,t=0){this._revealPosition(e,0,!0,t)}revealPositionInCenter(e,t=0){this._revealPosition(e,1,!0,t)}revealPositionInCenterIfOutsideViewport(e,t=0){this._revealPosition(e,2,!0,t)}revealPositionNearTop(e,t=0){this._revealPosition(e,5,!0,t)}_revealPosition(e,t,i,n){if(!te.a.isIPosition(e))throw new Error("Invalid arguments");this._sendRevealRange(new ie.a(e.lineNumber,e.column,e.lineNumber,e.column),t,i,n)}getSelection(){return this._modelData?this._modelData.viewModel.getSelection():null}getSelections(){return this._modelData?this._modelData.viewModel.getSelections():null}setSelection(e){var t=m.a.isISelection(e),i=ie.a.isIRange(e);if(!t&&!i)throw new Error("Invalid arguments");t?this._setSelectionImpl(e):i&&(e={selectionStartLineNumber:e.startLineNumber,selectionStartColumn:e.startColumn,positionLineNumber:e.endLineNumber,positionColumn:e.endColumn},this._setSelectionImpl(e))}_setSelectionImpl(e){this._modelData&&(e=new m.a(e.selectionStartLineNumber,e.selectionStartColumn,e.positionLineNumber,e.positionColumn),this._modelData.viewModel.setSelections("api",[e]))}revealLines(e,t,i=0){this._revealLines(e,t,0,i)}revealLinesInCenter(e,t,i=0){this._revealLines(e,t,1,i)}revealLinesInCenterIfOutsideViewport(e,t,i=0){this._revealLines(e,t,2,i)}revealLinesNearTop(e,t,i=0){this._revealLines(e,t,5,i)}_revealLines(e,t,i,n){if("number"!=typeof e||"number"!=typeof t)throw new Error("Invalid arguments");this._sendRevealRange(new ie.a(e,1,t,1),i,!1,n)}revealRange(e,t=0,i=!1,n=!0){this._revealRange(e,i?1:0,n,t)}revealRangeInCenter(e,t=0){this._revealRange(e,1,!0,t)}revealRangeInCenterIfOutsideViewport(e,t=0){this._revealRange(e,2,!0,t)}revealRangeNearTop(e,t=0){this._revealRange(e,5,!0,t)}revealRangeNearTopIfOutsideViewport(e,t=0){this._revealRange(e,6,!0,t)}revealRangeAtTop(e,t=0){this._revealRange(e,3,!0,t)}_revealRange(e,t,i,n){if(!ie.a.isIRange(e))throw new Error("Invalid arguments");this._sendRevealRange(ie.a.lift(e),t,i,n)}setSelections(e,t="api",i=0){if(this._modelData){if(!e||0===e.length)throw new Error("Invalid arguments");for(let t=0,i=e.length;t<i;t++)if(!m.a.isISelection(e[t]))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(t,e,i)}}getContentWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getContentWidth():-1}getScrollWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollWidth():-1}getScrollLeft(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollLeft():-1}getContentHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getContentHeight():-1}getScrollHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollHeight():-1}getScrollTop(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollTop():-1}setScrollLeft(e,t=1){if(this._modelData){if("number"!=typeof e)throw new Error("Invalid arguments");this._modelData.viewModel.setScrollPosition({scrollLeft:e},t)}}setScrollTop(e,t=1){if(this._modelData){if("number"!=typeof e)throw new Error("Invalid arguments");this._modelData.viewModel.setScrollPosition({scrollTop:e},t)}}setScrollPosition(e,t=1){this._modelData&&this._modelData.viewModel.setScrollPosition(e,t)}saveViewState(){if(!this._modelData)return null;const e={};for(const t of Object.keys(this._contributions)){const i=this._contributions[t];"function"==typeof i.saveViewState&&(e[t]=i.saveViewState())}return{cursorState:this._modelData.viewModel.saveCursorState(),viewState:this._modelData.viewModel.saveState(),contributionsState:e}}restoreViewState(e){if(this._modelData&&this._modelData.hasRealView){var t=e;if(t&&t.cursorState&&t.viewState){e=t.cursorState,Array.isArray(e)?this._modelData.viewModel.restoreCursorState(e):this._modelData.viewModel.restoreCursorState([e]);var i=t.contributionsState||{},n=Object.keys(this._contributions);for(let e=0,t=n.length;e<t;e++){var o=n[e];const t=this._contributions[o];"function"==typeof t.restoreViewState&&t.restoreViewState(i[o])}t=this._modelData.viewModel.reduceRestoreState(t.viewState),this._modelData.view.restoreState(t)}}}getContribution(e){return this._contributions[e]||null}getActions(){const e=[];var t=Object.keys(this._actions);for(let n=0,o=t.length;n<o;n++){var i=t[n];e.push(this._actions[i])}return e}getSupportedActions(){let e=this.getActions();return e=e.filter(e=>e.isSupported()),e}getAction(e){return this._actions[e]||null}trigger(e,t,i){switch(i=i||{},t){case"compositionStart":return void this._startComposition();case"compositionEnd":return void this._endComposition(e);case"type":var n=i;return void this._type(e,n.text||"");case"replacePreviousChar":return n=i,void this._compositionType(e,n.text||"",n.replaceCharCnt||0,0,0);case"compositionType":var o=i;return void this._compositionType(e,o.text||"",o.replacePrevCharCnt||0,o.replaceNextCharCnt||0,o.positionDelta||0);case"paste":return o=i,void this._paste(e,o.text||"",o.pasteOnNewLine||!1,o.multicursorText||null,o.mode||null);case"cut":return void this._cut(e)}const r=this.getAction(t);r?Promise.resolve(r.run()).then(void 0,c.f):this._modelData&&(this._triggerEditorCommand(e,t,i)||this._triggerCommand(t,i))}_triggerCommand(e,t){this._commandService.executeCommand(e,t)}_startComposition(){this._modelData&&(this._modelData.viewModel.startComposition(),this._onDidCompositionStart.fire())}_endComposition(e){this._modelData&&(this._modelData.viewModel.endComposition(e),this._onDidCompositionEnd.fire())}_type(e,t){this._modelData&&0!==t.length&&("keyboard"===e&&this._onWillType.fire(t),this._modelData.viewModel.type(t,e),"keyboard"===e&&this._onDidType.fire(t))}_compositionType(e,t,i,n,o){this._modelData&&this._modelData.viewModel.compositionType(t,i,n,o,e)}_paste(e,t,i,n,o){var r;this._modelData&&0!==t.length&&(r=this._modelData.viewModel.getSelection().getStartPosition(),this._modelData.viewModel.paste(t,i,n,e),n=this._modelData.viewModel.getSelection().getStartPosition(),"keyboard"===e&&this._onDidPaste.fire({range:new ie.a(r.lineNumber,r.column,n.lineNumber,n.column),languageId:o}))}_cut(e){this._modelData&&this._modelData.viewModel.cut(e)}_triggerEditorCommand(e,t,i){const n=o.d.getEditorCommand(t);return!!n&&((i=i||{}).source=e,this._instantiationService.invokeFunction(e=>{Promise.resolve(n.runEditorCommand(e,this,i)).then(void 0,c.f)}),!0)}_getViewModel(){return this._modelData?this._modelData.viewModel:null}pushUndoStop(){return!!this._modelData&&!this._configuration.options.get(80)&&(this._modelData.model.pushStackElement(),!0)}popUndoStop(){return!!this._modelData&&!this._configuration.options.get(80)&&(this._modelData.model.popStackElement(),!0)}executeEdits(e,t,i){if(!this._modelData)return!1;if(this._configuration.options.get(80))return!1;let n;return n=i?Array.isArray(i)?()=>i:i:()=>null,this._modelData.viewModel.executeEdits(e,t,n),!0}executeCommand(e,t){this._modelData&&this._modelData.viewModel.executeCommand(t,e)}executeCommands(e,t){this._modelData&&this._modelData.viewModel.executeCommands(t,e)}changeDecorations(e){return this._modelData?this._modelData.model.changeDecorations(e,this._id):null}getLineDecorations(e){return this._modelData?this._modelData.model.getLineDecorations(e,this._id,Object(U.n)(this._configuration.options)):null}deltaDecorations(e,t){return this._modelData?0===e.length&&0===t.length?e:this._modelData.model.deltaDecorations(e,t,this._id):[]}removeDecorations(e){var t=this._decorationTypeKeysToIds[e];t&&this.deltaDecorations(t,[]),this._decorationTypeKeysToIds.hasOwnProperty(e)&&delete this._decorationTypeKeysToIds[e],this._decorationTypeSubtypes.hasOwnProperty(e)&&delete this._decorationTypeSubtypes[e]}getLayoutInfo(){return this._configuration.options.get(129)}createOverviewRuler(e){return this._modelData&&this._modelData.hasRealView?this._modelData.view.createOverviewRuler(e):null}getContainerDomNode(){return this._domElement}getDomNode(){return this._modelData&&this._modelData.hasRealView?this._modelData.view.domNode.domNode:null}delegateVerticalScrollbarMouseDown(e){this._modelData&&this._modelData.hasRealView&&this._modelData.view.delegateVerticalScrollbarMouseDown(e)}layout(e){this._configuration.observeReferenceElement(e),this.render()}focus(){this._modelData&&this._modelData.hasRealView&&this._modelData.view.focus()}hasTextFocus(){return!(!this._modelData||!this._modelData.hasRealView)&&this._modelData.view.isFocused()}hasWidgetFocus(){return this._focusTracker&&this._focusTracker.hasFocus()}addContentWidget(e){var t={widget:e,position:e.getPosition()};this._contentWidgets.hasOwnProperty(e.getId())&&console.warn("Overwriting a content widget with the same id."),this._contentWidgets[e.getId()]=t,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addContentWidget(t)}layoutContentWidget(e){var t=e.getId();if(this._contentWidgets.hasOwnProperty(t)){const i=this._contentWidgets[t];i.position=e.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutContentWidget(i)}}removeContentWidget(e){var t=e.getId();this._contentWidgets.hasOwnProperty(t)&&(e=this._contentWidgets[t],delete this._contentWidgets[t],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeContentWidget(e))}addOverlayWidget(e){var t={widget:e,position:e.getPosition()};this._overlayWidgets.hasOwnProperty(e.getId())&&console.warn("Overwriting an overlay widget with the same id."),this._overlayWidgets[e.getId()]=t,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addOverlayWidget(t)}layoutOverlayWidget(e){var t=e.getId();if(this._overlayWidgets.hasOwnProperty(t)){const i=this._overlayWidgets[t];i.position=e.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutOverlayWidget(i)}}removeOverlayWidget(e){var t=e.getId();this._overlayWidgets.hasOwnProperty(t)&&(e=this._overlayWidgets[t],delete this._overlayWidgets[t],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeOverlayWidget(e))}changeViewZones(e){this._modelData&&this._modelData.hasRealView&&this._modelData.view.change(e)}getTargetAtClientPoint(e,t){return this._modelData&&this._modelData.hasRealView?this._modelData.view.getTargetAtClientPoint(e,t):null}getScrolledVisiblePosition(t){if(!this._modelData||!this._modelData.hasRealView)return null;var i=this._modelData.model.validatePosition(t);const n=this._configuration.options;return t=n.get(129),{top:e._getVerticalOffsetForPosition(this._modelData,i.lineNumber,i.column)-this.getScrollTop(),left:this._modelData.view.getOffsetForColumn(i.lineNumber,i.column)+t.glyphMarginWidth+t.lineNumbersWidth+t.decorationsWidth-this.getScrollLeft(),height:n.get(58)}}getOffsetForColumn(e,t){return this._modelData&&this._modelData.hasRealView?this._modelData.view.getOffsetForColumn(e,t):-1}render(e=!1){this._modelData&&this._modelData.hasRealView&&this._modelData.view.render(!0,e)}setAriaOptions(e){this._modelData&&this._modelData.hasRealView&&this._modelData.view.setAriaOptions(e)}applyFontInfo(e){g.a.applyFontInfoSlow(e,this._configuration.options.get(43))}_attachModel(e){if(e){const n=[];this._domElement.setAttribute("data-mode-id",e.getLanguageId()),this._configuration.setIsDominatedByLongLines(e.isDominatedByLongLines()),this._configuration.setMaxLineNumber(e.getLineCount()),e.onBeforeAttached();const o=new yn(this._id,this._configuration,e,Rn.create(),Nn.create(this._configuration.options),e=>l.V(e));n.push(e.onDidChangeDecorations(e=>this._onDidChangeModelDecorations.fire(e))),n.push(e.onDidChangeLanguage(t=>{this._domElement.setAttribute("data-mode-id",e.getLanguageId()),this._onDidChangeModelLanguage.fire(t)})),n.push(e.onDidChangeLanguageConfiguration(e=>this._onDidChangeModelLanguageConfiguration.fire(e))),n.push(e.onDidChangeContent(e=>this._onDidChangeModelContent.fire(e))),n.push(e.onDidChangeOptions(e=>this._onDidChangeModelOptions.fire(e))),n.push(e.onWillDispose(()=>this.setModel(null))),n.push(o.onEvent(e=>{switch(e.kind){case 0:this._onDidContentSizeChange.fire(e);break;case 1:this._editorTextFocus.setValue(e.hasFocus);break;case 2:this._onDidScrollChange.fire(e);break;case 3:this._onDidChangeViewZones.fire();break;case 4:this._onDidChangeHiddenAreas.fire();break;case 5:this._onDidAttemptReadOnlyEdit.fire();break;case 6:{e.reachedMaxCursorCount&&this._notificationService.warn(a.a("cursors.maximum","The number of cursors has been limited to {0}.",Ki.MAX_CURSOR_COUNT));const i=[];for(let t=0,n=e.selections.length;t<n;t++)i[t]=e.selections[t].getPosition();var t={position:i[0],secondaryPositions:i.slice(1),reason:e.reason,source:e.source};this._onDidChangeCursorPosition.fire(t),t={selection:e.selections[0],secondarySelections:e.selections.slice(1),modelVersionId:e.modelVersionId,oldSelections:e.oldSelections,oldModelVersionId:e.oldModelVersionId,source:e.source,reason:e.reason},this._onDidChangeCursorSelection.fire(t);break}}}));const[r,s]=this._createView(o);if(s){this._domElement.appendChild(r.domNode.domNode);let n=Object.keys(this._contentWidgets);for(let e=0,i=n.length;e<i;e++){var t=n[e];r.addContentWidget(this._contentWidgets[t])}n=Object.keys(this._overlayWidgets);for(let e=0,t=n.length;e<t;e++){var i=n[e];r.addOverlayWidget(this._overlayWidgets[i])}r.render(!1,!0),r.domNode.domNode.setAttribute("data-uri",e.uri.toString())}this._modelData=new Wn(e,o,r,s,n)}else this._modelData=null}_createView(e){let t;t=this.isSimpleWidget?{paste:(e,t,i,n)=>{this._paste("keyboard",e,t,i,n)},type:e=>{this._type("keyboard",e)},compositionType:(e,t,i,n)=>{this._compositionType("keyboard",e,t,i,n)},startComposition:()=>{this._startComposition()},endComposition:()=>{this._endComposition("keyboard")},cut:()=>{this._cut("keyboard")}}:{paste:(e,t,i,n)=>{this._commandService.executeCommand("paste",{text:e,pasteOnNewLine:t,multicursorText:i,mode:n})},type:e=>{this._commandService.executeCommand("type",{text:e})},compositionType:(e,t,i,n)=>{i||n?this._commandService.executeCommand("compositionType",{text:e,replacePrevCharCnt:t,replaceNextCharCnt:i,positionDelta:n}):this._commandService.executeCommand("replacePreviousChar",{text:e,replaceCharCnt:t})},startComposition:()=>{this._commandService.executeCommand("compositionStart",{})},endComposition:()=>{this._commandService.executeCommand("compositionEnd",{})},cut:()=>{this._commandService.executeCommand("cut",{})}};const i=new We(e.coordinatesConverter);return i.onKeyDown=e=>this._onKeyDown.fire(e),i.onKeyUp=e=>this._onKeyUp.fire(e),i.onContextMenu=e=>this._onContextMenu.fire(e),i.onMouseMove=e=>this._onMouseMove.fire(e),i.onMouseLeave=e=>this._onMouseLeave.fire(e),i.onMouseDown=e=>this._onMouseDown.fire(e),i.onMouseUp=e=>this._onMouseUp.fire(e),i.onMouseDrag=e=>this._onMouseDrag.fire(e),i.onMouseDrop=e=>this._onMouseDrop.fire(e),i.onMouseDropCanceled=e=>this._onMouseDropCanceled.fire(e),i.onMouseWheel=e=>this._onMouseWheel.fire(e),[new ui(t,this._configuration,this._themeService,e,i,this._overflowWidgetsDomNode),!0]}_postDetachModelCleanup(e){e&&e.removeAllDecorationsWithOwnerId(this._id)}_detachModel(){if(!this._modelData)return null;var e=this._modelData.model,t=this._modelData.hasRealView?this._modelData.view.domNode.domNode:null;return this._modelData.dispose(),this._modelData=null,this._domElement.removeAttribute("data-mode-id"),t&&this._domElement.contains(t)&&this._domElement.removeChild(t),e}_removeDecorationType(e){this._codeEditorService.removeDecorationType(e)}hasModel(){return null!==this._modelData}};Vn=t([i(3,s.a),i(4,p.a),i(5,r.b),i(6,Sn.b),i(7,Ne.b),i(8,n.a),i(9,Dn.b)],Vn);class zn extends h.a{constructor(){super(),this._onDidChangeToTrue=this._register(new d.b),this.onDidChangeToTrue=this._onDidChangeToTrue.event,this._onDidChangeToFalse=this._register(new d.b),this.onDidChangeToFalse=this._onDidChangeToFalse.event,this._value=0}setValue(e){e=e?2:1,this._value!==e&&(this._value=e,2===this._value?this._onDidChangeToTrue.fire():1===this._value&&this._onDidChangeToFalse.fire())}}class Hn extends h.a{constructor(e,t){super(),this._editor=e,t.createKey("editorId",e.getId()),this._editorSimpleInput=Yi.a.editorSimpleInput.bindTo(t),this._editorFocus=Yi.a.focus.bindTo(t),this._textInputFocus=Yi.a.textInputFocus.bindTo(t),this._editorTextFocus=Yi.a.editorTextFocus.bindTo(t),this._editorTabMovesFocus=Yi.a.tabMovesFocus.bindTo(t),this._editorReadonly=Yi.a.readOnly.bindTo(t),this._inDiffEditor=Yi.a.inDiffEditor.bindTo(t),this._editorColumnSelection=Yi.a.columnSelection.bindTo(t),this._hasMultipleSelections=Yi.a.hasMultipleSelections.bindTo(t),this._hasNonEmptySelection=Yi.a.hasNonEmptySelection.bindTo(t),this._canUndo=Yi.a.canUndo.bindTo(t),this._canRedo=Yi.a.canRedo.bindTo(t),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromConfig())),this._register(this._editor.onDidChangeCursorSelection(()=>this._updateFromSelection())),this._register(this._editor.onDidFocusEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidFocusEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidChangeModel(()=>this._updateFromModel())),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromModel())),this._updateFromConfig(),this._updateFromSelection(),this._updateFromFocus(),this._updateFromModel(),this._editorSimpleInput.set(this._editor.isSimpleWidget)}_updateFromConfig(){const e=this._editor.getOptions();this._editorTabMovesFocus.set(e.get(128)),this._editorReadonly.set(e.get(80)),this._inDiffEditor.set(e.get(53)),this._editorColumnSelection.set(e.get(18))}_updateFromSelection(){const e=this._editor.getSelections();e?(this._hasMultipleSelections.set(1<e.length),this._hasNonEmptySelection.set(e.some(e=>!e.isEmpty()))):(this._hasMultipleSelections.reset(),this._hasNonEmptySelection.reset())}_updateFromFocus(){this._editorFocus.set(this._editor.hasWidgetFocus()&&!this._editor.isSimpleWidget),this._editorTextFocus.set(this._editor.hasTextFocus()&&!this._editor.isSimpleWidget),this._textInputFocus.set(this._editor.hasTextFocus())}_updateFromModel(){const e=this._editor.getModel();this._canUndo.set(Boolean(e&&e.canUndo())),this._canRedo.set(Boolean(e&&e.canRedo()))}}class Un extends h.a{constructor(e,t){super(),this._editor=e,this._contextKeyService=t,this._langId=Yi.a.languageId.bindTo(t),this._hasCompletionItemProvider=Yi.a.hasCompletionItemProvider.bindTo(t),this._hasCodeActionsProvider=Yi.a.hasCodeActionsProvider.bindTo(t),this._hasCodeLensProvider=Yi.a.hasCodeLensProvider.bindTo(t),this._hasDefinitionProvider=Yi.a.hasDefinitionProvider.bindTo(t),this._hasDeclarationProvider=Yi.a.hasDeclarationProvider.bindTo(t),this._hasImplementationProvider=Yi.a.hasImplementationProvider.bindTo(t),this._hasTypeDefinitionProvider=Yi.a.hasTypeDefinitionProvider.bindTo(t),this._hasHoverProvider=Yi.a.hasHoverProvider.bindTo(t),this._hasDocumentHighlightProvider=Yi.a.hasDocumentHighlightProvider.bindTo(t),this._hasDocumentSymbolProvider=Yi.a.hasDocumentSymbolProvider.bindTo(t),this._hasReferenceProvider=Yi.a.hasReferenceProvider.bindTo(t),this._hasRenameProvider=Yi.a.hasRenameProvider.bindTo(t),this._hasSignatureHelpProvider=Yi.a.hasSignatureHelpProvider.bindTo(t),this._hasInlayHintsProvider=Yi.a.hasInlayHintsProvider.bindTo(t),this._hasDocumentFormattingProvider=Yi.a.hasDocumentFormattingProvider.bindTo(t),this._hasDocumentSelectionFormattingProvider=Yi.a.hasDocumentSelectionFormattingProvider.bindTo(t),this._hasMultipleDocumentFormattingProvider=Yi.a.hasMultipleDocumentFormattingProvider.bindTo(t),this._hasMultipleDocumentSelectionFormattingProvider=Yi.a.hasMultipleDocumentSelectionFormattingProvider.bindTo(t),this._isInWalkThrough=Yi.a.isInWalkThroughSnippet.bindTo(t),t=()=>this._update(),this._register(e.onDidChangeModel(t)),this._register(e.onDidChangeModelLanguage(t)),this._register(St.d.onDidChange(t)),this._register(St.a.onDidChange(t)),this._register(St.b.onDidChange(t)),this._register(St.f.onDidChange(t)),this._register(St.e.onDidChange(t)),this._register(St.q.onDidChange(t)),this._register(St.G.onDidChange(t)),this._register(St.p.onDidChange(t)),this._register(St.i.onDidChange(t)),this._register(St.m.onDidChange(t)),this._register(St.y.onDidChange(t)),this._register(St.z.onDidChange(t)),this._register(St.g.onDidChange(t)),this._register(St.j.onDidChange(t)),this._register(St.B.onDidChange(t)),this._register(St.s.onDidChange(t)),t()}dispose(){super.dispose()}reset(){this._contextKeyService.bufferChangeEvents(()=>{this._langId.reset(),this._hasCompletionItemProvider.reset(),this._hasCodeActionsProvider.reset(),this._hasCodeLensProvider.reset(),this._hasDefinitionProvider.reset(),this._hasDeclarationProvider.reset(),this._hasImplementationProvider.reset(),this._hasTypeDefinitionProvider.reset(),this._hasHoverProvider.reset(),this._hasDocumentHighlightProvider.reset(),this._hasDocumentSymbolProvider.reset(),this._hasReferenceProvider.reset(),this._hasRenameProvider.reset(),this._hasDocumentFormattingProvider.reset(),this._hasDocumentSelectionFormattingProvider.reset(),this._hasSignatureHelpProvider.reset(),this._isInWalkThrough.reset()})}_update(){const e=this._editor.getModel();e?this._contextKeyService.bufferChangeEvents(()=>{this._langId.set(e.getLanguageId()),this._hasCompletionItemProvider.set(St.d.has(e)),this._hasCodeActionsProvider.set(St.a.has(e)),this._hasCodeLensProvider.set(St.b.has(e)),this._hasDefinitionProvider.set(St.f.has(e)),this._hasDeclarationProvider.set(St.e.has(e)),this._hasImplementationProvider.set(St.q.has(e)),this._hasTypeDefinitionProvider.set(St.G.has(e)),this._hasHoverProvider.set(St.p.has(e)),this._hasDocumentHighlightProvider.set(St.i.has(e)),this._hasDocumentSymbolProvider.set(St.m.has(e)),this._hasReferenceProvider.set(St.y.has(e)),this._hasRenameProvider.set(St.z.has(e)),this._hasSignatureHelpProvider.set(St.B.has(e)),this._hasInlayHintsProvider.set(St.s.has(e)),this._hasDocumentFormattingProvider.set(St.g.has(e)||St.j.has(e)),this._hasDocumentSelectionFormattingProvider.set(St.j.has(e)),this._hasMultipleDocumentFormattingProvider.set(1<St.g.all(e).length+St.j.all(e).length),this._hasMultipleDocumentSelectionFormattingProvider.set(1<St.j.all(e).length),this._isInWalkThrough.set(e.uri.scheme===u.c.walkThroughSnippet)}):this.reset()}}class $n extends h.a{constructor(e){super(),this._onChange=this._register(new d.b),this.onChange=this._onChange.event,this._hasFocus=!1,this._domFocusTracker=this._register(l.Y(e)),this._register(this._domFocusTracker.onDidFocus(()=>{this._hasFocus=!0,this._onChange.fire(void 0)})),this._register(this._domFocusTracker.onDidBlur(()=>{this._hasFocus=!1,this._onChange.fire(void 0)}))}hasFocus(){return this._hasFocus}}const Kn=encodeURIComponent("<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 6 3' enable-background='new 0 0 6 3' height='3' width='6'><g fill='"),qn=encodeURIComponent("'><polygon points='5.5,0 2.5,3 1.1,3 4.1,0'/><polygon points='4,0 6,2 6,0.6 5.4,0'/><polygon points='0,2 1,3 2.4,3 0,0.6'/></g></svg>");function Gn(e){return Kn+encodeURIComponent(e.toString())+qn}const Yn=encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" height="3" width="12"><g fill="'),Zn=encodeURIComponent('"><circle cx="1" cy="1" r="1"/><circle cx="5" cy="1" r="1"/><circle cx="9" cy="1" r="1"/></g></svg>');Object(Ne.f)((e,t)=>{var i=e.getColor(at.t);i&&t.addRule(`.monaco-editor .squiggly-error { border-bottom: 4px double ${i}; }`),(i=e.getColor(at.u))&&t.addRule(`.monaco-editor .squiggly-error { background: url("data:image/svg+xml,${Gn(i)}") repeat-x bottom left; }`),(i=e.getColor(at.s))&&t.addRule(`.monaco-editor .squiggly-error::before { display: block; content: ''; width: 100%; height: 100%; background: ${i}; }`),(i=e.getColor(at.ab))&&t.addRule(`.monaco-editor .squiggly-warning { border-bottom: 4px double ${i}; }`),(i=e.getColor(at.bb))&&t.addRule(`.monaco-editor .squiggly-warning { background: url("data:image/svg+xml,${Gn(i)}") repeat-x bottom left; }`),(i=e.getColor(at.Z))&&t.addRule(`.monaco-editor .squiggly-warning::before { display: block; content: ''; width: 100%; height: 100%; background: ${i}; }`),(i=e.getColor(at.L))&&t.addRule(`.monaco-editor .squiggly-info { border-bottom: 4px double ${i}; }`),(i=e.getColor(at.M))&&t.addRule(`.monaco-editor .squiggly-info { background: url("data:image/svg+xml,${Gn(i)}") repeat-x bottom left; }`),(i=e.getColor(at.K))&&t.addRule(`.monaco-editor .squiggly-info::before { display: block; content: ''; width: 100%; height: 100%; background: ${i}; }`),(i=e.getColor(at.C))&&t.addRule(`.monaco-editor .squiggly-hint { border-bottom: 2px dotted ${i}; }`),(i=e.getColor(at.D))&&t.addRule(`.monaco-editor .squiggly-hint { background: url("data:image/svg+xml,${n=i,Yn+encodeURIComponent(n.toString())+Zn}") no-repeat bottom left; }`);var n=e.getColor(Ee.I);n&&t.addRule(`.monaco-editor.showUnused .squiggly-inline-unnecessary { opacity: ${n.rgba.a}; }`),(n=e.getColor(Ee.H))&&t.addRule(`.monaco-editor.showUnused .squiggly-unnecessary { border-bottom: 2px dashed ${n}; }`),e=e.getColor(at.B)||"inherit",t.addRule(`.monaco-editor.showDeprecated .squiggly-inline-deprecated { text-decoration: line-through; text-decoration-color: ${e}}`)})},function(e,t,i){"use strict";var n=i(31),o=i.n(n),r=i(86);n=i(33);function s(e,t){var i,n=Object.keys(e);return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(e),t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)),n}n={name:"simple-input",props:{value:[String,Number],placeholder:String,suffix:String,type:{type:String,default:function(){return"text"}}},model:{prop:"value",event:"change"},data:function(){return{suffixWidth:0,ref:""}},computed:function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?s(Object(i),!0).forEach((function(t){o()(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):s(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},Object(n.mapState)({})),methods:{handleTextChange:r.debounce((function(e){void 0!==(e=(e=void 0===(e=e.target)?{}:e).value)&&("number"===this.type?this.$emit("change",parseInt(e)):this.$emit("change",e))}),500)},mounted:function(){var e=this;this.ref=Object(r.uniqueId)("simple-input"),this.$nextTick((function(){e.suffixWidth=e.$refs[e.ref].clientWidth}))}},i(571),i=i(37),n=Object(i.a)(n,(function(){var e=this,t=e.$createElement;return(t=e._self._c||t)("div",{staticClass:"main-simple-input"},[t("input",{style:{paddingLeft:"10px",paddingRight:e.suffixWidth+10+"px"},attrs:{spellcheck:"false",type:e.type,placeholder:e.placeholder},domProps:{value:e.value},on:{input:e.handleTextChange}}),e._v(" "),t("div",{ref:e.ref,staticClass:"suffix"},[e._v(e._s(e.suffix))])])}),[],!1,null,"279f1c41",null),t.a=n.exports},function(e,t,i){"use strict";i.d(t,"c",(function(){return k})),i.d(t,"a",(function(){return D})),i.d(t,"b",(function(){return E}));var n=i(1),o=i(67),r=i(141),s=i(62),a=i(65),l=i(6);i(289);class c extends a.b{constructor(e,t){super(),this._onDidChangeVisibility=this._register(new l.b),this.onDidChangeVisibility=this._onDidChangeVisibility.event,this._element=Object(n.q)(e,Object(n.a)(".monaco-dropdown")),this._label=Object(n.q)(this._element,Object(n.a)(".dropdown-label"));let i=t.labelRenderer;i=i||(e=>(e.textContent=t.label||"",null));for(const e of[n.d.CLICK,n.d.MOUSE_DOWN,s.a.Tap])this._register(Object(n.i)(this.element,e,e=>n.c.stop(e,!0)));for(const e of[n.d.MOUSE_DOWN,s.a.Tap])this._register(Object(n.i)(this._label,e,e=>{e instanceof MouseEvent&&1<e.detail||(this.visible?this.hide():this.show())}));this._register(Object(n.i)(this._label,n.d.KEY_UP,e=>{const t=new o.a(e);(t.equals(3)||t.equals(10))&&(n.c.stop(e,!0),this.visible?this.hide():this.show())})),(e=i(this._label))&&this._register(e),this._register(s.b.addTarget(this._label))}get element(){return this._element}show(){this.visible||(this.visible=!0,this._onDidChangeVisibility.fire(!0))}hide(){this.visible&&(this.visible=!1,this._onDidChangeVisibility.fire(!1))}dispose(){super.dispose(),this.hide(),this.boxContainer&&(this.boxContainer.remove(),this.boxContainer=void 0),this.contents&&(this.contents.remove(),this.contents=void 0),this._label&&(this._label.remove(),this._label=void 0)}}class d extends c{constructor(e,t){super(e,t),this._actions=[],this._contextMenuProvider=t.contextMenuProvider,this.actions=t.actions||[],this.actionProvider=t.actionProvider,this.menuClassName=t.menuClassName||"",this.menuAsChild=!!t.menuAsChild}set menuOptions(e){this._menuOptions=e}get menuOptions(){return this._menuOptions}get actions(){return this.actionProvider?this.actionProvider.getActions():this._actions}set actions(e){this._actions=e}show(){super.show(),this.element.classList.add("active"),this._contextMenuProvider.showContextMenu({getAnchor:()=>this.element,getActions:()=>this.actions,getActionsContext:()=>this.menuOptions?this.menuOptions.context:null,getActionViewItem:e=>this.menuOptions&&this.menuOptions.actionViewItemProvider?this.menuOptions.actionViewItemProvider(e):void 0,getKeyBinding:e=>this.menuOptions&&this.menuOptions.getKeyBinding?this.menuOptions.getKeyBinding(e):void 0,getMenuClassName:()=>this.menuClassName,onHide:()=>this.onHide(),actionRunner:this.menuOptions?this.menuOptions.actionRunner:void 0,anchorAlignment:this.menuOptions?this.menuOptions.anchorAlignment:0,domForShadowRoot:this.menuAsChild?this.element:void 0})}hide(){super.hide()}onHide(){this.hide(),this.element.classList.remove("active")}}class h extends r.b{constructor(e,t,i,n=Object.create(null)){super(null,e,n),this.actionItem=null,this._onDidChangeVisibility=this._register(new l.b),this.menuActionsOrProvider=t,this.contextMenuProvider=i,this.options=n,this.options.actionRunner&&(this.actionRunner=this.options.actionRunner)}render(e){this.actionItem=e;var t=Array.isArray(this.menuActionsOrProvider);t={contextMenuProvider:this.contextMenuProvider,labelRenderer:e=>{this.element=Object(n.q)(e,Object(n.a)("a.action-label"));let t=[];return"string"==typeof this.options.classNames?t=this.options.classNames.split(/\s+/g).filter(e=>!!e):this.options.classNames&&(t=this.options.classNames),t.find(e=>"icon"===e)||t.push("codicon"),this.element.classList.add(...t),this.element.setAttribute("role","button"),this.element.setAttribute("aria-haspopup","true"),this.element.setAttribute("aria-expanded","false"),this.element.title=this._action.label||"",null},menuAsChild:this.options.menuAsChild,actions:t?this.menuActionsOrProvider:void 0,actionProvider:t?void 0:this.menuActionsOrProvider};if(this.dropdownMenu=this._register(new d(e,t)),this._register(this.dropdownMenu.onDidChangeVisibility(e=>{var t;null!==(t=this.element)&&void 0!==t&&t.setAttribute("aria-expanded",""+e),this._onDidChangeVisibility.fire(e)})),this.dropdownMenu.menuOptions={actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,getKeyBinding:this.options.keybindingProvider,context:this._context},this.options.anchorAlignmentProvider){const e=this;this.dropdownMenu.menuOptions=Object.assign(Object.assign({},this.dropdownMenu.menuOptions),{get anchorAlignment(){return e.options.anchorAlignmentProvider()}})}this.updateEnabled()}setActionContext(e){super.setActionContext(e),this.dropdownMenu&&(this.dropdownMenu.menuOptions?this.dropdownMenu.menuOptions.context=e:this.dropdownMenu.menuOptions={context:e})}updateEnabled(){var e,t=!this.getAction().enabled;null!==(e=this.actionItem)&&void 0!==e&&e.classList.toggle("disabled",t),null!==(e=this.element)&&void 0!==e&&e.classList.toggle("disabled",t)}}var u=i(198),g=i(2),p=i(15),f=(i(461),i(0)),m=i(32),v=i(10),b=i(106),_=i(21),w=i(58),C=i(64),y=i(113),x=i(16),S=(t=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;0<=a;a--)(o=e[a])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s},i=function(e,t){return function(i,n){t(i,n,e)}},function(e,t,i,n){return new(i=i||Promise)((function(o,r){function s(e){try{l(n.next(e))}catch(e){r(e)}}function a(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):((t=e.value)instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))});function k(e,t,i,n,o,r,s){return function(e,t,i,n=(e=>"navigation"===e),o=Number.MAX_SAFE_INTEGER,r=(()=>!1),s=!1){let l,c;c=Array.isArray(t)?(l=t,t):(l=t.primary,t.secondary);const d=new Set;for(var[h,u]of e){let e;for(var g of(n(h)?(e=l,0<e.length&&s&&e.push(new a.d)):(e=c,0<e.length&&e.push(new a.d)),u)){i&&(g=g instanceof m.c&&g.alt?g.alt:g);var p=e.push(g);g instanceof a.e&&d.add({group:h,action:g,index:p-1})}}for(var{group:f,action:v,index:b}of d){const e=n(f)?l:c;var _=v.actions;(_.length<=1||e.length+_.length-2<=o)&&r(v,f,e.length)&&e.splice(b,1,..._)}l!==c&&l.length>o&&(e=l.splice(o,l.length-o),c.unshift(...e,new a.d))}(t=e.getActions(t),i,!1,"string"==typeof n?e=>e===n:n,o,r,s),function(e){const t=new g.b;for(var[,i]of e)for(const e of i)t.add(e);return t}(t)}let D=class extends r.a{constructor(e,t,i,o,r){super(void 0,e,{icon:!(!e.class&&!e.item.icon),label:!e.class&&!e.item.icon,draggable:null==t?void 0:t.draggable}),this._keybindingService=i,this._notificationService=o,this._contextKeyService=r,this._wantsAltCommand=!1,this._itemClassDispose=this._register(new g.d),this._altKey=n.e.getInstance()}get _menuItemAction(){return this._action}get _commandAction(){return this._wantsAltCommand&&this._menuItemAction.alt||this._menuItemAction}onClick(e){return S(this,void 0,void 0,(function*(){e.preventDefault(),e.stopPropagation();try{yield this.actionRunner.run(this._commandAction,this._context)}catch(e){this._notificationService.error(e)}}))}render(e){super.render(e),e.classList.add("menu-entry"),this._updateItemClass(this._menuItemAction.item);let t=!1,i=this._altKey.keyStatus.altKey||(p.i||p.d)&&this._altKey.keyStatus.shiftKey;const o=()=>{var e=t&&i;e!==this._wantsAltCommand&&(this._wantsAltCommand=e,this.updateLabel(),this.updateTooltip(),this.updateClass())};this._menuItemAction.alt&&this._register(this._altKey.event(e=>{i=e.altKey||(p.i||p.d)&&e.shiftKey,o()})),this._register(Object(n.i)(e,"mouseleave",e=>{t=!1,o()})),this._register(Object(n.i)(e,"mouseenter",e=>{t=!0,o()}))}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this._commandAction.label)}updateTooltip(){if(this.label){const i=this._keybindingService.lookupKeybinding(this._commandAction.id,this._contextKeyService);var e=i&&i.getLabel(),t=this._commandAction.tooltip||this._commandAction.label;let n=e?Object(f.a)("titleAndKb","{0} ({1})",t,e):t;if(!this._wantsAltCommand&&this._menuItemAction.alt){e=this._menuItemAction.alt.tooltip||this._menuItemAction.alt.label;const i=this._keybindingService.lookupKeybinding(this._menuItemAction.alt.id,this._contextKeyService);e=(t=i&&i.getLabel())?Object(f.a)("titleAndKb","{0} ({1})",e,t):e,n+=`\n[${u.c.modifierLabels[p.a].altKey}] ${e}`}this.label.title=n}}updateClass(){this.options.icon&&(this._commandAction!==this._menuItemAction?this._menuItemAction.alt&&this._updateItemClass(this._menuItemAction.alt.item):this._menuItemAction.alt&&this._updateItemClass(this._menuItemAction.item))}_updateItemClass(e){var t;this._itemClassDispose.value=void 0;const{element:i,label:o}=this;if(i&&o&&(e=(this._commandAction.checked&&null!==(t=e.toggled)&&void 0!==t&&t.icon?e.toggled:e).icon))if(x.d.isThemeIcon(e)){const t=x.d.asClassNameArray(e);o.classList.add(...t),this._itemClassDispose.value=Object(g.i)(()=>{o.classList.remove(...t)})}else e.light&&o.style.setProperty("--menu-entry-icon-light",Object(n.s)(e.light)),e.dark&&o.style.setProperty("--menu-entry-icon-dark",Object(n.s)(e.dark)),o.classList.add("icon"),this._itemClassDispose.value=Object(g.i)(()=>{o.classList.remove("icon"),o.style.removeProperty("--menu-entry-icon-light"),o.style.removeProperty("--menu-entry-icon-dark")})}};D=t([i(2,w.a),i(3,C.a),i(4,v.b)],D);let L=class extends h{constructor(e,t,i){var n;t=Object.assign({},null!=t?t:Object.create(null),{menuAsChild:null!==(n=null==t?void 0:t.menuAsChild)&&void 0!==n&&n,classNames:null!==(t=null==t?void 0:t.classNames)&&void 0!==t?t:x.d.isThemeIcon(e.item.icon)?x.d.asClassName(e.item.icon):void 0});super(e,{getActions:()=>e.actions},i,t)}render(e){super.render(e),this.element&&(e.classList.add("menu-entry"),({icon:e}=this._action.item),e&&!x.d.isThemeIcon(e)&&(this.element.classList.add("icon"),e.light&&this.element.style.setProperty("--menu-entry-icon-light",Object(n.s)(e.light)),e.dark&&this.element.style.setProperty("--menu-entry-icon-dark",Object(n.s)(e.dark))))}};L=t([i(2,b.a)],L);let O=class extends r.b{constructor(e,t,i,n,o,r,s,l){super(null,e),this._keybindingService=i,this._notificationService=n,this._contextMenuService=o,this._menuService=r,this._instaService=s,this._storageService=l,this._container=null,this._storageKey=e.item.submenu._debugName+"_lastActionId";let c,d=l.get(this._storageKey,1);d&&(c=e.actions.find(e=>d===e.id)),c=c||e.actions[0],this._defaultAction=this._instaService.createInstance(D,c,void 0),t=Object.assign({},null!=t?t:Object.create(null),{menuAsChild:null===(l=null==t?void 0:t.menuAsChild)||void 0===l||l,classNames:null!==(l=null==t?void 0:t.classNames)&&void 0!==l?l:["codicon","codicon-chevron-down"],actionRunner:null!==(t=null==t?void 0:t.actionRunner)&&void 0!==t?t:new a.b}),this._dropdown=new h(e,e.actions,this._contextMenuService,t),this._dropdown.actionRunner.onDidRun(e=>{e.action instanceof m.c&&this.update(e.action)})}update(e){this._storageService.store(this._storageKey,e.id,1,0),this._defaultAction.dispose(),this._defaultAction=this._instaService.createInstance(D,e,void 0),this._defaultAction.actionRunner=new class extends a.b{runAction(e,t){return S(this,void 0,void 0,(function*(){yield e.run(void 0)}))}},this._container&&this._defaultAction.render(Object(n.P)(this._container,Object(n.a)(".action-container")))}setActionContext(e){super.setActionContext(e),this._defaultAction.setActionContext(e),this._dropdown.setActionContext(e)}render(e){this._container=e,super.render(this._container),this._container.classList.add("monaco-dropdown-with-default"),e=Object(n.a)(".action-container"),this._defaultAction.render(Object(n.q)(this._container,e)),this._register(Object(n.i)(e,n.d.KEY_DOWN,e=>{const t=new o.a(e);t.equals(17)&&(this._defaultAction.element.tabIndex=-1,this._dropdown.focus(),t.stopPropagation())})),e=Object(n.a)(".dropdown-action-container"),this._dropdown.render(Object(n.q)(this._container,e)),this._register(Object(n.i)(e,n.d.KEY_DOWN,e=>{const t=new o.a(e);t.equals(15)&&(this._defaultAction.element.tabIndex=0,this._dropdown.setFocusable(!1),null!==(e=this._defaultAction.element)&&void 0!==e&&e.focus(),t.stopPropagation())}))}focus(e){e?this._dropdown.focus():(this._defaultAction.element.tabIndex=0,this._defaultAction.element.focus())}blur(){this._defaultAction.element.tabIndex=-1,this._dropdown.blur(),this._container.blur()}setFocusable(e){e?this._defaultAction.element.tabIndex=0:(this._defaultAction.element.tabIndex=-1,this._dropdown.setFocusable(!1))}dispose(){this._defaultAction.dispose(),this._dropdown.dispose(),super.dispose()}};function E(e,t,i){return t instanceof m.c?e.createInstance(D,t,void 0):t instanceof m.e?t.item.rememberDefaultAction?e.createInstance(O,t,i):e.createInstance(L,t,i):void 0}O=t([i(2,w.a),i(3,C.a),i(4,b.a),i(5,m.a),i(6,_.a),i(7,y.a)],O)},function(e,t,i){"use strict";i.d(t,"b",(function(){return v})),i.d(t,"a",(function(){return b}));var n=i(1),o=i(69),r=i(204),s=i(139),a=i(73),l=i(120),c=i(98),d=(t=i(14),i(6));class h{constructor(e,t=0,i=e.length,n=t-1){this.items=e,this.start=t,this.end=i,this.index=n}current(){return this.index===this.start-1||this.index===this.end?null:this.items[this.index]}next(){return this.index=Math.min(this.index+1,this.end),this.current()}previous(){return this.index=Math.max(this.index-1,this.start-1),this.current()}first(){return this.index=this.start,this.current()}last(){return this.index=this.end-1,this.current()}}class u{constructor(e=[],t=10){this._initialize(e),this._limit=t,this._onChange()}getHistory(){return this._elements}add(e){this._history.delete(e),this._history.add(e),this._onChange()}next(){return this._currentPosition()!==this._elements.length-1?this._navigator.next():null}previous(){return 0!==this._currentPosition()?this._navigator.previous():null}current(){return this._navigator.current()}first(){return this._navigator.first()}last(){return this._navigator.last()}has(e){return this._history.has(e)}_onChange(){this._reduceToLimit();var e=this._elements;this._navigator=new h(e,0,e.length,e.length)}_reduceToLimit(){const e=this._elements;e.length>this._limit&&this._initialize(e.slice(e.length-this._limit))}_currentPosition(){var e=this._navigator.current();return e?this._elements.indexOf(e):-1}_initialize(e){this._history=new Set;for(const t of e)this._history.add(t)}get _elements(){const e=[];return this._history.forEach(t=>e.push(t)),e}}var g=i(55),p=(i(503),i(0));const f=n.a,m={inputBackground:t.a.fromHex("#3C3C3C"),inputForeground:t.a.fromHex("#CCCCCC"),inputValidationInfoBorder:t.a.fromHex("#55AAFF"),inputValidationInfoBackground:t.a.fromHex("#063B49"),inputValidationWarningBorder:t.a.fromHex("#B89500"),inputValidationWarningBackground:t.a.fromHex("#352A05"),inputValidationErrorBorder:t.a.fromHex("#BE1100"),inputValidationErrorBackground:t.a.fromHex("#5A1D1D")};class v extends c.a{constructor(e,t,i){super(),this.state="idle",this.maxHeight=Number.POSITIVE_INFINITY,this._onDidChange=this._register(new d.b),this.onDidChange=this._onDidChange.event,this._onDidHeightChange=this._register(new d.b),this.onDidHeightChange=this._onDidHeightChange.event,this.contextViewProvider=t,this.options=i||Object.create(null),Object(g.f)(this.options,m,!1),this.message=null,this.placeholder=this.options.placeholder||"",this.tooltip=null!==(i=this.options.tooltip)&&void 0!==i?i:this.placeholder||"",this.ariaLabel=this.options.ariaLabel||"",this.inputBackground=this.options.inputBackground,this.inputForeground=this.options.inputForeground,this.inputBorder=this.options.inputBorder,this.inputValidationInfoBorder=this.options.inputValidationInfoBorder,this.inputValidationInfoBackground=this.options.inputValidationInfoBackground,this.inputValidationInfoForeground=this.options.inputValidationInfoForeground,this.inputValidationWarningBorder=this.options.inputValidationWarningBorder,this.inputValidationWarningBackground=this.options.inputValidationWarningBackground,this.inputValidationWarningForeground=this.options.inputValidationWarningForeground,this.inputValidationErrorBorder=this.options.inputValidationErrorBorder,this.inputValidationErrorBackground=this.options.inputValidationErrorBackground,this.inputValidationErrorForeground=this.options.inputValidationErrorForeground,this.options.validationOptions&&(this.validation=this.options.validationOptions.validation),this.element=n.q(e,f(".monaco-inputbox.idle")),i=this.options.flexibleHeight?"textarea":"input";let r=n.q(this.element,f(".ibwrapper"));if(this.input=n.q(r,f(i+".input.empty")),this.input.setAttribute("autocorrect","off"),this.input.setAttribute("autocapitalize","off"),this.input.setAttribute("spellcheck","false"),this.onfocus(this.input,()=>this.element.classList.add("synthetic-focus")),this.onblur(this.input,()=>this.element.classList.remove("synthetic-focus")),this.options.flexibleHeight){this.maxHeight="number"==typeof this.options.flexibleMaxHeight?this.options.flexibleMaxHeight:Number.POSITIVE_INFINITY,this.mirror=n.q(r,f("div.mirror")),this.mirror.innerText=" ",this.scrollableElement=new l.b(this.element,{vertical:1}),this.options.flexibleWidth&&(this.input.setAttribute("wrap","off"),this.mirror.style.whiteSpace="pre",this.mirror.style.wordWrap="initial"),n.q(e,this.scrollableElement.getDomNode()),this._register(this.scrollableElement),this._register(this.scrollableElement.onScroll(e=>this.input.scrollTop=e.scrollTop)),e=this._register(new o.a(document,"selectionchange"));const t=d.c.filter(e.event,()=>{var e=document.getSelection();return(null==e?void 0:e.anchorNode)===r});this._register(t(this.updateScrollDimensions,this)),this._register(this.onDidHeightChange(this.updateScrollDimensions,this))}else this.input.type=this.options.type||"text",this.input.setAttribute("wrap","off");this.ariaLabel&&this.input.setAttribute("aria-label",this.ariaLabel),this.placeholder&&!this.options.showPlaceholderOnFocus&&this.setPlaceHolder(this.placeholder),this.tooltip&&this.setTooltip(this.tooltip),this.oninput(this.input,()=>this.onValueChange()),this.onblur(this.input,()=>this.onBlur()),this.onfocus(this.input,()=>this.onFocus()),this.ignoreGesture(this.input),setTimeout(()=>this.updateMirror(),0),this.options.actions&&(this.actionbar=this._register(new s.a(this.element)),this.actionbar.push(this.options.actions,{icon:!0,label:!1})),this.applyStyles()}onBlur(){this._hideMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder","")}onFocus(){this._showMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder",this.placeholder||"")}setPlaceHolder(e){this.placeholder=e,this.input.setAttribute("placeholder",e)}setTooltip(e){this.tooltip=e,this.input.title=e}setAriaLabel(e){(this.ariaLabel=e)?this.input.setAttribute("aria-label",this.ariaLabel):this.input.removeAttribute("aria-label")}getAriaLabel(){return this.ariaLabel}get inputElement(){return this.input}get value(){return this.input.value}set value(e){this.input.value!==e&&(this.input.value=e,this.onValueChange())}get height(){return"number"==typeof this.cachedHeight?this.cachedHeight:n.H(this.element)}focus(){this.input.focus()}blur(){this.input.blur()}hasFocus(){return document.activeElement===this.input}select(e=null){this.input.select(),e&&(this.input.setSelectionRange(e.start,e.end),e.end===this.input.value.length&&(this.input.scrollLeft=this.input.scrollWidth))}isSelectionAtEnd(){return this.input.selectionEnd===this.input.value.length&&this.input.selectionStart===this.input.selectionEnd}enable(){this.input.removeAttribute("disabled")}disable(){this.blur(),this.input.disabled=!0,this._hideMessage()}get width(){return n.I(this.input)}set width(e){if(this.options.flexibleHeight&&this.options.flexibleWidth){let t=0;this.mirror&&(t=(parseFloat(this.mirror.style.paddingLeft||"")||0)+(parseFloat(this.mirror.style.paddingRight||"")||0)),this.input.style.width=e-t+"px"}else this.input.style.width=e+"px";this.mirror&&(this.mirror.style.width=e+"px")}set paddingRight(e){this.options.flexibleHeight&&this.options.flexibleWidth?this.input.style.width=`calc(100% - ${e}px)`:this.input.style.paddingRight=e+"px",this.mirror&&(this.mirror.style.paddingRight=e+"px")}updateScrollDimensions(){var e,t,i;"number"==typeof this.cachedContentHeight&&"number"==typeof this.cachedHeight&&this.scrollableElement&&(e=this.cachedContentHeight,t=this.cachedHeight,i=this.input.scrollTop,this.scrollableElement.setScrollDimensions({scrollHeight:e,height:t}),this.scrollableElement.setScrollPosition({scrollTop:i}))}showMessage(e,t){this.message=e,this.element.classList.remove("idle"),this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add(this.classForType(e.type)),e=this.stylesForType(this.message.type),this.element.style.border=e.border?"1px solid "+e.border:"",(this.hasFocus()||t)&&this._showMessage()}hideMessage(){this.message=null,this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add("idle"),this._hideMessage(),this.applyStyles()}validate(){let e=null;return this.validation&&(e=this.validation(this.value),e?(this.inputElement.setAttribute("aria-invalid","true"),this.showMessage(e)):this.inputElement.hasAttribute("aria-invalid")&&(this.inputElement.removeAttribute("aria-invalid"),this.hideMessage())),null==e?void 0:e.type}stylesForType(e){switch(e){case 1:return{border:this.inputValidationInfoBorder,background:this.inputValidationInfoBackground,foreground:this.inputValidationInfoForeground};case 2:return{border:this.inputValidationWarningBorder,background:this.inputValidationWarningBackground,foreground:this.inputValidationWarningForeground};default:return{border:this.inputValidationErrorBorder,background:this.inputValidationErrorBackground,foreground:this.inputValidationErrorForeground}}}classForType(e){switch(e){case 1:return"info";case 2:return"warning";default:return"error"}}_showMessage(){if(this.contextViewProvider&&this.message){let e,t,i=()=>e.style.width=n.I(this.element)+"px";this.contextViewProvider.showContextView({getAnchor:()=>this.element,anchorAlignment:1,render:t=>{if(!this.message)return null;e=n.q(t,f(".monaco-inputbox-container")),i(),t={inline:!0,className:"monaco-inputbox-message"};const o=(this.message.formatContent?Object(r.b):Object(r.c))(this.message.content,t);o.classList.add(this.classForType(this.message.type));const s=this.stylesForType(this.message.type);return o.style.backgroundColor=s.background?s.background.toString():"",o.style.color=s.foreground?s.foreground.toString():"",o.style.border=s.border?"1px solid "+s.border:"",n.q(e,o),null},onHide:()=>{this.state="closed"},layout:i}),t=3===this.message.type?p.a("alertErrorMessage","Error: {0}",this.message.content):2===this.message.type?p.a("alertWarningMessage","Warning: {0}",this.message.content):p.a("alertInfoMessage","Info: {0}",this.message.content),a.a(t),this.state="open"}}_hideMessage(){this.contextViewProvider&&("open"===this.state&&this.contextViewProvider.hideContextView(),this.state="idle")}onValueChange(){this._onDidChange.fire(this.value),this.validate(),this.updateMirror(),this.input.classList.toggle("empty",!this.value),"open"===this.state&&this.contextViewProvider&&this.contextViewProvider.layout()}updateMirror(){if(this.mirror){const t=this.value;var e=10===t.charCodeAt(t.length-1)?" ":"";(t+e).replace(/\u000c/g,"")?this.mirror.textContent=t+e:this.mirror.innerText=" ",this.layout()}}style(e){this.inputBackground=e.inputBackground,this.inputForeground=e.inputForeground,this.inputBorder=e.inputBorder,this.inputValidationInfoBackground=e.inputValidationInfoBackground,this.inputValidationInfoForeground=e.inputValidationInfoForeground,this.inputValidationInfoBorder=e.inputValidationInfoBorder,this.inputValidationWarningBackground=e.inputValidationWarningBackground,this.inputValidationWarningForeground=e.inputValidationWarningForeground,this.inputValidationWarningBorder=e.inputValidationWarningBorder,this.inputValidationErrorBackground=e.inputValidationErrorBackground,this.inputValidationErrorForeground=e.inputValidationErrorForeground,this.inputValidationErrorBorder=e.inputValidationErrorBorder,this.applyStyles()}applyStyles(){var e=this.inputBackground?this.inputBackground.toString():"",t=this.inputForeground?this.inputForeground.toString():"",i=this.inputBorder?this.inputBorder.toString():"";this.element.style.backgroundColor=e,this.element.style.color=t,this.input.style.backgroundColor="inherit",this.input.style.color=t,this.element.style.borderWidth=i?"1px":"",this.element.style.borderStyle=i?"solid":"",this.element.style.borderColor=i}layout(){var e;this.mirror&&(e=this.cachedContentHeight,this.cachedContentHeight=n.H(this.mirror),e!==this.cachedContentHeight&&(this.cachedHeight=Math.min(this.cachedContentHeight,this.maxHeight),this.input.style.height=this.cachedHeight+"px",this._onDidHeightChange.fire(this.cachedContentHeight)))}insertAtCursor(e){const t=this.inputElement;var i=t.selectionStart,n=t.selectionEnd;const o=t.value;null!==i&&null!==n&&(this.value=o.substr(0,i)+e+o.substr(n),t.setSelectionRange(i+1,i+1),this.layout())}dispose(){this._hideMessage(),this.message=null,this.actionbar&&this.actionbar.dispose(),super.dispose()}}class b extends v{constructor(e,t,i){var n=p.a({key:"history.inputbox.hint",comment:["文本将以 ⇅ 加上一个空格作为前缀，然后用作输入字段保留历史记录的提示"]},"查看历史记录");const o=" or ⇅ "+n,r=` (⇅ ${n})`;super(e,t,i),this.history=new u(i.history,100);const s=()=>{var e;i.showHistoryHint&&i.showHistoryHint()&&!this.placeholder.endsWith(o)&&!this.placeholder.endsWith(r)&&this.history.getHistory().length&&(e=this.placeholder.endsWith(")")?o:r,e=this.placeholder+e,i.showPlaceholderOnFocus&&document.activeElement!==this.input?this.placeholder=e:this.setPlaceHolder(e))};this.observer=new MutationObserver((e,t)=>{e.forEach(e=>{e.target.textContent||s()})}),this.observer.observe(this.input,{attributeFilter:["class"]}),this.onfocus(this.input,()=>s()),this.onblur(this.input,()=>{var e=e=>!!this.placeholder.endsWith(e)&&(e=this.placeholder.slice(0,this.placeholder.length-e.length),i.showPlaceholderOnFocus?this.placeholder=e:this.setPlaceHolder(e),!0);e(r)||e(o)})}dispose(){super.dispose(),this.observer&&(this.observer.disconnect(),this.observer=void 0)}addToHistory(){this.value&&this.value!==this.getCurrentValue()&&this.history.add(this.value)}showNextValue(){this.history.has(this.value)||this.addToHistory();let e=this.getNextValue();e=e&&(e===this.value?this.getNextValue():e),e&&(this.value=e,a.c(this.value))}showPreviousValue(){this.history.has(this.value)||this.addToHistory();let e=this.getPreviousValue();e=e&&(e===this.value?this.getPreviousValue():e),e&&(this.value=e,a.c(this.value))}getCurrentValue(){let e=this.history.current();return e||(e=this.history.last(),this.history.next()),e}getPreviousValue(){return this.history.previous()||this.history.first()}getNextValue(){return this.history.next()||this.history.last()}}},function(e,t,i){"use strict";i.d(t,"a",(function(){return m}));var n=i(1),o=i(187),r=i(18),s=i(38),a=i(104),l=i(2),c=i(19),d=i(0),h=function(e,t,i,n){return new(i=i||Promise)((function(o,r){function s(e){try{l(n.next(e))}catch(e){r(e)}}function a(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):((t=e.value)instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};class u{constructor(e,t,i){this.hoverDelegate=e,this.target=t,this.fadeInAnimation=i}update(e,t){var i;return h(this,void 0,void 0,(function*(){if(this._cancellationTokenSource&&(this._cancellationTokenSource.dispose(!0),this._cancellationTokenSource=void 0),!this.isDisposed){let o;if(void 0===e||Object(c.l)(e)||e instanceof HTMLElement)o=e;else if(Object(c.i)(e.markdown)){this._hoverWidget||this.show(Object(d.a)("iconLabel.loading","正在加载..."),t),this._cancellationTokenSource=new s.b;var n=this._cancellationTokenSource.token;if(o=yield e.markdown(n),this.isDisposed||n.isCancellationRequested)return}else o=null!==(i=e.markdown)&&void 0!==i?i:e.markdownNotSupportedFallback;this.show(o,t)}}))}show(e,t){const i=this._hoverWidget;this.hasContent(e)&&(e={content:e,target:this.target,showPointer:"element"===this.hoverDelegate.placement,hoverPosition:2,skipFadeInAnimation:!this.fadeInAnimation||!!i},this._hoverWidget=this.hoverDelegate.showHover(e,t)),null!=i&&i.dispose()}hasContent(e){return!(!e||Object(a.c)(e)&&!e.value)}get isDisposed(){var e;return null===(e=this._hoverWidget)||void 0===e?void 0:e.isDisposed}dispose(){var e;null!==(e=this._hoverWidget)&&void 0!==e&&e.dispose(),null!==(e=this._cancellationTokenSource)&&void 0!==e&&e.dispose(!0),this._cancellationTokenSource=void 0}}var g=i(55),p=i(119);i(474);class f{constructor(e){this._element=e}get element(){return this._element}set textContent(e){this.disposed||e===this._textContent||(this._textContent=e,this._element.textContent=e)}set className(e){this.disposed||e===this._className||(this._className=e,this._element.className=e)}set empty(e){this.disposed||e===this._empty||(this._empty=e,this._element.style.marginLeft=e?"0":"")}dispose(){this.disposed=!0}}class m extends l.a{constructor(e,t){super(),this.customHovers=new Map,this.domNode=this._register(new f(n.q(e,n.a(".monaco-icon-label")))),this.labelContainer=n.q(this.domNode.element,n.a(".monaco-icon-label-container")),e=n.q(this.labelContainer,n.a("span.monaco-icon-name-container")),this.descriptionContainer=this._register(new f(n.q(this.labelContainer,n.a("span.monaco-icon-description-container")))),null!=t&&t.supportHighlights||null!=t&&t.supportIcons?this.nameNode=new b(e,!!t.supportIcons):this.nameNode=new v(e),null!=t&&t.supportDescriptionHighlights?this.descriptionNodeFactory=()=>new o.a(n.q(this.descriptionContainer.element,n.a("span.label-description")),!!t.supportIcons):this.descriptionNodeFactory=()=>this._register(new f(n.q(this.descriptionContainer.element,n.a("span.label-description")))),this.hoverDelegate=null==t?void 0:t.hoverDelegate}get element(){return this.domNode.element}setLabel(e,t,i){const n=["monaco-icon-label"];i&&(i.extraClasses&&n.push(...i.extraClasses),i.italic&&n.push("italic"),i.strikethrough&&n.push("strikethrough")),this.domNode.className=n.join(" "),this.setupHover(null!=i&&i.descriptionTitle?this.labelContainer:this.element,null==i?void 0:i.title),this.nameNode.setLabel(e,i),(t||this.descriptionNode)&&(this.descriptionNode||(this.descriptionNode=this.descriptionNodeFactory()),this.descriptionNode instanceof o.a?(this.descriptionNode.set(t||"",i?i.descriptionMatches:void 0),this.setupHover(this.descriptionNode.element,null==i?void 0:i.descriptionTitle)):(this.descriptionNode.textContent=t||"",this.setupHover(this.descriptionNode.element,(null==i?void 0:i.descriptionTitle)||""),this.descriptionNode.empty=!t))}setupHover(e,t){const i=this.customHovers.get(e);var o;i&&(i.dispose(),this.customHovers.delete(e)),t?this.hoverDelegate?(o=function(e,t,i){let o,s;const a=(t,i)=>{t&&(null!=s&&s.dispose(),s=void 0),i&&(null!=o&&o.dispose(),o=void 0),null!==(i=e.onDidHideHover)&&void 0!==i&&i.call(e)},c=(n,o,a)=>new r.g(()=>h(this,void 0,void 0,(function*(){s&&!s.isDisposed||(s=new u(e,a||t,0<n),yield s.update(i,o))})),n),d=n.i(t,n.d.MOUSE_OVER,()=>{if(!o){const i=new l.b;i.add(n.i(t,n.d.MOUSE_LEAVE,e=>a(!1,e.fromElement===t),!0)),i.add(n.i(t,n.d.MOUSE_DOWN,()=>a(!0,!0),!0));const r={targetElements:[t],dispose:()=>{}};void 0!==e.placement&&"mouse"!==e.placement||i.add(n.i(t,n.d.MOUSE_MOVE,e=>r.x=e.x+10,!0)),i.add(c(e.delay,!1,r)),o=i}},!0);return{show:e=>{a(!1,!0),c(0,e)},hide:()=>{a(!0,!0)},update:e=>h(this,void 0,void 0,(function*(){i=e,yield null==s?void 0:s.update(i)})),dispose:()=>{d.dispose(),a(!0,!0)}}}(this.hoverDelegate,e,t))&&this.customHovers.set(e,o):(o=e,t=t,Object(c.l)(t)?o.title=t:null!=t&&t.markdownNotSupportedFallback?o.title=t.markdownNotSupportedFallback:o.removeAttribute("title")):e.removeAttribute("title")}dispose(){super.dispose();for(const e of this.customHovers.values())e.dispose();this.customHovers.clear()}}class v{constructor(e){this.container=e,this.label=void 0,this.singleLabel=void 0}setLabel(e,t){if(this.label!==e||!Object(g.d)(this.options,t))if(this.label=e,this.options=t,"string"==typeof e)this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=n.q(this.container,n.a("a.label-name",{id:null==t?void 0:t.domId}))),this.singleLabel.textContent=e;else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;for(let r=0;r<e.length;r++){var i=e[r],o=(null==t?void 0:t.domId)&&`${null==t?void 0:t.domId}_${r}`;n.q(this.container,n.a("a.label-name",{id:o,"data-icon-label-count":e.length,"data-icon-label-index":r,role:"treeitem"},i)),r<e.length-1&&n.q(this.container,n.a("span.label-separator",void 0,(null==t?void 0:t.separator)||"/"))}}}}class b{constructor(e,t){this.container=e,this.supportIcons=t,this.label=void 0,this.singleLabel=void 0}setLabel(e,t){if(this.label!==e||!Object(g.d)(this.options,t))if(this.label=e,this.options=t,"string"==typeof e)this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=new o.a(n.q(this.container,n.a("a.label-name",{id:null==t?void 0:t.domId})),this.supportIcons)),this.singleLabel.set(e,null==t?void 0:t.matches,void 0,null==t?void 0:t.labelEscapeNewLines);else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;var i=(null==t?void 0:t.separator)||"/",r=function(e,t,i){if(i){let n=0;return e.map(e=>{const o={start:n,end:n+e.length};return e=i.map(e=>p.a.intersect(o,e)).filter(e=>!p.a.isEmpty(e)).map(({start:e,end:t})=>({start:e-n,end:t-n})),n=o.end+t.length,e})}}(e,i,null==t?void 0:t.matches);for(let c=0;c<e.length;c++){var s=e[c],a=r?r[c]:void 0,l=(null==t?void 0:t.domId)&&`${null==t?void 0:t.domId}_${c}`;l=n.a("a.label-name",{id:l,"data-icon-label-count":e.length,"data-icon-label-index":c,role:"treeitem"});new o.a(n.q(this.container,l),this.supportIcons).set(s,a,void 0,null==t?void 0:t.labelEscapeNewLines),c<e.length-1&&n.q(l,n.a("span.label-separator",void 0,i))}}}}},function(e,t,i){"use strict";i.d(t,"a",(function(){return h}));var n,o=i(31),r=i.n(o),s=(t=i(13),o=i.n(t),t=i(7),i.n(t)),a=i(51),l=i(25),c=(t=i(87),i.n(t)),d=i(20),h=(n=o()(s.a.mark((function e(){var t,i,n,o=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=0<o.length&&void 0!==o[0]?o[0]:[],Object(l.k)()){e.next=3;break}return e.abrupt("return",!1);case 3:return i=a.a.state.app.isDevMode?Object(d.join)(Object(d.resolve)("./"),"/static/files"):a.a.getters.filesPath,n={},r()(n,l.c,"arm64"),r()(n,l.d,"x64"),n=n[Object(l.i)()],i=Object(d.join)(i,"darwin",n),e.prev=6,e.next=9,c.a.post("http://127.0.0.1:53000/command",{path:Object(d.join)(i,"sysproxy"),args:t});case 9:return n=e.sent,i=n.status,n=n.data,e.abrupt("return",{success:200===i,output:n});case 15:e.prev=15,e.t0=e.catch(6);case 17:return e.abrupt("return",{success:!1,data:""});case 18:case"end":return e.stop()}}),e,null,[[6,15]])}))),function(){return n.apply(this,arguments)})},function(e,t,i){"use strict";function n(e,t){if(!e)throw new Error(t?`Assertion failed (${t})`:"Assertion Failed")}i.d(t,"a",(function(){return n}))},function(e,t,i){"use strict";i.d(t,"a",(function(){return o})),i.d(t,"b",(function(){return _}));var n,o,r=i(1),s=i(142),a=i(120),l=i(22),c=i(14),d=i(6),h=i(2),u=i(129),g=i(192),p=i(19);t=i(464);const f={separatorBorder:c.a.transparent};class m{constructor(e,t,i,n){this.container=e,this.view=t,this.disposable=n,this._cachedVisibleSize=void 0,"number"==typeof i?(this._size=i,this._cachedVisibleSize=void 0,e.classList.add("visible")):(this._size=0,this._cachedVisibleSize=i.cachedVisibleSize)}set size(e){this._size=e}get size(){return this._size}get visible(){return void 0===this._cachedVisibleSize}setVisible(e,t){e!==this.visible&&(e?(this.size=Object(u.b)(this._cachedVisibleSize,this.viewMinimumSize,this.viewMaximumSize),this._cachedVisibleSize=void 0):(this._cachedVisibleSize="number"==typeof t?t:this.size,this.size=0),this.container.classList.toggle("visible",e),this.view.setVisible&&this.view.setVisible(e))}get minimumSize(){return this.visible?this.view.minimumSize:0}get viewMinimumSize(){return this.view.minimumSize}get maximumSize(){return this.visible?this.view.maximumSize:0}get viewMaximumSize(){return this.view.maximumSize}get priority(){return this.view.priority}get snap(){return!!this.view.snap}set enabled(e){this.container.style.pointerEvents=e?"":"none"}layout(e,t){this.layoutContainer(e),this.view.layout(this.size,e,t)}dispose(){return this.disposable.dispose(),this.view}}class v extends m{layoutContainer(e){this.container.style.top=e+"px",this.container.style.height=this.size+"px"}}class b extends m{layoutContainer(e){this.container.style.left=e+"px",this.container.style.width=this.size+"px"}}(c=n=n||{})[c.Idle=0]="Idle",c[c.Busy=1]="Busy",(c=o=o||{}).Distribute={type:"distribute"},c.Split=function(e){return{type:"split",index:e}},c.Invisible=function(e){return{type:"invisible",cachedVisibleSize:e}};class _ extends h.a{constructor(e,t={}){var i;super(),this.size=0,this.contentSize=0,this.proportions=void 0,this.viewItems=[],this.sashItems=[],this.state=n.Idle,this._onDidSashChange=this._register(new d.b),this.onDidSashChange=this._onDidSashChange.event,this._onDidSashReset=this._register(new d.b),this._startSnappingEnabled=!0,this._endSnappingEnabled=!0,this.orientation=p.m(t.orientation)?0:t.orientation,this.inverseAltBehavior=!!t.inverseAltBehavior,this.proportionalLayout=!!p.m(t.proportionalLayout)||!!t.proportionalLayout,this.getSashOrthogonalSize=t.getSashOrthogonalSize,this.el=document.createElement("div"),this.el.classList.add("monaco-split-view2"),this.el.classList.add(0===this.orientation?"vertical":"horizontal"),e.appendChild(this.el),this.sashContainer=Object(r.q)(this.el,Object(r.a)(".sash-container")),this.viewContainer=Object(r.a)(".split-view-container"),this.scrollable=new g.a(125,r.V),this.scrollableElement=this._register(new a.c(this.viewContainer,{vertical:0===this.orientation?null!==(i=t.scrollbarVisibility)&&void 0!==i?i:1:2,horizontal:1===this.orientation?null!==(i=t.scrollbarVisibility)&&void 0!==i?i:1:2},this.scrollable)),this.onDidScroll=this.scrollableElement.onScroll,this._register(this.onDidScroll(e=>{this.viewContainer.scrollTop=e.scrollTop,this.viewContainer.scrollLeft=e.scrollLeft})),Object(r.q)(this.el,this.scrollableElement.getDomNode()),this.style(t.styles||f),t.descriptor&&(this.size=t.descriptor.size,t.descriptor.views.forEach((e,t)=>{var i=p.m(e.visible)||e.visible?e.size:{type:"invisible",cachedVisibleSize:e.size};e=e.view;this.doAddView(e,i,t,!0)}),this.contentSize=this.viewItems.reduce((e,t)=>e+t.size,0),this.saveProportions())}get orthogonalStartSash(){return this._orthogonalStartSash}set orthogonalStartSash(e){for(const t of this.sashItems)t.sash.orthogonalStartSash=e;this._orthogonalStartSash=e}get orthogonalEndSash(){return this._orthogonalEndSash}set orthogonalEndSash(e){for(const t of this.sashItems)t.sash.orthogonalEndSash=e;this._orthogonalEndSash=e}get startSnappingEnabled(){return this._startSnappingEnabled}set startSnappingEnabled(e){this._startSnappingEnabled!==e&&(this._startSnappingEnabled=e,this.updateSashEnablement())}get endSnappingEnabled(){return this._endSnappingEnabled}set endSnappingEnabled(e){this._endSnappingEnabled!==e&&(this._endSnappingEnabled=e,this.updateSashEnablement())}style(e){e.separatorBorder.isTransparent()?(this.el.classList.remove("separator-border"),this.el.style.removeProperty("--separator-border")):(this.el.classList.add("separator-border"),this.el.style.setProperty("--separator-border",e.separatorBorder.toString()))}addView(e,t,i=this.viewItems.length,n){this.doAddView(e,t,i,n)}layout(e,t){var i=Math.max(this.size,this.contentSize);if(this.size=e,this.layoutContext=t,this.proportions)for(let t=0;t<this.viewItems.length;t++){const i=this.viewItems[t];i.size=Object(u.b)(Math.round(this.proportions[t]*e),i.minimumSize,i.maximumSize)}else{const o=Object(l.r)(this.viewItems.length);var n=o.filter(e=>1===this.viewItems[e].priority);t=o.filter(e=>2===this.viewItems[e].priority);this.resize(this.viewItems.length-1,e-i,void 0,n,t)}this.distributeEmptySpace(),this.layoutViews()}saveProportions(){this.proportionalLayout&&0<this.contentSize&&(this.proportions=this.viewItems.map(e=>e.size/this.contentSize))}onSashStart({sash:e,start:t,alt:i}){for(const e of this.viewItems)e.enabled=!1;const n=this.sashItems.findIndex(t=>t.sash===e),o=Object(h.e)(Object(r.i)(document.body,"keydown",e=>s(this.sashDragState.current,e.altKey)),Object(r.i)(document.body,"keyup",()=>s(this.sashDragState.current,!1))),s=(e,t)=>{const i=this.viewItems.map(e=>e.size);let r,s,a=Number.NEGATIVE_INFINITY,c=Number.POSITIVE_INFINITY;if((t=this.inverseAltBehavior?!t:t)&&(c=(h=n===this.sashItems.length-1)?(a=((u=this.viewItems[n]).minimumSize-u.size)/2,(u.maximumSize-u.size)/2):(a=((g=this.viewItems[n+1]).size-g.maximumSize)/2,(g.size-g.minimumSize)/2)),!t){const e=Object(l.r)(n,-1),t=Object(l.r)(n+1,this.viewItems.length);var d=e.reduce((e,t)=>e+(this.viewItems[t].minimumSize-i[t]),0),h=e.reduce((e,t)=>e+(this.viewItems[t].viewMaximumSize-i[t]),0),u=0===t.length?Number.POSITIVE_INFINITY:t.reduce((e,t)=>e+(i[t]-this.viewItems[t].minimumSize),0),g=0===t.length?Number.NEGATIVE_INFINITY:t.reduce((e,t)=>e+(i[t]-this.viewItems[t].viewMaximumSize),0);const o=Math.max(d,g),a=Math.min(u,h);var p,f;u=this.findFirstSnapIndex(e),h=this.findFirstSnapIndex(t);"number"==typeof u&&(f=this.viewItems[u],p=Math.floor(f.viewMinimumSize/2),r={index:u,limitDelta:f.visible?o-p:o+p,size:f.size}),"number"==typeof h&&(p=this.viewItems[h],f=Math.floor(p.viewMinimumSize/2),s={index:h,limitDelta:p.visible?a+f:a-f,size:p.size})}this.sashDragState={start:e,current:e,index:n,sizes:i,minDelta:a,maxDelta:c,alt:t,snapBefore:r,snapAfter:s,disposable:o}};s(t,i)}onSashChange({current:e}){var{index:t,start:i,sizes:n,alt:o,minDelta:r,maxDelta:s,snapBefore:a,snapAfter:l}=this.sashDragState;this.sashDragState.current=e,r=this.resize(t,e-i,n,void 0,void 0,r,s,a,l),o&&(s=t===this.sashItems.length-1,a=this.viewItems.map(e=>e.size),o=(l=this.viewItems[s?t:t+1]).size-l.maximumSize,l=l.size-l.minimumSize,this.resize(s?t-1:t+1,-r,a,void 0,void 0,o,l)),this.distributeEmptySpace(),this.layoutViews()}onSashEnd(e){this._onDidSashChange.fire(e),this.sashDragState.disposable.dispose(),this.saveProportions();for(const e of this.viewItems)e.enabled=!0}onViewChange(e,t){var i=this.viewItems.indexOf(e);i<0||i>=this.viewItems.length||(t="number"==typeof t?t:e.size,t=Object(u.b)(t,e.minimumSize,e.maximumSize),this.inverseAltBehavior&&0<i?(this.resize(i-1,Math.floor((e.size-t)/2)),this.distributeEmptySpace(),this.layoutViews()):(e.size=t,this.relayout([i],void 0)))}resizeView(e,t){if(this.state!==n.Idle)throw new Error("Cant modify splitview");if(this.state=n.Busy,!(e<0||e>=this.viewItems.length)){const r=Object(l.r)(this.viewItems.length).filter(t=>t!==e);var i=[...r.filter(e=>1===this.viewItems[e].priority),e],o=r.filter(e=>2===this.viewItems[e].priority);const s=this.viewItems[e];t=Math.round(t),t=Object(u.b)(t,s.minimumSize,Math.min(s.maximumSize,this.size)),s.size=t,this.relayout(i,o),this.state=n.Idle}}distributeViewSizes(){const e=[];let t=0;for(const i of this.viewItems)0<i.maximumSize-i.minimumSize&&(e.push(i),t+=i.size);var i=Math.floor(t/e.length);for(const t of e)t.size=Object(u.b)(i,t.minimumSize,t.maximumSize);const n=Object(l.r)(this.viewItems.length);var o=n.filter(e=>1===this.viewItems[e].priority),r=n.filter(e=>2===this.viewItems[e].priority);this.relayout(o,r)}getViewSize(e){return e<0||e>=this.viewItems.length?-1:this.viewItems[e].size}doAddView(e,t,i=this.viewItems.length,o){if(this.state!==n.Idle)throw new Error("Cant modify splitview");this.state=n.Busy;const a=Object(r.a)(".split-view-view");i===this.viewItems.length?this.viewContainer.appendChild(a):this.viewContainer.insertBefore(a,this.viewContainer.children.item(i));const c=e.onDidChange(e=>this.onViewChange(f,e));var u=Object(h.i)(()=>this.viewContainer.removeChild(a));const g=Object(h.e)(c,u);let p;p="number"==typeof t?t:"split"===t.type?this.getViewSize(t.index)/2:"invisible"===t.type?{cachedVisibleSize:t.cachedVisibleSize}:e.minimumSize;const f=new(0===this.orientation?v:b)(a,e,p,g);if(this.viewItems.splice(i,0,f),1<this.viewItems.length){var m={orthogonalStartSash:this.orthogonalStartSash,orthogonalEndSash:this.orthogonalEndSash};const e=0===this.orientation?new s.b(this.sashContainer,{getHorizontalSashTop:e=>this.getSashPosition(e),getHorizontalSashWidth:this.getSashOrthogonalSize},Object.assign(Object.assign({},m),{orientation:1})):new s.b(this.sashContainer,{getVerticalSashLeft:e=>this.getSashPosition(e),getVerticalSashHeight:this.getSashOrthogonalSize},Object.assign(Object.assign({},m),{orientation:0}));var _=0===this.orientation?t=>({sash:e,start:t.startY,current:t.currentY,alt:t.altKey}):t=>({sash:e,start:t.startX,current:t.currentX,alt:t.altKey});u=d.c.map(e.onDidStart,_)(this.onSashStart,this);const t=d.c.map(e.onDidChange,_)(this.onSashChange,this);m=d.c.map(e.onDidEnd,()=>this.sashItems.findIndex(t=>t.sash===e))(this.onSashEnd,this),_=e.onDidReset(()=>{var t=this.sashItems.findIndex(t=>t.sash===e),i=Object(l.r)(t,-1),n=Object(l.r)(t+1,this.viewItems.length);i=this.findFirstSnapIndex(i),n=this.findFirstSnapIndex(n);"number"==typeof i&&!this.viewItems[i].visible||"number"==typeof n&&!this.viewItems[n].visible||this._onDidSashReset.fire(t)});const n=Object(h.e)(u,t,m,_,e);_={sash:e,disposable:n},this.sashItems.splice(i-1,0,_)}let w;a.appendChild(e.element),"number"!=typeof t&&"split"===t.type&&(w=[t.index]),o||this.relayout([i],w),this.state=n.Idle,o||"number"==typeof t||"distribute"!==t.type||this.distributeViewSizes()}relayout(e,t){var i=this.viewItems.reduce((e,t)=>e+t.size,0);this.resize(this.viewItems.length-1,this.size-i,void 0,e,t),this.distributeEmptySpace(),this.layoutViews(),this.saveProportions()}resize(e,t,i=this.viewItems.map(e=>e.size),n,o,r=Number.NEGATIVE_INFINITY,s=Number.POSITIVE_INFINITY,a,c){if(e<0||e>=this.viewItems.length)return 0;const d=Object(l.r)(e,-1),h=Object(l.r)(e+1,this.viewItems.length);if(o)for(const e of o)Object(l.p)(d,e),Object(l.p)(h,e);if(n)for(const e of n)Object(l.o)(d,e),Object(l.o)(h,e);var g=d.map(e=>this.viewItems[e]),p=d.map(e=>i[e]),f=h.map(e=>this.viewItems[e]),m=h.map(e=>i[e]),v=d.reduce((e,t)=>e+(this.viewItems[t].minimumSize-i[t]),0),b=d.reduce((e,t)=>e+(this.viewItems[t].maximumSize-i[t]),0),_=0===h.length?Number.POSITIVE_INFINITY:h.reduce((e,t)=>e+(i[t]-this.viewItems[t].minimumSize),0),w=0===h.length?Number.NEGATIVE_INFINITY:h.reduce((e,t)=>e+(i[t]-this.viewItems[t].maximumSize),0);w=Math.max(v,w,r),_=Math.min(_,b,s);let C=!1;if(a){const e=this.viewItems[a.index];C=(b=t>=a.limitDelta)!==e.visible,e.setVisible(b,a.size)}if(!C&&c){const e=this.viewItems[c.index];C=(a=t<c.limitDelta)!==e.visible,e.setVisible(a,c.size)}if(C)return this.resize(e,t,i,n,o,r,s);for(let e=0,i=t=Object(u.b)(t,w,_);e<g.length;e++){const t=g[e];var y=Object(u.b)(p[e]+i,t.minimumSize,t.maximumSize);i-=y-p[e],t.size=y}for(let e=0,i=t;e<f.length;e++){const t=f[e];var x=Object(u.b)(m[e]-i,t.minimumSize,t.maximumSize);i+=x-m[e],t.size=x}return t}distributeEmptySpace(e){var t=this.viewItems.reduce((e,t)=>e+t.size,0);let i=this.size-t;const n=Object(l.r)(this.viewItems.length-1,-1);t=n.filter(e=>1===this.viewItems[e].priority);for(const e of n.filter(e=>2===this.viewItems[e].priority))Object(l.p)(n,e);for(const e of t)Object(l.o)(n,e);"number"==typeof e&&Object(l.o)(n,e);for(let e=0;0!==i&&e<n.length;e++){const t=this.viewItems[n[e]];var o=Object(u.b)(t.size+i,t.minimumSize,t.maximumSize);i-=o-t.size,t.size=o}}layoutViews(){this.contentSize=this.viewItems.reduce((e,t)=>e+t.size,0);let e=0;for(const t of this.viewItems)t.layout(e,this.layoutContext),e+=t.size;this.sashItems.forEach(e=>e.sash.layout()),this.updateSashEnablement(),this.updateScrollableElement()}updateScrollableElement(){0===this.orientation?this.scrollableElement.setScrollDimensions({height:this.size,scrollHeight:this.contentSize}):this.scrollableElement.setScrollDimensions({width:this.size,scrollWidth:this.contentSize})}updateSashEnablement(){let e=!1;var t=this.viewItems.map(t=>e=0<t.size-t.minimumSize||e);e=!1;var i=this.viewItems.map(t=>e=0<t.maximumSize-t.size||e);const n=[...this.viewItems].reverse();e=!1;var o=n.map(t=>e=0<t.size-t.minimumSize||e).reverse();e=!1;var r=n.map(t=>e=0<t.maximumSize-t.size||e).reverse();let s=0;for(let e=0;e<this.sashItems.length;e++){const{sash:n}=this.sashItems[e];var a=this.viewItems[e];s+=a.size;var c,d=!(t[e]&&r[e+1]),h=!(i[e]&&o[e+1]);d&&h?(c=Object(l.r)(e,-1),a=Object(l.r)(e+1,this.viewItems.length),c=this.findFirstSnapIndex(c),a=this.findFirstSnapIndex(a),c="number"==typeof c&&!this.viewItems[c].visible,a="number"==typeof a&&!this.viewItems[a].visible,c&&o[e]&&(0<s||this.startSnappingEnabled)?n.state=1:a&&t[e]&&(s<this.contentSize||this.endSnappingEnabled)?n.state=2:n.state=0):n.state=d&&!h?1:!d&&h?2:3}}getSashPosition(e){let t=0;for(let i=0;i<this.sashItems.length;i++)if(t+=this.viewItems[i].size,this.sashItems[i].sash===e)return t;return 0}findFirstSnapIndex(e){for(const i of e){var t=this.viewItems[i];if(t.visible&&t.snap)return i}for(const t of e){var i=this.viewItems[t];if(i.visible&&0<i.maximumSize-i.minimumSize)return;if(!i.visible&&i.snap)return t}}dispose(){super.dispose(),this.viewItems.forEach(e=>e.dispose()),this.viewItems=[],this.sashItems.forEach(e=>e.disposable.dispose()),this.sashItems=[]}}},function(e,t,i){"use strict";i.r(t),i.d(t,"MoveWordCommand",(function(){return v})),i.d(t,"WordLeftCommand",(function(){return b})),i.d(t,"WordRightCommand",(function(){return _})),i.d(t,"CursorWordStartLeft",(function(){return w})),i.d(t,"CursorWordEndLeft",(function(){return C})),i.d(t,"CursorWordLeft",(function(){return y})),i.d(t,"CursorWordStartLeftSelect",(function(){return x})),i.d(t,"CursorWordEndLeftSelect",(function(){return S})),i.d(t,"CursorWordLeftSelect",(function(){return k})),i.d(t,"CursorWordAccessibilityLeft",(function(){return D})),i.d(t,"CursorWordAccessibilityLeftSelect",(function(){return L})),i.d(t,"CursorWordStartRight",(function(){return O})),i.d(t,"CursorWordEndRight",(function(){return E})),i.d(t,"CursorWordRight",(function(){return N})),i.d(t,"CursorWordStartRightSelect",(function(){return I})),i.d(t,"CursorWordEndRightSelect",(function(){return T})),i.d(t,"CursorWordRightSelect",(function(){return M})),i.d(t,"CursorWordAccessibilityRight",(function(){return A})),i.d(t,"CursorWordAccessibilityRightSelect",(function(){return P})),i.d(t,"DeleteWordCommand",(function(){return R})),i.d(t,"DeleteWordLeftCommand",(function(){return F})),i.d(t,"DeleteWordRightCommand",(function(){return j})),i.d(t,"DeleteWordStartLeft",(function(){return B})),i.d(t,"DeleteWordEndLeft",(function(){return W})),i.d(t,"DeleteWordLeft",(function(){return V})),i.d(t,"DeleteWordStartRight",(function(){return z})),i.d(t,"DeleteWordEndRight",(function(){return H})),i.d(t,"DeleteWordRight",(function(){return U})),i.d(t,"DeleteInsideWord",(function(){return $}));t=i(5);var n=i(77),o=i(34),r=i(26),s=i(151),a=i(128),l=i(12),c=i(3),d=i(29),h=i(8),u=i(49),g=i(0),p=i(90),f=i(10),m=i(210);class v extends t.c{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode,this._wordNavigationType=e.wordNavigationType}runEditorCommand(e,t,i){if(t.hasModel()){const e=Object(a.a)(t.getOption(115)),i=t.getModel(),o=t.getSelections().map(t=>{var n=new l.a(t.positionLineNumber,t.positionColumn);n=this._move(e,i,n,this._wordNavigationType);return this._moveTo(t,n,this._inSelectionMode)});var n;i.pushStackElement(),t._getViewModel().setCursorStates("moveWordCommand",3,o.map(e=>r.d.fromModelSelection(e))),1===o.length&&(n=new l.a(o[0].positionLineNumber,o[0].positionColumn),t.revealPosition(n,0))}}_moveTo(e,t,i){return i?new d.a(e.selectionStartLineNumber,e.selectionStartColumn,t.lineNumber,t.column):new d.a(t.lineNumber,t.column,t.lineNumber,t.column)}}class b extends v{_move(e,t,i,n){return s.a.moveWordLeft(e,t,i,n)}}class _ extends v{_move(e,t,i,n){return s.a.moveWordRight(e,t,i,n)}}class w extends b{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartLeft",precondition:void 0})}}class C extends b{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndLeft",precondition:void 0})}}class y extends b{constructor(){var e;super({inSelectionMode:!1,wordNavigationType:1,id:"cursorWordLeft",precondition:void 0,kbOpts:{kbExpr:f.a.and(h.a.textInputFocus,null===(e=f.a.and(p.a,m.b))||void 0===e?void 0:e.negate()),primary:2063,mac:{primary:527},weight:100}})}}class x extends b{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartLeftSelect",precondition:void 0})}}class S extends b{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndLeftSelect",precondition:void 0})}}class k extends b{constructor(){var e;super({inSelectionMode:!0,wordNavigationType:1,id:"cursorWordLeftSelect",precondition:void 0,kbOpts:{kbExpr:f.a.and(h.a.textInputFocus,null===(e=f.a.and(p.a,m.b))||void 0===e?void 0:e.negate()),primary:3087,mac:{primary:1551},weight:100}})}}class D extends b{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityLeft",precondition:void 0})}_move(e,t,i,n){return super._move(Object(a.a)(o.g.wordSeparators.defaultValue),t,i,n)}}class L extends b{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityLeftSelect",precondition:void 0})}_move(e,t,i,n){return super._move(Object(a.a)(o.g.wordSeparators.defaultValue),t,i,n)}}class O extends _{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartRight",precondition:void 0})}}class E extends _{constructor(){var e;super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndRight",precondition:void 0,kbOpts:{kbExpr:f.a.and(h.a.textInputFocus,null===(e=f.a.and(p.a,m.b))||void 0===e?void 0:e.negate()),primary:2065,mac:{primary:529},weight:100}})}}class N extends _{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordRight",precondition:void 0})}}class I extends _{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartRightSelect",precondition:void 0})}}class T extends _{constructor(){var e;super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndRightSelect",precondition:void 0,kbOpts:{kbExpr:f.a.and(h.a.textInputFocus,null===(e=f.a.and(p.a,m.b))||void 0===e?void 0:e.negate()),primary:3089,mac:{primary:1553},weight:100}})}}class M extends _{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordRightSelect",precondition:void 0})}}class A extends _{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityRight",precondition:void 0})}_move(e,t,i,n){return super._move(Object(a.a)(o.g.wordSeparators.defaultValue),t,i,n)}}class P extends _{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityRightSelect",precondition:void 0})}_move(e,t,i,n){return super._move(Object(a.a)(o.g.wordSeparators.defaultValue),t,i,n)}}class R extends t.c{constructor(e){super(e),this._whitespaceHeuristics=e.whitespaceHeuristics,this._wordNavigationType=e.wordNavigationType}runEditorCommand(e,t,i){if(t.hasModel()){const e=Object(a.a)(t.getOption(115)),i=t.getModel(),r=t.getSelections(),s=t.getOption(5),l=t.getOption(8),c=u.b.getAutoClosingPairs(i.getLanguageId()),d=t._getViewModel();var o=r.map(o=>(o=this._delete({wordSeparators:e,model:i,selection:o,whitespaceHeuristics:this._whitespaceHeuristics,autoClosingDelete:t.getOption(6),autoClosingBrackets:s,autoClosingQuotes:l,autoClosingPairs:c,autoClosedCharacters:d.getCursorAutoClosedCharacters()},this._wordNavigationType),new n.a(o,"")));t.pushUndoStop(),t.executeCommands(this.id,o),t.pushUndoStop()}}}class F extends R{_delete(e,t){return(t=s.a.deleteWordLeft(e,t))||new c.a(1,1,1,1)}}class j extends R{_delete(e,t){return(t=s.a.deleteWordRight(e,t))?t:(t=e.model.getLineCount(),e=e.model.getLineMaxColumn(t),new c.a(t,e,t,e))}}class B extends F{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartLeft",precondition:h.a.writable})}}class W extends F{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndLeft",precondition:h.a.writable})}}class V extends F{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordLeft",precondition:h.a.writable,kbOpts:{kbExpr:h.a.textInputFocus,primary:2049,mac:{primary:513},weight:100}})}}class z extends j{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartRight",precondition:h.a.writable})}}class H extends j{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndRight",precondition:h.a.writable})}}class U extends j{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordRight",precondition:h.a.writable,kbOpts:{kbExpr:h.a.textInputFocus,primary:2068,mac:{primary:532},weight:100}})}}class $ extends t.b{constructor(){super({id:"deleteInsideWord",precondition:h.a.writable,label:g.a("deleteInsideWord","Delete Word"),alias:"Delete Word"})}run(e,t,i){if(t.hasModel()){const e=Object(a.a)(t.getOption(115)),i=t.getModel();var o=t.getSelections().map(t=>(t=s.a.deleteInsideWord(e,i,t),new n.a(t,"")));t.pushUndoStop(),t.executeCommands(this.id,o),t.pushUndoStop()}}}Object(t.k)(new w),Object(t.k)(new C),Object(t.k)(new y),Object(t.k)(new x),Object(t.k)(new S),Object(t.k)(new k),Object(t.k)(new O),Object(t.k)(new E),Object(t.k)(new N),Object(t.k)(new I),Object(t.k)(new T),Object(t.k)(new M),Object(t.k)(new D),Object(t.k)(new L),Object(t.k)(new A),Object(t.k)(new P),Object(t.k)(new B),Object(t.k)(new W),Object(t.k)(new V),Object(t.k)(new z),Object(t.k)(new H),Object(t.k)(new U),Object(t.j)($)},function(e,t,i){"use strict";i.d(t,"b",(function(){return m})),i.d(t,"a",(function(){return v})),i.d(t,"c",(function(){return b}));var n,o,r,s,a=i(13),l=(t=i.n(a),a=i(7),i.n(a)),c=i(168),d=i(96),h=(i(24),i(30)),u=(i(20),i(25)),g=i(51),p=(n=t()(l.a.mark((function e(){var t,i,n=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=0<n.length&&void 0!==n[0]&&n[0],i=1<n.length?n[1]:void 0,e.abrupt("return",new Promise((function(e,n){var o=i.replace(/"/g,'\\"').replace(/\n/g," "),r='powershell.exe -ExecutionPolicy Bypass -Command "'.concat(o,'"');o=function(t,i,o){t&&n(t),e({stderr:o.toString(),stdout:i.toString()})};t?Object(c.exec)(r,{},o):Object(d.exec)(r,o)})));case 3:case"end":return e.stop()}}),e)}))),function(){return n.apply(this,arguments)}),f="Work with Clash for Windows.",m=(o=t()(l.a.mark((function e(){var t,i,n,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Object(u.l)()){e.next=2;break}return e.abrupt("return");case 2:return n='Get-NetFirewallRule -Description "'.concat(f,'" | ? {$_.Enabled -eq "True"} | Get-NetFirewallApplicationFilter'),e.prev=3,e.next=6,p(!1,n);case 6:return o=e.sent,t=o.stderr,i=o.stdout,n=g.a.getters.clashBinaryPath,o=Object(h.realpathSync)(n),e.abrupt("return",""===t&&(i.includes(n)||i.includes(o)));case 14:e.prev=14,e.t0=e.catch(3),console.error("get firewall rule status failed with error:",e.t0);case 17:return e.abrupt("return",!1);case 18:case"end":return e.stop()}}),e,null,[[3,14]])}))),function(){return o.apply(this,arguments)}),v=(r=t()(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Object(u.l)()){e.next=2;break}return e.abrupt("return");case 2:return t='\nRemove-NetFirewallRule -Description "'.concat(f,'" -ErrorAction SilentlyContinue \n; \'TCP\', \'UDP\' | ForEach-Object {\n    New-NetFirewallRule\n        -DisplayName "Clash 内核"\n        -Profile "Private, Public"\n        -Description "').concat(f,'"\n        -Direction Inbound\n        -Protocol $_\n        -Action Allow\n        -Program "').concat(Object(h.realpathSync)(g.a.getters.clashBinaryPath),'"\n        | Out-Null\n}'),e.prev=3,e.next=6,p(!0,t);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(3),console.error("add firewall rule failed with error:",e.t0);case 11:case"end":return e.stop()}}),e,null,[[3,8]])}))),function(){return r.apply(this,arguments)}),b=(s=t()(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Object(u.l)()){e.next=2;break}return e.abrupt("return");case 2:return t='Remove-NetFirewallRule -Description "'.concat(f,'" -ErrorAction SilentlyContinue'),e.prev=3,e.next=6,p(!0,t);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(3),console.error("remove firewall rule failed with error:",e.t0);case 11:case"end":return e.stop()}}),e,null,[[3,8]])}))),function(){return s.apply(this,arguments)})},function(e,t,i){"use strict";i.d(t,"b",(function(){return u})),i.d(t,"a",(function(){return g})),i.d(t,"c",(function(){return p}));var n,o=i(13),r=(t=i.n(o),o=i(7),i.n(o)),s=i(39),a=i(51),l=i(277),c=i(53),d=(o=i(211),i.n(o)),h=i(249),u=Symbol(),g=Symbol(),p=(n=t()(r.a.mark((function e(t,n){var o,p,f,m,v,b;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=i(87),e.t1=i(53),e.t2=a.a.state.app.clashPath,e.t3=h.Console,e.t4=l.createWriteStream,e.next=7,a.a.dispatch("getScriptLogPath");case 7:if(e.t5=e.sent,e.t6=(0,e.t4)(e.t5),e.t7=new e.t3(e.t6),e.t8=s.j,e.t9=s.i,o={axios:e.t0,yaml:e.t1,homeDir:e.t2,console:e.t7,notify:e.t8,dialog:e.t9},v=a.a.state.app.settings.scriptsText,p={},v)try{f=Object(c.parse)(v),m=f.scripts,p=m||{}}catch(e){}v=function(){var e=(null==(t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{})?void 0:t.code)||"",t=(null==t?void 0:t.file)||"";return e?d()("'use strict';\n".concat(e)).run:t?(e=Object(l.readFileSync)(t,"utf8"),d()("'use strict';\n".concat(e),t).run):function(){return""}},e.t10=n,e.next=e.t10===u?20:e.t10===g?23:26;break;case 20:return b=p.proxy,v(b)(t,o),e.abrupt("break",26);case 23:return b=p.profile,v(b)(t,o),e.abrupt("break",26);case 26:case"end":return e.stop()}}),e)}))),function(e,t){return n.apply(this,arguments)})},function(e,t,i){"use strict";i.r(t),i.d(t,"SuggestController",(function(){return $e})),i.d(t,"TriggerSuggestAction",(function(){return qe}));var n=i(73),o=i(22),r=i(18),s=i(38),a=i(17),l=i(6),c=i(127),d=i(2),h=i(15),u=i(155),g=i(19),p=i(103),f=i(5),m=i(75),v=i(12),b=i(3),_=i(8),w=i(199),C=i(143),y=i(74),x=i(11),S=i(56),k=i(125),D=i(21),L=i(113),O=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;0<=a;a--)(o=e[a])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s},E=function(e,t){return function(i,n){t(i,n,e)}};class N{constructor(e){this.name=e}select(e,t,i){if(0===i.length)return 0;var n=i[0].score[0];for(let e=0;e<i.length;e++){var{score:o,completion:r}=i[e];if(o[0]!==n)break;if(r.preselect)return e}return 0}}class I extends N{constructor(){super("first")}memorize(e,t,i){}toJSON(){}fromJSON(){}}(T=class e{constructor(e,t){this._storageService=e,this._configService=t,this._disposables=new d.b,this._persistSoon=new r.e(()=>this._saveState(),500),this._disposables.add(e.onWillSaveState(e=>{e.reason===L.c.SHUTDOWN&&this._saveState()}))}dispose(){this._disposables.dispose(),this._persistSoon.dispose()}memorize(e,t,i){this._withStrategy(e,t).memorize(e,t,i),this._persistSoon.schedule()}select(e,t,i){return this._withStrategy(e,t).select(e,t,i)}_withStrategy(t,i){if(i=this._configService.getValue("editor.suggestSelection",{overrideIdentifier:t.getLanguageIdAtPosition(i.lineNumber,i.column),resource:t.uri}),(null===(t=this._strategy)||void 0===t?void 0:t.name)!==i){this._saveState();const r=e._strategyCtors.get(i)||I;this._strategy=new r;try{var n=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,o=this._storageService.get(`${e._storagePrefix}/${i}`,n);o&&this._strategy.fromJSON(JSON.parse(o))}catch(t){}}return this._strategy}_saveState(){var t,i;this._strategy&&(t=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,i=JSON.stringify(this._strategy),this._storageService.store(`${e._storagePrefix}/${this._strategy.name}`,i,t,1))}})._strategyCtors=new Map([["recentlyUsedByPrefix",class extends N{constructor(){super("recentlyUsedByPrefix"),this._trie=y.c.forStrings(),this._seq=0}memorize(e,t,i){var{word:t}=e.getWordUntilPosition(t);t=`${e.getLanguageId()}/${t}`;this._trie.set(t,{type:i.completion.kind,insertText:i.completion.insertText,touch:this._seq++})}select(e,t,i){var{word:n}=e.getWordUntilPosition(t);if(!n)return super.select(e,t,i);n=`${e.getLanguageId()}/${n}`;let o=this._trie.get(n);if(o=o||this._trie.findSubstr(n),o)for(let e=0;e<i.length;e++){var{kind:r,insertText:s}=i[e].completion;if(r===o.type&&s===o.insertText)return e}return super.select(e,t,i)}toJSON(){let e=[];return this._trie.forEach((t,i)=>e.push([i,t])),e.sort((e,t)=>-(e[1].touch-t[1].touch)).forEach((e,t)=>e[1].touch=t),e.slice(0,200)}fromJSON(e){if(this._trie.clear(),0<e.length)for(var[t,i]of(this._seq=e[0][1].touch+1,e))i.type="number"==typeof i.type?i.type:Object(x.H)(i.type),this._trie.set(t,i)}}],["recentlyUsed",class extends N{constructor(){super("recentlyUsed"),this._cache=new y.a(300,.66),this._seq=0}memorize(e,t,i){e=`${e.getLanguageId()}/${i.textLabel}`,this._cache.set(e,{touch:this._seq++,type:i.completion.kind,insertText:i.completion.insertText})}select(e,t,i){if(0===i.length)return 0;var n=e.getLineContent(t.lineNumber).substr(t.column-10,t.column-1);if(/\s$/.test(n))return super.select(e,t,i);var o=i[0].score[0];let r=-1,s=-1,a=-1;for(let t=0;t<i.length&&i[t].score[0]===o;t++){var l=`${e.getLanguageId()}/${i[t].textLabel}`;if((l=this._cache.peek(l))&&l.touch>a&&l.type===i[t].completion.kind&&l.insertText===i[t].completion.insertText&&(a=l.touch,s=t),i[t].completion.preselect&&-1===r)return t}return-1!==s?s:-1!==r?r:0}toJSON(){return this._cache.toJSON()}fromJSON(e){var t,i;for([t,i]of(this._cache.clear(),e))i.touch=0,i.type="number"==typeof i.type?i.type:Object(x.H)(i.type),this._cache.set(t,i);this._seq=this._cache.size}}],["first",I]]),T._storagePrefix="suggest/memories";var T=O([E(0,L.a),E(1,S.a)],T),M=Object(D.c)("ISuggestMemories");Object(k.b)(M,T,!0);var A=i(10),P=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;0<=a;a--)(o=e[a])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s},R=function(e,t){return function(i,n){t(i,n,e)}};let F=class e{constructor(t,i){this._editor=t,this._enabled=!1,this._ckAtEnd=e.AtEnd.bindTo(i),this._configListener=this._editor.onDidChangeConfiguration(e=>e.hasChanged(110)&&this._update()),this._update()}dispose(){var e;this._configListener.dispose(),null!==(e=this._selectionListener)&&void 0!==e&&e.dispose(),this._ckAtEnd.reset()}_update(){var e="on"===this._editor.getOption(110);this._enabled!==e&&(this._enabled=e,this._enabled?(e=()=>{if(this._editor.hasModel()){const t=this._editor.getModel(),i=this._editor.getSelection();var e=t.getWordAtPosition(i.getStartPosition());e?this._ckAtEnd.set(e.endColumn===i.getStartPosition().column):this._ckAtEnd.set(!1)}else this._ckAtEnd.set(!1)},this._selectionListener=this._editor.onDidChangeCursorSelection(e),e()):this._selectionListener&&(this._ckAtEnd.reset(),this._selectionListener.dispose(),this._selectionListener=void 0))}};F.AtEnd=new A.c("atEndOfWord",!1),F=P([R(1,A.b)],F);var j=i(0),B=i(32),W=(t=i(36),O=i(111),E=i(105),i(48));k=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;0<=a;a--)(o=e[a])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s},T=function(e,t){return function(i,n){t(i,n,e)}};let V=class e{constructor(t,i){this._editor=t,this._index=0,this._ckOtherSuggestions=e.OtherSuggestions.bindTo(i)}dispose(){this.reset()}reset(){var e;this._ckOtherSuggestions.reset(),null!==(e=this._listener)&&void 0!==e&&e.dispose(),this._model=void 0,this._acceptNext=void 0,this._ignore=!1}set({model:t,index:i},n){0!==t.items.length&&e._moveIndex(!0,t,i)!==i?(this._acceptNext=n,this._model=t,this._index=i,this._listener=this._editor.onDidChangeCursorPosition(()=>{this._ignore||this.reset()}),this._ckOtherSuggestions.set(!0)):this.reset()}static _moveIndex(e,t,i){let n=i;for(;n=(n+t.items.length+(e?1:-1))%t.items.length,n!==i&&t.items[n].completion.additionalTextEdits;);return n}next(){this._move(!0)}prev(){this._move(!1)}_move(t){if(this._model)try{this._ignore=!0,this._index=e._moveIndex(t,this._model,this._index),this._acceptNext({index:this._index,item:this._model.items[this._index],model:this._model})}finally{this._ignore=!1}}};V.OtherSuggestions=new A.c("hasOtherSuggestions",!1),V=k([T(1,A.b)],V);var z=i(149);class H{constructor(e,t,i){this._disposables=new d.b,this._disposables.add(t.onDidShow(()=>this._onItem(t.getFocusedItem()))),this._disposables.add(t.onDidFocus(this._onItem,this)),this._disposables.add(t.onDidHide(this.reset,this)),this._disposables.add(e.onWillType(n=>{this._active&&!t.isFrozen()&&(n=n.charCodeAt(n.length-1),this._active.acceptCharacters.has(n)&&e.getOption(0)&&i(this._active.item))}))}_onItem(e){if(e&&Object(o.n)(e.item.completion.commitCharacters)){if(!this._active||this._active.item.item!==e.item){const t=new z.b;for(const i of e.item.completion.commitCharacters)0<i.length&&t.add(i.charCodeAt(0));this._active={acceptCharacters:t,item:e}}}else this.reset()}reset(){this._active=void 0}dispose(){this._disposables.dispose()}}var U=i(9),$=i(29),K=(P=i(121),i(259));class q{static create(e,t){return function(e,t,i,n){return new(i=i||Promise)((function(o,r){function s(e){try{l(n.next(e))}catch(e){r(e)}}function a(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):((t=e.value)instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))}(this,void 0,void 0,(function*(){if(!t.getOption(105).localityBonus)return q.None;if(!t.hasModel())return q.None;const i=t.getModel(),n=t.getPosition();if(!e.canComputeWordRanges(i.uri))return q.None;const[r]=yield(new K.a).provideSelectionRanges(i,[n]);if(0===r.length)return q.None;const s=yield e.computeWordRanges(i.uri,r[0].range);if(!s)return q.None;var a=i.getWordUntilPosition(n);return delete s[a.word],new class extends q{distance(e,i){if(!n.equals(t.getPosition()))return 0;if(17===i.kind)return 2<<20;if(i=("string"==typeof i.label?i:i.label).label,i=s[i],Object(o.m)(i))return 2<<20;var a=0<=(e=Object(o.d)(i,b.a.fromPositions(e),b.a.compareRangesUsingStarts))?i[e]:i[Math.max(0,~e-1)];let l=r.length;for(const e of r){if(!b.a.containsRange(e.range,a))break;--l}return l}}}))}}q.None=new class extends q{distance(){return 0}};R=i(148),k=i(146);var G=i(83);class Y{constructor(e,t,i,n,o,r,s){this.clipboardText=s,this._snippetCompareFn=Y._compareCompletionItems,this._items=e,this._column=t,this._wordDistance=n,this._options=o,this._refilterKind=1,this._lineContext=i,"top"===r?this._snippetCompareFn=Y._compareCompletionItemsSnippetsUp:"bottom"===r&&(this._snippetCompareFn=Y._compareCompletionItemsSnippetsDown)}get lineContext(){return this._lineContext}set lineContext(e){this._lineContext.leadingLineContent===e.leadingLineContent&&this._lineContext.characterCountDelta===e.characterCountDelta||(this._refilterKind=this._lineContext.characterCountDelta<e.characterCountDelta&&this._filteredItems?2:1,this._lineContext=e)}get items(){return this._ensureCachedState(),this._filteredItems}get allProvider(){return this._ensureCachedState(),this._providerInfo.keys()}get incomplete(){this._ensureCachedState();const e=new Set;for(var[t,i]of this._providerInfo)i&&e.add(t);return e}adopt(e){let t=[];for(let i=0;i<this._items.length;)e.has(this._items[i].provider)?i++:(t.push(this._items[i]),this._items[i]=this._items[this._items.length-1],this._items.pop());return this._refilterKind=1,t}get stats(){return this._ensureCachedState(),this._stats}_ensureCachedState(){0!==this._refilterKind&&this._createCachedState()}_createCachedState(){this._providerInfo=new Map;const e=[],{leadingLineContent:t,characterCountDelta:i}=this._lineContext;let n="",r="";var s=1===this._refilterKind?this._items:this._filteredItems;const a=[],l=!this._options.filterGraceful||2e3<s.length?G.d:G.e;for(let o=0;o<s.length;o++){const g=s[o];if(!g.isInvalid){this._providerInfo.set(g.provider,Boolean(g.container.incomplete));var c=g.position.column-g.editStart.column,d=c+i-(g.position.column-this._column);if(n.length!==d&&(n=0==d?"":t.slice(-d),r=n.toLowerCase()),g.word=n,0==d)g.score=G.a.Default;else{let e=0;for(;e<c;){var h=n.charCodeAt(e);if(32!==h&&9!==h)break;e+=1}if(e>=d)g.score=G.a.Default;else if("string"==typeof g.completion.filterText){var u=l(n,r,e,g.completion.filterText,g.filterTextLow,0,!1);if(!u)continue;0===Object(U.g)(g.completion.filterText,g.textLabel)?g.score=u:(g.score=Object(G.b)(n,r,e,g.textLabel,g.labelLow,0),g.score[0]=u[0])}else{if(!(u=l(n,r,e,g.textLabel,g.labelLow,0,!1)))continue;g.score=u}}g.idx=o,g.distance=this._wordDistance.distance(g.position,g.completion),a.push(g),e.push(g.textLabel.length)}}this._filteredItems=a.sort(this._snippetCompareFn),this._refilterKind=0,this._stats={pLabelLen:e.length?Object(o.q)(e.length-.85,e,(e,t)=>e-t):0}}static _compareCompletionItems(e,t){return e.score[0]>t.score[0]?-1:e.score[0]<t.score[0]?1:e.distance<t.distance?-1:e.distance>t.distance?1:e.idx<t.idx?-1:e.idx>t.idx?1:0}static _compareCompletionItemsSnippetsDown(e,t){if(e.completion.kind!==t.completion.kind){if(27===e.completion.kind)return 1;if(27===t.completion.kind)return-1}return Y._compareCompletionItems(e,t)}static _compareCompletionItemsSnippetsUp(e,t){if(e.completion.kind!==t.completion.kind){if(27===e.completion.kind)return-1;if(27===t.completion.kind)return 1}return Y._compareCompletionItems(e,t)}}T=function(e,t){return function(i,n){t(i,n,e)}};class Z{constructor(e,t,i,n){this.leadingLineContent=e.getLineContent(t.lineNumber).substr(0,t.column-1),this.leadingWord=e.getWordUntilPosition(t),this.lineNumber=t.lineNumber,this.column=t.column,this.auto=i,this.shy=n}static shouldAutoTrigger(e){if(!e.hasModel())return!1;const t=e.getModel();var i=e.getPosition();return t.tokenizeIfCheap(i.lineNumber),!!(e=t.getWordAtPosition(i))&&e.endColumn===i.column&&!!isNaN(Number(e.word))}}let X=class e{constructor(e,t,i,n,o,s,a){this._editor=e,this._editorWorkerService=t,this._clipboardService=i,this._telemetryService=n,this._logService=o,this._contextKeyService=s,this._configurationService=a,this._toDispose=new d.b,this._quickSuggestDelay=10,this._triggerCharacterListener=new d.b,this._triggerQuickSuggest=new r.g,this._state=0,this._completionDisposables=new d.b,this._onDidCancel=new l.b,this._onDidTrigger=new l.b,this._onDidSuggest=new l.b,this.onDidCancel=this._onDidCancel.event,this.onDidTrigger=this._onDidTrigger.event,this.onDidSuggest=this._onDidSuggest.event,this._telemetryGate=0,this._currentSelection=this._editor.getSelection()||new $.a(1,1,1,1),this._toDispose.add(this._editor.onDidChangeModel(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeModelLanguage(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeConfiguration(()=>{this._updateTriggerCharacters(),this._updateQuickSuggest()})),this._toDispose.add(x.d.onDidChange(()=>{this._updateTriggerCharacters(),this._updateActiveSuggestSession()})),this._toDispose.add(this._editor.onDidChangeCursorSelection(e=>{this._onCursorChange(e)}));let c=!1;this._toDispose.add(this._editor.onDidCompositionStart(()=>{c=!0})),this._toDispose.add(this._editor.onDidCompositionEnd(()=>{c=!1,this._onCompositionEnd()})),this._toDispose.add(this._editor.onDidChangeModelContent(()=>{c||this._refilterCompletionItems()})),this._updateTriggerCharacters(),this._updateQuickSuggest()}dispose(){Object(d.f)(this._triggerCharacterListener),Object(d.f)([this._onDidCancel,this._onDidSuggest,this._onDidTrigger,this._triggerQuickSuggest]),this._toDispose.dispose(),this._completionDisposables.dispose(),this.cancel()}_updateQuickSuggest(){this._quickSuggestDelay=this._editor.getOption(79),(isNaN(this._quickSuggestDelay)||!this._quickSuggestDelay&&0!==this._quickSuggestDelay||this._quickSuggestDelay<0)&&(this._quickSuggestDelay=10)}_updateTriggerCharacters(){if(this._triggerCharacterListener.clear(),!this._editor.getOption(80)&&this._editor.hasModel()&&this._editor.getOption(108)){const t=new Map;for(const e of x.d.all(this._editor.getModel()))for(const i of e.triggerCharacters||[]){let n=t.get(i);n||(n=new Set,n.add(Object(W.c)()),t.set(i,n)),n.add(e)}var e=e=>{var i,n;if(this._editor,i=this._contextKeyService,n=this._configurationService,(!Boolean(i.getContextKeyValue("inlineSuggestionVisible"))||void 0!==(n=n.getValue("editor.inlineSuggest.allowSuggestOnTriggerCharacters"))&&Boolean(n))&&!Z.shouldAutoTrigger(this._editor)){if(!e){var o=this._editor.getPosition();e=this._editor.getModel().getLineContent(o.lineNumber).substr(0,o.column-1)}let i="";Object(U.F)(e.charCodeAt(e.length-1))?Object(U.E)(e.charCodeAt(e.length-2))&&(i=e.substr(e.length-2)):i=e.charAt(e.length-1),(o=t.get(i))&&(e=this._completionModel?{items:this._completionModel.adopt(o),clipboardText:this._completionModel.clipboardText}:void 0,this.trigger({auto:!0,shy:!1,triggerCharacter:i},Boolean(this._completionModel),o,e))}};this._triggerCharacterListener.add(this._editor.onDidType(e)),this._triggerCharacterListener.add(this._editor.onDidCompositionEnd(e))}}get state(){return this._state}cancel(e=!1){var t;0!==this._state&&(this._triggerQuickSuggest.cancel(),null!==(t=this._requestToken)&&void 0!==t&&t.cancel(),this._requestToken=void 0,this._state=0,this._completionModel=void 0,this._context=void 0,this._onDidCancel.fire({retrigger:e}))}clear(){this._completionDisposables.clear()}_updateActiveSuggestSession(){0!==this._state&&(this._editor.hasModel()&&x.d.has(this._editor.getModel())?this.trigger({auto:2===this._state,shy:!1},!0):this.cancel())}_onCursorChange(e){if(this._editor.hasModel()){const t=this._currentSelection;this._currentSelection=this._editor.getSelection(),!e.selection.isEmpty()||0!==e.reason&&3!==e.reason||"keyboard"!==e.source&&"deleteLeft"!==e.source?this.cancel():0===this._state&&0===e.reason?(t.containsRange(this._currentSelection)||t.getEndPosition().isBeforeOrEqual(this._currentSelection.getPosition()))&&this._doTriggerQuickSuggest():0!==this._state&&3===e.reason&&this._refilterCompletionItems()}}_onCompositionEnd(){0===this._state?this._doTriggerQuickSuggest():this._refilterCompletionItems()}_doTriggerQuickSuggest(){!1!==this._editor.getOption(78)&&(this._editor.getOption(105).snippetsPreventQuickSuggestions&&w.SnippetController2.get(this._editor).isInSnippet()||(this.cancel(),this._triggerQuickSuggest.cancelAndSet(()=>{if(0===this._state&&Z.shouldAutoTrigger(this._editor)&&this._editor.hasModel()){const n=this._editor.getModel();var e=this._editor.getPosition(),t=this._editor.getOption(78);if(!1!==t){if(!0!==t){n.tokenizeIfCheap(e.lineNumber);const o=n.getLineTokens(e.lineNumber);var i=o.getStandardTokenType(o.findTokenIndexAtOffset(Math.max(e.column-1-1,0)));if(!(t.other&&0===i||t.comments&&1===i||t.strings&&2===i))return}this._editor,t=this._contextKeyService,i=this._configurationService,Boolean(t.getContextKeyValue("inlineSuggestionVisible"))&&(void 0===(i=i.getValue("editor.inlineSuggest.allowQuickSuggestions"))||!Boolean(i))||x.d.has(n)&&this.trigger({auto:!0,shy:!1})}}},this._quickSuggestDelay)))}_refilterCompletionItems(){Promise.resolve().then(()=>{var e,t;0!==this._state&&this._editor.hasModel()&&(e=this._editor.getModel(),t=this._editor.getPosition(),t=new Z(e,t,2===this._state,!1),this._onNewContext(t))})}trigger(t,i=!1,n,o){if(this._editor.hasModel()){var r=this._editor.getModel();const d=t.auto;var l=new Z(r,this._editor.getPosition(),d,t.shy);this.cancel(i),this._state=d?2:1,this._onDidTrigger.fire({auto:d,shy:t.shy,position:this._editor.getPosition()}),this._context=l;let h={triggerKind:null!==(c=t.triggerKind)&&void 0!==c?c:0};t.triggerCharacter&&(h={triggerKind:1,triggerCharacter:t.triggerCharacter}),this._requestToken=new s.b,i=this._editor.getOption(100);let u=1;switch(i){case"top":u=0;break;case"bottom":u=2}var{itemKind:l,showDeprecated:c}=e._createSuggestFilter(this._editor),c=(i=q.create(this._editorWorkerService,this._editor),Object(W.e)(r,this._editor.getPosition(),new W.a(u,l,n,c),h,this._requestToken.token));Promise.all([c,i]).then(([e,i])=>function(e,t,i,n){return new(i=i||Promise)((function(o,r){function s(e){try{l(n.next(e))}catch(e){r(e)}}function a(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):((t=e.value)instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))}(this,void 0,void 0,(function*(){if(null!==(n=this._requestToken)&&void 0!==n&&n.dispose(),this._editor.hasModel()){let s=null==o?void 0:o.clipboardText;if(!s&&e.needsClipboard&&(s=yield this._clipboardService.readText()),0!==this._state){var n,r=this._editor.getModel();let a=e.items;o&&(n=Object(W.d)(u),a=a.concat(o.items).sort(n)),r=new Z(r,this._editor.getPosition(),d,t.shy),this._completionModel=new Y(a,this._context.column,{leadingLineContent:r.leadingLineContent,characterCountDelta:r.column-this._context.column},i,this._editor.getOption(105),this._editor.getOption(100),s),this._completionDisposables.add(e.disposable),this._onNewContext(r),this._reportDurationsTelemetry(e.durations)}}}))).catch(a.f)}}_reportDurationsTelemetry(e){this._telemetryGate++%230==0&&setTimeout(()=>{this._telemetryService.publicLog2("suggest.durations.json",{data:JSON.stringify(e)}),this._logService.debug("suggest.durations.json",e)})}static _createSuggestFilter(e){const t=new Set;return"none"===e.getOption(100)&&t.add(27),(e=e.getOption(105)).showMethods||t.add(0),e.showFunctions||t.add(1),e.showConstructors||t.add(2),e.showFields||t.add(3),e.showVariables||t.add(4),e.showClasses||t.add(5),e.showStructs||t.add(6),e.showInterfaces||t.add(7),e.showModules||t.add(8),e.showProperties||t.add(9),e.showEvents||t.add(10),e.showOperators||t.add(11),e.showUnits||t.add(12),e.showValues||t.add(13),e.showConstants||t.add(14),e.showEnums||t.add(15),e.showEnumMembers||t.add(16),e.showKeywords||t.add(17),e.showWords||t.add(18),e.showColors||t.add(19),e.showFiles||t.add(20),e.showReferences||t.add(21),e.showColors||t.add(22),e.showFolders||t.add(23),e.showTypeParameters||t.add(24),e.showSnippets||t.add(27),e.showUsers||t.add(25),e.showIssues||t.add(26),{itemKind:t,showDeprecated:e.showDeprecated}}_onNewContext(e){if(this._context)if(e.lineNumber===this._context.lineNumber)if(Object(U.x)(e.leadingLineContent)===Object(U.x)(this._context.leadingLineContent)){if(e.column<this._context.column)e.leadingWord.word?this.trigger({auto:this._context.auto,shy:!1},!0):this.cancel();else if(this._completionModel)if(0!==e.leadingWord.word.length&&e.leadingWord.startColumn>this._context.leadingWord.startColumn){const e=new Set(x.d.all(this._editor.getModel()));for(var t of this._completionModel.allProvider)e.delete(t);var i=this._completionModel.adopt(new Set);this.trigger({auto:this._context.auto,shy:!1},!0,e,{items:i,clipboardText:this._completionModel.clipboardText})}else if(e.column>this._context.column&&0<this._completionModel.incomplete.size&&0!==e.leadingWord.word.length){var{incomplete:i}=this._completionModel,n=this._completionModel.adopt(i);this.trigger({auto:2===this._state,shy:!1,triggerKind:2},!0,i,{items:n,clipboardText:this._completionModel.clipboardText})}else{n=this._completionModel.lineContext;let t=!1;if(this._completionModel.lineContext={leadingLineContent:e.leadingLineContent,characterCountDelta:e.column-this._context.column},0===this._completionModel.items.length){if(Z.shouldAutoTrigger(this._editor)&&this._context.leadingWord.endColumn<e.leadingWord.startColumn)return void this.trigger({auto:this._context.auto,shy:!1},!0);if(this._context.auto)return void this.cancel();if(this._completionModel.lineContext=n,t=0<this._completionModel.items.length,t&&0===e.leadingWord.word.length)return void this.cancel()}this._onDidSuggest.fire({completionModel:this._completionModel,auto:this._context.auto,shy:this._context.shy,isFrozen:t})}}else this.cancel();else this.cancel()}};X=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;0<=a;a--)(o=e[a])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s}([T(1,P.a),T(2,R.a),T(3,k.a),T(4,E.b),T(5,A.b),T(6,S.a)],X);class Q{constructor(e,t){this._disposables=new d.b,this._lastOvertyped=[],this._empty=!0,this._disposables.add(e.onWillType(()=>{if(this._empty&&e.hasModel()){const n=e.getSelections();var t=n.length;let o=!1;for(let e=0;e<t;e++)if(!n[e].isEmpty()){o=!0;break}if(o){this._lastOvertyped=[];const o=e.getModel();for(let e=0;e<t;e++){var i=n[e];if(o.getValueLengthInRange(i)>Q._maxSelectionLength)return;this._lastOvertyped[e]={value:o.getValueInRange(i),multiline:i.startLineNumber!==i.endLineNumber}}this._empty=!1}}})),this._disposables.add(t.onDidCancel(e=>{this._empty||e.retrigger||(this._empty=!0)}))}getLastOvertypedInfo(e){if(!this._empty&&0<=e&&e<this._lastOvertyped.length)return this._lastOvertyped[e]}dispose(){this._disposables.dispose()}}Q._maxSelectionLength=51200;var J=i(1),ee=(i(232),i(123)),te=i(129),ie=(i(490),i(183)),ne=i(139);R=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;0<=a;a--)(o=e[a])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s},k=function(e,t){return function(i,n){t(i,n,e)}};class oe extends i(220).a{updateLabel(){var e=this._keybindingService.lookupKeybinding(this._action.id,this._contextKeyService);if(!e)return super.updateLabel();this.label&&(this.label.textContent=Object(j.a)("ddd","{0} ({1})",this._action.label,oe.symbolPrintEnter(e)))}static symbolPrintEnter(e){return null===(e=e.getLabel())||void 0===e?void 0:e.replace(/\benter\b/gi,"⏎")}}let re=class{constructor(e,t,i,n){this._menuService=i,this._contextKeyService=n,this._menuDisposables=new d.b,this.element=J.q(e,J.a(".suggest-status-bar")),e=e=>e instanceof B.c?t.createInstance(oe,e,void 0):void 0,this._leftActions=new ne.a(this.element,{actionViewItemProvider:e}),this._rightActions=new ne.a(this.element,{actionViewItemProvider:e}),this._leftActions.domNode.classList.add("left"),this._rightActions.domNode.classList.add("right")}dispose(){this._menuDisposables.dispose(),this.element.remove()}show(){const e=this._menuService.createMenu(W.g,this._contextKeyService),t=()=>{const t=[],i=[];for(var[n,o]of e.getActions())("left"===n?t:i).push(...o);this._leftActions.clear(),this._leftActions.push(t),this._rightActions.clear(),this._rightActions.push(i)};this._menuDisposables.add(e.onDidChange(()=>t())),this._menuDisposables.add(e)}hide(){this._menuDisposables.clear()}};re=R([k(1,D.a),k(2,B.a),k(3,A.b)],re),i(291);var se=i(4),ae=i(100),le=i(16),ce=i(142);class de{constructor(){this._onDidWillResize=new l.b,this.onDidWillResize=this._onDidWillResize.event,this._onDidResize=new l.b,this.onDidResize=this._onDidResize.event,this._sashListener=new d.b,this._size=new J.b(0,0),this._minSize=new J.b(0,0),this._maxSize=new J.b(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),this.domNode=document.createElement("div"),this._eastSash=new ce.b(this.domNode,{getVerticalSashLeft:()=>this._size.width},{orientation:0}),this._westSash=new ce.b(this.domNode,{getVerticalSashLeft:()=>0},{orientation:0}),this._northSash=new ce.b(this.domNode,{getHorizontalSashTop:()=>0},{orientation:1,orthogonalEdge:ce.a.North}),this._southSash=new ce.b(this.domNode,{getHorizontalSashTop:()=>this._size.height},{orientation:1,orthogonalEdge:ce.a.South}),this._northSash.orthogonalStartSash=this._westSash,this._northSash.orthogonalEndSash=this._eastSash,this._southSash.orthogonalStartSash=this._westSash,this._southSash.orthogonalEndSash=this._eastSash;let e,t=0,i=0;this._sashListener.add(l.c.any(this._northSash.onDidStart,this._eastSash.onDidStart,this._southSash.onDidStart,this._westSash.onDidStart)(()=>{void 0===e&&(this._onDidWillResize.fire(),e=this._size,t=0,i=0)})),this._sashListener.add(l.c.any(this._northSash.onDidEnd,this._eastSash.onDidEnd,this._southSash.onDidEnd,this._westSash.onDidEnd)(()=>{void 0!==e&&(e=void 0,t=0,i=0,this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(this._eastSash.onDidChange(n=>{e&&(i=n.currentX-n.startX,this.layout(e.height+t,e.width+i),this._onDidResize.fire({dimension:this._size,done:!1,east:!0}))})),this._sashListener.add(this._westSash.onDidChange(n=>{e&&(i=-(n.currentX-n.startX),this.layout(e.height+t,e.width+i),this._onDidResize.fire({dimension:this._size,done:!1,west:!0}))})),this._sashListener.add(this._northSash.onDidChange(n=>{e&&(t=-(n.currentY-n.startY),this.layout(e.height+t,e.width+i),this._onDidResize.fire({dimension:this._size,done:!1,north:!0}))})),this._sashListener.add(this._southSash.onDidChange(n=>{e&&(t=n.currentY-n.startY,this.layout(e.height+t,e.width+i),this._onDidResize.fire({dimension:this._size,done:!1,south:!0}))})),this._sashListener.add(l.c.any(this._eastSash.onDidReset,this._westSash.onDidReset)(e=>{this._preferredSize&&(this.layout(this._size.height,this._preferredSize.width),this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(l.c.any(this._northSash.onDidReset,this._southSash.onDidReset)(e=>{this._preferredSize&&(this.layout(this._preferredSize.height,this._size.width),this._onDidResize.fire({dimension:this._size,done:!0}))}))}dispose(){this._northSash.dispose(),this._southSash.dispose(),this._eastSash.dispose(),this._westSash.dispose(),this._sashListener.dispose(),this._onDidResize.dispose(),this._onDidWillResize.dispose(),this.domNode.remove()}enableSashes(e,t,i,n){this._northSash.state=e?3:0,this._eastSash.state=t?3:0,this._southSash.state=i?3:0,this._westSash.state=n?3:0}layout(e=this.size.height,t=this.size.width){var{height:i,width:n}=this._minSize,{height:o,width:r}=this._maxSize;e=Math.max(i,Math.min(o,e)),t=Math.max(n,Math.min(r,t)),r=new J.b(t,e),J.b.equals(r,this._size)||(this.domNode.style.height=e+"px",this.domNode.style.width=t+"px",this._size=r,this._northSash.layout(),this._eastSash.layout(),this._southSash.layout(),this._westSash.layout())}clearSashHoverState(){this._eastSash.clearSashHoverState(),this._westSash.clearSashHoverState(),this._northSash.clearSashHoverState(),this._southSash.clearSashHoverState()}get size(){return this._size}set maxSize(e){this._maxSize=e}get maxSize(){return this._maxSize}set minSize(e){this._minSize=e}get minSize(){return this._minSize}set preferredSize(e){this._preferredSize=e}get preferredSize(){return this._preferredSize}}var he=i(44),ue=i(120),ge=i(23),pe=i(104),fe=i(176),me=i(34);function ve(e){return e&&Boolean(e.completion.documentation||e.completion.detail&&e.completion.detail!==e.completion.label)}let be=class{constructor(e,t){this._editor=e,this._onDidClose=new l.b,this.onDidClose=this._onDidClose.event,this._onDidChangeContents=new l.b,this.onDidChangeContents=this._onDidChangeContents.event,this._disposables=new d.b,this._renderDisposeable=new d.b,this._borderWidth=1,this._size=new J.b(330,0),this.domNode=J.a(".suggest-details"),this.domNode.classList.add("no-docs"),this._markdownRenderer=t.createInstance(fe.a,{editor:e}),this._body=J.a(".body"),this._scrollbar=new ue.a(this._body,{}),J.q(this.domNode,this._scrollbar.getDomNode()),this._disposables.add(this._scrollbar),this._header=J.q(this._body,J.a(".header")),this._close=J.q(this._header,J.a("span"+ge.b.close.cssSelector)),this._close.title=j.a("details.close","Close"),this._type=J.q(this._header,J.a("p.type")),this._docs=J.q(this._body,J.a("p.docs")),this._configureFont(),this._disposables.add(this._editor.onDidChangeConfiguration(e=>{e.hasChanged(43)&&this._configureFont()}))}dispose(){this._disposables.dispose(),this._renderDisposeable.dispose()}_configureFont(){const e=this._editor.getOptions(),t=e.get(43);var i=t.getMassagedFontFamily(he.h?me.c.fontFamily:null),n=e.get(106)||t.fontSize,o=e.get(107)||t.lineHeight,r=t.fontWeight,s=o+"px";this.domNode.style.fontSize=n+"px",this.domNode.style.lineHeight=""+o/n,this.domNode.style.fontWeight=r,this.domNode.style.fontFeatureSettings=t.fontFeatureSettings,this._type.style.fontFamily=i,this._close.style.height=s,this._close.style.width=s}getLayoutInfo(){var e=this._editor.getOption(107)||this._editor.getOption(43).lineHeight,t=this._borderWidth;return{lineHeight:e,borderWidth:t,borderHeight:2*t,verticalPadding:22,horizontalPadding:14}}renderLoading(){this._type.textContent=j.a("loading","正在加载..."),this._docs.textContent="",this.domNode.classList.remove("no-docs","no-type"),this.layout(this.size.width,2*this.getLayoutInfo().lineHeight),this._onDidChangeContents.fire(this)}renderItem(e,t){var i,n,o;this._renderDisposeable.clear();let{detail:r,documentation:s}=e.completion;t&&(n="",n+=`score: ${e.score[0]}\n`,n+=`prefix: ${null!==(i=e.word)&&void 0!==i?i:"(no prefix)"}\n`,n+=`word: ${e.completion.filterText?e.completion.filterText+" (filterText)":e.textLabel}\n`,n+=`distance: ${e.distance} (localityBonus-setting)\n`,n+=`index: ${e.idx}, based on ${e.completion.sortText&&`sortText: "${e.completion.sortText}"`||"label"}\n`,n+=`commit_chars: ${null===(i=e.completion.commitCharacters)||void 0===i?void 0:i.join("")}\n`,s=(new pe.a).appendCodeblock("empty",n),r="Provider: "+e.provider._debugDisplayName),t||ve(e)?(this.domNode.classList.remove("no-docs","no-type"),r?(o=1e5<r.length?r.substr(0,1e5)+"…":r,this._type.textContent=o,this._type.title=o,J.W(this._type),this._type.classList.toggle("auto-wrap",!/\r?\n^\s+/gim.test(o))):(J.t(this._type),this._type.title="",J.K(this._type),this.domNode.classList.add("no-type")),J.t(this._docs),"string"==typeof s?(this._docs.classList.remove("markdown-docs"),this._docs.textContent=s):s&&(this._docs.classList.add("markdown-docs"),J.t(this._docs),o=this._markdownRenderer.render(s),this._docs.appendChild(o.element),this._renderDisposeable.add(o),this._renderDisposeable.add(this._markdownRenderer.onDidRenderAsync(()=>{this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}))),this.domNode.style.userSelect="text",this.domNode.tabIndex=-1,this._close.onmousedown=e=>{e.preventDefault(),e.stopPropagation()},this._close.onclick=e=>{e.preventDefault(),e.stopPropagation(),this._onDidClose.fire()},this._body.scrollTop=0,this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)):this.clearContents()}clearContents(){this.domNode.classList.add("no-docs"),this._type.textContent="",this._docs.textContent=""}get size(){return this._size}layout(e,t){var i=new J.b(e,t);J.b.equals(i,this._size)||(this._size=i,J.X(this.domNode,e,t)),this._scrollbar.scanDomNode()}scrollDown(e=8){this._body.scrollTop+=e}scrollUp(e=8){this._body.scrollTop-=e}scrollTop(){this._body.scrollTop=0}scrollBottom(){this._body.scrollTop=this._body.scrollHeight}pageDown(){this.scrollDown(80)}pageUp(){this.scrollUp(80)}set borderWidth(e){this._borderWidth=e}get borderWidth(){return this._borderWidth}};be=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;0<=a;a--)(o=e[a])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s}([function(e,t){return function(e,i){t(e,i,1)}}(0,D.a)],be);class _e{constructor(e,t){this.widget=e,this._editor=t,this._disposables=new d.b,this._added=!1,this._resizable=new de,this._resizable.domNode.classList.add("suggest-details-container"),this._resizable.domNode.appendChild(e.domNode),this._resizable.enableSashes(!1,!0,!0,!1);let i,n,o=0,r=0;this._disposables.add(this._resizable.onDidWillResize(()=>{i=this._topLeft,n=this._resizable.size})),this._disposables.add(this._resizable.onDidResize(e=>{if(i&&n){this.widget.layout(e.dimension.width,e.dimension.height);let t=!1;e.west&&(r=n.width-e.dimension.width,t=!0),e.north&&(o=n.height-e.dimension.height,t=!0),t&&this._applyTopLeft({top:i.top+o,left:i.left+r})}e.done&&(i=void 0,n=void 0,o=0,r=0,this._userSize=e.dimension)})),this._disposables.add(this.widget.onDidChangeContents(()=>{var e;this._anchorBox&&this._placeAtAnchor(this._anchorBox,null!==(e=this._userSize)&&void 0!==e?e:this.widget.size)}))}dispose(){this._resizable.dispose(),this._disposables.dispose(),this.hide()}getId(){return"suggest.details"}getDomNode(){return this._resizable.domNode}getPosition(){return null}show(){this._added||(this._editor.addOverlayWidget(this),this.getDomNode().style.position="fixed",this._added=!0)}hide(e=!1){this._resizable.clearSashHoverState(),this._added&&(this._editor.removeOverlayWidget(this),this._added=!1,this._anchorBox=void 0,this._topLeft=void 0),e&&(this._userSize=void 0,this.widget.clearContents())}placeAtAnchor(e){e=J.D(e);this._anchorBox=e,this._placeAtAnchor(this._anchorBox,null!==(e=this._userSize)&&void 0!==e?e:this.widget.size)}_placeAtAnchor(e,t){const i=J.z(document.body),n=this.widget.getLayoutInfo(),o=new J.b(220,2*n.lineHeight),r=e.top;var s=function(){var s=i.width-(e.left+e.width+n.borderWidth+n.horizontalPadding),a=-n.borderWidth+e.left+e.width;const l=new J.b(s,i.height-e.top-n.borderHeight-n.verticalPadding);var c=l.with(void 0,e.top+e.height-n.borderHeight-n.verticalPadding);return{top:r,left:a,fit:s-t.width,maxSizeTop:l,maxSizeBottom:c,minSize:o.with(Math.min(s,o.width))}}();const a=[s,function(){var s=e.left-n.borderWidth-n.horizontalPadding,a=Math.max(n.horizontalPadding,e.left-t.width-n.borderWidth);const l=new J.b(s,i.height-e.top-n.borderHeight-n.verticalPadding);var c=l.with(void 0,e.top+e.height-n.borderHeight-n.verticalPadding);return{top:r,left:a,fit:s-t.width,maxSizeTop:l,maxSizeBottom:c,minSize:o.with(Math.min(s,o.width))}}(),(l=e.left,u=-n.borderWidth+e.top+e.height,c=new J.b(e.width-n.borderHeight,i.height-e.top-e.height-n.verticalPadding),{top:u,left:l,fit:c.height-t.height,maxSizeBottom:c,maxSizeTop:c,minSize:o.with(c.width)})];var l=null!==(u=a.find(e=>0<=e.fit))&&void 0!==u?u:a.sort((e,t)=>t.fit-e.fit)[0],c=e.top+e.height-n.borderHeight;let d,h=t.height;var u=Math.max(l.maxSizeTop.height,l.maxSizeBottom.height);let g;h>u&&(h=u),g=h<=l.maxSizeTop.height?(d=!0,l.maxSizeTop):(d=!1,l.maxSizeBottom),this._applyTopLeft({left:l.left,top:d?l.top:c-h}),this.getDomNode().style.position="fixed",this._resizable.enableSashes(!d,l===s,d,l!==s),this._resizable.minSize=l.minSize,this._resizable.maxSize=g,this._resizable.layout(h,Math.min(g.width,t.width)),this.widget.layout(this._resizable.size.width,this._resizable.size.height)}_applyTopLeft(e){this._topLeft=e,this.getDomNode().style.left=this._topLeft.left+"px",this.getDomNode().style.top=this._topLeft.top+"px"}}var we,Ce=i(222),ye=i(35),xe=i(52),Se=i(60),ke=i(158);function De(e,t,i,n){const o=n===we.ROOT_FOLDER?["rootfolder-icon"]:n===we.FOLDER?["folder-icon"]:["file-icon"];if(i){let r;if(i.scheme===xe.c.data){r=Se.a.parseMetaData(i).get(Se.a.META_DATA_LABEL)}else r=Le(Object(Se.c)(i).toLowerCase());if(n===we.FOLDER)o.push(r+"-name-folder-icon");else{if(r){if(o.push(r+"-name-file-icon"),r.length<=255){const e=r.split(".");for(let t=1;t<e.length;t++)o.push(e.slice(t).join(".")+"-ext-file-icon")}o.push("ext-file-icon")}(i=function(e,t,i){if(!i)return null;let n=null;if(i.scheme===xe.c.data){var o=Se.a.parseMetaData(i).get(Se.a.META_DATA_MIME);o&&(n=t.getModeId(o))}else{const t=e.getModel(i);t&&(n=t.getLanguageId())}return n&&n!==ke.b?n:t.getModeIdByFilepathOrFirstLine(i)}(e,t,i))&&o.push(Le(i)+"-lang-file-icon")}}return o}function Le(e){return e.replace(/[\11\12\14\15\40]/g,"/")}function Oe(e){return"suggest-aria-id:"+e}(T=we=we||{})[T.FILE=0]="FILE",T[T.FOLDER=1]="FOLDER",T[T.ROOT_FOLDER=2]="ROOT_FOLDER",S=i(70),R=i(80),k=i(95),T=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;0<=a;a--)(o=e[a])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s},i=function(e,t){return function(i,n){t(i,n,e)}};const Ee=Object(k.b)("suggest-more-info",ge.b.chevronRight,j.a("suggestMoreInfoIcon","Icon for more information in the suggest widget.")),Ne=((k=class e{extract(t,i){if(t.textLabel.match(e._regexStrict))return i[0]=t.textLabel,!0;if(t.completion.detail&&t.completion.detail.match(e._regexStrict))return i[0]=t.completion.detail,!0;if("string"==typeof t.completion.documentation){var n=e._regexRelaxed.exec(t.completion.documentation);if(n&&(0===n.index||n.index+n[0].length===t.completion.documentation.length))return i[0]=n[0],!0}return!1}})._regexRelaxed=/(#([\da-fA-F]{3}){1,2}|(rgb|hsl)a\(\s*(\d{1,3}%?\s*,\s*){3}(1|0?\.\d+)\)|(rgb|hsl)\(\s*\d{1,3}%?(\s*,\s*\d{1,3}%?){2}\s*\))/,k._regexStrict=new RegExp(`^${k._regexRelaxed.source}$`,"i"),new k);let Ie=class{constructor(e,t,i,n){this._editor=e,this._modelService=t,this._modeService=i,this._themeService=n,this._onDidToggleDetails=new l.b,this.onDidToggleDetails=this._onDidToggleDetails.event,this.templateId="suggestion"}dispose(){this._onDidToggleDetails.dispose()}renderTemplate(e){const t=Object.create(null);t.disposables=new d.b,t.root=e,t.root.classList.add("show-file-icons"),t.icon=Object(J.q)(e,Object(J.a)(".icon")),t.colorspan=Object(J.q)(t.icon,Object(J.a)("span.colorspan")),e=Object(J.q)(e,Object(J.a)(".contents"));const i=Object(J.q)(e,Object(J.a)(".main"));t.iconContainer=Object(J.q)(i,Object(J.a)(".icon-label.codicon")),t.left=Object(J.q)(i,Object(J.a)("span.left")),t.right=Object(J.q)(i,Object(J.a)("span.right")),t.iconLabel=new Ce.a(t.left,{supportHighlights:!0,supportIcons:!0}),t.disposables.add(t.iconLabel),t.parametersLabel=Object(J.q)(t.left,Object(J.a)("span.signature-label")),t.qualifierLabel=Object(J.q)(t.left,Object(J.a)("span.qualifier-label")),t.detailsLabel=Object(J.q)(t.right,Object(J.a)("span.details-label")),t.readMore=Object(J.q)(t.right,Object(J.a)("span.readMore"+le.d.asCSSSelector(Ee))),t.readMore.title=j.a("readMore","Read More");const n=()=>{const e=this._editor.getOptions(),n=e.get(43);var o=n.getMassagedFontFamily(he.h?me.c.fontFamily:null),r=n.fontFeatureSettings,s=e.get(106)||n.fontSize,a=e.get(107)||n.lineHeight,l=n.fontWeight;s+="px",a+="px";t.root.style.fontSize=s,t.root.style.fontWeight=l,i.style.fontFamily=o,i.style.fontFeatureSettings=r,i.style.lineHeight=a,t.icon.style.height=a,t.icon.style.width=a,t.readMore.style.height=a,t.readMore.style.width=a};return n(),t.disposables.add(this._editor.onDidChangeConfiguration(e=>{(e.hasChanged(43)||e.hasChanged(106)||e.hasChanged(107))&&n()})),t}renderElement(e,t,i){const{completion:n}=e;i.root.id=Oe(t);const r={labelEscapeNewLines:!(i.colorspan.style.backgroundColor=""),matches:Object(G.c)(e.score)};var s=[];19===n.kind&&Ne.extract(e,s)?(i.icon.className="icon customcolor",i.iconContainer.className="icon hide",i.colorspan.style.backgroundColor=s[0]):20===n.kind&&this._themeService.getFileIconTheme().hasFileIcons?(i.icon.className="icon hide",i.iconContainer.className="icon hide",t=De(this._modelService,this._modeService,ye.a.from({scheme:"fake",path:e.textLabel}),we.FILE),s=De(this._modelService,this._modeService,ye.a.from({scheme:"fake",path:n.detail}),we.FILE),r.extraClasses=t.length>s.length?t:s):23===n.kind&&this._themeService.getFileIconTheme().hasFolderIcons?(i.icon.className="icon hide",i.iconContainer.className="icon hide",r.extraClasses=Object(o.k)([De(this._modelService,this._modeService,ye.a.from({scheme:"fake",path:e.textLabel}),we.FOLDER),De(this._modelService,this._modeService,ye.a.from({scheme:"fake",path:n.detail}),we.FOLDER)])):(i.icon.className="icon hide",i.iconContainer.className="",i.iconContainer.classList.add("suggest-icon",...Object(x.I)(n.kind).split(" "))),n.tags&&0<=n.tags.indexOf(1)&&(r.extraClasses=(r.extraClasses||[]).concat(["deprecated"]),r.matches=[]),i.iconLabel.setLabel(e.textLabel,void 0,r),"string"==typeof n.label?(i.parametersLabel.textContent="",i.detailsLabel.textContent=Te(n.detail||""),i.root.classList.add("string-label")):(i.parametersLabel.textContent=Te(n.label.detail||""),i.detailsLabel.textContent=Te(n.label.description||""),i.root.classList.remove("string-label")),(this._editor.getOption(105).showInlineDetails?Object(J.W):Object(J.K))(i.detailsLabel),ve(e)?(i.right.classList.add("can-expand-details"),Object(J.W)(i.readMore),i.readMore.onmousedown=e=>{e.stopPropagation(),e.preventDefault()},i.readMore.onclick=e=>{e.stopPropagation(),e.preventDefault(),this._onDidToggleDetails.fire()}):(i.right.classList.remove("can-expand-details"),Object(J.K)(i.readMore),i.readMore.onmousedown=null,i.readMore.onclick=null)}disposeTemplate(e){e.disposables.dispose()}};function Te(e){return e.replace(/\r\n|\r|\n/g,"")}Ie=T([i(1,S.a),i(2,R.a),i(3,le.b)],Ie);R=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;0<=a;a--)(o=e[a])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s},i=function(e,t){return function(i,n){t(i,n,e)}};const Me=Object(se.Cc)("editorSuggestWidget.background",{dark:se.cb,light:se.cb,hc:se.cb},j.a("editorSuggestWidgetBackground","Background color of the suggest widget.")),Ae=Object(se.Cc)("editorSuggestWidget.border",{dark:se.db,light:se.db,hc:se.db},j.a("editorSuggestWidgetBorder","Border color of the suggest widget.")),Pe=Object(se.Cc)("editorSuggestWidget.foreground",{dark:se.B,light:se.B,hc:se.B},j.a("editorSuggestWidgetForeground","Foreground color of the suggest widget.")),Re=Object(se.Cc)("editorSuggestWidget.selectedForeground",{dark:se.zc,light:se.zc,hc:se.zc},j.a("editorSuggestWidgetSelectedForeground","Foreground color of the selected entry in the suggest widget.")),Fe=Object(se.Cc)("editorSuggestWidget.selectedIconForeground",{dark:se.Ac,light:se.Ac,hc:se.Ac},j.a("editorSuggestWidgetSelectedIconForeground","Icon foreground color of the selected entry in the suggest widget.")),je=Object(se.Cc)("editorSuggestWidget.selectedBackground",{dark:se.yc,light:se.yc,hc:se.yc},j.a("editorSuggestWidgetSelectedBackground","Background color of the selected entry in the suggest widget.")),Be=Object(se.Cc)("editorSuggestWidget.highlightForeground",{dark:se.Ob,light:se.Ob,hc:se.Ob},j.a("editorSuggestWidgetHighlightForeground","Color of the match highlights in the suggest widget.")),We=Object(se.Cc)("editorSuggestWidget.focusHighlightForeground",{dark:se.Mb,light:se.Mb,hc:se.Mb},j.a("editorSuggestWidgetFocusHighlightForeground","Color of the match highlights in the suggest widget when an item is focused."));class Ve{constructor(e,t){this._service=e,this._key=`suggestWidget.size/${t.getEditorType()}/${t instanceof ie.a}`}restore(){var e=null!==(e=this._service.get(this._key,0))&&void 0!==e?e:"";try{var t=JSON.parse(e);if(J.b.is(t))return J.b.lift(t)}catch(e){}}store(e){this._service.store(this._key,JSON.stringify(e),0,1)}reset(){this._service.remove(this._key,0)}}let ze=class e{constructor(e,t,i,n,o){this.editor=e,this._storageService=t,this._state=0,this._isAuto=!1,this._ignoreFocusEvents=!1,this._forceRenderingAbove=!1,this._explainMode=!1,this._showTimeout=new r.g,this._disposables=new d.b,this._onDidSelect=new l.b,this._onDidFocus=new l.b,this._onDidHide=new l.b,this._onDidShow=new l.b,this.onDidSelect=this._onDidSelect.event,this.onDidFocus=this._onDidFocus.event,this.onDidHide=this._onDidHide.event,this.onDidShow=this._onDidShow.event,this._onDetailsKeydown=new l.b,this.onDetailsKeyDown=this._onDetailsKeydown.event,this.element=new de,this.element.domNode.classList.add("editor-widget","suggest-widget"),this._contentWidget=new He(this,e),this._persistedSize=new Ve(t,e);class s{constructor(e,t,i=!1,n=!1){this.persistedSize=e,this.currentSize=t,this.persistHeight=i,this.persistWidth=n}}let a;this._disposables.add(this.element.onDidWillResize(()=>{this._contentWidget.lockPreference(),a=new s(this._persistedSize.restore(),this.element.size)})),this._disposables.add(this.element.onDidResize(e=>{if(this._resize(e.dimension.width,e.dimension.height),a&&(a.persistHeight=a.persistHeight||!!e.north||!!e.south,a.persistWidth=a.persistWidth||!!e.east||!!e.west),e.done){if(a){var{itemHeight:t,defaultSize:i}=this.getLayoutInfo();e=Math.round(t/2);let{width:n,height:o}=this.element.size;(!a.persistHeight||Math.abs(a.currentSize.height-o)<=e)&&(o=null!==(t=null===(t=a.persistedSize)||void 0===t?void 0:t.height)&&void 0!==t?t:i.height),(!a.persistWidth||Math.abs(a.currentSize.width-n)<=e)&&(n=null!==(e=null===(e=a.persistedSize)||void 0===e?void 0:e.width)&&void 0!==e?e:i.width),this._persistedSize.store(new J.b(n,o))}this._contentWidget.unlockPreference(),a=void 0}})),this._messageElement=J.q(this.element.domNode,J.a(".message")),this._listElement=J.q(this.element.domNode,J.a(".tree"));const c=o.createInstance(be,this.editor);c.onDidClose(this.toggleDetails,this,this._disposables),this._details=new _e(c,this.editor);const h=()=>this.element.domNode.classList.toggle("no-icons",!this.editor.getOption(105).showIcons);h();const u=o.createInstance(Ie,this.editor);this._disposables.add(u),this._disposables.add(u.onDidToggleDetails(()=>this.toggleDetails())),this._list=new ee.c("SuggestWidget",this._listElement,{getHeight:e=>this.getLayoutInfo().itemHeight,getTemplateId:e=>"suggestion"},[u],{alwaysConsumeMouseWheel:!0,useShadows:!1,mouseSupport:!1,accessibilityProvider:{getRole:()=>"option",getAriaLabel:e=>{if(e.isResolved&&this._isDetailsVisible()){var{documentation:t,detail:i}=e.completion,t=U.v("{0}{1}",i||"",t?"string"==typeof t?t:t.value:"");return j.a("ariaCurrenttSuggestionReadDetails","{0}, docs: {1}",e.textLabel,t)}return e.textLabel},getWidgetAriaLabel:()=>j.a("suggest","Suggest"),getWidgetRole:()=>"listbox"}}),this._status=o.createInstance(re,this.element.domNode);const g=()=>this.element.domNode.classList.toggle("with-status-bar",this.editor.getOption(105).showStatusBar);g(),this._disposables.add(Object(ae.b)(this._list,n,{listInactiveFocusBackground:je,listInactiveFocusOutline:se.b})),this._disposables.add(n.onDidColorThemeChange(e=>this._onThemeChange(e))),this._onThemeChange(n.getColorTheme()),this._disposables.add(this._list.onMouseDown(e=>this._onListMouseDownOrTap(e))),this._disposables.add(this._list.onTap(e=>this._onListMouseDownOrTap(e))),this._disposables.add(this._list.onDidChangeSelection(e=>this._onListSelection(e))),this._disposables.add(this._list.onDidChangeFocus(e=>this._onListFocus(e))),this._disposables.add(this.editor.onDidChangeCursorSelection(()=>this._onCursorSelectionChanged())),this._disposables.add(this.editor.onDidChangeConfiguration(e=>{e.hasChanged(105)&&(g(),h())})),this._ctxSuggestWidgetVisible=W.b.Visible.bindTo(i),this._ctxSuggestWidgetDetailsVisible=W.b.DetailsVisible.bindTo(i),this._ctxSuggestWidgetMultipleSuggestions=W.b.MultipleSuggestions.bindTo(i),this._disposables.add(J.o(this._details.widget.domNode,"keydown",e=>{this._onDetailsKeydown.fire(e)})),this._disposables.add(this.editor.onMouseDown(e=>this._onEditorMouseDown(e)))}dispose(){var e;this._details.widget.dispose(),this._details.dispose(),this._list.dispose(),this._status.dispose(),this._disposables.dispose(),null!==(e=this._loadingTimeout)&&void 0!==e&&e.dispose(),this._showTimeout.dispose(),this._contentWidget.dispose(),this.element.dispose()}_onEditorMouseDown(e){this._details.widget.domNode.contains(e.target.element)?this._details.widget.domNode.focus():this.element.domNode.contains(e.target.element)&&this.editor.focus()}_onCursorSelectionChanged(){0!==this._state&&this._contentWidget.layout()}_onListMouseDownOrTap(e){void 0!==e.element&&void 0!==e.index&&(e.browserEvent.preventDefault(),e.browserEvent.stopPropagation(),this._select(e.element,e.index))}_onListSelection(e){e.elements.length&&this._select(e.elements[0],e.indexes[0])}_select(e,t){var i=this._completionModel;i&&(this._onDidSelect.fire({item:e,index:t,model:i}),this.editor.focus())}_onThemeChange(e){const t=e.getColor(Me);t&&(this.element.domNode.style.backgroundColor=t.toString(),this._messageElement.style.backgroundColor=t.toString(),this._details.widget.domNode.style.backgroundColor=t.toString());const i=e.getColor(Ae);i&&(this.element.domNode.style.borderColor=i.toString(),this._messageElement.style.borderColor=i.toString(),this._status.element.style.borderTopColor=i.toString(),this._details.widget.domNode.style.borderColor=i.toString(),this._detailsBorderColor=i.toString());const n=e.getColor(se.hb);n&&(this._detailsFocusBorderColor=n.toString()),this._details.widget.borderWidth="hc"===e.type?2:1}_onListFocus(e){if(!this._ignoreFocusEvents){if(!e.elements.length)return this._currentSuggestionDetails&&(this._currentSuggestionDetails.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=void 0),void this.editor.setAriaOptions({activeDescendant:void 0});if(this._completionModel){const t=e.elements[0],i=e.indexes[0];t!==this._focusedItem&&(null!==(e=this._currentSuggestionDetails)&&void 0!==e&&e.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=t,this._list.reveal(i),this._currentSuggestionDetails=Object(r.h)(e=>function(e,t,i,n){return new(i=i||Promise)((function(o,r){function s(e){try{l(n.next(e))}catch(e){r(e)}}function a(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):((t=e.value)instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))}(this,void 0,void 0,(function*(){const i=Object(r.i)(()=>{this._isDetailsVisible()&&this.showDetails(!0)},250);e.onCancellationRequested(()=>i.dispose());var n=yield t.resolve(e);return i.dispose(),n}))),this._currentSuggestionDetails.then(()=>{i>=this._list.length||t!==this._list.element(i)||(this._ignoreFocusEvents=!0,this._list.splice(i,1,[t]),this._list.setFocus([i]),this._ignoreFocusEvents=!1,this._isDetailsVisible()?this.showDetails(!1):this.element.domNode.classList.remove("docs-side"),this.editor.setAriaOptions({activeDescendant:Oe(i)}))}).catch(a.f)),this._onDidFocus.fire({item:t,index:i,model:this._completionModel})}}}_setState(t){if(this._state!==t)switch(this._state=t,this.element.domNode.classList.toggle("frozen",4===t),this.element.domNode.classList.remove("message"),t){case 0:J.K(this._messageElement,this._listElement,this._status.element),this._details.hide(!0),this._status.hide(),this._contentWidget.hide(),this._ctxSuggestWidgetVisible.reset(),this._ctxSuggestWidgetMultipleSuggestions.reset(),this._showTimeout.cancel(),this.element.domNode.classList.remove("visible"),this._list.splice(0,this._list.length),this._focusedItem=void 0,this._cappedHeight=void 0,this._explainMode=!1;break;case 1:this.element.domNode.classList.add("message"),this._messageElement.textContent=e.LOADING_MESSAGE,J.K(this._listElement,this._status.element),J.W(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0;break;case 2:this.element.domNode.classList.add("message"),this._messageElement.textContent=e.NO_SUGGESTIONS_MESSAGE,J.K(this._listElement,this._status.element),J.W(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0;break;case 3:case 4:J.K(this._messageElement),J.W(this._listElement,this._status.element),this._show();break;case 5:J.K(this._messageElement),J.W(this._listElement,this._status.element),this._details.show(),this._show()}}_show(){this._status.show(),this._contentWidget.show(),this._layout(this._persistedSize.restore()),this._ctxSuggestWidgetVisible.set(!0),this._showTimeout.cancelAndSet(()=>{this.element.domNode.classList.add("visible"),this._onDidShow.fire(this)},100)}showTriggered(e,t){0===this._state&&(this._contentWidget.setPosition(this.editor.getPosition()),this._isAuto=!!e,this._isAuto||(this._loadingTimeout=Object(r.i)(()=>this._setState(1),t)))}showSuggestions(e,t,i,n){if(this._contentWidget.setPosition(this.editor.getPosition()),null!==(o=this._loadingTimeout)&&void 0!==o&&o.dispose(),null!==(o=this._currentSuggestionDetails)&&void 0!==o&&o.cancel(),this._currentSuggestionDetails=void 0,this._completionModel!==e&&(this._completionModel=e),i&&2!==this._state&&0!==this._state)this._setState(4);else{var o=this._completionModel.items.length;e=0===o;if(this._ctxSuggestWidgetMultipleSuggestions.set(1<o),e)return this._setState(n?0:2),void(this._completionModel=void 0);this._focusedItem=void 0,this._list.splice(0,this._list.length,this._completionModel.items),this._setState(i?4:3),this._list.reveal(t,0),this._list.setFocus([t]),this._layout(this.element.size),this._detailsBorderColor&&(this._details.widget.domNode.style.borderColor=this._detailsBorderColor)}}selectNextPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageDown(),!0;case 1:return!this._isAuto;default:return this._list.focusNextPage(),!0}}selectNext(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusNext(1,!0),!0}}selectLast(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollBottom(),!0;case 1:return!this._isAuto;default:return this._list.focusLast(),!0}}selectPreviousPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageUp(),!0;case 1:return!this._isAuto;default:return this._list.focusPreviousPage(),!0}}selectPrevious(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusPrevious(1,!0),!1}}selectFirst(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollTop(),!0;case 1:return!this._isAuto;default:return this._list.focusFirst(),!0}}getFocusedItem(){if(0!==this._state&&2!==this._state&&1!==this._state&&this._completionModel)return{item:this._list.getFocusedElements()[0],index:this._list.getFocus()[0],model:this._completionModel}}toggleDetailsFocus(){5===this._state?(this._setState(3),this._detailsBorderColor&&(this._details.widget.domNode.style.borderColor=this._detailsBorderColor)):3===this._state&&this._isDetailsVisible()&&(this._setState(5),this._detailsFocusBorderColor&&(this._details.widget.domNode.style.borderColor=this._detailsFocusBorderColor))}toggleDetails(){this._isDetailsVisible()?(this._ctxSuggestWidgetDetailsVisible.set(!1),this._setDetailsVisible(!1),this._details.hide(),this.element.domNode.classList.remove("shows-details")):!ve(this._list.getFocusedElements()[0])&&!this._explainMode||3!==this._state&&5!==this._state&&4!==this._state||(this._ctxSuggestWidgetDetailsVisible.set(!0),this._setDetailsVisible(!0),this.showDetails(!1))}showDetails(e){this._details.show(),e?this._details.widget.renderLoading():this._details.widget.renderItem(this._list.getFocusedElements()[0],this._explainMode),this._positionDetails(),this.editor.focus(),this.element.domNode.classList.add("shows-details")}toggleExplainMode(){this._list.getFocusedElements()[0]&&(this._explainMode=!this._explainMode,this._isDetailsVisible()?this.showDetails(!1):this.toggleDetails())}resetPersistedSize(){this._persistedSize.reset()}hideWidget(){null!==(t=this._loadingTimeout)&&void 0!==t&&t.dispose(),this._setState(0),this._onDidHide.fire(this),this.element.clearSashHoverState();const e=this._persistedSize.restore();var t=Math.ceil(4.3*this.getLayoutInfo().itemHeight);e&&e.height<t&&this._persistedSize.store(e.with(void 0,t))}isFrozen(){return 4===this._state}_afterRender(e){null!==e?2!==this._state&&1!==this._state&&(this._isDetailsVisible()&&this._details.show(),this._positionDetails()):this._isDetailsVisible()&&this._details.hide()}_layout(e){if(this.editor.hasModel()&&this.editor.getDomNode()){var t=J.z(document.body),i=this.getLayoutInfo();let d=(e=e||i.defaultSize).height,h=e.width;if(this._status.element.style.lineHeight=i.itemHeight+"px",2===this._state||1===this._state)d=i.itemHeight+i.borderHeight,h=i.defaultSize.width/2,this.element.enableSashes(!1,!1,!1,!1),this.element.minSize=this.element.maxSize=new J.b(h,d),this._contentWidget.setPreference(2);else{var n=t.width-i.borderHeight-2*i.horizontalPadding;h>n&&(h=n);var o=this._completionModel?this._completionModel.stats.pLabelLen*i.typicalHalfwidthCharacterWidth:h,r=i.statusBarHeight+this._list.contentHeight+i.borderHeight,s=i.itemHeight+i.statusBarHeight,a=J.D(this.editor.getDomNode()),l=this.editor.getScrolledVisiblePosition(this.editor.getPosition()),c=a.top+l.top+l.height;t=Math.min(t.height-c-i.verticalPadding,r),c=a.top+l.top-i.verticalPadding,a=Math.min(c,r);let u=Math.min(Math.max(a,t)+i.borderHeight,r);d===(null===(l=this._cappedHeight)||void 0===l?void 0:l.capped)&&(d=this._cappedHeight.wanted),d<s&&(d=s),d>u&&(d=u),u=d>t||this._forceRenderingAbove&&150<c?(this._contentWidget.setPreference(1),this.element.enableSashes(!0,!0,!1,!1),a):(this._contentWidget.setPreference(2),this.element.enableSashes(!1,!0,!0,!1),t),this.element.preferredSize=new J.b(o,i.defaultSize.height),this.element.maxSize=new J.b(n,u),this.element.minSize=new J.b(220,s),this._cappedHeight=d===r?{wanted:null!==(r=null===(r=this._cappedHeight)||void 0===r?void 0:r.wanted)&&void 0!==r?r:e.height,capped:d}:void 0}this._resize(h,d)}}_resize(e,t){var{width:i,height:n}=this.element.maxSize;e=Math.min(i,e),t=Math.min(n,t);var{statusBarHeight:n}=this.getLayoutInfo();this._list.layout(t-n,e),this._listElement.style.height=t-n+"px",this.element.layout(t,e),this._contentWidget.layout(),this._positionDetails()}_positionDetails(){this._isDetailsVisible()&&this._details.placeAtAnchor(this.element.domNode)}getLayoutInfo(){var e=this.editor.getOption(43),t=Object(te.b)(this.editor.getOption(107)||e.lineHeight,8,1e3),i=this.editor.getOption(105).showStatusBar&&2!==this._state&&1!==this._state?t:0,n=this._details.widget.borderWidth,o=2*n;return{itemHeight:t,statusBarHeight:i,borderWidth:n,borderHeight:o,typicalHalfwidthCharacterWidth:e.typicalHalfwidthCharacterWidth,verticalPadding:22,horizontalPadding:14,defaultSize:new J.b(430,i+12*t+o)}}_isDetailsVisible(){return this._storageService.getBoolean("expandSuggestionDocs",0,!1)}_setDetailsVisible(e){this._storageService.store("expandSuggestionDocs",e,0,0)}forceRenderingAbove(){this._forceRenderingAbove||(this._forceRenderingAbove=!0,this._layout(this._persistedSize.restore()))}stopForceRenderingAbove(){this._forceRenderingAbove=!1}};ze.LOADING_MESSAGE=j.a("suggestWidget.loading","正在加载..."),ze.NO_SUGGESTIONS_MESSAGE=j.a("suggestWidget.noSuggestions","No suggestions."),ze=R([i(1,L.a),i(2,A.b),i(3,le.b),i(4,D.a)],ze);class He{constructor(e,t){this._widget=e,this._editor=t,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._preferenceLocked=!1,this._added=!1,this._hidden=!1}dispose(){this._added&&(this._added=!1,this._editor.removeContentWidget(this))}getId(){return"editor.widget.suggestWidget"}getDomNode(){return this._widget.element.domNode}show(){this._hidden=!1,this._added||(this._added=!0,this._editor.addContentWidget(this))}hide(){this._hidden||(this._hidden=!0,this.layout())}layout(){this._editor.layoutContentWidget(this)}getPosition(){return!this._hidden&&this._position&&this._preference?{position:this._position,preference:[this._preference]}:null}beforeRender(){var{height:e,width:t}=this._widget.element.size,{borderWidth:i,horizontalPadding:n}=this._widget.getLayoutInfo();return new J.b(t+2*i+n,e+2*i)}afterRender(e){this._widget._afterRender(e)}setPreference(e){this._preferenceLocked||(this._preference=e)}lockPreference(){this._preferenceLocked=!0}unlockPreference(){this._preferenceLocked=!1}setPosition(e){this._position=e}}Object(le.f)((e,t)=>{var i=e.getColor(Be);i&&t.addRule(`.monaco-editor .suggest-widget .monaco-list .monaco-list-row .monaco-highlighted-label .highlight { color: ${i}; }`);var n=e.getColor(We);i&&t.addRule(`.monaco-editor .suggest-widget .monaco-list .monaco-list-row.focused .monaco-highlighted-label .highlight { color: ${n}; }`),(n=e.getColor(Pe))&&t.addRule(`.monaco-editor .suggest-widget, .monaco-editor .suggest-details { color: ${n}; }`),(n=e.getColor(Re))&&t.addRule(`.monaco-editor .suggest-widget .monaco-list .monaco-list-row.focused { color: ${n}; }`),(n=e.getColor(Fe))&&t.addRule(`.monaco-editor .suggest-widget .monaco-list .monaco-list-row.focused .codicon { color: ${n}; }`),(n=e.getColor(se.Pc))&&t.addRule(`.monaco-editor .suggest-details a { color: ${n}; }`),(n=e.getColor(se.Oc))&&t.addRule(`.monaco-editor .suggest-details a:hover { color: ${n}; }`),(e=e.getColor(se.Nc))&&t.addRule(`.monaco-editor .suggest-details code { background-color: ${e}; }`)}),R=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;0<=a;a--)(o=e[a])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s},i=function(e,t){return function(i,n){t(i,n,e)}};class Ue{constructor(e,t){var i;this._model=e,this._position=t,e.getLineMaxColumn(t.lineNumber)!==t.column&&(i=e.getOffsetAt(t),i=e.getPositionAt(i+1),this._marker=e.deltaDecorations([],[{range:b.a.fromPositions(t,i),options:{description:"suggest-line-suffix",stickiness:1}}]))}dispose(){this._marker&&!this._model.isDisposed()&&this._model.deltaDecorations(this._marker,[])}delta(e){if(this._model.isDisposed()||this._position.lineNumber!==e.lineNumber)return 0;if(this._marker){const t=this._model.getDecorationRange(this._marker[0]);return this._model.getOffsetAt(t.getStartPosition())-this._model.getOffsetAt(e)}return this._model.getLineMaxColumn(e.lineNumber)-e.column}}let $e=class e{constructor(e,t,i,n,o,s){this._memoryService=t,this._commandService=i,this._contextKeyService=n,this._instantiationService=o,this._logService=s,this._lineSuffix=new d.d,this._toDispose=new d.b,this._selectors=new Ke(e=>e.priority),this.editor=e,this.model=o.createInstance(X,this.editor);const a=W.b.InsertMode.bindTo(n);a.set(e.getOption(105).insertMode),this.model.onDidTrigger(()=>a.set(e.getOption(105).insertMode)),this.widget=this._toDispose.add(new r.b(()=>{const e=this._instantiationService.createInstance(ze,this.editor);this._toDispose.add(e),this._toDispose.add(e.onDidSelect(e=>this._insertSuggestion(e,0),this));const t=new H(this.editor,e,e=>this._insertSuggestion(e,2));this._toDispose.add(t),this._toDispose.add(this.model.onDidSuggest(e=>{0===e.completionModel.items.length&&t.reset()}));const i=W.b.MakesTextEdit.bindTo(this._contextKeyService),n=W.b.HasInsertAndReplaceRange.bindTo(this._contextKeyService),o=W.b.CanResolve.bindTo(this._contextKeyService);return this._toDispose.add(Object(d.i)(()=>{i.reset(),n.reset(),o.reset()})),this._toDispose.add(e.onDidFocus(({item:e})=>{var t=this.editor.getPosition(),r=e.editStart.column,s=t.column;let a=!0;"smart"!==this.editor.getOption(1)||2!==this.model.state||e.completion.additionalTextEdits||4&e.completion.insertTextRules||s-r!==e.completion.insertText.length||(a=(s=this.editor.getModel().getValueInRange({startLineNumber:t.lineNumber,startColumn:r,endLineNumber:t.lineNumber,endColumn:s}))!==e.completion.insertText),i.set(a),n.set(!v.a.equals(e.editInsertEnd,e.editReplaceEnd)),o.set(Boolean(e.provider.resolveCompletionItem)||Boolean(e.completion.documentation)||e.completion.detail!==e.completion.label)})),this._toDispose.add(e.onDetailsKeyDown(e=>{e.toKeybinding().equals(new c.d(!0,!1,!1,!1,33))||h.f&&e.toKeybinding().equals(new c.d(!1,!1,!1,!0,33))?e.stopPropagation():e.toKeybinding().isModifierKey()||this.editor.focus()})),e})),this._overtypingCapturer=this._toDispose.add(new r.b(()=>this._toDispose.add(new Q(this.editor,this.model)))),this._alternatives=this._toDispose.add(new r.b(()=>this._toDispose.add(new V(this.editor,this._contextKeyService)))),this._toDispose.add(o.createInstance(F,e)),this._toDispose.add(this.model.onDidTrigger(e=>{this.widget.value.showTriggered(e.auto,e.shy?250:50),this._lineSuffix.value=new Ue(this.editor.getModel(),e.position)})),this._toDispose.add(this.model.onDidSuggest(e=>{if(!e.shy){let t=-1;for(const i of this._selectors.itemsOrderedByPriorityDesc)if(t=i.select(this.editor.getModel(),this.editor.getPosition(),e.completionModel.items),-1!==t)break;-1===t&&(t=this._memoryService.select(this.editor.getModel(),this.editor.getPosition(),e.completionModel.items)),this.widget.value.showSuggestions(e.completionModel,t,e.isFrozen,e.auto)}})),this._toDispose.add(this.model.onDidCancel(e=>{e.retrigger||this.widget.value.hideWidget()})),this._toDispose.add(this.editor.onDidBlurEditorWidget(()=>{this.model.cancel(),this.model.clear()}));let l=W.b.AcceptSuggestionsOnEnter.bindTo(n),u=()=>{var e=this.editor.getOption(1);l.set("on"===e||"smart"===e)};this._toDispose.add(this.editor.onDidChangeConfiguration(()=>u())),u()}static get(t){return t.getContribution(e.ID)}dispose(){this._alternatives.dispose(),this._toDispose.dispose(),this.widget.dispose(),this.model.dispose(),this._lineSuffix.dispose()}_insertSuggestion(e,t){if(!e||!e.item)return this._alternatives.value.reset(),this.model.cancel(),void this.model.clear();if(this.editor.hasModel()){const n=this.editor.getModel(),o=n.getAlternativeVersionId(),{item:r}=e,l=[],c=new s.b;1&t||this.editor.pushUndoStop();var i=this.getOverwriteInfo(r,Boolean(8&t));if(this._memoryService.memorize(n,this.editor.getPosition(),r),Array.isArray(r.completion.additionalTextEdits)){const e=p.c.capture(this.editor);this.editor.executeEdits("suggestController.additionalTextEdits.sync",r.completion.additionalTextEdits.map(e=>m.a.replace(b.a.lift(e.range),e.text))),e.restoreRelativeVerticalPositionOfCursor(this.editor)}else if(!r.isResolved){const e=new u.a(!0);let i;const o=n.onDidChangeContent(e=>{if(e.isFlush)return c.cancel(),void o.dispose();for(var t of e.changes)t=b.a.getEndPosition(t.range),i&&!v.a.isBefore(t,i)||(i=t)});let s=t;t|=2;let a=!1,d=this.editor.onWillType(()=>{d.dispose(),a=!0,2&s||this.editor.pushUndoStop()});l.push(r.resolve(c.token).then(()=>{if(!r.completion.additionalTextEdits||c.token.isCancellationRequested)return!1;if(i&&r.completion.additionalTextEdits.some(e=>v.a.isBefore(i,b.a.getStartPosition(e.range))))return!1;a&&this.editor.pushUndoStop();const e=p.c.capture(this.editor);return this.editor.executeEdits("suggestController.additionalTextEdits.async",r.completion.additionalTextEdits.map(e=>m.a.replace(b.a.lift(e.range),e.text))),e.restoreRelativeVerticalPositionOfCursor(this.editor),!a&&2&s||this.editor.pushUndoStop(),!0}).then(t=>{this._logService.trace("[suggest] async resolving of edits DONE (ms, applied?)",e.elapsed(),t),o.dispose(),d.dispose()}))}let{insertText:d}=r.completion;4&r.completion.insertTextRules||(d=C.c.escape(d)),w.SnippetController2.get(this.editor).insert(d,{overwriteBefore:i.overwriteBefore,overwriteAfter:i.overwriteAfter,undoStopBefore:!1,undoStopAfter:!1,adjustWhitespace:!(1&r.completion.insertTextRules),clipboardText:e.model.clipboardText,overtypingCapturer:this._overtypingCapturer.value}),2&t||this.editor.pushUndoStop(),r.completion.command?r.completion.command.id===qe.id?this.model.trigger({auto:!0,shy:!1},!0):(l.push(this._commandService.executeCommand(r.completion.command.id,...r.completion.command.arguments?[...r.completion.command.arguments]:[]).catch(a.f)),this.model.cancel()):this.model.cancel(),4&t&&this._alternatives.value.set(e,e=>{for(c.cancel();n.canUndo();){o!==n.getAlternativeVersionId()&&n.undo(),this._insertSuggestion(e,3|(8&t?8:0));break}}),this._alertCompletionItem(r),Promise.all(l).finally(()=>{this.model.clear(),c.dispose()})}}getOverwriteInfo(e,t){Object(g.c)(this.editor.hasModel());let i="replace"===this.editor.getOption(105).insertMode;t&&(i=!i);var n=e.position.column-e.editStart.column;t=(i?e.editReplaceEnd:e.editInsertEnd).column-e.position.column;return{overwriteBefore:n+(this.editor.getPosition().column-e.position.column),overwriteAfter:t+(this._lineSuffix.value?this._lineSuffix.value.delta(this.editor.getPosition()):0)}}_alertCompletionItem(e){Object(o.n)(e.completion.additionalTextEdits)&&(e=j.a("aria.alert.snippet","Accepting '{0}' made {1} additional edits",e.textLabel,e.completion.additionalTextEdits.length),Object(n.a)(e))}triggerSuggest(e){this.editor.hasModel()&&(this.model.trigger({auto:!1,shy:!1},!1,e),this.editor.revealPosition(this.editor.getPosition(),0),this.editor.focus())}triggerSuggestAndAcceptBest(e){if(this.editor.hasModel()){const t=this.editor.getPosition(),i=()=>{t.equals(this.editor.getPosition())&&this._commandService.executeCommand(e.fallback)},n=e=>{if(4&e.completion.insertTextRules||e.completion.additionalTextEdits)return!0;var t=this.editor.getPosition(),i=e.editStart.column,n=t.column;return n-i!==e.completion.insertText.length||this.editor.getModel().getValueInRange({startLineNumber:t.lineNumber,startColumn:i,endLineNumber:t.lineNumber,endColumn:n})!==e.completion.insertText};l.c.once(this.model.onDidTrigger)(e=>{let t=[];l.c.any(this.model.onDidTrigger,this.model.onDidCancel)(()=>{Object(d.f)(t),i()},void 0,t),this.model.onDidSuggest(({completionModel:e})=>{var o,r;Object(d.f)(t),0!==e.items.length?(o=this._memoryService.select(this.editor.getModel(),this.editor.getPosition(),e.items),r=e.items[o],n(r)?(this.editor.pushUndoStop(),this._insertSuggestion({index:o,item:r,model:e},7)):i()):i()},void 0,t)}),this.model.trigger({auto:!1,shy:!0}),this.editor.revealPosition(t,0),this.editor.focus()}}acceptSelectedSuggestion(e,t){var i=this.widget.value.getFocusedItem();let n=0;e&&(n|=4),t&&(n|=8),this._insertSuggestion(i,n)}acceptNextSuggestion(){this._alternatives.value.next()}acceptPrevSuggestion(){this._alternatives.value.prev()}cancelSuggestWidget(){this.model.cancel(),this.model.clear(),this.widget.value.hideWidget()}selectNextSuggestion(){this.widget.value.selectNext()}selectNextPageSuggestion(){this.widget.value.selectNextPage()}selectLastSuggestion(){this.widget.value.selectLast()}selectPrevSuggestion(){this.widget.value.selectPrevious()}selectPrevPageSuggestion(){this.widget.value.selectPreviousPage()}selectFirstSuggestion(){this.widget.value.selectFirst()}toggleSuggestionDetails(){this.widget.value.toggleDetails()}toggleExplainMode(){this.widget.value.toggleExplainMode()}toggleSuggestionFocus(){this.widget.value.toggleDetailsFocus()}resetWidgetSize(){this.widget.value.resetPersistedSize()}forceRenderingAbove(){this.widget.value.forceRenderingAbove()}stopForceRenderingAbove(){this.widget.isInitialized&&this.widget.value.stopForceRenderingAbove()}registerSelector(e){return this._selectors.register(e)}};$e.ID="editor.contrib.suggestController",$e=R([i(1,M),i(2,t.b),i(3,A.b),i(4,D.a),i(5,E.b)],$e);class Ke{constructor(e){this.prioritySelector=e,this._items=new Array}register(e){if(-1!==this._items.indexOf(e))throw new Error("Value is already registered");return this._items.push(e),this._items.sort((e,t)=>this.prioritySelector(t)-this.prioritySelector(e)),{dispose:()=>{var t=this._items.indexOf(e);0<=t&&this._items.splice(t,1)}}}get itemsOrderedByPriorityDesc(){return this._items}}class qe extends f.b{constructor(){super({id:qe.id,label:j.a("suggest.trigger.label","Trigger Suggest"),alias:"Trigger Suggest",precondition:A.a.and(_.a.writable,_.a.hasCompletionItemProvider),kbOpts:{kbExpr:_.a.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[521,2087]},weight:100}})}run(e,t){const i=$e.get(t);i&&i.triggerSuggest()}}qe.id="editor.action.triggerSuggest",Object(f.l)($e.ID,$e),Object(f.j)(qe);const Ge=f.c.bindToContribution($e.get);Object(f.k)(new Ge({id:"acceptSelectedSuggestion",precondition:W.b.Visible,handler(e){e.acceptSelectedSuggestion(!0,!1)}})),O.a.registerKeybindingRule({id:"acceptSelectedSuggestion",when:A.a.and(W.b.Visible,_.a.textInputFocus),primary:2,weight:190}),O.a.registerKeybindingRule({id:"acceptSelectedSuggestion",when:A.a.and(W.b.Visible,_.a.textInputFocus,W.b.AcceptSuggestionsOnEnter,W.b.MakesTextEdit),primary:3,weight:190}),B.d.appendMenuItem(W.g,{command:{id:"acceptSelectedSuggestion",title:j.a("accept.insert","Insert")},group:"left",order:1,when:W.b.HasInsertAndReplaceRange.toNegated()}),B.d.appendMenuItem(W.g,{command:{id:"acceptSelectedSuggestion",title:j.a("accept.insert","Insert")},group:"left",order:1,when:A.a.and(W.b.HasInsertAndReplaceRange,W.b.InsertMode.isEqualTo("insert"))}),B.d.appendMenuItem(W.g,{command:{id:"acceptSelectedSuggestion",title:j.a("accept.replace","替换")},group:"left",order:1,when:A.a.and(W.b.HasInsertAndReplaceRange,W.b.InsertMode.isEqualTo("replace"))}),Object(f.k)(new Ge({id:"acceptAlternativeSelectedSuggestion",precondition:A.a.and(W.b.Visible,_.a.textInputFocus),kbOpts:{weight:190,kbExpr:_.a.textInputFocus,primary:1027,secondary:[1026]},handler(e){e.acceptSelectedSuggestion(!1,!0)},menuOpts:[{menuId:W.g,group:"left",order:2,when:A.a.and(W.b.HasInsertAndReplaceRange,W.b.InsertMode.isEqualTo("insert")),title:j.a("accept.replace","替换")},{menuId:W.g,group:"left",order:2,when:A.a.and(W.b.HasInsertAndReplaceRange,W.b.InsertMode.isEqualTo("replace")),title:j.a("accept.insert","Insert")}]})),t.a.registerCommandAlias("acceptSelectedSuggestionOnEnter","acceptSelectedSuggestion"),Object(f.k)(new Ge({id:"hideSuggestWidget",precondition:W.b.Visible,handler:e=>e.cancelSuggestWidget(),kbOpts:{weight:190,kbExpr:_.a.textInputFocus,primary:9,secondary:[1033]}})),Object(f.k)(new Ge({id:"selectNextSuggestion",precondition:A.a.and(W.b.Visible,W.b.MultipleSuggestions),handler:e=>e.selectNextSuggestion(),kbOpts:{weight:190,kbExpr:_.a.textInputFocus,primary:18,secondary:[2066],mac:{primary:18,secondary:[2066,300]}}})),Object(f.k)(new Ge({id:"selectNextPageSuggestion",precondition:A.a.and(W.b.Visible,W.b.MultipleSuggestions),handler:e=>e.selectNextPageSuggestion(),kbOpts:{weight:190,kbExpr:_.a.textInputFocus,primary:12,secondary:[2060]}})),Object(f.k)(new Ge({id:"selectLastSuggestion",precondition:A.a.and(W.b.Visible,W.b.MultipleSuggestions),handler:e=>e.selectLastSuggestion()})),Object(f.k)(new Ge({id:"selectPrevSuggestion",precondition:A.a.and(W.b.Visible,W.b.MultipleSuggestions),handler:e=>e.selectPrevSuggestion(),kbOpts:{weight:190,kbExpr:_.a.textInputFocus,primary:16,secondary:[2064],mac:{primary:16,secondary:[2064,302]}}})),Object(f.k)(new Ge({id:"selectPrevPageSuggestion",precondition:A.a.and(W.b.Visible,W.b.MultipleSuggestions),handler:e=>e.selectPrevPageSuggestion(),kbOpts:{weight:190,kbExpr:_.a.textInputFocus,primary:11,secondary:[2059]}})),Object(f.k)(new Ge({id:"selectFirstSuggestion",precondition:A.a.and(W.b.Visible,W.b.MultipleSuggestions),handler:e=>e.selectFirstSuggestion()})),Object(f.k)(new Ge({id:"toggleSuggestionDetails",precondition:W.b.Visible,handler:e=>e.toggleSuggestionDetails(),kbOpts:{weight:190,kbExpr:_.a.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[2087]}},menuOpts:[{menuId:W.g,group:"right",order:1,when:A.a.and(W.b.DetailsVisible,W.b.CanResolve),title:j.a("detail.more","show less")},{menuId:W.g,group:"right",order:1,when:A.a.and(W.b.DetailsVisible.toNegated(),W.b.CanResolve),title:j.a("detail.less","show more")}]})),Object(f.k)(new Ge({id:"toggleExplainMode",precondition:W.b.Visible,handler:e=>e.toggleExplainMode(),kbOpts:{weight:100,primary:2133}})),Object(f.k)(new Ge({id:"toggleSuggestionFocus",precondition:W.b.Visible,handler:e=>e.toggleSuggestionFocus(),kbOpts:{weight:190,kbExpr:_.a.textInputFocus,primary:2570,mac:{primary:778}}})),Object(f.k)(new Ge({id:"insertBestCompletion",precondition:A.a.and(_.a.textInputFocus,A.a.equals("config.editor.tabCompletion","on"),F.AtEnd,W.b.Visible.toNegated(),V.OtherSuggestions.toNegated(),w.SnippetController2.InSnippetMode.toNegated()),handler:(e,t)=>{e.triggerSuggestAndAcceptBest(Object(g.k)(t)?Object.assign({fallback:"tab"},t):{fallback:"tab"})},kbOpts:{weight:190,primary:2}})),Object(f.k)(new Ge({id:"insertNextSuggestion",precondition:A.a.and(_.a.textInputFocus,A.a.equals("config.editor.tabCompletion","on"),V.OtherSuggestions,W.b.Visible.toNegated(),w.SnippetController2.InSnippetMode.toNegated()),handler:e=>e.acceptNextSuggestion(),kbOpts:{weight:190,kbExpr:_.a.textInputFocus,primary:2}})),Object(f.k)(new Ge({id:"insertPrevSuggestion",precondition:A.a.and(_.a.textInputFocus,A.a.equals("config.editor.tabCompletion","on"),V.OtherSuggestions,W.b.Visible.toNegated(),w.SnippetController2.InSnippetMode.toNegated()),handler:e=>e.acceptPrevSuggestion(),kbOpts:{weight:190,kbExpr:_.a.textInputFocus,primary:1026}})),Object(f.j)(class extends f.b{constructor(){super({id:"editor.action.resetSuggestSize",label:j.a("suggest.reset.label","Reset Suggest Widget Size"),alias:"Reset Suggest Widget Size",precondition:void 0})}run(e,t){$e.get(t).resetWidgetSize()}})},function(e,t,i){"use strict";i.d(t,"a",(function(){return oe}));var n=i(18),o=i(17),r=i(71),s=i(2),a=i(46),l=i(12),c=i(3),d=i(78),h=i(0),u=i(36),g=i(56),p=i(10),f=i(21),m=i(111),v=i(165),b=i(64),_=i(113),w=i(101),C=i(1),y=i(225),x=i(14),S=i(6),k=i(52),D=i(60),L=(i(470),i(183)),O=i(42),E=i(49),N=i(80),I=i(110),T=i(240),M=i(187),A=i(222),P=i(83),R=i(207),F=i(58),j=i(174),B=i(100),W=i(16),V=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;0<=a;a--)(o=e[a])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s};t=function(e,t){return function(i,n){t(i,n,e)}};let z=class{constructor(e){this._resolverService=e}hasChildren(e){return e instanceof w.c||e instanceof w.a}getChildren(e){if(e instanceof w.c)return e.groups;if(e instanceof w.a)return e.resolve(this._resolverService).then(e=>e.children);throw new Error("bad tree")}};z=V([t(0,I.a)],z);class H{getHeight(){return 23}getTemplateId(e){return(e instanceof w.a?q:Y).id}}let U=class{constructor(e){this._keybindingService=e}getKeyboardNavigationLabel(e){if(e instanceof w.b){var t=null===(t=e.parent.getPreview(e))||void 0===t?void 0:t.preview(e.range);if(t)return t.value}return Object(D.b)(e.uri)}};U=V([t(0,F.a)],U);class ${getId(e){return e instanceof w.b?e.id:e.uri}}let K=class extends s.a{constructor(e,t,i){super(),this._uriLabel=t;const n=document.createElement("div");n.classList.add("reference-file"),this.file=this._register(new A.a(n,{supportHighlights:!0})),this.badge=new T.a(C.q(n,C.a(".count"))),this._register(Object(B.a)(this.badge,i)),e.appendChild(n)}set(e,t){var i=Object(D.d)(e.uri);this.file.setLabel(Object(R.a)(e.uri),this._uriLabel.getUriLabel(i,{relative:!0}),{title:this._uriLabel.getUriLabel(e.uri),matches:t}),e=e.children.length,this.badge.setCount(e),1<e?this.badge.setTitleFormat(Object(h.a)("referencesCount","{0} references",e)):this.badge.setTitleFormat(Object(h.a)("referenceCount","{0} reference",e))}};K=V([t(1,j.a),t(2,W.b)],K);let q=class e{constructor(t){this._instantiationService=t,this.templateId=e.id}renderTemplate(e){return this._instantiationService.createInstance(K,e)}renderElement(e,t,i){i.set(e.element,Object(P.c)(e.filterData))}disposeTemplate(e){e.dispose()}};q.id="FileReferencesRenderer",q=V([t(0,f.a)],q);class G{constructor(e){this.label=new M.a(e,!1)}set(e,t){var i,n=null===(i=e.parent.getPreview(e))||void 0===i?void 0:i.preview(e.range);n&&n.value?(({value:i,highlight:n}=n),t&&!P.a.isDefault(t)?(this.label.element.classList.toggle("referenceMatch",!1),this.label.set(i,Object(P.c)(t))):(this.label.element.classList.toggle("referenceMatch",!0),this.label.set(i,[n]))):this.label.set(`${Object(D.b)(e.uri)}:${e.range.startLineNumber+1}:${e.range.startColumn+1}`)}}class Y{constructor(){this.templateId=Y.id}renderTemplate(e){return new G(e)}renderElement(e,t,i){i.set(e.element,e.filterData)}disposeTemplate(){}}Y.id="OneReferenceRenderer";class Z{getWidgetAriaLabel(){return Object(h.a)("treeAriaLabel","References")}getAriaLabel(e){return e.ariaMessage}}var X=i(4),Q=(V=i(130),t=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;0<=a;a--)(o=e[a])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s},i=function(e,t){return function(i,n){t(i,n,e)}},function(e,t,i,n){return new(i=i||Promise)((function(o,r){function s(e){try{l(n.next(e))}catch(e){r(e)}}function a(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):((t=e.value)instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))});class J{constructor(e,t){this._editor=e,this._model=t,this._decorations=new Map,this._decorationIgnoreSet=new Set,this._callOnDispose=new s.b,this._callOnModelChange=new s.b,this._callOnDispose.add(this._editor.onDidChangeModel(()=>this._onModelChanged())),this._onModelChanged()}dispose(){this._callOnModelChange.dispose(),this._callOnDispose.dispose(),this.removeDecorations()}_onModelChanged(){this._callOnModelChange.clear();const e=this._editor.getModel();if(e)for(var t of this._model.references)if(t.uri.toString()===e.uri.toString())return void this._addDecorations(t.parent)}_addDecorations(e){if(this._editor.hasModel()){this._callOnModelChange.add(this._editor.getModel().onDidChangeDecorations(()=>this._onDecorationChanged()));const i=[],n=[];for(let t=0,o=e.children.length;t<o;t++){let o=e.children[t];this._decorationIgnoreSet.has(o.id)||o.uri.toString()===this._editor.getModel().uri.toString()&&(i.push({range:o.range,options:J.DecorationOptions}),n.push(t))}var t=this._editor.deltaDecorations([],i);for(let i=0;i<t.length;i++)this._decorations.set(t[i],e.children[n[i]])}}_onDecorationChanged(){const e=[],t=this._editor.getModel();if(t){for(var[i,n]of this._decorations){var o=t.getDecorationRange(i);if(o){let t=!1;c.a.equalsRange(o,n.range)||(!c.a.spansMultipleLines(o)&&n.range.endColumn-n.range.startColumn==o.endColumn-o.startColumn||(t=!0),t?(this._decorationIgnoreSet.add(n.id),e.push(i)):n.range=o)}}for(let t=0,i=e.length;t<i;t++)this._decorations.delete(e[t]);this._editor.deltaDecorations(e,[])}}removeDecorations(){this._editor.deltaDecorations([...this._decorations.keys()],[]),this._decorations.clear()}}J.DecorationOptions=O.b.register({description:"reference-decoration",stickiness:1,className:"reference-decoration"});class ee extends v.c{}let te=class extends d.c{constructor(e,t,i,n,o,r,a,l,c,d,h,u){super(e,{showFrame:!1,showArrow:!0,isResizeable:!0,isAccessible:!0,supportOnTitleClick:!0},r),this._defaultTreeKeyboardSupport=t,this.layoutData=i,this._textModelResolverService=o,this._instantiationService=r,this._peekViewService=a,this._uriLabel=l,this._undoRedoService=c,this._keybindingService=d,this._modeService=h,this._languageConfigurationService=u,this._disposeOnNewModel=new s.b,this._callOnDispose=new s.b,this._onDidSelectReference=new S.b,this.onDidSelectReference=this._onDidSelectReference.event,this._dim=new C.b(0,0),this._applyTheme(n.getColorTheme()),this._callOnDispose.add(n.onDidColorThemeChange(this._applyTheme.bind(this))),this._peekViewService.addExclusiveWidget(e,this),this.create()}dispose(){this.setModel(void 0),this._callOnDispose.dispose(),this._disposeOnNewModel.dispose(),Object(s.f)(this._preview),Object(s.f)(this._previewNotAvailableMessage),Object(s.f)(this._tree),Object(s.f)(this._previewModelReference),this._splitView.dispose(),super.dispose()}_applyTheme(e){var t=e.getColor(d.e)||x.a.transparent;this.style({arrowColor:t,frameColor:t,headerBackgroundColor:e.getColor(d.p)||x.a.transparent,primaryHeadingColor:e.getColor(d.q),secondaryHeadingColor:e.getColor(d.r)})}show(e){this.editor.revealRangeInCenterIfOutsideViewport(e,0),super.show(e,this.layoutData.heightInLines||18)}focusOnReferenceTree(){this._tree.domFocus()}focusOnPreviewEditor(){this._preview.focus()}isPreviewEditorFocused(){return this._preview.hasTextFocus()}_onTitleClick(e){this._preview&&this._preview.getModel()&&this._onDidSelectReference.fire({element:this._getFocusedReference(),kind:e.ctrlKey||e.metaKey||e.altKey?"side":"open",source:"title"})}_fillBody(e){this.setCssClass("reference-zone-widget"),this._messageContainer=C.q(e,C.a("div.messages")),C.K(this._messageContainer),this._splitView=new y.b(e,{orientation:1}),this._previewContainer=C.q(e,C.a("div.preview.inline")),this._preview=this._instantiationService.createInstance(L.a,this._previewContainer,{scrollBeyondLastLine:!1,scrollbar:{verticalScrollbarSize:14,horizontal:"auto",useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,alwaysConsumeMouseWheel:!1},overviewRulerLanes:2,fixedOverflowWidgets:!0,minimap:{enabled:!1}},this.editor),C.K(this._previewContainer),this._previewNotAvailableMessage=new O.c(h.a("missingPreviewMessage","no preview available"),O.c.DEFAULT_CREATION_OPTIONS,null,null,this._undoRedoService,this._modeService,this._languageConfigurationService),this._treeContainer=C.q(e,C.a("div.ref-tree.inline")),e={keyboardSupport:this._defaultTreeKeyboardSupport,accessibilityProvider:new Z,keyboardNavigationLabelProvider:this._instantiationService.createInstance(U),identityProvider:new $,openOnSingleClick:!0,selectionNavigation:!0,overrideStyles:{listBackground:d.j}},this._defaultTreeKeyboardSupport&&this._callOnDispose.add(C.o(this._treeContainer,"keydown",e=>{e.equals(9)&&(this._keybindingService.dispatchEvent(e,e.target),e.stopPropagation())},!0)),this._tree=this._instantiationService.createInstance(ee,"ReferencesWidget",this._treeContainer,new H,[this._instantiationService.createInstance(q),this._instantiationService.createInstance(Y)],this._instantiationService.createInstance(z),e),this._splitView.addView({onDidChange:S.c.None,element:this._previewContainer,minimumSize:200,maximumSize:Number.MAX_VALUE,layout:e=>{this._preview.layout({height:this._dim.height,width:e})}},y.a.Distribute),this._splitView.addView({onDidChange:S.c.None,element:this._treeContainer,minimumSize:100,maximumSize:Number.MAX_VALUE,layout:e=>{this._treeContainer.style.height=this._dim.height+"px",this._treeContainer.style.width=e+"px",this._tree.layout(this._dim.height,e)}},y.a.Distribute),this._disposables.add(this._splitView.onDidSashChange(()=>{this._dim.width&&(this.layoutData.ratio=this._splitView.getViewSize(0)/this._dim.width)},void 0));let t=(e,t)=>{e instanceof w.b&&("show"===t&&this._revealReference(e,!1),this._onDidSelectReference.fire({element:e,kind:t,source:"tree"}))};this._tree.onDidOpen(e=>{e.sideBySide?t(e.element,"side"):e.editorOptions.pinned?t(e.element,"goto"):t(e.element,"show")}),C.K(this._treeContainer)}_onWidth(e){this._dim&&this._doLayoutBody(this._dim.height,e)}_doLayoutBody(e,t){super._doLayoutBody(e,t),this._dim=new C.b(t,e),this.layoutData.heightInLines=(this._viewZone||this.layoutData).heightInLines,this._splitView.layout(t),this._splitView.resizeView(0,t*this.layoutData.ratio)}setSelection(e){return this._revealReference(e,!0).then(()=>{this._model&&(this._tree.setSelection([e]),this._tree.setFocus([e]))})}setModel(e){return this._disposeOnNewModel.clear(),this._model=e,this._model?this._onNewModel():Promise.resolve()}_onNewModel(){return this._model?this._model.isEmpty?(this.setTitle(""),this._messageContainer.innerText=h.a("noResults","无结果"),C.W(this._messageContainer),Promise.resolve(void 0)):(C.K(this._messageContainer),this._decorationsManager=new J(this._preview,this._model),this._disposeOnNewModel.add(this._decorationsManager),this._disposeOnNewModel.add(this._model.onDidChangeReferenceRange(e=>this._tree.rerender(e))),this._disposeOnNewModel.add(this._preview.onMouseDown(e=>{var{event:t,target:i}=e;2!==t.detail||(e=this._getFocusedReference())&&this._onDidSelectReference.fire({element:{uri:e.uri,range:i.range},kind:t.ctrlKey||t.metaKey||t.altKey?"side":"open",source:"editor"})})),this.container.classList.add("results-loaded"),C.W(this._treeContainer),C.W(this._previewContainer),this._splitView.layout(this._dim.width),this.focusOnReferenceTree(),this._tree.setInput(1===this._model.groups.length?this._model.groups[0]:this._model)):Promise.resolve(void 0)}_getFocusedReference(){var[e]=this._tree.getFocus();return e instanceof w.b?e:e instanceof w.a&&0<e.children.length?e.children[0]:void 0}revealReference(e){return Q(this,void 0,void 0,(function*(){yield this._revealReference(e,!1),this._onDidSelectReference.fire({element:e,kind:"goto",source:"tree"})}))}_revealReference(e,t){return Q(this,void 0,void 0,(function*(){if(this._revealedReference!==e){(this._revealedReference=e).uri.scheme!==k.c.inMemory?this.setTitle(Object(D.c)(e.uri),this._uriLabel.getUriLabel(Object(D.d)(e.uri))):this.setTitle(h.a("peekView.alternateTitle","References"));var i,n,o=this._textModelResolverService.createModelReference(e.uri);this._tree.getInput()===e.parent||(t&&this._tree.reveal(e.parent),yield this._tree.expand(e.parent)),this._tree.reveal(e);const r=yield o;this._model?(Object(s.f)(this._previewModelReference),(i=r.object)?(n=this._preview.getModel()===i.textEditorModel?0:1,o=c.a.lift(e.range).collapseToStart(),this._previewModelReference=r,this._preview.setModel(i.textEditorModel),this._preview.setSelection(o),this._preview.revealRangeInCenter(o,n)):(this._preview.setModel(this._previewNotAvailableMessage),r.dispose())):r.dispose()}}))}};te=t([i(3,W.b),i(4,I.a),i(5,f.a),i(6,d.a),i(7,j.a),i(8,V.a),i(9,F.a),i(10,N.a),i(11,E.a)],te),Object(W.f)((e,t)=>{var i=e.getColor(d.m);i&&t.addRule(`.monaco-editor .reference-zone-widget .ref-tree .referenceMatch .highlight { background-color: ${i}; }`),(i=e.getColor(d.h))&&t.addRule(`.monaco-editor .reference-zone-widget .preview .reference-decoration { background-color: ${i}; }`),(i=e.getColor(d.i))&&t.addRule(`.monaco-editor .reference-zone-widget .preview .reference-decoration { border: 2px solid ${i}; box-sizing: border-box; }`),(i=e.getColor(X.b))&&t.addRule(`.monaco-editor .reference-zone-widget .ref-tree .referenceMatch .highlight { border: 1px dotted ${i}; box-sizing: border-box; }`),(i=e.getColor(d.j))&&t.addRule(`.monaco-editor .reference-zone-widget .ref-tree { background-color: ${i}; }`),(i=e.getColor(d.l))&&t.addRule(`.monaco-editor .reference-zone-widget .ref-tree { color: ${i}; }`),(i=e.getColor(d.k))&&t.addRule(`.monaco-editor .reference-zone-widget .ref-tree .reference-file { color: ${i}; }`),(i=e.getColor(d.n))&&t.addRule(`.monaco-editor .reference-zone-widget .ref-tree .monaco-list:focus .monaco-list-rows > .monaco-list-row.selected:not(.highlighted) { background-color: ${i}; }`),(i=e.getColor(d.o))&&t.addRule(`.monaco-editor .reference-zone-widget .ref-tree .monaco-list:focus .monaco-list-rows > .monaco-list-row.selected:not(.highlighted) { color: ${i} !important; }`),(i=e.getColor(d.f))&&t.addRule(`.monaco-editor .reference-zone-widget .preview .monaco-editor .monaco-editor-background,.monaco-editor .reference-zone-widget .preview .monaco-editor .inputarea.ime-input {\tbackground-color: ${i};}`),(e=e.getColor(d.g))&&t.addRule(`.monaco-editor .reference-zone-widget .preview .monaco-editor .margin {\tbackground-color: ${e};}`)});E=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;0<=a;a--)(o=e[a])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s},W=function(e,t){return function(i,n){t(i,n,e)}};var ie=function(e,t,i,n){return new(i=i||Promise)((function(o,r){function s(e){try{l(n.next(e))}catch(e){r(e)}}function a(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):((t=e.value)instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};const ne=new p.c("referenceSearchVisible",!1,h.a("referenceSearchVisible","Whether reference peek is visible, like 'Peek References' or 'Peek Definition'"));let oe=class e{constructor(e,t,i,n,o,r,a,l){this._defaultTreeKeyboardSupport=e,this._editor=t,this._editorService=n,this._notificationService=o,this._instantiationService=r,this._storageService=a,this._configurationService=l,this._disposables=new s.b,this._requestIdPool=0,this._ignoreModelChangeEvent=!1,this._referenceSearchVisible=ne.bindTo(i)}static get(t){return t.getContribution(e.ID)}dispose(){var e;this._referenceSearchVisible.reset(),this._disposables.dispose(),null!==(e=this._widget)&&void 0!==e&&e.dispose(),null!==(e=this._model)&&void 0!==e&&e.dispose(),this._widget=void 0,this._model=void 0}toggleWidget(e,t,i){let n;if(this._widget&&(n=this._widget.position),this.closeWidget(),!n||!e.containsPosition(n)){this._peekMode=i,this._referenceSearchVisible.set(!0),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>{this.closeWidget()})),this._disposables.add(this._editor.onDidChangeModel(()=>{this._ignoreModelChangeEvent||this.closeWidget()}));const n="peekViewLayout";var o=class{constructor(){this.ratio=.7,this.heightInLines=18}static fromJSON(e){let t,i;try{var n=JSON.parse(e);t=n.ratio,i=n.heightInLines}catch(e){}return{ratio:t||.7,heightInLines:i||18}}}.fromJSON(this._storageService.get(n,0,"{}"));this._widget=this._instantiationService.createInstance(te,this._editor,this._defaultTreeKeyboardSupport,o),this._widget.setTitle(h.a("labelLoading","正在加载...")),this._widget.show(e),this._disposables.add(this._widget.onDidClose(()=>{t.cancel(),this._widget&&(this._storageService.store(n,JSON.stringify(this._widget.layoutData),0,1),this._widget=void 0),this.closeWidget()})),this._disposables.add(this._widget.onDidSelectReference(e=>{var{element:t,kind:n}=e;if(t)switch(n){case"open":"editor"===e.source&&this._configurationService.getValue("editor.stablePeek")||this.openReference(t,!1,!1);break;case"side":this.openReference(t,!0,!1);break;case"goto":i?this._gotoReference(t):this.openReference(t,!1,!0)}}));const r=++this._requestIdPool;t.then(t=>{var i;return r===this._requestIdPool&&this._widget?(null!==(i=this._model)&&void 0!==i&&i.dispose(),this._model=t,this._widget.setModel(this._model).then(()=>{if(this._widget&&this._model&&this._editor.hasModel()){this._model.isEmpty?this._widget.setMetaTitle(""):this._widget.setMetaTitle(h.a("metaTitle.N","{0} ({1})",this._model.title,this._model.references.length));var t=this._editor.getModel().uri,i=new l.a(e.startLineNumber,e.startColumn);if(i=this._model.nearestReference(t,i))return this._widget.setSelection(i).then(()=>{this._widget&&"editor"===this._editor.getOption(76)&&this._widget.focusOnPreviewEditor()})}})):void t.dispose()},e=>{this._notificationService.error(e)})}}changeFocusBetweenPreviewAndReferences(){this._widget&&(this._widget.isPreviewEditorFocused()?this._widget.focusOnReferenceTree():this._widget.focusOnPreviewEditor())}goToNextOrPreviousReference(e){return ie(this,void 0,void 0,(function*(){var t,i,n;this._editor.hasModel()&&this._model&&this._widget&&(!(i=this._widget.position)||(n=this._model.nearestReference(this._editor.getModel().uri,i))&&(t=this._model.nextOrPreviousReference(n,e),i=this._editor.hasTextFocus(),n=this._widget.isPreviewEditorFocused(),yield this._widget.setSelection(t),yield this._gotoReference(t),i?this._editor.focus():this._widget&&n&&this._widget.focusOnPreviewEditor()))}))}revealReference(e){return ie(this,void 0,void 0,(function*(){this._editor.hasModel()&&this._model&&this._widget&&(yield this._widget.revealReference(e))}))}closeWidget(e=!0){var t;null!==(t=this._widget)&&void 0!==t&&t.dispose(),null!==(t=this._model)&&void 0!==t&&t.dispose(),this._referenceSearchVisible.reset(),this._disposables.clear(),this._widget=void 0,this._model=void 0,e&&this._editor.focus(),this._requestIdPool+=1}_gotoReference(t){this._widget&&this._widget.hide(),this._ignoreModelChangeEvent=!0;const i=c.a.lift(t.range).collapseToStart();return this._editorService.openCodeEditor({resource:t.uri,options:{selection:i}},this._editor).then(t=>{if(this._ignoreModelChangeEvent=!1,t&&this._widget)if(this._editor===t)this._widget.show(i),this._widget.focusOnReferenceTree();else{const o=e.get(t),r=this._model.clone();this.closeWidget(),t.focus(),o.toggleWidget(i,Object(n.h)(e=>Promise.resolve(r)),null!==(t=this._peekMode)&&void 0!==t&&t)}else this.closeWidget()},e=>{this._ignoreModelChangeEvent=!1,Object(o.f)(e)})}openReference(e,t,i){t||this.closeWidget();var{uri:n,range:e}=e;this._editorService.openCodeEditor({resource:n,options:{selection:e,pinned:i}},this._editor,t)}};function re(e,t){!(e=Object(d.d)(e))||(e=oe.get(e))&&t(e)}oe.ID="editor.contrib.referencesController",oe=E([W(2,p.b),W(3,a.a),W(4,b.a),W(5,f.a),W(6,_.a),W(7,g.a)],oe),m.a.registerCommandAndKeybindingRule({id:"togglePeekWidgetFocus",weight:100,primary:Object(r.c)(2089,60),when:p.a.or(ne,d.b.inPeekEditor),handler(e){re(e,e=>{e.changeFocusBetweenPreviewAndReferences()})}}),m.a.registerCommandAndKeybindingRule({id:"goToNextReference",weight:90,primary:62,secondary:[70],when:p.a.or(ne,d.b.inPeekEditor),handler(e){re(e,e=>{e.goToNextOrPreviousReference(!0)})}}),m.a.registerCommandAndKeybindingRule({id:"goToPreviousReference",weight:90,primary:1086,secondary:[1094],when:p.a.or(ne,d.b.inPeekEditor),handler(e){re(e,e=>{e.goToNextOrPreviousReference(!1)})}}),u.a.registerCommandAlias("goToNextReferenceFromEmbeddedEditor","goToNextReference"),u.a.registerCommandAlias("goToPreviousReferenceFromEmbeddedEditor","goToPreviousReference"),u.a.registerCommandAlias("closeReferenceSearchEditor","closeReferenceSearch"),u.a.registerCommand("closeReferenceSearch",e=>re(e,e=>e.closeWidget())),m.a.registerKeybindingRule({id:"closeReferenceSearch",weight:-1,primary:9,secondary:[1033],when:p.a.and(d.b.inPeekEditor,p.a.not("config.editor.stablePeek"))}),m.a.registerKeybindingRule({id:"closeReferenceSearch",weight:250,primary:9,secondary:[1033],when:p.a.and(ne,p.a.not("config.editor.stablePeek"))}),m.a.registerCommandAndKeybindingRule({id:"revealReference",weight:200,primary:3,mac:{primary:3,secondary:[2066]},when:p.a.and(ne,v.e),handler(e){var t;const i=null===(t=e.get(v.a).lastFocusedList)||void 0===t?void 0:t.getFocus();Array.isArray(i)&&i[0]instanceof w.b&&re(e,e=>e.revealReference(i[0]))}}),m.a.registerCommandAndKeybindingRule({id:"openReferenceToSide",weight:100,primary:2051,mac:{primary:259},when:p.a.and(ne,v.e),handler(e){var t;const i=null===(t=e.get(v.a).lastFocusedList)||void 0===t?void 0:t.getFocus();Array.isArray(i)&&i[0]instanceof w.b&&re(e,e=>e.openReference(i[0],!0,!0))}}),u.a.registerCommand("openReference",e=>{var t;const i=null===(t=e.get(v.a).lastFocusedList)||void 0===t?void 0:t.getFocus();Array.isArray(i)&&i[0]instanceof w.b&&re(e,e=>e.openReference(i[0],!1,!0))})},function(e,t,i){"use strict";function n(e){return e.map((function(e){return{label:e,kind:g.languages.CompletionItemKind.Keyword,insertText:e,insertTextRules:g.languages.CompletionItemInsertTextRule.InsertAsSnippet}}))}i.d(t,"a",(function(){return C})),i.d(t,"b",(function(){return y}));t=i(43);var o,r,s,a,l,c=i.n(t),d=(t=i(57),i.n(t)),h=(t=i(13),i.n(t)),u=(t=i(7),i.n(t)),g=i(97),p=(t=i(87),i.n(t)),f=i(39),m=i(30),v=i(20),b=i(51),_=(t=i(24),i(86)),w={},C=function(e,t){w[e]=t},y=function(e){return w[e]||0},x=(o=h()(u.a.mark((function e(t,i,o){var r,s,a,l,f,m,v;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=1,r=t.split(/\r?\n/).reduce((function(e,t){return t=t.match(/name:\s"?(.+?)"?$/)||[],(t=d()(t,2))[0],(t=t[1])&&e.push(t),e}),["DIRECT","REJECT","GLOBAL"]),s=function(){var e=h()(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get("https://raw.githubusercontent.com/Fndroid/clash-vscode/master/snippets/".concat(t,".code-snippets"),{validateStatus:function(e){return!0}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a={},e.next=7,s(o);case 7:if(m=e.sent,f=m.status,l=m.data,200!==f)return e.next=13,s("top");e.next=19;break;case 13:m=e.sent,f=m.status,m=m.data,200===f&&(a=m),e.next=20;break;case 19:a=l;case 20:v=Object.entries(a).map((function(e){var t=(e=((t=d()(e,2))[0],t[1])).prefix;e="string"==typeof(e=e.body)?e:null==e?void 0:e.join("\n");return{label:t,kind:g.languages.CompletionItemKind.Snippet,insertText:"rules"===o&&0<r.length?e.replace(/\:policy/g,"|".concat(r.join(",").replace(/\|/g,"\\\\"),"|")):e,insertTextRules:g.languages.CompletionItemInsertTextRule.InsertAsSnippet,range:i}})),e.t0=o,e.next="rules"===e.t0?24:"proxy-groups"===e.t0?25:26;break;case 24:case 25:return e.abrupt("return",[].concat(c()(v),c()(n(r))));case 26:return e.abrupt("return",v);case 27:return e.abrupt("return",[].concat(c()(v),c()(["proxy-groups","rules"].includes(o)?groupNameItems:[])));case 30:return e.prev=30,e.t1=e.catch(1),e.abrupt("return",[]);case 33:case"end":return e.stop()}}),e,null,[[1,30]])}))),function(e,t,i){return o.apply(this,arguments)});function S(e,t){var i=b.a.state.app.clashPath;return Object(v.join)(i,"providers",e,t+".yaml")}g.languages.registerCompletionItemProvider("yaml",{provideCompletionItems:(r=h()(u.a.mark((function e(t,i){var n,o,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.getValueInRange({startLineNumber:1,startColumn:1,endLineNumber:i.lineNumber,endColumn:i.column}),r=t.getWordUntilPosition(i),o={startLineNumber:i.lineNumber,endLineNumber:i.lineNumber,startColumn:r.startColumn,endColumn:r.endColumn},1===r.startColumn)return e.next=6,x(t.getValue(),o,"top");e.next=8;break;case 6:return e.t0=e.sent,e.abrupt("return",{suggestions:e.t0});case 8:if(0<(r=c()("\n".concat(n).matchAll(/\n(\S+?)\s*:/g))).length)return r=r[r.length-1][1],e.next=13,x(t.getValue(),o,r);e.next=15;break;case 13:return e.t1=e.sent,e.abrupt("return",{suggestions:e.t1});case 15:return e.next=17,x(t.getValue(),o,"top");case 17:return e.t2=e.sent,e.abrupt("return",{suggestions:e.t2});case 19:case"end":return e.stop()}}),e)}))),function(e,t){return r.apply(this,arguments)})}),g.languages.registerCodeLensProvider("yaml",{provideCodeLenses:(s=h()(u.a.mark((function e(t){var i,n,o,r,s,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=[],n=1;case 2:if(!(n<=t.getLineCount())){e.next=17;break}if(s=t.getLineContent(n),o={startLineNumber:n,endLineNumber:n,startColumn:1,endColumn:1},/url:\s(.+?)$/.test(s))return a=_.trim(RegExp.$1,"\" '"),e.next=9,Object(f.d)(a);e.next=14;break;case 9:r=e.sent,s=S("proxy",r),a=S("rule",r),(a=Object(m.existsSync)(s)?s:Object(m.existsSync)(a)?a:"")?i.push({range:o,id:n,command:{id:"openFile",title:"显示实际文件",arguments:[a]}}):i.push({range:o,id:n,command:{id:"copyURLMD5",title:"复制 URL MD5",arguments:[r]}});case 14:n++,e.next=2;break;case 17:return e.abrupt("return",{lenses:i,dispose:function(){}});case 18:case"end":return e.stop()}}),e)}))),function(e){return s.apply(this,arguments)})}),g.editor.registerCommand("openFile",(a=h()(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i(24).shell.showItemInFolder(n);case 1:case"end":return e.stop()}}),e)}))),function(e,t){return a.apply(this,arguments)})),g.editor.registerCommand("copyURLMD5",(l=h()(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i(24).clipboard.writeText("".concat(n,".yaml")),Object(f.i)({title:"MD5 Copied",message:"MD5: ".concat(n)});case 2:case"end":return e.stop()}}),e)}))),function(e,t){return l.apply(this,arguments)}))},function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var n=i(23);t=i(485),t=i(488);function o(e){let t=e.definition;for(;t instanceof n.b;)t=t.definition;return`.codicon-${e.id}:before { content: '${t.fontCharacter}'; }`}},function(e,t,i){"use strict";var n=i(97);i.o(n,"languages")&&i.d(t,"languages",(function(){return n.languages}))},function(e,t){e.exports=require("net")},function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));let n=!1,o=null;class r{static getSameOriginWindowChain(){if(!o){o=[];let t=window;for(var e;(e=function(e){if(!e.parent||e.parent===e)return null;try{var t=e.location,i=e.parent.location;if("null"!==t.origin&&"null"!==i.origin&&t.origin!==i.origin)return n=!0,null}catch(e){return n=!0,null}return e.parent}(t))?o.push({window:t,iframeElement:t.frameElement||null}):o.push({window:t,iframeElement:null}),t=e,t;);}return o.slice(0)}static hasDifferentOriginAncestor(){return o||this.getSameOriginWindowChain(),n}static getPositionOfChildWindowRelativeToAncestorWindow(e,t){if(!t||e===t)return{top:0,left:0};let i=0,n=0;for(const e of this.getSameOriginWindowChain()){if(i+=e.window.scrollY,n+=e.window.scrollX,e.window===t)break;if(!e.iframeElement)break;var o=e.iframeElement.getBoundingClientRect();i+=o.top,n+=o.left}return{top:i,left:n}}}},function(e,t,i){"use strict";i.d(t,"a",(function(){return s})),i.d(t,"b",(function(){return a}));var n=i(82),o=i(147);function r(e){return e.replace(/\n/g,"\\n").replace(/\r/g,"\\r")}class s{constructor(e,t,i,n){this.oldPosition=e,this.oldText=t,this.newPosition=i,this.newText=n}get oldLength(){return this.oldText.length}get oldEnd(){return this.oldPosition+this.oldText.length}get newLength(){return this.newText.length}get newEnd(){return this.newPosition+this.newText.length}toString(){return 0===this.oldText.length?`(insert@${this.oldPosition} "${r(this.newText)}")`:0===this.newText.length?`(delete@${this.oldPosition} "${r(this.oldText)}")`:`(replace@${this.oldPosition} "${r(this.oldText)}" with "${r(this.newText)}")`}static _writeStringSize(e){return 4+2*e.length}static _writeString(e,t,i){var o=t.length;n.f(e,o,i),i+=4;for(let r=0;r<o;r++)n.e(e,t.charCodeAt(r),i),i+=2;return i}static _readString(e,t){var i=n.c(e,t);return t+=4,Object(o.b)(e,t,i)}writeSize(){return 8+s._writeStringSize(this.oldText)+s._writeStringSize(this.newText)}write(e,t){return n.f(e,this.oldPosition,t),n.f(e,this.newPosition,t+=4),t+=4,t=s._writeString(e,this.oldText,t),s._writeString(e,this.newText,t)}static read(e,t,i){var o=n.c(e,t),r=n.c(e,t+=4);t+=4;var a=s._readString(e,t);return t+=s._writeStringSize(a),e=s._readString(e,t),t+=s._writeStringSize(e),i.push(new s(o,a,r,e)),t}}function a(e,t){if(null===e||0===e.length)return t;return new l(e,t).compress()}class l{constructor(e,t){this._prevEdits=e,this._currEdits=t,this._result=[],this._resultLen=0,this._prevLen=this._prevEdits.length,this._prevDeltaOffset=0,this._currLen=this._currEdits.length,this._currDeltaOffset=0}compress(){let e=0,t=0,i=this._getPrev(e),n=this._getCurr(t);for(;e<this._prevLen||t<this._currLen;)if(null!==i)if(null!==n)if(n.oldEnd<=i.newPosition)this._acceptCurr(n),n=this._getCurr(++t);else if(i.newEnd<=n.oldPosition)this._acceptPrev(i),i=this._getPrev(++e);else if(n.oldPosition<i.newPosition){var[o,r]=l._splitCurr(n,i.newPosition-n.oldPosition);this._acceptCurr(o),n=r}else if(i.newPosition<n.oldPosition){var[o,r]=l._splitPrev(i,n.oldPosition-i.newPosition);this._acceptPrev(o),i=r}else{let o,r;var a,c;n=n.oldEnd===i.newEnd?(o=i,r=n,i=this._getPrev(++e),this._getCurr(++t)):n.oldEnd<i.newEnd?([a,c]=l._splitPrev(i,n.oldLength),o=a,r=n,i=c,this._getCurr(++t)):([a,c]=l._splitCurr(n,i.newLength),o=i,r=a,i=this._getPrev(++e),c),this._result[this._resultLen++]=new s(o.oldPosition,o.oldText,r.newPosition,r.newText),this._prevDeltaOffset+=o.newLength-o.oldLength,this._currDeltaOffset+=r.newLength-r.oldLength}else this._acceptPrev(i),i=this._getPrev(++e);else this._acceptCurr(n),n=this._getCurr(++t);var d=l._merge(this._result);return l._removeNoOps(d)}_acceptCurr(e){this._result[this._resultLen++]=l._rebaseCurr(this._prevDeltaOffset,e),this._currDeltaOffset+=e.newLength-e.oldLength}_getCurr(e){return e<this._currLen?this._currEdits[e]:null}_acceptPrev(e){this._result[this._resultLen++]=l._rebasePrev(this._currDeltaOffset,e),this._prevDeltaOffset+=e.newLength-e.oldLength}_getPrev(e){return e<this._prevLen?this._prevEdits[e]:null}static _rebaseCurr(e,t){return new s(t.oldPosition-e,t.oldText,t.newPosition,t.newText)}static _rebasePrev(e,t){return new s(t.oldPosition,t.oldText,t.newPosition+e,t.newText)}static _splitPrev(e,t){var i=e.newText.substr(0,t),n=e.newText.substr(t);return[new s(e.oldPosition,e.oldText,e.newPosition,i),new s(e.oldEnd,"",e.newPosition+t,n)]}static _splitCurr(e,t){var i=e.oldText.substr(0,t),n=e.oldText.substr(t);return[new s(e.oldPosition,i,e.newPosition,e.newText),new s(e.oldPosition+t,n,e.newEnd,"")]}static _merge(e){if(0===e.length)return e;let t=[],i=0,n=e[0];for(let r=1;r<e.length;r++){var o=e[r];n=n.oldEnd===o.oldPosition?new s(n.oldPosition,n.oldText+o.oldText,n.newPosition,n.newText+o.newText):(t[i++]=n,o)}return t[i++]=n,t}static _removeNoOps(e){if(0===e.length)return e;let t=[],i=0;for(let o=0;o<e.length;o++){var n=e[o];n.oldText!==n.newText&&(t[i++]=n)}return t}}},function(e,t,i){"use strict";i.d(t,"b",(function(){return c})),i.d(t,"a",(function(){return d}));var n=i(38),o=i(17),r=i(35),s=i(3),a=i(11),l=i(70);function c(e,t){const i=[];var n=a.c.ordered(e).reverse().map(n=>Promise.resolve(n.provideDocumentColors(e,t)).then(e=>{if(Array.isArray(e))for(var t of e)i.push({colorInfo:t,provider:n})}));return Promise.all(n).then(()=>i)}function d(e,t,i,n){return Promise.resolve(i.provideColorPresentations(e,t,n))}(i=i(36)).a.registerCommand("_executeDocumentColorProvider",(function(e,...t){var[t]=t;if(!(t instanceof r.a))throw Object(o.c)();const i=e.get(l.a).getModel(t);if(!i)throw Object(o.c)();const s=[];return t=a.c.ordered(i).reverse().map(e=>Promise.resolve(e.provideDocumentColors(i,n.a.None)).then(e=>{if(Array.isArray(e))for(var t of e)s.push({range:t.range,color:[t.color.red,t.color.green,t.color.blue,t.color.alpha]})})),Promise.all(t).then(()=>s)})),i.a.registerCommand("_executeColorPresentationProvider",(function(e,...t){var[i,c]=t,{uri:d,range:h}=c;if(!(d instanceof r.a&&Array.isArray(i)&&4===i.length&&s.a.isIRange(h)))throw Object(o.c)();var[u,t,c,i]=i;const g=e.get(l.a).getModel(d);if(!g)throw Object(o.c)();const p={range:h,color:{red:u,green:t,blue:c,alpha:i}},f=[];return i=a.c.ordered(g).reverse().map(e=>Promise.resolve(e.provideColorPresentations(g,p,n.a.None)).then(e=>{Array.isArray(e)&&f.push(...e)})),Promise.all(i).then(()=>f)}))},function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var n=i(26);class o{static whitespaceVisibleColumn(e,t,i){var o=e.length;let r=0,s=-1,a=-1;for(let l=0;l<o;l++){if(l===t)return[s,a,r];switch(r%i==0&&(s=l,a=r),e.charCodeAt(l)){case 32:r+=1;break;case 9:r=n.a.nextRenderTabStop(r,i);break;default:return[-1,-1,-1]}}return t===o?[s,a,r]:[-1,-1,-1]}static atomicPosition(e,t,i,r){var s=e.length,[a,l,c]=o.whitespaceVisibleColumn(e,t,i);if(-1===c)return-1;let d;switch(r){case 0:d=!0;break;case 1:d=!1;break;case 2:if(c%i==0)return t;d=c%i<=i/2}if(d){if(-1===a)return-1;let t=l;for(let o=a;o<s;++o){if(t===l+i)return a;switch(e.charCodeAt(o)){case 32:t+=1;break;case 9:t=n.a.nextRenderTabStop(t,i);break;default:return-1}}return t===l+i?a:-1}var h=n.a.nextRenderTabStop(c,i);let u=c;for(let o=t;o<s;o++){if(u===h)return o;switch(e.charCodeAt(o)){case 32:u+=1;break;case 9:u=n.a.nextRenderTabStop(u,i);break;default:return-1}}return u===h?s:-1}}},function(e,t,i){"use strict";i.d(t,"b",(function(){return a})),i.d(t,"a",(function(){return l}));var n=i(9),o=i(118),r=i(107);const s={getInitialState:()=>r.b,tokenize2:(e,t,i,n)=>Object(r.d)(0,e,i,n)};function a(e,t,i=s){return function(e,t,i){let r='<div class="monaco-tokenized-source">';var s=n.Q(e);let a=i.getInitialState();for(let e=0,h=s.length;e<h;e++){const h=s[e];0<e&&(r+="<br/>");var l=i.tokenize2(h,!0,a,0);o.a.convertToEndOffset(l.tokens,h.length);const u=new o.a(l.tokens,h,t).inflate();let g=0;for(let e=0,t=u.getCount();e<t;e++){var c=u.getClassName(e),d=u.getEndOffset(e);r+=`<span class="${c}">${n.s(h.substring(g,d))}</span>`,g=d}a=l.endState}return r+="</div>",r}(e,t,i||s)}function l(e,t,i,n,o,r,s){let a="<div>",l=n,c=0,d=!0;for(let g=0,p=t.getCount();g<p;g++){var h=t.getEndOffset(g);if(!(h<=n)){let n="";for(;l<h&&l<o;l++){var u=e.charCodeAt(l);switch(u){case 9:let e=r-(l+c)%r;for(c+=e-1;0<e;)d=s&&d?(n+="&#160;",!1):(n+=" ",!0),e--;break;case 60:n+="&lt;",d=!1;break;case 62:n+="&gt;",d=!1;break;case 38:n+="&amp;",d=!1;break;case 0:n+="&#00;",d=!1;break;case 65279:case 8232:case 8233:case 133:n+="�",d=!1;break;case 13:n+="&#8203",d=!1;break;case 32:d=s&&d?(n+="&#160;",!1):(n+=" ",!0);break;default:n+=String.fromCharCode(u),d=!1}}if(a+=`<span style="${t.getInlineStyle(g,i)}">${n}</span>`,o<h||l>=o)break}}return a+="</div>",a}},function(e,t,i){"use strict";i.d(t,"a",(function(){return l}));var n=i(1),o=i(14),r=i(55),s=i(9);t=i(472);const a={badgeBackground:o.a.fromHex("#4D4D4D"),badgeForeground:o.a.fromHex("#FFFFFF")};class l{constructor(e,t){this.count=0,this.options=t||Object.create(null),Object(r.f)(this.options,a,!1),this.badgeBackground=this.options.badgeBackground,this.badgeForeground=this.options.badgeForeground,this.badgeBorder=this.options.badgeBorder,this.element=Object(n.q)(e,Object(n.a)(".monaco-count-badge")),this.countFormat=this.options.countFormat||"{0}",this.titleFormat=this.options.titleFormat||"",this.setCount(this.options.count||0)}setCount(e){this.count=e,this.render()}setTitleFormat(e){this.titleFormat=e,this.render()}render(){this.element.textContent=Object(s.v)(this.countFormat,this.count),this.element.title=Object(s.v)(this.titleFormat,this.count),this.applyStyles()}style(e){this.badgeBackground=e.badgeBackground,this.badgeForeground=e.badgeForeground,this.badgeBorder=e.badgeBorder,this.applyStyles()}applyStyles(){var e,t,i;this.element&&(e=this.badgeBackground?this.badgeBackground.toString():"",t=this.badgeForeground?this.badgeForeground.toString():"",i=this.badgeBorder?this.badgeBorder.toString():"",this.element.style.backgroundColor=e,this.element.style.color=t,this.element.style.borderWidth=i?"1px":"",this.element.style.borderStyle=i?"solid":"",this.element.style.borderColor=i)}}},function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var n=i(82),o=i(35);function r(e){return function e(t,i=0){if(!t||200<i)return t;if("object"==typeof t){switch(t.$mid){case 1:return o.a.revive(t);case 2:return new RegExp(t.source,t.flags)}if(t instanceof n.a||t instanceof Uint8Array)return t;if(Array.isArray(t))for(let n=0;n<t.length;++n)t[n]=e(t[n],i+1);else for(const n in t)Object.hasOwnProperty.call(t,n)&&(t[n]=e(t[n],i+1))}return t}(JSON.parse(e))}},function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var n=i(75),o=i(3);class r{static _handleEolEdits(e,t){let i=void 0,n=[];for(var o of t)"number"==typeof o.eol&&(i=o.eol),o.range&&"string"==typeof o.text&&n.push(o);return"number"==typeof i&&e.hasModel()&&e.getModel().pushEOL(i),n}static _isFullModelReplaceEdit(e,t){if(!e.hasModel())return!1;const i=e.getModel();t=i.validateRange(t.range);return i.getFullModelRange().equalsRange(t)}static execute(e,t,i){i&&e.pushUndoStop();const s=r._handleEolEdits(e,t);1===s.length&&r._isFullModelReplaceEdit(e,s[0])?e.executeEdits("formatEditsCommand",s.map(e=>n.a.replace(o.a.lift(e.range),e.text))):e.executeEdits("formatEditsCommand",s.map(e=>n.a.replaceMove(o.a.lift(e.range),e.text))),i&&e.pushUndoStop()}}},function(e,t,i){"use strict";i.d(t,"a",(function(){return I})),i.d(t,"b",(function(){return T})),i.d(t,"c",(function(){return M}));var n=i(6),o=i(2),r=i(15),s=i(17),a=i(34),l=i(42),c=i(11),d=i(158),h=i(80),u=i(185),g=i(56),p=i(18),f=i(38),m=i(16),v=i(105),b=i(130),_=i(169),w=i(188),C=i(52),y=i(244),x=i(202),S=i(55),k=i(49);t=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;0<=a;a--)(o=e[a])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s},i=function(e,t){return function(i,n){t(i,n,e)}};function D(e){return e.toString()}function L(e){const t=new _.a,i=e.createSnapshot();for(var n;n=i.read();)t.update(n);return t.digest()}class O{constructor(e,t,i){this._modelEventListeners=new o.b,this.model=e,this._languageSelection=null,this._languageSelectionListener=null,this._modelEventListeners.add(e.onWillDispose(()=>t(e))),this._modelEventListeners.add(e.onDidChangeLanguage(t=>i(e,t)))}_disposeLanguageSelection(){this._languageSelectionListener&&(this._languageSelectionListener.dispose(),this._languageSelectionListener=null)}dispose(){this._modelEventListeners.dispose(),this._disposeLanguageSelection()}setLanguage(e){this._disposeLanguageSelection(),this._languageSelection=e,this._languageSelectionListener=this._languageSelection.onDidChange(()=>this.model.setMode(e.languageId)),this.model.setMode(e.languageId)}}const E=r.d||r.f?1:2;class N{constructor(e,t,i,n,o,r,s,a){this.uri=e,this.initialUndoRedoSnapshot=t,this.time=i,this.sharesUndoRedoStack=n,this.heapSize=o,this.sha1=r,this.versionId=s,this.alternativeVersionId=a}}let I=class e extends o.a{constructor(e,t,i,o,r,s,a){super(),this._configurationService=e,this._resourcePropertiesService=t,this._themeService=i,this._logService=o,this._undoRedoService=r,this._modeService=s,this._languageConfigurationService=a,this._onModelAdded=this._register(new n.b),this.onModelAdded=this._onModelAdded.event,this._onModelRemoved=this._register(new n.b),this.onModelRemoved=this._onModelRemoved.event,this._onModelModeChanged=this._register(new n.b),this.onModelModeChanged=this._onModelModeChanged.event,this._modelCreationOptionsByLanguageAndResource=Object.create(null),this._models={},this._disposedModels=new Map,this._disposedModelsHeapSize=0,this._semanticStyling=this._register(new P(this._themeService,this._modeService,this._logService)),this._register(this._configurationService.onDidChangeConfiguration(()=>this._updateModelOptions())),this._updateModelOptions(),this._register(new A(this,this._themeService,this._configurationService,this._semanticStyling))}static _readModelOptions(e,t){var i;let n=a.d.tabSize;e.editor&&void 0!==e.editor.tabSize&&(i=parseInt(e.editor.tabSize,10),isNaN(i)||(n=i),n<1&&(n=1));let o=n;e.editor&&void 0!==e.editor.indentSize&&"tabSize"!==e.editor.indentSize&&(l=parseInt(e.editor.indentSize,10),isNaN(l)||(o=l),o<1&&(o=1));let r=a.d.insertSpaces;e.editor&&void 0!==e.editor.insertSpaces&&(r="false"!==e.editor.insertSpaces&&Boolean(e.editor.insertSpaces));let s=E;var l=e.eol;"\r\n"===l?s=2:"\n"===l&&(s=1);let c=a.d.trimAutoWhitespace;e.editor&&void 0!==e.editor.trimAutoWhitespace&&(c="false"!==e.editor.trimAutoWhitespace&&Boolean(e.editor.trimAutoWhitespace));let d=a.d.detectIndentation;e.editor&&void 0!==e.editor.detectIndentation&&(d="false"!==e.editor.detectIndentation&&Boolean(e.editor.detectIndentation));let h=a.d.largeFileOptimizations;e.editor&&void 0!==e.editor.largeFileOptimizations&&(h="false"!==e.editor.largeFileOptimizations&&Boolean(e.editor.largeFileOptimizations));let u=a.d.bracketPairColorizationOptions;return null!==(l=e.editor)&&void 0!==l&&l.bracketPairColorization&&"object"==typeof e.editor.bracketPairColorization&&(u={enabled:!!e.editor.bracketPairColorization.enabled}),{isForSimpleWidget:t,tabSize:n,indentSize:o,insertSpaces:r,detectIndentation:d,defaultEOL:s,trimAutoWhitespace:c,largeFileOptimizations:h,bracketPairColorizationOptions:u}}_getEOL(e,t){return e?this._resourcePropertiesService.getEOL(e,t):(t=this._configurationService.getValue("files.eol",{overrideIdentifier:t}))&&"string"==typeof t&&"auto"!==t?t:3===r.a||2===r.a?"\n":"\r\n"}_shouldRestoreUndoStack(){var e=this._configurationService.getValue("files.restoreUndoStack");return"boolean"!=typeof e||e}getCreationOptions(t,i,n){let o=this._modelCreationOptionsByLanguageAndResource[t+i];var r,s;return o||(r=this._configurationService.getValue("editor",{overrideIdentifier:t,resource:i}),s=this._getEOL(i,t),o=e._readModelOptions({editor:r,eol:s},n),this._modelCreationOptionsByLanguageAndResource[t+i]=o),o}_updateModelOptions(){var t=this._modelCreationOptionsByLanguageAndResource;this._modelCreationOptionsByLanguageAndResource=Object.create(null);var i=Object.keys(this._models);for(let s=0,a=i.length;s<a;s++){var n=i[s];const a=this._models[n];var o=a.model.getLanguageId(),r=(n=t[o+(r=a.model.uri)],this.getCreationOptions(o,r,a.model.isForSimpleWidget));e._setModelOptionsForModel(a.model,r,n)}}static _setModelOptionsForModel(e,t,i){i&&i.defaultEOL!==t.defaultEOL&&1===e.getLineCount()&&e.setEOL(1===t.defaultEOL?0:1),i&&i.detectIndentation===t.detectIndentation&&i.insertSpaces===t.insertSpaces&&i.tabSize===t.tabSize&&i.indentSize===t.indentSize&&i.trimAutoWhitespace===t.trimAutoWhitespace&&Object(S.d)(i.bracketPairColorizationOptions,t.bracketPairColorizationOptions)||(t.detectIndentation?(e.detectIndentation(t.insertSpaces,t.tabSize),e.updateOptions({trimAutoWhitespace:t.trimAutoWhitespace,bracketColorizationOptions:t.bracketPairColorizationOptions})):e.updateOptions({insertSpaces:t.insertSpaces,tabSize:t.tabSize,indentSize:t.indentSize,trimAutoWhitespace:t.trimAutoWhitespace,bracketColorizationOptions:t.bracketPairColorizationOptions}))}_insertDisposedModel(e){this._disposedModels.set(D(e.uri),e),this._disposedModelsHeapSize+=e.heapSize}_removeDisposedModel(e){var t=this._disposedModels.get(D(e));return t&&(this._disposedModelsHeapSize-=t.heapSize),this._disposedModels.delete(D(e)),t}_ensureDisposedModelsHeapSize(e){if(this._disposedModelsHeapSize>e){const i=[];for(this._disposedModels.forEach(e=>{e.sharesUndoRedoStack||i.push(e)}),i.sort((e,t)=>e.time-t.time);0<i.length&&this._disposedModelsHeapSize>e;){var t=i.shift();this._removeDisposedModel(t.uri),null!==t.initialUndoRedoSnapshot&&this._undoRedoService.restoreSnapshot(t.initialUndoRedoSnapshot)}}}_createModelData(e,t,i,n){n=this.getCreationOptions(t,i,n);const o=new l.c(e,n,t,i,this._undoRedoService,this._modeService,this._languageConfigurationService);if(i&&this._disposedModels.has(D(i))){var r=this._removeDisposedModel(i),s=(t=this._undoRedoService.getElements(i),L(o)===r.sha1);if(s||r.sharesUndoRedoStack){for(const e of t.past)Object(w.b)(e)&&e.matchesResource(i)&&e.setModel(o);for(const e of t.future)Object(w.b)(e)&&e.matchesResource(i)&&e.setModel(o);this._undoRedoService.setElementsValidFlag(i,!0,e=>Object(w.b)(e)&&e.matchesResource(i)),s&&(o._overwriteVersionId(r.versionId),o._overwriteAlternativeVersionId(r.alternativeVersionId),o._overwriteInitialUndoRedoSnapshot(r.initialUndoRedoSnapshot))}else null!==r.initialUndoRedoSnapshot&&this._undoRedoService.restoreSnapshot(r.initialUndoRedoSnapshot)}if(s=D(o.uri),this._models[s])throw new Error("ModelService: Cannot add model because it already exists!");return r=new O(o,e=>this._onWillDispose(e),(e,t)=>this._onDidChangeLanguage(e,t)),this._models[s]=r}createModel(e,t,i,n=!1){let o;return t?(o=this._createModelData(e,t.languageId,i,n),this.setMode(o.model,t)):o=this._createModelData(e,d.b,i,n),this._onModelAdded.fire(o.model),o.model}setMode(e,t){if(t){const i=this._models[D(e.uri)];i&&i.setLanguage(t)}}getModels(){const e=[];var t=Object.keys(this._models);for(let n=0,o=t.length;n<o;n++){var i=t[n];e.push(this._models[i].model)}return e}getModel(e){return e=D(e),(e=this._models[e])?e.model:null}getSemanticTokensProviderStyling(e){return this._semanticStyling.get(e)}_schemaShouldMaintainUndoRedoElements(e){return e.scheme===C.c.file||e.scheme===C.c.vscodeRemote||e.scheme===C.c.userData||e.scheme===C.c.vscodeNotebookCell||"fake-fs"===e.scheme}_onWillDispose(t){var i=D(t.uri);const n=this._models[i];var o=this._undoRedoService.getUriComparisonKey(t.uri)!==t.uri.toString();let r=!1,s=0;if(o||this._shouldRestoreUndoStack()&&this._schemaShouldMaintainUndoRedoElements(t.uri)){var a=this._undoRedoService.getElements(t.uri);if(0<a.past.length||0<a.future.length){for(const e of a.past)Object(w.b)(e)&&e.matchesResource(t.uri)&&(r=!0,s+=e.heapSize(t.uri),e.setModel(t.uri));for(const e of a.future)Object(w.b)(e)&&e.matchesResource(t.uri)&&(r=!0,s+=e.heapSize(t.uri),e.setModel(t.uri))}}var l=e.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK;r?!o&&s>l?null!==(a=n.model.getInitialUndoRedoSnapshot())&&this._undoRedoService.restoreSnapshot(a):(this._ensureDisposedModelsHeapSize(l-s),this._undoRedoService.setElementsValidFlag(t.uri,!1,e=>Object(w.b)(e)&&e.matchesResource(t.uri)),this._insertDisposedModel(new N(t.uri,n.model.getInitialUndoRedoSnapshot(),Date.now(),o,s,L(t),t.getVersionId(),t.getAlternativeVersionId()))):o||null!==(o=n.model.getInitialUndoRedoSnapshot())&&this._undoRedoService.restoreSnapshot(o),delete this._models[i],n.dispose(),delete this._modelCreationOptionsByLanguageAndResource[t.getLanguageId()+t.uri],this._onModelRemoved.fire(t)}_onDidChangeLanguage(t,i){var n=i.oldLanguage,o=t.getLanguageId();i=this.getCreationOptions(n,t.uri,t.isForSimpleWidget),o=this.getCreationOptions(o,t.uri,t.isForSimpleWidget);e._setModelOptionsForModel(t,o,i),this._onModelModeChanged.fire({model:t,oldModeId:n})}};I.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK=20971520,I=t([i(0,g.a),i(1,u.b),i(2,m.b),i(3,v.b),i(4,b.a),i(5,h.a),i(6,k.a)],I);const T="editor.semanticHighlighting";function M(e,t,i){return"boolean"==typeof(e=null===(e=i.getValue(T,{overrideIdentifier:e.getLanguageId(),resource:e.uri}))||void 0===e?void 0:e.enabled)?e:t.getColorTheme().semanticHighlighting}class A extends o.a{constructor(e,t,i,n){super(),this._watchers=Object.create(null),this._semanticStyling=n;const o=e=>{this._watchers[e.uri.toString()]=new F(e,t,this._semanticStyling)},r=(e,t)=>{t.dispose(),delete this._watchers[e.uri.toString()]},s=()=>{for(var n of e.getModels()){var s=this._watchers[n.uri.toString()];M(n,t,i)?s||o(n):s&&r(n,s)}};this._register(e.onModelAdded(e=>{M(e,t,i)&&o(e)})),this._register(e.onModelRemoved(e=>{var t=this._watchers[e.uri.toString()];t&&r(e,t)})),this._register(i.onDidChangeConfiguration(e=>{e.affectsConfiguration(T)&&s()})),this._register(t.onDidColorThemeChange(s))}}class P extends o.a{constructor(e,t,i){super(),this._themeService=e,this._modeService=t,this._logService=i,this._caches=new WeakMap,this._register(this._themeService.onDidColorThemeChange(()=>{this._caches=new WeakMap}))}get(e){return this._caches.has(e)||this._caches.set(e,new y.a(e.getLegend(),this._themeService,this._modeService,this._logService)),this._caches.get(e)}}class R{constructor(e,t,i){this.provider=e,this.resultId=t,this.data=i}dispose(){this.provider.releaseDocumentSemanticTokens(this.resultId)}}class F extends o.a{constructor(e,t,i){super(),this._isDisposed=!1,this._model=e,this._semanticStyling=i,this._fetchDocumentSemanticTokens=this._register(new p.e(()=>this._fetchDocumentSemanticTokensNow(),F.FETCH_DOCUMENT_SEMANTIC_TOKENS_DELAY)),this._currentDocumentResponse=null,this._currentDocumentRequestCancellationTokenSource=null,this._documentProvidersChangeListeners=[],this._register(this._model.onDidChangeContent(()=>{this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule()})),this._register(this._model.onDidChangeLanguage(()=>{this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule(0)}));const n=()=>{Object(o.f)(this._documentProvidersChangeListeners),this._documentProvidersChangeListeners=[];for(const t of c.l.all(e))"function"==typeof t.onDidChange&&this._documentProvidersChangeListeners.push(t.onDidChange(()=>this._fetchDocumentSemanticTokens.schedule(0)))};n(),this._register(c.l.onDidChange(()=>{n(),this._fetchDocumentSemanticTokens.schedule()})),this._register(t.onDidColorThemeChange(e=>{this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule()})),this._fetchDocumentSemanticTokens.schedule(0)}dispose(){this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._isDisposed=!0,super.dispose()}_fetchDocumentSemanticTokensNow(){if(!this._currentDocumentRequestCancellationTokenSource)if(Object(x.d)(this._model)){var e=new f.b,t=this._currentDocumentResponse?this._currentDocumentResponse.provider:null,i=this._currentDocumentResponse&&this._currentDocumentResponse.resultId||null;const n=Object(x.b)(this._model,t,i,e.token);this._currentDocumentRequestCancellationTokenSource=e;const o=[],r=this._model.onDidChangeContent(e=>{o.push(e)});n.then(e=>{var t,i;this._currentDocumentRequestCancellationTokenSource=null,r.dispose(),e?(({provider:t,tokens:i}=e),e=this._semanticStyling.get(t),this._setDocumentSemanticTokens(t,i||null,e,o)):this._setDocumentSemanticTokens(null,null,null,o)},e=>{e&&(s.e(e)||"string"==typeof e.message&&-1!==e.message.indexOf("busy"))||s.f(e),this._currentDocumentRequestCancellationTokenSource=null,r.dispose(),0<o.length&&(this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule())})}else this._currentDocumentResponse&&this._model.setSemanticTokens(null,!1)}static _copy(e,t,i,n,o){for(let r=0;r<o;r++)i[n+r]=e[t+r]}_setDocumentSemanticTokens(e,t,i,n){var o=this._currentDocumentResponse,r=()=>{0<n.length&&!this._fetchDocumentSemanticTokens.isScheduled()&&this._fetchDocumentSemanticTokens.schedule()};if(this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._isDisposed)e&&t&&e.releaseDocumentSemanticTokens(t.resultId);else if(e&&i){if(!t)return this._model.setSemanticTokens(null,!0),void r();if(Object(x.f)(t)){if(!o)return void this._model.setSemanticTokens(null,!0);if(0===t.edits.length)t={resultId:t.resultId,data:o.data};else{let e=0;for(const i of t.edits)e+=(i.data?i.data.length:0)-i.deleteCount;var s=o.data,a=new Uint32Array(s.length+e);let i=s.length,n=a.length;for(let e=t.edits.length-1;0<=e;e--){var l=t.edits[e],c=i-(l.start+l.deleteCount);0<c&&(F._copy(s,i-c,a,n-c,c),n-=c),l.data&&(F._copy(l.data,0,a,n-l.data.length,l.data.length),n-=l.data.length),i=l.start}0<i&&F._copy(s,0,a,0,i),t={resultId:t.resultId,data:a}}}if(Object(x.e)(t)){this._currentDocumentResponse=new R(e,t.resultId,t.data);var d=Object(y.b)(t,i,this._model.getLanguageId());if(0<n.length)for(const e of n)for(const t of d)for(const i of e.changes)t.applyEdit(i.range,i.text);this._model.setSemanticTokens(d,!0)}else this._model.setSemanticTokens(null,!0);r()}else this._model.setSemanticTokens(null,!1)}}F.FETCH_DOCUMENT_SEMANTIC_TOKENS_DELAY=300},function(e,t,i){"use strict";i.d(t,"a",(function(){return a})),i.d(t,"b",(function(){return l}));var n=i(11),o=i(16),r=i(105),s=i(144);t=i(80),i=function(e,t){return function(i,n){t(i,n,e)}};let a=class{constructor(e,t,i,n){this._legend=e,this._themeService=t,this._modeService=i,this._logService=n,this._hashTable=new d,this._hasWarnedOverlappingTokens=!1}getMetadata(e,t,i){var o=this._modeService.languageIdCodec.encodeLanguageId(i);let s;if(a=this._hashTable.get(e,t,o))s=a.metadata,this._logService.getLevel()===r.c.Trace&&this._logService.trace(`SemanticTokensProviderStyling [CACHED] ${e} / ${t}: foreground ${n.E.getForeground(s)}, fontStyle ${n.E.getFontStyle(s).toString(2)}`);else{let l=this._legend.tokenTypes[e];const c=[];if(l){let e=t;for(let t=0;0<e&&t<this._legend.tokenModifiers.length;t++)1&e&&c.push(this._legend.tokenModifiers[t]),e>>=1;var a;0<e&&this._logService.getLevel()===r.c.Trace&&(this._logService.trace(`SemanticTokensProviderStyling: unknown token modifier index: ${t.toString(2)} for legend: ${JSON.stringify(this._legend.tokenModifiers)}`),c.push("not-in-legend")),void 0===(a=this._themeService.getColorTheme().getTokenStyleMetadata(l,c,i))?s=2147483647:(void(s=0)!==a.italic&&(s|=1|(i=(a.italic?1:0)<<11)),void 0!==a.bold&&(s|=2|(a.bold?2:0)<<11),void 0!==a.underline&&(s|=4|(a.underline?4:0)<<11),a.foreground&&(s|=8|(a=a.foreground<<14)),0===s&&(s=2147483647))}else this._logService.getLevel()===r.c.Trace&&this._logService.trace(`SemanticTokensProviderStyling: unknown token type index: ${e} for legend: ${JSON.stringify(this._legend.tokenTypes)}`),s=2147483647,l="not-in-legend";this._hashTable.add(e,t,o,s),this._logService.getLevel()===r.c.Trace&&this._logService.trace(`SemanticTokensProviderStyling ${e} (${l}) / ${t} (${c.join(" ")}): foreground ${n.E.getForeground(s)}, fontStyle ${n.E.getFontStyle(s).toString(2)}`)}return s}warnOverlappingSemanticTokens(e,t){this._hasWarnedOverlappingTokens||(this._hasWarnedOverlappingTokens=!0,console.warn(`Overlapping semantic tokens detected at lineNumber ${e}, column ${t}`))}};function l(e,t,i){var n=e.data,o=e.data.length/5|0,r=Math.max(Math.ceil(o/1024),400);const a=[];let l=0,c=1,d=0;for(;l<o;){var h=l;let e=Math.min(h+r,o);if(e<o){let t=e;for(;t-1>h&&0===n[5*t];)t--;if(t-1===h){let t=e;for(;t+1<o&&0===n[5*t];)t++;e=t}else e=t}let v=new Uint32Array(4*(e-h)),b=0,_=0,w=0,C=0,y=0;for(;l<e;){var u=n[m=5*l],g=n[1+m],p=c+u|0,f=0===u?d+g|0:g,m=(u=n[2+m],g=n[3+m],n[4+m]);2147483647!==(m=t.getMetadata(g,m,i))&&(0===_&&(_=p),w===p&&y>f&&(t.warnOverlappingSemanticTokens(p,f+1),C<f?v[b-4+2]=f:b-=4),v[b]=p-_,v[b+1]=f,v[b+2]=f+u,v[b+3]=m,b+=4,w=p,C=f,y=f+u),c=p,d=f,l++}b!==v.length&&(v=v.subarray(0,b));const x=new s.a(_,new s.c(v));a.push(x)}return a}a=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;0<=a;a--)(o=e[a])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s}([i(1,o.b),i(2,t.a),i(3,r.b)],a);class c{constructor(e,t,i,n){this.tokenTypeIndex=e,this.tokenModifierSet=t,this.languageId=i,this.metadata=n,this.next=null}}class d{constructor(){this._elementsCount=0,this._currentLengthIndex=0,this._currentLength=d._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<d._SIZES.length?2/3*this._currentLength:0),this._elements=[],d._nullOutEntries(this._elements,this._currentLength)}static _nullOutEntries(e,t){for(let i=0;i<t;i++)e[i]=null}_hash2(e,t){return(e<<5)-e+t|0}_hashFunc(e,t,i){return this._hash2(this._hash2(e,t),i)%this._currentLength}get(e,t,i){var n=this._hashFunc(e,t,i);let o=this._elements[n];for(;o;){if(o.tokenTypeIndex===e&&o.tokenModifierSet===t&&o.languageId===i)return o;o=o.next}return null}add(e,t,i,n){if(this._elementsCount++,0!==this._growCount&&this._elementsCount>=this._growCount){var o=this._elements;this._currentLengthIndex++,this._currentLength=d._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<d._SIZES.length?2/3*this._currentLength:0),this._elements=[],d._nullOutEntries(this._elements,this._currentLength);for(const e of o){let t=e;for(;t;){var r=t.next;t.next=null,this._add(t),t=r}}}this._add(new c(e,t,i,n))}_add(e){var t=this._hashFunc(e.tokenTypeIndex,e.tokenModifierSet,e.languageId);e.next=this._elements[t],this._elements[t]=e}}d._SIZES=[3,7,13,31,61,127,251,509,1021,2039,4093,8191,16381,32749,65521,131071,262139,524287,1048573,2097143]},function(e,t,i){"use strict";i.r(t),i.d(t,"getSelectionSearchString",(function(){return mt})),i.d(t,"CommonFindController",(function(){return vt})),i.d(t,"FindController",(function(){return bt})),i.d(t,"StartFindAction",(function(){return _t})),i.d(t,"StartFindWithSelectionAction",(function(){return wt})),i.d(t,"MatchFindAction",(function(){return Ct})),i.d(t,"NextMatchFindAction",(function(){return yt})),i.d(t,"PreviousMatchFindAction",(function(){return xt})),i.d(t,"SelectionMatchFindAction",(function(){return St})),i.d(t,"NextSelectionMatchFindAction",(function(){return kt})),i.d(t,"PreviousSelectionMatchFindAction",(function(){return Dt})),i.d(t,"StartFindReplaceAction",(function(){return Lt}));var n=i(18),o=i(2),r=i(9),s=i(5),a=i(8),l=i(22),c=i(77),d=i(12),h=i(3),u=i(29),g=i(131),p=i(50),f=i(42),m=i(4),v=i(16);class b{constructor(e){this._editor=e,this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null,this._startPosition=this._editor.getPosition()}dispose(){this._editor.deltaDecorations(this._allDecorations(),[]),this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}reset(){this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}getCount(){return this._decorations.length}getFindScope(){return this._findScopeDecorationIds[0]?this._editor.getModel().getDecorationRange(this._findScopeDecorationIds[0]):null}getFindScopes(){if(this._findScopeDecorationIds.length){var e=this._findScopeDecorationIds.map(e=>this._editor.getModel().getDecorationRange(e)).filter(e=>!!e);if(e.length)return e}return null}getStartPosition(){return this._startPosition}setStartPosition(e){this._startPosition=e,this.setCurrentFindMatch(null)}_getDecorationIndex(e){return 0<=(e=this._decorations.indexOf(e))?e+1:1}getCurrentMatchesPosition(e){for(const i of this._editor.getModel().getDecorationsInRange(e)){var t=i.options;if(t===b._FIND_MATCH_DECORATION||t===b._CURRENT_FIND_MATCH_DECORATION)return this._getDecorationIndex(i.id)}return 0}setCurrentFindMatch(e){let t=null,i=0;if(e)for(let o=0,r=this._decorations.length;o<r;o++){var n=this._editor.getModel().getDecorationRange(this._decorations[o]);if(e.equalsRange(n)){t=this._decorations[o],i=o+1;break}}return null===this._highlightedDecorationId&&null===t||this._editor.changeDecorations(e=>{if(null!==this._highlightedDecorationId&&(e.changeDecorationOptions(this._highlightedDecorationId,b._FIND_MATCH_DECORATION),this._highlightedDecorationId=null),null!==t&&(this._highlightedDecorationId=t,e.changeDecorationOptions(this._highlightedDecorationId,b._CURRENT_FIND_MATCH_DECORATION)),null!==this._rangeHighlightDecorationId&&(e.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),null!==t){let o=this._editor.getModel().getDecorationRange(t);var i,n;o.startLineNumber!==o.endLineNumber&&1===o.endColumn&&(i=o.endLineNumber-1,n=this._editor.getModel().getLineMaxColumn(i),o=new h.a(o.startLineNumber,o.startColumn,i,n)),this._rangeHighlightDecorationId=e.addDecoration(o,b._RANGE_HIGHLIGHT_DECORATION)}}),i}set(e,t){this._editor.changeDecorations(i=>{let n=b._FIND_MATCH_DECORATION,o=[];if(1e3<e.length){n=b._FIND_MATCH_NO_OVERVIEW_DECORATION;var r=this._editor.getModel().getLineCount(),s=this._editor.getLayoutInfo().height,a=Math.max(2,Math.ceil(3/(s/r)));let t=e[0].range.startLineNumber,i=e[0].range.endLineNumber;for(let n=1,r=e.length;n<r;n++){var l=e[n].range;i+a>=l.startLineNumber?l.endLineNumber>i&&(i=l.endLineNumber):(o.push({range:new h.a(t,1,i,1),options:b._FIND_MATCH_ONLY_OVERVIEW_DECORATION}),t=l.startLineNumber,i=l.endLineNumber)}o.push({range:new h.a(t,1,i,1),options:b._FIND_MATCH_ONLY_OVERVIEW_DECORATION})}let c=new Array(e.length);for(let t=0,i=e.length;t<i;t++)c[t]={range:e[t].range,options:n};this._decorations=i.deltaDecorations(this._decorations,c),this._overviewRulerApproximateDecorations=i.deltaDecorations(this._overviewRulerApproximateDecorations,o),this._rangeHighlightDecorationId&&(i.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),this._findScopeDecorationIds.length&&(this._findScopeDecorationIds.forEach(e=>i.removeDecoration(e)),this._findScopeDecorationIds=[]),null!=t&&t.length&&(this._findScopeDecorationIds=t.map(e=>i.addDecoration(e,b._FIND_SCOPE_DECORATION)))})}matchBeforePosition(e){if(0===this._decorations.length)return null;for(let i=this._decorations.length-1;0<=i;i--){var t=this._decorations[i];if((t=this._editor.getModel().getDecorationRange(t))&&!(t.endLineNumber>e.lineNumber)){if(t.endLineNumber<e.lineNumber)return t;if(!(t.endColumn>e.column))return t}}return this._editor.getModel().getDecorationRange(this._decorations[this._decorations.length-1])}matchAfterPosition(e){if(0===this._decorations.length)return null;for(let i=0,n=this._decorations.length;i<n;i++){var t=this._decorations[i];if((t=this._editor.getModel().getDecorationRange(t))&&!(t.startLineNumber<e.lineNumber)){if(t.startLineNumber>e.lineNumber)return t;if(!(t.startColumn<e.column))return t}}return this._editor.getModel().getDecorationRange(this._decorations[0])}_allDecorations(){let e=[];return e=e.concat(this._decorations),e=e.concat(this._overviewRulerApproximateDecorations),this._findScopeDecorationIds.length&&e.push(...this._findScopeDecorationIds),this._rangeHighlightDecorationId&&e.push(this._rangeHighlightDecorationId),e}}b._CURRENT_FIND_MATCH_DECORATION=f.b.register({description:"current-find-match",stickiness:1,zIndex:13,className:"currentFindMatch",showIfCollapsed:!0,overviewRuler:{color:Object(v.g)(m.oc),position:p.g.Center},minimap:{color:Object(v.g)(m.fc),position:p.f.Inline}}),b._FIND_MATCH_DECORATION=f.b.register({description:"find-match",stickiness:1,zIndex:10,className:"findMatch",showIfCollapsed:!0,overviewRuler:{color:Object(v.g)(m.oc),position:p.g.Center},minimap:{color:Object(v.g)(m.fc),position:p.f.Inline}}),b._FIND_MATCH_NO_OVERVIEW_DECORATION=f.b.register({description:"find-match-no-overview",stickiness:1,className:"findMatch",showIfCollapsed:!0}),b._FIND_MATCH_ONLY_OVERVIEW_DECORATION=f.b.register({description:"find-match-only-overview",stickiness:1,overviewRuler:{color:Object(v.g)(m.oc),position:p.g.Center}}),b._RANGE_HIGHLIGHT_DECORATION=f.b.register({description:"find-range-highlight",stickiness:1,className:"rangeHighlight",isWholeLine:!0}),b._FIND_SCOPE_DECORATION=f.b.register({description:"find-scope",className:"findScope",isWholeLine:!0});class _{constructor(e,t,i){this._editorSelection=e,this._ranges=t,this._replaceStrings=i,this._trackedEditorSelectionId=null}getEditOperations(e,t){if(0<this._ranges.length){let e=[];for(let t=0;t<this._ranges.length;t++)e.push({range:this._ranges[t],text:this._replaceStrings[t]});e.sort((e,t)=>h.a.compareRangesUsingStarts(e.range,t.range));let i=[],n=e[0];for(let t=1;t<e.length;t++)n.range.endLineNumber===e[t].range.startLineNumber&&n.range.endColumn===e[t].range.startColumn?(n.range=n.range.plusRange(e[t].range),n.text=n.text+e[t].text):(i.push(n),n=e[t]);i.push(n);for(const e of i)t.addEditOperation(e.range,e.text)}this._trackedEditorSelectionId=t.trackSelection(this._editorSelection)}computeCursorState(e,t){return t.getTrackedSelection(this._trackedEditorSelectionId)}}function w(e,t){if(e&&""!==e[0]){var i=C(e,t,"-"),n=C(e,t,"_");return i&&!n?y(e,t,"-"):!i&&n?y(e,t,"_"):e[0].toUpperCase()===e[0]?t.toUpperCase():e[0].toLowerCase()===e[0]?t.toLowerCase():r.o(e[0][0])&&0<t.length?t[0].toUpperCase()+t.substr(1):e[0][0].toUpperCase()!==e[0][0]&&0<t.length?t[0].toLowerCase()+t.substr(1):t}return t}function C(e,t,i){return-1!==e[0].indexOf(i)&&-1!==t.indexOf(i)&&e[0].split(i).length===t.split(i).length}function y(e,t,i){const n=t.split(i),o=e[0].split(i);let r="";return n.forEach((e,t)=>{r+=w([o[t]],e)+i}),r.slice(0,-1)}class x{constructor(e){this.staticValue=e,this.kind=0}}class S{constructor(e){this.pieces=e,this.kind=1}}class k{constructor(e){e&&0!==e.length?1===e.length&&null!==e[0].staticValue?this._state=new x(e[0].staticValue):this._state=new S(e):this._state=new x("")}static fromStaticValue(e){return new k([D.staticValue(e)])}get hasReplacementPatterns(){return 1===this._state.kind}buildReplaceString(e,t){if(0===this._state.kind)return t?w(e,this._state.staticValue):this._state.staticValue;let i="";for(let t=0,r=this._state.pieces.length;t<r;t++){var n=this._state.pieces[t];if(null===n.staticValue){let t=k._substitute(n.matchIndex,e);if(null!==n.caseOps&&0<n.caseOps.length){let e=[];var o=n.caseOps.length;let i=0;for(let r=0,s=t.length;r<s;r++){if(i>=o){e.push(t.slice(r));break}switch(n.caseOps[i]){case"U":e.push(t[r].toUpperCase());break;case"u":e.push(t[r].toUpperCase()),i++;break;case"L":e.push(t[r].toLowerCase());break;case"l":e.push(t[r].toLowerCase()),i++;break;default:e.push(t[r])}}t=e.join("")}i+=t}else i+=n.staticValue}return i}static _substitute(e,t){if(null===t)return"";if(0===e)return t[0];let i="";for(;0<e;){if(e<t.length)return(t[e]||"")+i;i=String(e%10)+i,e=Math.floor(e/10)}return"$"+i}}class D{constructor(e,t,i){this.staticValue=e,this.matchIndex=t,i&&0!==i.length?this.caseOps=i.slice(0):this.caseOps=null}static staticValue(e){return new D(e,-1,null)}static caseOps(e,t){return new D(null,e,t)}}class L{constructor(e){this._source=e,this._lastCharIndex=0,this._result=[],this._resultLen=0,this._currentStaticPiece=""}emitUnchanged(e){this._emitStatic(this._source.substring(this._lastCharIndex,e)),this._lastCharIndex=e}emitStatic(e,t){this._emitStatic(e),this._lastCharIndex=t}_emitStatic(e){0!==e.length&&(this._currentStaticPiece+=e)}emitMatchIndex(e,t,i){0!==this._currentStaticPiece.length&&(this._result[this._resultLen++]=D.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),this._result[this._resultLen++]=D.caseOps(e,i),this._lastCharIndex=t}finalize(){return this.emitUnchanged(this._source.length),0!==this._currentStaticPiece.length&&(this._result[this._resultLen++]=D.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),new k(this._result)}}var O=i(10);const E=new O.c("findWidgetVisible",!1),N=new O.c("findInputFocussed",!1),I=new O.c("replaceInputFocussed",!1);var T={primary:545,mac:{primary:2593}},M={primary:565,mac:{primary:2613}},A={primary:560,mac:{primary:2608}},P={primary:554,mac:{primary:2602}},R={primary:558,mac:{primary:2606}};const F="actions.find",j="actions.findWithSelection",B="editor.action.nextMatchFindAction",W="editor.action.previousMatchFindAction",V="editor.action.nextSelectionMatchFindAction",z="editor.action.previousSelectionMatchFindAction",H="editor.action.startFindReplaceAction",U="closeFindWidget",$="toggleFindCaseSensitive",K="toggleFindWholeWord",q="toggleFindRegex",G="toggleFindInSelection",Y="togglePreserveCase",Z="editor.action.replaceOne",X="editor.action.replaceAll",Q="editor.action.selectAllMatches",J=19999;class ee{constructor(e,t){this._toDispose=new o.b,this._editor=e,this._state=t,this._isDisposed=!1,this._startSearchingTimer=new n.g,this._decorations=new b(e),this._toDispose.add(this._decorations),this._updateDecorationsScheduler=new n.e(()=>this.research(!1),100),this._toDispose.add(this._updateDecorationsScheduler),this._toDispose.add(this._editor.onDidChangeCursorPosition(e=>{3!==e.reason&&5!==e.reason&&6!==e.reason||this._decorations.setStartPosition(this._editor.getPosition())})),this._ignoreModelContentChanged=!1,this._toDispose.add(this._editor.onDidChangeModelContent(e=>{this._ignoreModelContentChanged||(e.isFlush&&this._decorations.reset(),this._decorations.setStartPosition(this._editor.getPosition()),this._updateDecorationsScheduler.schedule())})),this._toDispose.add(this._state.onFindReplaceStateChange(e=>this._onStateChanged(e))),this.research(!1,this._state.searchScope)}dispose(){this._isDisposed=!0,Object(o.f)(this._startSearchingTimer),this._toDispose.dispose()}_onStateChanged(e){if(!this._isDisposed&&this._editor.hasModel()&&(e.searchString||e.isReplaceRevealed||e.isRegex||e.wholeWord||e.matchCase||e.searchScope)){this._editor.getModel().isTooLargeForSyncing()?(this._startSearchingTimer.cancel(),this._startSearchingTimer.setIfNotSet(()=>{e.searchScope?this.research(e.moveCursor,this._state.searchScope):this.research(e.moveCursor)},240)):e.searchScope?this.research(e.moveCursor,this._state.searchScope):this.research(e.moveCursor)}}static _getSearchRange(e,t){return t||e.getFullModelRange()}research(e,t){let i=null;void 0!==t?null!==t&&(i=Array.isArray(t)?t:[t]):i=this._decorations.getFindScopes(),null!==i&&(i=i.map(e=>{if(e.startLineNumber===e.endLineNumber)return e;{let t=e.endLineNumber;return 1===e.endColumn&&(t-=1),new h.a(e.startLineNumber,1,t,this._editor.getModel().getLineMaxColumn(t))}}));let n=this._findMatches(i,!1,J);this._decorations.set(n,i);const o=this._editor.getSelection();let r=this._decorations.getCurrentMatchesPosition(o);0===r&&0<n.length&&(r=0<(t=Object(l.h)(n.map(e=>e.range),e=>0<=h.a.compareRangesUsingStarts(e,o)))?t-1+1:r),this._state.changeMatchInfo(r,this._decorations.getCount(),void 0),e&&this._editor.getOption(35).cursorMoveOnType&&this._moveToNextMatch(this._decorations.getStartPosition())}_hasMatches(){return 0<this._state.matchesCount}_cannotFind(){if(this._hasMatches())return!1;var e=this._decorations.getFindScope();return e&&this._editor.revealRangeInCenterIfOutsideViewport(e,0),!0}_setCurrentFindMatch(e){var t=this._decorations.setCurrentFindMatch(e);this._state.changeMatchInfo(t,this._decorations.getCount(),e),this._editor.setSelection(e),this._editor.revealRangeInCenterIfOutsideViewport(e,0)}_prevSearchPosition(e){var t=this._state.isRegex&&(0<=this._state.searchString.indexOf("^")||0<=this._state.searchString.indexOf("$"));let{lineNumber:i,column:n}=e,o=this._editor.getModel();return t||1===n?(1===i?i=o.getLineCount():i--,n=o.getLineMaxColumn(i)):n--,new d.a(i,n)}_moveToPrevMatch(e,t=!1){if(this._state.canNavigateBack()){if(this._decorations.getCount()<J){let t=this._decorations.matchBeforePosition(e);return t&&t.isEmpty()&&t.getStartPosition().equals(e)&&(e=this._prevSearchPosition(e),t=this._decorations.matchBeforePosition(e)),void(t&&this._setCurrentFindMatch(t))}if(!this._cannotFind()){var i=this._decorations.getFindScope();let o=ee._getSearchRange(this._editor.getModel(),i);var{lineNumber:n,column:i}=e=(e=o.getEndPosition().isBefore(e)?o.getEndPosition():e).isBefore(o.getStartPosition())?o.getEndPosition():e;let r=this._editor.getModel(),s=new d.a(n,i),a=r.findPreviousMatch(this._state.searchString,s,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(115):null,!1);if(a&&a.range.isEmpty()&&a.range.getStartPosition().equals(s)&&(s=this._prevSearchPosition(s),a=r.findPreviousMatch(this._state.searchString,s,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(115):null,!1)),a)return t||o.containsRange(a.range)?void this._setCurrentFindMatch(a.range):this._moveToPrevMatch(a.range.getStartPosition(),!0)}}else(e=this._decorations.matchAfterPosition(e))&&this._setCurrentFindMatch(e)}moveToPrevMatch(){this._moveToPrevMatch(this._editor.getSelection().getStartPosition())}_nextSearchPosition(e){var t=this._state.isRegex&&(0<=this._state.searchString.indexOf("^")||0<=this._state.searchString.indexOf("$"));let{lineNumber:i,column:n}=e,o=this._editor.getModel();return t||n===o.getLineMaxColumn(i)?(i===o.getLineCount()?i=1:i++,n=1):n++,new d.a(i,n)}_moveToNextMatch(e){if(this._state.canNavigateForward()){if(this._decorations.getCount()<J){let t=this._decorations.matchAfterPosition(e);return t&&t.isEmpty()&&t.getStartPosition().equals(e)&&(e=this._nextSearchPosition(e),t=this._decorations.matchAfterPosition(e)),void(t&&this._setCurrentFindMatch(t))}var t=this._getNextMatch(e,!1,!0);t&&this._setCurrentFindMatch(t.range)}else(e=this._decorations.matchBeforePosition(e))&&this._setCurrentFindMatch(e)}_getNextMatch(e,t,i,n=!1){if(this._cannotFind())return null;var o=this._decorations.getFindScope();let r=ee._getSearchRange(this._editor.getModel(),o);var{lineNumber:o,column:e}=e=(e=r.getEndPosition().isBefore(e)?r.getStartPosition():e).isBefore(r.getStartPosition())?r.getStartPosition():e;let s=this._editor.getModel(),a=new d.a(o,e),l=s.findNextMatch(this._state.searchString,a,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(115):null,t);return i&&l&&l.range.isEmpty()&&l.range.getStartPosition().equals(a)&&(a=this._nextSearchPosition(a),l=s.findNextMatch(this._state.searchString,a,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(115):null,t)),l?n||r.containsRange(l.range)?l:this._getNextMatch(l.range.getEndPosition(),t,i,!0):null}moveToNextMatch(){this._moveToNextMatch(this._editor.getSelection().getEndPosition())}_getReplacePattern(){return this._state.isRegex?function(e){if(!e||0===e.length)return new k(null);let t=[],i=new L(e);for(let r=0,s=e.length;r<s;r++){var n=e.charCodeAt(r);if(92!==n){if(36===n){if(r++,r>=s)break;if(36!==(n=e.charCodeAt(r)))if(48!==n&&38!==n){if(49<=n&&n<=57){let o=n-48;if(r+1<s&&48<=(n=e.charCodeAt(r+1))&&n<=57){r++,o=10*o+(n-48),i.emitUnchanged(r-2),i.emitMatchIndex(o,r+1,t),t.length=0;continue}i.emitUnchanged(r-1),i.emitMatchIndex(o,r+1,t),t.length=0}}else i.emitUnchanged(r-1),i.emitMatchIndex(0,r+1,t),t.length=0;else i.emitUnchanged(r-1),i.emitStatic("$",r+1)}}else{if(r++,r>=s)break;var o=e.charCodeAt(r);switch(o){case 92:i.emitUnchanged(r-1),i.emitStatic("\\",r+1);break;case 110:i.emitUnchanged(r-1),i.emitStatic("\n",r+1);break;case 116:i.emitUnchanged(r-1),i.emitStatic("\t",r+1);break;case 117:case 85:case 108:case 76:i.emitUnchanged(r-1),i.emitStatic("",r+1),t.push(String.fromCharCode(o))}}}return i.finalize()}(this._state.replaceString):k.fromStaticValue(this._state.replaceString)}replace(){if(this._hasMatches()){let n=this._getReplacePattern(),o=this._editor.getSelection();var e,t,i=this._getNextMatch(o.getStartPosition(),!0,!1);i&&(o.equalsRange(i.range)?(e=n.buildReplaceString(i.matches,this._state.preserveCase),t=new c.a(o,e),this._executeEditorCommand("replace",t),this._decorations.setStartPosition(new d.a(o.startLineNumber,o.startColumn+e.length)),this.research(!0)):(this._decorations.setStartPosition(this._editor.getPosition()),this._setCurrentFindMatch(i.range)))}}_findMatches(e,t,i){return e=(e||[null]).map(e=>ee._getSearchRange(this._editor.getModel(),e)),this._editor.getModel().findMatches(this._state.searchString,e,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(115):null,t,i)}replaceAll(){var e;this._hasMatches()&&(null===(e=this._decorations.getFindScopes())&&this._state.matchesCount>=J?this._largeReplaceAll():this._regularReplaceAll(e),this.research(!1))}_largeReplaceAll(){var e=new g.a(this._state.searchString,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(115):null).parseSearchRequest();if(e){let t=e.regex;if(!t.multiline){let e="mu";t.ignoreCase&&(e+="i"),t.global&&(e+="g"),t=new RegExp(t.source,e)}const i=this._editor.getModel(),n=i.getValue(1);e=i.getFullModelRange();const o=this._getReplacePattern();let r;const s=this._state.preserveCase;r=o.hasReplacementPatterns||s?n.replace(t,(function(){return o.buildReplaceString(arguments,s)})):n.replace(t,o.buildReplaceString(null,s)),e=new c.b(e,r,this._editor.getSelection()),this._executeEditorCommand("replaceAll",e)}}_regularReplaceAll(e){const t=this._getReplacePattern();let i=this._findMatches(e,t.hasReplacementPatterns||this._state.preserveCase,1073741824),n=[];for(let e=0,o=i.length;e<o;e++)n[e]=t.buildReplaceString(i[e].matches,this._state.preserveCase);e=new _(this._editor.getSelection(),i.map(e=>e.range),n),this._executeEditorCommand("replaceAll",e)}selectAllMatches(){if(this._hasMatches()){var e=this._decorations.getFindScopes();let t=this._findMatches(e,!1,1073741824).map(e=>new u.a(e.range.startLineNumber,e.range.startColumn,e.range.endLineNumber,e.range.endColumn)),i=this._editor.getSelection();for(let e=0,n=t.length;e<n;e++){if(t[e].equalsRange(i)){t=[i].concat(t.slice(0,e)).concat(t.slice(e+1));break}}this._editor.setSelections(t)}}_executeEditorCommand(e,t){try{this._ignoreModelContentChanged=!0,this._editor.pushUndoStop(),this._editor.executeCommand(e,t),this._editor.pushUndoStop()}finally{this._ignoreModelContentChanged=!1}}}var te=i(1),ie=i(98),ne=i(23),oe=i(14),re=i(6);i(499);const se={inputActiveOptionBorder:oe.a.fromHex("#007ACC00"),inputActiveOptionForeground:oe.a.fromHex("#FFFFFF"),inputActiveOptionBackground:oe.a.fromHex("#0E639C50")};class ae extends ie.a{constructor(e){super(),this._onChange=this._register(new re.b),this.onChange=this._onChange.event,this._onKeyDown=this._register(new re.b),this.onKeyDown=this._onKeyDown.event,this._opts=Object.assign(Object.assign({},se),e),this._checked=this._opts.isChecked;const t=["monaco-custom-checkbox"];this._opts.icon&&t.push(...ne.a.asClassNameArray(this._opts.icon)),this._opts.actionClassName&&t.push(...this._opts.actionClassName.split(" ")),this._checked&&t.push("checked"),this.domNode=document.createElement("div"),this.domNode.title=this._opts.title,this.domNode.classList.add(...t),this._opts.notFocusable||(this.domNode.tabIndex=0),this.domNode.setAttribute("role","checkbox"),this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.setAttribute("aria-label",this._opts.title),this.applyStyles(),this.onclick(this.domNode,e=>{this.checked=!this._checked,this._onChange.fire(!1),e.preventDefault()}),this.ignoreGesture(this.domNode),this.onkeydown(this.domNode,e=>10===e.keyCode||3===e.keyCode?(this.checked=!this._checked,this._onChange.fire(!0),void e.preventDefault()):void this._onKeyDown.fire(e))}get enabled(){return"true"!==this.domNode.getAttribute("aria-disabled")}focus(){this.domNode.focus()}get checked(){return this._checked}set checked(e){this._checked=e,this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.classList.toggle("checked",this._checked),this.applyStyles()}width(){return 22}style(e){e.inputActiveOptionBorder&&(this._opts.inputActiveOptionBorder=e.inputActiveOptionBorder),e.inputActiveOptionForeground&&(this._opts.inputActiveOptionForeground=e.inputActiveOptionForeground),e.inputActiveOptionBackground&&(this._opts.inputActiveOptionBackground=e.inputActiveOptionBackground),this.applyStyles()}applyStyles(){this.domNode&&(this.domNode.style.borderColor=this._checked&&this._opts.inputActiveOptionBorder?this._opts.inputActiveOptionBorder.toString():"transparent",this.domNode.style.color=this._checked&&this._opts.inputActiveOptionForeground?this._opts.inputActiveOptionForeground.toString():"inherit",this.domNode.style.backgroundColor=this._checked&&this._opts.inputActiveOptionBackground?this._opts.inputActiveOptionBackground.toString():"transparent")}enable(){this.domNode.setAttribute("aria-disabled",String(!1))}disable(){this.domNode.setAttribute("aria-disabled",String(!0))}}var le=i(0);const ce=le.a("caseDescription","匹配大小写"),de=le.a("wordsDescription","匹配全词"),he=le.a("regexDescription","使用正则表达式");class ue extends ae{constructor(e){super({icon:ne.b.caseSensitive,title:ce+e.appendTitle,isChecked:e.isChecked,inputActiveOptionBorder:e.inputActiveOptionBorder,inputActiveOptionForeground:e.inputActiveOptionForeground,inputActiveOptionBackground:e.inputActiveOptionBackground})}}class ge extends ae{constructor(e){super({icon:ne.b.wholeWord,title:de+e.appendTitle,isChecked:e.isChecked,inputActiveOptionBorder:e.inputActiveOptionBorder,inputActiveOptionForeground:e.inputActiveOptionForeground,inputActiveOptionBackground:e.inputActiveOptionBackground})}}class pe extends ae{constructor(e){super({icon:ne.b.regex,title:he+e.appendTitle,isChecked:e.isChecked,inputActiveOptionBorder:e.inputActiveOptionBorder,inputActiveOptionForeground:e.inputActiveOptionForeground,inputActiveOptionBackground:e.inputActiveOptionBackground})}}class fe extends ie.a{constructor(e,t,i,o){super(),this._hideSoon=this._register(new n.e(()=>this._hide(),2e3)),this._isVisible=!1,this._editor=e,this._state=t,this._keybindingService=i,this._domNode=document.createElement("div"),this._domNode.className="findOptionsWidget",this._domNode.style.display="none",this._domNode.style.top="10px",this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),e=o.getColorTheme().getColor(m.lb),t=o.getColorTheme().getColor(m.mb),i=o.getColorTheme().getColor(m.kb),this.caseSensitive=this._register(new ue({appendTitle:this._keybindingLabelFor($),isChecked:this._state.matchCase,inputActiveOptionBorder:e,inputActiveOptionForeground:t,inputActiveOptionBackground:i})),this._domNode.appendChild(this.caseSensitive.domNode),this._register(this.caseSensitive.onChange(()=>{this._state.change({matchCase:this.caseSensitive.checked},!1)})),this.wholeWords=this._register(new ge({appendTitle:this._keybindingLabelFor(K),isChecked:this._state.wholeWord,inputActiveOptionBorder:e,inputActiveOptionForeground:t,inputActiveOptionBackground:i})),this._domNode.appendChild(this.wholeWords.domNode),this._register(this.wholeWords.onChange(()=>{this._state.change({wholeWord:this.wholeWords.checked},!1)})),this.regex=this._register(new pe({appendTitle:this._keybindingLabelFor(q),isChecked:this._state.isRegex,inputActiveOptionBorder:e,inputActiveOptionForeground:t,inputActiveOptionBackground:i})),this._domNode.appendChild(this.regex.domNode),this._register(this.regex.onChange(()=>{this._state.change({isRegex:this.regex.checked},!1)})),this._editor.addOverlayWidget(this),this._register(this._state.onFindReplaceStateChange(e=>{let t=!1;e.isRegex&&(this.regex.checked=this._state.isRegex,t=!0),e.wholeWord&&(this.wholeWords.checked=this._state.wholeWord,t=!0),e.matchCase&&(this.caseSensitive.checked=this._state.matchCase,t=!0),!this._state.isRevealed&&t&&this._revealTemporarily()})),this._register(te.j(this._domNode,e=>this._onMouseOut())),this._register(te.i(this._domNode,"mouseover",e=>this._onMouseOver())),this._applyTheme(o.getColorTheme()),this._register(o.onDidColorThemeChange(this._applyTheme.bind(this)))}_keybindingLabelFor(e){let t=this._keybindingService.lookupKeybinding(e);return t?` (${t.getLabel()})`:""}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return fe.ID}getDomNode(){return this._domNode}getPosition(){return{preference:0}}highlightFindOptions(){this._revealTemporarily()}_revealTemporarily(){this._show(),this._hideSoon.schedule()}_onMouseOut(){this._hideSoon.schedule()}_onMouseOver(){this._hideSoon.cancel()}_show(){this._isVisible||(this._isVisible=!0,this._domNode.style.display="block")}_hide(){this._isVisible&&(this._isVisible=!1,this._domNode.style.display="none")}_applyTheme(e){e={inputActiveOptionBorder:e.getColor(m.lb),inputActiveOptionForeground:e.getColor(m.mb),inputActiveOptionBackground:e.getColor(m.kb)},this.caseSensitive.style(e),this.wholeWords.style(e),this.regex.style(e)}}function me(e,t){return 1===e||2!==e&&t}fe.ID="editor.contrib.findOptionsWidget",Object(v.f)((e,t)=>{var i=e.getColor(m.cb);i&&t.addRule(`.monaco-editor .findOptionsWidget { background-color: ${i}; }`),(i=e.getColor(m.eb))&&t.addRule(`.monaco-editor .findOptionsWidget { color: ${i}; }`),(i=e.getColor(m.Tc))&&t.addRule(`.monaco-editor .findOptionsWidget { box-shadow: 0 0 8px 2px ${i}; }`),(e=e.getColor(m.h))&&t.addRule(`.monaco-editor .findOptionsWidget { border: 2px solid ${e}; }`)});class ve extends o.a{constructor(){super(),this._onFindReplaceStateChange=this._register(new re.b),this.onFindReplaceStateChange=this._onFindReplaceStateChange.event,this._searchString="",this._replaceString="",this._isRevealed=!1,this._isReplaceRevealed=!1,this._isRegex=!1,this._isRegexOverride=0,this._wholeWord=!1,this._wholeWordOverride=0,this._matchCase=!1,this._matchCaseOverride=0,this._preserveCase=!1,this._preserveCaseOverride=0,this._searchScope=null,this._matchesPosition=0,this._matchesCount=0,this._currentMatch=null,this._loop=!0}get searchString(){return this._searchString}get replaceString(){return this._replaceString}get isRevealed(){return this._isRevealed}get isReplaceRevealed(){return this._isReplaceRevealed}get isRegex(){return me(this._isRegexOverride,this._isRegex)}get wholeWord(){return me(this._wholeWordOverride,this._wholeWord)}get matchCase(){return me(this._matchCaseOverride,this._matchCase)}get preserveCase(){return me(this._preserveCaseOverride,this._preserveCase)}get actualIsRegex(){return this._isRegex}get actualWholeWord(){return this._wholeWord}get actualMatchCase(){return this._matchCase}get actualPreserveCase(){return this._preserveCase}get searchScope(){return this._searchScope}get matchesPosition(){return this._matchesPosition}get matchesCount(){return this._matchesCount}get currentMatch(){return this._currentMatch}changeMatchInfo(e,t,i){let n={moveCursor:!1,updateHistory:!1,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1},o=!1;this._matchesPosition!==(e=t<(e=0===t?0:e)?t:e)&&(this._matchesPosition=e,n.matchesPosition=!0,o=!0),this._matchesCount!==t&&(this._matchesCount=t,n.matchesCount=!0,o=!0),void 0!==i&&(h.a.equalsRange(this._currentMatch,i)||(this._currentMatch=i,n.currentMatch=!0,o=!0)),o&&this._onFindReplaceStateChange.fire(n)}change(e,t,i=!0){let n={moveCursor:t,updateHistory:i,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1},o=!1;var r=this.isRegex,s=this.wholeWord,a=this.matchCase;t=this.preserveCase;void 0!==e.searchString&&this._searchString!==e.searchString&&(this._searchString=e.searchString,n.searchString=!0,o=!0),void 0!==e.replaceString&&this._replaceString!==e.replaceString&&(this._replaceString=e.replaceString,n.replaceString=!0,o=!0),void 0!==e.isRevealed&&this._isRevealed!==e.isRevealed&&(this._isRevealed=e.isRevealed,n.isRevealed=!0,o=!0),void 0!==e.isReplaceRevealed&&this._isReplaceRevealed!==e.isReplaceRevealed&&(this._isReplaceRevealed=e.isReplaceRevealed,n.isReplaceRevealed=!0,o=!0),void 0!==e.isRegex&&(this._isRegex=e.isRegex),void 0!==e.wholeWord&&(this._wholeWord=e.wholeWord),void 0!==e.matchCase&&(this._matchCase=e.matchCase),void 0!==e.preserveCase&&(this._preserveCase=e.preserveCase),void 0!==e.searchScope&&(null!==(i=e.searchScope)&&void 0!==i&&i.every(e=>{var t;return null===(t=this._searchScope)||void 0===t?void 0:t.some(t=>!h.a.equalsRange(t,e))})||(this._searchScope=e.searchScope,n.searchScope=!0,o=!0)),void 0!==e.loop&&this._loop!==e.loop&&(this._loop=e.loop,n.loop=!0,o=!0),this._isRegexOverride=void 0!==e.isRegexOverride?e.isRegexOverride:0,this._wholeWordOverride=void 0!==e.wholeWordOverride?e.wholeWordOverride:0,this._matchCaseOverride=void 0!==e.matchCaseOverride?e.matchCaseOverride:0,this._preserveCaseOverride=void 0!==e.preserveCaseOverride?e.preserveCaseOverride:0,r!==this.isRegex&&(o=!0,n.isRegex=!0),s!==this.wholeWord&&(o=!0,n.wholeWord=!0),a!==this.matchCase&&(o=!0,n.matchCase=!0),t!==this.preserveCase&&(o=!0,n.preserveCase=!0),o&&this._onFindReplaceStateChange.fire(n)}canNavigateBack(){return this.canNavigateInLoop()||1!==this.matchesPosition}canNavigateForward(){return this.canNavigateInLoop()||this.matchesPosition<this.matchesCount}canNavigateInLoop(){return this._loop||this.matchesCount>=J}}var be=i(73),_e=i(142),we=i(17),Ce=i(15),ye=(i(501),i(221));i(292);const xe=le.a("defaultLabel","input");class Se extends ie.a{constructor(e,t,i,n){super(),this._showOptionButtons=i,this.fixFocusOnOptionClickEnabled=!0,this.imeSessionInProgress=!1,this._onDidOptionChange=this._register(new re.b),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new re.b),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new re.b),this.onMouseDown=this._onMouseDown.event,this._onInput=this._register(new re.b),this._onKeyUp=this._register(new re.b),this._onCaseSensitiveKeyDown=this._register(new re.b),this.onCaseSensitiveKeyDown=this._onCaseSensitiveKeyDown.event,this._onRegexKeyDown=this._register(new re.b),this.onRegexKeyDown=this._onRegexKeyDown.event,this._lastHighlightFindOptions=0,this.contextViewProvider=t,this.placeholder=n.placeholder||"",this.validation=n.validation,this.label=n.label||xe,this.inputActiveOptionBorder=n.inputActiveOptionBorder,this.inputActiveOptionForeground=n.inputActiveOptionForeground,this.inputActiveOptionBackground=n.inputActiveOptionBackground,this.inputBackground=n.inputBackground,this.inputForeground=n.inputForeground,this.inputBorder=n.inputBorder,this.inputValidationInfoBorder=n.inputValidationInfoBorder,this.inputValidationInfoBackground=n.inputValidationInfoBackground,this.inputValidationInfoForeground=n.inputValidationInfoForeground,this.inputValidationWarningBorder=n.inputValidationWarningBorder,this.inputValidationWarningBackground=n.inputValidationWarningBackground,this.inputValidationWarningForeground=n.inputValidationWarningForeground,this.inputValidationErrorBorder=n.inputValidationErrorBorder,this.inputValidationErrorBackground=n.inputValidationErrorBackground,this.inputValidationErrorForeground=n.inputValidationErrorForeground;var o=n.appendCaseSensitiveLabel||"",r=n.appendWholeWordsLabel||"",s=n.appendRegexLabel||"",a=n.history||[],l=!!n.flexibleHeight;i=!!n.flexibleWidth,t=n.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new ye.a(this.domNode,this.contextViewProvider,{placeholder:this.placeholder||"",ariaLabel:this.label||"",validationOptions:{validation:this.validation},inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder,history:a,showHistoryHint:n.showHistoryHint,flexibleHeight:l,flexibleWidth:i,flexibleMaxHeight:t})),this.regex=this._register(new pe({appendTitle:s,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.regex.onChange(e=>{this._onDidOptionChange.fire(e),!e&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.regex.onKeyDown(e=>{this._onRegexKeyDown.fire(e)})),this.wholeWords=this._register(new ge({appendTitle:r,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.wholeWords.onChange(e=>{this._onDidOptionChange.fire(e),!e&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this.caseSensitive=this._register(new ue({appendTitle:o,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.caseSensitive.onChange(e=>{this._onDidOptionChange.fire(e),!e&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.caseSensitive.onKeyDown(e=>{this._onCaseSensitiveKeyDown.fire(e)})),this._showOptionButtons&&(this.inputBox.paddingRight=this.caseSensitive.width()+this.wholeWords.width()+this.regex.width());let c=[this.caseSensitive.domNode,this.wholeWords.domNode,this.regex.domNode];this.onkeydown(this.domNode,e=>{if(e.equals(15)||e.equals(17)||e.equals(9)){var t=c.indexOf(document.activeElement);if(0<=t){let i=-1;e.equals(17)?i=(t+1)%c.length:e.equals(15)&&(i=0===t?c.length-1:t-1),e.equals(9)?(c[t].blur(),this.inputBox.focus()):0<=i&&c[i].focus(),te.c.stop(e,!0)}}});let d=document.createElement("div");d.className="controls",d.style.display=this._showOptionButtons?"block":"none",d.appendChild(this.caseSensitive.domNode),d.appendChild(this.wholeWords.domNode),d.appendChild(this.regex.domNode),this.domNode.appendChild(d),e&&e.appendChild(this.domNode),this._register(te.i(this.inputBox.inputElement,"compositionstart",e=>{this.imeSessionInProgress=!0})),this._register(te.i(this.inputBox.inputElement,"compositionend",e=>{this.imeSessionInProgress=!1,this._onInput.fire()})),this.onkeydown(this.inputBox.inputElement,e=>this._onKeyDown.fire(e)),this.onkeyup(this.inputBox.inputElement,e=>this._onKeyUp.fire(e)),this.oninput(this.inputBox.inputElement,e=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,e=>this._onMouseDown.fire(e))}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.regex.enable(),this.wholeWords.enable(),this.caseSensitive.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.regex.disable(),this.wholeWords.disable(),this.caseSensitive.disable()}setFocusInputOnOptionClick(e){this.fixFocusOnOptionClickEnabled=e}setEnabled(e){e?this.enable():this.disable()}getValue(){return this.inputBox.value}setValue(e){this.inputBox.value!==e&&(this.inputBox.value=e)}style(e){this.inputActiveOptionBorder=e.inputActiveOptionBorder,this.inputActiveOptionForeground=e.inputActiveOptionForeground,this.inputActiveOptionBackground=e.inputActiveOptionBackground,this.inputBackground=e.inputBackground,this.inputForeground=e.inputForeground,this.inputBorder=e.inputBorder,this.inputValidationInfoBackground=e.inputValidationInfoBackground,this.inputValidationInfoForeground=e.inputValidationInfoForeground,this.inputValidationInfoBorder=e.inputValidationInfoBorder,this.inputValidationWarningBackground=e.inputValidationWarningBackground,this.inputValidationWarningForeground=e.inputValidationWarningForeground,this.inputValidationWarningBorder=e.inputValidationWarningBorder,this.inputValidationErrorBackground=e.inputValidationErrorBackground,this.inputValidationErrorForeground=e.inputValidationErrorForeground,this.inputValidationErrorBorder=e.inputValidationErrorBorder,this.applyStyles()}applyStyles(){var e;this.domNode&&(e={inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground},this.regex.style(e),this.wholeWords.style(e),this.caseSensitive.style(e),e={inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder},this.inputBox.style(e))}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getCaseSensitive(){return this.caseSensitive.checked}setCaseSensitive(e){this.caseSensitive.checked=e}getWholeWords(){return this.wholeWords.checked}setWholeWords(e){this.wholeWords.checked=e}getRegex(){return this.regex.checked}setRegex(e){this.regex.checked=e,this.validate()}focusOnCaseSensitive(){this.caseSensitive.focus()}highlightFindOptions(){this.domNode.classList.remove("highlight-"+this._lastHighlightFindOptions),this._lastHighlightFindOptions=1-this._lastHighlightFindOptions,this.domNode.classList.add("highlight-"+this._lastHighlightFindOptions)}validate(){this.inputBox.validate()}clearMessage(){this.inputBox.hideMessage()}}const ke=le.a("defaultLabel","input"),De=le.a("label.preserveCaseCheckbox","保留大写");class Le extends ae{constructor(e){super({icon:ne.b.preserveCase,title:De+e.appendTitle,isChecked:e.isChecked,inputActiveOptionBorder:e.inputActiveOptionBorder,inputActiveOptionForeground:e.inputActiveOptionForeground,inputActiveOptionBackground:e.inputActiveOptionBackground})}}class Oe extends ie.a{constructor(e,t,i,n){super(),this._showOptionButtons=i,this.fixFocusOnOptionClickEnabled=!0,this.cachedOptionsWidth=0,this._onDidOptionChange=this._register(new re.b),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new re.b),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new re.b),this._onInput=this._register(new re.b),this._onKeyUp=this._register(new re.b),this._onPreserveCaseKeyDown=this._register(new re.b),this.onPreserveCaseKeyDown=this._onPreserveCaseKeyDown.event,this.contextViewProvider=t,this.placeholder=n.placeholder||"",this.validation=n.validation,this.label=n.label||ke,this.inputActiveOptionBorder=n.inputActiveOptionBorder,this.inputActiveOptionForeground=n.inputActiveOptionForeground,this.inputActiveOptionBackground=n.inputActiveOptionBackground,this.inputBackground=n.inputBackground,this.inputForeground=n.inputForeground,this.inputBorder=n.inputBorder,this.inputValidationInfoBorder=n.inputValidationInfoBorder,this.inputValidationInfoBackground=n.inputValidationInfoBackground,this.inputValidationInfoForeground=n.inputValidationInfoForeground,this.inputValidationWarningBorder=n.inputValidationWarningBorder,this.inputValidationWarningBackground=n.inputValidationWarningBackground,this.inputValidationWarningForeground=n.inputValidationWarningForeground,this.inputValidationErrorBorder=n.inputValidationErrorBorder,this.inputValidationErrorBackground=n.inputValidationErrorBackground,this.inputValidationErrorForeground=n.inputValidationErrorForeground;var o=n.appendPreserveCaseLabel||"",r=n.history||[],s=!!n.flexibleHeight;i=!!n.flexibleWidth,t=n.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new ye.a(this.domNode,this.contextViewProvider,{ariaLabel:this.label||"",placeholder:this.placeholder||"",validationOptions:{validation:this.validation},inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder,history:r,showHistoryHint:n.showHistoryHint,flexibleHeight:s,flexibleWidth:i,flexibleMaxHeight:t})),this.preserveCase=this._register(new Le({appendTitle:o,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.preserveCase.onChange(e=>{this._onDidOptionChange.fire(e),!e&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.preserveCase.onKeyDown(e=>{this._onPreserveCaseKeyDown.fire(e)})),this._showOptionButtons?this.cachedOptionsWidth=this.preserveCase.width():this.cachedOptionsWidth=0;let a=[this.preserveCase.domNode];this.onkeydown(this.domNode,e=>{if(e.equals(15)||e.equals(17)||e.equals(9)){var t=a.indexOf(document.activeElement);if(0<=t){let i=-1;e.equals(17)?i=(t+1)%a.length:e.equals(15)&&(i=0===t?a.length-1:t-1),e.equals(9)?(a[t].blur(),this.inputBox.focus()):0<=i&&a[i].focus(),te.c.stop(e,!0)}}});let l=document.createElement("div");l.className="controls",l.style.display=this._showOptionButtons?"block":"none",l.appendChild(this.preserveCase.domNode),this.domNode.appendChild(l),e&&e.appendChild(this.domNode),this.onkeydown(this.inputBox.inputElement,e=>this._onKeyDown.fire(e)),this.onkeyup(this.inputBox.inputElement,e=>this._onKeyUp.fire(e)),this.oninput(this.inputBox.inputElement,e=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,e=>this._onMouseDown.fire(e))}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.preserveCase.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.preserveCase.disable()}setEnabled(e){e?this.enable():this.disable()}style(e){this.inputActiveOptionBorder=e.inputActiveOptionBorder,this.inputActiveOptionForeground=e.inputActiveOptionForeground,this.inputActiveOptionBackground=e.inputActiveOptionBackground,this.inputBackground=e.inputBackground,this.inputForeground=e.inputForeground,this.inputBorder=e.inputBorder,this.inputValidationInfoBackground=e.inputValidationInfoBackground,this.inputValidationInfoForeground=e.inputValidationInfoForeground,this.inputValidationInfoBorder=e.inputValidationInfoBorder,this.inputValidationWarningBackground=e.inputValidationWarningBackground,this.inputValidationWarningForeground=e.inputValidationWarningForeground,this.inputValidationWarningBorder=e.inputValidationWarningBorder,this.inputValidationErrorBackground=e.inputValidationErrorBackground,this.inputValidationErrorForeground=e.inputValidationErrorForeground,this.inputValidationErrorBorder=e.inputValidationErrorBorder,this.applyStyles()}applyStyles(){var e;this.domNode&&(e={inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground},this.preserveCase.style(e),e={inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder},this.inputBox.style(e))}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getPreserveCase(){return this.preserveCase.checked}setPreserveCase(e){this.preserveCase.checked=e}focusOnPreserve(){this.preserveCase.focus()}validate(){this.inputBox&&this.inputBox.validate()}set width(e){this.inputBox.paddingRight=this.cachedOptionsWidth,this.inputBox.width=e,this.domNode.style.width=e+"px"}dispose(){super.dispose()}}var Ee=i(111),Ne=i(48);t=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;0<=a;a--)(o=e[a])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s},p=function(e,t){return function(i,n){t(i,n,e)}};const Ie="historyNavigationWidget",Te="historyNavigationForwardsEnabled",Me="historyNavigationBackwardsEnabled";function Ae(e,t){return e.getContext(document.activeElement).getValue(t)}function Pe(e,t){var i,n=e.createScoped(t.target);return i=n,e=t,t=Ie,new O.c(t,e).bindTo(i),{scopedContextKeyService:n,historyNavigationForwardsEnablement:new O.c(Te,!0).bindTo(n),historyNavigationBackwardsEnablement:new O.c(Me,!0).bindTo(n)}}let Re=class extends Se{constructor(e,t,i,n,o=!1){super(e,t,o,i),this._register(Pe(n,{target:this.inputBox.element,historyNavigator:this.inputBox}).scopedContextKeyService)}};Re=t([p(3,O.b)],Re);let Fe=class extends Oe{constructor(e,t,i,n,o=!1){super(e,t,o,i),this._register(Pe(n,{target:this.inputBox.element,historyNavigator:this.inputBox}).scopedContextKeyService)}};function je(e){var t;return"Up"===(null===(t=e.lookupKeybinding("history.showPrevious"))||void 0===t?void 0:t.getElectronAccelerator())&&"Down"===(null===(e=e.lookupKeybinding("history.showNext"))||void 0===e?void 0:e.getElectronAccelerator())}Fe=t([p(3,O.b)],Fe),Ee.a.registerCommandAndKeybindingRule({id:"history.showPrevious",weight:200,when:O.a.and(O.a.has(Ie),O.a.equals(Me,!0),Ne.b.Visible.isEqualTo(!1)),primary:16,secondary:[528],handler:e=>{if(e=Ae(e.get(O.b),Ie)){e.historyNavigator.showPreviousValue()}}}),Ee.a.registerCommandAndKeybindingRule({id:"history.showNext",weight:200,when:O.a.and(O.a.has(Ie),O.a.equals(Te,!0),Ne.b.Visible.isEqualTo(!1)),primary:18,secondary:[530],handler:e=>{if(e=Ae(e.get(O.b),Ie)){e.historyNavigator.showNextValue()}}});var Be=i(95);const We=Object(Be.b)("find-selection",ne.b.selection,le.a("findSelectionIcon","Icon for 'Find in Selection' in the editor find widget.")),Ve=Object(Be.b)("find-collapsed",ne.b.chevronRight,le.a("findCollapsedIcon","Icon to indicate that the editor find widget is collapsed.")),ze=Object(Be.b)("find-expanded",ne.b.chevronDown,le.a("findExpandedIcon","Icon to indicate that the editor find widget is expanded.")),He=Object(Be.b)("find-replace",ne.b.replace,le.a("findReplaceIcon","Icon for 'Replace' in the editor find widget.")),Ue=Object(Be.b)("find-replace-all",ne.b.replaceAll,le.a("findReplaceAllIcon","Icon for 'Replace All' in the editor find widget.")),$e=Object(Be.b)("find-previous-match",ne.b.arrowUp,le.a("findPreviousMatchIcon","Icon for 'Find Previous' in the editor find widget.")),Ke=Object(Be.b)("find-next-match",ne.b.arrowDown,le.a("findNextMatchIcon","Icon for 'Find Next' in the editor find widget.")),qe=le.a("label.find","查找"),Ge=le.a("placeholder.find","查找"),Ye=le.a("label.previousMatchButton","上一个匹配"),Ze=le.a("label.nextMatchButton","下一个匹配"),Xe=le.a("label.toggleSelectionFind","在选择中查找"),Qe=le.a("label.closeButton","关闭"),Je=le.a("label.replace","替换"),et=le.a("placeholder.replace","替换"),tt=le.a("label.replaceButton","替换"),it=le.a("label.replaceAllButton","替换全部"),nt=le.a("label.toggleReplaceButton","切换到替换模式"),ot=le.a("title.matchesCountLimit","Only the first {0} results are highlighted, but all find operations work on the entire text.",J),rt=le.a("label.matchesLocation","{0} of {1}"),st=le.a("label.noResults","无结果");let at=69;const lt="ctrlEnterReplaceAll.windows.donotask",ct=Ce.f?256:2048;class dt{constructor(e){this.afterLineNumber=e,this.heightInPx=33,this.suppressMouseDown=!1,this.domNode=document.createElement("div"),this.domNode.className="dock-find-viewzone"}}function ht(e,t,i){t=!!t.match(/\n/),i&&t&&0<i.selectionStart&&e.stopPropagation()}function ut(e,t,i){t=!!t.match(/\n/),i&&t&&i.selectionEnd<i.value.length&&e.stopPropagation()}class gt extends ie.a{constructor(e,t,i,r,s,a,l,c,d){super(),this._cachedHeight=null,this._revealTimeouts=[],this._codeEditor=e,this._controller=t,this._state=i,this._contextViewProvider=r,this._keybindingService=s,this._contextKeyService=a,this._storageService=c,this._notificationService=d,this._ctrlEnterReplaceAllWarningPrompted=!!c.getBoolean(lt,0),this._isVisible=!1,this._isReplaceVisible=!1,this._ignoreChangeEvent=!1,this._updateHistoryDelayer=new n.a(500),this._register(Object(o.i)(()=>this._updateHistoryDelayer.cancel())),this._register(this._state.onFindReplaceStateChange(e=>this._onStateChanged(e))),this._buildDomNode(),this._updateButtons(),this._tryUpdateWidgetWidth(),this._findInput.inputBox.layout(),this._register(this._codeEditor.onDidChangeConfiguration(e=>{e.hasChanged(80)&&(this._codeEditor.getOption(80)&&this._state.change({isReplaceRevealed:!1},!1),this._updateButtons()),e.hasChanged(129)&&this._tryUpdateWidgetWidth(),e.hasChanged(2)&&this.updateAccessibilitySupport(),e.hasChanged(35)&&((e=this._codeEditor.getOption(35).addExtraSpaceOnTop)&&!this._viewZone&&(this._viewZone=new dt(0),this._showViewZone()),!e&&this._viewZone&&this._removeViewZone())})),this.updateAccessibilitySupport(),this._register(this._codeEditor.onDidChangeCursorSelection(()=>{this._isVisible&&this._updateToggleSelectionFindButton()})),this._register(this._codeEditor.onDidFocusEditorWidget(()=>function(e,t,i,n){return new(i=i||Promise)((function(o,r){function s(e){try{l(n.next(e))}catch(e){r(e)}}function a(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):((t=e.value)instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))}(this,void 0,void 0,(function*(){var e;!this._isVisible||(e=yield this._controller.getGlobalBufferTerm())&&e!==this._state.searchString&&(this._state.change({searchString:e},!1),this._findInput.select())})))),this._findInputFocused=N.bindTo(a),this._findFocusTracker=this._register(te.Y(this._findInput.inputBox.inputElement)),this._register(this._findFocusTracker.onDidFocus(()=>{this._findInputFocused.set(!0),this._updateSearchScope()})),this._register(this._findFocusTracker.onDidBlur(()=>{this._findInputFocused.set(!1)})),this._replaceInputFocused=I.bindTo(a),this._replaceFocusTracker=this._register(te.Y(this._replaceInput.inputBox.inputElement)),this._register(this._replaceFocusTracker.onDidFocus(()=>{this._replaceInputFocused.set(!0),this._updateSearchScope()})),this._register(this._replaceFocusTracker.onDidBlur(()=>{this._replaceInputFocused.set(!1)})),this._codeEditor.addOverlayWidget(this),this._codeEditor.getOption(35).addExtraSpaceOnTop&&(this._viewZone=new dt(0)),this._applyTheme(l.getColorTheme()),this._register(l.onDidColorThemeChange(this._applyTheme.bind(this))),this._register(this._codeEditor.onDidChangeModel(()=>{this._isVisible&&(this._viewZoneId=void 0)})),this._register(this._codeEditor.onDidScrollChange(e=>{e.scrollTopChanged?this._layoutViewZone():setTimeout(()=>{this._layoutViewZone()},0)}))}getId(){return gt.ID}getDomNode(){return this._domNode}getPosition(){return this._isVisible?{preference:0}:null}_onStateChanged(e){if(e.searchString){try{this._ignoreChangeEvent=!0,this._findInput.setValue(this._state.searchString)}finally{this._ignoreChangeEvent=!1}this._updateButtons()}var t;e.replaceString&&(this._replaceInput.inputBox.value=this._state.replaceString),e.isRevealed&&(this._state.isRevealed?this._reveal():this._hide(!0)),e.isReplaceRevealed&&(this._state.isReplaceRevealed?this._codeEditor.getOption(80)||this._isReplaceVisible||(this._isReplaceVisible=!0,this._replaceInput.width=te.I(this._findInput.domNode),this._updateButtons(),this._replaceInput.inputBox.layout()):this._isReplaceVisible&&(this._isReplaceVisible=!1,this._updateButtons())),(e.isRevealed||e.isReplaceRevealed)&&(this._state.isRevealed||this._state.isReplaceRevealed)&&this._tryUpdateHeight()&&this._showViewZone(),e.isRegex&&this._findInput.setRegex(this._state.isRegex),e.wholeWord&&this._findInput.setWholeWords(this._state.wholeWord),e.matchCase&&this._findInput.setCaseSensitive(this._state.matchCase),e.preserveCase&&this._replaceInput.setPreserveCase(this._state.preserveCase),e.searchScope&&(this._state.searchScope?this._toggleSelectionFind.checked=!0:this._toggleSelectionFind.checked=!1,this._updateToggleSelectionFindButton()),(e.searchString||e.matchesCount||e.matchesPosition)&&(t=0<this._state.searchString.length&&0===this._state.matchesCount,this._domNode.classList.toggle("no-results",t),this._updateMatchesCount(),this._updateButtons()),(e.searchString||e.currentMatch)&&this._layoutViewZone(),e.updateHistory&&this._delayedUpdateHistory(),e.loop&&this._updateButtons()}_delayedUpdateHistory(){this._updateHistoryDelayer.trigger(this._updateHistory.bind(this)).then(void 0,we.f)}_updateHistory(){this._state.searchString&&this._findInput.inputBox.addToHistory(),this._state.replaceString&&this._replaceInput.inputBox.addToHistory()}_updateMatchesCount(){let e;if(this._matchesCount.style.minWidth=at+"px",this._state.matchesCount>=J?this._matchesCount.title=ot:this._matchesCount.title="",this._matchesCount.firstChild&&this._matchesCount.removeChild(this._matchesCount.firstChild),0<this._state.matchesCount){let t=String(this._state.matchesCount);this._state.matchesCount>=J&&(t+="+");let i=String(this._state.matchesPosition);"0"===i&&(i="?"),e=r.v(rt,i,t)}else e=st;this._matchesCount.appendChild(document.createTextNode(e)),Object(be.a)(this._getAriaLabel(e,this._state.currentMatch,this._state.searchString)),at=Math.max(at,this._matchesCount.clientWidth)}_getAriaLabel(e,t,i){if(e===st)return""===i?le.a("ariaSearchNoResultEmpty","{0} found",e):le.a("ariaSearchNoResult","{0} found for '{1}'",e,i);if(t){var n=le.a("ariaSearchNoResultWithLineNum","{0} found for '{1}', at {2}",e,i,t.startLineNumber+":"+t.startColumn);const o=this._codeEditor.getModel();return o&&t.startLineNumber<=o.getLineCount()&&1<=t.startLineNumber?`${o.getLineContent(t.startLineNumber)}, ${n}`:n}return le.a("ariaSearchNoResultWithLineNumNoCurrentMatch","{0} found for '{1}'",e,i)}_updateToggleSelectionFindButton(){var e=!!(t=this._codeEditor.getSelection())&&(t.startLineNumber!==t.endLineNumber||t.startColumn!==t.endColumn),t=this._toggleSelectionFind.checked;this._isVisible&&(t||e)?this._toggleSelectionFind.enable():this._toggleSelectionFind.disable()}_updateButtons(){this._findInput.setEnabled(this._isVisible),this._replaceInput.setEnabled(this._isVisible&&this._isReplaceVisible),this._updateToggleSelectionFindButton(),this._closeBtn.setEnabled(this._isVisible);var e=0<this._state.searchString.length,t=!!this._state.matchesCount;this._prevBtn.setEnabled(this._isVisible&&e&&t&&this._state.canNavigateBack()),this._nextBtn.setEnabled(this._isVisible&&e&&t&&this._state.canNavigateForward()),this._replaceBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&e),this._replaceAllBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&e),this._domNode.classList.toggle("replaceToggled",this._isReplaceVisible),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible),e=!this._codeEditor.getOption(80),this._toggleReplaceBtn.setEnabled(this._isVisible&&e)}_reveal(){if(this._revealTimeouts.forEach(e=>{clearTimeout(e)}),this._revealTimeouts=[],!this._isVisible){this._isVisible=!0;const o=this._codeEditor.getSelection();switch(this._codeEditor.getOption(35).autoFindInSelection){case"always":this._toggleSelectionFind.checked=!0;break;case"never":this._toggleSelectionFind.checked=!1;break;case"multiline":var e=!!o&&o.startLineNumber!==o.endLineNumber;this._toggleSelectionFind.checked=e}this._tryUpdateWidgetWidth(),this._updateButtons(),this._revealTimeouts.push(setTimeout(()=>{this._domNode.classList.add("visible"),this._domNode.setAttribute("aria-hidden","false")},0)),this._revealTimeouts.push(setTimeout(()=>{this._findInput.validate()},200)),this._codeEditor.layoutOverlayWidget(this);let r=!0;var t,i,n;this._codeEditor.getOption(35).seedSearchStringFromSelection&&o&&(n=this._codeEditor.getDomNode())&&(t=te.D(n),i=this._codeEditor.getScrolledVisiblePosition(o.getStartPosition()),n=t.left+(i?i.left:0),i=i?i.top:0,this._viewZone&&i<this._viewZone.heightInPx&&(o.endLineNumber>o.startLineNumber&&(r=!1),(i=te.G(this._domNode).left)<n&&(r=!1),n=this._codeEditor.getScrolledVisiblePosition(o.getEndPosition()),i<t.left+(n?n.left:0)&&(r=!1))),this._showViewZone(r)}}_hide(e){this._revealTimeouts.forEach(e=>{clearTimeout(e)}),this._revealTimeouts=[],this._isVisible&&(this._isVisible=!1,this._updateButtons(),this._domNode.classList.remove("visible"),this._domNode.setAttribute("aria-hidden","true"),this._findInput.clearMessage(),e&&this._codeEditor.focus(),this._codeEditor.layoutOverlayWidget(this),this._removeViewZone())}_layoutViewZone(e){if(this._codeEditor.getOption(35).addExtraSpaceOnTop){if(this._isVisible){const t=this._viewZone;void 0===this._viewZoneId&&t&&this._codeEditor.changeViewZones(i=>{t.heightInPx=this._getHeight(),this._viewZoneId=i.addZone(t),this._codeEditor.setScrollTop(e||this._codeEditor.getScrollTop()+t.heightInPx)})}}else this._removeViewZone()}_showViewZone(e=!0){if(this._isVisible&&this._codeEditor.getOption(35).addExtraSpaceOnTop){void 0===this._viewZone&&(this._viewZone=new dt(0));const t=this._viewZone;this._codeEditor.changeViewZones(i=>{var n,o;void 0!==this._viewZoneId?(n=this._getHeight())!==t.heightInPx&&(o=n-t.heightInPx,t.heightInPx=n,i.layoutZone(this._viewZoneId),e&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+o)):(o=this._getHeight(),(o-=this._codeEditor.getOption(74).top)<=0||(t.heightInPx=o,this._viewZoneId=i.addZone(t),e&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+o)))})}}_removeViewZone(){this._codeEditor.changeViewZones(e=>{void 0!==this._viewZoneId&&(e.removeZone(this._viewZoneId),this._viewZoneId=void 0,this._viewZone&&(this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()-this._viewZone.heightInPx),this._viewZone=void 0))})}_applyTheme(e){e={inputActiveOptionBorder:e.getColor(m.lb),inputActiveOptionBackground:e.getColor(m.kb),inputActiveOptionForeground:e.getColor(m.mb),inputBackground:e.getColor(m.nb),inputForeground:e.getColor(m.pb),inputBorder:e.getColor(m.ob),inputValidationInfoBackground:e.getColor(m.tb),inputValidationInfoForeground:e.getColor(m.vb),inputValidationInfoBorder:e.getColor(m.ub),inputValidationWarningBackground:e.getColor(m.wb),inputValidationWarningForeground:e.getColor(m.yb),inputValidationWarningBorder:e.getColor(m.xb),inputValidationErrorBackground:e.getColor(m.qb),inputValidationErrorForeground:e.getColor(m.sb),inputValidationErrorBorder:e.getColor(m.rb)},this._findInput.style(e),this._replaceInput.style(e),this._toggleSelectionFind.style(e)}_tryUpdateWidgetWidth(){if(this._isVisible&&te.N(this._domNode))if((t=this._codeEditor.getLayoutInfo()).contentWidth<=0)this._domNode.classList.add("hiddenEditor");else{this._domNode.classList.contains("hiddenEditor")&&this._domNode.classList.remove("hiddenEditor");var e=t.width,t=t.minimap.minimapWidth;let i=!1,n=!1,o=!1;if(this._resized&&419<te.I(this._domNode))return this._domNode.style.maxWidth=e-28-t-15+"px",void(this._replaceInput.width=te.I(this._findInput.domNode));e<=447+t&&(n=!0),447+t-at>=e&&(o=!0),447+t-at>=e+50&&(i=!0),this._domNode.classList.toggle("collapsed-find-widget",i),this._domNode.classList.toggle("narrow-find-widget",o),this._domNode.classList.toggle("reduced-find-widget",n),o||i||(this._domNode.style.maxWidth=e-28-t-15+"px"),this._resized?(this._findInput.inputBox.layout(),0<(t=this._findInput.inputBox.element.clientWidth)&&(this._replaceInput.width=t)):this._isReplaceVisible&&(this._replaceInput.width=te.I(this._findInput.domNode))}}_getHeight(){let e=0;return e+=4,e+=this._findInput.inputBox.height+2,this._isReplaceVisible&&(e+=4,e+=this._replaceInput.inputBox.height+2),e+=4,e}_tryUpdateHeight(){var e=this._getHeight();return(null===this._cachedHeight||this._cachedHeight!==e)&&(this._cachedHeight=e,this._domNode.style.height=e+"px",!0)}focusFindInput(){this._findInput.select(),this._findInput.focus()}focusReplaceInput(){this._replaceInput.select(),this._replaceInput.focus()}highlightFindOptions(){this._findInput.highlightFindOptions()}_updateSearchScope(){if(this._codeEditor.hasModel()&&this._toggleSelectionFind.checked){let e=this._codeEditor.getSelections();e.map(e=>{1===e.endColumn&&e.endLineNumber>e.startLineNumber&&(e=e.setEndPosition(e.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(e.endLineNumber-1)));var t=this._state.currentMatch;return e.startLineNumber===e.endLineNumber||h.a.equalsRange(e,t)?null:e}).filter(e=>!!e),e.length&&this._state.change({searchScope:e},!0)}}_onFindInputMouseDown(e){e.middleButton&&e.stopPropagation()}_onFindInputKeyDown(e){return e.equals(3|ct)?(this._keybindingService.dispatchEvent(e,e.target)||this._findInput.inputBox.insertAtCursor("\n"),void e.preventDefault()):e.equals(2)?(this._isReplaceVisible?this._replaceInput.focus():this._findInput.focusOnCaseSensitive(),void e.preventDefault()):e.equals(2066)?(this._codeEditor.focus(),void e.preventDefault()):e.equals(16)?ht(e,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea")):e.equals(18)?ut(e,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea")):void 0}_onReplaceInputKeyDown(e){return e.equals(3|ct)?(this._keybindingService.dispatchEvent(e,e.target)||(Ce.i&&Ce.g&&!this._ctrlEnterReplaceAllWarningPrompted&&(this._notificationService.info(le.a("ctrlEnter.keybindingChanged","Ctrl+Enter now inserts line break instead of replacing all. You can modify the keybinding for editor.action.replaceAll to override this behavior.")),this._ctrlEnterReplaceAllWarningPrompted=!0,this._storageService.store(lt,!0,0,0)),this._replaceInput.inputBox.insertAtCursor("\n")),void e.preventDefault()):e.equals(2)?(this._findInput.focusOnCaseSensitive(),void e.preventDefault()):e.equals(1026)?(this._findInput.focus(),void e.preventDefault()):e.equals(2066)?(this._codeEditor.focus(),void e.preventDefault()):e.equals(16)?ht(e,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea")):e.equals(18)?ut(e,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea")):void 0}getVerticalSashLeft(e){return 0}_keybindingLabelFor(e){let t=this._keybindingService.lookupKeybinding(e);return t?` (${t.getLabel()})`:""}_buildDomNode(){this._findInput=this._register(new Re(null,this._contextViewProvider,{width:221,label:qe,placeholder:Ge,appendCaseSensitiveLabel:this._keybindingLabelFor($),appendWholeWordsLabel:this._keybindingLabelFor(K),appendRegexLabel:this._keybindingLabelFor(q),validation:e=>{if(0===e.length||!this._findInput.getRegex())return null;try{return new RegExp(e,"gu"),null}catch(e){return{content:e.message}}},flexibleHeight:!0,flexibleWidth:!0,flexibleMaxHeight:118,showHistoryHint:()=>je(this._keybindingService)},this._contextKeyService,!0)),this._findInput.setRegex(!!this._state.isRegex),this._findInput.setCaseSensitive(!!this._state.matchCase),this._findInput.setWholeWords(!!this._state.wholeWord),this._register(this._findInput.onKeyDown(e=>this._onFindInputKeyDown(e))),this._register(this._findInput.inputBox.onDidChange(()=>{this._ignoreChangeEvent||this._state.change({searchString:this._findInput.getValue()},!0)})),this._register(this._findInput.onDidOptionChange(()=>{this._state.change({isRegex:this._findInput.getRegex(),wholeWord:this._findInput.getWholeWords(),matchCase:this._findInput.getCaseSensitive()},!0)})),this._register(this._findInput.onCaseSensitiveKeyDown(e=>{e.equals(1026)&&this._isReplaceVisible&&(this._replaceInput.focus(),e.preventDefault())})),this._register(this._findInput.onRegexKeyDown(e=>{e.equals(2)&&this._isReplaceVisible&&(this._replaceInput.focusOnPreserve(),e.preventDefault())})),this._register(this._findInput.inputBox.onDidHeightChange(e=>{this._tryUpdateHeight()&&this._showViewZone()})),Ce.d&&this._register(this._findInput.onMouseDown(e=>this._onFindInputMouseDown(e))),this._matchesCount=document.createElement("div"),this._matchesCount.className="matchesCount",this._updateMatchesCount(),this._prevBtn=this._register(new pt({label:Ye+this._keybindingLabelFor(W),icon:$e,onTrigger:()=>{this._codeEditor.getAction(W).run().then(void 0,we.f)}})),this._nextBtn=this._register(new pt({label:Ze+this._keybindingLabelFor(B),icon:Ke,onTrigger:()=>{this._codeEditor.getAction(B).run().then(void 0,we.f)}}));let e=document.createElement("div");e.className="find-part",e.appendChild(this._findInput.domNode);const t=document.createElement("div");t.className="find-actions",e.appendChild(t),t.appendChild(this._matchesCount),t.appendChild(this._prevBtn.domNode),t.appendChild(this._nextBtn.domNode),this._toggleSelectionFind=this._register(new ae({icon:We,title:Xe+this._keybindingLabelFor(G),isChecked:!1})),this._register(this._toggleSelectionFind.onChange(()=>{if(this._toggleSelectionFind.checked){if(this._codeEditor.hasModel()){let e=this._codeEditor.getSelections();e.map(e=>(e=1===e.endColumn&&e.endLineNumber>e.startLineNumber?e.setEndPosition(e.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(e.endLineNumber-1)):e).isEmpty()?null:e).filter(e=>!!e),e.length&&this._state.change({searchScope:e},!0)}}else this._state.change({searchScope:null},!0)})),t.appendChild(this._toggleSelectionFind.domNode),this._closeBtn=this._register(new pt({label:Qe+this._keybindingLabelFor(U),icon:Be.c,onTrigger:()=>{this._state.change({isRevealed:!1,searchScope:null},!1)},onKeyDown:e=>{e.equals(2)&&this._isReplaceVisible&&((this._replaceBtn.isEnabled()?this._replaceBtn:this._codeEditor).focus(),e.preventDefault())}})),t.appendChild(this._closeBtn.domNode),this._replaceInput=this._register(new Fe(null,void 0,{label:Je,placeholder:et,appendPreserveCaseLabel:this._keybindingLabelFor(Y),history:[],flexibleHeight:!0,flexibleWidth:!0,flexibleMaxHeight:118,showHistoryHint:()=>je(this._keybindingService)},this._contextKeyService,!0)),this._replaceInput.setPreserveCase(!!this._state.preserveCase),this._register(this._replaceInput.onKeyDown(e=>this._onReplaceInputKeyDown(e))),this._register(this._replaceInput.inputBox.onDidChange(()=>{this._state.change({replaceString:this._replaceInput.inputBox.value},!1)})),this._register(this._replaceInput.inputBox.onDidHeightChange(e=>{this._isReplaceVisible&&this._tryUpdateHeight()&&this._showViewZone()})),this._register(this._replaceInput.onDidOptionChange(()=>{this._state.change({preserveCase:this._replaceInput.getPreserveCase()},!0)})),this._register(this._replaceInput.onPreserveCaseKeyDown(e=>{e.equals(2)&&(this._prevBtn.isEnabled()?this._prevBtn.focus():this._nextBtn.isEnabled()?this._nextBtn.focus():this._toggleSelectionFind.enabled?this._toggleSelectionFind.focus():this._closeBtn.isEnabled()&&this._closeBtn.focus(),e.preventDefault())})),this._replaceBtn=this._register(new pt({label:tt+this._keybindingLabelFor(Z),icon:He,onTrigger:()=>{this._controller.replace()},onKeyDown:e=>{e.equals(1026)&&(this._closeBtn.focus(),e.preventDefault())}})),this._replaceAllBtn=this._register(new pt({label:it+this._keybindingLabelFor(X),icon:Ue,onTrigger:()=>{this._controller.replaceAll()}}));let i=document.createElement("div");i.className="replace-part",i.appendChild(this._replaceInput.domNode);const n=document.createElement("div");n.className="replace-actions",i.appendChild(n),n.appendChild(this._replaceBtn.domNode),n.appendChild(this._replaceAllBtn.domNode),this._toggleReplaceBtn=this._register(new pt({label:nt,className:"codicon toggle left",onTrigger:()=>{this._state.change({isReplaceRevealed:!this._isReplaceVisible},!1),this._isReplaceVisible&&(this._replaceInput.width=te.I(this._findInput.domNode),this._replaceInput.inputBox.layout()),this._showViewZone()}})),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible),this._domNode=document.createElement("div"),this._domNode.className="editor-widget find-widget",this._domNode.setAttribute("aria-hidden","true"),this._domNode.style.width="419px",this._domNode.appendChild(this._toggleReplaceBtn.domNode),this._domNode.appendChild(e),this._domNode.appendChild(i),this._resizeSash=new _e.b(this._domNode,this,{orientation:0,size:2}),this._resized=!1;let o=419;this._register(this._resizeSash.onDidStart(()=>{o=te.I(this._domNode)})),this._register(this._resizeSash.onDidChange(e=>{this._resized=!0,(e=o+e.startX-e.currentX)<419||(parseFloat(te.A(this._domNode).maxWidth)||0)<e||(this._domNode.style.width=e+"px",this._isReplaceVisible&&(this._replaceInput.width=te.I(this._findInput.domNode)),this._findInput.inputBox.layout(),this._tryUpdateHeight())})),this._register(this._resizeSash.onDidReset(()=>{var e=te.I(this._domNode);if(!(e<419)){let t=419;this._resized&&419!==e||(t=(e=this._codeEditor.getLayoutInfo()).width-28-e.minimap.minimapWidth-15,this._resized=!0),this._domNode.style.width=t+"px",this._isReplaceVisible&&(this._replaceInput.width=te.I(this._findInput.domNode)),this._findInput.inputBox.layout()}}))}updateAccessibilitySupport(){var e=this._codeEditor.getOption(2);this._findInput.setFocusInputOnOptionClick(2!==e)}}gt.ID="editor.contrib.findWidget";class pt extends ie.a{constructor(e){super(),this._opts=e;let t="button";this._opts.className&&(t=t+" "+this._opts.className),this._opts.icon&&(t=t+" "+v.d.asClassName(this._opts.icon)),this._domNode=document.createElement("div"),this._domNode.title=this._opts.label,this._domNode.tabIndex=0,this._domNode.className=t,this._domNode.setAttribute("role","button"),this._domNode.setAttribute("aria-label",this._opts.label),this.onclick(this._domNode,e=>{this._opts.onTrigger(),e.preventDefault()}),this.onkeydown(this._domNode,e=>e.equals(10)||e.equals(3)?(this._opts.onTrigger(),void e.preventDefault()):void(this._opts.onKeyDown&&this._opts.onKeyDown(e)))}get domNode(){return this._domNode}isEnabled(){return 0<=this._domNode.tabIndex}focus(){this._domNode.focus()}setEnabled(e){this._domNode.classList.toggle("disabled",!e),this._domNode.setAttribute("aria-disabled",String(!e)),this._domNode.tabIndex=e?0:-1}setExpanded(e){this._domNode.setAttribute("aria-expanded",String(!!e)),e?(this._domNode.classList.remove(...v.d.asClassNameArray(Ve)),this._domNode.classList.add(...v.d.asClassNameArray(ze))):(this._domNode.classList.remove(...v.d.asClassNameArray(ze)),this._domNode.classList.add(...v.d.asClassNameArray(Ve)))}}Object(v.f)((e,t)=>{var i=(e,i)=>{i&&t.addRule(`.monaco-editor ${e} { background-color: ${i}; }`)};i(".findMatch",e.getColor(m.x)),i(".currentFindMatch",e.getColor(m.v)),i(".findScope",e.getColor(m.z)),i(".find-widget",e.getColor(m.cb)),(i=e.getColor(m.Tc))&&t.addRule(`.monaco-editor .find-widget { box-shadow: 0 0 8px 2px ${i}; }`),(i=e.getColor(m.y))&&t.addRule(`.monaco-editor .findMatch { border: 1px ${"hc"===e.type?"dotted":"solid"} ${i}; box-sizing: border-box; }`),(i=e.getColor(m.w))&&t.addRule(`.monaco-editor .currentFindMatch { border: 2px solid ${i}; padding: 1px; box-sizing: border-box; }`),(i=e.getColor(m.A))&&t.addRule(`.monaco-editor .findScope { border: 1px ${"hc"===e.type?"dashed":"solid"} ${i}; }`),(i=e.getColor(m.h))&&t.addRule(`.monaco-editor .find-widget { border: 1px solid ${i}; }`),(i=e.getColor(m.eb))&&t.addRule(`.monaco-editor .find-widget { color: ${i}; }`),(i=e.getColor(m.gb))&&t.addRule(`.monaco-editor .find-widget.no-results .matchesCount { color: ${i}; }`),(i=e.getColor(m.fb))?t.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${i}; }`):(n=e.getColor(m.db))&&t.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${n}; }`);var n=e.getColor(m.Qc);n&&t.addRule(`\n\t\t.monaco-editor .find-widget .button:not(.disabled):hover,\n\t\t.monaco-editor .find-widget .codicon-find-selection:hover {\n\t\t\tbackground-color: ${n} !important;\n\t\t}\n\t`),(e=e.getColor(m.hb))&&t.addRule(`.monaco-editor .find-widget .monaco-inputbox.synthetic-focus { outline-color: ${e}; }`)});f=i(32),oe=i(148),t=i(106),p=i(58),Ee=i(64),Ne=i(113),ie=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;0<=a;a--)(o=e[a])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s},i=function(e,t){return function(i,n){t(i,n,e)}};var ft=function(e,t,i,n){return new(i=i||Promise)((function(o,r){function s(e){try{l(n.next(e))}catch(e){r(e)}}function a(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):((t=e.value)instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};function mt(e,t="single",i=!1){if(!e.hasModel())return null;const n=e.getSelection();if("single"===t&&n.startLineNumber===n.endLineNumber||"multiple"===t)if(n.isEmpty()){if((t=e.getConfiguredWordAtPosition(n.getStartPosition()))&&!1===i)return t.word}else if(e.getModel().getValueLengthInRange(n)<524288)return e.getModel().getValueInRange(n);return null}let vt=class e extends o.a{constructor(e,t,i,o){super(),this._editor=e,this._findWidgetVisible=E.bindTo(t),this._contextKeyService=t,this._storageService=i,this._clipboardService=o,this._updateHistoryDelayer=new n.a(500),this._state=this._register(new ve),this.loadQueryState(),this._register(this._state.onFindReplaceStateChange(e=>this._onStateChanged(e))),this._model=null,this._register(this._editor.onDidChangeModel(()=>{var e=this._editor.getModel()&&this._state.isRevealed;this.disposeModel(),this._state.change({searchScope:null,matchCase:this._storageService.getBoolean("editor.matchCase",1,!1),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,!1),isRegex:this._storageService.getBoolean("editor.isRegex",1,!1),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,!1)},!1),e&&this._start({forceRevealReplace:!1,seedSearchStringFromSelection:"none",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!1,updateSearchScope:!1,loop:this._editor.getOption(35).loop})}))}get editor(){return this._editor}static get(t){return t.getContribution(e.ID)}dispose(){this.disposeModel(),super.dispose()}disposeModel(){this._model&&(this._model.dispose(),this._model=null)}_onStateChanged(e){this.saveQueryState(e),e.isRevealed&&(this._state.isRevealed?this._findWidgetVisible.set(!0):(this._findWidgetVisible.reset(),this.disposeModel())),e.searchString&&this.setGlobalBufferTerm(this._state.searchString)}saveQueryState(e){e.isRegex&&this._storageService.store("editor.isRegex",this._state.actualIsRegex,1,0),e.wholeWord&&this._storageService.store("editor.wholeWord",this._state.actualWholeWord,1,0),e.matchCase&&this._storageService.store("editor.matchCase",this._state.actualMatchCase,1,0),e.preserveCase&&this._storageService.store("editor.preserveCase",this._state.actualPreserveCase,1,0)}loadQueryState(){this._state.change({matchCase:this._storageService.getBoolean("editor.matchCase",1,this._state.matchCase),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,this._state.wholeWord),isRegex:this._storageService.getBoolean("editor.isRegex",1,this._state.isRegex),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,this._state.preserveCase)},!1)}isFindInputFocused(){return!!N.getValue(this._contextKeyService)}getState(){return this._state}closeFindWidget(){this._state.change({isRevealed:!1,searchScope:null},!1),this._editor.focus()}toggleCaseSensitive(){this._state.change({matchCase:!this._state.matchCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleWholeWords(){this._state.change({wholeWord:!this._state.wholeWord},!1),this._state.isRevealed||this.highlightFindOptions()}toggleRegex(){this._state.change({isRegex:!this._state.isRegex},!1),this._state.isRevealed||this.highlightFindOptions()}togglePreserveCase(){this._state.change({preserveCase:!this._state.preserveCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleSearchScope(){if(this._state.searchScope)this._state.change({searchScope:null},!0);else if(this._editor.hasModel()){let e=this._editor.getSelections();e.map(e=>(e=1===e.endColumn&&e.endLineNumber>e.startLineNumber?e.setEndPosition(e.endLineNumber-1,this._editor.getModel().getLineMaxColumn(e.endLineNumber-1)):e).isEmpty()?null:e).filter(e=>!!e),e.length&&this._state.change({searchScope:e},!0)}}setSearchString(e){this._state.isRegex&&(e=r.t(e)),this._state.change({searchString:e},!1)}highlightFindOptions(e=0){}_start(e){return ft(this,void 0,void 0,(function*(){if(this.disposeModel(),this._editor.hasModel()){let n={isRevealed:!0};var t;if("single"===e.seedSearchStringFromSelection?(t=mt(this._editor,e.seedSearchStringFromSelection,e.seedSearchStringFromNonEmptySelection))&&(this._state.isRegex?n.searchString=r.t(t):n.searchString=t):"multiple"!==e.seedSearchStringFromSelection||e.updateSearchScope||(i=mt(this._editor,e.seedSearchStringFromSelection))&&(n.searchString=i),!n.searchString&&e.seedSearchStringFromGlobalClipboard){var i=yield this.getGlobalBufferTerm();if(!this._editor.hasModel())return;i&&(n.searchString=i)}if(e.forceRevealReplace?n.isReplaceRevealed=!0:this._findWidgetVisible.get()||(n.isReplaceRevealed=!1),e.updateSearchScope){let e=this._editor.getSelections();e.some(e=>!e.isEmpty())&&(n.searchScope=e)}n.loop=e.loop,this._state.change(n,!1),this._model||(this._model=new ee(this._editor,this._state))}}))}start(e){return this._start(e)}moveToNextMatch(){return!!this._model&&(this._model.moveToNextMatch(),!0)}moveToPrevMatch(){return!!this._model&&(this._model.moveToPrevMatch(),!0)}replace(){return!!this._model&&(this._model.replace(),!0)}replaceAll(){return!!this._model&&(this._model.replaceAll(),!0)}selectAllMatches(){return!!this._model&&(this._model.selectAllMatches(),this._editor.focus(),!0)}getGlobalBufferTerm(){return ft(this,void 0,void 0,(function*(){return this._editor.getOption(35).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()?this._clipboardService.readFindText():""}))}setGlobalBufferTerm(e){this._editor.getOption(35).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()&&this._clipboardService.writeFindText(e)}};vt.ID="editor.contrib.findController",vt=ie([i(1,O.b),i(2,Ne.a),i(3,oe.a)],vt);let bt=class extends vt{constructor(e,t,i,n,o,r,s,a){super(e,i,s,a),this._contextViewService=t,this._keybindingService=n,this._themeService=o,this._notificationService=r,this._widget=null,this._findOptionsWidget=null}_start(e){const t=Object.create(null,{_start:{get:()=>super._start}});return ft(this,void 0,void 0,(function*(){this._widget||this._createFindWidget();var i=this._editor.getSelection();let n=!1;switch(this._editor.getOption(35).autoFindInSelection){case"always":n=!0;break;case"never":n=!1;break;case"multiline":n=!!i&&i.startLineNumber!==i.endLineNumber}e.updateSearchScope=n,yield t._start.call(this,e),this._widget&&(2===e.shouldFocus?this._widget.focusReplaceInput():1===e.shouldFocus&&this._widget.focusFindInput())}))}highlightFindOptions(e=!1){this._widget||this._createFindWidget(),(this._state.isRevealed&&!e?this._widget:this._findOptionsWidget).highlightFindOptions()}_createFindWidget(){this._widget=this._register(new gt(this._editor,this,this._state,this._contextViewService,this._keybindingService,this._contextKeyService,this._themeService,this._storageService,this._notificationService)),this._findOptionsWidget=this._register(new fe(this._editor,this._state,this._keybindingService,this._themeService))}};bt=ie([i(1,t.b),i(2,O.b),i(3,p.a),i(4,v.b),i(5,Ee.a),i(6,Ne.a),i(7,oe.a)],bt);const _t=Object(s.p)(new s.f({id:F,label:le.a("startFindAction","Find"),alias:"Find",precondition:O.a.or(a.a.focus,O.a.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2084,weight:100},menuOpts:{menuId:f.b.MenubarEditMenu,group:"3_find",title:le.a({key:"miFind",comment:["&& denotes a mnemonic"]},"&&Find"),order:1}}));_t.addImplementation(0,(e,t,i)=>{const n=vt.get(t);return!!n&&n.start({forceRevealReplace:!1,seedSearchStringFromSelection:"never"!==t.getOption(35).seedSearchStringFromSelection?"single":"none",seedSearchStringFromNonEmptySelection:"selection"===t.getOption(35).seedSearchStringFromSelection,seedSearchStringFromGlobalClipboard:t.getOption(35).globalFindClipboard,shouldFocus:1,shouldAnimate:!0,updateSearchScope:!1,loop:t.getOption(35).loop})});class wt extends s.b{constructor(){super({id:j,label:le.a("startFindWithSelectionAction","Find With Selection"),alias:"Find With Selection",precondition:void 0,kbOpts:{kbExpr:null,primary:0,mac:{primary:2083},weight:100}})}run(e,t){return ft(this,void 0,void 0,(function*(){let e=vt.get(t);e&&(yield e.start({forceRevealReplace:!1,seedSearchStringFromSelection:"multiple",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:t.getOption(35).loop}),e.setGlobalBufferTerm(e.getState().searchString))}))}}class Ct extends s.b{run(e,t){return ft(this,void 0,void 0,(function*(){let e=vt.get(t);e&&!this._run(e)&&(yield e.start({forceRevealReplace:!1,seedSearchStringFromSelection:0===e.getState().searchString.length&&"never"!==t.getOption(35).seedSearchStringFromSelection?"single":"none",seedSearchStringFromNonEmptySelection:"selection"===t.getOption(35).seedSearchStringFromSelection,seedSearchStringFromGlobalClipboard:!0,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:t.getOption(35).loop}),this._run(e))}))}}class yt extends Ct{constructor(){super({id:B,label:le.a("findNextMatchAction","Find Next"),alias:"Find Next",precondition:void 0,kbOpts:[{kbExpr:a.a.focus,primary:61,mac:{primary:2085,secondary:[61]},weight:100},{kbExpr:O.a.and(a.a.focus,N),primary:3,weight:100}]})}_run(e){return!!e.moveToNextMatch()&&(e.editor.pushUndoStop(),!0)}}class xt extends Ct{constructor(){super({id:W,label:le.a("findPreviousMatchAction","Find Previous"),alias:"Find Previous",precondition:void 0,kbOpts:[{kbExpr:a.a.focus,primary:1085,mac:{primary:3109,secondary:[1085]},weight:100},{kbExpr:O.a.and(a.a.focus,N),primary:1027,weight:100}]})}_run(e){return e.moveToPrevMatch()}}class St extends s.b{run(e,t){return ft(this,void 0,void 0,(function*(){let e=vt.get(t);if(e){var i="selection"===t.getOption(35).seedSearchStringFromSelection;let n=null;"never"!==t.getOption(35).seedSearchStringFromSelection&&(n=mt(t,"single",i)),n&&e.setSearchString(n),this._run(e)||(yield e.start({forceRevealReplace:!1,seedSearchStringFromSelection:"never"!==t.getOption(35).seedSearchStringFromSelection?"single":"none",seedSearchStringFromNonEmptySelection:i,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:t.getOption(35).loop}),this._run(e))}}))}}class kt extends St{constructor(){super({id:V,label:le.a("nextSelectionMatchFindAction","Find Next Selection"),alias:"Find Next Selection",precondition:void 0,kbOpts:{kbExpr:a.a.focus,primary:2109,weight:100}})}_run(e){return e.moveToNextMatch()}}class Dt extends St{constructor(){super({id:z,label:le.a("previousSelectionMatchFindAction","Find Previous Selection"),alias:"Find Previous Selection",precondition:void 0,kbOpts:{kbExpr:a.a.focus,primary:3133,weight:100}})}_run(e){return e.moveToPrevMatch()}}const Lt=Object(s.p)(new s.f({id:H,label:le.a("startReplace","Replace"),alias:"Replace",precondition:O.a.or(a.a.focus,O.a.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2086,mac:{primary:2596},weight:100},menuOpts:{menuId:f.b.MenubarEditMenu,group:"3_find",title:le.a({key:"miReplace",comment:["&& denotes a mnemonic"]},"&&Replace"),order:2}}));Lt.addImplementation(0,(e,t,i)=>{if(!t.hasModel()||t.getOption(80))return!1;const n=vt.get(t);if(!n)return!1;const o=t.getSelection();var r=n.isFindInputFocused(),s=!o.isEmpty()&&o.startLineNumber===o.endLineNumber&&"never"!==t.getOption(35).seedSearchStringFromSelection&&!r;r=r||s?2:1;return n.start({forceRevealReplace:!0,seedSearchStringFromSelection:s?"single":"none",seedSearchStringFromNonEmptySelection:"selection"===t.getOption(35).seedSearchStringFromSelection,seedSearchStringFromGlobalClipboard:"never"!==t.getOption(35).seedSearchStringFromSelection,shouldFocus:r,shouldAnimate:!0,updateSearchScope:!1,loop:t.getOption(35).loop})}),Object(s.l)(vt.ID,bt),Object(s.j)(wt),Object(s.j)(yt),Object(s.j)(xt),Object(s.j)(kt),Object(s.j)(Dt);const Ot=s.c.bindToContribution(vt.get);Object(s.k)(new Ot({id:U,precondition:E,handler:e=>e.closeFindWidget(),kbOpts:{weight:105,kbExpr:O.a.and(a.a.focus,O.a.not("isComposing")),primary:9,secondary:[1033]}})),Object(s.k)(new Ot({id:$,precondition:void 0,handler:e=>e.toggleCaseSensitive(),kbOpts:{weight:105,kbExpr:a.a.focus,primary:T.primary,mac:T.mac,win:T.win,linux:T.linux}})),Object(s.k)(new Ot({id:K,precondition:void 0,handler:e=>e.toggleWholeWords(),kbOpts:{weight:105,kbExpr:a.a.focus,primary:M.primary,mac:M.mac,win:M.win,linux:M.linux}})),Object(s.k)(new Ot({id:q,precondition:void 0,handler:e=>e.toggleRegex(),kbOpts:{weight:105,kbExpr:a.a.focus,primary:A.primary,mac:A.mac,win:A.win,linux:A.linux}})),Object(s.k)(new Ot({id:G,precondition:void 0,handler:e=>e.toggleSearchScope(),kbOpts:{weight:105,kbExpr:a.a.focus,primary:P.primary,mac:P.mac,win:P.win,linux:P.linux}})),Object(s.k)(new Ot({id:Y,precondition:void 0,handler:e=>e.togglePreserveCase(),kbOpts:{weight:105,kbExpr:a.a.focus,primary:R.primary,mac:R.mac,win:R.win,linux:R.linux}})),Object(s.k)(new Ot({id:Z,precondition:E,handler:e=>e.replace(),kbOpts:{weight:105,kbExpr:a.a.focus,primary:3094}})),Object(s.k)(new Ot({id:Z,precondition:E,handler:e=>e.replace(),kbOpts:{weight:105,kbExpr:O.a.and(a.a.focus,I),primary:3}})),Object(s.k)(new Ot({id:X,precondition:E,handler:e=>e.replaceAll(),kbOpts:{weight:105,kbExpr:a.a.focus,primary:2563}})),Object(s.k)(new Ot({id:X,precondition:E,handler:e=>e.replaceAll(),kbOpts:{weight:105,kbExpr:O.a.and(a.a.focus,I),primary:void 0,mac:{primary:2051}}})),Object(s.k)(new Ot({id:Q,precondition:E,handler:e=>e.selectAllMatches(),kbOpts:{weight:105,kbExpr:a.a.focus,primary:515}}))},function(e,t,i){"use strict";function n(e,t){t=function(e){var t=[],i=_,n="",o=!1,r="";e:for(var s=0;s<e.length;s++){var a=e[s];if("-"===a&&s===e.length-1){i=C,t.push(r);break e}if("("!==a)if(")"!==a)if(o)r+=a;else switch(a){case".":t.push(r),r="";break;case"+":i=w;case"=":t.push(r),n=e.slice(s+1);break e;default:r+=a}else o=!1;else o=!0}return{path:t,opertation:i,value:n}}(t),function(e,t,i){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:_,o=void 0===(s=e.proxies)?[]:s,r=void 0===(s=e["proxy-groups"])?[]:s,s=t.slice(0,-1),a=t[t.length-1],l=i;try{l=JSON.parse(i)}catch(e){}var c,d=b.reduce(s,(function(e,i,n){var o=e[i];return void 0!==o||Array.isArray(e)&&(o=e.find((function(e){return e.name===i})))?o:(t.length>n+1?(n=t[n+1],0<=parseInt(n)?e[i]=[]:e[i]={}):e[i]={},e[i])}),e),h=Array.isArray(d),u=function(e){if(/^\[\](shuffledProxyNames|proxyNames|groupNames)\|?(.+)?$/.test(e)){var t=RegExp.$1,i=RegExp.$2||"";e="groupNames"===t?r:"proxyNames"===t?o:[];return(e="shuffledProxyNames"===t?b.shuffle(o):e).map((function(e){return e.name})).filter((function(e){return new RegExp(i).test(e)}))}return null}(l);switch(n){case _:u?d[a]=u:(c=v()(d[a]),d[a]="number"===c?+l:"boolean"!==c||"boolean"==typeof l?l:"true"===l);break;case w:h?d.splice.apply(d,[a,0].concat(m()(u||[l]))):d[a]=u||l;break;case C:h?-1<parseInt(a)?d.splice(a,1):d.splice(d.findIndex((function(e){return e.name===a})),1):delete d[a]}}(e,t.path,t.value,t.opertation)}i.d(t,"a",(function(){return M}));var o=i(13),r=(t=i.n(o),o=i(57),i.n(o)),s=(o=i(31),i.n(o)),a=(o=i(7),i.n(o)),l=i(51),c=i(87),d=i.n(c),h=(o=i(30),i.n(o)),u=(o=i(20),i.n(o)),g=i(249),p=(o=i(53),i.n(o)),f=(o=i(86),i.n(o)),m=(o=i(43),i.n(o)),v=(o=i(213),i.n(o)),b=i(86),_=Symbol(),w=Symbol(),C=Symbol(),y=i(39),x=i(360),S=i(361);function k(e,t){var i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!i){if(Array.isArray(e)||(i=function(e,t){if(e){if("string"==typeof e)return D(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(i="Object"===i&&e.constructor?e.constructor.name:i)||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?D(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){i&&(e=i);var n=0;return{s:t=function(){},n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,r=!0,s=!1;return{s:function(){i=i.call(e)},n:function(){var e=i.next();return r=e.done,e},e:function(e){s=!0,o=e},f:function(){try{r||null==i.return||i.return()}finally{if(s)throw o}}}}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function L(e,t){var i,n=Object.keys(e);return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(e),t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)),n}function O(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?L(Object(i),!0).forEach((function(t){s()(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):L(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function E(e){var t={};return/upload=(.+?)(;|$)/.test(e)&&(t.upload=parseInt(RegExp.$1.trim())),/download=(.+?)(;|$)/.test(e)&&(t.download=parseInt(RegExp.$1.trim())),/total=(.+?)(;|$)/.test(e)&&(t.total=parseInt(RegExp.$1.trim())),/expire=(.+?)(;|$)/.test(e)&&(t.expire=parseInt(RegExp.$1.trim())),t}var N,I,T=i(211),M=(N=t()(a.a.mark((function e(t){var i,n,o,s,d,g,f,m,v,b,_,w,C,y,k,D,L,N,I,T,M,P,R,F,j;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.url,o=t.cancelToken,n=void 0===o?null:o,o=void 0===(o=t.headersString)?"":o,e.prev=1,e.next=4,function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},n=l.a.state.app.settings.headersText,o={};if(n)try{var r=p.a.parse(n).headers;o=void 0===r?{}:r}catch(e){}return Object(c.get)(e,O(O({validateStatus:function(){return!0}},t),{},{headers:O(O({pragma:"no-cache"},i),o),responseType:"text",transformResponse:[function(e){return e}]}))}(i,{cancelToken:n},function(e){try{return e.split("\n").reduce((function(e,t){var i=t.split(":");i=(t=r()(i,2))[0],t=t[1];return e[i.trim()]=t.trim(),e}),{})}catch(e){return{}}}(o));case 4:y=e.sent,s=y.status,k=y.headers,C=void 0===k?{}:k,L=y.data,d="config.yaml",g=(new Date).getTime()+".yml";try{d=u.a.basename(i)}catch(e){console.error(e.stack)}/([^\/]*?)(?:$|\?)/.test(i)&&(d=decodeURIComponent(RegExp.$1.trim())),m=C["profile-update-interval"],N=void 0===m?0:m,w=C["profile-web-page-url"],f=void 0===w?"":w,k=C["content-disposition"],y=C["subscription-userinfo"],m=void 0===y?"":y;try{(_=null===(v=Object(S.parse)(k))||void 0===v||null===(b=v.parameters)||void 0===b?void 0:b.filename)&&(d=_)}catch(e){}if(w=parseInt(N)||0,C=l.a.state.app.profilesPath,y=u.a.join(C,g),k=-1,200===s)return e.next=22,A(i,L,!0);e.next=45;break;case 22:if(D=e.sent,N=l.a.state.app.profiles.files,T=(F=void 0===N?[]:N).findIndex((function(e){return e.url===i})),k=-1<T?(L=F[T],N=(N=O({},L)).time,y=u.a.join(C,N),l.a.commit("CHANGE_PROFILE",{index:T,profile:O(O({},L),{},{subInfo:E(m||D),homeWeb:f})}),T):(M={time:g,name:d,url:i,selected:[],interval:w,subInfo:E(m||D),homeWeb:f},l.a.commit("APPEND_PROFILE",{profile:M}),F.length),T=y.slice(0,-4)+".base.yml",M=y.slice(0,-4)+".change.yml",!h.a.existsSync(T)||!h.a.existsSync(M)){e.next=41;break}if(P=h.a.readFileSync(T).toString(),R=h.a.readFileSync(M).toString(),/<{7}[\S\s]+?={7}[\S\s]+?>{7}/.test(R))return e.abrupt("return",{success:!1,message:'更改包含冲突, "修改(diff)文件" 以解决问题'});e.next=33;break;case 33:if(j=Object(x.merge)(R,P,D,{stringSeparator:/\n|\r\n/}),F=j.conflict,j=j.result,h.a.writeFileSync(T,D),h.a.writeFileSync(M,j.join("\n")),F)return e.abrupt("return",{success:!1,message:'无法合并配置文件, "修改文件" 以解决问题.'});e.next=40;break;case 40:I=j.join("\n");case 41:return h.a.writeFileSync(y,I||D),e.abrupt("return",{success:!0,targetIndex:k});case 45:return e.abrupt("return",{success:!1,message:"下载资料(".concat(i,") 失败，错误：HTTP 响应状态代码(").concat(s,")")});case 46:e.next=54;break;case 48:if(e.prev=48,e.t0=e.catch(1),console.error(e.t0),e.t0.message)return e.abrupt("return",{success:!1,message:"下载资料(".concat(i,") 失败，错误: ").concat(e.t0.message)});e.next=54;break;case 54:return e.abrupt("return",{success:!1,message:"未知错误"});case 55:case"end":return e.stop()}}),e,null,[[1,48]])}))),function(e){return N.apply(this,arguments)}),A=(I=t()(a.a.mark((function e(t,n){var o,r,s,c,u,f,m,v,b,_,w,C,x,S,D,L,E,N=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=2<N.length&&void 0!==N[2]&&N[2],e.prev=1,r=null!==(r=(void 0===(r=l.a.state.app.profiles.files)?[]:r).find((function(e){return e.url===t})))&&void 0!==r?r:{url:t},e.t0=g.Console,e.t1=h.a,e.next=8,l.a.dispatch("getParserLogPath");case 8:if(e.t2=e.sent,e.t3=e.t1.createWriteStream.call(e.t1,e.t2),w=new e.t0(e.t3),s={axios:i(87),yaml:i(53),homeDir:l.a.state.app.clashPath,console:o?w:console,notify:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",i=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];Object(y.j)(e,t,i)}},f=l.a.state.app.settings.profileParsersText,m=[],f)try{c=p.a.parse(f),u=c.parsers,m=(void 0===u?[]:u)||[]}catch(e){}w=m.filter((function(e){var i=e.url;e=e.reg;return i?i===t:e?new RegExp(e).test(t):void 0})),f=n,m=k(w),e.prev=18,m.s();case 20:if((w=m.n()).done){e.next=58;break}if(_=w.value,w=_.code,v=_.file,b=_.yaml,_=_.remote,w)return w=T("'use strict';\n".concat(w)),e.next=27,w.parse(f,s,r);e.next=28;break;case 27:f=e.sent;case 28:if(!v){e.next=40;break}if(C=h.a.readFileSync(v,"utf-8"),!/\.ya?ml$/.test(v)){e.next=35;break}x=p.a.parse(C),f=P(f,x),e.next=40;break;case 35:if(/\.js$/.test(v))return x=T("'use strict';\n".concat(C),v),e.next=39,x.parse(f,s,r);e.next=40;break;case 39:f=e.sent;case 40:if(b&&(f=P(f,b)),!_){e.next=56;break}if(S=_.url,D=void 0!==(D=_.cache)&&D,S){e.next=45;break}throw new Error("Remote parser url is required");case 45:return e.next=47,d.a.get(S,{headers:{"cache-control":D?"max-age=3600":"no-cache"}});case 47:if(E=e.sent,L=E.data,200!==(E=E.status))throw new Error("Remote parser download failed with status: ".concat(E));e.next=52;break;case 52:return E=T("'use strict';\n".concat(L)),e.next=55,E.parse(f,s,r);case 55:f=e.sent;case 56:e.next=20;break;case 58:e.next=63;break;case 60:e.prev=60,e.t4=e.catch(18),m.e(e.t4);case 63:return e.prev=63,m.f(),e.finish(63);case 66:return e.abrupt("return",f);case 69:throw e.prev=69,e.t5=e.catch(1),O(O({},e.t5),{},{message:"[Parser Error] "+e.t5.message});case 72:case"end":return e.stop()}}),e,null,[[1,69],[18,60,63,66]])}))),function(e,t){return I.apply(this,arguments)}),P=function(e,t){var i={},o=void 0===(d=t["append-rules"])?[]:d,r=void 0===(_=t["prepend-rules"])?[]:_,s=void 0===(h=t["append-proxies"])?[]:h,a=void 0===(v=t["prepend-proxies"])?[]:v,l=void 0===(u=t["append-proxy-groups"])?[]:u,c=void 0===(w=t["prepend-proxy-groups"])?[]:w,d=void 0===(g=t["mix-proxy-providers"])?{}:g,h=void 0===(_=t["mix-rule-providers"])?{}:_,u=void 0===(v=t["mix-object"])?{}:v,g=void 0===(w=t.commands)?[]:w,m=void 0===(_=t["key-orders"])?[]:_,v=p.a.parse(e),b=f.a.cloneDeep(v),_=(t=void 0===(w=v.rules)?[]:w,e=void 0===(_=v.proxies)?[]:_,void 0===(w=v["proxy-groups"])?[]:w),w=void 0===(w=v["proxy-providers"])?{}:w;v=void 0===(v=v["rule-providers"])?{}:v;(r||o)&&(b.rules=r.concat(null!=t?t:[]).concat(o)),(a||s)&&(b.proxies=a.concat(null!=e?e:[]).concat(s)),(c||l)&&(b["proxy-groups"]=c.concat(null!=_?_:[]).concat(l)),d&&(b["proxy-providers"]=O(O({},w),d)),h&&(b["rule-providers"]=O(O({},v),h));var C,y=k(g);try{for(y.s();!(C=y.n()).done;){n(b,C.value)}}catch(e){y.e(e)}finally{y.f()}return 0<m.length&&(i.sortMapEntries=function(e,t){var i=e.key,n=t.key;return(-1===(e=m.findIndex((function(e){return e===i.value})))?1/0:e)-(-1===(t=m.findIndex((function(e){return e===n.value})))?1/0:t)}),p.a.stringify(O(O({},b),u),i)}},function(e,t,i){var n=i(549);(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n).locals&&(e.exports=n.locals),(0,i(28).default)("ae4e1ee8",n,!0,{})},function(e,t,i){"use strict";t.a='function FindProxyForURL(url, host) {\n  return "PROXY 127.0.0.1:%mixed-port%; SOCKS5 127.0.0.1:%mixed-port%; DIRECT;"\n}'},function(e,t){e.exports=require("console")},function(e,t,i){"use strict";i.d(t,"a",(function(){return p}));var n,o,r=i(13),s=(t=i.n(r),r=i(7),i.n(r)),a=i(25),l=i(96),c=i(20),d=i(51),h=i(24),u=(i(87),"cfw-update".concat(Object(a.k)()?".dmg":".exe")),g=(n=t()(s.a.mark((function e(t){var i,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.ipcRenderer.invoke("app","getPath","temp");case 2:return i=e.sent,n=Object(c.join)(i,u),e.next=6,h.ipcRenderer.invoke("start-download",t,n);case 6:return d.a.commit("SET_UPDATE_DOWNLOAD_PROGRESS",{progress:.01}),e.next=9,new Promise((function(e,t){h.ipcRenderer.on("download",(function(i,o,r){"downloading"===o&&d.a.commit("SET_UPDATE_DOWNLOAD_PROGRESS",{progress:r}),"completed"===o&&(d.a.commit("SET_UPDATE_DOWNLOAD_PROGRESS",{progress:null}),e(n)),"failed"===o&&(d.a.commit("SET_UPDATE_DOWNLOAD_PROGRESS",{progress:null}),t(r))}))}));case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e)}))),function(e){return n.apply(this,arguments)}),p=(o=t()(s.a.mark((function e(t,i){var n,o,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g(t);case 2:if(n=e.sent){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,h.ipcRenderer.invoke("app","getName");case 7:return o=e.sent,Object(a.k)()&&(r=Object(l.execSync)("hdiutil attach '".concat(n,"' -nobrowse")),/\/Volumes\/(Clash for Windows.+?)\n/.test(r)&&(r=RegExp.$1,Object(l.execSync)("rm -rf '/Applications/".concat(o,".app' && cp -R '/Volumes/").concat(r,"/").concat(o,".app' '/Applications/").concat(o,".app'")),Object(l.execSync)("hdiutil eject '/Volumes/".concat(r,"'"),{stdio:["ignore","ignore","ignore"]}))),e.abrupt("return",n);case 10:case"end":return e.stop()}}),e)}))),function(e,t){return o.apply(this,arguments)})},function(e,t){e.exports=require("uuid")},function(e,t,i){"use strict";i.r(t),i.d(t,"ToggleTabFocusModeAction",(function(){return s}));var n=i(73),o=(t=i(5),i(196)),r=i(0);class s extends t.b{constructor(){super({id:s.ID,label:r.a({key:"toggle.tabMovesFocus",comment:["Turn on/off use of tab key for moving focus around VS Code"]},"Toggle Tab Key Moves Focus"),alias:"Toggle Tab Key Moves Focus",precondition:void 0,kbOpts:{kbExpr:null,primary:2091,mac:{primary:1323},weight:100}})}run(e,t){var i=!o.b.getTabFocusMode();o.b.setTabFocusMode(i),i?Object(n.a)(r.a("toggle.tabMovesFocus.on","Pressing Tab will now move focus to the next focusable element")):Object(n.a)(r.a("toggle.tabMovesFocus.off","Pressing Tab will now insert the tab character"))}}s.ID="editor.action.toggleTabFocusMode",Object(t.j)(s)},function(e,t,i){"use strict";i.d(t,"b",(function(){return o})),i.d(t,"a",(function(){return r}));const n=Object.prototype.hasOwnProperty;function o(e,t){for(let i in e)if(n.call(e,i)&&!1===t({key:i,value:e[i]},(function(){delete e[i]})))return}class r{constructor(){this.map=new Map}add(e,t){let i=this.map.get(e);i||(i=new Set,this.map.set(e,i)),i.add(t)}delete(e,t){const i=this.map.get(e);i&&(i.delete(t),0===i.size&&this.map.delete(e))}forEach(e,t){const i=this.map.get(e);i&&i.forEach(t)}}},function(e,t,i){"use strict";i.d(t,"a",(function(){return D})),i.d(t,"b",(function(){return L}));var n=i(18),o=i(205),r=(t=i(74),i(72)),s=i(9);const a="**",l="[/\\\\]",c="[^/\\\\]",d=/\//g;function h(e){switch(e){case 0:return"";case 1:return c+"*?";default:return`(?:[/\\\\]|${c}+[/\\\\]|[/\\\\]${c}+)*?`}}function u(e,t){if(!e)return[];const i=[];let n=!1,o=!1,r="";for(const s of e){switch(s){case t:if(n||o)break;i.push(r),r="";continue;case"{":n=!0;break;case"}":n=!1;break;case"[":o=!0;break;case"]":o=!1}r+=s}return r&&i.push(r),i}const g=/^\*\*\/\*\.[\w\.-]+$/,p=/^\*\*\/([\w\.-]+)\/?$/,f=/^{\*\*\/[\*\.]?[\w\.-]+\/?(,\*\*\/[\*\.]?[\w\.-]+\/?)*}$/,m=/^{\*\*\/[\*\.]?[\w\.-]+(\/(\*\*)?)?(,\*\*\/[\*\.]?[\w\.-]+(\/(\*\*)?)?)*}$/,v=/^\*\*((\/[\w\.-]+)+)\/?$/,b=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/,_=new t.a(1e4),w=function(){return!1},C=function(){return null};function y(e,t){if(!e)return C;let i;i="string"!=typeof e?e.pattern:e,i=i.trim();var n=`${i}_${!!t.trimForExclusions}`;let o,r=_.get(n);if(r)return x(r,e);if(g.test(i)){const e=i.substr(4);r=function(t,n){return"string"==typeof t&&t.endsWith(e)?i:null}}else r=(o=p.exec(S(i,t)))?function(e,t){const i="/"+e,n="\\"+e,o=function(o,r){return"string"!=typeof o?null:r?r===e?t:null:o===e||o.endsWith(i)||o.endsWith(n)?t:null},r=[e];return o.basenames=r,o.patterns=[t],o.allBasenames=r,o}(o[1],i):(t.trimForExclusions?m:f).test(i)?function(e,t){const i=O(e.slice(1,-1).split(",").map(e=>y(e,t)).filter(e=>e!==C),e),n=i.length;if(!n)return C;if(1===n)return i[0];function o(t,n){for(let o=0,r=i.length;o<r;o++)if(i[o](t,n))return e;return null}var r=i.find(e=>!!e.allBasenames);return r&&(o.allBasenames=r.allBasenames),(r=i.reduce((e,t)=>t.allPaths?e.concat(t.allPaths):e,[])).length&&(o.allPaths=r),o}(i,t):(o=v.exec(S(i,t)))?k(o[1].substr(1),i,!0):(o=b.exec(S(i,t)))?k(o[1],i,!1):function(e){try{const t=new RegExp(`^${function e(t){if(!t)return"";let i="";const n=u(t,"/");if(n.every(e=>e===a))i=".*";else{let t=!1;n.forEach((o,r)=>{if(o!==a){let g=!1,p="",f=!1,m="";for(const t of o)if("}"!==t&&g)p+=t;else if(!f||"]"===t&&m)switch(t){case"{":g=!0;continue;case"[":f=!0;continue;case"}":var d=`(?:${u(p,",").map(t=>e(t)).join("|")})`;i+=d,g=!1,p="";break;case"]":i+="["+m+"]",f=!1,m="";break;case"?":i+=c;continue;case"*":i+=h(1);continue;default:i+=s.t(t)}else{let e;e="-"===t?t:"^"!==t&&"!"!==t||m?"/"===t?"":s.t(t):"^",m+=e}r<n.length-1&&(n[r+1]!==a||r+2<n.length)&&(i+=l),t=!1}else t||(i+=h(2),t=!0)})}return i}(e)}$`);return function(i){return t.lastIndex=0,"string"==typeof i&&t.test(i)?e:null}}catch(e){return C}}(i);return _.set(n,r),x(r,e)}function x(e,t){return"string"==typeof t?e:function(i,n){return o.b(i,t.base)?e(r.f(t.base,i),n):null}}function S(e,t){return t.trimForExclusions&&e.endsWith("/**")?e.substr(0,e.length-2):e}function k(e,t,i){const n=r.h===r.e.sep,o=n?e:e.replace(d,r.h),s=r.h+o,a=r.e.sep+e,l=i?function(i,r){return"string"!=typeof i||i!==o&&!i.endsWith(s)&&(n||i!==e&&!i.endsWith(a))?null:t}:function(i,r){return"string"!=typeof i||i!==o&&(n||i!==e)?null:t};return l.allPaths=[(i?"*/":"./")+e],l}function D(e,t,i){return!(!e||"string"!=typeof t)&&L(e)(t,void 0,i)}function L(e,t={}){if(!e)return w;if("string"==typeof e||(i=e)&&"string"==typeof i.base&&"string"==typeof i.pattern){const n=y(e,t);return n===C?w:(i=function(e,t){return!!n(e,t)},n.allBasenames&&(i.allBasenames=n.allBasenames),n.allPaths&&(i.allPaths=n.allPaths),i)}var i;return function(e,t){const i=O(Object.getOwnPropertyNames(e).map(i=>function(e,t,i){if(!1===t)return C;const o=y(e,i);if(o===C)return C;if("boolean"==typeof t)return o;if(t){const i=t.when;if("string"==typeof i)return(t=(t,r,s,a)=>{if(!a||!o(t,r))return null;const l=a(i.replace("$(basename)",s));return Object(n.k)(l)?l.then(t=>t?e:null):l?e:null}).requiresSiblings=!0,t}return o}(i,e[i],t)).filter(e=>e!==C)),o=i.length;if(!o)return C;if(!i.some(e=>!!e.requiresSiblings)){if(1===o)return i[0];const e=function(e,t){for(let o=0,r=i.length;o<r;o++){var n=i[o](e,t);if(n)return n}return null},t=i.find(e=>!!e.allBasenames);t&&(e.allBasenames=t.allBasenames);const n=i.reduce((e,t)=>t.allPaths?e.concat(t.allPaths):e,[]);return n.length&&(e.allPaths=n),e}const s=function(e,t,n){let o=void 0;for(let a=0,l=i.length;a<l;a++){const l=i[a];l.requiresSiblings&&n&&(t=t||r.a(e),o=o||t.substr(0,t.length-r.c(e).length));var s=l(e,t,o,n);if(s)return s}return null},a=i.find(e=>!!e.allBasenames);a&&(s.allBasenames=a.allBasenames);const l=i.reduce((e,t)=>t.allPaths?e.concat(t.allPaths):e,[]);return l.length&&(s.allPaths=l),s}(e,t)}function O(e,t){const i=e.filter(e=>!!e.basenames);if(i.length<2)return e;const n=i.reduce((e,t)=>(t=t.basenames)?e.concat(t):e,[]);let o;if(t){o=[];for(let e=0,i=n.length;e<i;e++)o.push(t)}else o=i.reduce((e,t)=>(t=t.patterns)?e.concat(t):e,[]);function r(e,t){if("string"!=typeof e)return null;if(!t){let n;for(n=e.length;0<n;n--){var i=e.charCodeAt(n-1);if(47===i||92===i)break}t=e.substr(n)}return-1!==(t=n.indexOf(t))?o[t]:null}r.basenames=n,r.patterns=o,r.allBasenames=n;const s=e.filter(e=>!e.basenames);return s.push(r),s}},function(e,t,i){"use strict";i.d(t,"a",(function(){return c}));var n=i(6),o=(t=i(2),i(15));class r{constructor(e,t){this.target=e.target,this.hasTriggerModifier=!!e.event[t.triggerModifier],this.hasSideBySideModifier=!!e.event[t.triggerSideBySideModifier],this.isNoneOrSingleMouseDown=e.event.detail<=1}}class s{constructor(e,t){this.keyCodeIsTriggerKey=e.keyCode===t.triggerKey,this.keyCodeIsSideBySideKey=e.keyCode===t.triggerSideBySideKey,this.hasTriggerModifier=!!e[t.triggerModifier]}}class a{constructor(e,t,i,n){this.triggerKey=e,this.triggerModifier=t,this.triggerSideBySideKey=i,this.triggerSideBySideModifier=n}equals(e){return this.triggerKey===e.triggerKey&&this.triggerModifier===e.triggerModifier&&this.triggerSideBySideKey===e.triggerSideBySideKey&&this.triggerSideBySideModifier===e.triggerSideBySideModifier}}function l(e){return"altKey"===e?o.f?new a(57,"metaKey",6,"altKey"):new a(5,"ctrlKey",6,"altKey"):o.f?new a(6,"altKey",57,"metaKey"):new a(6,"altKey",5,"ctrlKey")}class c extends t.a{constructor(e){super(),this._onMouseMoveOrRelevantKeyDown=this._register(new n.b),this.onMouseMoveOrRelevantKeyDown=this._onMouseMoveOrRelevantKeyDown.event,this._onExecute=this._register(new n.b),this.onExecute=this._onExecute.event,this._onCancel=this._register(new n.b),this.onCancel=this._onCancel.event,this._editor=e,this._opts=l(this._editor.getOption(69)),this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._register(this._editor.onDidChangeConfiguration(e=>{e.hasChanged(69)&&(e=l(this._editor.getOption(69)),this._opts.equals(e)||(this._opts=e,this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._onCancel.fire()))})),this._register(this._editor.onMouseMove(e=>this._onEditorMouseMove(new r(e,this._opts)))),this._register(this._editor.onMouseDown(e=>this._onEditorMouseDown(new r(e,this._opts)))),this._register(this._editor.onMouseUp(e=>this._onEditorMouseUp(new r(e,this._opts)))),this._register(this._editor.onKeyDown(e=>this._onEditorKeyDown(new s(e,this._opts)))),this._register(this._editor.onKeyUp(e=>this._onEditorKeyUp(new s(e,this._opts)))),this._register(this._editor.onMouseDrag(()=>this._resetHandler())),this._register(this._editor.onDidChangeCursorSelection(e=>this._onDidChangeCursorSelection(e))),this._register(this._editor.onDidChangeModel(e=>this._resetHandler())),this._register(this._editor.onDidChangeModelContent(()=>this._resetHandler())),this._register(this._editor.onDidScrollChange(e=>{(e.scrollTopChanged||e.scrollLeftChanged)&&this._resetHandler()}))}_onDidChangeCursorSelection(e){e.selection&&e.selection.startColumn!==e.selection.endColumn&&this._resetHandler()}_onEditorMouseMove(e){this._lastMouseMoveEvent=e,this._onMouseMoveOrRelevantKeyDown.fire([e,null])}_onEditorMouseDown(e){this._hasTriggerKeyOnMouseDown=e.hasTriggerModifier,this._lineNumberOnMouseDown=e.target.position?e.target.position.lineNumber:0}_onEditorMouseUp(e){var t=e.target.position?e.target.position.lineNumber:0;this._hasTriggerKeyOnMouseDown&&this._lineNumberOnMouseDown&&this._lineNumberOnMouseDown===t&&this._onExecute.fire(e)}_onEditorKeyDown(e){this._lastMouseMoveEvent&&(e.keyCodeIsTriggerKey||e.keyCodeIsSideBySideKey&&e.hasTriggerModifier)?this._onMouseMoveOrRelevantKeyDown.fire([this._lastMouseMoveEvent,e]):e.hasTriggerModifier&&this._onCancel.fire()}_onEditorKeyUp(e){e.keyCodeIsTriggerKey&&this._onCancel.fire()}_resetHandler(){this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._onCancel.fire()}}},function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));class n extends i(2).a{constructor(e,t,i){super(),this.referenceDomElement=e,this.changeCallback=i,this.width=-1,this.height=-1,this.resizeObserver=null,this.measureReferenceDomElementToken=-1,this.measureReferenceDomElement(!1,t)}dispose(){this.stopObserving(),super.dispose()}getWidth(){return this.width}getHeight(){return this.height}startObserving(){"undefined"!=typeof ResizeObserver?!this.resizeObserver&&this.referenceDomElement&&(this.resizeObserver=new ResizeObserver(e=>{e&&e[0]&&e[0].contentRect?this.observe({width:e[0].contentRect.width,height:e[0].contentRect.height}):this.observe()}),this.resizeObserver.observe(this.referenceDomElement)):-1===this.measureReferenceDomElementToken&&(this.measureReferenceDomElementToken=setInterval(()=>this.observe(),100))}stopObserving(){this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null),-1!==this.measureReferenceDomElementToken&&(clearInterval(this.measureReferenceDomElementToken),this.measureReferenceDomElementToken=-1)}observe(e){this.measureReferenceDomElement(!0,e)}measureReferenceDomElement(e,t){let i=0,n=0;t?(i=t.width,n=t.height):this.referenceDomElement&&(i=this.referenceDomElement.clientWidth,n=this.referenceDomElement.clientHeight),i=Math.max(5,i),n=Math.max(5,n),this.width===i&&this.height===n||(this.width=i,this.height=n,e&&this.changeCallback())}}},function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));class n{constructor(e,t,i,n,o,r){this.id=e,this.label=t,this.alias=i,this._precondition=n,this._run=o,this._contextKeyService=r}isSupported(){return this._contextKeyService.contextMatchesRules(this._precondition)}run(){return this.isSupported()?this._run():Promise.resolve(void 0)}}},function(e,t,i){"use strict";i.d(t,"b",(function(){return o})),i.d(t,"a",(function(){return r}));var n=i(159);class o{constructor(e,t){this._prefixSumIndexOfResultBrand=void 0,this.index=e,this.remainder=t}}class r{constructor(e){this.values=e,this.prefixSum=new Uint32Array(e.length),this.prefixSumValidIndex=new Int32Array(1),this.prefixSumValidIndex[0]=-1}insertValues(e,t){e=Object(n.a)(e);const i=this.values,o=this.prefixSum;var r=t.length;return 0!==r&&(this.values=new Uint32Array(i.length+r),this.values.set(i.subarray(0,e),0),this.values.set(i.subarray(e),e+r),this.values.set(t,e),e-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=e-1),this.prefixSum=new Uint32Array(this.values.length),0<=this.prefixSumValidIndex[0]&&this.prefixSum.set(o.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}changeValue(e,t){return e=Object(n.a)(e),t=Object(n.a)(t),this.values[e]!==t&&(this.values[e]=t,e-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=e-1),!0)}removeValues(e,t){e=Object(n.a)(e),t=Object(n.a)(t);const i=this.values,o=this.prefixSum;if(e>=i.length)return!1;var r=i.length-e;return 0!==(t=r<=t?r:t)&&(this.values=new Uint32Array(i.length-t),this.values.set(i.subarray(0,e),0),this.values.set(i.subarray(e+t),e),this.prefixSum=new Uint32Array(this.values.length),e-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=e-1),0<=this.prefixSumValidIndex[0]&&this.prefixSum.set(o.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}getTotalSum(){return 0===this.values.length?0:this._getPrefixSum(this.values.length-1)}getPrefixSum(e){return e<0?0:(e=Object(n.a)(e),this._getPrefixSum(e))}_getPrefixSum(e){if(e<=this.prefixSumValidIndex[0])return this.prefixSum[e];let t=this.prefixSumValidIndex[0]+1;0===t&&(this.prefixSum[0]=this.values[0],t++),e>=this.values.length&&(e=this.values.length-1);for(let i=t;i<=e;i++)this.prefixSum[i]=this.prefixSum[i-1]+this.values[i];return this.prefixSumValidIndex[0]=Math.max(this.prefixSumValidIndex[0],e),this.prefixSum[e]}getIndexOf(e){e=Math.floor(e),this.getTotalSum();let t=0,i=this.values.length-1,n=0;var r;let s=0;for(;t<=i;)if(n=t+(i-t)/2|0,s=(r=this.prefixSum[n])-this.values[n],e<s)i=n-1;else{if(!(r<=e))break;t=n+1}return new o(n,e-s)}}},function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));var n=i(114),o=i(12),r=i(3);class s{provideSelectionRanges(e,t){return function(e,t,i,n){return new(i=i||Promise)((function(o,r){function s(e){try{l(n.next(e))}catch(e){r(e)}}function a(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):((t=e.value)instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))}(this,void 0,void 0,(function*(){const i=[];for(const n of t){const t=[];i.push(t);const o=new Map;yield new Promise(t=>s._bracketsRightYield(t,0,e,n,o)),yield new Promise(i=>s._bracketsLeftYield(i,0,e,n,o,t))}return i}))}static _bracketsRightYield(e,t,i,o,r){const a=new Map;for(var l=Date.now();;){if(t>=s._maxRounds){e();break}if(!o){e();break}let h=i.findNextBracket(o);if(!h){e();break}if(Date.now()-l>s._maxDuration){setTimeout(()=>s._bracketsRightYield(e,t+1,i,o,r));break}var c=h.close[0];if(h.isOpen){var d=a.has(c)?a.get(c):0;a.set(c,d+1)}else if(d=a.has(c)?a.get(c):0,--d,a.set(c,Math.max(0,d)),d<0){let e=r.get(c);e||(e=new n.a,r.set(c,e)),e.push(h.range)}o=h.range.getEndPosition()}}static _bracketsLeftYield(e,t,i,n,o,a){const l=new Map;for(var c=Date.now();;){if(t>=s._maxRounds&&0===o.size){e();break}if(!n){e();break}let g=i.findPrevBracket(n);if(!g){e();break}if(Date.now()-c>s._maxDuration){setTimeout(()=>s._bracketsLeftYield(e,t+1,i,n,o,a));break}var d=g.close[0];if(g.isOpen){var h=l.has(d)?l.get(d):0;if(--h,l.set(d,Math.max(0,h)),h<0){let e=o.get(d);if(e){let t=e.shift();0===e.size&&o.delete(d);h=r.a.fromPositions(g.range.getEndPosition(),t.getStartPosition());var u=r.a.fromPositions(g.range.getStartPosition(),t.getEndPosition());a.push({range:h}),a.push({range:u}),s._addBracketLeading(i,u,a)}}}else u=l.has(d)?l.get(d):0,l.set(d,u+1);n=g.range.getStartPosition()}}static _addBracketLeading(e,t,i){if(t.startLineNumber!==t.endLineNumber){var n=t.startLineNumber;const s=e.getLineFirstNonWhitespaceColumn(n);if(0!==s&&s!==t.startColumn&&(i.push({range:r.a.fromPositions(new o.a(n,s),t.getEndPosition())}),i.push({range:r.a.fromPositions(new o.a(n,1),t.getEndPosition())})),0<(n-=1)){const s=e.getLineFirstNonWhitespaceColumn(n);s===t.startColumn&&s!==e.getLineLastNonWhitespaceColumn(n)&&(i.push({range:r.a.fromPositions(new o.a(n,s),t.getEndPosition())}),i.push({range:r.a.fromPositions(new o.a(n,1),t.getEndPosition())}))}}}}s._maxDuration=30,s._maxRounds=2},function(e,t,i){"use strict";i.d(t,"a",(function(){return u}));var n=i(22),o=i(38),r=i(17),s=i(54),a=(t=i(74),i(3)),l=i(11);i=i(85);class c{remove(){this.parent&&this.parent.children.delete(this.id)}static findId(e,t){let i;"string"==typeof e?i=`${t.id}/${e}`:(i=`${t.id}/${e.name}`,void 0!==t.children.get(i)&&(i=`${t.id}/${e.name}_${e.range.startLineNumber}_${e.range.startColumn}`));let n=i;for(let e=0;void 0!==t.children.get(n);e++)n=`${i}_${e}`;return n}static empty(e){return 0===e.children.size}}class d extends c{constructor(e,t,i){super(),this.id=e,this.parent=t,this.symbol=i,this.children=new Map}}class h extends c{constructor(e,t,i,n){super(),this.id=e,this.parent=t,this.label=i,this.order=n,this.children=new Map}}class u extends c{constructor(e){super(),this.uri=e,this.id="root",this.parent=void 0,this._groups=new Map,this.children=new Map,this.id="root",this.parent=void 0}static create(e,t){let i=this._keys.for(e,!0),n=u._requests.get(i);if(!n){var r=new o.b;n={promiseCnt:0,source:r,promise:u._create(e,r.token),model:void 0},u._requests.set(i,n);const t=Date.now();n.promise.then(()=>{this._requestDurations.update(e,Date.now()-t)})}return n.model?Promise.resolve(n.model):(n.promiseCnt+=1,t.onCancellationRequested(()=>{0==--n.promiseCnt&&(n.source.cancel(),u._requests.delete(i))}),new Promise((e,t)=>{n.promise.then(t=>{n.model=t,e(t)},e=>{u._requests.delete(i),t(e)})}))}static _create(e,t){const i=new o.b(t),s=new u(e.uri),a=l.m.ordered(e);var d=a.map((t,n)=>{var o;let a=c.findId("provider_"+n,s),l=new h(a,s,null!==(o=t.displayName)&&void 0!==o?o:"Unknown Outline Provider",n);return Promise.resolve(t.provideDocumentSymbols(e,i.token)).then(e=>{for(const t of e||[])u._makeOutlineElement(t,l);return l},e=>(Object(r.g)(e),l)).then(e=>{c.empty(e)?e.remove():s._groups.set(a,e)})});const g=l.m.onDidChange(()=>{var t=l.m.ordered(e);Object(n.g)(t,a)||i.cancel()});return Promise.all(d).then(()=>i.token.isCancellationRequested&&!t.isCancellationRequested?u._create(e,t):s._compact()).finally(()=>{g.dispose()})}static _makeOutlineElement(e,t){var i=c.findId(e,t),n=new d(i,t,e);if(e.children)for(const t of e.children)u._makeOutlineElement(t,n);t.children.set(n.id,n)}_compact(){let e=0;for(var[t,i]of this._groups)0===i.children.size?this._groups.delete(t):e+=1;var n;if(1!==e)this.children=this._groups;else for([,n]of s.a.first(this._groups.values()).children)(n.parent=this).children.set(n.id,n);return this}getTopLevelSymbols(){const e=[];for(const t of this.children.values())t instanceof d?e.push(t.symbol):e.push(...s.a.map(t.children.values(),e=>e.symbol));return e.sort((e,t)=>a.a.compareRangesUsingStarts(e.range,t.range))}asListOfDocumentSymbols(){var e=this.getTopLevelSymbols();const t=[];return u._flattenDocumentSymbols(t,e,""),t.sort((e,t)=>a.a.compareRangesUsingStarts(e.range,t.range))}static _flattenDocumentSymbols(e,t,i){for(const n of t)e.push({kind:n.kind,tags:n.tags,name:n.name,detail:n.detail,containerName:n.containerName||i,range:n.range,selectionRange:n.selectionRange,children:void 0}),n.children&&u._flattenDocumentSymbols(e,n.children,n.name)}}u._requestDurations=new i.b(l.m,350),u._requests=new t.a(9,.75),u._keys=new class{constructor(){this._counter=1,this._data=new WeakMap}for(e,t){return`${e.id}/${t?e.getVersionId():""}/${this._hash(l.m.all(e))}`}_hash(e){let t="";for(const i of e){let e=this._data.get(i);void 0===e&&(e=this._counter++,this._data.set(i,e)),t+=e}return t}}},function(e,t,i){"use strict";i.d(t,"a",(function(){return d}));var n=i(138),o=i(2),r=i(19),s=i(135),a=i(50),l=i(45),c=i(16);class d{constructor(e){this.options=e,this.rangeHighlightDecorationId=void 0}provide(e,t){var i;const n=new o.b;e.canAcceptInBackground=!(null===(i=this.options)||void 0===i||!i.canAcceptInBackground),e.matchOnLabel=e.matchOnDescription=e.matchOnDetail=e.sortByLabel=!1;const r=n.add(new o.d);return r.value=this.doProvide(e,t),n.add(this.onDidActiveTextEditorControlChange(()=>{r.value=void 0,r.value=this.doProvide(e,t)})),n}doProvide(e,t){const i=new o.b,a=this.activeTextEditorControl;if(a&&this.canProvideWithTextEditor(a)){const l={editor:a},c=Object(s.a)(a);if(c){let e=Object(r.p)(a.saveViewState());i.add(c.onDidChangeCursorPosition(()=>{e=Object(r.p)(a.saveViewState())})),l.restoreViewState=()=>{e&&a===this.activeTextEditorControl&&a.restoreViewState(e)},i.add(Object(n.a)(t.onCancellationRequested)(()=>{var e;return null===(e=l.restoreViewState)||void 0===e?void 0:e.call(l)}))}i.add(Object(o.i)(()=>this.clearDecorations(a))),i.add(this.provideWithTextEditor(l,e,t))}else i.add(this.provideWithoutTextEditor(e,t));return i}canProvideWithTextEditor(e){return!0}gotoLocation({editor:e},t){e.setSelection(t.range),e.revealRangeInCenter(t.range,0),t.preserveFocus||e.focus()}getModel(e){var t;return Object(s.c)(e)?null===(t=e.getModel())||void 0===t?void 0:t.modified:e.getModel()}addDecorations(e,t){e.changeDecorations(e=>{const i=[];this.rangeHighlightDecorationId&&(i.push(this.rangeHighlightDecorationId.overviewRulerDecorationId),i.push(this.rangeHighlightDecorationId.rangeHighlightId),this.rangeHighlightDecorationId=void 0);var n=[{range:t,options:{description:"quick-access-range-highlight",className:"rangeHighlight",isWholeLine:!0}},{range:t,options:{description:"quick-access-range-highlight-overview",overviewRuler:{color:Object(c.g)(l.N),position:a.g.Full}}}],[e,n]=e.deltaDecorations(i,n);this.rangeHighlightDecorationId={rangeHighlightId:e,overviewRulerDecorationId:n}})}clearDecorations(e){const t=this.rangeHighlightDecorationId;t&&(e.changeDecorations(e=>{e.deltaDecorations([t.overviewRulerDecorationId,t.rangeHighlightId],[])}),this.rangeHighlightDecorationId=void 0)}}},function(e,t,i){"use strict";i=i(25),i=Object(i.k)()?["127.0.0.1","192.168.0.0/16","10.0.0.0/8","172.16.0.0/12","100.64.0.0/10","17.0.0.0/8","localhost","*.local","169.254.0.0/16","224.0.0.0/4","240.0.0.0/4"]:["localhost","127.*","10.*","172.16.*","172.17.*","172.18.*","172.19.*","172.20.*","172.21.*","172.22.*","172.23.*","172.24.*","172.25.*","172.26.*","172.27.*","172.28.*","172.29.*","172.30.*","172.31.*","192.168.*","<local>"],t.a=i},function(e,t,i){"use strict";var n=i(31),o=i.n(n),r=i(24);n=i(33);function s(e,t){var i,n=Object.keys(e);return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(e),t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)),n}n={name:"info-icon",data:function(){return{isShowContent:!1,timeoutID:null,contentPosition:{top:"-1000px",left:"-1000px"}}},computed:function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?s(Object(i),!0).forEach((function(t){o()(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):s(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},Object(n.mapState)({})),watch:{isShowContent:function(e){var t;e?(t=this.$refs.icon.getBoundingClientRect(),e=this.$refs.content,t.y+20+e.offsetHeight<window.innerHeight?this.contentPosition={top:t.y+"px",left:t.x+20+"px"}:this.contentPosition={top:t.y+20-e.offsetHeight+"px",left:t.x+20+"px"}):this.contentPosition={top:"-1000px",left:"-1000px"}}},methods:{handleMouseEnter:function(){var e=this;this.timeoutID=setTimeout((function(){e.isShowContent=!0}),500)},handleMouseLeave:function(){this.isShowContent=!1,this.timeoutID&&clearTimeout(this.timeoutID)},handleContentClick:function(e){!(e=e.target)||(e=e.href)&&r.shell.openExternal(e)}},mounted:function(){}},i(581),i=i(37),n=Object(i.a)(n,(function(){var e=this.$createElement;return(e=this._self._c||e)("div",{staticClass:"info-icon-main",on:{mouseenter:this.handleMouseEnter,mouseleave:this.handleMouseLeave}},[e("div",{ref:"content",staticClass:"content",style:this.contentPosition,on:{click:this.handleContentClick}},[this._t("default")],2),this._v(" "),e("span",{ref:"icon",staticClass:"icon pr-1 text-base text-[color:var(--general-settings-icon-c)] opacity-70"},[this._v("info")])])}),[],!1,null,"32097048",null),t.a=n.exports},function(e,t,i){"use strict";i.r(t),i.d(t,"MarkerController",(function(){return q})),i.d(t,"NextMarkerAction",(function(){return Y}));var n=i(23),o=i(2),r=i(5),s=i(46),a=i(12),l=i(3),c=i(8),d=i(22),h=i(6),u=i(114),g=i(9),p=i(35),f=i(125),m=i(21),v=i(76),b=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;0<=a;a--)(o=e[a])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s},_=function(e,t){return function(i,n){t(i,n,e)}};class w{constructor(e,t,i){this.marker=e,this.index=t,this.total=i}}let C=class e{constructor(t,i){this._markerService=i,this._onDidChange=new h.b,this.onDidChange=this._onDidChange.event,this._dispoables=new o.b,this._markers=[],this._nextIdx=-1,p.a.isUri(t)?this._resourceFilter=e=>e.toString()===t.toString():t&&(this._resourceFilter=t);const n=()=>{this._markers=this._markerService.read({resource:p.a.isUri(t)?t:void 0,severities:v.c.Error|v.c.Warning|v.c.Info}),"function"==typeof t&&(this._markers=this._markers.filter(e=>this._resourceFilter(e.resource))),this._markers.sort(e._compareMarker)};n(),this._dispoables.add(i.onMarkerChanged(e=>{this._resourceFilter&&!e.some(e=>this._resourceFilter(e))||(n(),this._nextIdx=-1,this._onDidChange.fire())}))}dispose(){this._dispoables.dispose(),this._onDidChange.dispose()}matches(e){return!this._resourceFilter&&!e||!(!this._resourceFilter||!e)&&this._resourceFilter(e)}get selected(){var e=this._markers[this._nextIdx];return e&&new w(e,this._nextIdx+1,this._markers.length)}_initIdx(e,t,i){let n=!1,o=this._markers.findIndex(t=>t.resource.toString()===e.uri.toString());o<0&&(o=Object(d.d)(this._markers,{resource:e.uri},(e,t)=>Object(g.f)(e.resource.toString(),t.resource.toString())),o<0&&(o=~o));for(let i=o;i<this._markers.length;i++){let o=l.a.lift(this._markers[i]);var r;if(!o.isEmpty()||(r=e.getWordAtPosition(o.getStartPosition()))&&(o=new l.a(o.startLineNumber,r.startColumn,o.startLineNumber,r.endColumn)),t&&(o.containsPosition(t)||t.isBeforeOrEqual(o.getStartPosition()))){this._nextIdx=i,n=!0;break}if(this._markers[i].resource.toString()!==e.uri.toString())break}n||(this._nextIdx=i?0:this._markers.length-1),this._nextIdx<0&&(this._nextIdx=this._markers.length-1)}resetIndex(){this._nextIdx=-1}move(e,t,i){if(0===this._markers.length)return!1;var n=this._nextIdx;return-1===this._nextIdx?this._initIdx(t,i,e):this._nextIdx=e?(this._nextIdx+1)%this._markers.length:(this._nextIdx-1+this._markers.length)%this._markers.length,n!==this._nextIdx}find(e,t){let i=this._markers.findIndex(t=>t.resource.toString()===e.toString());if(!(i<0))for(;i<this._markers.length;i++)if(l.a.containsPosition(this._markers[i],t))return new w(this._markers[i],i+1,this._markers.length)}static _compareMarker(e,t){let i=Object(g.f)(e.resource.toString(),t.resource.toString());return 0===i&&(i=v.c.compare(e.severity,t.severity)),0===i&&(i=l.a.compareRangesUsingStarts(e,t)),i}};C=b([_(1,v.b)],C);var y=Object(m.c)("IMarkerNavigationService"),x=class{constructor(e){this._markerService=e,this._provider=new u.a}getMarkerList(e){for(var t of this._provider)if(t=t.getMarkerList(e))return t;return new C(e,this._markerService)}};x=b([_(0,v.b)],x);Object(f.b)(y,x,!0);var S,k=i(0),D=i(32),L=(t=i(10),i(95)),O=i(1),E=i(120),N=i(14),I=i(207),T=i(60),M=(i(481),i(78)),A=i(220),P=(b=i(174),_=i(91),i(79)),R=i(4);f=i(16);(S||(S={})).className=function(e){switch(e){case P.a.Ignore:return"severity-ignore "+n.b.info.classNames;case P.a.Info:return n.b.info.classNames;case P.a.Warning:return n.b.warning.classNames;case P.a.Error:return n.b.error.classNames;default:return""}},Object(f.f)((e,t)=>{var i=e.getColor(R.sc);i&&(o=n.b.error.cssSelector,t.addRule(`\n\t\t\t.monaco-editor .zone-widget ${o},\n\t\t\t.markers-panel .marker-icon${o},\n\t\t\t.text-search-provider-messages .providerMessage ${o},\n\t\t\t.extensions-viewlet > .extensions ${o} {\n\t\t\t\tcolor: ${i};\n\t\t\t}\n\t\t`));var o=e.getColor(R.uc);o&&(i=n.b.warning.cssSelector,t.addRule(`\n\t\t\t.monaco-editor .zone-widget ${i},\n\t\t\t.markers-panel .marker-icon${i},\n\t\t\t.extensions-viewlet > .extensions ${i},\n\t\t\t.extension-editor ${i},\n\t\t\t.text-search-provider-messages .providerMessage ${i},\n\t\t\t.preferences-editor ${i} {\n\t\t\t\tcolor: ${o};\n\t\t\t}\n\t\t`)),(o=e.getColor(R.tc))&&(e=n.b.info.cssSelector,t.addRule(`\n\t\t\t.monaco-editor .zone-widget ${e},\n\t\t\t.markers-panel .marker-icon${e},\n\t\t\t.extensions-viewlet > .extensions ${e},\n\t\t\t.text-search-provider-messages .providerMessage ${e},\n\t\t\t.extension-editor ${e} {\n\t\t\t\tcolor: ${o};\n\t\t\t}\n\t\t`))}),x=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;0<=a;a--)(o=e[a])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s},i=function(e,t){return function(i,n){t(i,n,e)}};class F{constructor(e,t,i,n,r){this._openerService=n,this._labelService=r,this._lines=0,this._longestLineLength=0,this._relatedDiagnostics=new WeakMap,this._disposables=new o.b,this._editor=t;const s=document.createElement("div");s.className="descriptioncontainer",this._messageBlock=document.createElement("div"),this._messageBlock.classList.add("message"),this._messageBlock.setAttribute("aria-live","assertive"),this._messageBlock.setAttribute("role","alert"),s.appendChild(this._messageBlock),this._relatedBlock=document.createElement("div"),s.appendChild(this._relatedBlock),this._disposables.add(O.o(this._relatedBlock,"click",e=>{e.preventDefault(),(e=this._relatedDiagnostics.get(e.target))&&i(e)})),this._scrollable=new E.b(s,{horizontal:1,vertical:1,useShadows:!1,horizontalScrollbarSize:3,verticalScrollbarSize:3}),e.appendChild(this._scrollable.getDomNode()),this._disposables.add(this._scrollable.onScroll(e=>{s.style.left=`-${e.scrollLeft}px`,s.style.top=`-${e.scrollTop}px`})),this._disposables.add(this._scrollable)}dispose(){Object(o.f)(this._disposables)}update(e){const{source:t,message:i,relatedInformation:n,code:o}=e;let r=((null==t?void 0:t.length)||0)+"()".length;o&&(r+="string"==typeof o?o.length:o.value.length);var s=Object(g.Q)(i);this._lines=s.length,this._longestLineLength=0;for(const e of s)this._longestLineLength=Math.max(e.length+r,this._longestLineLength);O.t(this._messageBlock),this._messageBlock.setAttribute("aria-label",this.getAriaLabel(e)),this._editor.applyFontInfo(this._messageBlock);let a=this._messageBlock;for(const e of s)a=document.createElement("div"),a.innerText=e,""===e&&(a.style.height=this._messageBlock.style.lineHeight),this._messageBlock.appendChild(a);if(t||o){const e=document.createElement("span");if(e.classList.add("details"),a.appendChild(e),t){const i=document.createElement("span");i.innerText=t,i.classList.add("source"),e.appendChild(i)}if(o)if("string"==typeof o){const t=document.createElement("span");t.innerText=`(${o})`,t.classList.add("code"),e.appendChild(t)}else{this._codeLink=O.a("a.code-link"),this._codeLink.setAttribute("href",""+o.target.toString()),this._codeLink.onclick=e=>{this._openerService.open(o.target,{allowCommands:!0}),e.preventDefault(),e.stopPropagation()};O.q(this._codeLink,O.a("span")).innerText=o.value,e.appendChild(this._codeLink)}}if(O.t(this._relatedBlock),this._editor.applyFontInfo(this._relatedBlock),Object(d.n)(n)){const e=this._relatedBlock.appendChild(document.createElement("div"));e.style.paddingTop=Math.floor(.66*this._editor.getOption(58))+"px",this._lines+=1;for(const t of n){let i=document.createElement("div"),n=document.createElement("a");n.classList.add("filename"),n.innerText=`${Object(I.a)(t.resource)}(${t.startLineNumber}, ${t.startColumn}): `,n.title=this._labelService.getUriLabel(t.resource),this._relatedDiagnostics.set(n,t);let o=document.createElement("span");o.innerText=t.message,i.appendChild(n),i.appendChild(o),this._lines+=1,e.appendChild(i)}}e=this._editor.getOption(43),s=Math.ceil(e.typicalFullwidthCharacterWidth*this._longestLineLength*.75),e=e.lineHeight*this._lines,this._scrollable.setScrollDimensions({scrollWidth:s,scrollHeight:e})}layout(e,t){this._scrollable.getDomNode().style.height=e+"px",this._scrollable.getDomNode().style.width=t+"px",this._scrollable.setScrollDimensions({width:t,height:e})}getHeightInLines(){return Math.min(17,this._lines)}getAriaLabel(e){let t="";switch(e.severity){case v.c.Error:t=k.a("错误","错误");break;case v.c.Warning:t=k.a("Warning","Warning");break;case v.c.Info:t=k.a("Info","Info");break;case v.c.Hint:t=k.a("Hint","Hint")}let i=k.a("marker aria","{0} at {1}. ",t,e.startLineNumber+":"+e.startColumn);const n=this._editor.getModel();return n&&e.startLineNumber<=n.getLineCount()&&1<=e.startLineNumber&&(i=`${e=n.getLineContent(e.startLineNumber)}, ${i}`),i}}let j=class e extends M.c{constructor(e,t,i,n,r,s,a){super(e,{showArrow:!0,showFrame:!0,isAccessible:!0,frameWidth:1},r),this._themeService=t,this._openerService=i,this._menuService=n,this._contextKeyService=s,this._labelService=a,this._callOnDispose=new o.b,this._onDidSelectRelatedInformation=new h.b,this.onDidSelectRelatedInformation=this._onDidSelectRelatedInformation.event,this._severity=v.c.Warning,this._backgroundColor=N.a.white,this._applyTheme(t.getColorTheme()),this._callOnDispose.add(t.onDidColorThemeChange(this._applyTheme.bind(this))),this.create()}_applyTheme(e){this._backgroundColor=e.getColor($);let t=B,i=W;this._severity===v.c.Warning?(t=V,i=z):this._severity===v.c.Info&&(t=H,i=U);var n=e.getColor(t),o=e.getColor(i);this.style({arrowColor:n,frameColor:n,headerBackgroundColor:o,primaryHeadingColor:e.getColor(M.q),secondaryHeadingColor:e.getColor(M.r)})}_applyStyles(){this._parentContainer&&(this._parentContainer.style.backgroundColor=this._backgroundColor?this._backgroundColor.toString():""),super._applyStyles()}dispose(){this._callOnDispose.dispose(),super.dispose()}_fillHead(t){super._fillHead(t),this._disposables.add(this._actionbarWidget.actionRunner.onBeforeRun(e=>this.editor.focus())),t=[];const i=this._menuService.createMenu(e.TitleMenu,this._contextKeyService);Object(A.c)(i,void 0,t),this._actionbarWidget.push(t,{label:!1,icon:!0,index:0}),i.dispose()}_fillTitleIcon(e){this._icon=O.q(e,O.a(""))}_fillBody(e){(this._parentContainer=e).classList.add("marker-widget"),this._parentContainer.tabIndex=0,this._parentContainer.setAttribute("role","tooltip"),this._container=document.createElement("div"),e.appendChild(this._container),this._message=new F(this._container,this.editor,e=>this._onDidSelectRelatedInformation.fire(e),this._openerService,this._labelService),this._disposables.add(this._message)}show(){throw new Error("call showAtMarker")}showAtMarker(e,t,i){this._container.classList.remove("stale"),this._message.update(e),this._severity=e.severity,this._applyTheme(this._themeService.getColorTheme());let n=l.a.lift(e);var o=this.editor.getPosition();e=o&&n.containsPosition(o)?o:n.getStartPosition();super.show(e,this.computeRequiredHeight()),(o=this.editor.getModel())&&(i=1<i?k.a("problems","{0} of {1} problems",t,i):k.a("change","{0} of {1} problem",t,i),this.setTitle(Object(T.b)(o.uri),i)),this._icon.className="codicon "+S.className(v.c.toSeverity(this._severity)),this.editor.revealPositionNearTop(e,0),this.editor.focus()}updateMarker(e){this._container.classList.remove("stale"),this._message.update(e)}showStale(){this._container.classList.add("stale"),this._relayout()}_doLayoutBody(e,t){super._doLayoutBody(e,t),this._heightInPixel=e,this._message.layout(e,t),this._container.style.height=e+"px"}_onWidth(e){this._message.layout(this._heightInPixel,e)}_relayout(){super._relayout(this.computeRequiredHeight())}computeRequiredHeight(){return 3+this._message.getHeightInLines()}};j.TitleMenu=new D.b("gotoErrorTitleMenu"),j=x([i(1,f.b),i(2,_.a),i(3,D.a),i(4,m.a),i(5,t.b),i(6,b.a)],j),_=Object(R.nc)(R.u,R.t),i=Object(R.nc)(R.bb,R.ab),b=Object(R.nc)(R.M,R.L);const B=Object(R.Cc)("editorMarkerNavigationError.background",{dark:_,light:_,hc:R.h},k.a("editorMarkerNavigationError","Editor marker navigation widget error color.")),W=Object(R.Cc)("editorMarkerNavigationError.headerBackground",{dark:Object(R.Rc)(B,.1),light:Object(R.Rc)(B,.1),hc:null},k.a("editorMarkerNavigationErrorHeaderBackground","Editor marker navigation widget error heading background.")),V=Object(R.Cc)("editorMarkerNavigationWarning.background",{dark:i,light:i,hc:R.h},k.a("editorMarkerNavigationWarning","Editor marker navigation widget warning color.")),z=Object(R.Cc)("editorMarkerNavigationWarning.headerBackground",{dark:Object(R.Rc)(V,.1),light:Object(R.Rc)(V,.1),hc:"#0C141F"},k.a("editorMarkerNavigationWarningBackground","Editor marker navigation widget warning heading background.")),H=Object(R.Cc)("editorMarkerNavigationInfo.background",{dark:b,light:b,hc:R.h},k.a("editorMarkerNavigationInfo","Editor marker navigation widget info color.")),U=Object(R.Cc)("editorMarkerNavigationInfo.headerBackground",{dark:Object(R.Rc)(H,.1),light:Object(R.Rc)(H,.1),hc:null},k.a("editorMarkerNavigationInfoHeaderBackground","Editor marker navigation widget info heading background.")),$=Object(R.Cc)("editorMarkerNavigation.background",{dark:R.r,light:R.r,hc:R.r},k.a("editorMarkerNavigationBackground","Editor marker navigation widget background."));Object(f.f)((e,t)=>{var i=e.getColor(R.Pc);i&&t.addRule(`.monaco-editor .marker-widget a.code-link span { color: ${i}; }`),(e=e.getColor(R.Oc))&&t.addRule(`.monaco-editor .marker-widget a.code-link span:hover { color: ${e}; }`)});b=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;0<=a;a--)(o=e[a])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s},f=function(e,t){return function(i,n){t(i,n,e)}};var K=function(e,t,i,n){return new(i=i||Promise)((function(o,r){function s(e){try{l(n.next(e))}catch(e){r(e)}}function a(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):((t=e.value)instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};let q=class e{constructor(e,t,i,n,r){this._markerNavigationService=t,this._contextKeyService=i,this._editorService=n,this._instantiationService=r,this._sessionDispoables=new o.b,this._editor=e,this._widgetVisible=X.bindTo(this._contextKeyService)}static get(t){return t.getContribution(e.ID)}dispose(){this._cleanUp(),this._sessionDispoables.dispose()}_cleanUp(){this._widgetVisible.reset(),this._sessionDispoables.clear(),this._widget=void 0,this._model=void 0}_getOrCreateModel(e){if(this._model&&this._model.matches(e))return this._model;let t=!1;return this._model&&(t=!0,this._cleanUp()),this._model=this._markerNavigationService.getMarkerList(e),t&&this._model.move(!0,this._editor.getModel(),this._editor.getPosition()),this._widget=this._instantiationService.createInstance(j,this._editor),this._widget.onDidClose(()=>this.close(),this,this._sessionDispoables),this._widgetVisible.set(!0),this._sessionDispoables.add(this._model),this._sessionDispoables.add(this._widget),this._sessionDispoables.add(this._editor.onDidChangeCursorPosition(e=>{var t;null!==(t=this._model)&&void 0!==t&&t.selected&&l.a.containsPosition(null===(t=this._model)||void 0===t?void 0:t.selected.marker,e.position)||null!==(e=this._model)&&void 0!==e&&e.resetIndex()})),this._sessionDispoables.add(this._model.onDidChange(()=>{var e;this._widget&&this._widget.position&&this._model&&((e=this._model.find(this._editor.getModel().uri,this._widget.position))?this._widget.updateMarker(e.marker):this._widget.showStale())})),this._sessionDispoables.add(this._widget.onDidSelectRelatedInformation(e=>{this._editorService.openCodeEditor({resource:e.resource,options:{pinned:!0,revealIfOpened:!0,selection:l.a.lift(e).collapseToStart()}},this._editor),this.close(!1)})),this._sessionDispoables.add(this._editor.onDidChangeModel(()=>this._cleanUp())),this._model}close(e=!0){this._cleanUp(),e&&this._editor.focus()}showAtMarker(e){if(this._editor.hasModel()){const t=this._getOrCreateModel(this._editor.getModel().uri);t.resetIndex(),t.move(!0,this._editor.getModel(),new a.a(e.startLineNumber,e.startColumn)),t.selected&&this._widget.showAtMarker(t.selected.marker,t.selected.index,t.selected.total)}}nagivate(t,i){return K(this,void 0,void 0,(function*(){if(this._editor.hasModel()){const o=this._getOrCreateModel(i?void 0:this._editor.getModel().uri);var n;o.move(t,this._editor.getModel(),this._editor.getPosition()),o.selected&&(o.selected.marker.resource.toString()!==this._editor.getModel().uri.toString()?(this._cleanUp(),(n=yield this._editorService.openCodeEditor({resource:o.selected.marker.resource,options:{pinned:!1,revealIfOpened:!0,selectionRevealType:2,selection:o.selected.marker}},this._editor))&&(e.get(n).close(),e.get(n).nagivate(t,i))):this._widget.showAtMarker(o.selected.marker,o.selected.index,o.selected.total))}}))}};q.ID="editor.contrib.markerController",q=b([f(1,y),f(2,t.b),f(3,s.a),f(4,m.a)],q);class G extends r.b{constructor(e,t,i){super(i),this._next=e,this._multiFile=t}run(e,t){return K(this,void 0,void 0,(function*(){t.hasModel()&&q.get(t).nagivate(this._next,this._multiFile)}))}}class Y extends G{constructor(){super(!0,!1,{id:Y.ID,label:Y.LABEL,alias:"Go to Next Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:c.a.focus,primary:578,weight:100},menuOpts:{menuId:j.TitleMenu,title:Y.LABEL,icon:Object(L.b)("marker-navigation-next",n.b.arrowDown,k.a("nextMarkerIcon","Icon for goto next marker.")),group:"navigation",order:1}})}}Y.ID="editor.action.marker.next",Y.LABEL=k.a("markerAction.next.label","Go to Next Problem (Error, Warning, Info)");class Z extends G{constructor(){super(!1,!1,{id:Z.ID,label:Z.LABEL,alias:"Go to Previous Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:c.a.focus,primary:1602,weight:100},menuOpts:{menuId:j.TitleMenu,title:Y.LABEL,icon:Object(L.b)("marker-navigation-previous",n.b.arrowUp,k.a("previousMarkerIcon","Icon for goto previous marker.")),group:"navigation",order:2}})}}Z.ID="editor.action.marker.prev",Z.LABEL=k.a("markerAction.previous.label","Go to Previous Problem (Error, Warning, Info)");Object(r.l)(q.ID,q),Object(r.j)(Y),Object(r.j)(Z),Object(r.j)(class extends G{constructor(){super(!0,!0,{id:"editor.action.marker.nextInFiles",label:k.a("markerAction.nextInFiles.label","Go to Next Problem in Files (Error, Warning, Info)"),alias:"Go to Next Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:c.a.focus,primary:66,weight:100},menuOpts:{menuId:D.b.MenubarGoMenu,title:k.a({key:"miGotoNextProblem",comment:["&& denotes a mnemonic"]},"Next &&Problem"),group:"6_problem_nav",order:1}})}}),Object(r.j)(class extends G{constructor(){super(!1,!0,{id:"editor.action.marker.prevInFiles",label:k.a("markerAction.previousInFiles.label","Go to Previous Problem in Files (Error, Warning, Info)"),alias:"Go to Previous Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:c.a.focus,primary:1090,weight:100},menuOpts:{menuId:D.b.MenubarGoMenu,title:k.a({key:"miGotoPreviousProblem",comment:["&& denotes a mnemonic"]},"Previous &&Problem"),group:"6_problem_nav",order:2}})}});const X=new t.c("markersNavigationVisible",!1),Q=r.c.bindToContribution(q.get);Object(r.k)(new Q({id:"closeMarkersNavigation",precondition:X,handler:e=>e.close(),kbOpts:{weight:150,kbExpr:c.a.focus,primary:9,secondary:[1033]}}))},function(e,t,i){"use strict";i.d(t,"a",(function(){return P}));var n=i(22),o=i(2),r=i(9),s=(i(483),i(75)),a=i(3),l=i(29),c=i(42),d=i(174),h=i(4),u=i(16),g=i(216),p=i(143),f=i(207),m=i(72),v=i(60);const b=new Uint8Array(16),_=[];for(let e=0;e<256;e++)_.push(e.toString(16).padStart(2,"0"));let w;w="object"==typeof crypto&&"function"==typeof crypto.getRandomValues?crypto.getRandomValues.bind(crypto):function(e){for(let t=0;t<e.length;t++)e[t]=Math.floor(256*Math.random());return e};var C=i(49),y=(t=i(0),i(35));const x="code-workspace";function S(e){return"string"==typeof(null==e?void 0:e.id)&&y.a.isUri(e.uri)}class k{constructor(e){this._delegates=e}resolve(e){for(const i of this._delegates){var t=i.resolve(e);if(void 0!==t)return t}}}class D{constructor(e,t,i,n){this._model=e,this._selection=t,this._selectionIdx=i,this._overtypingCapturer=n}resolve(e){var{name:t}=e;if("SELECTION"===t||"TM_SELECTED_TEXT"===t){let t=this._model.getValueInRange(this._selection)||void 0,n=this._selection.startLineNumber!==this._selection.endLineNumber;if(t||!this._overtypingCapturer||(i=this._overtypingCapturer.getLastOvertypedInfo(this._selectionIdx))&&(t=i.value,n=i.multiline),t&&n&&e.snippet){var i=this._model.getLineContent(this._selection.startLineNumber);let n=i=Object(r.x)(i,0,this._selection.startColumn-1);e.snippet.walk(t=>t!==e&&(t instanceof p.d&&(n=Object(r.x)(Object(r.Q)(t.value).pop())),!0));const o=Object(r.d)(n,i);t=t.replace(/(\r\n|\r|\n)(.*)/g,(e,t,i)=>`${t}${n.substr(o)}${i}`)}return t}return"TM_CURRENT_LINE"===t?this._model.getLineContent(this._selection.positionLineNumber):"TM_CURRENT_WORD"!==t?"TM_LINE_INDEX"===t?String(this._selection.positionLineNumber-1):"TM_LINE_NUMBER"===t?String(this._selection.positionLineNumber):void 0:(t=this._model.getWordAtPosition({lineNumber:this._selection.positionLineNumber,column:this._selection.positionColumn}))&&t.word||void 0}}class L{constructor(e,t){this._labelService=e,this._model=t}resolve(e){const{name:t}=e;if("TM_FILENAME"===t)return m.a(this._model.uri.fsPath);if("TM_FILENAME_BASE"!==t)return"TM_DIRECTORY"===t?"."===m.b(this._model.uri.fsPath)?"":this._labelService.getUriLabel(Object(v.d)(this._model.uri)):"TM_FILEPATH"===t?this._labelService.getUriLabel(this._model.uri):"RELATIVE_FILEPATH"===t?this._labelService.getUriLabel(this._model.uri,{relative:!0,noPrefix:!0}):void 0;{const t=m.a(this._model.uri.fsPath);return(e=t.lastIndexOf("."))<=0?t:t.slice(0,e)}}}class O{constructor(e,t,i,n){this._readClipboardText=e,this._selectionIdx=t,this._selectionCount=i,this._spread=n}resolve(e){if("CLIPBOARD"===e.name){const t=this._readClipboardText();if(t)return this._spread&&(e=t.split(/\r\n|\n|\r/).filter(e=>!Object(r.C)(e))).length===this._selectionCount?e[this._selectionIdx]:t}}}class E{constructor(e,t){this._model=e,this._selection=t}resolve(e){var{name:t}=e;e=this._model.getLanguageIdAtPosition(this._selection.selectionStartLineNumber,this._selection.selectionStartColumn);if(e=C.b.getComments(e))return"LINE_COMMENT"===t?e.lineCommentToken||void 0:"BLOCK_COMMENT_START"===t?e.blockCommentStartToken||void 0:"BLOCK_COMMENT_END"===t&&e.blockCommentEndToken||void 0}}class N{constructor(){this._date=new Date}resolve(e){var{name:e}=e;return"CURRENT_YEAR"===e?String(this._date.getFullYear()):"CURRENT_YEAR_SHORT"===e?String(this._date.getFullYear()).slice(-2):"CURRENT_MONTH"===e?String(this._date.getMonth().valueOf()+1).padStart(2,"0"):"CURRENT_DATE"===e?String(this._date.getDate().valueOf()).padStart(2,"0"):"CURRENT_HOUR"===e?String(this._date.getHours().valueOf()).padStart(2,"0"):"CURRENT_MINUTE"===e?String(this._date.getMinutes().valueOf()).padStart(2,"0"):"CURRENT_SECOND"===e?String(this._date.getSeconds().valueOf()).padStart(2,"0"):"CURRENT_DAY_NAME"===e?N.dayNames[this._date.getDay()]:"CURRENT_DAY_NAME_SHORT"===e?N.dayNamesShort[this._date.getDay()]:"CURRENT_MONTH_NAME"===e?N.monthNames[this._date.getMonth()]:"CURRENT_MONTH_NAME_SHORT"===e?N.monthNamesShort[this._date.getMonth()]:"CURRENT_SECONDS_UNIX"===e?String(Math.floor(this._date.getTime()/1e3)):void 0}}N.dayNames=[t.a("Sunday","Sunday"),t.a("Monday","Monday"),t.a("Tuesday","Tuesday"),t.a("Wednesday","Wednesday"),t.a("Thursday","Thursday"),t.a("Friday","Friday"),t.a("Saturday","Saturday")],N.dayNamesShort=[t.a("SundayShort","Sun"),t.a("MondayShort","Mon"),t.a("TuesdayShort","Tue"),t.a("WednesdayShort","Wed"),t.a("ThursdayShort","Thu"),t.a("FridayShort","Fri"),t.a("SaturdayShort","Sat")],N.monthNames=[t.a("January","January"),t.a("February","February"),t.a("March","March"),t.a("April","April"),t.a("May","May"),t.a("June","June"),t.a("July","July"),t.a("August","August"),t.a("September","September"),t.a("October","October"),t.a("November","November"),t.a("December","December")],N.monthNamesShort=[t.a("JanuaryShort","Jan"),t.a("FebruaryShort","Feb"),t.a("MarchShort","Mar"),t.a("AprilShort","Apr"),t.a("MayShort","May"),t.a("JuneShort","Jun"),t.a("JulyShort","Jul"),t.a("AugustShort","Aug"),t.a("SeptemberShort","Sep"),t.a("OctoberShort","Oct"),t.a("NovemberShort","Nov"),t.a("DecemberShort","Dec")];class I{constructor(e){this._workspaceService=e}resolve(e){var t;if(this._workspaceService&&(t=(t=this._workspaceService.getWorkspace()).configuration?{id:t.id,configPath:t.configuration}:1===t.folders.length?{id:t.id,uri:t.folders[0].uri}:void 0))return"WORKSPACE_NAME"===e.name?this._resolveWorkspaceName(t):"WORKSPACE_FOLDER"===e.name?this._resoveWorkspacePath(t):void 0}_resolveWorkspaceName(e){if(S(e))return m.a(e.uri.path);let t=m.a(e.configPath.path);return t.endsWith(x)&&(t=t.substr(0,t.length-x.length-1)),t}_resoveWorkspacePath(e){if(S(e))return Object(f.b)(e.uri.fsPath);var t=m.a(e.configPath.path);let i=e.configPath.fsPath;return i.endsWith(t)&&(i=i.substr(0,i.length-t.length-1)),i?Object(f.b)(i):"/"}}class T{resolve(e){var{name:e}=e;return"RANDOM"===e?Math.random().toString().slice(-6):"RANDOM_HEX"===e?Math.random().toString(16).slice(-6):"UUID"===e?function(){w(b),b[6]=15&b[6]|64,b[8]=63&b[8]|128;var e=0,t="";return t+=_[b[e++]],t+=_[b[e++]],t+=_[b[e++]],t+=_[b[e++]],t+="-",t+=_[b[e++]],t+=_[b[e++]],t+="-",t+=_[b[e++]],t+=_[b[e++]],t+="-",t+=_[b[e++]],t+=_[b[e++]],t+="-",t+=_[b[e++]],t+=_[b[e++]],t+=_[b[e++]],t+=_[b[e++]],(t+=_[b[14]])+_[b[15]]}():void 0}}Object(u.f)((e,t)=>{function i(t){const i=e.getColor(t);return i?i.toString():"transparent"}t.addRule(`.monaco-editor .snippet-placeholder { background-color: ${i(h.Kc)}; outline-color: ${i(h.Lc)}; }`),t.addRule(`.monaco-editor .finish-snippet-placeholder { background-color: ${i(h.Ic)}; outline-color: ${i(h.Jc)}; }`)});class M{constructor(e,t,i,o){this._editor=e,this._snippet=t,this._offset=i,this._snippetLineLeadingWhitespace=o,this._nestingLevel=1,this._placeholderGroups=Object(n.l)(t.placeholders,p.b.compareByIndex),this._placeholderGroupsIdx=-1}dispose(){this._placeholderDecorations&&this._editor.deltaDecorations([...this._placeholderDecorations.values()],[]),this._placeholderGroups.length=0}_initDecorations(){if(!this._placeholderDecorations){this._placeholderDecorations=new Map;const e=this._editor.getModel();this._editor.changeDecorations(t=>{for(const o of this._snippet.placeholders){var i=this._snippet.offset(o),n=this._snippet.fullLen(o);i=a.a.fromPositions(e.getPositionAt(this._offset+i),e.getPositionAt(this._offset+i+n)),n=o.isFinalTabstop?M._decor.inactiveFinal:M._decor.inactive,n=t.addDecoration(i,n);this._placeholderDecorations.set(o,n)}})}}move(e){if(!this._editor.hasModel())return[];if(this._initDecorations(),0<=this._placeholderGroupsIdx){let e=[];for(const n of this._placeholderGroups[this._placeholderGroupsIdx])if(n.transform){var t=this._placeholderDecorations.get(n),i=this._editor.getModel().getDecorationRange(t);t=this._editor.getModel().getValueInRange(i);const o=n.transform.resolve(t).split(/\r\n|\r|\n/);for(let e=1;e<o.length;e++)o[e]=this._editor.getModel().normalizeIndentation(this._snippetLineLeadingWhitespace+o[e]);e.push(s.a.replace(i,o.join(this._editor.getModel().getEOL())))}0<e.length&&this._editor.executeEdits("snippet.placeholderTransform",e)}let n=!1;!0===e&&this._placeholderGroupsIdx<this._placeholderGroups.length-1?(this._placeholderGroupsIdx+=1,n=!0):!1===e&&0<this._placeholderGroupsIdx&&(--this._placeholderGroupsIdx,n=!0);var o=this._editor.getModel().changeDecorations(e=>{const t=new Set,i=[];for(const a of this._placeholderGroups[this._placeholderGroupsIdx]){var o=this._placeholderDecorations.get(a),r=this._editor.getModel().getDecorationRange(o);i.push(new l.a(r.startLineNumber,r.startColumn,r.endLineNumber,r.endColumn)),n=n&&this._hasPlaceholderBeenCollapsed(a),e.changeDecorationOptions(o,a.isFinalTabstop?M._decor.activeFinal:M._decor.active),t.add(a);for(const i of this._snippet.enclosingPlaceholders(a)){var s=this._placeholderDecorations.get(i);e.changeDecorationOptions(s,i.isFinalTabstop?M._decor.activeFinal:M._decor.active),t.add(i)}}for(var[a,c]of this._placeholderDecorations)t.has(a)||e.changeDecorationOptions(c,a.isFinalTabstop?M._decor.inactiveFinal:M._decor.inactive);return i});return n?this.move(e):null!=o?o:[]}_hasPlaceholderBeenCollapsed(e){let t=e;for(;t;){if(t instanceof p.b){var i=this._placeholderDecorations.get(t);if(this._editor.getModel().getDecorationRange(i).isEmpty()&&0<t.toString().length)return!0}t=t.parent}return!1}get isAtFirstPlaceholder(){return this._placeholderGroupsIdx<=0||0===this._placeholderGroups.length}get isAtLastPlaceholder(){return this._placeholderGroupsIdx===this._placeholderGroups.length-1}get hasPlaceholder(){return 0<this._snippet.placeholders.length}computePossibleSelections(){const e=new Map;for(const i of this._placeholderGroups){let n;for(const o of i){if(o.isFinalTabstop)break;n||(n=[],e.set(o.index,n));var t=this._placeholderDecorations.get(o);if(!(t=this._editor.getModel().getDecorationRange(t))){e.delete(o.index);break}n.push(t)}}return e}get choice(){return this._placeholderGroups[this._placeholderGroupsIdx][0].choice}merge(e){const t=this._editor.getModel();this._nestingLevel*=10,this._editor.changeDecorations(i=>{for(const n of this._placeholderGroups[this._placeholderGroupsIdx]){const c=e.shift();console.assert(!c._placeholderDecorations);var o=c._snippet.placeholderInfo.last.index;for(const e of c._snippet.placeholderInfo.all)e.isFinalTabstop?e.index=n.index+(o+1)/this._nestingLevel:e.index=n.index+e.index/this._nestingLevel;this._snippet.replace(n,c._snippet.children);var r=this._placeholderDecorations.get(n);i.removeDecoration(r),this._placeholderDecorations.delete(n);for(const e of c._snippet.placeholders){var s=c._snippet.offset(e),l=c._snippet.fullLen(e);l=a.a.fromPositions(t.getPositionAt(c._offset+s),t.getPositionAt(c._offset+s+l)),l=i.addDecoration(l,M._decor.inactive);this._placeholderDecorations.set(e,l)}}this._placeholderGroups=Object(n.l)(this._snippet.placeholders,p.b.compareByIndex)})}}M._decor={active:c.b.register({description:"snippet-placeholder-1",stickiness:0,className:"snippet-placeholder"}),inactive:c.b.register({description:"snippet-placeholder-2",stickiness:1,className:"snippet-placeholder"}),activeFinal:c.b.register({description:"snippet-placeholder-3",stickiness:1,className:"finish-snippet-placeholder"}),inactiveFinal:c.b.register({description:"snippet-placeholder-4",stickiness:1,className:"finish-snippet-placeholder"})};const A={overwriteBefore:0,overwriteAfter:0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};class P{constructor(e,t,i=A){this._templateMerges=[],this._snippets=[],this._editor=e,this._template=t,this._options=i}static adjustWhitespace(e,t,i,n,o){var s=e.getLineContent(t.lineNumber);const a=Object(r.x)(s,0,t.column-1);let l;return i.walk(t=>{if(!(t instanceof p.d)||t.parent instanceof p.a)return!0;const o=t.value.split(/\r\n|\r|\n/);if(n){var r=i.offset(t);0===r?o[0]=e.normalizeIndentation(o[0]):(l=null!=l?l:i.toString(),10!==(s=l.charCodeAt(r-1))&&13!==s||(o[0]=e.normalizeIndentation(a+o[0])));for(let t=1;t<o.length;t++)o[t]=e.normalizeIndentation(a+o[t])}var s=o.join(e.getEOL());return s!==t.value&&(t.parent.replace(t,[new p.d(s)]),l=void 0),!0}),a}static adjustSelection(e,t,i,n){var o,r;return 0===i&&0===n||(({positionLineNumber:o,positionColumn:r}=t),n=e.validateRange({startLineNumber:o,startColumn:r-i,endLineNumber:o,endColumn:r+n}),t=l.a.createWithDirection(n.startLineNumber,n.startColumn,n.endLineNumber,n.endColumn,t.getDirection())),t}static createEditsAndSnippets(e,t,i,n,o,r,l,c){const h=[],u=[];if(!e.hasModel())return{edits:h,snippets:u};const f=e.getModel();var m=e.invokeWithinContext(e=>e.get(g.a)),v=e.invokeWithinContext(e=>new L(e.get(d.a),f)),b=()=>l;let _=0;var w,C,y=f.getValueInRange(P.adjustSelection(f,e.getSelection(),i,0)),x=f.getValueInRange(P.adjustSelection(f,e.getSelection(),0,n)),S=f.getLineFirstNonWhitespaceColumn(e.getSelection().positionLineNumber),A=e.getSelections().map((e,t)=>({selection:e,idx:t})).sort((e,t)=>a.a.compareRangesUsingStarts(e.selection,t.selection));for({selection:w,idx:C}of A){let a=P.adjustSelection(f,w,i,0),l=P.adjustSelection(f,w,0,n);y!==f.getValueInRange(a)&&(a=w),x!==f.getValueInRange(l)&&(l=w);const d=w.setStartPosition(a.startLineNumber,a.startColumn).setEndPosition(l.endLineNumber,l.endColumn),g=(new p.c).parse(t,!0,o);var R=d.getStartPosition(),F=P.adjustWhitespace(f,R,g,r||0<C&&S!==f.getLineFirstNonWhitespaceColumn(w.positionLineNumber),!0);g.resolveVariables(new k([v,new O(b,C,A.length,"spread"===e.getOption(70)),new D(f,w,C,c),new E(f,w),new N,new I(m),new T])),R=f.getOffsetAt(R)+_,_+=g.toString().length-f.getValueLengthInRange(d),h[C]=s.a.replace(d,g.toString()),h[C].identifier={major:C,minor:0},u[C]=new M(e,g,R,F)}return{edits:h,snippets:u}}dispose(){Object(o.f)(this._snippets)}_logInfo(){return`template="${this._template}", merged_templates="${this._templateMerges.join(" -> ")}"`}insert(){var e,t;this._editor.hasModel()&&(({edits:e,snippets:t}=P.createEditsAndSnippets(this._editor,this._template,this._options.overwriteBefore,this._options.overwriteAfter,!1,this._options.adjustWhitespace,this._options.clipboardText,this._options.overtypingCapturer)),this._snippets=t,this._editor.executeEdits("snippet",e,e=>this._snippets[0].hasPlaceholder?this._move(!0):e.filter(e=>!!e.identifier).map(e=>l.a.fromPositions(e.range.getEndPosition()))),this._editor.revealRange(this._editor.getSelections()[0]))}merge(e,t=A){if(this._editor.hasModel()){this._templateMerges.push([this._snippets[0]._nestingLevel,this._snippets[0]._placeholderGroupsIdx,e]);const{edits:i,snippets:n}=P.createEditsAndSnippets(this._editor,e,t.overwriteBefore,t.overwriteAfter,!0,t.adjustWhitespace,t.clipboardText,t.overtypingCapturer);this._editor.executeEdits("snippet",i,e=>{for(const e of this._snippets)e.merge(n);return console.assert(0===n.length),this._snippets[0].hasPlaceholder?this._move(void 0):e.filter(e=>!!e.identifier).map(e=>l.a.fromPositions(e.range.getEndPosition()))})}}next(){const e=this._move(!0);this._editor.setSelections(e),this._editor.revealPositionInCenterIfOutsideViewport(e[0].getPosition())}prev(){const e=this._move(!1);this._editor.setSelections(e),this._editor.revealPositionInCenterIfOutsideViewport(e[0].getPosition())}_move(e){const t=[];for(const n of this._snippets){var i=n.move(e);t.push(...i)}return t}get isAtFirstPlaceholder(){return this._snippets[0].isAtFirstPlaceholder}get isAtLastPlaceholder(){return this._snippets[0].isAtLastPlaceholder}get hasPlaceholder(){return this._snippets[0].hasPlaceholder}get choice(){return this._snippets[0].choice}isSelectionWithinPlaceholders(){if(!this.hasPlaceholder)return!1;const e=this._editor.getSelections();if(e.length<this._snippets.length)return!1;let t=new Map;for(const o of this._snippets){const r=o.computePossibleSelections();if(0===t.size)for(var[i,n]of r){n.sort(a.a.compareRangesUsingStarts);for(const o of e)if(n[0].containsRange(o)){t.set(i,[]);break}}if(0===t.size)return!1;t.forEach((e,t)=>{e.push(...r.get(t))})}for(var[o,r]of(e.sort(a.a.compareRangesUsingStarts),t))if(r.length===e.length){r.sort(a.a.compareRangesUsingStarts);for(let i=0;i<r.length;i++)r[i].containsRange(e[i])||t.delete(o)}else t.delete(o);return 0<t.size}}},function(e,t){e.exports=function(e){return"string"!=typeof e?e:(/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),/["'() \t\n]/.test(e)?'"'+e.replace(/"/g,'\\"').replace(/\n/g,"\\n")+'"':e)}},function(e,t,i){"use strict";i.r(t);var n=i(384),o={};n.keys().forEach((function(e){"./index.js"!==e&&(o[e.replace(/(\.\/|\.js)/g,"")]=n(e).default)})),t.default=o},function(e,t){e.exports=require("ws")},function(e,t,i){"use strict";i.d(t,"a",(function(){return f}));var n=i(18),o=i(14),r=i(17),s=i(169),a=i(2),l=i(5),c=i(46),d=i(3),h=i(42),u=i(11),g=i(237),p=i(56);t=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;0<=a;a--)(o=e[a])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s},i=function(e,t){return function(i,n){t(i,n,e)}};let f=class e extends a.a{constructor(e,t,i){super(),this._editor=e,this._codeEditorService=t,this._configurationService=i,this._localToDispose=this._register(new a.b),this._decorationsIds=[],this._colorDatas=new Map,this._colorDecoratorIds=[],this._decorationsTypes=new Set,this._register(e.onDidChangeModel(()=>{this._isEnabled=this.isEnabled(),this.onModelChanged()})),this._register(e.onDidChangeModelLanguage(()=>this.onModelChanged())),this._register(u.c.onDidChange(()=>this.onModelChanged())),this._register(e.onDidChangeConfiguration(()=>{var e=this._isEnabled;this._isEnabled=this.isEnabled(),e!==this._isEnabled&&(this._isEnabled?this.onModelChanged():this.removeAllDecorations())})),this._timeoutTimer=null,this._computePromise=null,this._isEnabled=this.isEnabled(),this.onModelChanged()}isEnabled(){const e=this._editor.getModel();if(!e)return!1;var t=e.getLanguageId();return(t=this._configurationService.getValue(t))&&"object"==typeof t&&(t=t.colorDecorators)&&void 0!==t.enable&&!t.enable?t.enable:this._editor.getOption(17)}static get(e){return e.getContribution(this.ID)}dispose(){this.stop(),this.removeAllDecorations(),super.dispose()}onModelChanged(){var t;this.stop(),!this._isEnabled||(t=this._editor.getModel())&&u.c.has(t)&&(this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{this._timeoutTimer||(this._timeoutTimer=new n.g,this._timeoutTimer.cancelAndSet(()=>{this._timeoutTimer=null,this.beginCompute()},e.RECOMPUTE_TIME))})),this.beginCompute())}beginCompute(){this._computePromise=Object(n.h)(e=>{var t=this._editor.getModel();return t?Object(g.b)(t,e):Promise.resolve([])}),this._computePromise.then(e=>{this.updateDecorations(e),this.updateColorDecorators(e),this._computePromise=null},r.f)}stop(){this._timeoutTimer&&(this._timeoutTimer.cancel(),this._timeoutTimer=null),this._computePromise&&(this._computePromise.cancel(),this._computePromise=null),this._localToDispose.clear()}updateDecorations(e){var t=e.map(e=>({range:{startLineNumber:e.colorInfo.range.startLineNumber,startColumn:e.colorInfo.range.startColumn,endLineNumber:e.colorInfo.range.endLineNumber,endColumn:e.colorInfo.range.endColumn},options:h.b.EMPTY}));this._decorationsIds=this._editor.deltaDecorations(this._decorationsIds,t),this._colorDatas=new Map,this._decorationsIds.forEach((t,i)=>this._colorDatas.set(t,e[i]))}updateColorDecorators(e){let t=[],i={};for(let c=0;c<e.length&&t.length<500;c++){var{red:n,green:r,blue:a,alpha:l}=e[c].colorInfo.color,a=(a=new o.c(Math.round(255*n),Math.round(255*r),Math.round(255*a),l),l=Object(s.c)(`rgba(${a.r},${a.g},${a.b},${a.a})`).toString(16),`rgba(${a.r}, ${a.g}, ${a.b}, ${a.a})`),l="colorBox-"+l;this._decorationsTypes.has(l)||i[l]||this._codeEditorService.registerDecorationType("color-detector-color",l,{before:{contentText:" ",border:"solid 0.1em #000",margin:"0.1em 0.2em 0 0.2em",width:"0.8em",height:"0.8em",backgroundColor:a},dark:{before:{border:"solid 0.1em #eee"}}},void 0,this._editor),i[l]=!0,t.push({range:{startLineNumber:e[c].colorInfo.range.startLineNumber,startColumn:e[c].colorInfo.range.startColumn,endLineNumber:e[c].colorInfo.range.endLineNumber,endColumn:e[c].colorInfo.range.endColumn},options:this._codeEditorService.resolveDecorationOptions(l,!0)})}this._decorationsTypes.forEach(e=>{i[e]||this._codeEditorService.removeDecorationType(e)}),this._colorDecoratorIds=this._editor.deltaDecorations(this._colorDecoratorIds,t)}removeAllDecorations(){this._decorationsIds=this._editor.deltaDecorations(this._decorationsIds,[]),this._colorDecoratorIds=this._editor.deltaDecorations(this._colorDecoratorIds,[]),this._decorationsTypes.forEach(e=>{this._codeEditorService.removeDecorationType(e)})}getColorData(e){const t=this._editor.getModel();return t?0===(e=t.getDecorationsInRange(d.a.fromPositions(e,e)).filter(e=>this._colorDatas.has(e.id))).length?null:this._colorDatas.get(e[0].id):null}};f.ID="editor.contrib.colorDetector",f.RECOMPUTE_TIME=1e3,f=t([i(1,c.a),i(2,p.a)],f),Object(l.l)(f.ID,f)},function(e,t,i){"use strict";i.r(t),i.d(t,"GotoDefinitionAtPositionEditorContribution",(function(){return y}));var n=i(18),o=i(17),r=i(104),s=i(2),a=i(19),l=(i(415),i(103)),c=i(5),d=i(12),h=i(3),u=i(11),g=i(80),p=i(110),f=i(255),m=i(78),v=i(0),b=i(10),_=i(4),w=(t=i(16),i(272)),C=i(180);i=function(e,t){return function(i,n){t(i,n,e)}};let y=class e{constructor(e,t,i){this.textModelResolverService=t,this.modeService=i,this.toUnhook=new s.b,this.toUnhookForKeyboard=new s.b,this.linkDecorations=[],this.currentWordAtPosition=null,this.previousPromise=null,this.editor=e;let n=new f.a(e);this.toUnhook.add(n),this.toUnhook.add(n.onMouseMoveOrRelevantKeyDown(([e,t])=>{this.startFindDefinitionFromMouse(e,Object(a.p)(t))})),this.toUnhook.add(n.onExecute(e=>{this.isEnabled(e)&&this.gotoDefinition(e.target.position,e.hasSideBySideModifier).then(()=>{this.removeLinkDecorations()},e=>{this.removeLinkDecorations(),Object(o.f)(e)})})),this.toUnhook.add(n.onCancel(()=>{this.removeLinkDecorations(),this.currentWordAtPosition=null}))}static get(t){return t.getContribution(e.ID)}startFindDefinitionFromCursor(e){return this.startFindDefinition(e).then(()=>{this.toUnhookForKeyboard.add(this.editor.onDidChangeCursorPosition(()=>{this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear()})),this.toUnhookForKeyboard.add(this.editor.onKeyDown(e=>{e&&(this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear())}))})}startFindDefinitionFromMouse(e,t){if(!(9===e.target.type&&0<this.linkDecorations.length)){if(!this.editor.hasModel()||!this.isEnabled(e,t))return this.currentWordAtPosition=null,void this.removeLinkDecorations();e=e.target.position,this.startFindDefinition(e)}}startFindDefinition(e){var t;this.toUnhookForKeyboard.clear();const i=e?null===(t=this.editor.getModel())||void 0===t?void 0:t.getWordAtPosition(e):null;if(!i)return this.currentWordAtPosition=null,this.removeLinkDecorations(),Promise.resolve(0);if(this.currentWordAtPosition&&this.currentWordAtPosition.startColumn===i.startColumn&&this.currentWordAtPosition.endColumn===i.endColumn&&this.currentWordAtPosition.word===i.word)return Promise.resolve(0);this.currentWordAtPosition=i;let s=new l.a(this.editor,15);return this.previousPromise&&(this.previousPromise.cancel(),this.previousPromise=null),this.previousPromise=Object(n.h)(t=>this.findDefinition(e,t)),this.previousPromise.then(t=>{if(t&&t.length&&s.validate(this.editor))if(1<t.length)this.addDecoration(new h.a(e.lineNumber,i.startColumn,e.lineNumber,i.endColumn),(new r.a).appendText(v.a("multipleResults","Click to show {0} definitions.",t.length)));else{let n=t[0];n.uri&&this.textModelResolverService.createModelReference(n.uri).then(t=>{if(t.object&&t.object.textEditorModel){const{object:{textEditorModel:a}}=t;var{startLineNumber:o}=n.range;if(o<1||o>a.getLineCount())t.dispose();else{var s=this.getPreviewValue(a,o,n);let l;l=n.originSelectionRange?h.a.lift(n.originSelectionRange):new h.a(e.lineNumber,i.startColumn,e.lineNumber,i.endColumn),o=this.modeService.getModeIdByFilepathOrFirstLine(a.uri),this.addDecoration(l,(new r.a).appendCodeblock(o||"",s)),t.dispose()}}else t.dispose()})}else this.removeLinkDecorations()}).then(void 0,o.f)}getPreviewValue(t,i,n){let o=n.targetSelectionRange?n.range:this.getPreviewRangeBasedOnBrackets(t,i);return o.endLineNumber-o.startLineNumber>=e.MAX_SOURCE_PREVIEW_LINES&&(o=this.getPreviewRangeBasedOnIndentation(t,i)),this.stripIndentationFromPreviewRange(t,i,o)}stripIndentationFromPreviewRange(e,t,i){let n=e.getLineFirstNonWhitespaceColumn(t);for(let r=t+1;r<i.endLineNumber;r++){var o=e.getLineFirstNonWhitespaceColumn(r);n=Math.min(n,o)}return e.getValueInRange(i).replace(new RegExp(`^\\s{${n-1}}`,"gm"),"").trim()}getPreviewRangeBasedOnIndentation(t,i){var n=t.getLineFirstNonWhitespaceColumn(i),o=Math.min(t.getLineCount(),i+e.MAX_SOURCE_PREVIEW_LINES);let r=i+1;for(;r<o&&n!==t.getLineFirstNonWhitespaceColumn(r);r++);return new h.a(i,1,r+1,1)}getPreviewRangeBasedOnBrackets(t,i){var n=Math.min(t.getLineCount(),i+e.MAX_SOURCE_PREVIEW_LINES);const o=[];let r=!0,s=t.findNextBracket(new d.a(i,1));for(;null!==s;){if(0===o.length)o.push(s);else{var a=o[o.length-1];if(a.open[0]===s.open[0]&&a.isOpen&&!s.isOpen?o.pop():o.push(s),0===o.length){if(!r)return new h.a(i,1,s.range.endLineNumber+1,1);r=!1}}a=t.getLineMaxColumn(i);let e=s.range.endLineNumber,l=s.range.endColumn;if(a===s.range.endColumn&&(e++,l=1),e>n)return new h.a(i,1,n+1,1);s=t.findNextBracket(new d.a(e,l))}return new h.a(i,1,n+1,1)}addDecoration(e,t){this.linkDecorations=this.editor.deltaDecorations(this.linkDecorations,[{range:e,options:{description:"goto-definition-link",inlineClassName:"goto-definition-link",hoverMessage:t}}])}removeLinkDecorations(){0<this.linkDecorations.length&&(this.linkDecorations=this.editor.deltaDecorations(this.linkDecorations,[]))}isEnabled(e,t){return this.editor.hasModel()&&e.isNoneOrSingleMouseDown&&6===e.target.type&&(e.hasTriggerModifier||!!t&&t.keyCodeIsTriggerKey)&&u.f.has(this.editor.getModel())}findDefinition(e,t){var i=this.editor.getModel();return i?Object(C.b)(i,e,t):Promise.resolve(null)}gotoDefinition(e,t){return this.editor.setPosition(e),this.editor.invokeWithinContext(e=>{var i=!t&&this.editor.getOption(77)&&!this.isInPeekEditor(e);return new w.DefinitionAction({openToSide:t,openInPeek:i,muteMessage:!0},{alias:"",label:"",id:"",precondition:void 0}).run(e,this.editor)})}isInPeekEditor(e){return e=e.get(b.b),m.b.inPeekEditor.getValue(e)}dispose(){this.toUnhook.dispose()}};y.ID="editor.contrib.gotodefinitionatposition",y.MAX_SOURCE_PREVIEW_LINES=8,y=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;0<=a;a--)(o=e[a])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s}([i(1,p.a),i(2,g.a)],y),Object(c.l)(y.ID,y),Object(t.f)((e,t)=>{(e=e.getColor(_.q))&&t.addRule(`.monaco-editor .goto-definition-link { color: ${e} !important; }`)})},function(e,t,i){"use strict";i.r(t),i.d(t,"ModesHoverController",(function(){return De}));var n=i(71),o=i(2),r=i(5),s=i(3),a=i(8),l=i(80),c=i(270),d=i(1),h=i(120);i(476);const u=d.a;class g extends o.a{constructor(){super(),this.containerDomNode=document.createElement("div"),this.containerDomNode.className="monaco-hover",this.containerDomNode.tabIndex=0,this.containerDomNode.setAttribute("role","tooltip"),this.contentsDomNode=document.createElement("div"),this.contentsDomNode.className="monaco-hover-content",this._scrollbar=this._register(new h.a(this.contentsDomNode,{consumeMouseWheelIfScrollbarIsNeeded:!0})),this.containerDomNode.appendChild(this._scrollbar.getDomNode())}onContentsChanged(){this._scrollbar.scanDomNode()}}class p extends o.a{constructor(e,t,i){super(),this.actionContainer=d.q(e,u("div.action-container")),this.action=d.q(this.actionContainer,u("a.action")),this.action.setAttribute("href","#"),this.action.setAttribute("role","button"),t.iconClass&&d.q(this.action,u("span.icon."+t.iconClass));d.q(this.action,u("span")).textContent=i?`${t.label} (${i})`:t.label,this._register(d.i(this.actionContainer,d.d.MOUSE_DOWN,e=>{e.stopPropagation(),e.preventDefault(),t.run(this.actionContainer)})),this.setEnabled(!0)}static render(e,t,i){return new p(e,t,i)}setEnabled(e){e?(this.actionContainer.classList.remove("disabled"),this.actionContainer.removeAttribute("aria-disabled")):(this.actionContainer.classList.add("disabled"),this.actionContainer.setAttribute("aria-disabled","true"))}}var f=i(98),m=i(22),v=i(12),b=i(42),_=i(11),w=i(38),C=i(14),y=i(237),x=i(269),S=i(6);class k{constructor(e,t,i){this.presentationIndex=i,this._onColorFlushed=new S.b,this.onColorFlushed=this._onColorFlushed.event,this._onDidChangeColor=new S.b,this.onDidChangeColor=this._onDidChangeColor.event,this._onDidChangePresentation=new S.b,this.onDidChangePresentation=this._onDidChangePresentation.event,this.originalColor=e,this._color=e,this._colorPresentations=t}get color(){return this._color}set color(e){this._color.equals(e)||(this._color=e,this._onDidChangeColor.fire(e))}get presentation(){return this.colorPresentations[this.presentationIndex]}get colorPresentations(){return this._colorPresentations}set colorPresentations(e){this._colorPresentations=e,this.presentationIndex>e.length-1&&(this.presentationIndex=0),this._onDidChangePresentation.fire(this.presentation)}selectNextColorPresentation(){this.presentationIndex=(this.presentationIndex+1)%this.colorPresentations.length,this.flushColor(),this._onDidChangePresentation.fire(this.presentation)}guessColorPresentation(e,t){for(let e=0;e<this.colorPresentations.length;e++)if(t.toLowerCase()===this.colorPresentations[e].label){this.presentationIndex=e,this._onDidChangePresentation.fire(this.presentation);break}}flushColor(){this._onColorFlushed.fire(this._color)}}var D=i(44),L=i(122),O=(i(478),i(0)),E=i(4),N=i(16);const I=d.a;class T extends o.a{constructor(e,t,i){super(),this.model=t,this.domNode=I(".colorpicker-header"),d.q(e,this.domNode),this.pickedColorNode=d.q(this.domNode,I(".picked-color")),e=Object(O.a)("clickToToggleColorOptions","Click to toggle color options (rgb/hsl/hex)"),this.pickedColorNode.setAttribute("title",e);const n=d.q(this.domNode,I(".original-color"));n.style.backgroundColor=C.a.Format.CSS.format(this.model.originalColor)||"",this.backgroundColor=i.getColorTheme().getColor(E.E)||C.a.white,this._register(Object(N.f)((e,t)=>{this.backgroundColor=e.getColor(E.E)||C.a.white})),this._register(d.i(this.pickedColorNode,d.d.CLICK,()=>this.model.selectNextColorPresentation())),this._register(d.i(n,d.d.CLICK,()=>{this.model.color=this.model.originalColor,this.model.flushColor()})),this._register(t.onDidChangeColor(this.onDidChangeColor,this)),this._register(t.onDidChangePresentation(this.onDidChangePresentation,this)),this.pickedColorNode.style.backgroundColor=C.a.Format.CSS.format(t.color)||"",this.pickedColorNode.classList.toggle("light",(t.color.rgba.a<.5?this.backgroundColor:t.color).isLighter())}onDidChangeColor(e){this.pickedColorNode.style.backgroundColor=C.a.Format.CSS.format(e)||"",this.pickedColorNode.classList.toggle("light",(e.rgba.a<.5?this.backgroundColor:e).isLighter()),this.onDidChangePresentation()}onDidChangePresentation(){this.pickedColorNode.textContent=this.model.presentation?this.model.presentation.label:"",this.pickedColorNode.prepend(I(".codicon.codicon-color-mode"))}}class M extends o.a{constructor(e,t,i){super(),this.model=t,this.pixelRatio=i,this.domNode=I(".colorpicker-body"),d.q(e,this.domNode),this.saturationBox=new A(this.domNode,this.model,this.pixelRatio),this._register(this.saturationBox),this._register(this.saturationBox.onDidChange(this.onDidSaturationValueChange,this)),this._register(this.saturationBox.onColorFlushed(this.flushColor,this)),this.opacityStrip=new R(this.domNode,this.model),this._register(this.opacityStrip),this._register(this.opacityStrip.onDidChange(this.onDidOpacityChange,this)),this._register(this.opacityStrip.onColorFlushed(this.flushColor,this)),this.hueStrip=new F(this.domNode,this.model),this._register(this.hueStrip),this._register(this.hueStrip.onDidChange(this.onDidHueChange,this)),this._register(this.hueStrip.onColorFlushed(this.flushColor,this))}flushColor(){this.model.flushColor()}onDidSaturationValueChange({s:e,v:t}){var i=this.model.color.hsva;this.model.color=new C.a(new C.b(i.h,e,t,i.a))}onDidOpacityChange(e){var t=this.model.color.hsva;this.model.color=new C.a(new C.b(t.h,t.s,t.v,e))}onDidHueChange(e){var t=this.model.color.hsva;e=360*(1-e);this.model.color=new C.a(new C.b(360==e?0:e,t.s,t.v,t.a))}layout(){this.saturationBox.layout(),this.opacityStrip.layout(),this.hueStrip.layout()}}class A extends o.a{constructor(e,t,i){super(),this.model=t,this.pixelRatio=i,this._onDidChange=new S.b,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new S.b,this.onColorFlushed=this._onColorFlushed.event,this.domNode=I(".saturation-wrap"),d.q(e,this.domNode),this.canvas=document.createElement("canvas"),this.canvas.className="saturation-box",d.q(this.domNode,this.canvas),this.selection=I(".saturation-selection"),d.q(this.domNode,this.selection),this.layout(),this._register(d.g(this.domNode,e=>this.onMouseDown(e))),this._register(this.model.onDidChangeColor(this.onDidChangeColor,this)),this.monitor=null}onMouseDown(e){this.monitor=this._register(new L.a);const t=d.D(this.domNode);e.target!==this.selection&&this.onDidChangePosition(e.offsetX,e.offsetY),this.monitor.startMonitoring(e.target,e.buttons,L.b,e=>this.onDidChangePosition(e.posx-t.left,e.posy-t.top),()=>null);const i=d.h(document,()=>{this._onColorFlushed.fire(),i.dispose(),this.monitor&&(this.monitor.stopMonitoring(!0),this.monitor=null)},!0)}onDidChangePosition(e,t){e=Math.max(0,Math.min(1,e/this.width)),t=Math.max(0,Math.min(1,1-t/this.height)),this.paintSelection(e,t),this._onDidChange.fire({s:e,v:t})}layout(){this.width=this.domNode.offsetWidth,this.height=this.domNode.offsetHeight,this.canvas.width=this.width*this.pixelRatio,this.canvas.height=this.height*this.pixelRatio,this.paint();var e=this.model.color.hsva;this.paintSelection(e.s,e.v)}paint(){var e=this.model.color.hsva;e=new C.a(new C.b(e.h,1,1,1));const t=this.canvas.getContext("2d"),i=t.createLinearGradient(0,0,this.canvas.width,0);i.addColorStop(0,"rgba(255, 255, 255, 1)"),i.addColorStop(.5,"rgba(255, 255, 255, 0.5)"),i.addColorStop(1,"rgba(255, 255, 255, 0)");const n=t.createLinearGradient(0,0,0,this.canvas.height);n.addColorStop(0,"rgba(0, 0, 0, 0)"),n.addColorStop(1,"rgba(0, 0, 0, 1)"),t.rect(0,0,this.canvas.width,this.canvas.height),t.fillStyle=C.a.Format.CSS.format(e),t.fill(),t.fillStyle=i,t.fill(),t.fillStyle=n,t.fill()}paintSelection(e,t){this.selection.style.left=e*this.width+"px",this.selection.style.top=this.height-t*this.height+"px"}onDidChangeColor(){this.monitor&&this.monitor.isMonitoring()||this.paint()}}class P extends o.a{constructor(e,t){super(),this.model=t,this._onDidChange=new S.b,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new S.b,this.onColorFlushed=this._onColorFlushed.event,this.domNode=d.q(e,I(".strip")),this.overlay=d.q(this.domNode,I(".overlay")),this.slider=d.q(this.domNode,I(".slider")),this.slider.style.top="0px",this._register(d.g(this.domNode,e=>this.onMouseDown(e))),this.layout()}layout(){this.height=this.domNode.offsetHeight-this.slider.offsetHeight;var e=this.getValue(this.model.color);this.updateSliderPosition(e)}onMouseDown(e){const t=this._register(new L.a),i=d.D(this.domNode);this.domNode.classList.add("grabbing"),e.target!==this.slider&&this.onDidChangeTop(e.offsetY),t.startMonitoring(e.target,e.buttons,L.b,e=>this.onDidChangeTop(e.posy-i.top),()=>null);const n=d.h(document,()=>{this._onColorFlushed.fire(),n.dispose(),t.stopMonitoring(!0),this.domNode.classList.remove("grabbing")},!0)}onDidChangeTop(e){e=Math.max(0,Math.min(1,1-e/this.height)),this.updateSliderPosition(e),this._onDidChange.fire(e)}updateSliderPosition(e){this.slider.style.top=(1-e)*this.height+"px"}}class R extends P{constructor(e,t){super(e,t),this.domNode.classList.add("opacity-strip"),this._register(t.onDidChangeColor(this.onDidChangeColor,this)),this.onDidChangeColor(this.model.color)}onDidChangeColor(e){var{r:t,g:i,b:n}=e.rgba,n=(e=new C.a(new C.c(t,i,n,1)),new C.a(new C.c(t,i,n,0)));this.overlay.style.background=`linear-gradient(to bottom, ${e} 0%, ${n} 100%)`}getValue(e){return e.hsva.a}}class F extends P{constructor(e,t){super(e,t),this.domNode.classList.add("hue-strip")}getValue(e){return 1-e.hsva.h/360}}class j extends f.a{constructor(e,t,i,n){super(),this.model=t,this.pixelRatio=i,this._register(Object(D.l)(()=>this.layout())),i=I(".colorpicker-widget"),e.appendChild(i),n=new T(i,this.model,n),this.body=new M(i,this.model,this.pixelRatio),this._register(n),this._register(this.body)}layout(){this.body.layout()}}var B=function(e,t,i,n){return new(i=i||Promise)((function(o,r){function s(e){try{l(n.next(e))}catch(e){r(e)}}function a(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):((t=e.value)instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};class W{constructor(e,t,i,n){this.owner=e,this.range=t,this.model=i,this.provider=n,this.forceShowAtRange=!0}isValidForHoverAnchor(e){return 1===e.type&&this.range.startColumn<=e.range.startColumn&&this.range.endColumn>=e.range.endColumn}}let V=class{constructor(e,t,i){this._editor=e,this._hover=t,this._themeService=i}computeSync(e,t){return[]}computeAsync(e,t,i){return B(this,void 0,void 0,(function*(){if(!this._editor.hasModel())return[];const e=x.a.get(this._editor);for(const n of t)if("color-detector-color"===n.options.description){var i=e.getColorData(n.range.getStartPosition());if(i)return[yield this._createColorHover(this._editor.getModel(),i.colorInfo,i.provider)]}return[]}))}_createColorHover(e,t,i){return B(this,void 0,void 0,(function*(){var n=e.getValueInRange(t.range),{red:o,green:r,blue:a,alpha:l}=t.color,l=(a=new C.c(Math.round(255*o),Math.round(255*r),Math.round(255*a),l),new C.a(a)),a=yield Object(y.a)(e,t,i,w.a.None);const c=new k(l,[],0);return c.colorPresentations=a||[],c.guessColorPresentation(l,n),new W(this,s.a.lift(t.range),c,i)}))}renderHoverParts(e,t,i){if(0===e.length||!this._editor.hasModel())return o.a.None;const n=new o.b,r=e[0],a=this._editor.getModel(),l=r.model;t=n.add(new j(t,l,this._editor.getOption(127),this._themeService));let c=new s.a(r.range.startLineNumber,r.range.startColumn,r.range.endLineNumber,r.range.endColumn);const d=()=>{let e,t;var i;l.presentation.textEdit?(e=[l.presentation.textEdit],t=new s.a(l.presentation.textEdit.range.startLineNumber,l.presentation.textEdit.range.startColumn,l.presentation.textEdit.range.endLineNumber,l.presentation.textEdit.range.endColumn),i=this._editor.getModel()._setTrackedRange(null,t,3),this._editor.pushUndoStop(),this._editor.executeEdits("colorpicker",e),t=this._editor.getModel()._getTrackedRange(i)||t):(e=[{identifier:null,range:c,text:l.presentation.label,forceMoveMarkers:!1}],t=c.setEndPosition(c.endLineNumber,c.startColumn+l.presentation.label.length),this._editor.pushUndoStop(),this._editor.executeEdits("colorpicker",e)),l.presentation.additionalTextEdits&&(e=[...l.presentation.additionalTextEdits],this._editor.executeEdits("colorpicker",e),this._hover.hide()),this._editor.pushUndoStop(),c=t},h=e=>Object(y.a)(a,{range:c,color:{red:e.rgba.r/255,green:e.rgba.g/255,blue:e.rgba.b/255,alpha:e.rgba.a}},r.provider,w.a.None).then(e=>{l.colorPresentations=e||[]});return n.add(l.onColorFlushed(e=>{h(e).then(d)})),n.add(l.onDidChangeColor(h)),this._hover.setColorPicker(t),n}};V=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;0<=a;a--)(o=e[a])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s}([function(e,t){return function(e,i){t(e,i,2)}}(0,N.b)],V);var z=i(18),H=i(17);class U{constructor(e,t,i,n,o){this._computer=e,this._state=0,this._hoverTime=o,this._firstWaitScheduler=new z.e(()=>this._triggerAsyncComputation(),0),this._secondWaitScheduler=new z.e(()=>this._triggerSyncComputation(),0),this._loadingMessageScheduler=new z.e(()=>this._showLoadingMessage(),0),this._asyncComputationPromise=null,this._asyncComputationPromiseDone=!1,this._completeCallback=t,this._errorCallback=i,this._progressCallback=n}setHoverTime(e){this._hoverTime=e}_firstWaitTime(){return this._hoverTime/2}_secondWaitTime(){return this._hoverTime/2}_loadingMessageTime(){return 3*this._hoverTime}_triggerAsyncComputation(){this._state=2,this._secondWaitScheduler.schedule(this._secondWaitTime()),this._computer.computeAsync?(this._asyncComputationPromiseDone=!1,this._asyncComputationPromise=Object(z.h)(e=>this._computer.computeAsync(e)),this._asyncComputationPromise.then(e=>{this._asyncComputationPromiseDone=!0,this._withAsyncResult(e)},e=>this._onError(e))):this._asyncComputationPromiseDone=!0}_triggerSyncComputation(){this._computer.computeSync&&this._computer.onResult(this._computer.computeSync(),!0),this._asyncComputationPromiseDone?(this._state=0,this._onComplete(this._computer.getResult())):(this._state=3,this._onProgress(this._computer.getResult()))}_showLoadingMessage(){3===this._state&&this._onProgress(this._computer.getResultWithLoadingMessage())}_withAsyncResult(e){e&&this._computer.onResult(e,!1),3===this._state&&(this._state=0,this._onComplete(this._computer.getResult()))}_onComplete(e){this._completeCallback(e)}_onError(e){this._errorCallback?this._errorCallback(e):Object(H.f)(e)}_onProgress(e){this._progressCallback(e)}start(e){if(0===e)0===this._state&&(this._state=1,this._firstWaitScheduler.schedule(this._firstWaitTime()),this._loadingMessageScheduler.schedule(this._loadingMessageTime()));else switch(this._state){case 0:this._triggerAsyncComputation(),this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break;case 2:this._secondWaitScheduler.cancel(),this._triggerSyncComputation()}}cancel(){this._loadingMessageScheduler.cancel(),1===this._state&&this._firstWaitScheduler.cancel(),2===this._state&&(this._secondWaitScheduler.cancel(),this._asyncComputationPromise&&(this._asyncComputationPromise.cancel(),this._asyncComputationPromise=null)),3===this._state&&this._asyncComputationPromise&&(this._asyncComputationPromise.cancel(),this._asyncComputationPromise=null),this._state=0}}class ${constructor(e,t){this.priority=e,this.range=t,this.type=1}equals(e){return 1===e.type&&this.range.equalsRange(e.range)}canAdoptVisibleHover(e,t){return 1===e.type&&t.lineNumber===this.range.startLineNumber}}class K{constructor(e,t,i){this.priority=e,this.owner=t,this.range=i,this.type=2}equals(e){return 2===e.type&&this.owner===e.owner}canAdoptVisibleHover(e,t){return 2===e.type&&this.owner===e.owner}}var q=i(104),G=i(176);function Y(e,t,i){var n=_.p.ordered(e).map(n=>Promise.resolve(n.provideHover(e,t,i)).then(e=>{return e&&(i=void 0!==(t=e).range,t=void 0!==t.contents&&t.contents&&0<t.contents.length,i&&t)?e:void 0;var t,i},e=>{Object(H.g)(e)}));return Promise.all(n).then(m.e)}Object(r.n)("_executeHoverProvider",(e,t)=>Y(e,t,w.a.None));var Z=i(56),X=i(91),Q=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;0<=a;a--)(o=e[a])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s},J=function(e,t){return function(i,n){t(i,n,e)}};const ee=d.a;class te{constructor(e,t,i){this.owner=e,this.range=t,this.contents=i}isValidForHoverAnchor(e){return 1===e.type&&this.range.startColumn<=e.range.startColumn&&this.range.endColumn>=e.range.endColumn}}let ie=class{constructor(e,t,i,n,o){this._editor=e,this._hover=t,this._modeService=i,this._openerService=n,this._configurationService=o}createLoadingMessage(e){return new te(this,e.range,[(new q.a).appendText(O.a("modesContentHover.loading","正在加载..."))])}computeSync(e,t){if(!this._editor.hasModel()||1!==e.type)return[];const i=this._editor.getModel();var n=e.range.startLineNumber,o=i.getLineMaxColumn(n);const r=[];for(const i of t){var a=i.range.startLineNumber===n?i.range.startColumn:1,l=i.range.endLineNumber===n?i.range.endColumn:o,c=i.options.hoverMessage;c&&!Object(q.b)(c)&&(l=new s.a(e.range.startLineNumber,a,e.range.startLineNumber,l),r.push(new te(this,l,Object(m.c)(c))))}var d=i.getLineLength(n);t=i.getLanguageIdAtPosition(e.range.startLineNumber,e.range.startColumn);return"number"==typeof(t=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:t}))&&t<=d&&r.push(new te(this,e.range,[{value:O.a("too many characters","Tokenization is skipped for long lines for performance reasons. This can be configured via `editor.maxTokenizationLineLength`.")}])),r}computeAsync(e,t,i){return function(e,t,i,n){return new(i=i||Promise)((function(o,r){function s(e){try{l(n.next(e))}catch(e){r(e)}}function a(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):((t=e.value)instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))}(this,void 0,void 0,(function*(){if(!this._editor.hasModel()||1!==e.type)return Promise.resolve([]);var t,n=this._editor.getModel();if(!_.p.has(n))return Promise.resolve([]);const o=[];for(const r of yield Y(n,new v.a(e.range.startLineNumber,e.range.startColumn),i))Object(q.b)(r.contents)||(t=r.range?s.a.lift(r.range):e.range,o.push(new te(this,t,r.contents)));return o}))}renderHoverParts(e,t,i){const n=new o.b;for(const i of e)for(const e of i.contents)if(!Object(q.b)(e)){var r=ee("div.hover-row.markdown-hover");const i=d.q(r,ee("div.hover-contents")),o=n.add(new G.a({editor:this._editor},this._modeService,this._openerService));n.add(o.onDidRenderAsync(()=>{i.className="hover-contents code-hover-contents",this._hover.onContentsChanged()}));var s=n.add(o.render(e));i.appendChild(s.element),t.appendChild(r)}return n}};ie=Q([J(2,l.a),J(3,X.a),J(4,Z.a)],ie);var ne=i(60),oe=(t=i(215),i(124)),re=i(167),se=(Q=i(81),i(264)),ae=i(76),le=i(102);J=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;0<=a;a--)(o=e[a])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s},Z=function(e,t){return function(i,n){t(i,n,e)}};const ce=d.a;class de{constructor(e,t,i){this.owner=e,this.range=t,this.marker=i}isValidForHoverAnchor(e){return 1===e.type&&this.range.startColumn<=e.range.startColumn&&this.range.endColumn>=e.range.endColumn}}const he={type:1,filter:{include:Q.b.QuickFix}};let ue=class{constructor(e,t,i,n){this._editor=e,this._hover=t,this._markerDecorationsService=i,this._openerService=n,this.recentMarkerCodeActionsInfo=void 0}computeSync(e,t){if(!this._editor.hasModel()||1!==e.type)return[];const i=this._editor.getModel();var n=e.range.startLineNumber,o=i.getLineMaxColumn(n);const r=[];for(const d of t){var a=d.range.startLineNumber===n?d.range.startColumn:1,l=d.range.endLineNumber===n?d.range.endColumn:o,c=this._markerDecorationsService.getMarker(i.uri,d);c&&(l=new s.a(e.range.startLineNumber,a,e.range.startLineNumber,l),r.push(new de(this,l,c)))}return r}renderHoverParts(e,t,i){if(!e.length)return o.a.None;const n=new o.b;return e.forEach(e=>t.appendChild(this.renderMarkerHover(e,n))),e=(1===e.length?e:e.sort((e,t)=>ae.c.compare(e.marker.severity,t.marker.severity)))[0],this.renderMarkerStatusbar(e,i,n),n}renderMarkerHover(e,t){var i=ce("div.hover-row"),n=d.q(i,ce("div.marker.hover-contents"));const{source:o,message:r,code:s,relatedInformation:a}=e.marker;this._editor.applyFontInfo(n);const l=d.q(n,ce("span"));if(l.style.whiteSpace="pre-wrap",l.innerText=r,o||s)if(s&&"string"!=typeof s){if(e=ce("span"),o){d.q(e,ce("span")).innerText=o}const i=d.q(e,ce("a.code-link"));i.setAttribute("href",s.target.toString()),t.add(d.i(i,"click",e=>{this._openerService.open(s.target,{allowCommands:!0}),e.preventDefault(),e.stopPropagation()}));d.q(i,ce("span")).innerText=s.value;const r=d.q(n,e);r.style.opacity="0.6",r.style.paddingLeft="6px"}else{const e=d.q(n,ce("span"));e.style.opacity="0.6",e.style.paddingLeft="6px",e.innerText=o&&s?`${o}(${s})`:o||`(${s})`}if(Object(m.n)(a))for(const{message:e,resource:i,startLineNumber:o,startColumn:r}of a){const s=d.q(n,ce("div"));s.style.marginTop="8px";const a=d.q(s,ce("a"));a.innerText=`${Object(ne.b)(i)}(${o}, ${r}): `,a.style.cursor="pointer",t.add(d.i(a,"click",e=>{e.stopPropagation(),e.preventDefault(),this._openerService&&this._openerService.open(i,{fromUserGesture:!0,editorOptions:{selection:{startLineNumber:o,startColumn:r}}}).catch(H.f)}));const l=d.q(s,ce("span"));l.innerText=e,this._editor.applyFontInfo(l)}return i}renderMarkerStatusbar(e,t,i){if(e.marker.severity!==ae.c.Error&&e.marker.severity!==ae.c.Warning&&e.marker.severity!==ae.c.Info||t.addAction({label:O.a("view problem","View Problem"),commandId:se.NextMarkerAction.ID,run:()=>{this._hover.hide(),se.MarkerController.get(this._editor).showAtMarker(e.marker),this._editor.focus()}}),!this._editor.getOption(80)){const n=t.append(ce("div"));this.recentMarkerCodeActionsInfo&&(ae.a.makeKey(this.recentMarkerCodeActionsInfo.marker)===ae.a.makeKey(e.marker)?this.recentMarkerCodeActionsInfo.hasCodeActions||(n.textContent=O.a("noQuickFixes","No quick fixes available")):this.recentMarkerCodeActionsInfo=void 0);const r=this.recentMarkerCodeActionsInfo&&!this.recentMarkerCodeActionsInfo.hasCodeActions?o.a.None:i.add(Object(z.i)(()=>n.textContent=O.a("checkingForQuickFixes","Checking for quick fixes..."),200));n.textContent||(n.textContent=String.fromCharCode(160));const s=this.getCodeActions(e.marker);i.add(Object(o.i)(()=>s.cancel())),s.then(s=>{if(r.dispose(),this.recentMarkerCodeActionsInfo={marker:e.marker,hasCodeActions:0<s.validActions.length},!this.recentMarkerCodeActionsInfo.hasCodeActions)return s.dispose(),void(n.textContent=O.a("noQuickFixes","No quick fixes available"));let a=!(n.style.display="none");i.add(Object(o.i)(()=>{a||s.dispose()})),t.addAction({label:O.a("quick fixes","Quick Fix..."),commandId:re.e.Id,run:e=>{a=!0;const t=re.f.get(this._editor);e=d.D(e),this._hover.hide(),t.showCodeActions(he,s,{x:e.left+6,y:e.top+e.height+6})}})},H.f)}}getCodeActions(e){return Object(z.h)(t=>Object(oe.d)(this._editor.getModel(),new s.a(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn),he,le.b.None,t))}};ue=J([Z(2,t.a),Z(3,X.a)],ue),Object(N.f)((e,t)=>{var i=e.getColor(E.Pc);i&&t.addRule(`.monaco-hover .hover-contents a.code-link span { color: ${i}; }`),(e=e.getColor(E.Oc))&&t.addRule(`.monaco-hover .hover-contents a.code-link span:hover { color: ${e}; }`)});var ge=i(181),pe=(Q=i(90),i(32));J=i(36),t=i(10),Z=function(e,t){return function(i,n){t(i,n,e)}};class fe{constructor(e,t,i){this.owner=e,this.range=t,this.controller=i}isValidForHoverAnchor(e){return 1===e.type&&this.range.startColumn<=e.range.startColumn&&this.range.endColumn>=e.range.endColumn}hasMultipleSuggestions(){return this.controller.hasMultipleInlineCompletions()}}let me=class{constructor(e,t,i,n,o,r,s,a){this._editor=e,this._hover=t,this._commandService=i,this._menuService=n,this._contextKeyService=o,this._modeService=r,this._openerService=s,this.accessibilityService=a}suggestHoverAnchor(e){const t=ge.GhostTextController.get(this._editor);if(!t)return null;if(8===e.target.type){var i=e.target.detail;if(t.shouldShowHoverAtViewZone(i.viewZoneId))return new K(1e3,this,s.a.fromPositions(i.positionBefore||i.position,i.positionBefore||i.position))}return 7===e.target.type&&e.target.range&&t.shouldShowHoverAt(e.target.range)||6===e.target.type&&e.target.range&&e.target.detail&&e.target.detail.mightBeForeignElement&&t.shouldShowHoverAt(e.target.range)?new K(1e3,this,e.target.range):null}computeSync(e,t){const i=ge.GhostTextController.get(this._editor);return i&&i.shouldShowHoverAt(e.range)?[new fe(this,e.range,i)]:[]}renderHoverParts(e,t,i){const n=new o.b,r=e[0];this.accessibilityService.isScreenReaderOptimized()&&this.renderScreenReaderText(r,t,n);const s=n.add(this._menuService.createMenu(pe.b.InlineCompletionsActions,this._contextKeyService));var a,l;e=i.addAction({label:O.a("showNextInlineSuggestion","Next"),commandId:ge.ShowNextInlineSuggestionAction.ID,run:()=>this._commandService.executeCommand(ge.ShowNextInlineSuggestionAction.ID)}),t=i.addAction({label:O.a("showPreviousInlineSuggestion","Previous"),commandId:ge.ShowPreviousInlineSuggestionAction.ID,run:()=>this._commandService.executeCommand(ge.ShowPreviousInlineSuggestionAction.ID)});i.addAction({label:O.a("acceptInlineSuggestion","Accept"),commandId:ge.commitInlineSuggestionAction.id,run:()=>this._commandService.executeCommand(ge.commitInlineSuggestionAction.id)});const c=[e,t];for(const e of c)e.setEnabled(!1);for([a,l]of(r.hasMultipleSuggestions().then(e=>{for(const t of c)t.setEnabled(e)}),s.getActions()))for(const e of l)e instanceof pe.c&&i.addAction({label:e.label,commandId:e.item.id,run:()=>this._commandService.executeCommand(e.item.id)});return n}renderScreenReaderText(e,t,i){const n=d.a;var o=n("div.hover-row.markdown-hover");const r=d.q(o,n("div.hover-contents")),s=i.add(new G.a({editor:this._editor},this._modeService,this._openerService));const a=null===(e=null===(e=e.controller.activeModel)||void 0===e?void 0:e.inlineCompletionsModel)||void 0===e?void 0:e.ghostText;a&&(e=this._editor.getModel().getLineContent(a.lineNumber),(e=>{i.add(s.onDidRenderAsync(()=>{r.className="hover-contents code-hover-contents",this._hover.onContentsChanged()}));var t=O.a("inlineSuggestionFollows","Suggestion:");e=i.add(s.render((new q.a).appendText(t).appendCodeblock("text",e)));r.replaceChildren(e.element)})(a.renderForScreenReader(e))),t.appendChild(o)}};me=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;0<=a;a--)(o=e[a])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s}([Z(2,J.b),Z(3,pe.a),Z(4,t.b),Z(5,l.a),Z(6,X.a),Z(7,Q.b)],me);J=i(21),Z=i(58);var ve=i(48),be=(Q=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;0<=a;a--)(o=e[a])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s},i=function(e,t){return function(i,n){t(i,n,e)}},function(e,t,i,n){return new(i=i||Promise)((function(o,r){function s(e){try{l(n.next(e))}catch(e){r(e)}}function a(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):((t=e.value)instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))});const _e=d.a;let we=class extends o.a{constructor(e){super(),this._keybindingService=e,this._hasContent=!1,this.hoverElement=_e("div.hover-row.status-bar"),this.actionsElement=d.q(this.hoverElement,_e("div.actions"))}get hasContent(){return this._hasContent}addAction(e){const t=this._keybindingService.lookupKeybinding(e.commandId);var i=t?t.getLabel():null;return this._hasContent=!0,this._register(p.render(this.actionsElement,e,i))}append(e){return e=d.q(this.actionsElement,e),this._hasContent=!0,e}};we=Q([i(0,Z.a)],we);class Ce{constructor(e,t){this._participants=t,this._editor=e,this._result=[],this._anchor=null}setAnchor(e){this._anchor=e,this._result=[]}clearResult(){this._result=[]}static _getLineDecorations(e,t){if(1!==t.type)return[];const i=e.getModel(),n=t.range.startLineNumber,o=i.getLineMaxColumn(n);return e.getLineDecorations(n).filter(e=>{if(e.options.isWholeLine)return!0;var i=e.range.startLineNumber===n?e.range.startColumn:1;e=e.range.endLineNumber===n?e.range.endColumn:o;return!(i>t.range.startColumn||t.range.endColumn>e)})}computeAsync(e){return be(this,void 0,void 0,(function*(){const t=this._anchor;if(!this._editor.hasModel()||!t)return Promise.resolve([]);const i=Ce._getLineDecorations(this._editor,t);var n=yield Promise.all(this._participants.map(n=>this._computeAsync(n,i,t,e)));return Object(m.k)(n)}))}_computeAsync(e,t,i,n){return be(this,void 0,void 0,(function*(){return e.computeAsync?e.computeAsync(i,t,n):[]}))}computeSync(){if(!this._editor.hasModel()||!this._anchor)return[];var e=Ce._getLineDecorations(this._editor,this._anchor);let t=[];for(const i of this._participants)t=t.concat(i.computeSync(this._anchor,e));return Object(m.e)(t)}onResult(e,t){this._result=t?e.concat(this._result):this._result.concat(e)}getResult(){return this._result.slice(0)}getResultWithLoadingMessage(){if(this._anchor)for(const t of this._participants)if(t.createLoadingMessage){var e=t.createLoadingMessage(this._anchor);if(e)return this._result.slice(0).concat([e])}return this._result.slice(0)}}let ye=class e extends f.a{constructor(e,t,i,n,o){super(),this._hoverVisibleKey=t,this._keybindingService=n,this._contextKeyService=o,this.allowEditorOverflow=!0,this._participants=[i.createInstance(V,e,this),i.createInstance(ie,e,this),i.createInstance(me,e,this),i.createInstance(ue,e,this)],this._editor=e,this._isVisible=!1,this._stoleFocus=!1,this._renderDisposable=null,this._hover=this._register(new g),this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible),this.onkeydown(this._hover.containerDomNode,e=>{e.equals(9)&&this.hide()}),this._register(this._editor.onDidChangeConfiguration(e=>{e.hasChanged(43)&&this._updateFont()})),this._editor.onDidLayoutChange(()=>this.layout()),this.layout(),this._editor.addContentWidget(this),this._showAtPosition=null,this._showAtRange=null,this._stoleFocus=!1,this._messages=[],this._lastAnchor=null,this._computer=new Ce(this._editor,this._participants),this._highlightDecorations=[],this._isChangingDecorations=!1,this._shouldFocus=!1,this._colorPicker=null,this._preferAbove=this._editor.getOption(52).above,this._hoverOperation=new U(this._computer,e=>this._withResult(e,!0),null,e=>this._withResult(e,!1),this._editor.getOption(52).delay),this._register(d.o(this.getDomNode(),d.d.FOCUS,()=>{this._colorPicker&&this.getDomNode().classList.add("colorpicker-hover")})),this._register(d.o(this.getDomNode(),d.d.BLUR,()=>{this.getDomNode().classList.remove("colorpicker-hover")})),this._register(e.onDidChangeConfiguration(()=>{this._hoverOperation.setHoverTime(this._editor.getOption(52).delay),this._preferAbove=this._editor.getOption(52).above})),this._register(_.F.onDidChange(()=>{this._isVisible&&this._lastAnchor&&0<this._messages.length&&(this._hover.contentsDomNode.textContent="",this._renderMessages(this._lastAnchor,this._messages))}))}dispose(){this._hoverOperation.cancel(),this._editor.removeContentWidget(this),super.dispose()}getId(){return e.ID}getDomNode(){return this._hover.containerDomNode}_shouldShowAt(e){var t=e.target.type;return 6===t||!!(7===t&&(t=this._editor.getOption(43).typicalHalfwidthCharacterWidth/2,(e=e.target.detail)&&!e.isAfterLines&&"number"==typeof e.horizontalDistanceToText&&e.horizontalDistanceToText<t))}maybeShowAt(e){var t,i;const n=[];for(const i of this._participants)"function"!=typeof i.suggestHoverAnchor||(t=i.suggestHoverAnchor(e))&&n.push(t);return this._shouldShowAt(e)&&e.target.range&&(i=[...(null===(i=e.target.element)||void 0===i?void 0:i.classList.values())||[]].find(e=>e.startsWith("ced-colorBox"))&&e.target.range.endColumn-e.target.range.startColumn==1?new s.a(e.target.range.startLineNumber,e.target.range.startColumn+1,e.target.range.endLineNumber,e.target.range.endColumn+1):e.target.range,n.push(new $(0,i))),0!==n.length&&(n.sort((e,t)=>t.priority-e.priority),this._startShowingAt(n[0],0,!1),!0)}_showAt(e,t,i){this._showAtPosition=e,this._showAtRange=t,this._hoverVisibleKey.set(!0),this._isVisible=!0,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible),this._editor.layoutContentWidget(this),this._editor.render(),(this._stoleFocus=i)&&this._hover.containerDomNode.focus()}getPosition(){if(this._isVisible){let e=this._preferAbove;return!e&&this._contextKeyService.getContextKeyValue(ve.b.Visible.key)&&(e=!0),{position:this._showAtPosition,range:this._showAtRange,preference:e?[1,2]:[2,1]}}return null}_updateFont(){Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach(e=>this._editor.applyFontInfo(e))}_updateContents(e){this._hover.contentsDomNode.textContent="",this._hover.contentsDomNode.appendChild(e),this._updateFont(),this._editor.layoutContentWidget(this),this._hover.onContentsChanged()}layout(){var e=Math.max(this._editor.getLayoutInfo().height/4,250),{fontSize:t,lineHeight:i}=this._editor.getOption(43);this._hover.contentsDomNode.style.fontSize=t+"px",this._hover.contentsDomNode.style.lineHeight=""+i/t,this._hover.contentsDomNode.style.maxHeight=e+"px",this._hover.contentsDomNode.style.maxWidth=Math.max(.66*this._editor.getLayoutInfo().width,500)+"px"}onModelDecorationsChanged(){this._isChangingDecorations||this._isVisible&&(this._hoverOperation.cancel(),this._computer.clearResult(),this._colorPicker||this._hoverOperation.start(0))}startShowingAtRange(e,t,i){this._startShowingAt(new $(0,e),t,i)}_startShowingAt(e,t,i){if(!this._lastAnchor||!this._lastAnchor.equals(e)){if(this._hoverOperation.cancel(),this._isVisible)if(this._showAtPosition&&this._lastAnchor&&e.canAdoptVisibleHover(this._lastAnchor,this._showAtPosition)){var n=this._messages.filter(t=>t.isValidForHoverAnchor(e));if(0===n.length)this.hide();else{if(n.length===this._messages.length)return;this._renderMessages(e,n)}}else this.hide();this._lastAnchor=e,this._computer.setAnchor(e),this._shouldFocus=i,this._hoverOperation.start(t)}}hide(){this._lastAnchor=null,this._hoverOperation.cancel(),this._isVisible&&(setTimeout(()=>{this._isVisible||this._hoverVisibleKey.set(!1)},0),this._isVisible=!1,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible),this._editor.layoutContentWidget(this),this._stoleFocus&&this._editor.focus()),this._isChangingDecorations=!0,this._highlightDecorations=this._editor.deltaDecorations(this._highlightDecorations,[]),this._isChangingDecorations=!1,this._renderDisposable&&(this._renderDisposable.dispose(),this._renderDisposable=null),this._colorPicker=null}isColorPickerVisible(){return!!this._colorPicker}setColorPicker(e){this._colorPicker=e}onContentsChanged(){this._hover.onContentsChanged()}_withResult(e,t){this._messages=e,this._lastAnchor&&0<this._messages.length?this._renderMessages(this._lastAnchor,this._messages):t&&this.hide()}_renderMessages(t,i){this._renderDisposable&&(this._renderDisposable.dispose(),this._renderDisposable=null),this._colorPicker=null;let n=1073741824,r=i[0].range,a=null,l=document.createDocumentFragment();const c=new o.b,d=new Map;for(const e of i){n=Math.min(n,e.range.startColumn),r=s.a.plusRange(r,e.range),e.forceShowAtRange&&(a=e.range),d.has(e.owner)||d.set(e.owner,[]);d.get(e.owner).push(e)}var h,u,g=c.add(new we(this._keybindingService));for([h,u]of d)c.add(h.renderHoverParts(u,l,g));g.hasContent&&l.appendChild(g.hoverElement),this._renderDisposable=c,l.hasChildNodes()&&(a?this._showAt(a.getStartPosition(),a,this._shouldFocus):this._showAt(new v.a(t.range.startLineNumber,n),r,this._shouldFocus),this._updateContents(l)),this._colorPicker&&this._colorPicker.layout(),this._isChangingDecorations=!0,this._highlightDecorations=this._editor.deltaDecorations(this._highlightDecorations,r?[{range:r,options:e._DECORATION_OPTIONS}]:[]),this._isChangingDecorations=!1}};ye.ID="editor.contrib.modesContentHoverWidget",ye._DECORATION_OPTIONS=b.b.register({description:"content-hover-highlight",className:"hoverHighlight"}),ye=Q([i(2,J.a),i(3,Z.a),i(4,t.b)],ye);const xe=d.a;class Se{constructor(e){this._editor=e,this._lineNumber=-1,this._result=[]}setLineNumber(e){this._lineNumber=e,this._result=[]}clearResult(){this._result=[]}computeSync(){var e,t=e=>({value:e}),i=this._editor.getLineDecorations(this._lineNumber);const n=[];if(!i)return n;for(const o of i)o.options.glyphMarginClassName&&(e=o.options.glyphMarginHoverMessage)&&!Object(q.b)(e)&&n.push(...Object(m.c)(e).map(t));return n}onResult(e,t){this._result=this._result.concat(e)}getResult(){return this._result}getResultWithLoadingMessage(){return this.getResult()}}class ke extends f.a{constructor(e,t,i=X.b){super(),this._renderDisposeables=this._register(new o.b),this._editor=e,this._isVisible=!1,this._messages=[],this._lastLineNumber=-1,this._hover=this._register(new g),this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible),this._markdownRenderer=this._register(new G.a({editor:this._editor},t,i)),this._computer=new Se(this._editor),this._hoverOperation=new U(this._computer,e=>this._withResult(e),void 0,e=>this._withResult(e),300),this._register(this._editor.onDidChangeConfiguration(e=>{e.hasChanged(43)&&this._updateFont()})),this._editor.addOverlayWidget(this)}dispose(){this._hoverOperation.cancel(),this._editor.removeOverlayWidget(this),super.dispose()}getId(){return ke.ID}getDomNode(){return this._hover.containerDomNode}getPosition(){return null}_showAt(e){this._isVisible||(this._isVisible=!0,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible));var t=this._editor.getLayoutInfo(),i=this._editor.getTopForLineNumber(e),n=this._editor.getScrollTop();e=this._editor.getOption(58),e=i-n-(this._hover.containerDomNode.clientHeight-e)/2;this._hover.containerDomNode.style.left=t.glyphMarginLeft+t.glyphMarginWidth+"px",this._hover.containerDomNode.style.top=Math.max(Math.round(e),0)+"px"}_updateFont(){Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach(e=>this._editor.applyFontInfo(e))}_updateContents(e){this._hover.contentsDomNode.textContent="",this._hover.contentsDomNode.appendChild(e),this._updateFont()}onModelDecorationsChanged(){this._isVisible&&(this._hoverOperation.cancel(),this._computer.clearResult(),this._hoverOperation.start(0))}startShowingAt(e){this._lastLineNumber!==e&&(this._hoverOperation.cancel(),this.hide(),this._lastLineNumber=e,this._computer.setLineNumber(e),this._hoverOperation.start(0))}hide(){this._lastLineNumber=-1,this._hoverOperation.cancel(),this._isVisible&&(this._isVisible=!1,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible))}_withResult(e){this._messages=e,0<this._messages.length?this._renderMessages(this._lastLineNumber,this._messages):this.hide()}_renderMessages(e,t){this._renderDisposeables.clear();const i=document.createDocumentFragment();for(const e of t){var n=xe("div.hover-row.markdown-hover");const t=d.q(n,xe("div.hover-contents"));var o=this._renderDisposeables.add(this._markdownRenderer.render(e.value));t.appendChild(o.element),i.appendChild(n)}this._updateContents(i),this._showAt(e)}}ke.ID="editor.contrib.modesGlyphHoverWidget",i=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;0<=a;a--)(o=e[a])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s},f=function(e,t){return function(i,n){t(i,n,e)}};let De=class e{constructor(e,t,i,n,r){this._editor=e,this._instantiationService=t,this._openerService=i,this._modeService=n,this._toUnhook=new o.b,this._isMouseDown=!1,this._hoverClicked=!1,this._contentWidget=null,this._glyphWidget=null,this._hookEvents(),this._didChangeConfigurationHandler=this._editor.onDidChangeConfiguration(e=>{e.hasChanged(52)&&(this._unhookEvents(),this._hookEvents())}),this._hoverVisibleKey=a.a.hoverVisible.bindTo(r)}static get(t){return t.getContribution(e.ID)}_hookEvents(){var e=()=>this._hideWidgets(),t=this._editor.getOption(52);this._isHoverEnabled=t.enabled,this._isHoverSticky=t.sticky,this._isHoverEnabled?(this._toUnhook.add(this._editor.onMouseDown(e=>this._onEditorMouseDown(e))),this._toUnhook.add(this._editor.onMouseUp(e=>this._onEditorMouseUp(e))),this._toUnhook.add(this._editor.onMouseMove(e=>this._onEditorMouseMove(e))),this._toUnhook.add(this._editor.onKeyDown(e=>this._onKeyDown(e))),this._toUnhook.add(this._editor.onDidChangeModelDecorations(()=>this._onModelDecorationsChanged()))):(this._toUnhook.add(this._editor.onMouseMove(e=>this._onEditorMouseMove(e))),this._toUnhook.add(this._editor.onKeyDown(e=>this._onKeyDown(e)))),this._toUnhook.add(this._editor.onMouseLeave(e)),this._toUnhook.add(this._editor.onDidChangeModel(e)),this._toUnhook.add(this._editor.onDidScrollChange(e=>this._onEditorScrollChanged(e)))}_unhookEvents(){this._toUnhook.clear()}_onModelDecorationsChanged(){var e;null!==(e=this._contentWidget)&&void 0!==e&&e.onModelDecorationsChanged(),null!==(e=this._glyphWidget)&&void 0!==e&&e.onModelDecorationsChanged()}_onEditorScrollChanged(e){(e.scrollTopChanged||e.scrollLeftChanged)&&this._hideWidgets()}_onEditorMouseDown(e){this._isMouseDown=!0;var t=e.target.type;9!==t||e.target.detail!==ye.ID?12===t&&e.target.detail===ke.ID||(12!==t&&e.target.detail!==ke.ID&&(this._hoverClicked=!1),this._hideWidgets()):this._hoverClicked=!0}_onEditorMouseUp(e){this._isMouseDown=!1}_onEditorMouseMove(e){var t,i,n=e.target.type;if((!this._isMouseDown||!this._hoverClicked)&&(!this._isHoverSticky||9!==n||e.target.detail!==ye.ID)&&(!this._isHoverSticky||null!==(t=null===(t=e.event.browserEvent.view)||void 0===t?void 0:t.getSelection())&&void 0!==t&&t.isCollapsed)&&(this._isHoverSticky||9!==n||e.target.detail!==ye.ID||null===(i=this._contentWidget)||void 0===i||!i.isColorPickerVisible())&&(!this._isHoverSticky||12!==n||e.target.detail!==ke.ID))if(this._isHoverEnabled){if(!this._getOrCreateContentWidget().maybeShowAt(e))return 2===n&&e.target.position?(null!==(n=this._contentWidget)&&void 0!==n&&n.hide(),this._glyphWidget||(this._glyphWidget=new ke(this._editor,this._modeService,this._openerService)),void this._glyphWidget.startShowingAt(e.target.position.lineNumber)):void this._hideWidgets();null!==(e=this._glyphWidget)&&void 0!==e&&e.hide()}else this._hideWidgets()}_onKeyDown(e){5!==e.keyCode&&6!==e.keyCode&&57!==e.keyCode&&4!==e.keyCode&&this._hideWidgets()}_hideWidgets(){var e;this._isMouseDown&&this._hoverClicked&&null!==(e=this._contentWidget)&&void 0!==e&&e.isColorPickerVisible()||(this._hoverClicked=!1,null!==(e=this._glyphWidget)&&void 0!==e&&e.hide(),null!==(e=this._contentWidget)&&void 0!==e&&e.hide())}_getOrCreateContentWidget(){return this._contentWidget||(this._contentWidget=this._instantiationService.createInstance(ye,this._editor,this._hoverVisibleKey)),this._contentWidget}isColorPickerVisible(){var e;return(null===(e=this._contentWidget)||void 0===e?void 0:e.isColorPickerVisible())||!1}showContentHover(e,t,i){this._getOrCreateContentWidget().startShowingAtRange(e,t,i)}dispose(){var e;this._unhookEvents(),this._toUnhook.dispose(),this._didChangeConfigurationHandler.dispose(),null!==(e=this._glyphWidget)&&void 0!==e&&e.dispose(),null!==(e=this._contentWidget)&&void 0!==e&&e.dispose()}};De.ID="editor.contrib.hover",De=i([f(1,J.a),f(2,X.a),f(3,l.a),f(4,t.b)],De);class Le extends r.b{constructor(){super({id:"editor.action.showHover",label:O.a({key:"showHover",comment:["Label for action that will trigger the showing of a hover in the editor.","This allows for users to show the hover without using the mouse."]},"Show Hover"),alias:"Show Hover",precondition:void 0,kbOpts:{kbExpr:a.a.editorTextFocus,primary:Object(n.c)(2089,2087),weight:100}})}run(e,t){if(t.hasModel()){let e=De.get(t);var i;e&&(i=t.getPosition(),i=new s.a(i.lineNumber,i.column,i.lineNumber,i.column),t=2===t.getOption(2),e.showContentHover(i,1,t))}}}class Oe extends r.b{constructor(){super({id:"editor.action.showDefinitionPreviewHover",label:O.a({key:"showDefinitionPreviewHover",comment:["Label for action that will trigger the showing of definition preview hover in the editor.","This allows for users to show the definition preview hover without using the mouse."]},"Show Definition Preview Hover"),alias:"Show Definition Preview Hover",precondition:void 0})}run(e,t){let i=De.get(t);if(i){var n=t.getPosition();if(n){const e=new s.a(n.lineNumber,n.column,n.lineNumber,n.column);c.GotoDefinitionAtPositionEditorContribution.get(t).startFindDefinitionFromCursor(n).then(()=>{i.showContentHover(e,1,!0)})}}}}Object(r.l)(De.ID,De),Object(r.j)(Le),Object(r.j)(Oe),Object(N.f)((e,t)=>{var i=e.getColor(E.H);i&&t.addRule(`.monaco-editor .hoverHighlight { background-color: ${i}; }`),(i=e.getColor(E.E))&&t.addRule(`.monaco-editor .monaco-hover { background-color: ${i}; }`);const n=e.getColor(E.F);n&&(t.addRule(`.monaco-editor .monaco-hover { border: 1px solid ${n}; }`),t.addRule(`.monaco-editor .monaco-hover .hover-row:not(:first-child):not(:empty) { border-top: 1px solid ${n.transparent(.5)}; }`),t.addRule(`.monaco-editor .monaco-hover hr { border-top: 1px solid ${n.transparent(.5)}; }`),t.addRule(`.monaco-editor .monaco-hover hr { border-bottom: 0px solid ${n.transparent(.5)}; }`)),(i=e.getColor(E.Pc))&&t.addRule(`.monaco-editor .monaco-hover a { color: ${i}; }`),(i=e.getColor(E.Oc))&&t.addRule(`.monaco-editor .monaco-hover a:hover { color: ${i}; }`),(i=e.getColor(E.G))&&t.addRule(`.monaco-editor .monaco-hover { color: ${i}; }`),(i=e.getColor(E.I))&&t.addRule(`.monaco-editor .monaco-hover .hover-row .actions { background-color: ${i}; }`),(e=e.getColor(E.Nc))&&t.addRule(`.monaco-editor .monaco-hover code { background-color: ${e}; }`)})},function(e,t,i){"use strict";i.r(t),i.d(t,"DefinitionAction",(function(){return K}));var n=i(44),o=i(73),r=i(18),s=i(71),a=i(15),l=i(19),c=i(35),d=i(103),h=i(135),u=i(5),g=i(46),p=i(183),f=i(12),m=i(3),v=i(8),b=i(11),_=i(230),w=i(101),C=i(6),y=i(2),x=i(60),S=i(0),k=i(10),D=i(125),L=i(21),O=i(58),E=i(111),N=i(64),I=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;0<=a;a--)(o=e[a])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s},T=function(e,t){return function(i,n){t(i,n,e)}};const M=new k.c("hasSymbols",!1,Object(S.a)("hasSymbols","Whether there are symbol locations that can be navigated via keyboard-only.")),A=Object(L.c)("ISymbolNavigationService");t=class{constructor(e,t,i,n){this._editorService=t,this._notificationService=i,this._keybindingService=n,this._currentModel=void 0,this._currentIdx=-1,this._ignoreEditorChange=!1,this._ctxHasSymbols=M.bindTo(e)}reset(){var e;this._ctxHasSymbols.reset(),null!==(e=this._currentState)&&void 0!==e&&e.dispose(),null!==(e=this._currentMessage)&&void 0!==e&&e.dispose(),this._currentModel=void 0,this._currentIdx=-1}put(e){const t=e.parent.parent;if(t.references.length<=1)this.reset();else{this._currentModel=t,this._currentIdx=t.references.indexOf(e),this._ctxHasSymbols.set(!0),this._showMessage();const i=new P(this._editorService);e=i.onDidChange(e=>{if(!this._ignoreEditorChange){const e=this._editorService.getActiveCodeEditor();if(e){var i=e.getModel(),n=e.getPosition();if(i&&n){let e=!1,o=!1;for(const r of t.references)if(Object(x.f)(r.uri,i.uri))e=!0,o=o||m.a.containsPosition(r.range,n);else if(e)break;e&&o||this.reset()}}}}),this._currentState=Object(y.e)(i,e)}}revealNext(e){if(!this._currentModel)return Promise.resolve();this._currentIdx+=1,this._currentIdx%=this._currentModel.references.length;var t=this._currentModel.references[this._currentIdx];return this._showMessage(),this._ignoreEditorChange=!0,this._editorService.openCodeEditor({resource:t.uri,options:{selection:m.a.collapseToStart(t.range),selectionRevealType:3}},e).finally(()=>{this._ignoreEditorChange=!1})}_showMessage(){null!==(t=this._currentMessage)&&void 0!==t&&t.dispose();const e=this._keybindingService.lookupKeybinding("editor.gotoNextSymbolFromResult");var t=e?Object(S.a)("location.kb","Symbol {0} of {1}, {2} for next",this._currentIdx+1,this._currentModel.references.length,e.getLabel()):Object(S.a)("location","Symbol {0} of {1}",this._currentIdx+1,this._currentModel.references.length);this._currentMessage=this._notificationService.status(t)}},t=I([T(0,k.b),T(1,g.a),T(2,N.a),T(3,O.a)],t),Object(D.b)(A,t,!0),Object(u.k)(new class extends u.c{constructor(){super({id:"editor.gotoNextSymbolFromResult",precondition:M,kbOpts:{weight:100,primary:70}})}runEditorCommand(e,t){return e.get(A).revealNext(t)}}),E.a.registerCommandAndKeybindingRule({id:"editor.gotoNextSymbolFromResult.cancel",weight:100,when:M,primary:9,handler(e){e.get(A).reset()}});let P=class{constructor(e){this._listener=new Map,this._disposables=new y.b,this._onDidChange=new C.b,this.onDidChange=this._onDidChange.event,this._disposables.add(e.onCodeEditorRemove(this._onDidRemoveEditor,this)),this._disposables.add(e.onCodeEditorAdd(this._onDidAddEditor,this)),e.listCodeEditors().forEach(this._onDidAddEditor,this)}dispose(){this._disposables.dispose(),this._onDidChange.dispose(),Object(y.f)(this._listener.values())}_onDidAddEditor(e){this._listener.set(e,Object(y.e)(e.onDidChangeCursorPosition(t=>this._onDidChange.fire({editor:e})),e.onDidChangeModelContent(t=>this._onDidChange.fire({editor:e}))))}_onDidRemoveEditor(e){var t;null!==(t=this._listener.get(e))&&void 0!==t&&t.dispose(),this._listener.delete(e)}};P=I([T(0,g.a)],P);var R=i(178),F=i(78),j=i(32),B=i(36),W=i(102),V=i(180),z=function(e,t,i,n){return new(i=i||Promise)((function(o,r){function s(e){try{l(n.next(e))}catch(e){r(e)}}function a(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):((t=e.value)instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};j.d.appendMenuItem(j.b.EditorContext,{submenu:j.b.EditorContextPeek,title:S.a("peek.submenu","Peek"),group:"navigation",order:100});const H=new Set;function U(e){return e=new e,Object(u.m)(e),H.add(e.id),e}class $ extends u.b{constructor(e,t){super(t),this._configuration=e}run(e,t){if(!t.hasModel())return Promise.resolve(void 0);const i=e.get(N.a),n=e.get(g.a),s=e.get(W.a),a=e.get(A),l=t.getModel(),c=t.getPosition(),h=new d.b(t,5);return e=Object(r.l)(this._getLocationModel(l,c,h.token),h.token).then(e=>z(this,void 0,void 0,(function*(){if(e&&!h.token.isCancellationRequested){let s;Object(o.a)(e.ariaMessage),!e.referenceAt(l.uri,c)||(i=this._getAlternativeCommand(t))!==this.id&&H.has(i)&&(s=t.getAction(i));var i,r=e.references.length;if(0===r)this._configuration.muteMessage||(i=l.getWordAtPosition(c),R.a.get(t).showMessage(this._getNoResultFoundMessage(i),c));else{if(1!==r||!s)return this._onResult(n,a,t,e);s.run()}}})),e=>{i.error(e)}).finally(()=>{h.dispose()}),s.showWhile(e,250),e}_onResult(e,t,i,n){return z(this,void 0,void 0,(function*(){var o,r,s,a=this._getGoToPreference(i);i instanceof p.a||!(this._configuration.openInPeek||"peek"===a&&1<n.references.length)?(o=n.firstReference(),r=1<n.references.length&&"gotoAndPeek"===a,s=yield this._openReference(i,e,o,this._configuration.openToSide,!r),r&&s?this._openInPeek(s,n):n.dispose(),"goto"===a&&t.put(o)):this._openInPeek(i,n)}))}_openReference(e,t,i,n,o){return z(this,void 0,void 0,(function*(){let r=void 0;if(Object(b.J)(i)&&(r=i.targetSelectionRange),r=r||i.range,r){const s=yield t.openCodeEditor({resource:i.uri,options:{selection:m.a.collapseToStart(r),selectionRevealType:3}},e,n);if(s){if(o){const e=s.getModel(),t=s.deltaDecorations([],[{range:r,options:{description:"symbol-navigate-action-highlight",className:"symbolHighlight"}}]);setTimeout(()=>{s.getModel()===e&&s.deltaDecorations(t,[])},350)}return s}}}))}_openInPeek(e,t){let i=_.a.get(e);i&&e.hasModel()?i.toggleWidget(e.getSelection(),Object(r.h)(e=>Promise.resolve(t)),this._configuration.openInPeek):t.dispose()}}class K extends ${_getLocationModel(e,t,i){return z(this,void 0,void 0,(function*(){return new w.c(yield Object(V.b)(e,t,i),S.a("def.title","Definitions"))}))}_getNoResultFoundMessage(e){return e&&e.word?S.a("noResultWord","No definition found for '{0}'",e.word):S.a("generic.noResults","No definition found")}_getAlternativeCommand(e){return e.getOption(50).alternativeDefinitionCommand}_getGoToPreference(e){return e.getOption(50).multipleDefinitions}}const q=a.h&&!n.i?2118:70;U(((n=class e extends K{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:e.id,label:S.a("actions.goToDecl.label","Go to Definition"),alias:"Go to Definition",precondition:k.a.and(v.a.hasDefinitionProvider,v.a.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:v.a.editorTextFocus,primary:q,weight:100},contextMenuOpts:{group:"navigation",order:1.1}}),B.a.registerCommandAlias("editor.action.goToDeclaration",e.id)}}).id="editor.action.revealDefinition",n)),U(((n=class e extends K{constructor(){super({openToSide:!0,openInPeek:!1,muteMessage:!1},{id:e.id,label:S.a("actions.goToDeclToSide.label","Open Definition to the Side"),alias:"Open Definition to the Side",precondition:k.a.and(v.a.hasDefinitionProvider,v.a.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:v.a.editorTextFocus,primary:Object(s.c)(2089,q),weight:100}}),B.a.registerCommandAlias("editor.action.openDeclarationToTheSide",e.id)}}).id="editor.action.revealDefinitionAside",n)),U(((n=class e extends K{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:e.id,label:S.a("actions.previewDecl.label","Peek Definition"),alias:"Peek Definition",precondition:k.a.and(v.a.hasDefinitionProvider,F.b.notInPeekEditor,v.a.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:v.a.editorTextFocus,primary:582,linux:{primary:3140},weight:100},contextMenuOpts:{menuId:j.b.EditorContextPeek,group:"peek",order:2}}),B.a.registerCommandAlias("editor.action.previewDeclaration",e.id)}}).id="editor.action.peekDefinition",n));class G extends ${_getLocationModel(e,t,i){return z(this,void 0,void 0,(function*(){return new w.c(yield Object(V.a)(e,t,i),S.a("decl.title","Declarations"))}))}_getNoResultFoundMessage(e){return e&&e.word?S.a("decl.noResultWord","No declaration found for '{0}'",e.word):S.a("decl.generic.noResults","No declaration found")}_getAlternativeCommand(e){return e.getOption(50).alternativeDeclarationCommand}_getGoToPreference(e){return e.getOption(50).multipleDeclarations}}U(((n=class e extends G{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:e.id,label:S.a("actions.goToDeclaration.label","Go to Declaration"),alias:"Go to Declaration",precondition:k.a.and(v.a.hasDeclarationProvider,v.a.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{group:"navigation",order:1.3}})}_getNoResultFoundMessage(e){return e&&e.word?S.a("decl.noResultWord","No declaration found for '{0}'",e.word):S.a("decl.generic.noResults","No declaration found")}}).id="editor.action.revealDeclaration",n)),U(class extends G{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.peekDeclaration",label:S.a("actions.peekDecl.label","Peek Declaration"),alias:"Peek Declaration",precondition:k.a.and(v.a.hasDeclarationProvider,F.b.notInPeekEditor,v.a.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:j.b.EditorContextPeek,group:"peek",order:3}})}});class Y extends ${_getLocationModel(e,t,i){return z(this,void 0,void 0,(function*(){return new w.c(yield Object(V.e)(e,t,i),S.a("typedef.title","Type Definitions"))}))}_getNoResultFoundMessage(e){return e&&e.word?S.a("goToTypeDefinition.noResultWord","No type definition found for '{0}'",e.word):S.a("goToTypeDefinition.generic.noResults","No type definition found")}_getAlternativeCommand(e){return e.getOption(50).alternativeTypeDefinitionCommand}_getGoToPreference(e){return e.getOption(50).multipleTypeDefinitions}}U(((n=class e extends Y{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:e.ID,label:S.a("actions.goToTypeDefinition.label","Go to Type Definition"),alias:"Go to Type Definition",precondition:k.a.and(v.a.hasTypeDefinitionProvider,v.a.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:v.a.editorTextFocus,primary:0,weight:100},contextMenuOpts:{group:"navigation",order:1.4}})}}).ID="editor.action.goToTypeDefinition",n)),U(((n=class e extends Y{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:e.ID,label:S.a("actions.peekTypeDefinition.label","Peek Type Definition"),alias:"Peek Type Definition",precondition:k.a.and(v.a.hasTypeDefinitionProvider,F.b.notInPeekEditor,v.a.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:j.b.EditorContextPeek,group:"peek",order:4}})}}).ID="editor.action.peekTypeDefinition",n));class Z extends ${_getLocationModel(e,t,i){return z(this,void 0,void 0,(function*(){return new w.c(yield Object(V.c)(e,t,i),S.a("impl.title","Implementations"))}))}_getNoResultFoundMessage(e){return e&&e.word?S.a("goToImplementation.noResultWord","No implementation found for '{0}'",e.word):S.a("goToImplementation.generic.noResults","No implementation found")}_getAlternativeCommand(e){return e.getOption(50).alternativeImplementationCommand}_getGoToPreference(e){return e.getOption(50).multipleImplementations}}U(((n=class e extends Z{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:e.ID,label:S.a("actions.goToImplementation.label","Go to Implementations"),alias:"Go to Implementations",precondition:k.a.and(v.a.hasImplementationProvider,v.a.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:v.a.editorTextFocus,primary:2118,weight:100},contextMenuOpts:{group:"navigation",order:1.45}})}}).ID="editor.action.goToImplementation",n)),U(((n=class e extends Z{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:e.ID,label:S.a("actions.peekImplementation.label","Peek Implementations"),alias:"Peek Implementations",precondition:k.a.and(v.a.hasImplementationProvider,F.b.notInPeekEditor,v.a.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:v.a.editorTextFocus,primary:3142,weight:100},contextMenuOpts:{menuId:j.b.EditorContextPeek,group:"peek",order:5}})}}).ID="editor.action.peekImplementation",n));class X extends ${_getNoResultFoundMessage(e){return e?S.a("references.no","No references found for '{0}'",e.word):S.a("references.noGeneric","No references found")}_getAlternativeCommand(e){return e.getOption(50).alternativeReferenceCommand}_getGoToPreference(e){return e.getOption(50).multipleReferences}}U(class extends X{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:"editor.action.goToReferences",label:S.a("goToReferences.label","Go to References"),alias:"Go to References",precondition:k.a.and(v.a.hasReferenceProvider,F.b.notInPeekEditor,v.a.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:v.a.editorTextFocus,primary:1094,weight:100},contextMenuOpts:{group:"navigation",order:1.45}})}_getLocationModel(e,t,i){return z(this,void 0,void 0,(function*(){return new w.c(yield Object(V.d)(e,t,!0,i),S.a("ref.title","References"))}))}}),U(class extends X{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.referenceSearch.trigger",label:S.a("references.action.label","Peek References"),alias:"Peek References",precondition:k.a.and(v.a.hasReferenceProvider,F.b.notInPeekEditor,v.a.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:j.b.EditorContextPeek,group:"peek",order:6}})}_getLocationModel(e,t,i){return z(this,void 0,void 0,(function*(){return new w.c(yield Object(V.d)(e,t,!1,i),S.a("ref.title","References"))}))}});class Q extends ${constructor(e,t,i){super(e,{id:"editor.action.goToLocation",label:S.a("label.generic","Go to Any Symbol"),alias:"Go to Any Symbol",precondition:k.a.and(F.b.notInPeekEditor,v.a.isInWalkThroughSnippet.toNegated())}),this._references=t,this._gotoMultipleBehaviour=i}_getLocationModel(e,t,i){return z(this,void 0,void 0,(function*(){return new w.c(this._references,S.a("generic.title","Locations"))}))}_getNoResultFoundMessage(e){return e&&S.a("generic.noResult","No results for '{0}'",e.word)||""}_getGoToPreference(e){var t;return null!==(t=this._gotoMultipleBehaviour)&&void 0!==t?t:e.getOption(50).multipleReferences}_getAlternativeCommand(){return""}}B.a.registerCommand({id:"editor.action.goToLocations",description:{description:"Go to locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:c.a},{name:"position",description:"The position at which to start",constraint:f.a.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"},{name:"noResultsMessage",description:"Human readable message that shows when locations is empty."}]},handler:(e,t,i,n,o,r,s)=>z(void 0,void 0,void 0,(function*(){Object(l.c)(c.a.isUri(t)),Object(l.c)(f.a.isIPosition(i)),Object(l.c)(Array.isArray(n)),Object(l.c)(void 0===o||"string"==typeof o),Object(l.c)(void 0===s||"boolean"==typeof s);const a=e.get(g.a),d=yield a.openCodeEditor({resource:t},a.getFocusedCodeEditor());if(Object(h.b)(d))return d.setPosition(i),d.revealPositionInCenterIfOutsideViewport(i,0),d.invokeWithinContext(e=>{const t=new class extends Q{_getNoResultFoundMessage(e){return r||super._getNoResultFoundMessage(e)}}({muteMessage:!Boolean(r),openInPeek:Boolean(s),openToSide:!1},n,o);e.get(L.a).invokeFunction(t.run.bind(t),d)})}))}),B.a.registerCommand({id:"editor.action.peekLocations",description:{description:"Peek locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:c.a},{name:"position",description:"The position at which to start",constraint:f.a.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"}]},handler:(e,t,i,n,o)=>z(void 0,void 0,void 0,(function*(){e.get(B.b).executeCommand("editor.action.goToLocations",t,i,n,o,void 0,!0)}))}),B.a.registerCommand({id:"editor.action.findReferences",handler:(e,t,i)=>{Object(l.c)(c.a.isUri(t)),Object(l.c)(f.a.isIPosition(i));const n=e.get(g.a);return n.openCodeEditor({resource:t},n.getFocusedCodeEditor()).then(e=>{if(Object(h.b)(e)&&e.hasModel()){const o=_.a.get(e);if(o){var t=Object(r.h)(t=>Object(V.d)(e.getModel(),f.a.lift(i),!1,t).then(e=>new w.c(e,S.a("ref.title","References")))),n=new m.a(i.lineNumber,i.column,i.lineNumber,i.column);return Promise.resolve(o.toggleWidget(n,t,!1))}}})}}),B.a.registerCommandAlias("editor.action.showReferences","editor.action.peekLocations"),j.d.appendMenuItems([{id:j.b.MenubarGoMenu,item:{command:{id:"editor.action.revealDefinition",title:S.a({key:"miGotoDefinition",comment:["&& denotes a mnemonic"]},"Go to &&Definition")},group:"4_symbol_nav",order:2}},{id:j.b.MenubarGoMenu,item:{command:{id:"editor.action.revealDeclaration",title:S.a({key:"miGotoDeclaration",comment:["&& denotes a mnemonic"]},"Go to &&Declaration")},group:"4_symbol_nav",order:3}},{id:j.b.MenubarGoMenu,item:{command:{id:"editor.action.goToTypeDefinition",title:S.a({key:"miGotoTypeDefinition",comment:["&& denotes a mnemonic"]},"Go to &&Type Definition")},group:"4_symbol_nav",order:3}},{id:j.b.MenubarGoMenu,item:{command:{id:"editor.action.goToImplementation",title:S.a({key:"miGotoImplementation",comment:["&& denotes a mnemonic"]},"Go to &&Implementations")},group:"4_symbol_nav",order:4}},{id:j.b.MenubarGoMenu,item:{command:{id:"editor.action.goToReferences",title:S.a({key:"miGotoReference",comment:["&& denotes a mnemonic"]},"Go to &&References")},group:"4_symbol_nav",order:5}}])},function(e,t){e.exports=require("vue-router")},function(e,t){e.exports=require("marked")},function(e,t){e.exports=require("bignumber.js")},function(e,t,i){"use strict";(function(e){let n;i.d(t,"a",(function(){return o})),i.d(t,"b",(function(){return r})),function(){function t(e){n=e()}var i,o;t.amd=!0,i=this,o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function i(e,i){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,i){if(e){if("string"==typeof e)return t(e,i);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?t(e,i):void 0}}(e))||i&&e&&"number"==typeof e.length){n&&(e=n);var o=0;return function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n={exports:{}};function o(){return{baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}function r(e){return d[e]}n.exports={defaults:{baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1},getDefaults:o,changeDefaults:function(e){n.exports.defaults=e}};var s=/[&<>"']/,a=/[&<>"']/g,l=/[<>"']|&(?!#?\w+;)/,c=/[<>"']|&(?!#?\w+;)/g,d={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},h=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function u(e){return e.replace(h,(function(e,t){return"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""}))}var g=/(^|[^\[])\^/g,p=/[^\w:]/g,f=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i,m={},v=/^[^:]+:\/*[^/]*$/,b=/^([^:]+:)[\s\S]*$/,_=/^([^:]+:\/*[^/]*)[\s\S]*$/;function w(e,t,i){var n=e.length;if(0===n)return"";for(var o=0;o<n;){var r=e.charAt(n-o-1);if(r!==t||i){if(r===t||!i)break;o++}else o++}return e.substr(0,n-o)}var C=function(e,t){if(t){if(s.test(e))return e.replace(a,r)}else if(l.test(e))return e.replace(c,r);return e},y=u,x=function(e,t){e=e.source||e,t=t||"";var i={replace:function(t,n){return n=(n=n.source||n).replace(g,"$1"),e=e.replace(t,n),i},getRegex:function(){return new RegExp(e,t)}};return i},S=function(e,t,i){if(e){var n;try{n=decodeURIComponent(u(i)).replace(p,"").toLowerCase()}catch(e){return null}if(0===n.indexOf("javascript:")||0===n.indexOf("vbscript:")||0===n.indexOf("data:"))return null}t&&!f.test(i)&&(i=function(e,t){m[" "+e]||(v.test(e)?m[" "+e]=e+"/":m[" "+e]=w(e,"/",!0));var i=-1===(e=m[" "+e]).indexOf(":");return"//"===t.substring(0,2)?i?t:e.replace(b,"$1")+t:"/"===t.charAt(0)?i?t:e.replace(_,"$1")+t:e+t}(t,i));try{i=encodeURI(i).replace(/%25/g,"%")}catch(e){return null}return i},k={exec:function(){}},D=function(e){for(var t,i,n=1;n<arguments.length;n++)for(i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},L=function(e,t){var i=e.replace(/\|/g,(function(e,t,i){for(var n=!1,o=t;0<=--o&&"\\"===i[o];)n=!n;return n?"|":" |"})).split(/ \|/),n=0;if(i[0].trim()||i.shift(),i[i.length-1].trim()||i.pop(),i.length>t)i.splice(t);else for(;i.length<t;)i.push("");for(;n<i.length;n++)i[n]=i[n].trim().replace(/\\\|/g,"|");return i},O=w,E=function(e,t){if(-1===e.indexOf(t[1]))return-1;for(var i=e.length,n=0,o=0;o<i;o++)if("\\"===e[o])o++;else if(e[o]===t[0])n++;else if(e[o]===t[1]&&--n<0)return o;return-1},N=function(e){e&&e.sanitize&&!e.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")},I=function(e,t){if(t<1)return"";for(var i="";1<t;)1&t&&(i+=e),t>>=1,e+=e;return i+e},T=n.exports.defaults,M=O,A=L,P=C,R=E;function F(e,t,i,n){var o=t.href,r=t.title?P(t.title):null;t=e[1].replace(/\\([\[\]])/g,"$1");return"!"===e[0].charAt(0)?{type:"image",raw:i,href:o,title:r,text:P(t)}:(n.state.inLink=!0,t={type:"link",raw:i,href:o,title:r,text:t,tokens:n.inlineTokens(t,[])},n.state.inLink=!1,t)}O=function(){function e(e){this.options=e||T}var t=e.prototype;return t.space=function(e){if(e=this.rules.block.newline.exec(e))return 1<e[0].length?{type:"space",raw:e[0]}:{raw:"\n"}},t.code=function(e){var t=this.rules.block.code.exec(e);if(t)return e=t[0].replace(/^ {1,4}/gm,""),{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?e:M(e,"\n")}},t.fences=function(e){var t=this.rules.block.fences.exec(e);if(t){var i=t[0];e=function(e,t){if(null===(e=e.match(/^(\s+)(?:```)/)))return t;var i=e[1];return t.split("\n").map((function(e){var t=e.match(/^\s+/);return null!==t&&t[0].length>=i.length?e.slice(i.length):e})).join("\n")}(i,t[3]||"");return{type:"code",raw:i,lang:t[2]&&t[2].trim(),text:e}}},t.heading=function(e){var t=this.rules.block.heading.exec(e);if(t){var i=t[2].trim();return/#$/.test(i)&&(e=M(i,"#"),!this.options.pedantic&&e&&!/ $/.test(e)||(i=e.trim())),i={type:"heading",raw:t[0],depth:t[1].length,text:i,tokens:[]},this.lexer.inline(i.text,i.tokens),i}},t.hr=function(e){if(e=this.rules.block.hr.exec(e))return{type:"hr",raw:e[0]}},t.blockquote=function(e){var t=this.rules.block.blockquote.exec(e);if(t)return e=t[0].replace(/^ *> ?/gm,""),{type:"blockquote",raw:t[0],tokens:this.lexer.blockTokens(e,[]),text:e}},t.list=function(e){var t=this.rules.block.list.exec(e);if(t){var i,n,o,r,s,a,l,c,d,h=1<(g=t[1].trim()).length,u={type:"list",raw:"",ordered:h,start:h?+g.slice(0,-1):"",loose:!1,items:[]},g=h?"\\d{1,9}\\"+g.slice(-1):"\\"+g;this.options.pedantic&&(g=h?g:"[*+-]");for(var p=new RegExp("^( {0,3}"+g+")((?: [^\\n]*| *)(?:\\n[^\\n]*)*(?:\\n|$))");e&&!this.rules.block.hr.test(e)&&(t=p.exec(e));){c=t[2].split("\n"),d=this.options.pedantic?(r=2,c[0].trimLeft()):(r=t[2].search(/[^ ]/),r=t[1].length+(4<r?1:r),c[0].slice(r-t[1].length)),s=!1,i=t[0],!c[0]&&/^ *$/.test(c[1])&&(i=t[1]+c.slice(0,2).join("\n")+"\n",u.loose=!0,c=[]);for(var f=new RegExp("^ {0,"+Math.min(3,r-1)+"}(?:[*+-]|\\d{1,9}[.)])"),m=1;m<c.length;m++){if(l=c[m],this.options.pedantic&&(l=l.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),f.test(l)){i=t[1]+c.slice(0,m).join("\n")+"\n";break}if(s){if(!(l.search(/[^ ]/)>=r)&&l.trim()){i=t[1]+c.slice(0,m).join("\n")+"\n";break}d+="\n"+l.slice(r)}else l.trim()||(s=!0),l.search(/[^ ]/)>=r?d+="\n"+l.slice(r):d+="\n"+l}u.loose||(a?u.loose=!0:/\n *\n *$/.test(i)&&(a=!0)),this.options.gfm&&(n=/^\[[ xX]\] /.exec(d))&&(o="[ ] "!==n[0],d=d.replace(/^\[[ xX]\] +/,"")),u.items.push({type:"list_item",raw:i,task:!!n,checked:o,loose:!1,text:d}),u.raw+=i,e=e.slice(i.length)}u.items[u.items.length-1].raw=i.trimRight(),u.items[u.items.length-1].text=d.trimRight(),u.raw=u.raw.trimRight();var v=u.items.length;for(m=0;m<v;m++)this.lexer.state.top=!1,u.items[m].tokens=this.lexer.blockTokens(u.items[m].text,[]),u.items[m].tokens.some((function(e){return"space"===e.type}))&&(u.loose=!0,u.items[m].loose=!0);return u}},t.html=function(e){var t=this.rules.block.html.exec(e);if(t)return e={type:"html",raw:t[0],pre:!this.options.sanitizer&&("pre"===t[1]||"script"===t[1]||"style"===t[1]),text:t[0]},this.options.sanitize&&(e.type="paragraph",e.text=this.options.sanitizer?this.options.sanitizer(t[0]):P(t[0]),e.tokens=[],this.lexer.inline(e.text,e.tokens)),e},t.def=function(e){if(e=this.rules.block.def.exec(e))return e[3]&&(e[3]=e[3].substring(1,e[3].length-1)),{type:"def",tag:e[1].toLowerCase().replace(/\s+/g," "),raw:e[0],href:e[2],title:e[3]}},t.table=function(e){if(e=this.rules.block.table.exec(e)){var t={type:"table",header:A(e[1]).map((function(e){return{text:e}})),align:e[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:e[3]?e[3].replace(/\n$/,"").split("\n"):[]};if(t.header.length===t.align.length){t.raw=e[0];for(var i,n,o,r=t.align.length,s=0;s<r;s++)/^ *-+: *$/.test(t.align[s])?t.align[s]="right":/^ *:-+: *$/.test(t.align[s])?t.align[s]="center":/^ *:-+ *$/.test(t.align[s])?t.align[s]="left":t.align[s]=null;for(r=t.rows.length,s=0;s<r;s++)t.rows[s]=A(t.rows[s],t.header.length).map((function(e){return{text:e}}));for(r=t.header.length,i=0;i<r;i++)t.header[i].tokens=[],this.lexer.inlineTokens(t.header[i].text,t.header[i].tokens);for(r=t.rows.length,i=0;i<r;i++)for(o=t.rows[i],n=0;n<o.length;n++)o[n].tokens=[],this.lexer.inlineTokens(o[n].text,o[n].tokens);return t}}},t.lheading=function(e){if(e=this.rules.block.lheading.exec(e))return e={type:"heading",raw:e[0],depth:"="===e[2].charAt(0)?1:2,text:e[1],tokens:[]},this.lexer.inline(e.text,e.tokens),e},t.paragraph=function(e){if(e=this.rules.block.paragraph.exec(e))return e={type:"paragraph",raw:e[0],text:"\n"===e[1].charAt(e[1].length-1)?e[1].slice(0,-1):e[1],tokens:[]},this.lexer.inline(e.text,e.tokens),e},t.text=function(e){if(e=this.rules.block.text.exec(e))return e={type:"text",raw:e[0],text:e[0],tokens:[]},this.lexer.inline(e.text,e.tokens),e},t.escape=function(e){if(e=this.rules.inline.escape.exec(e))return{type:"escape",raw:e[0],text:P(e[1])}},t.tag=function(e){if(e=this.rules.inline.tag.exec(e))return!this.lexer.state.inLink&&/^<a /i.test(e[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(e[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(e[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(e[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:e[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(e[0]):P(e[0]):e[0]}},t.link=function(e){var t=this.rules.inline.link.exec(e);if(t){var i=t[2].trim();if(!this.options.pedantic&&/^</.test(i)){if(!/>$/.test(i))return;if(e=M(i.slice(0,-1),"\\"),(i.length-e.length)%2==0)return}else{-1<(o=R(t[2],"()"))&&(r=(0===t[0].indexOf("!")?5:4)+t[1].length+o,t[2]=t[2].substring(0,o),t[0]=t[0].substring(0,r).trim(),t[3]="")}var n,o=t[2],r="";return this.options.pedantic?(n=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(o))&&(o=n[1],r=n[3]):r=t[3]?t[3].slice(1,-1):"",o=o.trim(),F(t,{href:(o=/^</.test(o)?this.options.pedantic&&!/>$/.test(i)?o.slice(1):o.slice(1,-1):o)&&o.replace(this.rules.inline._escapes,"$1"),title:r&&r.replace(this.rules.inline._escapes,"$1")},t[0],this.lexer)}},t.reflink=function(e,t){if((i=this.rules.inline.reflink.exec(e))||(i=this.rules.inline.nolink.exec(e))){if((e=t[(e=(i[2]||i[1]).replace(/\s+/g," ")).toLowerCase()])&&e.href)return F(i,e,i[0],this.lexer);var i=i[0].charAt(0);return{type:"text",raw:i,text:i}}},t.emStrong=function(e,t,i){void 0===i&&(i="");var n=this.rules.inline.emStrong.lDelim.exec(e);if(n&&(!n[3]||!i.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08C7\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\u9FFC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7BF\uA7C2-\uA7CA\uA7F5-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82C[\uDC00-\uDD1E\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDD\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var o=n[1]||n[2]||"";if(!o||o&&(""===i||this.rules.inline.punctuation.exec(i))){var r,s=n[0].length-1,a=s,l=0,c="*"===n[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(c.lastIndex=0,t=t.slice(-1*e.length+s);null!=(n=c.exec(t));)if(r=n[1]||n[2]||n[3]||n[4]||n[5]||n[6])if(r=r.length,n[3]||n[4])a+=r;else if(!((n[5]||n[6])&&s%3)||(s+r)%3){if(!(0<(a-=r))){if(r=Math.min(r,r+a+l),Math.min(s,r)%2){var d=e.slice(1,s+n.index+r);return{type:"em",raw:e.slice(0,s+n.index+r+1),text:d,tokens:this.lexer.inlineTokens(d,[])}}return d=e.slice(2,s+n.index+r-1),{type:"strong",raw:e.slice(0,s+n.index+r+1),text:d,tokens:this.lexer.inlineTokens(d,[])}}}else l+=r}}},t.codespan=function(e){var t=this.rules.inline.code.exec(e);if(t){var i=t[2].replace(/\n/g," "),n=/[^ ]/.test(i);e=/^ /.test(i)&&/ $/.test(i);return n&&e&&(i=i.substring(1,i.length-1)),i=P(i,!0),{type:"codespan",raw:t[0],text:i}}},t.br=function(e){if(e=this.rules.inline.br.exec(e))return{type:"br",raw:e[0]}},t.del=function(e){if(e=this.rules.inline.del.exec(e))return{type:"del",raw:e[0],text:e[2],tokens:this.lexer.inlineTokens(e[2],[])}},t.autolink=function(e,t){if(e=this.rules.inline.autolink.exec(e)){var i;t="@"===e[2]?"mailto:"+(i=P(this.options.mangle?t(e[1]):e[1])):i=P(e[1]);return{type:"link",raw:e[0],text:i,href:t,tokens:[{type:"text",raw:i,text:i}]}}},t.url=function(e,t){var i,n,o,r;if(i=this.rules.inline.url.exec(e)){if("@"===i[2])o="mailto:"+(n=P(this.options.mangle?t(i[0]):i[0]));else{for(;r=i[0],i[0]=this.rules.inline._backpedal.exec(i[0])[0],r!==i[0];);n=P(i[0]),o="www."===i[1]?"http://"+n:n}return{type:"link",raw:i[0],text:n,href:o,tokens:[{type:"text",raw:n,text:n}]}}},t.inlineText=function(e,t){if(e=this.rules.inline.text.exec(e))return t=this.lexer.state.inRawBlock?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(e[0]):P(e[0]):e[0]:P(this.options.smartypants?t(e[0]):e[0]),{type:"text",raw:e[0],text:t}},e}(),L=k,E=x,k=D,(x={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)( [^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,table:L,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/}).def=E(x.def).replace("label",x._label).replace("title",x._title).getRegex(),x.bullet=/(?:[*+-]|\d{1,9}[.)])/,x.listItemStart=E(/^( *)(bull) */).replace("bull",x.bullet).getRegex(),x.list=E(x.list).replace(/bull/g,x.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+x.def.source+")").getRegex(),x._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",x._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,x.html=E(x.html,"i").replace("comment",x._comment).replace("tag",x._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),x.paragraph=E(x._paragraph).replace("hr",x.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",x._tag).getRegex(),x.blockquote=E(x.blockquote).replace("paragraph",x.paragraph).getRegex(),x.normal=k({},x),x.gfm=k({},x.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)\\|?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),x.gfm.table=E(x.gfm.table).replace("hr",x.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",x._tag).getRegex(),x.pedantic=k({},x.normal,{html:E("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",x._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:L,paragraph:E(x.normal._paragraph).replace("hr",x.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",x.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()}),(L={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:L,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/\_\_[^_*]*?\*[^_*]*?\_\_|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/\*\*[^_*]*?\_[^_*]*?\*\*|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:L,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/,_punctuation:"!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~"}).punctuation=E(L.punctuation).replace(/punctuation/g,L._punctuation).getRegex(),L.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,L.escapedEmSt=/\\\*|\\_/g,L._comment=E(x._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),L.emStrong.lDelim=E(L.emStrong.lDelim).replace(/punct/g,L._punctuation).getRegex(),L.emStrong.rDelimAst=E(L.emStrong.rDelimAst,"g").replace(/punct/g,L._punctuation).getRegex(),L.emStrong.rDelimUnd=E(L.emStrong.rDelimUnd,"g").replace(/punct/g,L._punctuation).getRegex(),L._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,L._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,L._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,L.autolink=E(L.autolink).replace("scheme",L._scheme).replace("email",L._email).getRegex(),L._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,L.tag=E(L.tag).replace("comment",L._comment).replace("attribute",L._attribute).getRegex(),L._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,L._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,L._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,L.link=E(L.link).replace("label",L._label).replace("href",L._href).replace("title",L._title).getRegex(),L.reflink=E(L.reflink).replace("label",L._label).getRegex(),L.reflinkSearch=E(L.reflinkSearch,"g").replace("reflink",L.reflink).replace("nolink",L.nolink).getRegex(),L.normal=k({},L),L.pedantic=k({},L.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:E(/^!?\[(label)\]\((.*?)\)/).replace("label",L._label).getRegex(),reflink:E(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",L._label).getRegex()}),L.gfm=k({},L.normal,{escape:E(L.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),L.gfm.url=E(L.gfm.url,"i").replace("email",L.gfm._extended_email).getRegex(),L.breaks=k({},L.gfm,{br:E(L.br).replace("{2,}","*").getRegex(),text:E(L.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});x={block:x,inline:L};var j=O,B=n.exports.defaults,W=x.block,V=x.inline,z=I;function H(e){return e.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…")}function U(e){for(var t,i="",n=e.length,o=0;o<n;o++)t=e.charCodeAt(o),i+="&#"+(t=.5<Math.random()?"x"+t.toString(16):t)+";";return i}L=function(){function t(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||B,this.options.tokenizer=this.options.tokenizer||new j,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,(this.tokenizer.lexer=this).inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0},e={block:W.normal,inline:V.normal},this.options.pedantic?(e.block=W.pedantic,e.inline=V.pedantic):this.options.gfm&&(e.block=W.gfm,this.options.breaks?e.inline=V.breaks:e.inline=V.gfm),this.tokenizer.rules=e}t.lex=function(e,i){return new t(i).lex(e)},t.lexInline=function(e,i){return new t(i).inlineTokens(e)};var i,n,o=t.prototype;return o.lex=function(e){var t;for(e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    "),this.blockTokens(e,this.tokens);t=this.inlineQueue.shift();)this.inlineTokens(t.src,t.tokens);return this.tokens},o.blockTokens=function(e,t){var i,n,o,r,s=this;for(void 0===t&&(t=[]),this.options.pedantic&&(e=e.replace(/^ +$/gm,""));e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some((function(n){return!!(i=n.call({lexer:s},e,t))&&(e=e.substring(i.raw.length),t.push(i),!0)}))))if(i=this.tokenizer.space(e))e=e.substring(i.raw.length),i.type&&t.push(i);else if(i=this.tokenizer.code(e))e=e.substring(i.raw.length),!(n=t[t.length-1])||"paragraph"!==n.type&&"text"!==n.type?t.push(i):(n.raw+="\n"+i.raw,n.text+="\n"+i.text,this.inlineQueue[this.inlineQueue.length-1].src=n.text);else if(i=this.tokenizer.fences(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.heading(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.hr(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.blockquote(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.list(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.html(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.def(e))e=e.substring(i.raw.length),!(n=t[t.length-1])||"paragraph"!==n.type&&"text"!==n.type?this.tokens.links[i.tag]||(this.tokens.links[i.tag]={href:i.href,title:i.title}):(n.raw+="\n"+i.raw,n.text+="\n"+i.raw,this.inlineQueue[this.inlineQueue.length-1].src=n.text);else if(i=this.tokenizer.table(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.lheading(e))e=e.substring(i.raw.length),t.push(i);else if(o=e,this.options.extensions&&this.options.extensions.startBlock&&function(){var t,i=1/0,n=e.slice(1);s.options.extensions.startBlock.forEach((function(e){"number"==typeof(t=e.call({lexer:this},n))&&0<=t&&(i=Math.min(i,t))})),i<1/0&&0<=i&&(o=e.substring(0,i+1))}(),this.state.top&&(i=this.tokenizer.paragraph(o)))n=t[t.length-1],r&&"paragraph"===n.type?(n.raw+="\n"+i.raw,n.text+="\n"+i.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=n.text):t.push(i),r=o.length!==e.length,e=e.substring(i.raw.length);else if(i=this.tokenizer.text(e))e=e.substring(i.raw.length),(n=t[t.length-1])&&"text"===n.type?(n.raw+="\n"+i.raw,n.text+="\n"+i.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=n.text):t.push(i);else if(e){var a="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(a);break}throw new Error(a)}return this.state.top=!0,t},o.inline=function(e,t){this.inlineQueue.push({src:e,tokens:t})},o.inlineTokens=function(e,t){var i,n,o,r=this;void 0===t&&(t=[]);var s,a,l,c=e;if(this.tokens.links){var d=Object.keys(this.tokens.links);if(0<d.length)for(;null!=(s=this.tokenizer.rules.inline.reflinkSearch.exec(c));)d.includes(s[0].slice(s[0].lastIndexOf("[")+1,-1))&&(c=c.slice(0,s.index)+"["+z("a",s[0].length-2)+"]"+c.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(s=this.tokenizer.rules.inline.blockSkip.exec(c));)c=c.slice(0,s.index)+"["+z("a",s[0].length-2)+"]"+c.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(s=this.tokenizer.rules.inline.escapedEmSt.exec(c));)c=c.slice(0,s.index)+"++"+c.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;e;)if(a||(l=""),a=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some((function(n){return!!(i=n.call({lexer:r},e,t))&&(e=e.substring(i.raw.length),t.push(i),!0)}))))if(i=this.tokenizer.escape(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.tag(e))e=e.substring(i.raw.length),(n=t[t.length-1])&&"text"===i.type&&"text"===n.type?(n.raw+=i.raw,n.text+=i.text):t.push(i);else if(i=this.tokenizer.link(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.reflink(e,this.tokens.links))e=e.substring(i.raw.length),(n=t[t.length-1])&&"text"===i.type&&"text"===n.type?(n.raw+=i.raw,n.text+=i.text):t.push(i);else if(i=this.tokenizer.emStrong(e,c,l))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.codespan(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.br(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.del(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.autolink(e,U))e=e.substring(i.raw.length),t.push(i);else if(this.state.inLink||!(i=this.tokenizer.url(e,U))){if(o=e,this.options.extensions&&this.options.extensions.startInline&&function(){var t,i=1/0,n=e.slice(1);r.options.extensions.startInline.forEach((function(e){"number"==typeof(t=e.call({lexer:this},n))&&0<=t&&(i=Math.min(i,t))})),i<1/0&&0<=i&&(o=e.substring(0,i+1))}(),i=this.tokenizer.inlineText(o,H))e=e.substring(i.raw.length),"_"!==i.raw.slice(-1)&&(l=i.raw.slice(-1)),a=!0,(n=t[t.length-1])&&"text"===n.type?(n.raw+=i.raw,n.text+=i.text):t.push(i);else if(e){var h="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(h);break}throw new Error(h)}}else e=e.substring(i.raw.length),t.push(i);return t},i=t,n=[{key:"rules",get:function(){return{block:W,inline:V}}}],(o=null)&&e(i.prototype,o),n&&e(i,n),t}();var $=n.exports.defaults,K=S,q=C,G=(x=function(){function e(e){this.options=e||$}var t=e.prototype;return t.code=function(e,t,i){var n=(t||"").match(/\S*/)[0];return!this.options.highlight||null!=(t=this.options.highlight(e,n))&&t!==e&&(i=!0,e=t),e=e.replace(/\n$/,"")+"\n",n?'<pre><code class="'+this.options.langPrefix+q(n,!0)+'">'+(i?e:q(e,!0))+"</code></pre>\n":"<pre><code>"+(i?e:q(e,!0))+"</code></pre>\n"},t.blockquote=function(e){return"<blockquote>\n"+e+"</blockquote>\n"},t.html=function(e){return e},t.heading=function(e,t,i,n){return this.options.headerIds?"<h"+t+' id="'+this.options.headerPrefix+n.slug(i)+'">'+e+"</h"+t+">\n":"<h"+t+">"+e+"</h"+t+">\n"},t.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},t.list=function(e,t,i){var n=t?"ol":"ul";return"<"+n+(t&&1!==i?' start="'+i+'"':"")+">\n"+e+"</"+n+">\n"},t.listitem=function(e){return"<li>"+e+"</li>\n"},t.checkbox=function(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},t.paragraph=function(e){return"<p>"+e+"</p>\n"},t.table=function(e,t){return"<table>\n<thead>\n"+e+"</thead>\n"+(t=t&&"<tbody>"+t+"</tbody>")+"</table>\n"},t.tablerow=function(e){return"<tr>\n"+e+"</tr>\n"},t.tablecell=function(e,t){var i=t.header?"th":"td";return(t.align?"<"+i+' align="'+t.align+'">':"<"+i+">")+e+"</"+i+">\n"},t.strong=function(e){return"<strong>"+e+"</strong>"},t.em=function(e){return"<em>"+e+"</em>"},t.codespan=function(e){return"<code>"+e+"</code>"},t.br=function(){return this.options.xhtml?"<br/>":"<br>"},t.del=function(e){return"<del>"+e+"</del>"},t.link=function(e,t,i){return null===(e=K(this.options.sanitize,this.options.baseUrl,e))?i:(e='<a href="'+q(e)+'"',t&&(e+=' title="'+t+'"'),e+">"+i+"</a>")},t.image=function(e,t,i){return null===(e=K(this.options.sanitize,this.options.baseUrl,e))?i:(i='<img src="'+e+'" alt="'+i+'"',t&&(i+=' title="'+t+'"'),i+(this.options.xhtml?"/>":">"))},t.text=function(e){return e},e}(),I=function(){function e(){}var t=e.prototype;return t.strong=function(e){return e},t.em=function(e){return e},t.codespan=function(e){return e},t.del=function(e){return e},t.html=function(e){return e},t.text=function(e){return e},t.link=function(e,t,i){return""+i},t.image=function(e,t,i){return""+i},t.br=function(){return""},e}(),S=function(){function e(){this.seen={}}var t=e.prototype;return t.serialize=function(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},t.getNextSafeSlug=function(e,t){var i=e,n=0;if(this.seen.hasOwnProperty(i))for(n=this.seen[e];i=e+"-"+ ++n,this.seen.hasOwnProperty(i););return t||(this.seen[e]=n,this.seen[i]=0),i},t.slug=function(e,t){void 0===t&&(t={});var i=this.serialize(e);return this.getNextSafeSlug(i,t.dryrun)},e}(),x),Y=I,Z=S,X=n.exports.defaults,Q=y,J=L,ee=function(){function e(e){this.options=e||X,this.options.renderer=this.options.renderer||new G,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new Y,this.slugger=new Z}e.parse=function(t,i){return new e(i).parse(t)},e.parseInline=function(t,i){return new e(i).parseInline(t)};var t=e.prototype;return t.parse=function(e,t){void 0===t&&(t=!0);for(var i,n,o,r,s,a,l,c,d,h,u,g,p,f,m,v,b="",_=e.length,w=0;w<_;w++)if(c=e[w],!(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[c.type])||!1===(v=this.options.extensions.renderers[c.type].call({parser:this},c))&&["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(c.type))switch(c.type){case"space":continue;case"hr":b+=this.renderer.hr();continue;case"heading":b+=this.renderer.heading(this.parseInline(c.tokens),c.depth,Q(this.parseInline(c.tokens,this.textRenderer)),this.slugger);continue;case"code":b+=this.renderer.code(c.text,c.lang,c.escaped);continue;case"table":for(a=d="",o=c.header.length,i=0;i<o;i++)a+=this.renderer.tablecell(this.parseInline(c.header[i].tokens),{header:!0,align:c.align[i]});for(d+=this.renderer.tablerow(a),l="",o=c.rows.length,i=0;i<o;i++){for(a="",r=(s=c.rows[i]).length,n=0;n<r;n++)a+=this.renderer.tablecell(this.parseInline(s[n].tokens),{header:!1,align:c.align[n]});l+=this.renderer.tablerow(a)}b+=this.renderer.table(d,l);continue;case"blockquote":l=this.parse(c.tokens),b+=this.renderer.blockquote(l);continue;case"list":for(d=c.ordered,C=c.start,h=c.loose,o=c.items.length,l="",i=0;i<o;i++)p=(g=c.items[i]).checked,f=g.task,u="",g.task&&(m=this.renderer.checkbox(p),h?0<g.tokens.length&&"paragraph"===g.tokens[0].type?(g.tokens[0].text=m+" "+g.tokens[0].text,g.tokens[0].tokens&&0<g.tokens[0].tokens.length&&"text"===g.tokens[0].tokens[0].type&&(g.tokens[0].tokens[0].text=m+" "+g.tokens[0].tokens[0].text)):g.tokens.unshift({type:"text",text:m}):u+=m),u+=this.parse(g.tokens,h),l+=this.renderer.listitem(u,f,p);b+=this.renderer.list(l,d,C);continue;case"html":b+=this.renderer.html(c.text);continue;case"paragraph":b+=this.renderer.paragraph(this.parseInline(c.tokens));continue;case"text":for(l=c.tokens?this.parseInline(c.tokens):c.text;w+1<_&&"text"===e[w+1].type;)l+="\n"+((c=e[++w]).tokens?this.parseInline(c.tokens):c.text);b+=t?this.renderer.paragraph(l):l;continue;default:var C='Token with "'+c.type+'" type was not found.';if(this.options.silent)return void console.error(C);throw new Error(C)}else b+=v||"";return b},t.parseInline=function(e,t){t=t||this.renderer;for(var i,n,o="",r=e.length,s=0;s<r;s++)if(i=e[s],!(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[i.type])||!1===(n=this.options.extensions.renderers[i.type].call({parser:this},i))&&["escape","html","link","image","strong","em","codespan","br","del","text"].includes(i.type))switch(i.type){case"escape":o+=t.text(i.text);break;case"html":o+=t.html(i.text);break;case"link":o+=t.link(i.href,i.title,this.parseInline(i.tokens,t));break;case"image":o+=t.image(i.href,i.title,i.text);break;case"strong":o+=t.strong(this.parseInline(i.tokens,t));break;case"em":o+=t.em(this.parseInline(i.tokens,t));break;case"codespan":o+=t.codespan(i.text);break;case"br":o+=t.br();break;case"del":o+=t.del(this.parseInline(i.tokens,t));break;case"text":o+=t.text(i.text);break;default:var a='Token with "'+i.type+'" type was not found.';if(this.options.silent)return void console.error(a);throw new Error(a)}else o+=n||"";return o},e}(),te=O,ie=x,ne=(I=I,S=S,D),oe=N,re=C,se=(N=n.exports.getDefaults,n.exports.changeDefaults);C=n.exports.defaults;function ae(e,t,i){if(null==e)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof e)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");if("function"==typeof t&&(i=t,t=null),t=ne({},ae.defaults,t||{}),oe(t),i){var n,o=t.highlight;try{n=J.lex(e,t)}catch(e){return i(e)}var r=function(e){var r;if(!e)try{t.walkTokens&&ae.walkTokens(n,t.walkTokens),r=ee.parse(n,t)}catch(r){e=r}return t.highlight=o,e?i(e):i(null,r)};if(!o||o.length<3)return r();if(delete t.highlight,!n.length)return r();var s=0;return ae.walkTokens(n,(function(e){"code"===e.type&&(s++,setTimeout((function(){o(e.text,e.lang,(function(t,i){return t?r(t):(null!=i&&i!==e.text&&(e.text=i,e.escaped=!0),void(0==--s&&r()))}))}),0))})),void(0===s&&r())}try{var a=J.lex(e,t);return t.walkTokens&&ae.walkTokens(a,t.walkTokens),ee.parse(a,t)}catch(e){if(e.message+="\nPlease report this to https://github.com/markedjs/marked.",t.silent)return"<p>An error occurred:</p><pre>"+re(e.message+"",!0)+"</pre>";throw e}}return ae.options=ae.setOptions=function(e){return ne(ae.defaults,e),se(ae.defaults),ae},ae.getDefaults=N,ae.defaults=C,ae.use=function(){for(var e=this,t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];var o,r=ne.apply(void 0,[{}].concat(i)),s=ae.defaults.extensions||{renderers:{},childTokens:{}};i.forEach((function(t){var i;t.extensions&&(o=!0,t.extensions.forEach((function(e){if(!e.name)throw new Error("extension name required");var t;if(e.renderer&&(t=s.renderers?s.renderers[e.name]:null,s.renderers[e.name]=t?function(){for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];var r=e.renderer.apply(this,n);return!1===r?t.apply(this,n):r}:e.renderer),e.tokenizer){if(!e.level||"block"!==e.level&&"inline"!==e.level)throw new Error("extension level must be 'block' or 'inline'");s[e.level]?s[e.level].unshift(e.tokenizer):s[e.level]=[e.tokenizer],e.start&&("block"===e.level?s.startBlock?s.startBlock.push(e.start):s.startBlock=[e.start]:"inline"===e.level&&(s.startInline?s.startInline.push(e.start):s.startInline=[e.start]))}e.childTokens&&(s.childTokens[e.name]=e.childTokens)}))),t.renderer&&function(){var e,i=ae.defaults.renderer||new ie;for(e in t.renderer)!function(e){var n=i[e];i[e]=function(){for(var o=arguments.length,r=new Array(o),s=0;s<o;s++)r[s]=arguments[s];var a=t.renderer[e].apply(i,r);return!1===a?n.apply(i,r):a}}(e);r.renderer=i}(),t.tokenizer&&function(){var e,i=ae.defaults.tokenizer||new te;for(e in t.tokenizer)!function(e){var n=i[e];i[e]=function(){for(var o=arguments.length,r=new Array(o),s=0;s<o;s++)r[s]=arguments[s];var a=t.tokenizer[e].apply(i,r);return!1===a?n.apply(i,r):a}}(e);r.tokenizer=i}(),t.walkTokens&&(i=ae.defaults.walkTokens,r.walkTokens=function(n){t.walkTokens.call(e,n),i&&i(n)}),o&&(r.extensions=s),ae.setOptions(r)}))},ae.walkTokens=function(e,t){for(var n,o=i(e);!(n=o()).done;)!function(){var e=n.value;switch(t(e),e.type){case"table":for(var o=i(e.header);!(r=o()).done;){var r=r.value;ae.walkTokens(r.tokens,t)}for(var s,a=i(e.rows);!(s=a()).done;)for(var l=i(s.value);!(c=l()).done;){var c=c.value;ae.walkTokens(c.tokens,t)}break;case"list":ae.walkTokens(e.items,t);break;default:ae.defaults.extensions&&ae.defaults.extensions.childTokens&&ae.defaults.extensions.childTokens[e.type]?ae.defaults.extensions.childTokens[e.type].forEach((function(i){ae.walkTokens(e[i],t)})):e.tokens&&ae.walkTokens(e.tokens,t)}}()},ae.parseInline=function(e,t){if(null==e)throw new Error("marked.parseInline(): input parameter is undefined or null");if("string"!=typeof e)throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");t=ne({},ae.defaults,t||{}),oe(t);try{var i=J.lexInline(e,t);return t.walkTokens&&ae.walkTokens(i,t.walkTokens),ee.parseInline(i,t)}catch(e){if(e.message+="\nPlease report this to https://github.com/markedjs/marked.",t.silent)return"<p>An error occurred:</p><pre>"+re(e.message+"",!0)+"</pre>";throw e}},ae.Parser=ee,ae.parser=ee.parse,ae.Renderer=ie,ae.TextRenderer=I,ae.Lexer=J,ae.lexer=J.lex,ae.Tokenizer=te,ae.Slugger=S,ae.parse=ae},"object"==typeof exports&&void 0!==e?e.exports=o():t.amd?t(o):(i="undefined"!=typeof globalThis?globalThis:i||self).marked=o()}(),n.Parser,n.parser;var o=n.Renderer,r=(n.TextRenderer,n.Lexer,n.lexer,n.Tokenizer,n.Slugger,n.parse)}).call(this,i(480)(e))},function(e,t){e.exports=require("original-fs")},function(e,t){e.exports=require("velocity-animate")},function(e,t,i){var n=i(372);(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n).locals&&(e.exports=n.locals),(0,i(28).default)("3c58ddc3",n,!0,{})},function(e,t,i){var n=i(281);e.exports=function(e,t){if(e){if("string"==typeof e)return n(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(i="Object"===i&&e.constructor?e.constructor.name:i)||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?n(e,t):void 0}},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,i){var n=i(381);(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n).locals&&(e.exports=n.locals),(0,i(28).default)("3a266b24",n,!0,{})},function(e,t,i){var n=i(383);(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n).locals&&(e.exports=n.locals),(0,i(28).default)("7b6c9f31",n,!0,{})},function(e,t,i){var n=i(386);(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n).locals&&(e.exports=n.locals),(0,i(28).default)("8a6846d4",n,!0,{})},function(e,t,i){var n=i(388);(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n).locals&&(e.exports=n.locals),(0,i(28).default)("26640bc5",n,!0,{})},function(e,t,i){var n=i(390);(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n).locals&&(e.exports=n.locals),(0,i(28).default)("a3e78990",n,!0,{})},function(e,t){e.exports=require("get-port")},function(e,t,i){var n=i(417);(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n).locals&&(e.exports=n.locals),(0,i(28).default)("75c8ba3f",n,!0,{})},function(e,t,i){var n=i(460);(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n).locals&&(e.exports=n.locals),(0,i(28).default)("8882efda",n,!0,{})},function(e,t,i){var n=i(463);(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n).locals&&(e.exports=n.locals),(0,i(28).default)("f3ae3100",n,!0,{})},function(e,t,i){"use strict";var n=i(23),o=i(0),r=i(4);i=i(16);const s=Object(r.Cc)("symbolIcon.arrayForeground",{dark:r.ib,light:r.ib,hc:r.ib},Object(o.a)("symbolIcon.arrayForeground","The foreground color for array symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),a=Object(r.Cc)("symbolIcon.booleanForeground",{dark:r.ib,light:r.ib,hc:r.ib},Object(o.a)("symbolIcon.booleanForeground","The foreground color for boolean symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),l=Object(r.Cc)("symbolIcon.classForeground",{dark:"#EE9D28",light:"#D67E00",hc:"#EE9D28"},Object(o.a)("symbolIcon.classForeground","The foreground color for class symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),c=Object(r.Cc)("symbolIcon.colorForeground",{dark:r.ib,light:r.ib,hc:r.ib},Object(o.a)("symbolIcon.colorForeground","The foreground color for color symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),d=Object(r.Cc)("symbolIcon.constantForeground",{dark:r.ib,light:r.ib,hc:r.ib},Object(o.a)("symbolIcon.constantForeground","The foreground color for constant symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),h=Object(r.Cc)("symbolIcon.constructorForeground",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},Object(o.a)("symbolIcon.constructorForeground","The foreground color for constructor symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),u=Object(r.Cc)("symbolIcon.enumeratorForeground",{dark:"#EE9D28",light:"#D67E00",hc:"#EE9D28"},Object(o.a)("symbolIcon.enumeratorForeground","The foreground color for enumerator symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),g=Object(r.Cc)("symbolIcon.enumeratorMemberForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},Object(o.a)("symbolIcon.enumeratorMemberForeground","The foreground color for enumerator member symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),p=Object(r.Cc)("symbolIcon.eventForeground",{dark:"#EE9D28",light:"#D67E00",hc:"#EE9D28"},Object(o.a)("symbolIcon.eventForeground","The foreground color for event symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),f=Object(r.Cc)("symbolIcon.fieldForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},Object(o.a)("symbolIcon.fieldForeground","The foreground color for field symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),m=Object(r.Cc)("symbolIcon.fileForeground",{dark:r.ib,light:r.ib,hc:r.ib},Object(o.a)("symbolIcon.fileForeground","The foreground color for file symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),v=Object(r.Cc)("symbolIcon.folderForeground",{dark:r.ib,light:r.ib,hc:r.ib},Object(o.a)("symbolIcon.folderForeground","The foreground color for folder symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),b=Object(r.Cc)("symbolIcon.functionForeground",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},Object(o.a)("symbolIcon.functionForeground","The foreground color for function symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),_=Object(r.Cc)("symbolIcon.interfaceForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},Object(o.a)("symbolIcon.interfaceForeground","The foreground color for interface symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),w=Object(r.Cc)("symbolIcon.keyForeground",{dark:r.ib,light:r.ib,hc:r.ib},Object(o.a)("symbolIcon.keyForeground","The foreground color for key symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),C=Object(r.Cc)("symbolIcon.keywordForeground",{dark:r.ib,light:r.ib,hc:r.ib},Object(o.a)("symbolIcon.keywordForeground","The foreground color for keyword symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),y=Object(r.Cc)("symbolIcon.methodForeground",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},Object(o.a)("symbolIcon.methodForeground","The foreground color for method symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),x=Object(r.Cc)("symbolIcon.moduleForeground",{dark:r.ib,light:r.ib,hc:r.ib},Object(o.a)("symbolIcon.moduleForeground","The foreground color for module symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),S=Object(r.Cc)("symbolIcon.namespaceForeground",{dark:r.ib,light:r.ib,hc:r.ib},Object(o.a)("symbolIcon.namespaceForeground","The foreground color for namespace symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),k=Object(r.Cc)("symbolIcon.nullForeground",{dark:r.ib,light:r.ib,hc:r.ib},Object(o.a)("symbolIcon.nullForeground","The foreground color for null symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),D=Object(r.Cc)("symbolIcon.numberForeground",{dark:r.ib,light:r.ib,hc:r.ib},Object(o.a)("symbolIcon.numberForeground","The foreground color for number symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),L=Object(r.Cc)("symbolIcon.objectForeground",{dark:r.ib,light:r.ib,hc:r.ib},Object(o.a)("symbolIcon.objectForeground","The foreground color for object symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),O=Object(r.Cc)("symbolIcon.operatorForeground",{dark:r.ib,light:r.ib,hc:r.ib},Object(o.a)("symbolIcon.operatorForeground","The foreground color for operator symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),E=Object(r.Cc)("symbolIcon.packageForeground",{dark:r.ib,light:r.ib,hc:r.ib},Object(o.a)("symbolIcon.packageForeground","The foreground color for package symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),N=Object(r.Cc)("symbolIcon.propertyForeground",{dark:r.ib,light:r.ib,hc:r.ib},Object(o.a)("symbolIcon.propertyForeground","The foreground color for property symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),I=Object(r.Cc)("symbolIcon.referenceForeground",{dark:r.ib,light:r.ib,hc:r.ib},Object(o.a)("symbolIcon.referenceForeground","The foreground color for reference symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),T=Object(r.Cc)("symbolIcon.snippetForeground",{dark:r.ib,light:r.ib,hc:r.ib},Object(o.a)("symbolIcon.snippetForeground","The foreground color for snippet symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),M=Object(r.Cc)("symbolIcon.stringForeground",{dark:r.ib,light:r.ib,hc:r.ib},Object(o.a)("symbolIcon.stringForeground","The foreground color for string symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),A=Object(r.Cc)("symbolIcon.structForeground",{dark:r.ib,light:r.ib,hc:r.ib},Object(o.a)("symbolIcon.structForeground","The foreground color for struct symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),P=Object(r.Cc)("symbolIcon.textForeground",{dark:r.ib,light:r.ib,hc:r.ib},Object(o.a)("symbolIcon.textForeground","The foreground color for text symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),R=Object(r.Cc)("symbolIcon.typeParameterForeground",{dark:r.ib,light:r.ib,hc:r.ib},Object(o.a)("symbolIcon.typeParameterForeground","The foreground color for type parameter symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),F=Object(r.Cc)("symbolIcon.unitForeground",{dark:r.ib,light:r.ib,hc:r.ib},Object(o.a)("symbolIcon.unitForeground","The foreground color for unit symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),j=Object(r.Cc)("symbolIcon.variableForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},Object(o.a)("symbolIcon.variableForeground","The foreground color for variable symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));Object(i.f)((e,t)=>{var i=e.getColor(s);i&&t.addRule(`${n.b.symbolArray.cssSelector} { color: ${i}; }`),(i=e.getColor(a))&&t.addRule(`${n.b.symbolBoolean.cssSelector} { color: ${i}; }`),(i=e.getColor(l))&&t.addRule(`${n.b.symbolClass.cssSelector} { color: ${i}; }`),(i=e.getColor(y))&&t.addRule(`${n.b.symbolMethod.cssSelector} { color: ${i}; }`),(i=e.getColor(c))&&t.addRule(`${n.b.symbolColor.cssSelector} { color: ${i}; }`),(i=e.getColor(d))&&t.addRule(`${n.b.symbolConstant.cssSelector} { color: ${i}; }`),(i=e.getColor(h))&&t.addRule(`${n.b.symbolConstructor.cssSelector} { color: ${i}; }`),(i=e.getColor(u))&&t.addRule(`\n\t\t\t${n.b.symbolValue.cssSelector},${n.b.symbolEnum.cssSelector} { color: ${i}; }`),(i=e.getColor(g))&&t.addRule(`${n.b.symbolEnumMember.cssSelector} { color: ${i}; }`),(i=e.getColor(p))&&t.addRule(`${n.b.symbolEvent.cssSelector} { color: ${i}; }`),(i=e.getColor(f))&&t.addRule(`${n.b.symbolField.cssSelector} { color: ${i}; }`),(i=e.getColor(m))&&t.addRule(`${n.b.symbolFile.cssSelector} { color: ${i}; }`),(i=e.getColor(v))&&t.addRule(`${n.b.symbolFolder.cssSelector} { color: ${i}; }`),(i=e.getColor(b))&&t.addRule(`${n.b.symbolFunction.cssSelector} { color: ${i}; }`),(i=e.getColor(_))&&t.addRule(`${n.b.symbolInterface.cssSelector} { color: ${i}; }`),(i=e.getColor(w))&&t.addRule(`${n.b.symbolKey.cssSelector} { color: ${i}; }`),(i=e.getColor(C))&&t.addRule(`${n.b.symbolKeyword.cssSelector} { color: ${i}; }`),(i=e.getColor(x))&&t.addRule(`${n.b.symbolModule.cssSelector} { color: ${i}; }`),(i=e.getColor(S))&&t.addRule(`${n.b.symbolNamespace.cssSelector} { color: ${i}; }`),(i=e.getColor(k))&&t.addRule(`${n.b.symbolNull.cssSelector} { color: ${i}; }`),(i=e.getColor(D))&&t.addRule(`${n.b.symbolNumber.cssSelector} { color: ${i}; }`),(i=e.getColor(L))&&t.addRule(`${n.b.symbolObject.cssSelector} { color: ${i}; }`),(i=e.getColor(O))&&t.addRule(`${n.b.symbolOperator.cssSelector} { color: ${i}; }`),(i=e.getColor(E))&&t.addRule(`${n.b.symbolPackage.cssSelector} { color: ${i}; }`),(i=e.getColor(N))&&t.addRule(`${n.b.symbolProperty.cssSelector} { color: ${i}; }`),(i=e.getColor(I))&&t.addRule(`${n.b.symbolReference.cssSelector} { color: ${i}; }`),(i=e.getColor(T))&&t.addRule(`${n.b.symbolSnippet.cssSelector} { color: ${i}; }`),(i=e.getColor(M))&&t.addRule(`${n.b.symbolString.cssSelector} { color: ${i}; }`),(i=e.getColor(A))&&t.addRule(`${n.b.symbolStruct.cssSelector} { color: ${i}; }`),(i=e.getColor(P))&&t.addRule(`${n.b.symbolText.cssSelector} { color: ${i}; }`),(i=e.getColor(R))&&t.addRule(`${n.b.symbolTypeParameter.cssSelector} { color: ${i}; }`),(i=e.getColor(F))&&t.addRule(`${n.b.symbolUnit.cssSelector} { color: ${i}; }`),(e=e.getColor(j))&&t.addRule(`${n.b.symbolVariable.cssSelector} { color: ${e}; }`)})},function(e,t,i){var n=i(505);(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n).locals&&(e.exports=n.locals),(0,i(28).default)("678d048a",n,!0,{})},function(e,t,i){var n={"./service_darwin":294,"./service_darwin.js":294,"./service_linux":295,"./service_linux.js":295,"./service_win32":296,"./service_win32.js":296};function o(e){return e=r(e),i(e)}function r(e){if(i.o(n,e))return n[e];throw(e=new Error("Cannot find module '"+e+"'")).code="MODULE_NOT_FOUND",e}o.keys=function(){return Object.keys(n)},o.resolve=r,(e.exports=o).id=293},function(e,t,i){"use strict";function n(e){return new Promise((function(t,i){Object(p.exec)(e,{name:"Clash for Windows"},(function(e,n,o){e&&i(e),o&&i(o),n&&t(n.toString()),t("")}))}))}function o(){var e=g.a.getters.filesPath,t=(t={},d()(t,u.d,"darwin/x64/service"),d()(t,u.c,"darwin/arm64/service"),t[Object(u.h)()]);return Object(f.join)(e,t)}i.r(t),i.d(t,"status",(function(){return w})),i.d(t,"statusService",(function(){return C})),i.d(t,"installService",(function(){return y})),i.d(t,"uninstallService",(function(){return x})),i.d(t,"needUpdate",(function(){return S})),i.d(t,"updateService",(function(){return k}));var r,s,a,l,c=i(13),d=(t=i.n(c),c=i(31),i.n(c)),h=(c=i(7),i.n(c)),u=i(25),g=i(51),p=i(168),f=i(20),m=i(30),v=i(39),b=(i(53),i(87)),_='<?xml version="1.0" encoding="UTF-8"?>\n<!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">\n<plist version="1.0">\n    <dict>\n        <key>Label</key>\n        <string>com.lbyczf.cfw.helper</string>\n        <key>Program</key>\n        <string>helperPath</string>\n        <key>RunAtLoad</key>\n        <true/>\n        <key>KeepAlive</key>\n        <true/>\n        <key>HardResourceLimits</key>\n        <dict>\n            <key>NumberOfFiles</key>\n            <integer>10240</integer>\n        </dict>\n        <key>SoftResourceLimits</key>\n        <dict>\n            <key>NumberOfFiles</key>\n            <integer>10240</integer>\n        </dict>\n    </dict>\n</plist>',w={Active:Symbol(),Inactive:Symbol(),NonExistent:Symbol(),Unknown:Symbol()},C=(r=t()(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,""===(t=void 0===(t=g.a.state.app.clashPath)?"":t)||Object(m.existsSync)(Object(f.join)(t,"service"))){e.next=4;break}return e.abrupt("return",w.Inactive);case 4:return e.next=6,b.get("http://127.0.0.1:53000/ping",{timeout:5e3});case 6:return t=(t=e.sent).status,e.abrupt("return",200===t?w.Active:w.Inactive);case 11:e.prev=11,e.t0=e.catch(0);case 13:return e.abrupt("return",w.Unknown);case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),function(){return r.apply(this,arguments)}),y=(s=t()(h.a.mark((function e(){var t,i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=g.a.state.app.clashPath,t=Object(f.join)(i,"service"),Object(m.existsSync)(t)||Object(m.mkdirSync)(t),t=Object(f.join)(i,"service","clash-core-service"),i="/Library/LaunchDaemons/com.lbyczf.cfw.helper.plist",e.next=7,n('cp "'.concat(Object(f.join)(o(),"clash-core-service"),'" "').concat(Object(f.join)(t),'" ; chmod 655 "').concat(t,'" ; chown root:wheel "').concat(t,'" ;  echo "').concat(_.replace("helperPath",t),'" > ').concat(i," ; launchctl load -w ").concat(i));case 7:case"end":return e.stop()}}),e)}))),function(){return s.apply(this,arguments)}),x=(a=t()(h.a.mark((function e(){var t,i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="/Library/LaunchDaemons/com.lbyczf.cfw.helper.plist",i=Object(f.join)(g.a.state.app.clashPath,"service"),e.next=4,n("launchctl unload ".concat(t," ; rm ").concat(t)+(Object(m.existsSync)(i)?" ; rm -rf ".concat(i):""));case 4:case"end":return e.stop()}}),e)}))),function(){return a.apply(this,arguments)}),S=function(){var e=g.a.state.app.clashPath,t=Object(f.join)(e,"service");if(!Object(m.existsSync)(t))return!1;var i=Object(f.join)(e,"service","clash-core-service");return!!Object(m.existsSync)(i)&&(t=Object(f.join)(o(),"clash-core-service"),(e=function(e){return Object(v.d)(Object(m.readFileSync)(e))})(i)!==e(t))},k=(l=t()(h.a.mark((function e(){var t,i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=g.a.state.app.clashPath,t=Object(f.join)(i,"service"),Object(m.existsSync)(t)||Object(m.mkdirSync)(t),t=Object(f.join)(i,"service","clash-core-service"),i="/Library/LaunchDaemons/com.lbyczf.cfw.helper.plist",e.next=7,n('cp "'.concat(Object(f.join)(o(),"clash-core-service"),'" "').concat(Object(f.join)(t),'" ; chmod 611 "').concat(t,'" ; chown root:wheel "').concat(t,'" ; launchctl unload ').concat(i,' ; echo "').concat(_.replace("helperPath",t),'" > ').concat(i," ; launchctl load -w ").concat(i));case 7:case"end":return e.stop()}}),e)}))),function(){return l.apply(this,arguments)})},function(e,t,i){"use strict";function n(e){return new Promise((function(t,i){Object(f.exec)(e,{name:"Clash for Windows"},(function(e,n,o){e&&i(e),o&&i(o),n&&t(n.toString()),t("")}))}))}function o(){var e=p.a.getters.filesPath,t=(t={},h()(t,g.b,"linux/x64/service"),h()(t,g.a,"linux/arm64/service"),t[Object(g.h)()]);return Object(m.join)(e,t)}i.r(t),i.d(t,"status",(function(){return C})),i.d(t,"statusService",(function(){return x})),i.d(t,"installService",(function(){return S})),i.d(t,"uninstallService",(function(){return k})),i.d(t,"needUpdate",(function(){return D})),i.d(t,"updateService",(function(){return L}));var r,s,a,l,c,d=i(13),h=(t=i.n(d),d=i(31),i.n(d)),u=(d=i(7),i.n(d)),g=i(25),p=i(51),f=i(168),m=i(20),v=i(30),b=i(39),_=(i(53),i(87)),w=i(24),C=(i(556),{Active:Symbol(),Inactive:Symbol(),NonExistent:Symbol(),Unknown:Symbol()}),y=(r=t()(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.ipcRenderer.invoke("app","getPath","temp");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(){return r.apply(this,arguments)}),x=(s=t()(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,""===(t=void 0===(t=p.a.state.app.clashPath)?"":t)||Object(v.existsSync)(Object(m.join)(t,"service"))){e.next=4;break}return e.abrupt("return",C.Inactive);case 4:return e.next=6,_.get("http://127.0.0.1:53000/ping",{timeout:5e3});case 6:return t=(t=e.sent).status,e.abrupt("return",200===t?C.Active:C.Inactive);case 11:e.prev=11,e.t0=e.catch(0);case 13:return e.abrupt("return",C.Unknown);case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),function(){return s.apply(this,arguments)}),S=(a=t()(u.a.mark((function e(){var t,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=p.a.state.app.clashPath,t=Object(m.join)(i,"service"),Object(v.existsSync)(t)||Object(v.mkdirSync)(t),t=Object(m.join)(i,"service","clash-core-service"),i=Object(m.join)("/usr/lib/systemd/system","clash-core-service.service"),e.next=7,n('cp "'.concat(Object(m.join)(o(),"clash-core-service"),'" "').concat(Object(m.join)(t),'" ; chmod 655 "').concat(Object(m.join)(t),'" ; chown root "').concat(Object(m.join)(t),'" ; echo "').concat("[Unit]\nDescription=Clash core service created by Clash for Windows\nAfter=network-online.target nftables.service iptables.service\n\n[Service]\nType=simple\nExecStart=helperPath\nRestart=always\nRestartSec=5\n\n[Install]\nWantedBy=multi-user.target".replace("helperPath",t),'" > ').concat(i," ; systemctl enable clash-core-service; systemctl start clash-core-service"));case 7:case"end":return e.stop()}}),e)}))),function(){return a.apply(this,arguments)}),k=(l=t()(u.a.mark((function e(){var t,i,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.t0=m.join,e.next=4,y();case 4:if(e.t1=e.sent,t=(0,e.t0)(e.t1,"cfw-clash-service-installer"),Object(v.existsSync)(t))return e.next=9,n("".concat(t,"/installer.sh uninstall"));e.next=10;break;case 9:Object(v.existsSync)(t)&&Object(b.a)(t);case 10:e.next=14;break;case 12:e.prev=12,e.t2=e.catch(0);case 14:return i=Object(m.join)("/usr/lib/systemd/system","clash-core-service.service"),o=p.a.state.app.clashPath,o=Object(m.join)(o,"service"),e.next=19,n("systemctl stop clash-core-service; systemctl disable clash-core-service; rm -rf ".concat(i)+(Object(v.existsSync)(o)?" ; rm -rf ".concat(o):""));case 19:case"end":return e.stop()}}),e,null,[[0,12]])}))),function(){return l.apply(this,arguments)}),D=function(){var e=p.a.state.app.clashPath,t=Object(m.join)(e,"service");if(!Object(v.existsSync)(t))return!1;var i=Object(m.join)(e,"service","clash-core-service");return!!Object(v.existsSync)(i)&&(t=Object(m.join)(o(),"clash-core-service"),(e=function(e){return Object(b.d)(Object(v.readFileSync)(e))})(i)!==e(t))},L=(c=t()(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k();case 2:return e.next=4,S();case 4:case"end":return e.stop()}}),e)}))),function(){return c.apply(this,arguments)})},function(e,t,i){"use strict";function n(e){return new Promise((function(t,i){Object(b.exec)(e,{name:"ClashforWindows"},(function(e,n,o){e&&i(e),o&&i(o),n&&t(n.toString()),t("")}))}))}function o(){var e=m.a.getters.filesPath,t=(t={},g()(t,f.f,"win/ia32/service"),g()(t,f.g,"win/x64/service"),g()(t,f.e,"win/arm64/service"),t[Object(f.h)()]);return Object(_.join)(e,t)}i.r(t),i.d(t,"status",(function(){return y})),i.d(t,"statusService",(function(){return L})),i.d(t,"installService",(function(){return O})),i.d(t,"uninstallService",(function(){return E})),i.d(t,"needUpdate",(function(){return I})),i.d(t,"updateService",(function(){return T}));var r,s,a,l,c,d,h,u=i(13),g=(t=i.n(u),u=i(31),i.n(u)),p=(u=i(7),i.n(u)),f=i(25),m=i(51),v=(u=i(87),i.n(u)),b=i(168),_=i(20),w=i(30),C=i(39),y=(i(53),{Active:Symbol(),Inactive:Symbol(),NonExistent:Symbol(),Unknown:Symbol()}),x=(u=process.env.ProgramW6432||process.env.ProgramFiles||"C:\\Program Files",Object(_.join)(u,"Clash for Windows Service")),S=(r=t()(p.a.mark((function e(){var t,i,o,r,s=arguments;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=0<s.length&&void 0!==s[0]?s[0]:[],r=void 0===(r=(t=1<s.length&&void 0!==s[1]?s[1]:{}).runAfter)?"":r,t=void 0===(t=t.runBefore)?"":t,Object(f.l)())return i=Object(_.join)(m.a.state.app.clashPath,"service"),o=o.map((function(e){var t=e.cmd;e=void 0===(e=e.options)?[]:e;return'"'.concat(Object(_.join)(i,"service.exe"),'" ').concat(t," ").concat(e.join(" "))})).join(" & "),e.next=7,n([t,o,r].filter((function(e){return e})).join(" & "));e.next=9;break;case 7:return r=e.sent,e.abrupt("return",r);case 9:return e.abrupt("return","");case 10:case"end":return e.stop()}}),e)}))),function(){return r.apply(this,arguments)}),k=(s=t()(p.a.mark((function e(){var t,i,o,r,s=arguments;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=0<s.length&&void 0!==s[0]?s[0]:[],r=void 0===(r=(t=1<s.length&&void 0!==s[1]?s[1]:{}).runAfter)?"":r,t=void 0===(t=t.runBefore)?"":t,Object(f.l)())return i=x,o=o.map((function(e){var t=e.cmd;e=void 0===(e=e.options)?[]:e;return'"'.concat(Object(_.join)(i,"service.exe"),'" ').concat(t," ").concat(e.join(" "))})).join(" & "),e.next=7,n([t,o].filter((function(e){return e})).join(" & ")+(r?" && ".concat(r):""));e.next=9;break;case 7:return r=e.sent,e.abrupt("return",r);case 9:return e.abrupt("return","");case 10:case"end":return e.stop()}}),e)}))),function(){return s.apply(this,arguments)}),D=(a=t()(p.a.mark((function e(){var t,i,o,r=arguments;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=0<r.length&&void 0!==r[0]?r[0]:[],o=void 0===(o=(t=1<r.length&&void 0!==r[1]?r[1]:{}).runAfter)?"":o,t=void 0===(t=t.runBefore)?"":t,Object(f.l)())return i=i.map((function(e){var t=e.cmd;e=void 0===(e=e.options)?[]:e;return"schtasks /".concat(t,' /tn "Clash Core Service" ').concat(e.join(" "))})).join(" & "),e.next=6,n([t,i].filter((function(e){return e})).join(" & ")+(o?" && ".concat(o):""));e.next=8;break;case 6:return o=e.sent,e.abrupt("return",o);case 8:return e.abrupt("return","");case 9:case"end":return e.stop()}}),e)}))),function(){return a.apply(this,arguments)}),L=(l=t()(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.get("http://127.0.0.1:53000/ping",{timeout:5e3});case 3:return t=(t=e.sent).status,e.abrupt("return",200===t?y.Active:y.Inactive);case 8:e.prev=8,e.t0=e.catch(0);case 10:return e.abrupt("return",y.Unknown);case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),function(){return l.apply(this,arguments)}),O=(c=t()(p.a.mark((function e(){var t,i,n=arguments;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=0<n.length&&void 0!==n[0]?n[0]:0,i={serviceExePath:Object(_.join)(o(),"clash-core-service.exe"),winswExePath:Object(_.join)(o(),"service.exe"),configPath:Object(_.join)(o(),"../../common/service.yml"),schtaskConfigPath:Object(_.join)(o(),"../../common/schtasks.xml")},0===t)return e.next=5,D([{cmd:"create",options:['/ru "SYSTEM"','/xml "'.concat(Object(_.join)(x,"schtasks.xml"),'"')]},{cmd:"change",options:['/tr "\\"'.concat(Object(_.join)(x,"clash-core-service.exe"),'\\""')]},{cmd:"run"}],{runBefore:'mkdir "'.concat(x,'" & copy "').concat(i.serviceExePath,'" "').concat(x,'" /Y & copy "').concat(i.schtaskConfigPath,'" "').concat(x,'" /Y ')});e.next=5;break;case 5:if(1===t)return e.next=8,k([{cmd:"install"},{cmd:"start"}],{runBefore:'mkdir "'.concat(x,'" & copy "').concat(i.serviceExePath,'" "').concat(x,'" /Y & copy "').concat(i.winswExePath,'" "').concat(x,'" /Y & copy "').concat(i.configPath,'" "').concat(x,'" /Y ')});e.next=8;break;case 8:case"end":return e.stop()}}),e)}))),function(){return c.apply(this,arguments)}),E=(d=t()(p.a.mark((function e(){var t,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t={serviceExePath:Object(_.join)(o(),"clash-core-service.exe"),winswExePath:Object(_.join)(o(),"service.exe"),configPath:Object(_.join)(o(),"../../common/service.yml")},i=Object(_.join)(m.a.state.app.clashPath,"service"),N())return e.next=5,S([{cmd:"stop"},{cmd:"uninstall"}],{runAfter:'icacls.exe "'.concat(i,'" /remove:d Everyone & rmdir /s /q "').concat(i,'"')});e.next=7;break;case 5:e.next=14;break;case 7:if(Object(w.existsSync)(Object(_.join)(x,"schtasks.xml")))return e.next=10,D([{cmd:"end"},{cmd:"delete",options:["/F"]}],{runAfter:'timeout /t 2 & rmdir "'.concat(x,'" /s /q')});e.next=12;break;case 10:e.next=14;break;case 12:return e.next=14,k([{cmd:"stop"},{cmd:"uninstall"}],{runBefore:'copy "'.concat(t.configPath,'" "').concat(x,'" /Y '),runAfter:'timeout /t 2 & rmdir "'.concat(x,'" /s /q')});case 14:case"end":return e.stop()}}),e)}))),function(){return d.apply(this,arguments)}),N=function(){var e=Object(_.join)(m.a.state.app.clashPath,"service"),t=Object(_.join)(e,"service.yml"),i=Object(_.join)(e,"service.exe");return Object(w.existsSync)(e)&&Object(w.existsSync)(t)&&Object(w.existsSync)(i)},I=function(){if(N())return!0;if(!Object(w.existsSync)(x))return!1;var e=Object(_.join)(x,"clash-core-service.exe");if(!Object(w.existsSync)(e))return!1;function t(e){return Object(C.d)(Object(w.readFileSync)(e))}var i=Object(_.join)(o(),"clash-core-service.exe");return t(e)!==t(i)},T=(h=t()(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(w.existsSync)(Object(_.join)(x,"schtasks.xml"))?0:1,e.next=3,E();case 3:return e.next=5,O(t);case 5:case"end":return e.stop()}}),e)}))),function(){return h.apply(this,arguments)})},function(e,t,i){var n=i(558);(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n).locals&&(e.exports=n.locals),(0,i(28).default)("4f11bbab",n,!0,{})},function(e,t,i){var n=i(560);(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n).locals&&(e.exports=n.locals),(0,i(28).default)("89e0a3a2",n,!0,{})},function(e,t,i){var n=i(562);(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n).locals&&(e.exports=n.locals),(0,i(28).default)("15477dc2",n,!0,{})},function(e,t,i){var n=i(564);(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n).locals&&(e.exports=n.locals),(0,i(28).default)("36b2f5c9",n,!0,{})},function(e,t,i){var n=i(566);(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n).locals&&(e.exports=n.locals),(0,i(28).default)("68017f90",n,!0,{})},function(e,t,i){var n=i(568);(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n).locals&&(e.exports=n.locals),(0,i(28).default)("2d1e5bf6",n,!0,{})},function(e,t,i){var n=i(570);(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n).locals&&(e.exports=n.locals),(0,i(28).default)("4d071101",n,!0,{})},function(e,t,i){var n=i(572);(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n).locals&&(e.exports=n.locals),(0,i(28).default)("76667f89",n,!0,{})},function(e,t,i){var n=i(574);(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n).locals&&(e.exports=n.locals),(0,i(28).default)("e1a29c18",n,!0,{})},function(e,t,i){var n=i(576);(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n).locals&&(e.exports=n.locals),(0,i(28).default)("051574e0",n,!0,{})},function(e,t,i){var n=i(578);(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n).locals&&(e.exports=n.locals),(0,i(28).default)("1dc384ad",n,!0,{})},function(e,t,i){var n=i(580);(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n).locals&&(e.exports=n.locals),(0,i(28).default)("a4c843e4",n,!0,{})},function(e,t,i){var n=i(582);(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n).locals&&(e.exports=n.locals),(0,i(28).default)("afa1d354",n,!0,{})},function(e,t,i){var n=i(584);(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n).locals&&(e.exports=n.locals),(0,i(28).default)("4f1ecc22",n,!0,{})},function(e,t,i){var n=i(586);(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n).locals&&(e.exports=n.locals),(0,i(28).default)("79153293",n,!0,{})},function(e,t,i){var n=i(588);(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n).locals&&(e.exports=n.locals),(0,i(28).default)("4bfad644",n,!0,{})},function(e,t,i){var n=i(590);(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n).locals&&(e.exports=n.locals),(0,i(28).default)("e565ff3e",n,!0,{})},function(e,t,i){var n=i(592);(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n).locals&&(e.exports=n.locals),(0,i(28).default)("1856b6ec",n,!0,{})},function(e,t,i){var n=i(594);(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n).locals&&(e.exports=n.locals),(0,i(28).default)("4099bc4d",n,!0,{})},function(e,t,i){var n=i(596);(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n).locals&&(e.exports=n.locals),(0,i(28).default)("3fc04bac",n,!0,{})},function(e,t,i){var n=i(598);(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n).locals&&(e.exports=n.locals),(0,i(28).default)("b48457be",n,!0,{})},function(e,t,i){var n=i(600);(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n).locals&&(e.exports=n.locals),(0,i(28).default)("1be4f6d8",n,!0,{})},function(e,t,i){var n=i(602);(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n).locals&&(e.exports=n.locals),(0,i(28).default)("25a139d0",n,!0,{})},function(e,t,i){var n=i(604);(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n).locals&&(e.exports=n.locals),(0,i(28).default)("78bb6c57",n,!0,{})},function(e,t,i){var n=i(606);(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n).locals&&(e.exports=n.locals),(0,i(28).default)("94c1fc02",n,!0,{})},function(e,t,i){var n=i(608);(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n).locals&&(e.exports=n.locals),(0,i(28).default)("6c99e10e",n,!0,{})},function(e,t,i){var n=i(610);(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n).locals&&(e.exports=n.locals),(0,i(28).default)("3c9ee5c2",n,!0,{})},function(e,t,i){var n=i(612);(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n).locals&&(e.exports=n.locals),(0,i(28).default)("3cd8611a",n,!0,{})},function(e,t,i){var n=i(614);(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n).locals&&(e.exports=n.locals),(0,i(28).default)("2b179e28",n,!0,{})},function(e,t,i){var n=i(616);(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n).locals&&(e.exports=n.locals),(0,i(28).default)("9db1927e",n,!0,{})},function(e,t,i){var n=i(618);(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n).locals&&(e.exports=n.locals),(0,i(28).default)("0722b824",n,!0,{})},function(e,t,i){var n=i(620);(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n).locals&&(e.exports=n.locals),(0,i(28).default)("4c18f7c2",n,!0,{})},function(e,t,i){var n=i(622);(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n).locals&&(e.exports=n.locals),(0,i(28).default)("518083e1",n,!0,{})},function(e,t,i){var n=i(624);(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n).locals&&(e.exports=n.locals),(0,i(28).default)("cc92c00a",n,!0,{})},function(e,t,i){var n=i(626);(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n).locals&&(e.exports=n.locals),(0,i(28).default)("208ce4ec",n,!0,{})},function(e,t,i){var n=i(628);(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n).locals&&(e.exports=n.locals),(0,i(28).default)("38dbb0d6",n,!0,{})},function(e,t,i){var n=i(630);(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n).locals&&(e.exports=n.locals),(0,i(28).default)("d61c762a",n,!0,{})},function(e,t,i){var n=i(632);(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n).locals&&(e.exports=n.locals),(0,i(28).default)("6ec30c75",n,!0,{})},function(e,t,i){var n=i(634);(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n).locals&&(e.exports=n.locals),(0,i(28).default)("50976d9a",n,!0,{})},function(e,t,i){var n=i(636);(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n).locals&&(e.exports=n.locals),(0,i(28).default)("31e64488",n,!0,{})},function(e,t,i){var n=i(638);(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n).locals&&(e.exports=n.locals),(0,i(28).default)("ec4fa4e6",n,!0,{})},function(e,t,i){var n=i(640);(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n).locals&&(e.exports=n.locals),(0,i(28).default)("6f06a778",n,!0,{})},function(e,t,i){var n=i(642);(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n).locals&&(e.exports=n.locals),(0,i(28).default)("917892f8",n,!0,{})},function(e,t,i){var n=i(644);(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n).locals&&(e.exports=n.locals),(0,i(28).default)("51288c8a",n,!0,{})},function(e,t,i){var n=i(646);(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n).locals&&(e.exports=n.locals),(0,i(28).default)("a7b1d9ac",n,!0,{})},function(e,t,i){var n=i(648);(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n).locals&&(e.exports=n.locals),(0,i(28).default)("b1cee2c6",n,!0,{})},function(e,t,i){var n=i(650);(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n).locals&&(e.exports=n.locals),(0,i(28).default)("219c8c30",n,!0,{})},function(e,t,i){var n=i(652);(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n).locals&&(e.exports=n.locals),(0,i(28).default)("6f13262c",n,!0,{})},function(e,t,i){var n=i(654);(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n).locals&&(e.exports=n.locals),(0,i(28).default)("370f6277",n,!0,{})},function(e,t,i){var n=i(656);(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n).locals&&(e.exports=n.locals),(0,i(28).default)("7278e8b0",n,!0,{})},function(e,t,i){var n=i(659);(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n).locals&&(e.exports=n.locals),(0,i(28).default)("0d40ebd4",n,!0,{})},function(e,t,i){var n=i(661);(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n).locals&&(e.exports=n.locals),(0,i(28).default)("235c92d8",n,!0,{})},function(e,t,i){var n=i(663);(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n).locals&&(e.exports=n.locals),(0,i(28).default)("c12bbf72",n,!0,{})},function(e,t,i){var n=i(665);(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n).locals&&(e.exports=n.locals),(0,i(28).default)("eb5869bc",n,!0,{})},function(e,t,i){var n=i(667);(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n).locals&&(e.exports=n.locals),(0,i(28).default)("12dfde39",n,!0,{})},function(e,t,i){var n=i(669);(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n).locals&&(e.exports=n.locals),(0,i(28).default)("cf9dce74",n,!0,{})},function(e,t,i){var n=i(671);(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n).locals&&(e.exports=n.locals),(0,i(28).default)("eb19b7d6",n,!0,{})},function(e,t,i){var n=i(673);(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n).locals&&(e.exports=n.locals),(0,i(28).default)("fe313786",n,!0,{})},function(e,t,i){var n=i(675);(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n).locals&&(e.exports=n.locals),(0,i(28).default)("47d55b0c",n,!0,{})},function(e,t,i){var n=i(677);(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n).locals&&(e.exports=n.locals),(0,i(28).default)("7f8429d0",n,!0,{})},function(e,t,i){var n=i(679);(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n).locals&&(e.exports=n.locals),(0,i(28).default)("f7eebb90",n,!0,{})},function(e,t){e.exports=require("crypto")},function(e,t){e.exports=require("http")},function(e,t){e.exports=require("node-diff3")},function(e,t){e.exports=require("content-disposition")},function(e,t){e.exports=require("zlib")},function(e,t){e.exports=require("tar-stream")},function(e,t){e.exports=require("read-last-lines")},function(e,t){e.exports=require("qrcode")},function(e,t){e.exports=require("dhcp")},function(e,t,i){e=function(e){"use strict";var t,i=Object.prototype,n=i.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},r=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",a=o.toStringTag||"@@toStringTag";function l(e,t,i){return Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(i){l=function(e,t,i){return e[t]=i}}function c(e,i,n,o){var r,s,a,l;i=i&&i.prototype instanceof m?i:m,i=Object.create(i.prototype),o=new k(o||[]);return i._invoke=(r=e,s=n,a=o,l=h,function(e,i){if(l===g)throw new Error("Generator is already running");if(l===p){if("throw"===e)throw i;return L()}for(a.method=e,a.arg=i;;){var n=a.delegate;if(n){var o=function e(i,n){var o;if((o=i.iterator[n.method])===t){if(n.delegate=null,"throw"===n.method){if(i.iterator.return&&(n.method="return",n.arg=t,e(i,n),"throw"===n.method))return f;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}return"throw"===(o=d(o,i.iterator,n.arg)).type?(n.method="throw",n.arg=o.arg,n.delegate=null,f):(o=o.arg)?o.done?(n[i.resultName]=o.value,n.next=i.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,f):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,f)}(n,a);if(o){if(o===f)continue;return o}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(l===h)throw l=p,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);if(l=g,"normal"===(o=d(r,s,a)).type){if(l=a.done?p:u,o.arg!==f)return{value:o.arg,done:a.done}}else"throw"===o.type&&(l=p,a.method="throw",a.arg=o.arg)}}),i}function d(e,t,i){try{return{type:"normal",arg:e.call(t,i)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var h="suspendedStart",u="suspendedYield",g="executing",p="completed",f={};function m(){}function v(){}function b(){}var _={};_[r]=function(){return this},(o=(o=Object.getPrototypeOf)&&o(o(D([]))))&&o!==i&&n.call(o,r)&&(_=o);var w=b.prototype=m.prototype=Object.create(_);function C(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function y(e,t){var i;this._invoke=function(o,r){function s(){return new t((function(i,s){!function i(o,r,s,a){if("throw"!==(o=d(e[o],e,r)).type){var l=o.arg;return(r=l.value)&&"object"==typeof r&&n.call(r,"__await")?t.resolve(r.__await).then((function(e){i("next",e,s,a)}),(function(e){i("throw",e,s,a)})):t.resolve(r).then((function(e){l.value=e,s(l)}),(function(e){return i("throw",e,s,a)}))}a(o.arg)}(o,r,i,s)}))}return i=i?i.then(s,s):s()}}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function D(e){if(e){if(i=e[r])return i.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i,o=-1;return(i=function i(){for(;++o<e.length;)if(n.call(e,o))return i.value=e[o],i.done=!1,i;return i.value=t,i.done=!0,i}).next=i}}return{next:L}}function L(){return{value:t,done:!0}}return((v.prototype=w.constructor=b).constructor=v).displayName=l(b,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){return!!(e="function"==typeof e&&e.constructor)&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,l(e,a,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},C(y.prototype),y.prototype[s]=function(){return this},e.AsyncIterator=y,e.async=function(t,i,n,o,r){void 0===r&&(r=Promise);var s=new y(c(t,i,n,o),r);return e.isGeneratorFunction(i)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},C(w),l(w,a,"Generator"),w[r]=function(){return this},w.toString=function(){return"[object Generator]"},e.keys=function(e){var t,i=[];for(t in e)i.push(t);return i.reverse(),function t(){for(;i.length;){var n=i.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=D,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(S),!e)for(var i in this)"t"===i.charAt(0)&&n.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var i=this;function o(n,o){return a.type="throw",a.arg=e,i.next=n,o&&(i.method="next",i.arg=t),!!o}for(var r=this.tryEntries.length-1;0<=r;--r){var s=this.tryEntries[r],a=s.completion;if("root"===s.tryLoc)return o("end");if(s.tryLoc<=this.prev){var l=n.call(s,"catchLoc"),c=n.call(s,"finallyLoc");if(l&&c){if(this.prev<s.catchLoc)return o(s.catchLoc,!0);if(this.prev<s.finallyLoc)return o(s.finallyLoc)}else if(l){if(this.prev<s.catchLoc)return o(s.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return o(s.finallyLoc)}}}},abrupt:function(e,t){for(var i=this.tryEntries.length-1;0<=i;--i){var o=this.tryEntries[i];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var r=o;break}}var s=(r=r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc?null:r)?r.completion:{};return s.type=e,s.arg=t,r?(this.method="next",this.next=r.finallyLoc,f):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var i=this.tryEntries[t];if(i.finallyLoc===e)return this.complete(i.completion,i.afterLoc),S(i),f}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var i=this.tryEntries[t];if(i.tryLoc===e){var n,o=i.completion;return"throw"===o.type&&(n=o.arg,S(i)),n}}throw new Error("illegal catch attempt")},delegateYield:function(e,i,n){return this.delegate={iterator:D(e),resultName:i,nextLoc:n},"next"===this.method&&(this.arg=t),f}},e}(e.exports);try{regeneratorRuntime=e}catch(t){Function("r","regeneratorRuntime = r")(e)}},function(e,t,i){var n=i(369);(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n).locals&&(e.exports=n.locals),(0,i(28).default)("d07167ce",n,!0,{})},function(e,t,i){var n=i(266);(e.exports=i(27)(!1)).push([e.i,'/*\n! tailwindcss v3.0.23 | MIT License | https://tailwindcss.com\n*/*,:after,:before{box-sizing:border-box;border:0 solid #e5e7eb}:after,:before{--tw-content:""}html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,pre,samp{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dd,dl,figure,h1,h2,h3,h4,h5,h6,hr,p,pre{margin:0}fieldset{margin:0}fieldset,legend{padding:0}menu,ol,ul{list-style:none;margin:0;padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input:-ms-input-placeholder,textarea:-ms-input-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}[role=button],button{cursor:pointer}:disabled{cursor:default}audio,canvas,embed,iframe,img,object,svg,video{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]{display:none}@font-face{font-family:Material Icons;src:url('+n(i(370))+') format("truetype")}*,:after,:before{--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-scroll-snap-strictness:proximity;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgb(59 130 246/0.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000}.icon{font-family:Material Icons;font-weight:400;font-style:normal;font-size:18px;display:inline-block;line-height:1;text-transform:none;letter-spacing:normal;word-wrap:normal;white-space:nowrap;direction:ltr;text-rendering:optimizeLegibility}.visible{visibility:visible}.static{position:static}.fixed{position:fixed}.absolute{position:absolute}.relative{position:relative}.top-0{top:0}.left-0{left:0}.left-1\\/2{left:50%}.top-1\\/2{top:50%}.right-2{right:.5rem}.bottom-3{bottom:.75rem}.left-\\[calc\\(50\\%\\+85px\\)\\]{left:calc(50% + 85px)}.top-8{top:2rem}.top-\\[25px\\]{top:25px}.left-\\[170px\\]{left:170px}.z-10{z-index:10}.z-\\[120\\]{z-index:120}.mx-4{margin-left:1rem;margin-right:1rem}.mt-\\[1000px\\]{margin-top:1000px}.mr-\\[20px\\]{margin-right:20px}.mr-2{margin-right:.5rem}.mt-\\[2px\\]{margin-top:2px}.ml-\\[5px\\]{margin-left:5px}.mr-4{margin-right:1rem}.ml-1{margin-left:.25rem}.mr-\\[15px\\]{margin-right:15px}.mb-\\[10px\\]{margin-bottom:10px}.mb-1{margin-bottom:.25rem}.block{display:block}.inline-block{display:inline-block}.flex{display:flex}.grid{display:grid}.list-item{display:list-item}.hidden{display:none}.h-full{height:100%}.h-4\\/5{height:80%}.h-\\[400px\\]{height:400px}.h-\\[40px\\]{height:40px}.h-fit{height:-webkit-fit-content;height:-moz-fit-content;height:fit-content}.h-\\[90px\\]{height:90px}.h-\\[35px\\]{height:35px}.h-3\\/5{height:60%}.h-2{height:.5rem}.h-\\[1px\\]{height:1px}.h-\\[calc\\(100\\%_-_25px\\)\\]{height:calc(100% - 25px)}.h-\\[18px\\]{height:18px}.max-h-\\[500px\\]{max-height:500px}.w-full{width:100%}.w-3\\/5{width:60%}.w-\\[500px\\]{width:500px}.w-\\[120px\\]{width:120px}.w-\\[90px\\]{width:90px}.w-fit{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}.w-2{width:.5rem}.w-\\[80px\\]{width:80px}.w-\\[calc\\(100\\%_-_170px\\)\\]{width:calc(100% - 170px)}.w-\\[18px\\]{width:18px}.w-\\[200px\\]{width:200px}.max-w-full{max-width:100%}.flex-1{flex:1 1 0%}.flex-shrink-0{flex-shrink:0}.flex-shrink{flex-shrink:1}.flex-grow{flex-grow:1}.flex-grow-0{flex-grow:0}.-translate-x-1\\/2{--tw-translate-x:-50%}.-translate-x-1\\/2,.-translate-y-1\\/2{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.-translate-y-1\\/2{--tw-translate-y:-50%}.translate-y-\\[2px\\]{--tw-translate-y:2px}.-translate-y-1,.translate-y-\\[2px\\]{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.-translate-y-1{--tw-translate-y:-0.25rem}.rotate-90{--tw-rotate:90deg}.rotate-90,.transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}@-webkit-keyframes bounce{0%,to{transform:translateY(-25%);-webkit-animation-timing-function:cubic-bezier(.8,0,1,1);animation-timing-function:cubic-bezier(.8,0,1,1)}50%{transform:none;-webkit-animation-timing-function:cubic-bezier(0,0,.2,1);animation-timing-function:cubic-bezier(0,0,.2,1)}}@keyframes bounce{0%,to{transform:translateY(-25%);-webkit-animation-timing-function:cubic-bezier(.8,0,1,1);animation-timing-function:cubic-bezier(.8,0,1,1)}50%{transform:none;-webkit-animation-timing-function:cubic-bezier(0,0,.2,1);animation-timing-function:cubic-bezier(0,0,.2,1)}}.animate-bounce{-webkit-animation:bounce 1s infinite;animation:bounce 1s infinite}.cursor-pointer{cursor:pointer}.cursor-move{cursor:move}.select-text{-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text}.resize{resize:both}.grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}.grid-cols-4{grid-template-columns:repeat(4,minmax(0,1fr))}.flex-col{flex-direction:column}.flex-wrap{flex-wrap:wrap}.items-center{align-items:center}.items-baseline{align-items:baseline}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.gap-\\[20px\\]{gap:20px}.gap-1{gap:.25rem}.gap-2{gap:.5rem}.gap-3{gap:.75rem}.gap-x-\\[20px\\]{-moz-column-gap:20px;column-gap:20px}.gap-x-1{-moz-column-gap:.25rem;column-gap:.25rem}.gap-y-1{row-gap:.25rem}.gap-x-3{-moz-column-gap:.75rem;column-gap:.75rem}.gap-x-\\[2px\\]{-moz-column-gap:2px;column-gap:2px}.gap-x-4{-moz-column-gap:1rem;column-gap:1rem}.gap-x-5{-moz-column-gap:1.25rem;column-gap:1.25rem}.overflow-auto{overflow:auto}.overflow-hidden{overflow:hidden}.overflow-clip{overflow:clip}.overflow-y-auto{overflow-y:auto}.text-ellipsis{text-overflow:ellipsis}.whitespace-pre-wrap{white-space:pre-wrap}.break-words{overflow-wrap:break-word}.break-all{word-break:break-all}.rounded-md{border-radius:.375rem}.rounded{border-radius:.25rem}.rounded-\\[10px\\]{border-radius:10px}.rounded-full{border-radius:9999px}.rounded-lg{border-radius:.5rem}.rounded-br-none{border-bottom-right-radius:0}.rounded-tr-none{border-top-right-radius:0}.border,.border-\\[1px\\]{border-width:1px}.border-b{border-bottom-width:1px}.\\!border-b-0{border-bottom-width:0!important}.border-solid{border-style:solid}.border-\\[color\\:var\\(--mbgc\\)\\]{border-color:var(--mbgc)}.border-\\[color\\:var\\(--bc\\)\\]{border-color:var(--bc)}.border-\\[color\\:rgb\\(852c 79\\2c 79\\)\\]{--tw-border-opacity:1;border-color:rgb(85 79 79/var(--tw-border-opacity))}.border-b-\\[color\\:var\\(--bc\\)\\]{border-bottom-color:var(--bc)}.border-opacity-50{--tw-border-opacity:0.5}.bg-\\[color\\:var\\(--bgc\\)\\]{background-color:var(--bgc)}.bg-\\[color\\:var\\(--mask-c\\)\\]{background-color:var(--mask-c)}.bg-\\[color\\:var\\(--mbgc\\)\\]{background-color:var(--mbgc)}.bg-\\[color\\:var\\(--proxy-item-bgc\\)\\]{background-color:var(--proxy-item-bgc)}.bg-black{--tw-bg-opacity:1;background-color:rgb(0 0 0/var(--tw-bg-opacity))}.bg-\\[color\\:var\\(--proxy-item-selected-border-c\\)\\]{background-color:var(--proxy-item-selected-border-c)}.bg-green-400{--tw-bg-opacity:1;background-color:rgb(74 222 128/var(--tw-bg-opacity))}.bg-red-400{--tw-bg-opacity:1;background-color:rgb(248 113 113/var(--tw-bg-opacity))}.bg-gray-400{--tw-bg-opacity:1;background-color:rgb(156 163 175/var(--tw-bg-opacity))}.bg-\\[\\#1E1E1E\\]{--tw-bg-opacity:1;background-color:rgb(30 30 30/var(--tw-bg-opacity))}.bg-\\[color\\:\\#14A53A\\]{--tw-bg-opacity:1;background-color:rgb(20 165 58/var(--tw-bg-opacity))}.bg-\\[\\#6f6f6f\\]{--tw-bg-opacity:1;background-color:rgb(111 111 111/var(--tw-bg-opacity))}.bg-\\[color\\:\\#1C1C1C\\]{--tw-bg-opacity:1;background-color:rgb(28 28 28/var(--tw-bg-opacity))}.bg-cyan-500{--tw-bg-opacity:1;background-color:rgb(6 182 212/var(--tw-bg-opacity))}.bg-gray-500{--tw-bg-opacity:1;background-color:rgb(107 114 128/var(--tw-bg-opacity))}.bg-\\[color\\:\\#2c2a38\\]{--tw-bg-opacity:1;background-color:rgb(44 42 56/var(--tw-bg-opacity))}.bg-gray-300{--tw-bg-opacity:1;background-color:rgb(209 213 219/var(--tw-bg-opacity))}.bg-\\[color\\:\\#64646480\\]{background-color:#64646480}.bg-opacity-80{--tw-bg-opacity:0.8}.p-4{padding:1rem}.p-2{padding:.5rem}.px-4{padding-left:1rem;padding-right:1rem}.py-3{padding-top:.75rem;padding-bottom:.75rem}.py-1{padding-top:.25rem;padding-bottom:.25rem}.px-2{padding-left:.5rem;padding-right:.5rem}.px-3{padding-left:.75rem;padding-right:.75rem}.py-2{padding-top:.5rem;padding-bottom:.5rem}.px-6{padding-left:1.5rem;padding-right:1.5rem}.py-\\[2px\\]{padding-top:2px;padding-bottom:2px}.px-5{padding-left:1.25rem;padding-right:1.25rem}.py-4{padding-top:1rem;padding-bottom:1rem}.pl-3{padding-left:.75rem}.pr-6{padding-right:1.5rem}.pt-3{padding-top:.75rem}.pb-3{padding-bottom:.75rem}.pt-2{padding-top:.5rem}.pl-4{padding-left:1rem}.pr-4{padding-right:1rem}.pb-2{padding-bottom:.5rem}.pr-1{padding-right:.25rem}.text-center{text-align:center}.font-sans{font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif}.text-sm{font-size:.875rem;line-height:1.25rem}.text-xs{font-size:.75rem;line-height:1rem}.text-base{font-size:1rem;line-height:1.5rem}.text-\\[14px\\]{font-size:14px}.text-\\[10px\\]{font-size:10px}.text-\\[20px\\]{font-size:20px}.text-lg{font-size:1.125rem;line-height:1.75rem}.font-normal{font-weight:400}.text-\\[color\\:var\\(--fgc\\)\\]{color:var(--fgc)}.text-\\[color\\:var\\(--feedback-link-c\\)\\]{color:var(--feedback-link-c)}.text-\\[color\\:var\\(--general-settings-icon-c\\)\\]{color:var(--general-settings-icon-c)}.text-\\[color\\:var\\(--log-item-payload-c\\)\\]{color:var(--log-item-payload-c)}.text-white{--tw-text-opacity:1;color:rgb(255 255 255/var(--tw-text-opacity))}.text-red-500{--tw-text-opacity:1;color:rgb(239 68 68/var(--tw-text-opacity))}.text-\\[\\#FFAD00\\]{--tw-text-opacity:1;color:rgb(255 173 0/var(--tw-text-opacity))}.text-\\[\\#D44545\\]{--tw-text-opacity:1;color:rgb(212 69 69/var(--tw-text-opacity))}.text-\\[\\#13AF42\\]{--tw-text-opacity:1;color:rgb(19 175 66/var(--tw-text-opacity))}.text-\\[\\#41b883\\]{--tw-text-opacity:1;color:rgb(65 184 131/var(--tw-text-opacity))}.opacity-60{opacity:.6}.opacity-40{opacity:.4}.opacity-80{opacity:.8}.opacity-50{opacity:.5}.opacity-70{opacity:.7}.shadow-2xl{--tw-shadow:0 25px 50px -12px rgb(0 0 0/0.25);--tw-shadow-colored:0 25px 50px -12px var(--tw-shadow-color)}.shadow-2xl,.shadow-md{box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.shadow-md{--tw-shadow:0 4px 6px -1px rgb(0 0 0/0.1),0 2px 4px -2px rgb(0 0 0/0.1);--tw-shadow-colored:0 4px 6px -1px var(--tw-shadow-color),0 2px 4px -2px var(--tw-shadow-color)}.outline-none{outline:2px solid transparent;outline-offset:2px}.outline{outline-style:solid}.blur{--tw-blur:blur(8px)}.blur,.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.transition{transition-property:color,background-color,border-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-text-decoration-color,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-text-decoration-color,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-all{transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.duration-200{transition-duration:.2s}.ease-in-out{transition-timing-function:cubic-bezier(.4,0,.2,1)}.ease-in{transition-timing-function:cubic-bezier(.4,0,1,1)}.ease-out{transition-timing-function:cubic-bezier(0,0,.2,1)}input{border-radius:.25rem;border:1px solid var(--bc);background-color:var(--bgc)}input::-moz-placeholder{color:var(--input-phc)}input:-ms-input-placeholder{color:var(--input-phc)}input::placeholder{color:var(--input-phc)}textarea{border-radius:.25rem;border:1px solid var(--bc);background-color:var(--bgc)}textarea::-moz-placeholder{color:var(--input-phc)}textarea:-ms-input-placeholder{color:var(--input-phc)}textarea::placeholder{color:var(--input-phc)}.theme-light{-webkit-animation:fade .2s ease-in-out;animation:fade .2s ease-in-out}:root{--bgc:#fff;--fgc:#000;--bc:#dcdcdc;--mbgc:#f5f5f5;--shadow:rgba(50,50,50,.1);--general-item-bgc:#f1f1f1;--general-title-c:#2c3e50;--general-clickable-border-c:rgba(50,50,50,.2);--general-interface-card-bgc:#fff;--general-interface-card-fgc:#17224f;--general-interface-card-quote-bgc:#d5d5d5;--general-settings-icon-c:#2c3e50;--proxy-fake-item-bgc:#e3e3e3;--proxy-item-now-fgc:#fff;--proxy-item-now-bgc:#929292;--proxy-item-type-bgc:#929292;--proxy-item-type-fgc:#fff;--proxy-item-border-c:rgba(75,75,75,.185);--proxy-item-selected-border-c:#41b883;--proxy-item-bgc:rgba(41,41,41,.05);--proxy-item-hint-c:gray;--proxy-item-subs-fgc:#fff;--proxy-item-subs-bgc:#e2e2e2;--proxy-item-subs-used-bgc:#f57983;--proxy-item-latency-online-c:#41b883;--proxy-item-latency-offline-c:#ec0505;--mode-switcher-selected-bgc:#4c4b4b;--mode-switcher-selected-fgc:#fff;--mode-switcher-normal-bgc:#fff;--mode-switcher-normal-fgc:#000;--log-item-border-c:rgba(50,50,50,.1);--log-item-rule-c:rgba(50,50,50,.7);--log-item-payload-c:#045c85;--log-list-border-c:hsla(0,0%,79%,.342);--profile-card-bgc:#f5f5f5;--profile-card-hint-c:#1d2b63;--profile-list-item-bgc:#7e7b7b;--profile-list-item-cur-bgc:#464646;--feedback-link-c:#019ff5;--status-bgc:#ebebeb;--status-close-hover:rgba(50,50,50,.2);--switch-bgc:#c7bfbf;--switch-bgc-second:#bdb3b3;--menu-fgc:#747d88;--scroll-bar-bgc:#cac8c6;--input-bgc:#f1f1f1;--input-phc:#a3a3a3;--error-text:#fa1313;--mask-c:rgba(50,50,50,.6);--setting-input-bgc:#fff;--setting-item-hover-bgc:rgba(50,50,50,.2)}.theme-dark{--bgc:#2c2a38;--fgc:#fff;--bc:#554f4f;--mbgc:#42424e;--general-item-bgc:#606068;--general-title-c:#e9e9e9;--general-clickable-border-c:#959595;--general-interface-card-bgc:#686675;--general-interface-card-fgc:#fff;--general-interface-card-quote-bgc:#494757;--general-settings-icon-c:#c2c8ce;--proxy-fake-item-bgc:#32323f;--proxy-item-now-fgc:#cecece;--proxy-item-now-bgc:#5c5c5c;--proxy-item-type-bgc:#5c5c5c;--proxy-item-type-fgc:#cecece;--proxy-item-border-c:hsla(0,0%,78%,.185);--proxy-item-selected-border-c:#0a0;--proxy-item-bgc:hsla(0,0%,100%,.05);--proxy-item-hint-c:#a7a7a7;--proxy-item-subs-fgc:#b4b4b4;--proxy-item-subs-bgc:#5a5a5a;--proxy-item-subs-used-bgc:#92484e;--proxy-item-latency-online-c:#14a014;--proxy-item-latency-offline-c:#db4b4b;--mode-switcher-selected-bgc:#3aa1cc;--mode-switcher-normal-bgc:#42424e;--log-item-border-c:#494242;--log-item-rule-c:hsla(0,0%,88%,.712);--log-item-payload-c:#5fbeca;--log-list-border-c:#626262;--profile-card-bgc:#42424e;--profile-card-hint-c:#3aa1cc;--profile-list-item-bgc:#3f3f49;--profile-list-item-cur-bgc:#5f5f5f;--feedback-link-c:#1788c5;--status-bgc:#343442;--status-close-hover:hsla(0,0%,98%,.2);--switch-bgc:#413c3c;--switch-bgc-second:#332f2f;--menu-fgc:#d4d4d4;--scroll-bar-bgc:#4d4d5a;--input-bgc:hsla(0,0%,41%,.822);--input-phc:#a3a3a3;--error-text:#ff5f5f;--mask-c:rgba(77,77,77,.8);--setting-input-bgc:rgba(46,46,46,.8);--setting-item-hover-bgc:hsla(0,0%,100%,.3)}.theme-dark,.theme-red{-webkit-animation:fade .2s ease-in-out;animation:fade .2s ease-in-out;--shadow:hsla(0,0%,84%,.1);--mode-switcher-selected-fgc:#fff;--mode-switcher-normal-fgc:#fff}.theme-red{--bgc:#f8b74f;--fgc:#d33928;--bc:#da141e3f;--mbgc:#ffc76d;--general-item-bgc:#eda94c;--general-title-c:#b72d29;--general-clickable-border-c:#da141e3f;--general-interface-card-bgc:#c74f55;--general-interface-card-fgc:#fff;--general-interface-card-quote-bgc:#850f15;--general-settings-icon-c:#c54b36;--proxy-fake-item-bgc:#c28f3d;--proxy-item-now-fgc:#e2e2e2;--proxy-item-now-bgc:#b87004;--proxy-item-type-bgc:#b87004;--proxy-item-type-fgc:#e2e2e2;--proxy-item-border-c:#f39908;--proxy-item-selected-border-c:#1bb406c9;--proxy-item-bgc:#fdc975;--proxy-item-hint-c:#995e00;--proxy-item-subs-fgc:#d1d1d1;--proxy-item-subs-bgc:hsla(0,0%,59%,.295);--proxy-item-subs-used-bgc:#b3585f;--proxy-item-latency-online-c:#16a716;--proxy-item-latency-offline-c:#df0909;--mode-switcher-selected-bgc:#b72e29c9;--mode-switcher-normal-bgc:#c28f3d;--log-item-border-c:#da141e3f;--log-item-rule-c:#3f3f3f;--log-item-payload-c:#0d508f;--log-list-border-c:#da141e3f;--profile-card-bgc:#10105a;--profile-card-hint-c:#3aa1cc;--profile-list-item-bgc:#a77018;--profile-list-item-cur-bgc:#da141e99;--feedback-link-c:#b72d29;--status-bgc:#e8a84a;--status-close-hover:hsla(0,0%,98%,.2);--switch-bgc:#d39126;--switch-bgc-second:#be8222;--menu-fgc:#da141ecb;--scroll-bar-bgc:#b72e29a4;--input-bgc:#d39126;--input-phc:rgba(170,66,66,.4);--error-text:red;--setting-input-bgc:#d39126;--setting-item-hover-bgc:hsla(0,0%,100%,.2)}.theme-2077,.theme-red{--mask-c:rgba(50,50,50,.6)}.theme-2077{-webkit-animation:fade .2s ease-in-out;animation:fade .2s ease-in-out;--bgc:#136377;--fgc:#fcec0c;--bc:#0691b485;--mbgc:#084a5a;--shadow:hsla(0,0%,84%,.1);--general-item-bgc:#084a5a;--general-title-c:#f8ed53;--general-clickable-border-c:#dde9373f;--general-interface-card-bgc:#0e5668;--general-interface-card-fgc:#fff;--general-interface-card-quote-bgc:#09303a;--general-settings-icon-c:#c0e732ef;--proxy-fake-item-bgc:#043441;--proxy-item-now-fgc:#cff592;--proxy-item-now-bgc:#064453;--proxy-item-type-bgc:#064453;--proxy-item-type-fgc:#cff592;--proxy-item-border-c:rgba(6,49,70,.411);--proxy-item-selected-border-c:#f8ed53;--proxy-item-bgc:#09738dea;--proxy-item-hint-c:#bbb33f;--proxy-item-subs-fgc:#fff;--proxy-item-subs-bgc:#4e8a6f;--proxy-item-subs-used-bgc:#b4555d;--proxy-item-latency-online-c:#44c444;--proxy-item-latency-offline-c:#ff6565;--mode-switcher-selected-bgc:#dfd43f;--mode-switcher-selected-fgc:#000;--mode-switcher-normal-bgc:#58482c;--mode-switcher-normal-fgc:#fff;--log-item-border-c:#494242;--log-item-rule-c:hsla(0,0%,88%,.712);--log-item-payload-c:#5fbeca;--log-list-border-c:#626262;--profile-card-bgc:#58482c;--profile-card-hint-c:#3aa1cc;--profile-list-item-bgc:#043441;--profile-list-item-cur-bgc:#b4aa39;--feedback-link-c:#a5dbe9;--status-bgc:#fcec0c;--status-close-hover:hsla(0,0%,98%,.2);--switch-bgc:#837a00;--switch-bgc-second:#968c03;--menu-fgc:#c79707;--scroll-bar-bgc:#eede00cb;--input-bgc:rgba(2,45,53,.822);--input-phc:#a3a3a3;--error-text:#ff5f5f;--setting-input-bgc:rgba(2,45,53,.822);--setting-item-hover-bgc:hsla(0,0%,100%,.2)}.theme-unknown{display:none}@-webkit-keyframes fade{0%{opacity:0}to{opacity:1}}@keyframes fade{0%{opacity:0}to{opacity:1}}.placeholder\\:text-\\[color\\:rgb\\(1632c 163\\2c 163\\)\\]::-moz-placeholder{--tw-text-opacity:1;color:rgb(163 163 163/var(--tw-text-opacity))}.placeholder\\:text-\\[color\\:rgb\\(1632c 163\\2c 163\\)\\]:-ms-input-placeholder{--tw-text-opacity:1;color:rgb(163 163 163/var(--tw-text-opacity))}.placeholder\\:text-\\[color\\:rgb\\(1632c 163\\2c 163\\)\\]::placeholder{--tw-text-opacity:1;color:rgb(163 163 163/var(--tw-text-opacity))}.hover\\:bg-\\[color\\:var\\(--proxy-item-bgc\\)\\]:hover{background-color:var(--proxy-item-bgc)}.hover\\:bg-\\[color\\:var\\(--status-close-hover\\)\\]:hover{background-color:var(--status-close-hover)}.hover\\:bg-\\[\\#ff5050d7\\]:hover{background-color:#ff5050d7}',""])},function(e,t,i){e.exports=i.p+"fonts/MaterialIcons-Regular--assets.ttf"},function(e,t,i){"use strict";i(279)},function(e,t,i){var n=i(266);(e.exports=i(27)(!1)).push([e.i,"@font-face{font-family:TwemojiMozilla;src:url("+n(i(373))+') format("truetype")}.clickable,.clickable *{cursor:pointer}.no-esc{outline:none}',""])},function(e,t,i){e.exports=i.p+"fonts/TwemojiMozilla--assets.ttf"},function(e,t){e.exports=function(e){if(Array.isArray(e))return e},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(e,t){var i=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=i){var n,o,r=[],s=!0,a=!1;try{for(i=i.call(e);!(s=(n=i.next()).done)&&(r.push(n.value),!t||r.length!==t);s=!0);}catch(e){a=!0,o=e}finally{try{s||null==i.return||i.return()}finally{if(a)throw o}}return r}},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,i){var n=i(281);e.exports=function(e){if(Array.isArray(e))return n(e)},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,i){"use strict";i(282)},function(e,t,i){(e.exports=i(27)(!1)).push([e.i,".grid[data-v-4f5120b9]{background-color:var(--mbgc);padding:0;width:100%;text-align:center;flex:1;display:flex;align-items:center;font-size:.8em;letter-spacing:.5px}.grid div[data-v-4f5120b9]{width:100%;display:flex;align-items:baseline;padding:0 40px;justify-content:space-between}.main-clash-traffic-view[data-v-4f5120b9]{height:80px;display:flex;flex-direction:column;border-bottom:1px solid var(--bc)}",""])},function(e,t,i){"use strict";i(283)},function(e,t,i){(e.exports=i(27)(!1)).push([e.i,".hint[data-v-4f5120b9]{font-size:.8em;color:#000;letter-spacing:1px;text-align:left}.bold-icon[data-v-4f5120b9]{font-size:.75em;letter-spacing:1px;padding:0 1px}",""])},function(e,t,i){var n={"./app.js":716,"./index.js":267};function o(e){return e=r(e),i(e)}function r(e){if(i.o(n,e))return n[e];throw(e=new Error("Cannot find module '"+e+"'")).code="MODULE_NOT_FOUND",e}o.keys=function(){return Object.keys(n)},o.resolve=r,(e.exports=o).id=384},function(e,t,i){"use strict";i(284)},function(e,t,i){(e.exports=i(27)(!1)).push([e.i,"#main-run-time-view[data-v-05e7144a]{display:flex;align-items:flex-end;padding-bottom:40px}.timer-text[data-v-05e7144a]{text-align:center;width:100%}",""])},function(e,t,i){"use strict";i(285)},function(e,t,i){(e.exports=i(27)(!1)).push([e.i,".menu[data-v-cdc2bece]{background-color:var(--bgc);color:var(--fgc);list-style-type:none;border-bottom:1px solid var(--bc);position:relative;display:flex;flex-direction:column;height:400px;justify-content:space-between}.item[data-v-cdc2bece]{flex-grow:1;font-size:1em;cursor:pointer;display:flex;align-items:center}.item-draggable .item[data-v-cdc2bece]{-webkit-user-drag:element}.item-none[data-v-cdc2bece]{background-color:var(--mbgc);color:var(--menu-fgc)}.running-time[data-v-cdc2bece]{flex-grow:1;color:var(--fgc)}.traffic[data-v-cdc2bece]{margin-top:0;color:var(--fgc)}.main-main-menu[data-v-cdc2bece]{z-index:2;height:100%;display:flex;flex-direction:column}.main-main-menu .stop-btn[data-v-cdc2bece]{cursor:pointer;position:absolute;top:515px;left:20px;border-radius:20px;color:#fff;height:30px;width:130px;line-height:30px;text-align:center;font-size:14px;font-weight:400;background-color:#d14444;box-shadow:0 0 15px 1px rgba(49,49,49,.3);transform:all .3s}.drag-item[data-v-cdc2bece]{background-color:#41b883;color:#fff}.ghost-item[data-v-cdc2bece]{opacity:0}.shaking1[data-v-cdc2bece],.shaking2[data-v-cdc2bece]{margin:2px 0;transform-origin:center;animation:shake-rotate-data-v-cdc2bece .4s infinite}.shaking2[data-v-cdc2bece]{animation-delay:.1s}.shaking3[data-v-cdc2bece]{margin:2px 0;transform-origin:center;animation:shake-rotate-data-v-cdc2bece .4s infinite;animation-delay:.2s}.clickable[data-v-cdc2bece]{cursor:pointer;text-align:center;width:100%}.selected-top[data-v-cdc2bece]{border-bottom-right-radius:10px}.selected-bottom[data-v-cdc2bece]{border-top-right-radius:10px}@keyframes shake-rotate-data-v-cdc2bece{0%{transform:rotate(0deg)}12.5%{transform:rotate(.5deg)}25%{-webkit-transform:rotate(1.2deg)}37.5%{transform:rotate(.5deg)}50%{transform:rotate(0deg)}62.5%{transform:rotate(-.5deg)}75%{transform:rotate(-1.2deg)}87.5%{transform:rotate(-.5deg)}to{transform:rotate(0deg)}}",""])},function(e,t,i){"use strict";i(286)},function(e,t,i){(e.exports=i(27)(!1)).push([e.i,".main[data-v-4d45ac4e]{height:25px;width:100vw;background-color:var(--status-bgc);color:var(--fgc);display:flex;justify-content:space-between;align-items:center}.main .empty[data-v-4d45ac4e]{flex-grow:1;height:100%;display:flex;flex-direction:column}.main .empty .top[data-v-4d45ac4e]{height:5px}.main .empty .top .left[data-v-4d45ac4e]{height:100%;background-color:var(--proxy-item-latency-online-c)}.main .empty .bottom[data-v-4d45ac4e]{flex-grow:1;-webkit-app-region:drag}.title[data-v-4d45ac4e]{font-size:.75em;font-weight:100;letter-spacing:1px}.close[data-v-4d45ac4e]{-webkit-app-region:no-drag;cursor:pointer;justify-content:center;width:45px;height:100%;display:flex;align-items:center}.close span[data-v-4d45ac4e]{text-align:center;cursor:pointer;height:20px;width:20px}",""])},function(e,t){e.exports=require("util")},function(e,t){e.exports=require("koa")},function(e,t){e.exports=require("mousetrap")},function(e,t){e.exports=require("unix-cron")},function(e,t,i){"use strict";i.r(t);var n=i(396),o=i(1),r=i(47),s=i(204),a=i(73),l=i(98),c=i(2),d=i(15),h=i(9),u=i(35),g=i(5),p=i(8),f=i(252),m=i(10),v=i(21),b=i(58),_=i(91),w=i(4),C=(t=i(16),i(63));n=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;0<=a;a--)(o=e[a])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s},i=function(e,t){return function(i,n){t(i,n,e)}};const y=new m.c("accessibilityHelpWidgetVisible",!1);let x=class e extends c.a{constructor(e,t){super(),this._editor=e,this._widget=this._register(t.createInstance(S,this._editor))}static get(t){return t.getContribution(e.ID)}show(){this._widget.show()}hide(){this._widget.hide()}};x.ID="editor.contrib.accessibilityHelpController",x=n([i(1,v.a)],x);let S=class e extends l.a{constructor(e,t,i,n){super(),this._contextKeyService=t,this._keybindingService=i,this._openerService=n,this._editor=e,this._isVisibleKey=y.bindTo(this._contextKeyService),this._domNode=Object(r.b)(document.createElement("div")),this._domNode.setClassName("accessibilityHelpWidget"),this._domNode.setDisplay("none"),this._domNode.setAttribute("role","dialog"),this._domNode.setAttribute("aria-hidden","true"),this._contentDomNode=Object(r.b)(document.createElement("div")),this._contentDomNode.setAttribute("role","document"),this._domNode.appendChild(this._contentDomNode),this._isVisible=!1,this._register(this._editor.onDidLayoutChange(()=>{this._isVisible&&this._layout()})),this._register(o.o(this._contentDomNode.domNode,"keydown",e=>{if(this._isVisible&&(e.equals(2083)&&(Object(a.a)(C.a.emergencyConfOn),this._editor.updateOptions({accessibilitySupport:"on"}),o.t(this._contentDomNode.domNode),this._buildContent(),this._contentDomNode.domNode.focus(),e.preventDefault(),e.stopPropagation()),e.equals(2086))){Object(a.a)(C.a.openingDocs);let t=this._editor.getRawOptions().accessibilityHelpUrl;void 0===t&&(t="https://go.microsoft.com/fwlink/?linkid=852450"),this._openerService.open(u.a.parse(t)),e.preventDefault(),e.stopPropagation()}})),this.onblur(this._contentDomNode.domNode,()=>{this.hide()}),this._editor.addOverlayWidget(this)}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return e.ID}getDomNode(){return this._domNode.domNode}getPosition(){return{preference:null}}show(){this._isVisible||(this._isVisible=!0,this._isVisibleKey.set(!0),this._layout(),this._domNode.setDisplay("block"),this._domNode.setAttribute("aria-hidden","false"),this._contentDomNode.domNode.tabIndex=0,this._buildContent(),this._contentDomNode.domNode.focus())}_descriptionForCommand(e,t,i){let n=this._keybindingService.lookupKeybinding(e);return n?h.v(t,n.getAriaLabel()):h.v(i,e)}_buildContent(){const e=this._editor.getOptions(),t=this._editor.getSelections();let i=0;if(t){const e=this._editor.getModel();e&&t.forEach(t=>{i+=e.getValueLengthInRange(t)})}let n=(o=i,(a=t)&&0!==a.length?1===a.length?o?h.v(C.a.singleSelectionRange,a[0].positionLineNumber,a[0].positionColumn,o):h.v(C.a.singleSelection,a[0].positionLineNumber,a[0].positionColumn):o?h.v(C.a.multiSelectionRange,a.length,o):0<a.length?h.v(C.a.multiSelection,a.length):"":C.a.noSelection);var o;e.get(53)?e.get(80)?n+=C.a.readonlyDiffEditor:n+=C.a.editableDiffEditor:e.get(80)?n+=C.a.readonlyEditor:n+=C.a.editableEditor;var r=d.f?C.a.changeConfigToOnMac:C.a.changeConfigToOnWinLinux;switch(e.get(2)){case 0:n+="\n\n - "+r;break;case 2:n+="\n\n - "+C.a.auto_on;break;case 1:n+="\n\n - "+C.a.auto_off,n+=" "+r}e.get(128)?n+="\n\n - "+this._descriptionForCommand(f.ToggleTabFocusModeAction.ID,C.a.tabFocusModeOnMsg,C.a.tabFocusModeOnMsgNoKb):n+="\n\n - "+this._descriptionForCommand(f.ToggleTabFocusModeAction.ID,C.a.tabFocusModeOffMsg,C.a.tabFocusModeOffMsgNoKb);var a=d.f?C.a.openDocMac:C.a.openDocWinLinux;n+="\n\n - "+a,n+="\n\n"+C.a.outroMsg,this._contentDomNode.domNode.appendChild(Object(s.b)(n)),this._contentDomNode.domNode.setAttribute("aria-label",n)}hide(){this._isVisible&&(this._isVisible=!1,this._isVisibleKey.reset(),this._domNode.setDisplay("none"),this._domNode.setAttribute("aria-hidden","true"),this._contentDomNode.domNode.tabIndex=-1,o.t(this._contentDomNode.domNode),this._editor.focus())}_layout(){var t=this._editor.getLayoutInfo(),i=Math.max(5,Math.min(e.WIDTH,t.width-40)),n=Math.max(5,Math.min(e.HEIGHT,t.height-40));this._domNode.setWidth(i),this._domNode.setHeight(n),n=Math.round((t.height-n)/2),this._domNode.setTop(n),i=Math.round((t.width-i)/2),this._domNode.setLeft(i)}};S.ID="editor.contrib.accessibilityHelpWidget",S.WIDTH=500,S.HEIGHT=300,S=n([i(1,m.b),i(2,b.a),i(3,_.a)],S);class k extends g.b{constructor(){super({id:"editor.action.showAccessibilityHelp",label:C.a.showAccessibilityHelpAction,alias:"Show Accessibility Help",precondition:void 0,kbOpts:{primary:571,weight:100,linux:{primary:1595,secondary:[571]}}})}run(e,t){let i=x.get(t);i&&i.show()}}Object(g.l)(x.ID,x),Object(g.j)(k);const D=g.c.bindToContribution(x.get);Object(g.k)(new D({id:"closeAccessibilityHelp",precondition:y,handler:e=>e.hide(),kbOpts:{weight:200,kbExpr:p.a.focus,primary:9,secondary:[1033]}})),Object(t.f)((e,t)=>{var i=e.getColor(w.cb);i&&t.addRule(`.monaco-editor .accessibilityHelpWidget { background-color: ${i}; }`),(i=e.getColor(w.eb))&&t.addRule(`.monaco-editor .accessibilityHelpWidget { color: ${i}; }`),(i=e.getColor(w.Tc))&&t.addRule(`.monaco-editor .accessibilityHelpWidget { box-shadow: 0 2px 8px ${i}; }`),(e=e.getColor(w.h))&&t.addRule(`.monaco-editor .accessibilityHelpWidget { border: 2px solid ${e}; }`)})},function(e,t,i){var n=i(397);(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n).locals&&(e.exports=n.locals),(0,i(28).default)("1e8d121c",n,!0,{})},function(e,t,i){(e.exports=i(27)(!1)).push([e.i,".monaco-editor .accessibilityHelpWidget{padding:10px;vertical-align:middle;overflow:scroll}",""])},function(e,t,i){var n=i(399);(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n).locals&&(e.exports=n.locals),(0,i(28).default)("bafa91ea",n,!0,{})},function(e,t,i){(e.exports=i(27)(!1)).push([e.i,".monaco-aria-container{position:absolute;left:-999em}",""])},function(e,t,i){"use strict";i.r(t),i.d(t,"SelectionAnchorSet",(function(){return h}));var n=i(73),o=i(104),r=i(71),s=(i(401),i(5)),a=i(29),l=i(8),c=i(0),d=(t=i(10),i=function(e,t){return function(i,n){t(i,n,e)}},function(e,t,i,n){return new(i=i||Promise)((function(o,r){function s(e){try{l(n.next(e))}catch(e){r(e)}}function a(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):((t=e.value)instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))});const h=new t.c("selectionAnchorSet",!1);let u=class e{constructor(e,t){this.editor=e,this.selectionAnchorSetContextKey=h.bindTo(t),this.modelChangeListener=e.onDidChangeModel(()=>this.selectionAnchorSetContextKey.reset())}static get(t){return t.getContribution(e.ID)}setSelectionAnchor(){var e,t;this.editor.hasModel()&&(e=this.editor.getPosition(),t=this.decorationId?[this.decorationId]:[],t=this.editor.deltaDecorations(t,[{range:a.a.fromPositions(e,e),options:{description:"selection-anchor",stickiness:1,hoverMessage:(new o.a).appendText(Object(c.a)("selectionAnchor","Selection Anchor")),className:"selection-anchor"}}]),this.decorationId=t[0],this.selectionAnchorSetContextKey.set(!!this.decorationId),Object(n.a)(Object(c.a)("anchorSet","Anchor set at {0}:{1}",e.lineNumber,e.column)))}goToSelectionAnchor(){if(this.editor.hasModel()&&this.decorationId){const e=this.editor.getModel().getDecorationRange(this.decorationId);e&&this.editor.setPosition(e.getStartPosition())}}selectFromAnchorToCursor(){if(this.editor.hasModel()&&this.decorationId){const t=this.editor.getModel().getDecorationRange(this.decorationId);var e;t&&(e=this.editor.getPosition(),this.editor.setSelection(a.a.fromPositions(t.getStartPosition(),e)),this.cancelSelectionAnchor())}}cancelSelectionAnchor(){this.decorationId&&(this.editor.deltaDecorations([this.decorationId],[]),this.decorationId=void 0,this.selectionAnchorSetContextKey.set(!1))}dispose(){this.cancelSelectionAnchor(),this.modelChangeListener.dispose()}};u.ID="editor.contrib.selectionAnchorController",u=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;0<=a;a--)(o=e[a])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s}([i(1,t.b)],u);class g extends s.b{constructor(){super({id:"editor.action.setSelectionAnchor",label:Object(c.a)("setSelectionAnchor","Set Selection Anchor"),alias:"Set Selection Anchor",precondition:void 0,kbOpts:{kbExpr:l.a.editorTextFocus,primary:Object(r.c)(2089,2080),weight:100}})}run(e,t){return d(this,void 0,void 0,(function*(){u.get(t).setSelectionAnchor()}))}}class p extends s.b{constructor(){super({id:"editor.action.goToSelectionAnchor",label:Object(c.a)("goToSelectionAnchor","Go to Selection Anchor"),alias:"Go to Selection Anchor",precondition:h})}run(e,t){return d(this,void 0,void 0,(function*(){u.get(t).goToSelectionAnchor()}))}}class f extends s.b{constructor(){super({id:"editor.action.selectFromAnchorToCursor",label:Object(c.a)("selectFromAnchorToCursor","Select from Anchor to Cursor"),alias:"Select from Anchor to Cursor",precondition:h,kbOpts:{kbExpr:l.a.editorTextFocus,primary:Object(r.c)(2089,2089),weight:100}})}run(e,t){return d(this,void 0,void 0,(function*(){u.get(t).selectFromAnchorToCursor()}))}}class m extends s.b{constructor(){super({id:"editor.action.cancelSelectionAnchor",label:Object(c.a)("cancelSelectionAnchor","Cancel Selection Anchor"),alias:"Cancel Selection Anchor",precondition:h,kbOpts:{kbExpr:l.a.editorTextFocus,primary:9,weight:100}})}run(e,t){return d(this,void 0,void 0,(function*(){u.get(t).cancelSelectionAnchor()}))}}Object(s.l)(u.ID,u),Object(s.j)(g),Object(s.j)(p),Object(s.j)(f),Object(s.j)(m)},function(e,t,i){var n=i(402);(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n).locals&&(e.exports=n.locals),(0,i(28).default)("0a5f138a",n,!0,{})},function(e,t,i){(e.exports=i(27)(!1)).push([e.i,".monaco-editor .selection-anchor{background-color:#007acc;width:2px!important}",""])},function(e,t,i){"use strict";i.r(t),i.d(t,"BracketMatchingController",(function(){return b}));var n=i(18),o=i(2),r=(i(404),i(5)),s=i(12),a=i(3),l=i(29),c=i(8),d=i(50),h=i(42),u=i(45),g=i(0),p=(t=i(32),i(4));i=i(16),p=Object(p.Cc)("editorOverviewRuler.bracketMatchForeground",{dark:"#A0A0A0",light:"#A0A0A0",hc:"#A0A0A0"},g.a("overviewRulerBracketMatchForeground","Overview ruler marker color for matching brackets."));class f extends r.b{constructor(){super({id:"editor.action.jumpToBracket",label:g.a("smartSelect.jumpBracket","Go to Bracket"),alias:"Go to Bracket",precondition:void 0,kbOpts:{kbExpr:c.a.editorTextFocus,primary:3160,weight:100}})}run(e,t){let i=b.get(t);i&&i.jumpToBracket()}}class m extends r.b{constructor(){super({id:"editor.action.selectToBracket",label:g.a("smartSelect.selectToBracket","Select to Bracket"),alias:"Select to Bracket",precondition:void 0,description:{description:"Select to Bracket",args:[{name:"args",schema:{type:"object",properties:{selectBrackets:{type:"boolean",default:!0}}}}]}})}run(e,t,i){const n=b.get(t);if(n){let e=!0;i&&!1===i.selectBrackets&&(e=!1),n.selectToBracket(e)}}}class v{constructor(e,t,i){this.position=e,this.brackets=t,this.options=i}}class b extends o.a{constructor(e){super(),this._editor=e,this._lastBracketsData=[],this._lastVersionId=0,this._decorations=[],this._updateBracketsSoon=this._register(new n.e(()=>this._updateBrackets(),50)),this._matchBrackets=this._editor.getOption(63),this._updateBracketsSoon.schedule(),this._register(e.onDidChangeCursorPosition(e=>{"never"!==this._matchBrackets&&this._updateBracketsSoon.schedule()})),this._register(e.onDidChangeModelContent(e=>{this._updateBracketsSoon.schedule()})),this._register(e.onDidChangeModel(e=>{this._lastBracketsData=[],this._decorations=[],this._updateBracketsSoon.schedule()})),this._register(e.onDidChangeModelLanguageConfiguration(e=>{this._lastBracketsData=[],this._updateBracketsSoon.schedule()})),this._register(e.onDidChangeConfiguration(e=>{e.hasChanged(63)&&(this._matchBrackets=this._editor.getOption(63),this._decorations=this._editor.deltaDecorations(this._decorations,[]),this._lastBracketsData=[],this._lastVersionId=0,this._updateBracketsSoon.schedule())})),this._register(e.onDidBlurEditorWidget(()=>{this._updateBracketsSoon.schedule()})),this._register(e.onDidFocusEditorWidget(()=>{this._updateBracketsSoon.schedule()}))}static get(e){return e.getContribution(b.ID)}jumpToBracket(){if(this._editor.hasModel()){const t=this._editor.getModel();var e=this._editor.getSelections().map(e=>{e=e.getStartPosition();const i=t.matchBracket(e);let n=null;if(i)i[0].containsPosition(e)?n=i[1].getStartPosition():i[1].containsPosition(e)&&(n=i[0].getStartPosition());else{const i=t.findEnclosingBrackets(e);if(i)n=i[0].getStartPosition();else{const i=t.findNextBracket(e);i&&i.range&&(n=i.range.getStartPosition())}}return n?new l.a(n.lineNumber,n.column,n.lineNumber,n.column):new l.a(e.lineNumber,e.column,e.lineNumber,e.column)});this._editor.setSelections(e),this._editor.revealRange(e[0])}}selectToBracket(e){if(this._editor.hasModel()){const t=this._editor.getModel(),i=[];this._editor.getSelections().forEach(n=>{n=n.getStartPosition();let o=t.matchBracket(n);if(!o&&(o=t.findEnclosingBrackets(n),!o)){const e=t.findNextBracket(n);e&&e.range&&(o=t.matchBracket(e.range.getStartPosition()))}let r=null,s=null;if(o){o.sort(a.a.compareRangesUsingStarts);const[t,i]=o;r=e?t.getStartPosition():t.getEndPosition(),s=e?i.getEndPosition():i.getStartPosition(),i.containsPosition(n)&&(n=r,r=s,s=n)}r&&s&&i.push(new l.a(r.lineNumber,r.column,s.lineNumber,s.column))}),0<i.length&&(this._editor.setSelections(i),this._editor.revealRange(i[0]))}}_updateBrackets(){if("never"!==this._matchBrackets){this._recomputeBrackets();let t=[],i=0;for(const n of this._lastBracketsData){var e=n.brackets;e&&(t[i++]={range:e[0],options:n.options},t[i++]={range:e[1],options:n.options})}this._decorations=this._editor.deltaDecorations(this._decorations,t)}}_recomputeBrackets(){if(!this._editor.hasModel()||!this._editor.hasWidgetFocus())return this._lastBracketsData=[],void(this._lastVersionId=0);var e=this._editor.getSelections();if(100<e.length)return this._lastBracketsData=[],void(this._lastVersionId=0);const t=this._editor.getModel();var i=t.getVersionId();let n=[];this._lastVersionId===i&&(n=this._lastBracketsData);let o=[],r=0;for(let t=0,i=e.length;t<i;t++){let i=e[t];i.isEmpty()&&(o[r++]=i.getStartPosition())}1<o.length&&o.sort(s.a.compare);let a=[],l=0,c=0,d=n.length;for(let e=0,i=o.length;e<i;e++){for(var h=o[e];c<d&&n[c].position.isBefore(h);)c++;if(c<d&&n[c].position.equals(h))a[l++]=n[c];else{let e=t.matchBracket(h),i=b._DECORATION_OPTIONS_WITH_OVERVIEW_RULER;e||"always"!==this._matchBrackets||(e=t.findEnclosingBrackets(h,20),i=b._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER),a[l++]=new v(h,e,i)}}this._lastBracketsData=a,this._lastVersionId=i}}b.ID="editor.contrib.bracketMatchingController",b._DECORATION_OPTIONS_WITH_OVERVIEW_RULER=h.b.register({description:"bracket-match-overview",stickiness:1,className:"bracket-match",overviewRuler:{color:Object(i.g)(p),position:d.g.Center}}),b._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER=h.b.register({description:"bracket-match-no-overview",stickiness:1,className:"bracket-match"}),Object(r.l)(b.ID,b),Object(r.j)(m),Object(r.j)(f),Object(i.f)((e,t)=>{var i=e.getColor(u.j);i&&t.addRule(`.monaco-editor .bracket-match { background-color: ${i}; }`),(e=e.getColor(u.k))&&t.addRule(`.monaco-editor .bracket-match { border: 1px solid ${e}; }`)}),t.d.appendMenuItem(t.b.MenubarGoMenu,{group:"5_infile_nav",command:{id:"editor.action.jumpToBracket",title:g.a({key:"miGoToBracket",comment:["&& denotes a mnemonic"]},"Go to &&Bracket")},order:2})},function(e,t,i){var n=i(405);(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n).locals&&(e.exports=n.locals),(0,i(28).default)("4fe62bf2",n,!0,{})},function(e,t,i){(e.exports=i(27)(!1)).push([e.i,".monaco-editor .bracket-match{box-sizing:border-box}",""])},function(e,t,i){"use strict";i.r(t),i.d(t,"CutAction",(function(){return p})),i.d(t,"CopyAction",(function(){return f})),i.d(t,"PasteAction",(function(){return m}));var n=i(44),o=i(15),r=i(186),s=i(5),a=i(46),l=i(8),c=i(0),d=i(32),h=i(148),u="9_cutcopypaste";t=o.g||document.queryCommandSupported("cut"),i=o.g||document.queryCommandSupported("copy"),n=void 0!==navigator.clipboard&&!n.g||document.queryCommandSupported("paste");function g(e){return e.register(),e}const p=t?g(new s.e({id:"editor.action.clipboardCutAction",precondition:void 0,kbOpts:o.g?{primary:2102,win:{primary:2102,secondary:[1044]},weight:100}:void 0,menuOpts:[{menuId:d.b.MenubarEditMenu,group:"2_ccp",title:c.a({key:"miCut",comment:["&& denotes a mnemonic"]},"Cu&&t"),order:1},{menuId:d.b.EditorContext,group:u,title:c.a("actions.clipboard.cutLabel","剪切"),when:l.a.writable,order:1},{menuId:d.b.CommandPalette,group:"",title:c.a("actions.clipboard.cutLabel","剪切"),order:1},{menuId:d.b.SimpleEditorContext,group:u,title:c.a("actions.clipboard.cutLabel","剪切"),when:l.a.writable,order:1}]})):void 0,f=i?g(new s.e({id:"editor.action.clipboardCopyAction",precondition:void 0,kbOpts:o.g?{primary:2081,win:{primary:2081,secondary:[2067]},weight:100}:void 0,menuOpts:[{menuId:d.b.MenubarEditMenu,group:"2_ccp",title:c.a({key:"miCopy",comment:["&& denotes a mnemonic"]},"&&Copy"),order:2},{menuId:d.b.EditorContext,group:u,title:c.a("actions.clipboard.copyLabel","复制"),order:2},{menuId:d.b.CommandPalette,group:"",title:c.a("actions.clipboard.copyLabel","复制"),order:1},{menuId:d.b.SimpleEditorContext,group:u,title:c.a("actions.clipboard.copyLabel","复制"),order:2}]})):void 0;d.d.appendMenuItem(d.b.MenubarEditMenu,{submenu:d.b.MenubarCopy,title:{value:c.a("copy as","Copy As"),original:"Copy As"},group:"2_ccp",order:3}),d.d.appendMenuItem(d.b.EditorContext,{submenu:d.b.EditorContextCopy,title:{value:c.a("copy as","Copy As"),original:"Copy As"},group:u,order:3});const m=n?g(new s.e({id:"editor.action.clipboardPasteAction",precondition:void 0,kbOpts:o.g?{primary:2100,win:{primary:2100,secondary:[1043]},linux:{primary:2100,secondary:[1043]},weight:100}:void 0,menuOpts:[{menuId:d.b.MenubarEditMenu,group:"2_ccp",title:c.a({key:"miPaste",comment:["&& denotes a mnemonic"]},"&&Paste"),order:4},{menuId:d.b.EditorContext,group:u,title:c.a("actions.clipboard.pasteLabel","粘贴"),when:l.a.writable,order:4},{menuId:d.b.CommandPalette,group:"",title:c.a("actions.clipboard.pasteLabel","粘贴"),order:1},{menuId:d.b.SimpleEditorContext,group:u,title:c.a("actions.clipboard.pasteLabel","粘贴"),when:l.a.writable,order:4}]})):void 0;class v extends s.b{constructor(){super({id:"editor.action.clipboardCopyWithSyntaxHighlightingAction",label:c.a("actions.clipboard.copyWithSyntaxHighlightingLabel","Copy With Syntax Highlighting"),alias:"Copy With Syntax Highlighting",precondition:void 0,kbOpts:{kbExpr:l.a.textInputFocus,primary:0,weight:100}})}run(e,t){t.hasModel()&&(!t.getOption(32)&&t.getSelection().isEmpty()||(r.a.forceCopyWithSyntaxHighlighting=!0,t.focus(),document.execCommand("copy"),r.a.forceCopyWithSyntaxHighlighting=!1))}}function b(e,t){e&&(e.addImplementation(1e4,"code-editor",(e,i)=>{const n=e.get(a.a).getFocusedCodeEditor();if(n&&n.hasTextFocus()){e=n.getOption(32);const i=n.getSelection();return i&&i.isEmpty()&&!e||document.execCommand(t),!0}return!1}),e.addImplementation(0,"generic-dom",(e,i)=>(document.execCommand(t),!0)))}b(p,"cut"),b(f,"copy"),m&&(m.addImplementation(1e4,"code-editor",(e,t)=>{const i=e.get(a.a),n=e.get(h.a),s=i.getFocusedCodeEditor();return!(!s||!s.hasTextFocus())&&(!(!document.execCommand("paste")&&o.h)||function(e,t,i,n){return new(i=i||Promise)((function(o,r){function s(e){try{l(n.next(e))}catch(e){r(e)}}function a(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):((t=e.value)instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))}(void 0,void 0,void 0,(function*(){var e=yield n.readText();if(""!==e){var t=r.b.INSTANCE.get(e);let i=!1,n=null,o=null;t&&(i=s.getOption(32)&&!!t.isFromEmptySelection,n=void 0!==t.multicursorText?t.multicursorText:null,o=t.mode),s.trigger("keyboard","paste",{text:e,pasteOnNewLine:i,multicursorText:n,mode:o})}})))}),m.addImplementation(0,"generic-dom",(e,t)=>(document.execCommand("paste"),!0))),i&&Object(s.j)(v)},function(e,t,i){"use strict";i.r(t),t=i(5),i=i(167),Object(t.l)(i.f.ID,i.f),Object(t.j)(i.e),Object(t.j)(i.g),Object(t.j)(i.h),Object(t.j)(i.d),Object(t.j)(i.a),Object(t.j)(i.c),Object(t.k)(new i.b)},function(e,t,i){var n=i(409);(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n).locals&&(e.exports=n.locals),(0,i(28).default)("7903686e",n,!0,{})},function(e,t,i){(e.exports=i(27)(!1)).push([e.i,".monaco-editor .monaco-editor-overlaymessage{padding-bottom:8px;z-index:10000}.monaco-editor .monaco-editor-overlaymessage.below{padding-bottom:0;padding-top:8px;z-index:10000}@-webkit-keyframes fadeIn{0%{opacity:0}to{opacity:1}}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}.monaco-editor .monaco-editor-overlaymessage.fadeIn{-webkit-animation:fadeIn .15s ease-out;animation:fadeIn .15s ease-out}@-webkit-keyframes fadeOut{0%{opacity:1}to{opacity:0}}@keyframes fadeOut{0%{opacity:1}to{opacity:0}}.monaco-editor .monaco-editor-overlaymessage.fadeOut{-webkit-animation:fadeOut .1s ease-out;animation:fadeOut .1s ease-out}.monaco-editor .monaco-editor-overlaymessage .message{padding:1px 4px}.monaco-editor .monaco-editor-overlaymessage .anchor{width:0!important;height:0!important;border:8px solid transparent;z-index:1000;position:absolute}.monaco-editor .monaco-editor-overlaymessage.below .anchor.below,.monaco-editor .monaco-editor-overlaymessage:not(.below) .anchor.top{display:none}.monaco-editor .monaco-editor-overlaymessage.below .anchor.top{display:inherit;top:-8px}",""])},function(e,t,i){var n=i(411);(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n).locals&&(e.exports=n.locals),(0,i(28).default)("2c557b33",n,!0,{})},function(e,t,i){(e.exports=i(27)(!1)).push([e.i,".monaco-editor .contentWidgets .codicon-light-bulb,.monaco-editor .contentWidgets .codicon-lightbulb-autofix{display:flex;align-items:center;justify-content:center}.monaco-editor .contentWidgets .codicon-light-bulb:hover,.monaco-editor .contentWidgets .codicon-lightbulb-autofix:hover{cursor:pointer}",""])},function(e,t,i){var n=i(413);(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n).locals&&(e.exports=n.locals),(0,i(28).default)("15c407a1",n,!0,{})},function(e,t,i){(e.exports=i(27)(!1)).push([e.i,".monaco-editor .codelens-decoration{overflow:hidden;display:inline-block;text-overflow:ellipsis;white-space:nowrap}.monaco-editor .codelens-decoration>a,.monaco-editor .codelens-decoration>span{-moz-user-select:none;user-select:none;-webkit-user-select:none;-ms-user-select:none;white-space:nowrap;vertical-align:sub}.monaco-editor .codelens-decoration>a{text-decoration:none}.monaco-editor .codelens-decoration>a:hover{cursor:pointer}.monaco-editor .codelens-decoration .codicon{vertical-align:middle;color:currentColor!important}.monaco-editor .codelens-decoration>a:hover .codicon:before{cursor:pointer}@-webkit-keyframes fadein{0%{opacity:0;visibility:visible}to{opacity:1}}@keyframes fadein{0%{opacity:0;visibility:visible}to{opacity:1}}.monaco-editor .codelens-decoration.fadein{-webkit-animation:fadein .1s linear;animation:fadein .1s linear}",""])},function(e,t,i){"use strict";i.r(t),i.d(t,"ColorContribution",(function(){return s}));var n=i(2),o=(t=i(5),i(3)),r=(i(269),i(271));class s extends n.a{constructor(e){super(),this._editor=e,this._register(e.onMouseDown(e=>this.onMouseDown(e)))}dispose(){super.dispose()}onMouseDown(e){if(6===e.target.type){var t=[...(null===(t=e.target.element)||void 0===t?void 0:t.classList.values())||[]].find(e=>e.startsWith("ced-colorBox"));if(t&&e.target.range){const t=this._editor.getContribution(r.ModesHoverController.ID);t.isColorPickerVisible()||(e=new o.a(e.target.range.startLineNumber,e.target.range.startColumn+1,e.target.range.endLineNumber,e.target.range.endColumn+1),t.showContentHover(e,0,!1))}}}}s.ID="editor.contrib.colorContribution",Object(t.l)(s.ID,s)},function(e,t,i){var n=i(416);(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n).locals&&(e.exports=n.locals),(0,i(28).default)("086771a6",n,!0,{})},function(e,t,i){(e.exports=i(27)(!1)).push([e.i,".monaco-editor .goto-definition-link{text-decoration:underline;cursor:pointer}",""])},function(e,t,i){(e.exports=i(27)(!1)).push([e.i,".monaco-action-bar{white-space:nowrap;height:100%}.monaco-action-bar .actions-container{display:flex;margin:0 auto;padding:0;height:100%;width:100%;align-items:center}.monaco-action-bar.vertical .actions-container{display:inline-block}.monaco-action-bar .action-item{display:block;align-items:center;justify-content:center;cursor:pointer;position:relative}.monaco-action-bar .action-item.disabled{cursor:default}.monaco-action-bar .action-item .codicon,.monaco-action-bar .action-item .icon{display:block}.monaco-action-bar .action-item .codicon{display:flex;align-items:center;width:16px;height:16px}.monaco-action-bar .action-label{font-size:11px;padding:3px;border-radius:5px}.monaco-action-bar .action-item.disabled .action-label,.monaco-action-bar .action-item.disabled .action-label:before,.monaco-action-bar .action-item.disabled .action-label:hover{opacity:.4}.monaco-action-bar.vertical{text-align:left}.monaco-action-bar.vertical .action-item{display:block}.monaco-action-bar.vertical .action-label.separator{display:block;border-bottom:1px solid #bbb;padding-top:1px;margin-left:.8em;margin-right:.8em}.monaco-action-bar .action-item .action-label.separator{width:1px;height:16px;margin:5px 4px!important;cursor:default;min-width:1px;padding:0;background-color:#bbb}.secondary-actions .monaco-action-bar .action-label{margin-left:6px}.monaco-action-bar .action-item.select-container{overflow:hidden;flex:1;max-width:170px;min-width:60px;display:flex;align-items:center;justify-content:center;margin-right:10px}.monaco-action-bar .action-item.action-dropdown-item{display:flex}.monaco-action-bar .action-item.action-dropdown-item>.action-label{margin-right:1px}",""])},function(e,t,i){var n=i(419);(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n).locals&&(e.exports=n.locals),(0,i(28).default)("aca6e1fa",n,!0,{})},function(e,t,i){(e.exports=i(27)(!1)).push([e.i,'.monaco-editor .peekview-widget .head{box-sizing:border-box;display:flex}.monaco-editor .peekview-widget .head .peekview-title{display:flex;align-items:center;font-size:13px;margin-left:20px;min-width:0}.monaco-editor .peekview-widget .head .peekview-title.clickable{cursor:pointer}.monaco-editor .peekview-widget .head .peekview-title .dirname:not(:empty){font-size:.9em;margin-left:.5em}.monaco-editor .peekview-widget .head .peekview-title .dirname,.monaco-editor .peekview-widget .head .peekview-title .meta{white-space:nowrap}.monaco-editor .peekview-widget .head .peekview-title .filename{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.monaco-editor .peekview-widget .head .peekview-title .meta:not(:empty):before{content:"-";padding:0 .3em}.monaco-editor .peekview-widget .head .peekview-actions{flex:1;text-align:right;padding-right:2px}.monaco-editor .peekview-widget .head .peekview-actions>.monaco-action-bar{display:inline-block}.monaco-editor .peekview-widget .head .peekview-actions>.monaco-action-bar,.monaco-editor .peekview-widget .head .peekview-actions>.monaco-action-bar>.actions-container{height:100%}.monaco-editor .peekview-widget>.body{border-top:1px solid;position:relative}.monaco-editor .peekview-widget .head .peekview-title .codicon{margin-right:4px}.monaco-editor .peekview-widget .monaco-list .monaco-list-row.focused .codicon{color:inherit!important}',""])},function(e,t,i){var n=i(421);(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n).locals&&(e.exports=n.locals),(0,i(28).default)("13e2fc4e",n,!0,{})},function(e,t,i){(e.exports=i(27)(!1)).push([e.i,"::-ms-clear{display:none}.monaco-editor .editor-widget input{color:inherit}.monaco-editor{position:relative;overflow:visible;-webkit-text-size-adjust:100%}.monaco-editor .overflow-guard{position:relative;overflow:hidden}.monaco-editor .view-overlays{position:absolute;top:0}",""])},function(e,t,i){var n=i(423);(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n).locals&&(e.exports=n.locals),(0,i(28).default)("27fbda12",n,!0,{})},function(e,t,i){(e.exports=i(27)(!1)).push([e.i,".monaco-editor .inputarea{min-width:0;min-height:0;margin:0;padding:0;position:absolute;outline:none!important;resize:none;border:none;overflow:hidden;color:transparent;background-color:transparent}.monaco-editor .inputarea.ime-input{z-index:10}",""])},function(e,t,i){var n=i(425);(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n).locals&&(e.exports=n.locals),(0,i(28).default)("bc796a72",n,!0,{})},function(e,t,i){(e.exports=i(27)(!1)).push([e.i,".monaco-editor .margin-view-overlays .line-numbers{font-variant-numeric:tabular-nums;position:absolute;text-align:right;display:inline-block;vertical-align:middle;box-sizing:border-box;cursor:default;height:100%}.monaco-editor .relative-current-line-number{text-align:left;display:inline-block;width:100%}.monaco-editor .margin-view-overlays .line-numbers.lh-odd{margin-top:1px}",""])},function(e,t,i){var n=i(427);(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n).locals&&(e.exports=n.locals),(0,i(28).default)("e693b70e",n,!0,{})},function(e,t,i){(e.exports=i(27)(!1)).push([e.i,".monaco-mouse-cursor-text{cursor:text}.hc-black.mac .monaco-mouse-cursor-text,.hc-black .mac .monaco-mouse-cursor-text,.vs-dark.mac .monaco-mouse-cursor-text,.vs-dark .mac .monaco-mouse-cursor-text{cursor:-webkit-image-set(url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAQAAAC1+jfqAAAAL0lEQVQoz2NgCD3x//9/BhBYBWdhgFVAiVW4JBFKGIa4AqD0//9D3pt4I4tAdAMAHTQ/j5Zom30AAAAASUVORK5CYII=) 1x,url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAQAAADZc7J/AAAAz0lEQVRIx2NgYGBY/R8I/vx5eelX3n82IJ9FxGf6tksvf/8FiTMQAcAGQMDvSwu09abffY8QYSAScNk45G198eX//yev73/4///701eh//kZSARckrNBRvz//+8+6ZohwCzjGNjdgQxkAg7B9WADeBjIBqtJCbhRA0YNoIkBSNmaPEMoNmA0FkYNoFKhapJ6FGyAH3nauaSmPfwI0v/3OukVi0CIZ+F25KrtYcx/CTIy0e+rC7R1Z4KMICVTQQ14feVXIbR695u14+Ir4gwAAD49E54wc1kWAAAAAElFTkSuQmCC) 2x) 5 8,text}",""])},function(e,t,i){var n=i(429);(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n).locals&&(e.exports=n.locals),(0,i(28).default)("2a6a152c",n,!0,{})},function(e,t,i){(e.exports=i(27)(!1)).push([e.i,".monaco-editor .margin-view-overlays .current-line,.monaco-editor .view-overlays .current-line{display:block;position:absolute;left:0;top:0;box-sizing:border-box}.monaco-editor .margin-view-overlays .current-line.current-line-margin.current-line-margin-both{border-right:0}",""])},function(e,t,i){var n=i(431);(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n).locals&&(e.exports=n.locals),(0,i(28).default)("019d3018",n,!0,{})},function(e,t,i){(e.exports=i(27)(!1)).push([e.i,".monaco-editor .lines-content .cdr{position:absolute}",""])},function(e,t,i){var n=i(433);(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n).locals&&(e.exports=n.locals),(0,i(28).default)("b4457842",n,!0,{})},function(e,t,i){(e.exports=i(27)(!1)).push([e.i,".monaco-scrollable-element>.scrollbar>.scra{cursor:pointer;font-size:11px!important}.monaco-scrollable-element>.visible{opacity:1;background:transparent;transition:opacity .1s linear}.monaco-scrollable-element>.invisible{opacity:0;pointer-events:none}.monaco-scrollable-element>.invisible.fade{transition:opacity .8s linear}.monaco-scrollable-element>.shadow{position:absolute;display:none}.monaco-scrollable-element>.shadow.top{display:block;top:0;left:3px;height:3px;width:100%}.monaco-scrollable-element>.shadow.left{display:block;top:3px;left:0;height:100%;width:3px}.monaco-scrollable-element>.shadow.top-left-corner{display:block;top:0;left:0;height:3px;width:3px}",""])},function(e,t,i){var n=i(435);(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n).locals&&(e.exports=n.locals),(0,i(28).default)("5a2b578b",n,!0,{})},function(e,t,i){(e.exports=i(27)(!1)).push([e.i,".monaco-editor .glyph-margin{position:absolute;top:0}.monaco-editor .margin-view-overlays .cgmr{position:absolute;display:flex;align-items:center;justify-content:center}",""])},function(e,t,i){var n=i(437);(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n).locals&&(e.exports=n.locals),(0,i(28).default)("c30fa6e0",n,!0,{})},function(e,t,i){(e.exports=i(27)(!1)).push([e.i,".monaco-editor .lines-content .core-guide{position:absolute;box-sizing:border-box}",""])},function(e,t,i){var n=i(439);(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n).locals&&(e.exports=n.locals),(0,i(28).default)("5ca42310",n,!0,{})},function(e,t,i){(e.exports=i(27)(!1)).push([e.i,".mtkcontrol{color:#fff!important;background:#960000!important}.monaco-editor.no-user-select .lines-content,.monaco-editor.no-user-select .view-line,.monaco-editor.no-user-select .view-lines{-moz-user-select:none;user-select:none;-webkit-user-select:none;-ms-user-select:none}.monaco-editor .view-lines{white-space:nowrap}.monaco-editor .view-line{position:absolute;width:100%}.monaco-editor .mtkz{display:inline-block}",""])},function(e,t,i){var n=i(441);(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n).locals&&(e.exports=n.locals),(0,i(28).default)("0a21cae2",n,!0,{})},function(e,t,i){(e.exports=i(27)(!1)).push([e.i,".monaco-editor .lines-decorations{position:absolute;top:0;background:#fff}.monaco-editor .margin-view-overlays .cldr{position:absolute;height:100%}",""])},function(e,t,i){var n=i(443);(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n).locals&&(e.exports=n.locals),(0,i(28).default)("7290e2a6",n,!0,{})},function(e,t,i){(e.exports=i(27)(!1)).push([e.i,".monaco-editor .margin-view-overlays .cmdr{position:absolute;left:0;width:100%;height:100%}",""])},function(e,t,i){var n=i(445);(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n).locals&&(e.exports=n.locals),(0,i(28).default)("c6a7f9d4",n,!0,{})},function(e,t,i){(e.exports=i(27)(!1)).push([e.i,".monaco-editor .minimap.slider-mouseover .minimap-slider{opacity:0;transition:opacity .1s linear}.monaco-editor .minimap.slider-mouseover .minimap-slider.active,.monaco-editor .minimap.slider-mouseover:hover .minimap-slider{opacity:1}.monaco-editor .minimap-shadow-hidden{position:absolute;width:0}.monaco-editor .minimap-shadow-visible{position:absolute;left:-6px;width:6px}.monaco-editor.no-minimap-shadow .minimap-shadow-visible{position:absolute;left:-1px;width:1px}",""])},function(e,t,i){var n=i(447);(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n).locals&&(e.exports=n.locals),(0,i(28).default)("3e0fe894",n,!0,{})},function(e,t,i){(e.exports=i(27)(!1)).push([e.i,".monaco-editor .overlayWidgets{position:absolute;top:0;left:0}",""])},function(e,t,i){var n=i(449);(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n).locals&&(e.exports=n.locals),(0,i(28).default)("1d8a2dd4",n,!0,{})},function(e,t,i){(e.exports=i(27)(!1)).push([e.i,".monaco-editor .view-ruler{position:absolute;top:0}",""])},function(e,t,i){var n=i(451);(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n).locals&&(e.exports=n.locals),(0,i(28).default)("72259c14",n,!0,{})},function(e,t,i){(e.exports=i(27)(!1)).push([e.i,".monaco-editor .scroll-decoration{position:absolute;top:0;left:0;height:6px}",""])},function(e,t,i){var n=i(453);(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n).locals&&(e.exports=n.locals),(0,i(28).default)("22b9ab6c",n,!0,{})},function(e,t,i){(e.exports=i(27)(!1)).push([e.i,".monaco-editor .lines-content .cslr{position:absolute}.monaco-editor .top-left-radius{border-top-left-radius:3px}.monaco-editor .bottom-left-radius{border-bottom-left-radius:3px}.monaco-editor .top-right-radius{border-top-right-radius:3px}.monaco-editor .bottom-right-radius{border-bottom-right-radius:3px}.monaco-editor.hc-black .top-left-radius{border-top-left-radius:0}.monaco-editor.hc-black .bottom-left-radius{border-bottom-left-radius:0}.monaco-editor.hc-black .top-right-radius{border-top-right-radius:0}.monaco-editor.hc-black .bottom-right-radius{border-bottom-right-radius:0}",""])},function(e,t,i){var n=i(455);(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n).locals&&(e.exports=n.locals),(0,i(28).default)("1701e7c9",n,!0,{})},function(e,t,i){(e.exports=i(27)(!1)).push([e.i,".monaco-editor .cursors-layer{position:absolute;top:0}.monaco-editor .cursors-layer>.cursor{position:absolute;overflow:hidden}.monaco-editor .cursors-layer.cursor-smooth-caret-animation>.cursor{transition:all 80ms}.monaco-editor .cursors-layer.cursor-block-outline-style>.cursor{box-sizing:border-box;background:transparent!important;border-style:solid;border-width:1px}.monaco-editor .cursors-layer.cursor-underline-style>.cursor{border-bottom-width:2px;border-bottom-style:solid;background:transparent!important;box-sizing:border-box}.monaco-editor .cursors-layer.cursor-underline-thin-style>.cursor{border-bottom-width:1px;border-bottom-style:solid;background:transparent!important;box-sizing:border-box}@-webkit-keyframes monaco-cursor-smooth{0%,20%{opacity:1}60%,to{opacity:0}}@keyframes monaco-cursor-smooth{0%,20%{opacity:1}60%,to{opacity:0}}@-webkit-keyframes monaco-cursor-phase{0%,20%{opacity:1}90%,to{opacity:0}}@keyframes monaco-cursor-phase{0%,20%{opacity:1}90%,to{opacity:0}}@-webkit-keyframes monaco-cursor-expand{0%,20%{transform:scaleY(1)}80%,to{transform:scaleY(0)}}@keyframes monaco-cursor-expand{0%,20%{transform:scaleY(1)}80%,to{transform:scaleY(0)}}.cursor-smooth{-webkit-animation:monaco-cursor-smooth .5s ease-in-out 0s 20 alternate;animation:monaco-cursor-smooth .5s ease-in-out 0s 20 alternate}.cursor-phase{-webkit-animation:monaco-cursor-phase .5s ease-in-out 0s 20 alternate;animation:monaco-cursor-phase .5s ease-in-out 0s 20 alternate}.cursor-expand>.cursor{-webkit-animation:monaco-cursor-expand .5s ease-in-out 0s 20 alternate;animation:monaco-cursor-expand .5s ease-in-out 0s 20 alternate}",""])},function(e,t,i){var n=i(457);(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n).locals&&(e.exports=n.locals),(0,i(28).default)("08e15a36",n,!0,{})},function(e,t,i){(e.exports=i(27)(!1)).push([e.i,':root{--sash-size:4px}.monaco-sash{position:absolute;z-index:35;touch-action:none}.monaco-sash.disabled{pointer-events:none}.monaco-sash.mac.vertical{cursor:col-resize}.monaco-sash.vertical.minimum{cursor:e-resize}.monaco-sash.vertical.maximum{cursor:w-resize}.monaco-sash.mac.horizontal{cursor:row-resize}.monaco-sash.horizontal.minimum{cursor:s-resize}.monaco-sash.horizontal.maximum{cursor:n-resize}.monaco-sash.disabled{cursor:default!important;pointer-events:none!important}.monaco-sash.vertical{cursor:ew-resize;top:0;width:var(--sash-size);height:100%}.monaco-sash.horizontal{cursor:ns-resize;left:0;width:100%;height:var(--sash-size)}.monaco-sash:not(.disabled)>.orthogonal-drag-handle{content:" ";height:calc(var(--sash-size) * 2);width:calc(var(--sash-size) * 2);z-index:100;display:block;cursor:all-scroll;position:absolute}.monaco-sash.horizontal.orthogonal-edge-north:not(.disabled)>.orthogonal-drag-handle.start,.monaco-sash.horizontal.orthogonal-edge-south:not(.disabled)>.orthogonal-drag-handle.end{cursor:nwse-resize}.monaco-sash.horizontal.orthogonal-edge-north:not(.disabled)>.orthogonal-drag-handle.end,.monaco-sash.horizontal.orthogonal-edge-south:not(.disabled)>.orthogonal-drag-handle.start{cursor:nesw-resize}.monaco-sash.vertical>.orthogonal-drag-handle.start{left:calc(var(--sash-size) * -.5);top:calc(var(--sash-size) * -1)}.monaco-sash.vertical>.orthogonal-drag-handle.end{left:calc(var(--sash-size) * -.5);bottom:calc(var(--sash-size) * -1)}.monaco-sash.horizontal>.orthogonal-drag-handle.start{top:calc(var(--sash-size) * -.5);left:calc(var(--sash-size) * -1)}.monaco-sash.horizontal>.orthogonal-drag-handle.end{top:calc(var(--sash-size) * -.5);right:calc(var(--sash-size) * -1)}.monaco-sash:before{content:"";pointer-events:none;position:absolute;width:100%;height:100%;transition:background-color .1s ease-out;background:transparent}.monaco-sash.vertical:before{width:var(--sash-hover-size);left:calc(50% - (var(--sash-hover-size) / 2))}.monaco-sash.horizontal:before{height:var(--sash-hover-size);top:calc(50% - (var(--sash-hover-size) / 2))}.monaco-sash.debug{background:cyan}.monaco-sash.debug.disabled{background:rgba(0,255,255,.2)}.monaco-sash.debug:not(.disabled)>.orthogonal-drag-handle{background:red}',""])},function(e,t,i){var n=i(459);(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n).locals&&(e.exports=n.locals),(0,i(28).default)("621f97bc",n,!0,{})},function(e,t,i){(e.exports=i(27)(!1)).push([e.i,".monaco-editor .zone-widget{position:absolute;z-index:10}.monaco-editor .zone-widget .zone-widget-container{border-top-style:solid;border-bottom-style:solid;border-top-width:0;border-bottom-width:0;position:relative}",""])},function(e,t,i){(e.exports=i(27)(!1)).push([e.i,".monaco-dropdown{height:100%;padding:0}.monaco-dropdown>.dropdown-label{cursor:pointer;height:100%;display:flex;align-items:center;justify-content:center}.monaco-dropdown>.dropdown-label>.action-label.disabled{cursor:default}.monaco-dropdown-with-primary{display:flex!important;flex-direction:row;border-radius:5px}.monaco-dropdown-with-primary>.action-container>.action-label{margin-right:0}.monaco-dropdown-with-primary>.dropdown-action-container>.monaco-dropdown>.dropdown-label .codicon[class*=codicon-]{font-size:12px;padding-left:0;padding-right:0;line-height:16px;margin-left:-3px}.monaco-dropdown-with-primary>.dropdown-action-container>.monaco-dropdown>.dropdown-label>.action-label{display:block;background-size:16px;background-position:50%;background-repeat:no-repeat}",""])},function(e,t,i){var n=i(462);(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n).locals&&(e.exports=n.locals),(0,i(28).default)("38c0fc14",n,!0,{})},function(e,t,i){(e.exports=i(27)(!1)).push([e.i,".monaco-action-bar .action-item.menu-entry .action-label.icon{width:16px;height:16px;background-repeat:no-repeat;background-position:50%;background-size:16px}.monaco-action-bar .action-item.menu-entry .action-label{background-image:var(--menu-entry-icon-light)}.hc-black .monaco-action-bar .action-item.menu-entry .action-label,.vs-dark .monaco-action-bar .action-item.menu-entry .action-label{background-image:var(--menu-entry-icon-dark)}.monaco-dropdown-with-default{display:flex!important;flex-direction:row;border-radius:5px}.monaco-dropdown-with-default>.action-container>.action-label{margin-right:0}.monaco-dropdown-with-default>.action-container.menu-entry>.action-label.icon{width:16px;height:16px;background-repeat:no-repeat;background-position:50%;background-size:16px}.monaco-dropdown-with-default>.action-container.menu-entry>.action-label{background-image:var(--menu-entry-icon-light)}.hc-black .monaco-dropdown-with-default>.action-container.menu-entry>.action-label,.vs-dark .monaco-dropdown-with-default>.action-container.menu-entry>.action-label{background-image:var(--menu-entry-icon-dark)}.monaco-dropdown-with-default>.dropdown-action-container>.monaco-dropdown>.dropdown-label .codicon[class*=codicon-]{font-size:12px;padding-left:0;padding-right:0;line-height:16px;margin-left:-3px}.monaco-dropdown-with-default>.dropdown-action-container>.monaco-dropdown>.dropdown-label>.action-label{display:block;background-size:16px;background-position:50%;background-repeat:no-repeat}",""])},function(e,t,i){(e.exports=i(27)(!1)).push([e.i,".monaco-list{position:relative;height:100%;width:100%;white-space:nowrap}.monaco-list.mouse-support{-moz-user-select:none;user-select:none;-webkit-user-select:none;-ms-user-select:none}.monaco-list>.monaco-scrollable-element{height:100%}.monaco-list-rows{position:relative;width:100%;height:100%}.monaco-list.horizontal-scrolling .monaco-list-rows{width:auto;min-width:100%}.monaco-list-row{position:absolute;box-sizing:border-box;overflow:hidden;width:100%}.monaco-list.mouse-support .monaco-list-row{cursor:pointer;touch-action:none}.monaco-list-row.scrolling{display:none!important}.monaco-list.element-focused,.monaco-list.selection-multiple,.monaco-list.selection-single{outline:0!important}.monaco-drag-image{display:inline-block;padding:1px 7px;border-radius:10px;font-size:12px;position:absolute;z-index:1000}.monaco-list-type-filter{display:flex;align-items:center;position:absolute;border-radius:2px;padding:0 3px;max-width:calc(100% - 10px);text-overflow:ellipsis;overflow:hidden;text-align:right;box-sizing:border-box;cursor:all-scroll;font-size:13px;line-height:18px;height:20px;z-index:1;top:4px}.monaco-list-type-filter.dragging{transition:top .2s,left .2s}.monaco-list-type-filter.ne{right:4px}.monaco-list-type-filter.nw{left:4px}.monaco-list-type-filter>.controls{display:flex;align-items:center;box-sizing:border-box;transition:width .2s;width:0}.monaco-list-type-filter.dragging>.controls,.monaco-list-type-filter:hover>.controls{width:36px}.monaco-list-type-filter>.controls>*{border:none;box-sizing:border-box;-webkit-appearance:none;-moz-appearance:none;background:none;width:16px;height:16px;flex-shrink:0;margin:0;padding:0;display:flex;align-items:center;justify-content:center;cursor:pointer}.monaco-list-type-filter>.controls>.filter{margin-left:4px}.monaco-list-type-filter-message{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;padding:40px 1em 1em;text-align:center;white-space:normal;opacity:.7;pointer-events:none}.monaco-list-type-filter-message:empty{display:none}.monaco-list-type-filter{cursor:-webkit-grab;cursor:grab}.monaco-list-type-filter.dragging{cursor:-webkit-grabbing;cursor:grabbing}",""])},function(e,t,i){var n=i(465);(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n).locals&&(e.exports=n.locals),(0,i(28).default)("745970a5",n,!0,{})},function(e,t,i){(e.exports=i(27)(!1)).push([e.i,'.monaco-split-view2{position:relative;width:100%;height:100%}.monaco-split-view2>.sash-container{position:absolute;width:100%;height:100%;pointer-events:none}.monaco-split-view2>.sash-container>.monaco-sash{pointer-events:auto}.monaco-split-view2>.monaco-scrollable-element{width:100%;height:100%}.monaco-split-view2>.monaco-scrollable-element>.split-view-container{width:100%;height:100%;white-space:nowrap;position:relative}.monaco-split-view2>.monaco-scrollable-element>.split-view-container>.split-view-view{white-space:normal;position:absolute}.monaco-split-view2>.monaco-scrollable-element>.split-view-container>.split-view-view:not(.visible){display:none}.monaco-split-view2.vertical>.monaco-scrollable-element>.split-view-container>.split-view-view{width:100%}.monaco-split-view2.horizontal>.monaco-scrollable-element>.split-view-container>.split-view-view{height:100%}.monaco-split-view2.separator-border>.monaco-scrollable-element>.split-view-container>.split-view-view:not(:first-child):before{content:" ";position:absolute;top:0;left:0;z-index:5;pointer-events:none;background-color:var(--separator-border)}.monaco-split-view2.separator-border.horizontal>.monaco-scrollable-element>.split-view-container>.split-view-view:not(:first-child):before{height:100%;width:1px}.monaco-split-view2.separator-border.vertical>.monaco-scrollable-element>.split-view-container>.split-view-view:not(:first-child):before{height:1px;width:100%}',""])},function(e,t,i){var n=i(467);(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n).locals&&(e.exports=n.locals),(0,i(28).default)("bbffb5dc",n,!0,{})},function(e,t,i){(e.exports=i(27)(!1)).push([e.i,'.monaco-table{display:flex;flex-direction:column;position:relative;height:100%;width:100%;white-space:nowrap}.monaco-table>.monaco-split-view2{border-bottom:1px solid transparent}.monaco-table>.monaco-list{flex:1}.monaco-table-tr{display:flex;height:100%}.monaco-table-th{width:100%;height:100%;font-weight:700;overflow:hidden;text-overflow:ellipsis}.monaco-table-td,.monaco-table-th{box-sizing:border-box;flex-shrink:0;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.monaco-table>.monaco-split-view2 .monaco-sash.vertical:before{content:"";position:absolute;left:calc(var(--sash-size) / 2);width:0;border-left:1px solid transparent}.monaco-table>.monaco-split-view2,.monaco-table>.monaco-split-view2 .monaco-sash.vertical:before{transition:border-color .2s ease-out}',""])},function(e,t,i){var n=i(469);(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n).locals&&(e.exports=n.locals),(0,i(28).default)("4c42e157",n,!0,{})},function(e,t,i){(e.exports=i(27)(!1)).push([e.i,".monaco-tl-row{display:flex;height:100%;align-items:center;position:relative}.monaco-tl-indent{height:100%;position:absolute;top:0;left:16px;pointer-events:none}.hide-arrows .monaco-tl-indent{left:12px}.monaco-tl-indent>.indent-guide{display:inline-block;box-sizing:border-box;height:100%;border-left:1px solid transparent;transition:border-color .1s linear}.monaco-tl-contents,.monaco-tl-twistie{height:100%}.monaco-tl-twistie{font-size:10px;text-align:right;padding-right:6px;flex-shrink:0;width:16px;display:flex!important;align-items:center;justify-content:center;transform:translateX(3px)}.monaco-tl-contents{flex:1;overflow:hidden}.monaco-tl-twistie:before{border-radius:20px}.monaco-tl-twistie.collapsed:before{transform:rotate(-90deg)}.monaco-tl-twistie.codicon-tree-item-loading:before{-webkit-animation:codicon-spin 1.25s steps(30) infinite;animation:codicon-spin 1.25s steps(30) infinite}",""])},function(e,t,i){var n=i(471);(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n).locals&&(e.exports=n.locals),(0,i(28).default)("9e6a27ce",n,!0,{})},function(e,t,i){(e.exports=i(27)(!1)).push([e.i,".monaco-editor .zone-widget .zone-widget-container.reference-zone-widget{border-top-width:1px;border-bottom-width:1px}.monaco-editor .reference-zone-widget .inline{display:inline-block;vertical-align:top}.monaco-editor .reference-zone-widget .messages{height:100%;width:100%;text-align:center;padding:3em 0}.monaco-editor .reference-zone-widget .ref-tree{line-height:23px}.monaco-editor .reference-zone-widget .ref-tree .reference{text-overflow:ellipsis;overflow:hidden}.monaco-editor .reference-zone-widget .ref-tree .reference-file{display:inline-flex;width:100%;height:100%}.monaco-editor .reference-zone-widget .ref-tree .monaco-list:focus .selected .reference-file{color:inherit!important}.monaco-editor .reference-zone-widget .ref-tree .reference-file .count{margin-right:12px;margin-left:auto}.monaco-editor.hc-black .reference-zone-widget .ref-tree .reference-file{font-weight:700}",""])},function(e,t,i){var n=i(473);(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n).locals&&(e.exports=n.locals),(0,i(28).default)("49cde994",n,!0,{})},function(e,t,i){(e.exports=i(27)(!1)).push([e.i,".monaco-count-badge{padding:3px 6px;border-radius:11px;font-size:11px;min-width:18px;min-height:18px;line-height:11px;font-weight:400;text-align:center;display:inline-block;box-sizing:border-box}.monaco-count-badge.long{padding:2px 3px;border-radius:2px;min-height:auto;line-height:normal}",""])},function(e,t,i){var n=i(475);(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n).locals&&(e.exports=n.locals),(0,i(28).default)("f5a318ce",n,!0,{})},function(e,t,i){(e.exports=i(27)(!1)).push([e.i,".monaco-icon-label{display:flex;overflow:hidden;text-overflow:ellipsis}.monaco-icon-label:before{background-size:16px;background-position:0;background-repeat:no-repeat;padding-right:6px;width:16px;height:22px;line-height:inherit!important;display:inline-block;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;vertical-align:top;flex-shrink:0}.monaco-icon-label>.monaco-icon-label-container{min-width:0;overflow:hidden;text-overflow:ellipsis;flex:1}.monaco-icon-label>.monaco-icon-label-container>.monaco-icon-name-container>.label-name{color:inherit;white-space:pre}.monaco-icon-label>.monaco-icon-label-container>.monaco-icon-name-container>.label-name>.label-separator{margin:0 2px;opacity:.5}.monaco-icon-label>.monaco-icon-label-container>.monaco-icon-description-container>.label-description{opacity:.7;margin-left:.5em;font-size:.9em;white-space:pre}.monaco-icon-label.nowrap>.monaco-icon-label-container>.monaco-icon-description-container>.label-description{white-space:nowrap}.vs .monaco-icon-label>.monaco-icon-label-container>.monaco-icon-description-container>.label-description{opacity:.95}.monaco-icon-label.italic>.monaco-icon-label-container>.monaco-icon-description-container>.label-description,.monaco-icon-label.italic>.monaco-icon-label-container>.monaco-icon-name-container>.label-name{font-style:italic}.monaco-icon-label.deprecated{text-decoration:line-through;opacity:.66}.monaco-icon-label.italic:after{font-style:italic}.monaco-icon-label.strikethrough>.monaco-icon-label-container>.monaco-icon-description-container>.label-description,.monaco-icon-label.strikethrough>.monaco-icon-label-container>.monaco-icon-name-container>.label-name{text-decoration:line-through}.monaco-icon-label:after{opacity:.75;font-size:90%;font-weight:600;margin:auto 16px 0 5px;text-align:center}.monaco-list:focus .selected .monaco-icon-label,.monaco-list:focus .selected .monaco-icon-label:after{color:inherit!important}.monaco-list-row.focused.selected .label-description,.monaco-list-row.selected .label-description{opacity:.8}",""])},function(e,t,i){var n=i(477);(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n).locals&&(e.exports=n.locals),(0,i(28).default)("49826bdc",n,!0,{})},function(e,t,i){(e.exports=i(27)(!1)).push([e.i,'.monaco-hover{cursor:default;position:absolute;overflow:hidden;z-index:50;-moz-user-select:text;user-select:text;-webkit-user-select:text;-ms-user-select:text;box-sizing:initial;-webkit-animation:fadein .1s linear;animation:fadein .1s linear;line-height:1.5em}.monaco-hover.hidden{display:none}.monaco-hover .hover-contents:not(.html-hover-contents){padding:4px 8px}.monaco-hover .markdown-hover>.hover-contents:not(.code-hover-contents){max-width:500px;word-wrap:break-word}.monaco-hover .markdown-hover>.hover-contents:not(.code-hover-contents) hr{min-width:100%}.monaco-hover .code,.monaco-hover p,.monaco-hover ul{margin:8px 0}.monaco-hover code{font-family:var(--monaco-monospace-font)}.monaco-hover hr{box-sizing:border-box;border-left:0;border-right:0;margin:4px -8px -4px;height:1px}.monaco-hover .code:first-child,.monaco-hover p:first-child,.monaco-hover ul:first-child{margin-top:0}.monaco-hover .code:last-child,.monaco-hover p:last-child,.monaco-hover ul:last-child{margin-bottom:0}.monaco-hover ol,.monaco-hover ul{padding-left:20px}.monaco-hover li>p{margin-bottom:0}.monaco-hover li>ul{margin-top:0}.monaco-hover code{border-radius:3px;padding:0 .4em}.monaco-hover .monaco-tokenized-source{white-space:pre-wrap}.monaco-hover .hover-row.status-bar{font-size:12px;line-height:22px}.monaco-hover .hover-row.status-bar .actions{display:flex;padding:0 8px}.monaco-hover .hover-row.status-bar .actions .action-container{margin-right:16px;cursor:pointer}.monaco-hover .hover-row.status-bar .actions .action-container .action .icon{padding-right:4px}.monaco-hover .markdown-hover .hover-contents .codicon{color:inherit;font-size:inherit;vertical-align:middle}.monaco-hover .hover-contents a.code-link,.monaco-hover .hover-contents a.code-link:hover{color:inherit}.monaco-hover .hover-contents a.code-link:before{content:"("}.monaco-hover .hover-contents a.code-link:after{content:")"}.monaco-hover .hover-contents a.code-link>span{text-decoration:underline;border-bottom:1px solid transparent;text-underline-position:under}.monaco-hover .markdown-hover .hover-contents:not(.code-hover-contents):not(.html-hover-contents) span{margin-bottom:4px;display:inline-block}.monaco-hover-content .action-container a{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.monaco-hover-content .action-container.disabled{pointer-events:none;opacity:.4;cursor:default}',""])},function(e,t,i){var n=i(479);(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n).locals&&(e.exports=n.locals),(0,i(28).default)("75955693",n,!0,{})},function(e,t,i){(e.exports=i(27)(!1)).push([e.i,'.colorpicker-widget{height:190px;-moz-user-select:none;user-select:none;-webkit-user-select:none;-ms-user-select:none}.monaco-editor .colorpicker-hover:focus{outline:none}.colorpicker-header{display:flex;height:24px;position:relative;background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAYAAACp8Z5+AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAZdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuMTZEaa/1AAAAHUlEQVQYV2PYvXu3JAi7uLiAMaYAjAGTQBPYLQkAa/0Zef3qRswAAAAASUVORK5CYII=");background-size:9px 9px;-ms-interpolation-mode:nearest-neighbor;image-rendering:-moz-crisp-edges;image-rendering:pixelated}.colorpicker-header .picked-color{width:216px;display:flex;align-items:center;justify-content:center;line-height:24px;cursor:pointer;color:#fff;flex:1}.colorpicker-header .picked-color .codicon{color:inherit;font-size:14px;position:absolute;left:8px}.colorpicker-header .picked-color.light{color:#000}.colorpicker-header .original-color{width:74px;z-index:inherit;cursor:pointer}.colorpicker-body{display:flex;padding:8px;position:relative}.colorpicker-body .saturation-wrap{overflow:hidden;height:150px;position:relative;min-width:220px;flex:1}.colorpicker-body .saturation-box{height:150px;position:absolute}.colorpicker-body .saturation-selection{width:9px;height:9px;margin:-5px 0 0 -5px;border:1px solid #fff;border-radius:100%;box-shadow:0 0 2px rgba(0,0,0,.8);position:absolute}.colorpicker-body .strip{width:25px;height:150px}.colorpicker-body .hue-strip{background:linear-gradient(180deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.colorpicker-body .hue-strip,.colorpicker-body .opacity-strip{position:relative;margin-left:8px;cursor:-webkit-grab;cursor:grab}.colorpicker-body .opacity-strip{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAYAAACp8Z5+AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAZdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuMTZEaa/1AAAAHUlEQVQYV2PYvXu3JAi7uLiAMaYAjAGTQBPYLQkAa/0Zef3qRswAAAAASUVORK5CYII=");background-size:9px 9px;-ms-interpolation-mode:nearest-neighbor;image-rendering:-moz-crisp-edges;image-rendering:pixelated}.colorpicker-body .strip.grabbing{cursor:-webkit-grabbing;cursor:grabbing}.colorpicker-body .slider{position:absolute;top:0;left:-2px;width:calc(100% + 4px);height:4px;box-sizing:border-box;border:1px solid hsla(0,0%,100%,.71);box-shadow:0 0 1px rgba(0,0,0,.85)}.colorpicker-body .strip .overlay{height:150px;pointer-events:none}',""])},function(e,t){e.exports=function(e){var t;return e.webpackPolyfill||((t=Object.create(e)).children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1),t}},function(e,t,i){var n=i(482);(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n).locals&&(e.exports=n.locals),(0,i(28).default)("a8219720",n,!0,{})},function(e,t,i){(e.exports=i(27)(!1)).push([e.i,'.monaco-editor .peekview-widget .head .peekview-title .severity-icon{display:inline-block;vertical-align:text-top;margin-right:4px}.monaco-editor .marker-widget{text-overflow:ellipsis;white-space:nowrap}.monaco-editor .marker-widget>.stale{opacity:.6;font-style:italic}.monaco-editor .marker-widget .title{display:inline-block;padding-right:5px}.monaco-editor .marker-widget .descriptioncontainer{position:absolute;white-space:pre;-moz-user-select:text;user-select:text;-webkit-user-select:text;-ms-user-select:text;padding:8px 12px 0 20px}.monaco-editor .marker-widget .descriptioncontainer .message{display:flex;flex-direction:column}.monaco-editor .marker-widget .descriptioncontainer .message .details{padding-left:6px}.monaco-editor .marker-widget .descriptioncontainer .message .source,.monaco-editor .marker-widget .descriptioncontainer .message span.code{opacity:.6}.monaco-editor .marker-widget .descriptioncontainer .message a.code-link{opacity:.6;color:inherit}.monaco-editor .marker-widget .descriptioncontainer .message a.code-link:before{content:"("}.monaco-editor .marker-widget .descriptioncontainer .message a.code-link:after{content:")"}.monaco-editor .marker-widget .descriptioncontainer .message a.code-link>span{text-decoration:underline;border-bottom:1px solid transparent;text-underline-position:under}.monaco-editor .marker-widget .descriptioncontainer .filename{cursor:pointer}',""])},function(e,t,i){var n=i(484);(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n).locals&&(e.exports=n.locals),(0,i(28).default)("5dbeb09e",n,!0,{})},function(e,t,i){(e.exports=i(27)(!1)).push([e.i,".monaco-editor .snippet-placeholder{min-width:2px}.monaco-editor .finish-snippet-placeholder,.monaco-editor .snippet-placeholder{outline-style:solid;outline-width:1px}",""])},function(e,t,i){var n=i(486);(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n).locals&&(e.exports=n.locals),(0,i(28).default)("2d05a6d4",n,!0,{})},function(e,t,i){var n=i(266);(e.exports=i(27)(!1)).push([e.i,"@font-face{font-family:codicon;font-display:block;src:url("+n(i(487))+') format("truetype")}.codicon[class*=codicon-]{font:normal normal normal 16px/1 codicon;display:inline-block;text-decoration:none;text-rendering:auto;text-align:center;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;-moz-user-select:none;user-select:none;-webkit-user-select:none;-ms-user-select:none}',""])},function(e,t,i){e.exports=i.p+"fonts/codicon--codicon.ttf"},function(e,t,i){var n=i(489);(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n).locals&&(e.exports=n.locals),(0,i(28).default)("d3f85618",n,!0,{})},function(e,t,i){(e.exports=i(27)(!1)).push([e.i,".codicon-wrench-subaction{opacity:.5}@-webkit-keyframes codicon-spin{to{transform:rotate(1turn)}}@keyframes codicon-spin{to{transform:rotate(1turn)}}.codicon-gear.codicon-modifier-spin,.codicon-loading.codicon-modifier-spin,.codicon-notebook-state-executing.codicon-modifier-spin,.codicon-sync.codicon-modifier-spin{-webkit-animation:codicon-spin 1.5s steps(30) infinite;animation:codicon-spin 1.5s steps(30) infinite}.codicon-modifier-disabled{opacity:.4}.codicon-loading,.codicon-tree-item-loading:before{-webkit-animation-duration:1s!important;animation-duration:1s!important;-webkit-animation-timing-function:cubic-bezier(.53,.21,.29,.67)!important;animation-timing-function:cubic-bezier(.53,.21,.29,.67)!important}",""])},function(e,t,i){var n=i(491);(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n).locals&&(e.exports=n.locals),(0,i(28).default)("070c98ef",n,!0,{})},function(e,t,i){(e.exports=i(27)(!1)).push([e.i,'.monaco-editor .suggest-widget{width:430px;z-index:40;display:flex;flex-direction:column}.monaco-editor .suggest-widget.message{flex-direction:row;align-items:center}.monaco-editor .suggest-details,.monaco-editor .suggest-widget{flex:0 1 auto;width:100%;border-style:solid;border-width:1px}.monaco-editor.hc-black .suggest-details,.monaco-editor.hc-black .suggest-widget{border-width:2px}.monaco-editor .suggest-widget .suggest-status-bar{box-sizing:border-box;display:none;flex-flow:row nowrap;justify-content:space-between;width:100%;font-size:80%;padding:0 4px;border-top:1px solid transparent;overflow:hidden}.monaco-editor .suggest-widget.with-status-bar .suggest-status-bar{display:flex}.monaco-editor .suggest-widget .suggest-status-bar .left{padding-right:8px}.monaco-editor .suggest-widget.with-status-bar .suggest-status-bar .action-label{opacity:.5;color:inherit}.monaco-editor .suggest-widget.with-status-bar .suggest-status-bar .action-item:not(:last-of-type) .action-label{margin-right:0}.monaco-editor .suggest-widget.with-status-bar .suggest-status-bar .action-item:not(:last-of-type) .action-label:after{content:", ";margin-right:.3em}.monaco-editor .suggest-widget.with-status-bar .monaco-list .monaco-list-row.focused.string-label>.contents>.main>.right>.readMore,.monaco-editor .suggest-widget.with-status-bar .monaco-list .monaco-list-row>.contents>.main>.right>.readMore{display:none}.monaco-editor .suggest-widget.with-status-bar:not(.docs-side) .monaco-list .monaco-list-row:hover>.contents>.main>.right.can-expand-details>.details-label{width:100%}.monaco-editor .suggest-widget>.message{padding-left:22px}.monaco-editor .suggest-widget>.tree{height:100%;width:100%}.monaco-editor .suggest-widget .monaco-list{-moz-user-select:none;user-select:none;-webkit-user-select:none;-ms-user-select:none}.monaco-editor .suggest-widget .monaco-list .monaco-list-row{display:flex;-mox-box-sizing:border-box;box-sizing:border-box;padding-right:10px;background-repeat:no-repeat;background-position:2px 2px;white-space:nowrap;cursor:pointer;touch-action:none}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents{flex:1;height:100%;overflow:hidden;padding-left:2px}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main{display:flex;overflow:hidden;text-overflow:ellipsis;white-space:pre;justify-content:space-between}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.left,.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right{display:flex}.monaco-editor .suggest-widget:not(.frozen) .monaco-highlighted-label .highlight{font-weight:700}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.header>.codicon-close,.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.readMore:before{color:inherit;opacity:1;font-size:14px;cursor:pointer}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.header>.codicon-close{position:absolute;top:6px;right:2px}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.header>.codicon-close:hover,.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.readMore:hover{opacity:1}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.details-label{opacity:.7}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.left>.signature-label{overflow:hidden;text-overflow:ellipsis;opacity:.6}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.left>.qualifier-label{margin-left:12px;opacity:.4;font-size:85%;line-height:normal;text-overflow:ellipsis;overflow:hidden;align-self:center}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.details-label{font-size:85%;margin-left:1.1em;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.details-label>.monaco-tokenized-source{display:inline}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.details-label{display:none}.monaco-editor .suggest-widget.docs-side .monaco-list .monaco-list-row.focused:not(.string-label)>.contents>.main>.right>.details-label,.monaco-editor .suggest-widget .monaco-list .monaco-list-row:not(.string-label)>.contents>.main>.right>.details-label,.monaco-editor .suggest-widget:not(.shows-details) .monaco-list .monaco-list-row.focused>.contents>.main>.right>.details-label{display:inline}.monaco-editor .suggest-widget:not(.docs-side) .monaco-list .monaco-list-row:hover>.contents>.main>.right.can-expand-details>.details-label{width:calc(100% - 26px)}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.left{flex-shrink:1;flex-grow:1;overflow:hidden}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.left>.monaco-icon-label{flex-shrink:0}.monaco-editor .suggest-widget .monaco-list .monaco-list-row:not(.string-label)>.contents>.main>.left>.monaco-icon-label{max-width:100%}.monaco-editor .suggest-widget .monaco-list .monaco-list-row.string-label>.contents>.main>.left>.monaco-icon-label{flex-shrink:1}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right{overflow:hidden;flex-shrink:4;max-width:70%}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.readMore{display:inline-block;position:absolute;right:10px;width:18px;height:18px;visibility:hidden}.monaco-editor .suggest-widget.docs-below .monaco-list .monaco-list-row>.contents>.main>.right>.readMore,.monaco-editor .suggest-widget.docs-side .monaco-list .monaco-list-row>.contents>.main>.right>.readMore{display:none!important}.monaco-editor .suggest-widget .monaco-list .monaco-list-row.string-label>.contents>.main>.right>.readMore{display:none}.monaco-editor .suggest-widget .monaco-list .monaco-list-row.focused.string-label>.contents>.main>.right>.readMore{display:inline-block}.monaco-editor .suggest-widget.docs-below .monaco-list .monaco-list-row>.contents>.main>.right>.readMore,.monaco-editor .suggest-widget.docs-side .monaco-list .monaco-list-row>.contents>.main>.right>.readMore{display:none}.monaco-editor .suggest-widget .monaco-list .monaco-list-row:hover>.contents>.main>.right>.readMore{visibility:visible}.monaco-editor .suggest-widget .monaco-list .monaco-list-row .monaco-icon-label.deprecated{opacity:.66;text-decoration:unset}.monaco-editor .suggest-widget .monaco-list .monaco-list-row .monaco-icon-label.deprecated>.monaco-icon-label-container>.monaco-icon-name-container{text-decoration:line-through}.monaco-editor .suggest-widget .monaco-list .monaco-list-row .monaco-icon-label:before{height:100%}.monaco-editor .suggest-widget .monaco-list .monaco-list-row .icon{display:block;height:16px;width:16px;margin-left:2px;background-repeat:no-repeat;background-size:80%;background-position:50%}.monaco-editor .suggest-widget .monaco-list .monaco-list-row .icon.hide{display:none}.monaco-editor .suggest-widget .monaco-list .monaco-list-row .suggest-icon{display:flex;align-items:center;margin-right:4px}.monaco-editor .suggest-widget.no-icons .monaco-list .monaco-list-row .icon,.monaco-editor .suggest-widget.no-icons .monaco-list .monaco-list-row .suggest-icon:before{display:none}.monaco-editor .suggest-widget .monaco-list .monaco-list-row .icon.customcolor .colorspan{margin:0 0 0 .3em;border:.1em solid #000;width:.7em;height:.7em;display:inline-block}.monaco-editor .suggest-details-container{z-index:41}.monaco-editor .suggest-details{display:flex;flex-direction:column;cursor:default}.monaco-editor .suggest-details.no-docs{display:none}.monaco-editor .suggest-details>.monaco-scrollable-element{flex:1}.monaco-editor .suggest-details>.monaco-scrollable-element>.body{box-sizing:border-box;height:100%;width:100%}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.header>.type{flex:2;overflow:hidden;text-overflow:ellipsis;opacity:.7;white-space:pre;margin:0 24px 0 0;padding:4px 0 12px 5px}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.header>.type.auto-wrap{white-space:normal;word-break:break-all}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs{margin:0;padding:4px 5px;white-space:pre-wrap}.monaco-editor .suggest-details.no-type>.monaco-scrollable-element>.body>.docs{margin-right:24px}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs{padding:0;white-space:normal;min-height:calc(1rem + 8px)}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs>div,.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs>span:not(:empty){padding:4px 5px}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs>div>p:first-child{margin-top:0}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs>div>p:last-child{margin-bottom:0}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs .monaco-tokenized-source{white-space:pre}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs .code{white-space:pre-wrap;word-wrap:break-word}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs .codicon{vertical-align:sub}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>p:empty{display:none}.monaco-editor .suggest-details code{border-radius:3px;padding:0 .4em}.monaco-editor .suggest-details ol,.monaco-editor .suggest-details ul{padding-left:20px}.monaco-editor .suggest-details p code{font-family:var(--monaco-monospace-font)}',""])},function(e,t,i){var n=i(493);(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n).locals&&(e.exports=n.locals),(0,i(28).default)("4b944640",n,!0,{})},function(e,t,i){(e.exports=i(27)(!1)).push([e.i,".monaco-editor .suggest-preview-additional-widget{white-space:nowrap}.monaco-editor .suggest-preview-additional-widget .content-spacer{color:transparent;white-space:pre}.monaco-editor .suggest-preview-additional-widget .button{display:inline-block;cursor:pointer;text-decoration:underline;text-underline-position:under}.monaco-editor .ghost-text-hidden{opacity:0;font-size:0}.monaco-editor .ghost-text-decoration,.monaco-editor .suggest-preview-text{font-style:italic}",""])},function(e,t,i){"use strict";i.r(t),i.d(t,"ContextMenuController",(function(){return f}));var n=i(1),o=i(141),r=i(65),s=i(2),a=i(15),l=i(5),c=i(8),d=i(0),h=i(32),u=i(10),g=i(106),p=i(58);t=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;0<=a;a--)(o=e[a])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s},i=function(e,t){return function(i,n){t(i,n,e)}};let f=class e{constructor(e,t,i,o,r,a){this._contextMenuService=t,this._contextViewService=i,this._contextKeyService=o,this._keybindingService=r,this._menuService=a,this._toDispose=new s.b,this._contextMenuIsBeingShownCount=0,this._editor=e,this._toDispose.add(this._editor.onContextMenu(e=>this._onContextMenu(e))),this._toDispose.add(this._editor.onMouseWheel(e=>{var t;0<this._contextMenuIsBeingShownCount&&(t=this._contextViewService.getContextViewElement(),(e=e.srcElement).shadowRoot&&n.F(t)===e.shadowRoot||this._contextViewService.hideContextView())})),this._toDispose.add(this._editor.onKeyDown(e=>{58===e.keyCode&&(e.preventDefault(),e.stopPropagation(),this.showContextMenu())}))}static get(t){return t.getContribution(e.ID)}_onContextMenu(e){if(this._editor.hasModel()){if(!this._editor.getOption(20))return this._editor.focus(),void(e.target.position&&!this._editor.getSelection().containsPosition(e.target.position)&&this._editor.setPosition(e.target.position));if(12!==e.target.type&&(e.event.preventDefault(),e.event.stopPropagation(),6===e.target.type||7===e.target.type||1===e.target.type)){if(this._editor.focus(),e.target.position){let t=!1;for(const i of this._editor.getSelections())if(i.containsPosition(e.target.position)){t=!0;break}t||this._editor.setPosition(e.target.position)}let t=null;1!==e.target.type&&(t={x:e.event.posx-1,width:2,y:e.event.posy-1,height:2}),this.showContextMenu(t)}}}showContextMenu(e){var t;this._editor.getOption(20)&&this._editor.hasModel()&&(this._contextMenuService?0<(t=this._getMenuActions(this._editor.getModel(),this._editor.isSimpleWidget?h.b.SimpleEditorContext:h.b.EditorContext)).length&&this._doShowContextMenu(t,e):this._editor.focus())}_getMenuActions(e,t){const i=[],n=this._menuService.createMenu(t,this._contextKeyService);var o;t=n.getActions({arg:e.uri});for(o of(n.dispose(),t)){var s,[,a]=o;let t=0;for(const n of a)n instanceof h.e?0<(s=this._getMenuActions(e,n.item.submenu)).length&&(i.push(new r.e(n.id,n.label,s)),t++):(i.push(n),t++);t&&i.push(new r.d)}return i.length&&i.pop(),i}_doShowContextMenu(e,t=null){if(this._editor.hasModel()){const l=this._editor.getOption(52);var i,r;this._editor.updateOptions({hover:{enabled:!1}}),t||(this._editor.revealPosition(this._editor.getPosition(),1),this._editor.render(),s=this._editor.getScrolledVisiblePosition(this._editor.getPosition()),r=(i=n.D(this._editor.getDomNode())).left+s.left,s=i.top+s.top+s.height,t={x:r,y:s});var s=this._editor.getOption(113)&&!a.c;this._contextMenuIsBeingShownCount++,this._contextMenuService.showContextMenu({domForShadowRoot:s?this._editor.getDomNode():void 0,getAnchor:()=>t,getActions:()=>e,getActionViewItem:e=>{const t=this._keybindingFor(e);if(t)return new o.a(e,e,{label:!0,keybinding:t.getLabel(),isMenu:!0});const i=e;return"function"==typeof i.getActionViewItem?i.getActionViewItem():new o.a(e,e,{icon:!0,label:!0,isMenu:!0})},getKeyBinding:e=>this._keybindingFor(e),onHide:e=>{this._contextMenuIsBeingShownCount--,this._editor.focus(),this._editor.updateOptions({hover:l})}})}}_keybindingFor(e){return this._keybindingService.lookupKeybinding(e.id)}dispose(){0<this._contextMenuIsBeingShownCount&&this._contextViewService.hideContextView(),this._toDispose.dispose()}};f.ID="editor.contrib.contextmenu",f=t([i(1,g.a),i(2,g.b),i(3,u.b),i(4,p.a),i(5,h.a)],f);class m extends l.b{constructor(){super({id:"editor.action.showContextMenu",label:d.a("action.showContextMenu.label","Show Editor Context Menu"),alias:"Show Editor Context Menu",precondition:void 0,kbOpts:{kbExpr:c.a.textInputFocus,primary:1092,weight:100}})}run(e,t){f.get(t).showContextMenu()}}Object(l.l)(f.ID,f),Object(l.j)(m)},function(e,t,i){"use strict";i.r(t),i.d(t,"CursorUndoRedoController",(function(){return l})),i.d(t,"CursorUndo",(function(){return c})),i.d(t,"CursorRedo",(function(){return d}));var n=i(2),o=(t=i(5),i(8)),r=i(0);class s{constructor(e){this.selections=e}equals(e){var t=this.selections.length;if(t!==e.selections.length)return!1;for(let i=0;i<t;i++)if(!this.selections[i].equalsSelection(e.selections[i]))return!1;return!0}}class a{constructor(e,t,i){this.cursorState=e,this.scrollTop=t,this.scrollLeft=i}}class l extends n.a{constructor(e){super(),this._editor=e,this._isCursorUndoRedo=!1,this._undoStack=[],this._redoStack=[],this._register(e.onDidChangeModel(e=>{this._undoStack=[],this._redoStack=[]})),this._register(e.onDidChangeModelContent(e=>{this._undoStack=[],this._redoStack=[]})),this._register(e.onDidChangeCursorSelection(t=>{this._isCursorUndoRedo||t.oldSelections&&t.oldModelVersionId===t.modelVersionId&&(t=new s(t.oldSelections),0<this._undoStack.length&&this._undoStack[this._undoStack.length-1].cursorState.equals(t)||(this._undoStack.push(new a(t,e.getScrollTop(),e.getScrollLeft())),this._redoStack=[],50<this._undoStack.length&&this._undoStack.shift()))}))}static get(e){return e.getContribution(l.ID)}cursorUndo(){this._editor.hasModel()&&0!==this._undoStack.length&&(this._redoStack.push(new a(new s(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._undoStack.pop()))}cursorRedo(){this._editor.hasModel()&&0!==this._redoStack.length&&(this._undoStack.push(new a(new s(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._redoStack.pop()))}_applyState(e){this._isCursorUndoRedo=!0,this._editor.setSelections(e.cursorState.selections),this._editor.setScrollPosition({scrollTop:e.scrollTop,scrollLeft:e.scrollLeft}),this._isCursorUndoRedo=!1}}l.ID="editor.contrib.cursorUndoRedoController";class c extends t.b{constructor(){super({id:"cursorUndo",label:r.a("cursor.undo","Cursor Undo"),alias:"Cursor Undo",precondition:void 0,kbOpts:{kbExpr:o.a.textInputFocus,primary:2099,weight:100}})}run(e,t,i){l.get(t).cursorUndo()}}class d extends t.b{constructor(){super({id:"cursorRedo",label:r.a("cursor.redo","Cursor Redo"),alias:"Cursor Redo",precondition:void 0})}run(e,t,i){l.get(t).cursorRedo()}}Object(t.l)(l.ID,l),Object(t.j)(c),Object(t.j)(d)},function(e,t,i){var n=i(497);(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n).locals&&(e.exports=n.locals),(0,i(28).default)("1a338c3c",n,!0,{})},function(e,t,i){(e.exports=i(27)(!1)).push([e.i,".monaco-editor.vs .dnd-target{border-right:2px dotted #000;color:#fff}.monaco-editor.vs-dark .dnd-target{border-right:2px dotted #aeafad;color:#51504f}.monaco-editor.hc-black .dnd-target{border-right:2px dotted #fff;color:#000}.monaco-editor.hc-black.mac.mouse-default .view-lines,.monaco-editor.mouse-default .view-lines,.monaco-editor.vs-dark.mac.mouse-default .view-lines{cursor:default}.monaco-editor.hc-black.mac.mouse-copy .view-lines,.monaco-editor.mouse-copy .view-lines,.monaco-editor.vs-dark.mac.mouse-copy .view-lines{cursor:copy}",""])},function(e,t,i){"use strict";i.r(t),i.d(t,"getDocumentSymbols",(function(){return d}));var n=i(38),o=i(19),r=i(35),s=i(70),a=i(110),l=i(260),c=(i=i(36),function(e,t,i,n){return new(i=i||Promise)((function(o,r){function s(e){try{l(n.next(e))}catch(e){r(e)}}function a(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):((t=e.value)instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))});function d(e,t,i){return c(this,void 0,void 0,(function*(){const n=yield l.a.create(e,i);return t?n.asListOfDocumentSymbols():n.getTopLevelSymbols()}))}i.a.registerCommand("_executeDocumentSymbolProvider",(function(e,...t){return c(this,void 0,void 0,(function*(){var[i]=t;Object(o.c)(r.a.isUri(i));var l=e.get(s.a).getModel(i);if(l)return d(l,!1,n.a.None);const c=yield e.get(a.a).createModelReference(i);try{return yield d(c.object.textEditorModel,!1,n.a.None)}finally{c.dispose()}}))}))},function(e,t,i){var n=i(500);(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n).locals&&(e.exports=n.locals),(0,i(28).default)("10451385",n,!0,{})},function(e,t,i){(e.exports=i(27)(!1)).push([e.i,".monaco-custom-checkbox{margin-left:2px;float:left;cursor:pointer;overflow:hidden;opacity:.7;width:20px;height:20px;border:1px solid transparent;padding:1px;box-sizing:border-box;-moz-user-select:none;user-select:none;-webkit-user-select:none;-ms-user-select:none}.monaco-custom-checkbox.checked,.monaco-custom-checkbox:hover{opacity:1}.hc-black .monaco-custom-checkbox,.hc-black .monaco-custom-checkbox:hover{background:none}.monaco-custom-checkbox.monaco-simple-checkbox{height:18px;width:18px;border:1px solid transparent;border-radius:3px;margin-right:9px;margin-left:0;padding:0;opacity:1;background-size:16px!important}.monaco-custom-checkbox.monaco-simple-checkbox:not(.checked):before{visibility:hidden}",""])},function(e,t,i){var n=i(502);(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n).locals&&(e.exports=n.locals),(0,i(28).default)("97c58c5a",n,!0,{})},function(e,t,i){(e.exports=i(27)(!1)).push([e.i,".monaco-editor .find-widget{position:absolute;z-index:35;height:33px;overflow:hidden;line-height:19px;transition:transform .2s linear;padding:0 4px;box-sizing:border-box;transform:translateY(calc(-100% - 10px))}.monaco-editor .find-widget textarea{margin:0}.monaco-editor .find-widget.hiddenEditor{display:none}.monaco-editor .find-widget.replaceToggled>.replace-part{display:flex}.monaco-editor .find-widget.visible{transform:translateY(0)}.monaco-editor .find-widget .monaco-inputbox.synthetic-focus{outline:1px solid -webkit-focus-ring-color;outline-offset:-1px}.monaco-editor .find-widget .monaco-inputbox .input{background-color:transparent;min-height:0}.monaco-editor .find-widget .monaco-findInput .input{font-size:13px}.monaco-editor .find-widget>.find-part,.monaco-editor .find-widget>.replace-part{margin:4px 0 0 17px;font-size:12px;display:flex}.monaco-editor .find-widget>.find-part .monaco-inputbox,.monaco-editor .find-widget>.replace-part .monaco-inputbox{min-height:25px}.monaco-editor .find-widget>.replace-part .monaco-inputbox>.ibwrapper>.mirror{padding-right:22px}.monaco-editor .find-widget>.find-part .monaco-inputbox>.ibwrapper>.input,.monaco-editor .find-widget>.find-part .monaco-inputbox>.ibwrapper>.mirror,.monaco-editor .find-widget>.replace-part .monaco-inputbox>.ibwrapper>.input,.monaco-editor .find-widget>.replace-part .monaco-inputbox>.ibwrapper>.mirror{padding-top:2px;padding-bottom:2px}.monaco-editor .find-widget>.find-part .find-actions,.monaco-editor .find-widget>.replace-part .replace-actions{height:25px;display:flex;align-items:center}.monaco-editor .find-widget .monaco-findInput{vertical-align:middle;display:flex;flex:1}.monaco-editor .find-widget .monaco-findInput .monaco-scrollable-element{width:100%}.monaco-editor .find-widget .monaco-findInput .monaco-scrollable-element .scrollbar.vertical{opacity:0}.monaco-editor .find-widget .matchesCount{display:flex;flex:initial;margin:0 0 0 3px;padding:2px 0 0 2px;height:25px;vertical-align:middle;box-sizing:border-box;text-align:center;line-height:23px}.monaco-editor .find-widget .button{width:16px;height:16px;padding:3px;border-radius:5px;flex:initial;margin-left:3px;background-position:50%;background-repeat:no-repeat;cursor:pointer;display:flex;align-items:center;justify-content:center}.monaco-editor .find-widget .codicon-find-selection{width:22px;height:22px;padding:3px;border-radius:5px}.monaco-editor .find-widget .button.left{margin-left:0;margin-right:3px}.monaco-editor .find-widget .button.wide{width:auto;padding:1px 6px;top:-1px}.monaco-editor .find-widget .button.toggle{position:absolute;top:0;left:3px;width:18px;height:100%;border-radius:0;box-sizing:border-box}.monaco-editor .find-widget .button.toggle.disabled{display:none}.monaco-editor .find-widget .disabled{opacity:.3;cursor:default}.monaco-editor .find-widget>.replace-part{display:none}.monaco-editor .find-widget>.replace-part>.monaco-findInput{position:relative;display:flex;vertical-align:middle;flex:auto;flex-grow:0;flex-shrink:0}.monaco-editor .find-widget>.replace-part>.monaco-findInput>.controls{position:absolute;top:3px;right:2px}.monaco-editor .find-widget.reduced-find-widget .matchesCount{display:none}.monaco-editor .find-widget.narrow-find-widget{max-width:257px!important}.monaco-editor .find-widget.collapsed-find-widget{max-width:170px!important}.monaco-editor .find-widget.collapsed-find-widget .button.next,.monaco-editor .find-widget.collapsed-find-widget .button.previous,.monaco-editor .find-widget.collapsed-find-widget .button.replace,.monaco-editor .find-widget.collapsed-find-widget .button.replace-all,.monaco-editor .find-widget.collapsed-find-widget>.find-part .monaco-findInput .controls{display:none}.monaco-editor .findMatch{-webkit-animation-duration:0;animation-duration:0;-webkit-animation-name:inherit!important;animation-name:inherit!important}.monaco-editor .find-widget .monaco-sash{left:0!important}.monaco-editor.hc-black .find-widget .button:before{position:relative;top:1px;left:2px}",""])},function(e,t,i){var n=i(504);(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n).locals&&(e.exports=n.locals),(0,i(28).default)("ca8a80fa",n,!0,{})},function(e,t,i){(e.exports=i(27)(!1)).push([e.i,".monaco-inputbox{position:relative;display:block;padding:0;box-sizing:border-box;font-size:inherit}.monaco-inputbox.idle{border:1px solid transparent}.monaco-inputbox>.ibwrapper>.input,.monaco-inputbox>.ibwrapper>.mirror{padding:4px}.monaco-inputbox>.ibwrapper{position:relative;width:100%;height:100%}.monaco-inputbox>.ibwrapper>.input{display:inline-block;box-sizing:border-box;width:100%;height:100%;line-height:inherit;border:none;font-family:inherit;font-size:inherit;resize:none;color:inherit}.monaco-inputbox>.ibwrapper>input{text-overflow:ellipsis}.monaco-inputbox>.ibwrapper>textarea.input{display:block;-ms-overflow-style:none;scrollbar-width:none;outline:none}.monaco-inputbox>.ibwrapper>textarea.input::-webkit-scrollbar{display:none}.monaco-inputbox>.ibwrapper>textarea.input.empty{white-space:nowrap}.monaco-inputbox>.ibwrapper>.mirror{position:absolute;display:inline-block;width:100%;top:0;left:0;box-sizing:border-box;white-space:pre-wrap;visibility:hidden;word-wrap:break-word}.monaco-inputbox-container{text-align:right}.monaco-inputbox-container .monaco-inputbox-message{display:inline-block;overflow:hidden;text-align:left;width:100%;box-sizing:border-box;padding:.4em;font-size:12px;line-height:17px;margin-top:-1px;word-wrap:break-word}.monaco-inputbox .monaco-action-bar{position:absolute;right:2px;top:4px}.monaco-inputbox .monaco-action-bar .action-item{margin-left:2px}.monaco-inputbox .monaco-action-bar .action-item .codicon{background-repeat:no-repeat;width:16px;height:16px}",""])},function(e,t,i){(e.exports=i(27)(!1)).push([e.i,".monaco-findInput{position:relative}.monaco-findInput .monaco-inputbox{font-size:13px;width:100%}.monaco-findInput>.controls{position:absolute;top:3px;right:2px}.vs .monaco-findInput.disabled{background-color:#e1e1e1}.vs-dark .monaco-findInput.disabled{background-color:#333}.monaco-findInput.highlight-0 .controls{-webkit-animation:monaco-findInput-highlight-0 .1s linear 0s;animation:monaco-findInput-highlight-0 .1s linear 0s}.monaco-findInput.highlight-1 .controls{-webkit-animation:monaco-findInput-highlight-1 .1s linear 0s;animation:monaco-findInput-highlight-1 .1s linear 0s}.hc-black .monaco-findInput.highlight-0 .controls,.vs-dark .monaco-findInput.highlight-0 .controls{-webkit-animation:monaco-findInput-highlight-dark-0 .1s linear 0s;animation:monaco-findInput-highlight-dark-0 .1s linear 0s}.hc-black .monaco-findInput.highlight-1 .controls,.vs-dark .monaco-findInput.highlight-1 .controls{-webkit-animation:monaco-findInput-highlight-dark-1 .1s linear 0s;animation:monaco-findInput-highlight-dark-1 .1s linear 0s}@-webkit-keyframes monaco-findInput-highlight-0{0%{background:rgba(253,255,0,.8)}to{background:transparent}}@keyframes monaco-findInput-highlight-0{0%{background:rgba(253,255,0,.8)}to{background:transparent}}@-webkit-keyframes monaco-findInput-highlight-1{0%{background:rgba(253,255,0,.8)}99%{background:transparent}}@keyframes monaco-findInput-highlight-1{0%{background:rgba(253,255,0,.8)}99%{background:transparent}}@-webkit-keyframes monaco-findInput-highlight-dark-0{0%{background:hsla(0,0%,100%,.44)}to{background:transparent}}@keyframes monaco-findInput-highlight-dark-0{0%{background:hsla(0,0%,100%,.44)}to{background:transparent}}@-webkit-keyframes monaco-findInput-highlight-dark-1{0%{background:hsla(0,0%,100%,.44)}99%{background:transparent}}@keyframes monaco-findInput-highlight-dark-1{0%{background:hsla(0,0%,100%,.44)}99%{background:transparent}}",""])},function(e,t,i){var n=i(507);(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n).locals&&(e.exports=n.locals),(0,i(28).default)("7e248c03",n,!0,{})},function(e,t,i){(e.exports=i(27)(!1)).push([e.i,'.monaco-editor .margin-view-overlays .codicon-folding-collapsed,.monaco-editor .margin-view-overlays .codicon-folding-expanded{cursor:pointer;opacity:0;transition:opacity .5s;display:flex;align-items:center;justify-content:center;font-size:140%;margin-left:2px}.monaco-editor .margin-view-overlays .codicon.alwaysShowFoldIcons,.monaco-editor .margin-view-overlays .codicon.codicon-folding-collapsed,.monaco-editor .margin-view-overlays:hover .codicon{opacity:1}.monaco-editor .inline-folded:after{color:grey;margin:.1em .2em 0;content:"\\22EF";display:inline;line-height:1em;cursor:pointer}',""])},function(e,t,i){"use strict";i.r(t);t=i(5);var n=i(164),o=i(0);class r extends t.b{constructor(){super({id:"editor.action.fontZoomIn",label:o.a("EditorFontZoomIn.label","Editor Font Zoom In"),alias:"Editor Font Zoom In",precondition:void 0})}run(e,t){n.a.setZoomLevel(n.a.getZoomLevel()+1)}}class s extends t.b{constructor(){super({id:"editor.action.fontZoomOut",label:o.a("EditorFontZoomOut.label","Editor Font Zoom Out"),alias:"Editor Font Zoom Out",precondition:void 0})}run(e,t){n.a.setZoomLevel(n.a.getZoomLevel()-1)}}class a extends t.b{constructor(){super({id:"editor.action.fontZoomReset",label:o.a("EditorFontZoomReset.label","Editor Font Zoom Reset"),alias:"Editor Font Zoom Reset",precondition:void 0})}run(e,t){n.a.setZoomLevel(0)}}Object(t.j)(r),Object(t.j)(s),Object(t.j)(a)},function(e,t,i){"use strict";i.r(t);var n=i(22),o=i(38),r=i(17),s=i(71),a=i(2),l=i(5),c=i(46),d=i(149),h=i(3),u=i(8),g=i(11),p=i(121),f=i(201),m=i(242),v=i(0),b=i(36),_=i(10),w=i(21),C=i(102),y=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;0<=a;a--)(o=e[a])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s},x=(t=function(e,t){return function(i,n){t(i,n,e)}},function(e,t,i,n){return new(i=i||Promise)((function(o,r){function s(e){try{l(n.next(e))}catch(e){r(e)}}function a(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):((t=e.value)instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))});(i=class{constructor(e,t){this._workerService=t,this._callOnDispose=new a.b,this._callOnModel=new a.b,this._editor=e,this._callOnDispose.add(e.onDidChangeConfiguration(()=>this._update())),this._callOnDispose.add(e.onDidChangeModel(()=>this._update())),this._callOnDispose.add(e.onDidChangeModelLanguage(()=>this._update())),this._callOnDispose.add(g.x.onDidChange(this._update,this))}dispose(){this._callOnDispose.dispose(),this._callOnModel.dispose()}_update(){if(this._callOnModel.clear(),this._editor.getOption(48)&&this._editor.hasModel()){var e=this._editor.getModel(),[e]=g.x.ordered(e);if(e&&e.autoFormatTriggerCharacters){let i=new d.b;for(var t of e.autoFormatTriggerCharacters)i.add(t.charCodeAt(0));this._callOnModel.add(this._editor.onDidType(e=>{e=e.charCodeAt(e.length-1),i.has(e)&&this._trigger(String.fromCharCode(e))}))}}}_trigger(e){if(this._editor.hasModel()&&!(1<this._editor.getSelections().length)&&this._editor.getSelection().isEmpty()){const t=this._editor.getModel(),i=this._editor.getPosition();let o=!1;const r=this._editor.onDidChangeModelContent(e=>{if(e.isFlush)return o=!0,void r.dispose();for(let t=0,n=e.changes.length;t<n;t++)if(e.changes[t].range.endLineNumber<=i.lineNumber)return o=!0,void r.dispose()});Object(f.e)(this._workerService,t,i,e,t.getFormattingOptions()).then(e=>{r.dispose(),o||Object(n.n)(e)&&(m.a.execute(this._editor,e,!0),Object(f.b)(e))},e=>{throw r.dispose(),e})}}}).ID="editor.contrib.autoFormat",i=y([t(1,p.a)],i),(p=class{constructor(e,t){this.editor=e,this._instantiationService=t,this._callOnDispose=new a.b,this._callOnModel=new a.b,this._callOnDispose.add(e.onDidChangeConfiguration(()=>this._update())),this._callOnDispose.add(e.onDidChangeModel(()=>this._update())),this._callOnDispose.add(e.onDidChangeModelLanguage(()=>this._update())),this._callOnDispose.add(g.j.onDidChange(this._update,this))}dispose(){this._callOnDispose.dispose(),this._callOnModel.dispose()}_update(){this._callOnModel.clear(),this.editor.getOption(47)&&this.editor.hasModel()&&g.j.has(this.editor.getModel())&&this._callOnModel.add(this.editor.onDidPaste(({range:e})=>this._trigger(e)))}_trigger(e){this.editor.hasModel()&&(1<this.editor.getSelections().length||this._instantiationService.invokeFunction(f.c,this.editor,e,2,C.b.None,o.a.None).catch(r.f))}}).ID="editor.contrib.formatOnPaste",p=y([t(1,w.a)],p);class S extends l.b{constructor(){super({id:"editor.action.formatDocument",label:v.a("formatDocument.label","Format Document"),alias:"Format Document",precondition:_.a.and(u.a.notInCompositeEditor,u.a.writable,u.a.hasDocumentFormattingProvider),kbOpts:{kbExpr:u.a.editorTextFocus,primary:1572,linux:{primary:3111},weight:100},contextMenuOpts:{group:"1_modification",order:1.3}})}run(e,t){return x(this,void 0,void 0,(function*(){if(t.hasModel()){const i=e.get(w.a),n=e.get(C.a);yield n.showWhile(i.invokeFunction(f.d,t,1,C.b.None,o.a.None),250)}}))}}class k extends l.b{constructor(){super({id:"editor.action.formatSelection",label:v.a("formatSelection.label","Format Selection"),alias:"Format Selection",precondition:_.a.and(u.a.writable,u.a.hasDocumentSelectionFormattingProvider),kbOpts:{kbExpr:u.a.editorTextFocus,primary:Object(s.c)(2089,2084),weight:100},contextMenuOpts:{when:u.a.hasNonEmptySelection,group:"1_modification",order:1.31}})}run(e,t){return x(this,void 0,void 0,(function*(){if(t.hasModel()){const n=e.get(w.a),r=t.getModel();var i=t.getSelections().map(e=>e.isEmpty()?new h.a(e.startLineNumber,1,e.startLineNumber,r.getLineMaxColumn(e.startLineNumber)):e);const s=e.get(C.a);yield s.showWhile(n.invokeFunction(f.c,t,i,1,C.b.None,o.a.None),250)}}))}}Object(l.l)(i.ID,i),Object(l.l)(p.ID,p),Object(l.j)(S),Object(l.j)(k),b.a.registerCommand("editor.action.format",e=>x(void 0,void 0,void 0,(function*(){const t=e.get(c.a).getFocusedCodeEditor();if(t&&t.hasModel()){const i=e.get(b.b);t.getSelection().isEmpty()?yield i.executeCommand("editor.action.formatDocument"):yield i.executeCommand("editor.action.formatSelection")}})))},function(e,t,i){"use strict";i.r(t),i.d(t,"IPadShowKeyboard",(function(){return s})),i(511);var n=i(1),o=(t=i(2),i(5)),r=i(15);class s extends t.a{constructor(e){super(),this.editor=e,this.widget=null,r.c&&(this._register(e.onDidChangeConfiguration(()=>this.update())),this.update())}update(){var e=!this.editor.getOption(80);!this.widget&&e?this.widget=new a(this.editor):this.widget&&!e&&(this.widget.dispose(),this.widget=null)}dispose(){super.dispose(),this.widget&&(this.widget.dispose(),this.widget=null)}}s.ID="editor.contrib.iPadShowKeyboard";class a extends t.a{constructor(e){super(),this.editor=e,this._domNode=document.createElement("textarea"),this._domNode.className="iPadShowKeyboard",this._register(n.i(this._domNode,"touchstart",e=>{this.editor.focus()})),this._register(n.i(this._domNode,"focus",e=>{this.editor.focus()})),this.editor.addOverlayWidget(this)}dispose(){this.editor.removeOverlayWidget(this),super.dispose()}getId(){return a.ID}getDomNode(){return this._domNode}getPosition(){return{preference:1}}}a.ID="editor.contrib.ShowKeyboardWidget",Object(o.l)(s.ID,s)},function(e,t,i){var n=i(512);(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n).locals&&(e.exports=n.locals),(0,i(28).default)("7df830d2",n,!0,{})},function(e,t,i){(e.exports=i(27)(!1)).push([e.i,'.monaco-editor .iPadShowKeyboard{width:58px;min-width:0;height:36px;min-height:0;margin:0;padding:0;position:absolute;resize:none;overflow:hidden;background:url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTMiIGhlaWdodD0iMzYiIHZpZXdCb3g9IjAgMCA1MyAzNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgY2xpcC1wYXRoPSJ1cmwoI2NsaXAwKSI+CjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNNDguMDM2NCA0LjAxMDQySDQuMDA3NzlMNC4wMDc3OSAzMi4wMjg2SDQ4LjAzNjRWNC4wMTA0MlpNNC4wMDc3OSAwLjAwNzgxMjVDMS43OTcyMSAwLjAwNzgxMjUgMC4wMDUxODc5OSAxLjc5OTg0IDAuMDA1MTg3OTkgNC4wMTA0MlYzMi4wMjg2QzAuMDA1MTg3OTkgMzQuMjM5MiAxLjc5NzIxIDM2LjAzMTIgNC4wMDc3OSAzNi4wMzEySDQ4LjAzNjRDNTAuMjQ3IDM2LjAzMTIgNTIuMDM5IDM0LjIzOTIgNTIuMDM5IDMyLjAyODZWNC4wMTA0MkM1Mi4wMzkgMS43OTk4NCA1MC4yNDcgMC4wMDc4MTI1IDQ4LjAzNjQgMC4wMDc4MTI1SDQuMDA3NzlaTTguMDEwNDIgOC4wMTMwMkgxMi4wMTNWMTIuMDE1Nkg4LjAxMDQyVjguMDEzMDJaTTIwLjAxODIgOC4wMTMwMkgxNi4wMTU2VjEyLjAxNTZIMjAuMDE4MlY4LjAxMzAyWk0yNC4wMjA4IDguMDEzMDJIMjguMDIzNFYxMi4wMTU2SDI0LjAyMDhWOC4wMTMwMlpNMzYuMDI4NiA4LjAxMzAySDMyLjAyNlYxMi4wMTU2SDM2LjAyODZWOC4wMTMwMlpNNDAuMDMxMiA4LjAxMzAySDQ0LjAzMzlWMTIuMDE1Nkg0MC4wMzEyVjguMDEzMDJaTTE2LjAxNTYgMTYuMDE4Mkg4LjAxMDQyVjIwLjAyMDhIMTYuMDE1NlYxNi4wMTgyWk0yMC4wMTgyIDE2LjAxODJIMjQuMDIwOFYyMC4wMjA4SDIwLjAxODJWMTYuMDE4MlpNMzIuMDI2IDE2LjAxODJIMjguMDIzNFYyMC4wMjA4SDMyLjAyNlYxNi4wMTgyWk00NC4wMzM5IDE2LjAxODJWMjAuMDIwOEgzNi4wMjg2VjE2LjAxODJINDQuMDMzOVpNMTIuMDEzIDI0LjAyMzRIOC4wMTA0MlYyOC4wMjZIMTIuMDEzVjI0LjAyMzRaTTE2LjAxNTYgMjQuMDIzNEgzNi4wMjg2VjI4LjAyNkgxNi4wMTU2VjI0LjAyMzRaTTQ0LjAzMzkgMjQuMDIzNEg0MC4wMzEyVjI4LjAyNkg0NC4wMzM5VjI0LjAyMzRaIiBmaWxsPSIjNDI0MjQyIi8+CjwvZz4KPGRlZnM+CjxjbGlwUGF0aCBpZD0iY2xpcDAiPgo8cmVjdCB3aWR0aD0iNTMiIGhlaWdodD0iMzYiIGZpbGw9IndoaXRlIi8+CjwvY2xpcFBhdGg+CjwvZGVmcz4KPC9zdmc+Cg==") 50% no-repeat;border:4px solid #f6f6f6;border-radius:4px}.monaco-editor.vs-dark .iPadShowKeyboard{background:url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTMiIGhlaWdodD0iMzYiIHZpZXdCb3g9IjAgMCA1MyAzNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgY2xpcC1wYXRoPSJ1cmwoI2NsaXAwKSI+CjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNNDguMDM2NCA0LjAxMDQySDQuMDA3NzlMNC4wMDc3OSAzMi4wMjg2SDQ4LjAzNjRWNC4wMTA0MlpNNC4wMDc3OSAwLjAwNzgxMjVDMS43OTcyMSAwLjAwNzgxMjUgMC4wMDUxODc5OSAxLjc5OTg0IDAuMDA1MTg3OTkgNC4wMTA0MlYzMi4wMjg2QzAuMDA1MTg3OTkgMzQuMjM5MiAxLjc5NzIxIDM2LjAzMTIgNC4wMDc3OSAzNi4wMzEySDQ4LjAzNjRDNTAuMjQ3IDM2LjAzMTIgNTIuMDM5IDM0LjIzOTIgNTIuMDM5IDMyLjAyODZWNC4wMTA0MkM1Mi4wMzkgMS43OTk4NCA1MC4yNDcgMC4wMDc4MTI1IDQ4LjAzNjQgMC4wMDc4MTI1SDQuMDA3NzlaTTguMDEwNDIgOC4wMTMwMkgxMi4wMTNWMTIuMDE1Nkg4LjAxMDQyVjguMDEzMDJaTTIwLjAxODIgOC4wMTMwMkgxNi4wMTU2VjEyLjAxNTZIMjAuMDE4MlY4LjAxMzAyWk0yNC4wMjA4IDguMDEzMDJIMjguMDIzNFYxMi4wMTU2SDI0LjAyMDhWOC4wMTMwMlpNMzYuMDI4NiA4LjAxMzAySDMyLjAyNlYxMi4wMTU2SDM2LjAyODZWOC4wMTMwMlpNNDAuMDMxMiA4LjAxMzAySDQ0LjAzMzlWMTIuMDE1Nkg0MC4wMzEyVjguMDEzMDJaTTE2LjAxNTYgMTYuMDE4Mkg4LjAxMDQyVjIwLjAyMDhIMTYuMDE1NlYxNi4wMTgyWk0yMC4wMTgyIDE2LjAxODJIMjQuMDIwOFYyMC4wMjA4SDIwLjAxODJWMTYuMDE4MlpNMzIuMDI2IDE2LjAxODJIMjguMDIzNFYyMC4wMjA4SDMyLjAyNlYxNi4wMTgyWk00NC4wMzM5IDE2LjAxODJWMjAuMDIwOEgzNi4wMjg2VjE2LjAxODJINDQuMDMzOVpNMTIuMDEzIDI0LjAyMzRIOC4wMTA0MlYyOC4wMjZIMTIuMDEzVjI0LjAyMzRaTTE2LjAxNTYgMjQuMDIzNEgzNi4wMjg2VjI4LjAyNkgxNi4wMTU2VjI0LjAyMzRaTTQ0LjAzMzkgMjQuMDIzNEg0MC4wMzEyVjI4LjAyNkg0NC4wMzM5VjI0LjAyMzRaIiBmaWxsPSIjQzVDNUM1Ii8+CjwvZz4KPGRlZnM+CjxjbGlwUGF0aCBpZD0iY2xpcDAiPgo8cmVjdCB3aWR0aD0iNTMiIGhlaWdodD0iMzYiIGZpbGw9IndoaXRlIi8+CjwvY2xpcFBhdGg+CjwvZGVmcz4KPC9zdmc+Cg==") 50% no-repeat;border:4px solid #252526}',""])},function(e,t,i){"use strict";i.r(t),i.d(t,"getReindentEditOperations",(function(){return m})),i.d(t,"IndentationToSpacesAction",(function(){return v})),i.d(t,"IndentationToTabsAction",(function(){return b})),i.d(t,"ChangeIndentationSizeAction",(function(){return _})),i.d(t,"IndentUsingTabs",(function(){return w})),i.d(t,"IndentUsingSpaces",(function(){return C})),i.d(t,"DetectIndentation",(function(){return y})),i.d(t,"ReindentLinesAction",(function(){return x})),i.d(t,"ReindentSelectedLinesAction",(function(){return S})),i.d(t,"AutoIndentOnPasteCommand",(function(){return k})),i.d(t,"AutoIndentOnPaste",(function(){return D})),i.d(t,"IndentationToSpacesCommand",(function(){return O})),i.d(t,"IndentationToTabsCommand",(function(){return E}));var n=i(2),o=i(9),r=(t=i(5),i(161)),s=i(75),a=i(3),l=i(29),c=i(8),d=i(42),h=i(49),u=i(70),g=i(117),p=i(0),f=i(132);function m(e,t,i,n){if(1===e.getLineCount()&&1===e.getLineMaxColumn(1))return[];const a=h.b.getIndentationRules(e.getLanguageId());if(!a)return[];for(i=Math.min(i,e.getLineCount());t<=i&&a.unIndentedLinePattern;){var c=e.getLineContent(t);if(!a.unIndentedLinePattern.test(c))break;t++}if(i-1<t)return[];const{tabSize:u,indentSize:g,insertSpaces:p}=e.getOptions();var f=(e,t)=>r.a.shiftIndent(e,e.length+(t=t||1),u,g,p),m=(e,t)=>r.a.unshiftIndent(e,e.length+(t=t||1),u,g,p);let v,b=[],_=e.getLineContent(t),w=_;null!=n?(v=n,n=o.x(_),w=v+_.substring(n.length),a.decreaseIndentPattern&&a.decreaseIndentPattern.test(w)&&(v=m(v),w=v+_.substring(n.length)),_!==w&&b.push(s.a.replaceMove(new l.a(t,1,t,n.length+1),d.c.normalizeIndentation(v,g,p)))):v=o.x(_);let C=v;a.increaseIndentPattern&&a.increaseIndentPattern.test(w)?(C=f(C),v=f(v)):a.indentNextLinePattern&&a.indentNextLinePattern.test(w)&&(C=f(C));for(let n=++t;n<=i;n++){let t=e.getLineContent(n);var y=o.x(t),x=C+t.substring(y.length);a.decreaseIndentPattern&&a.decreaseIndentPattern.test(x)&&(C=m(C),v=m(v)),y!==C&&b.push(s.a.replaceMove(new l.a(n,1,n,y.length+1),d.c.normalizeIndentation(C,g,p))),a.unIndentedLinePattern&&a.unIndentedLinePattern.test(t)||(C=a.increaseIndentPattern&&a.increaseIndentPattern.test(x)?(v=f(v),v):a.indentNextLinePattern&&a.indentNextLinePattern.test(x)?f(C):v)}return b}class v extends t.b{constructor(){super({id:v.ID,label:p.a("indentationToSpaces","Convert Indentation to Spaces"),alias:"Convert Indentation to Spaces",precondition:c.a.writable})}run(e,t){let i=t.getModel();var n,o;i&&(o=i.getOptions(),(n=t.getSelection())&&(o=new O(n,o.tabSize),t.pushUndoStop(),t.executeCommands(this.id,[o]),t.pushUndoStop(),i.updateOptions({insertSpaces:!0})))}}v.ID="editor.action.indentationToSpaces";class b extends t.b{constructor(){super({id:b.ID,label:p.a("indentationToTabs","Convert Indentation to Tabs"),alias:"Convert Indentation to Tabs",precondition:c.a.writable})}run(e,t){let i=t.getModel();var n,o;i&&(o=i.getOptions(),(n=t.getSelection())&&(o=new E(n,o.tabSize),t.pushUndoStop(),t.executeCommands(this.id,[o]),t.pushUndoStop(),i.updateOptions({insertSpaces:!1})))}}b.ID="editor.action.indentationToTabs";class _ extends t.b{constructor(e,t){super(t),this.insertSpaces=e}run(e,t){const i=e.get(f.a),n=e.get(u.a);let o=t.getModel();if(o){const e=n.getCreationOptions(o.getLanguageId(),o.uri,o.isForSimpleWidget),t=[1,2,3,4,5,6,7,8].map(t=>({id:t.toString(),label:t.toString(),description:t===e.tabSize?p.a("configuredTabSize","Configured Tab Size"):void 0})),r=Math.min(o.getOptions().tabSize-1,7);setTimeout(()=>{i.pick(t,{placeHolder:p.a({key:"selectTabWidth",comment:["Tab corresponds to the tab key"]},"Select Tab Size for Current File"),activeItem:t[r]}).then(e=>{e&&o&&!o.isDisposed()&&o.updateOptions({tabSize:parseInt(e.label,10),insertSpaces:this.insertSpaces})})},50)}}}class w extends _{constructor(){super(!1,{id:w.ID,label:p.a("indentUsingTabs","Indent Using Tabs"),alias:"Indent Using Tabs",precondition:void 0})}}w.ID="editor.action.indentUsingTabs";class C extends _{constructor(){super(!0,{id:C.ID,label:p.a("indentUsingSpaces","Indent Using Spaces"),alias:"Indent Using Spaces",precondition:void 0})}}C.ID="editor.action.indentUsingSpaces";class y extends t.b{constructor(){super({id:y.ID,label:p.a("detectIndentation","Detect Indentation from Content"),alias:"Detect Indentation from Content",precondition:void 0})}run(e,t){const i=e.get(u.a);let n=t.getModel();n&&(t=i.getCreationOptions(n.getLanguageId(),n.uri,n.isForSimpleWidget),n.detectIndentation(t.insertSpaces,t.tabSize))}}y.ID="editor.action.detectIndentation";class x extends t.b{constructor(){super({id:"editor.action.reindentlines",label:p.a("editor.reindentlines","Reindent Lines"),alias:"Reindent Lines",precondition:c.a.writable})}run(e,t){let i=t.getModel();var n;!i||0<(n=m(i,1,i.getLineCount())).length&&(t.pushUndoStop(),t.executeEdits(this.id,n),t.pushUndoStop())}}class S extends t.b{constructor(){super({id:"editor.action.reindentselectedlines",label:p.a("editor.reindentselectedlines","Reindent Selected Lines"),alias:"Reindent Selected Lines",precondition:c.a.writable})}run(e,t){var i=t.getModel();if(i){var n=t.getSelections();if(null!==n){let e=[];for(var o of n){let t=o.startLineNumber,n=o.endLineNumber;if(t!==n&&1===o.endColumn&&n--,1===t){if(t===n)continue}else t--;o=m(i,t,n),e.push(...o)}0<e.length&&(t.pushUndoStop(),t.executeEdits(this.id,e),t.pushUndoStop())}}}}class k{constructor(e,t){for(var i of(this._initialSelection=t,this._edits=[],this._selectionId=null,e))i.range&&"string"==typeof i.text&&this._edits.push(i)}getEditOperations(e,t){for(var i of this._edits)t.addEditOperation(a.a.lift(i.range),i.text);let n=!1;Array.isArray(this._edits)&&1===this._edits.length&&this._initialSelection.isEmpty()&&(this._edits[0].range.startColumn===this._initialSelection.endColumn&&this._edits[0].range.startLineNumber===this._initialSelection.endLineNumber?(n=!0,this._selectionId=t.trackSelection(this._initialSelection,!0)):this._edits[0].range.endColumn===this._initialSelection.startColumn&&this._edits[0].range.endLineNumber===this._initialSelection.startLineNumber&&(n=!0,this._selectionId=t.trackSelection(this._initialSelection,!1))),n||(this._selectionId=t.trackSelection(this._initialSelection))}computeCursorState(e,t){return t.getTrackedSelection(this._selectionId)}}class D{constructor(e){this.callOnDispose=new n.b,this.callOnModel=new n.b,this.editor=e,this.callOnDispose.add(e.onDidChangeConfiguration(()=>this.update())),this.callOnDispose.add(e.onDidChangeModel(()=>this.update())),this.callOnDispose.add(e.onDidChangeModelLanguage(()=>this.update()))}update(){this.callOnModel.clear(),this.editor.getOption(9)<4||this.editor.getOption(47)||this.editor.hasModel()&&this.callOnModel.add(this.editor.onDidPaste(({range:e})=>{this.trigger(e)}))}trigger(e){var t=this.editor.getSelections();if(!(null===t||1<t.length)){const f=this.editor.getModel();if(f&&f.isCheapToTokenize(e.getStartPosition().lineNumber)){var i=this.editor.getOption(9);const{tabSize:m,indentSize:v,insertSpaces:b}=f.getOptions();let _=[];var n={shiftIndent:e=>r.a.shiftIndent(e,e.length+1,m,v,b),unshiftIndent:e=>r.a.unshiftIndent(e,e.length+1,m,v,b)};let w=e.startLineNumber;for(;w<=e.endLineNumber&&this.shouldIgnoreLine(f,w);)w++;if(!(w>e.endLineNumber)){let r=f.getLineContent(w);if(!/\S/.test(r.substring(0,e.startColumn-1))){var s=h.b.getGoodIndentForLine(i,f,f.getLanguageId(),w,n);if(null!==s)if(t=o.x(r),(s=g.b(s,m))!==g.b(t,m))s=g.a(s,m,b),_.push({range:new a.a(w,1,w,t.length+1),text:s}),r=s+r.substr(t.length);else{var l=h.b.getIndentMetadata(f,w);if(0===l||8===l)return}}const v=w;for(;w<e.endLineNumber&&!/\S/.test(f.getLineContent(w+1));)w++;if(w!==e.endLineNumber&&(l={getLineTokens:e=>f.getLineTokens(e),getLanguageId:()=>f.getLanguageId(),getLanguageIdAtPosition:(e,t)=>f.getLanguageIdAtPosition(e,t),getLineContent:e=>e===v?r:f.getLineContent(e)},null!==(n=h.b.getGoodIndentForLine(i,l,f.getLanguageId(),w+1,n)))){n=g.b(n,m);var c=g.b(o.x(f.getLineContent(w+1)),m);if(n!==c){var d=n-c;for(let t=w+1;t<=e.endLineNumber;t++){var u=f.getLineContent(t),p=o.x(u);u=g.b(p,m);(u=g.a(u+d,m,b))!==p&&_.push({range:new a.a(t,1,t,p.length+1),text:u})}}}0<_.length&&(this.editor.pushUndoStop(),c=new k(_,this.editor.getSelection()),this.editor.executeCommand("autoIndentOnPaste",c),this.editor.pushUndoStop())}}}}shouldIgnoreLine(e,t){e.forceTokenization(t);var i=e.getLineFirstNonWhitespaceColumn(t);if(0===i)return!0;let n=e.getLineTokens(t);return 0<n.getCount()&&0<=(i=n.findTokenIndexAtOffset(i))&&1===n.getStandardTokenType(i)}dispose(){this.callOnDispose.dispose(),this.callOnModel.dispose()}}function L(e,t,i,n){if(1!==e.getLineCount()||1!==e.getLineMaxColumn(1)){let l="";for(let e=0;e<i;e++)l+=" ";var o=new RegExp(l,"gi");for(let i=1,c=e.getLineCount();i<=c;i++){let c=e.getLineFirstNonWhitespaceColumn(i);if(0===c&&(c=e.getLineMaxColumn(i)),1!==c){var r=new a.a(i,1,i,c);const d=e.getValueInRange(r);var s=n?d.replace(/\t/gi,l):d.replace(o,"\t");t.addEditOperation(r,s)}}}}D.ID="editor.contrib.autoIndentOnPaste";class O{constructor(e,t){this.selection=e,this.tabSize=t,this.selectionId=null}getEditOperations(e,t){this.selectionId=t.trackSelection(this.selection),L(e,t,this.tabSize,!0)}computeCursorState(e,t){return t.getTrackedSelection(this.selectionId)}}class E{constructor(e,t){this.selection=e,this.tabSize=t,this.selectionId=null}getEditOperations(e,t){this.selectionId=t.trackSelection(this.selection),L(e,t,this.tabSize,!1)}computeCursorState(e,t){return t.getTrackedSelection(this.selectionId)}}Object(t.l)(D.ID,D),Object(t.j)(v),Object(t.j)(b),Object(t.j)(w),Object(t.j)(C),Object(t.j)(y),Object(t.j)(x),Object(t.j)(S)},function(e,t,i){"use strict";i.r(t),i.d(t,"getInlayHints",(function(){return S})),i.d(t,"InlayHintsController",(function(){return D}));var n=i(18),o=i(38),r=i(17),s=i(169),a=i(2),l=i(74),c=i(19),d=i(35),h=i(5),u=i(46),g=i(34),p=i(12),f=i(3),m=i(11),v=i(85),b=i(110),_=i(36),w=i(4),C=i(16),y=(t=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;0<=a;a--)(o=e[a])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s},i=function(e,t){return function(i,n){t(i,n,e)}},function(e,t,i,n){return new(i=i||Promise)((function(o,r){function s(e){try{l(n.next(e))}catch(e){r(e)}}function a(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):((t=e.value)instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))});class x{constructor(){this._data=new l.b}push(e,t){const i=this._data.get(e.uri);void 0===i?this._data.set(e.uri,new Set([t])):i.add(t)}pop(e,t){const i=this._data.get(e.uri);i&&(i.delete(t),0===i.size&&this._data.delete(e.uri))}has(e,t){return Boolean(null===(e=this._data.get(e.uri))||void 0===e?void 0:e.has(t))}}function S(e,t,i,n){return y(this,void 0,void 0,(function*(){const o=[],s=m.s.ordered(e).reverse().map(s=>t.map(t=>y(this,void 0,void 0,(function*(){try{i.push(e,s);const r=yield s.provideInlayHints(e,t,n);null!=r&&r.length&&o.push(r.filter(e=>t.containsPosition(e.position)))}catch(e){Object(r.g)(e)}finally{i.pop(e,s)}}))));return yield Promise.all(s.flat()),o.flat().sort((e,t)=>p.a.compare(e.position,t.position))}))}class k{constructor(){this._entries=new l.a(50)}get(e){return e=k._key(e),this._entries.get(e)}set(e,t){e=k._key(e),this._entries.set(e,t)}static _key(e){return`${e.uri.toString()}/${e.getVersionId()}`}}let D=class e{constructor(t,i){this._editor=t,this._codeEditorService=i,this._decorationOwnerId=++e._decorationOwnerIdPool,this._disposables=new a.b,this._sessionDisposables=new a.b,this._getInlayHintsDelays=new v.b(m.s,25,500),this._cache=new k,this._decorations=new Map,this._disposables.add(m.s.onDidChange(()=>this._update())),this._disposables.add(t.onDidChangeModel(()=>this._update())),this._disposables.add(t.onDidChangeModelLanguage(()=>this._update())),this._disposables.add(t.onDidChangeConfiguration(e=>{e.hasChanged(125)&&this._update()})),this._update()}dispose(){this._sessionDisposables.dispose(),this._removeAllDecorations(),this._disposables.dispose()}_update(){if(this._sessionDisposables.clear(),this._removeAllDecorations(),this._editor.getOption(125).enabled){const t=this._editor.getModel();if(t&&m.s.has(t)){var e=this._cache.get(t);e&&this._updateHintsDecorators([t.getFullModelRange()],e);const i=new x,r=new n.e(()=>y(this,void 0,void 0,(function*(){var e=Date.now();const n=new o.b;this._sessionDisposables.add(Object(a.i)(()=>n.dispose(!0)));var s=this._getHintsRanges(),l=yield S(t,s,i,n.token);r.delay=this._getInlayHintsDelays.update(t,Date.now()-e),n.token.isCancellationRequested||(this._updateHintsDecorators(s,l),this._cache.set(t,Array.from(this._decorations.values()).map(e=>e.hint)))})),this._getInlayHintsDelays.get(t));this._sessionDisposables.add(r),this._sessionDisposables.add(this._editor.onDidChangeModelContent(()=>r.schedule())),this._disposables.add(this._editor.onDidScrollChange(()=>r.schedule())),r.schedule();const s=new a.b;this._sessionDisposables.add(s);for(const e of m.s.all(t))"function"==typeof e.onDidChangeInlayHints&&s.add(e.onDidChangeInlayHints(()=>{i.has(t,e)||r.schedule()}))}}}_getHintsRanges(){const e=this._editor.getModel(),t=this._editor.getVisibleRangesPlusViewportAboveBelow(),i=[];for(const o of t.sort(f.a.compareRangesUsingStarts)){var n=e.validateRange(new f.a(o.startLineNumber-30,o.startColumn,o.endLineNumber+30,o.endColumn));0!==i.length&&f.a.areIntersectingOrTouching(i[i.length-1],n)?i[i.length-1]=f.a.plusRange(i[i.length-1],n):i.push(n)}return i}_updateHintsDecorators(e,t){var{fontSize:i,fontFamily:n}=this._getLayoutInfo();const o=this._editor.getModel(),r=[],a=[];var l="--code-editorInlayHintsFontFamily";this._editor.getContainerDomNode().style.setProperty(l,n);for(const e of t){var{text:c,position:d,whitespaceBefore:h,whitespaceAfter:u}=e,h=h?i/3|0:0,u=u?i/3|0:0;const t={contentText:c.replace(/[ \t]/g," "),fontSize:i+"px",margin:`0px ${u}px 0px ${h}px`,fontFamily:`var(${l}), ${g.c.fontFamily}`,padding:`1px ${0|Math.max(1,i/4)}px`,borderRadius:(i/4|0)+"px",verticalAlign:"middle",backgroundColor:Object(C.g)(w.N),color:Object(C.g)(w.O)};e.kind===m.r.Parameter?(t.backgroundColor=Object(C.g)(w.P),t.color=Object(C.g)(w.Q)):e.kind===m.r.Type&&(t.backgroundColor=Object(C.g)(w.R),t.color=Object(C.g)(w.S));let n={beforeInjectedText:Object.assign(Object.assign({},t),{affectsLetterSpacing:!0})},p=f.a.fromPositions(d),v=!1;if((h=o.getWordAtPosition(d))&&(h.endColumn===d.column?(n.afterInjectedText=n.beforeInjectedText,n.beforeInjectedText=void 0,v=!0,p=L(h,d.lineNumber)):h.startColumn===d.column&&(v=!0,p=L(h,d.lineNumber))),d="inlayHints-"+Object(s.c)(n).toString(16),this._codeEditorService.registerDecorationType("inlay-hints-controller",d,n,void 0,this._editor),r.push(d),1500<a.push({range:p,options:Object.assign(Object.assign({},this._codeEditorService.resolveDecorationOptions(d,!0)),{showIfCollapsed:!v,stickiness:0})}))break}const p=[];for(const t of e)for(var{id:v}of o.getDecorationsInRange(t,this._decorationOwnerId,!0)){var b=this._decorations.get(v);b&&(p.push(v),this._codeEditorService.removeDecorationType(b.decorationTypeId),this._decorations.delete(v))}var _=o.deltaDecorations(p,a,this._decorationOwnerId);for(let e=0;e<_.length;e++)this._decorations.set(_[e],{hint:t[e],decorationTypeId:r[e]})}_getLayoutInfo(){var e=this._editor.getOption(125),t=this._editor.getOption(45);let i=e.fontSize;return(!i||i<5||i>t)&&(i=.9*t|0),{fontSize:i,fontFamily:e=e.fontFamily||this._editor.getOption(42)}}_removeAllDecorations(){for(var e of(this._editor.deltaDecorations(Array.from(this._decorations.keys()),[]),this._decorations.values()))this._codeEditorService.removeDecorationType(e.decorationTypeId);this._decorations.clear()}};function L(e,t){return new f.a(t,e.startColumn,t,e.endColumn)}D.ID="editor.contrib.InlayHints",D._decorationOwnerIdPool=0,D=t([i(1,u.a)],D),Object(h.l)(D.ID,D),_.a.registerCommand("_executeInlayHintProvider",(e,...t)=>y(void 0,void 0,void 0,(function*(){var[i,n]=t;Object(c.c)(d.a.isUri(i)),Object(c.c)(f.a.isIRange(n));const r=yield e.get(b.a).createModelReference(i);try{return yield S(r.object.textEditorModel,[f.a.lift(n)],new x,o.a.None)}finally{r.dispose()}})))},function(e,t,i){"use strict";i.r(t);i(516);var n=i(1),o=i(14),r=i(2),s=i(5),a=i(11),l=i(107),c=i(80),d=i(171),h=i(4),u=(t=i(16),i(63)),g=i(133);i=function(e,t){return function(i,n){t(i,n,e)}};let p=class e extends r.a{constructor(e,t,i){super(),this._editor=e,this._modeService=i,this._widget=null,this._register(this._editor.onDidChangeModel(e=>this.stop())),this._register(this._editor.onDidChangeModelLanguage(e=>this.stop())),this._register(a.F.onDidChange(e=>this.stop())),this._register(this._editor.onKeyUp(e=>9===e.keyCode&&this.stop()))}static get(t){return t.getContribution(e.ID)}dispose(){this.stop(),super.dispose()}launch(){this._widget||this._editor.hasModel()&&(this._widget=new m(this._editor,this._modeService))}stop(){this._widget&&(this._widget.dispose(),this._widget=null)}};p.ID="editor.contrib.inspectTokens",p=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;0<=a;a--)(o=e[a])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s}([i(1,d.a),i(2,c.a)],p);class f extends s.b{constructor(){super({id:"editor.action.inspectTokens",label:u.c.inspectTokensAction,alias:"Developer: Inspect Tokens",precondition:void 0})}run(e,t){let i=p.get(t);i&&i.launch()}}class m extends r.a{constructor(e,t){super(),this.allowEditorOverflow=!0,this._editor=e,this._modeService=t,this._model=this._editor.getModel(),this._domNode=document.createElement("div"),this._domNode.className="tokens-inspect-widget",this._tokenizationSupport=function(e,t){var i=a.F.get(t);if(i)return i;const n=e.encodeLanguageId(t);return{getInitialState:()=>l.b,tokenize:(e,i,n,o)=>Object(l.c)(t,e,n,o),tokenize2:(e,t,i,o)=>Object(l.d)(n,e,i,o)}}(this._modeService.languageIdCodec,this._model.getLanguageId()),this._compute(this._editor.getPosition()),this._register(this._editor.onDidChangeCursorPosition(e=>this._compute(this._editor.getPosition()))),this._editor.addContentWidget(this)}dispose(){this._editor.removeContentWidget(this),super.dispose()}getId(){return m._ID}_compute(e){var t,i=this._getTokensAtLine(e.lineNumber);let r=0;for(let t=i.tokens1.length-1;0<=t;t--){var s=i.tokens1[t];if(e.column-1>=s.offset){r=t;break}}let a=0;for(let t=i.tokens2.length>>>1;0<=t;t--)if(e.column-1>=i.tokens2[t<<1]){a=t;break}let l=this._model.getLineContent(e.lineNumber),c="";r<i.tokens1.length&&(t=i.tokens1[r].offset,d=r+1<i.tokens1.length?i.tokens1[r+1].offset:l.length,c=l.substring(t,d)),Object(n.R)(this._domNode,Object(n.a)("h2.tm-token",void 0,function(e){let t="";for(let n=0,o=e.length;n<o;n++){var i=e.charCodeAt(n);switch(i){case 9:t+="→";break;case 32:t+="·";break;default:t+=String.fromCharCode(i)}}return t}(c),Object(n.a)("span.tm-token-length",void 0,`${c.length} ${1===c.length?"char":"chars"}`))),Object(n.q)(this._domNode,Object(n.a)("hr.tokens-inspect-separator",{style:"clear:both"}));var d=1+(a<<1)<i.tokens2.length?this._decodeMetadata(i.tokens2[1+(a<<1)]):null;Object(n.q)(this._domNode,Object(n.a)("table.tm-metadata-table",void 0,Object(n.a)("tbody",void 0,Object(n.a)("tr",void 0,Object(n.a)("td.tm-metadata-key",void 0,"language"),Object(n.a)("td.tm-metadata-value",void 0,""+(d?d.languageId:"-?-"))),Object(n.a)("tr",void 0,Object(n.a)("td.tm-metadata-key",void 0,"token type"),Object(n.a)("td.tm-metadata-value",void 0,""+(d?this._tokenTypeToString(d.tokenType):"-?-"))),Object(n.a)("tr",void 0,Object(n.a)("td.tm-metadata-key",void 0,"font style"),Object(n.a)("td.tm-metadata-value",void 0,""+(d?this._fontStyleToString(d.fontStyle):"-?-"))),Object(n.a)("tr",void 0,Object(n.a)("td.tm-metadata-key",void 0,"foreground"),Object(n.a)("td.tm-metadata-value",void 0,""+(d?o.a.Format.CSS.formatHex(d.foreground):"-?-"))),Object(n.a)("tr",void 0,Object(n.a)("td.tm-metadata-key",void 0,"background"),Object(n.a)("td.tm-metadata-value",void 0,""+(d?o.a.Format.CSS.formatHex(d.background):"-?-")))))),Object(n.q)(this._domNode,Object(n.a)("hr.tokens-inspect-separator")),r<i.tokens1.length&&Object(n.q)(this._domNode,Object(n.a)("span.tm-token-type",void 0,i.tokens1[r].type)),this._editor.layoutContentWidget(this)}_decodeMetadata(e){var t=a.F.getColorMap(),i=a.E.getLanguageId(e),n=a.E.getTokenType(e),o=a.E.getFontStyle(e),r=a.E.getForeground(e);e=a.E.getBackground(e);return{languageId:this._modeService.languageIdCodec.decodeLanguageId(i),tokenType:n,fontStyle:o,foreground:t[r],background:t[e]}}_tokenTypeToString(e){switch(e){case 0:return"Other";case 1:return"Comment";case 2:return"String";case 4:return"RegEx";default:return"??"}}_fontStyleToString(e){let t="";return 1&e&&(t+="italic "),2&e&&(t+="bold "),4&e&&(t+="underline "),0===t.length&&(t="---"),t}_getTokensAtLine(e){var t=this._getStateBeforeLine(e),i=this._tokenizationSupport.tokenize(this._model.getLineContent(e),!0,t,0);e=this._tokenizationSupport.tokenize2(this._model.getLineContent(e),!0,t,0);return{startState:t,tokens1:i.tokens,tokens2:e.tokens,endState:i.endState}}_getStateBeforeLine(e){let t=this._tokenizationSupport.getInitialState();for(let i=1;i<e;i++){t=this._tokenizationSupport.tokenize(this._model.getLineContent(i),!0,t,0).endState}return t}getDomNode(){return this._domNode}getPosition(){return{position:this._editor.getPosition(),preference:[2,1]}}}m._ID="editor.contrib.inspectTokensWidget",Object(s.l)(p.ID,p),Object(s.j)(f),Object(t.f)((e,t)=>{var i,n=e.getColor(h.F);n&&(i=e.type===g.a.HIGH_CONTRAST?2:1,t.addRule(`.monaco-editor .tokens-inspect-widget { border: ${i}px solid ${n}; }`),t.addRule(`.monaco-editor .tokens-inspect-widget .tokens-inspect-separator { background-color: ${n}; }`)),(n=e.getColor(h.E))&&t.addRule(`.monaco-editor .tokens-inspect-widget { background-color: ${n}; }`),(e=e.getColor(h.G))&&t.addRule(`.monaco-editor .tokens-inspect-widget { color: ${e}; }`)})},function(e,t,i){var n=i(517);(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n).locals&&(e.exports=n.locals),(0,i(28).default)("619295f9",n,!0,{})},function(e,t,i){(e.exports=i(27)(!1)).push([e.i,".monaco-editor .tokens-inspect-widget{z-index:50;-moz-user-select:text;user-select:text;-webkit-user-select:text;-ms-user-select:text;padding:10px}.tokens-inspect-separator{height:1px;border:0}.monaco-editor .tokens-inspect-widget .tm-token{font-family:var(--monaco-monospace-font)}.monaco-editor .tokens-inspect-widget .tm-token-length{font-weight:400;font-size:60%;float:right}.monaco-editor .tokens-inspect-widget .tm-metadata-table{width:100%}.monaco-editor .tokens-inspect-widget .tm-metadata-value{font-family:var(--monaco-monospace-font);text-align:right}.monaco-editor .tokens-inspect-widget .tm-token-type{font-family:var(--monaco-monospace-font)}",""])},function(e,t,i){"use strict";i.r(t),i.d(t,"CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE",(function(){return S})),i.d(t,"LinkedEditingContribution",(function(){return D})),i.d(t,"LinkedEditingAction",(function(){return L})),i.d(t,"editorLinkedEditingBackground",(function(){return N}));var n=i(22),o=i(18),r=i(38),s=i(14),a=i(17),l=i(2),c=i(9),d=i(35),h=i(5),u=i(46),g=i(12),p=i(3),f=i(8),m=i(42),v=i(11),b=i(49),_=i(0),w=i(10),C=i(4),y=i(16),x=(t=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;0<=a;a--)(o=e[a])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s},i=function(e,t){return function(i,n){t(i,n,e)}},function(e,t,i,n){return new(i=i||Promise)((function(o,r){function s(e){try{l(n.next(e))}catch(e){r(e)}}function a(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):((t=e.value)instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))});const S=new w.c("LinkedEditingInputVisible",!1),k="linked-editing-decoration";let D=class e extends l.a{constructor(e,t){super(),this._debounceDuration=200,this._localToDispose=this._register(new l.b),this._editor=e,this._enabled=!1,this._visibleContextKey=S.bindTo(t),this._currentDecorations=[],this._languageWordPattern=null,this._currentWordPattern=null,this._ignoreChangeEvent=!1,this._localToDispose=this._register(new l.b),this._rangeUpdateTriggerPromise=null,this._rangeSyncTriggerPromise=null,this._currentRequest=null,this._currentRequestPosition=null,this._currentRequestModelVersion=null,this._register(this._editor.onDidChangeModel(()=>this.reinitialize(!0))),this._register(this._editor.onDidChangeConfiguration(e=>{(e.hasChanged(61)||e.hasChanged(81))&&this.reinitialize(!1)})),this._register(v.w.onDidChange(()=>this.reinitialize(!1))),this._register(this._editor.onDidChangeModelLanguage(()=>this.reinitialize(!0))),this.reinitialize(!0)}static get(t){return t.getContribution(e.ID)}reinitialize(e){const t=this._editor.getModel();var i=null!==t&&(this._editor.getOption(61)||this._editor.getOption(81))&&v.w.has(t);if((i!==this._enabled||e)&&(this._enabled=i,this.clearRanges(),this._localToDispose.clear(),i&&null!==t)){this._languageWordPattern=b.b.getWordDefinition(t.getLanguageId()),this._localToDispose.add(t.onDidChangeLanguageConfiguration(()=>{this._languageWordPattern=b.b.getWordDefinition(t.getLanguageId())}));const e=new o.a(this._debounceDuration),i=()=>{this._rangeUpdateTriggerPromise=e.trigger(()=>this.updateRanges(),this._debounceDuration)},n=new o.a(0),r=e=>{this._rangeSyncTriggerPromise=n.trigger(()=>this._syncRanges(e))};this._localToDispose.add(this._editor.onDidChangeCursorPosition(()=>{i()})),this._localToDispose.add(this._editor.onDidChangeModelContent(e=>{if(!this._ignoreChangeEvent&&0<this._currentDecorations.length){const i=t.getDecorationRange(this._currentDecorations[0]);if(i&&e.changes.every(e=>i.intersectRanges(e.range)))return void r(this._currentDecorations)}i()})),this._localToDispose.add({dispose:()=>{e.cancel(),n.cancel()}}),this.updateRanges()}}_syncRanges(e){if(this._editor.hasModel()&&e===this._currentDecorations&&0!==e.length){const a=this._editor.getModel();var t=a.getDecorationRange(e[0]);if(!t||t.startLineNumber!==t.endLineNumber)return this.clearRanges();const l=a.getValueInRange(t);if(this._currentWordPattern&&((t=l.match(this._currentWordPattern))?t[0].length:0)!==l.length)return this.clearRanges();let d=[];for(let t=1,s=e.length;t<s;t++){var i=a.getDecorationRange(e[t]);if(i)if(i.startLineNumber!==i.endLineNumber)d.push({range:i,text:l});else{let e=a.getValueInRange(i),t=l;var n=i.startColumn,o=i.endColumn,r=c.d(e,t);n+=r,e=e.substr(r),t=t.substr(r),o-=r=c.e(e,t),e=e.substr(0,e.length-r),t=t.substr(0,t.length-r),n===o&&0===t.length||d.push({range:new p.a(i.startLineNumber,n,i.endLineNumber,o),text:t})}}if(0!==d.length)try{this._editor.popUndoStop(),this._ignoreChangeEvent=!0;var s=this._editor._getViewModel().getPrevEditOperationType();this._editor.executeEdits("linkedEditing",d),this._editor._getViewModel().setPrevEditOperationType(s)}finally{this._ignoreChangeEvent=!1}}}dispose(){this.clearRanges(),super.dispose()}clearRanges(){this._visibleContextKey.set(!1),this._currentDecorations=this._editor.deltaDecorations(this._currentDecorations,[]),this._currentRequest&&(this._currentRequest.cancel(),this._currentRequest=null,this._currentRequestPosition=null)}updateRanges(t=!1){return x(this,void 0,void 0,(function*(){if(this._editor.hasModel()){const i=this._editor.getPosition();if(!(!this._enabled&&!t||1<this._editor.getSelections().length)){const t=this._editor.getModel(),n=t.getVersionId();if(this._currentRequestPosition&&this._currentRequestModelVersion===n){if(i.equals(this._currentRequestPosition))return;if(this._currentDecorations&&0<this._currentDecorations.length){const e=t.getDecorationRange(this._currentDecorations[0]);if(e&&e.containsPosition(i))return}}this._currentRequestPosition=i,this._currentRequestModelVersion=n;const r=Object(o.h)(o=>x(this,void 0,void 0,(function*(){try{var s,l=yield E(t,i,o);if(r!==this._currentRequest)return;if(this._currentRequest=null,n!==t.getVersionId())return;let a=[];null!=l&&l.ranges&&(a=l.ranges),this._currentWordPattern=(null==l?void 0:l.wordPattern)||this._languageWordPattern;let d=!1;for(let e=0,t=a.length;e<t;e++)if(p.a.containsPosition(a[e],i)){d=!0,0!==e&&(s=a[e],a.splice(e,1),a.unshift(s));break}if(!d)return void this.clearRanges();var c=a.map(t=>({range:t,options:e.DECORATION}));this._visibleContextKey.set(!0),this._currentDecorations=this._editor.deltaDecorations(this._currentDecorations,c)}catch(l){Object(a.e)(l)||Object(a.f)(l),this._currentRequest!==r&&this._currentRequest||this.clearRanges()}})));return this._currentRequest=r,r}this.clearRanges()}else this.clearRanges()}))}};D.ID="editor.contrib.linkedEditing",D.DECORATION=m.b.register({description:"linked-editing",stickiness:0,className:k}),D=t([i(1,w.b)],D);class L extends h.b{constructor(){super({id:"editor.action.linkedEditing",label:_.a("linkedEditing.label","Start Linked Editing"),alias:"Start Linked Editing",precondition:w.a.and(f.a.writable,f.a.hasRenameProvider),kbOpts:{kbExpr:f.a.editorTextFocus,primary:3132,weight:100}})}runCommand(e,t){const i=e.get(u.a),[n,o]=Array.isArray(t)&&t||[void 0,void 0];return d.a.isUri(n)&&g.a.isIPosition(o)?i.openCodeEditor({resource:n},i.getActiveCodeEditor()).then(e=>{e&&(e.setPosition(o),e.invokeWithinContext(t=>(this.reportTelemetry(t,e),this.run(t,e))))},a.f):super.runCommand(e,t)}run(e,t){const i=D.get(t);return i?Promise.resolve(i.updateRanges(!0)):Promise.resolve()}}const O=h.c.bindToContribution(D.get);function E(e,t,i){const r=v.w.ordered(e);return Object(o.j)(r.map(n=>()=>x(this,void 0,void 0,(function*(){try{return yield n.provideLinkedEditingRanges(e,t,i)}catch(e){return void Object(a.g)(e)}}))),e=>!!e&&n.n(null==e?void 0:e.ranges))}Object(h.k)(new O({id:"cancelLinkedEditingInput",precondition:S,handler:e=>e.clearRanges(),kbOpts:{kbExpr:f.a.editorTextFocus,weight:199,primary:9,secondary:[1033]}}));const N=Object(C.Cc)("editor.linkedEditingBackground",{dark:s.a.fromHex("#f00").transparent(.3),light:s.a.fromHex("#f00").transparent(.3),hc:s.a.fromHex("#f00").transparent(.3)},_.a("editorLinkedEditingBackground","Background color when the editor auto renames on type."));Object(y.f)((e,t)=>{(e=e.getColor(N))&&t.addRule(`.monaco-editor .${k} { background: ${e}; border-left-color: ${e}; }`)}),Object(h.n)("_executeLinkedEditingProvider",(e,t)=>E(e,t,r.a.None)),Object(h.l)(D.ID,D),Object(h.j)(L)},function(e,t,i){var n=i(520);(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n).locals&&(e.exports=n.locals),(0,i(28).default)("323b7afb",n,!0,{})},function(e,t,i){(e.exports=i(27)(!1)).push([e.i,".monaco-editor .detected-link,.monaco-editor .detected-link-active{text-decoration:underline;text-underline-position:under}.monaco-editor .detected-link-active{cursor:pointer}",""])},function(e,t,i){"use strict";i.r(t),i.d(t,"InsertCursorAbove",(function(){return w})),i.d(t,"InsertCursorBelow",(function(){return C})),i.d(t,"MultiCursorSessionResult",(function(){return k})),i.d(t,"MultiCursorSession",(function(){return D})),i.d(t,"MultiCursorSelectionController",(function(){return L})),i.d(t,"MultiCursorSelectionControllerAction",(function(){return O})),i.d(t,"AddSelectionToNextFindMatchAction",(function(){return E})),i.d(t,"AddSelectionToPreviousFindMatchAction",(function(){return N})),i.d(t,"MoveSelectionToNextFindMatchAction",(function(){return I})),i.d(t,"MoveSelectionToPreviousFindMatchAction",(function(){return T})),i.d(t,"SelectHighlightsAction",(function(){return M})),i.d(t,"CompatChangeAll",(function(){return A})),i.d(t,"SelectionHighlighter",(function(){return R}));var n=i(73),o=i(18),r=i(71),s=i(2),a=i(5),l=i(108),c=i(3),d=i(29),h=i(8),u=i(50),g=i(42),p=i(11),f=i(245),m=i(0),v=i(32),b=i(10);t=i(4),i=i(16);function _(e,t){const i=t.filter(t=>!e.find(e=>e.equals(t)));1<=i.length&&(t=i.map(e=>`line ${e.viewState.position.lineNumber} column ${e.viewState.position.column}`).join(", "),t=1===i.length?m.a("cursorAdded","Cursor added: {0}",t):m.a("cursorsAdded","Cursors added: {0}",t),Object(n.c)(t))}class w extends a.b{constructor(){super({id:"editor.action.insertCursorAbove",label:m.a("mutlicursor.insertAbove","Add Cursor Above"),alias:"Add Cursor Above",precondition:void 0,kbOpts:{kbExpr:h.a.editorTextFocus,primary:2576,linux:{primary:1552,secondary:[3088]},weight:100},menuOpts:{menuId:v.b.MenubarSelectionMenu,group:"3_multi",title:m.a({key:"miInsertCursorAbove",comment:["&& denotes a mnemonic"]},"&&Add Cursor Above"),order:2}})}run(e,t,i){if(t.hasModel()){let e=!0;i&&!1===i.logicalLine&&(e=!1);const n=t._getViewModel();n.cursorConfig.readOnly||(n.pushStackElement(),t=n.getCursorStates(),n.setCursorStates(i.source,3,l.b.addCursorUp(n,t,e)),n.revealTopMostCursor(i.source),_(t,n.getCursorStates()))}}}class C extends a.b{constructor(){super({id:"editor.action.insertCursorBelow",label:m.a("mutlicursor.insertBelow","Add Cursor Below"),alias:"Add Cursor Below",precondition:void 0,kbOpts:{kbExpr:h.a.editorTextFocus,primary:2578,linux:{primary:1554,secondary:[3090]},weight:100},menuOpts:{menuId:v.b.MenubarSelectionMenu,group:"3_multi",title:m.a({key:"miInsertCursorBelow",comment:["&& denotes a mnemonic"]},"A&&dd Cursor Below"),order:3}})}run(e,t,i){if(t.hasModel()){let e=!0;i&&!1===i.logicalLine&&(e=!1);const n=t._getViewModel();n.cursorConfig.readOnly||(n.pushStackElement(),t=n.getCursorStates(),n.setCursorStates(i.source,3,l.b.addCursorDown(n,t,e)),n.revealBottomMostCursor(i.source),_(t,n.getCursorStates()))}}}class y extends a.b{constructor(){super({id:"editor.action.insertCursorAtEndOfEachLineSelected",label:m.a("mutlicursor.insertAtEndOfEachLineSelected","Add Cursors to Line Ends"),alias:"Add Cursors to Line Ends",precondition:void 0,kbOpts:{kbExpr:h.a.editorTextFocus,primary:1575,weight:100},menuOpts:{menuId:v.b.MenubarSelectionMenu,group:"3_multi",title:m.a({key:"miInsertCursorAtEndOfEachLineSelected",comment:["&& denotes a mnemonic"]},"Add C&&ursors to Line Ends"),order:4}})}getCursorsForSelection(e,t,i){if(!e.isEmpty()){for(let o=e.startLineNumber;o<e.endLineNumber;o++){var n=t.getLineMaxColumn(o);i.push(new d.a(o,n,o,n))}1<e.endColumn&&i.push(new d.a(e.endLineNumber,e.endColumn,e.endLineNumber,e.endColumn))}}run(e,t){if(t.hasModel()){const e=t.getModel(),n=t.getSelections(),o=t._getViewModel();var i=o.getCursorStates();let r=[];n.forEach(t=>this.getCursorsForSelection(t,e,r)),0<r.length&&t.setSelections(r),_(i,o.getCursorStates())}}}class x extends a.b{constructor(){super({id:"editor.action.addCursorsToBottom",label:m.a("mutlicursor.addCursorsToBottom","Add Cursors To Bottom"),alias:"Add Cursors To Bottom",precondition:void 0})}run(e,t){if(t.hasModel()){var i=t.getSelections(),n=t.getModel().getLineCount();let e=[];for(let t=i[0].startLineNumber;t<=n;t++)e.push(new d.a(t,i[0].startColumn,t,i[0].endColumn));const r=t._getViewModel();var o=r.getCursorStates();0<e.length&&t.setSelections(e),_(o,r.getCursorStates())}}}class S extends a.b{constructor(){super({id:"editor.action.addCursorsToTop",label:m.a("mutlicursor.addCursorsToTop","Add Cursors To Top"),alias:"Add Cursors To Top",precondition:void 0})}run(e,t){if(t.hasModel()){var i=t.getSelections();let e=[];for(let t=i[0].startLineNumber;1<=t;t--)e.push(new d.a(t,i[0].startColumn,t,i[0].endColumn));const o=t._getViewModel();var n=o.getCursorStates();0<e.length&&t.setSelections(e),_(n,o.getCursorStates())}}}class k{constructor(e,t,i){this.selections=e,this.revealRange=t,this.revealScrollType=i}}class D{constructor(e,t,i,n,o,r,s){this._editor=e,this.findController=t,this.isDisconnectedFromFindController=i,this.searchText=n,this.wholeWord=o,this.matchCase=r,this.currentMatch=s}static create(e,t){if(!e.hasModel())return null;var i=t.getState();if(!e.hasTextFocus()&&i.isRevealed&&0<i.searchString.length)return new D(e,t,!1,i.searchString,i.wholeWord,i.matchCase,null);let n,o,r=!1;const s=e.getSelections();o=1===s.length&&s[0].isEmpty()?(r=!0,n=!0):(n=i.wholeWord,i.matchCase);const a=e.getSelection();let l,c=null;if(a.isEmpty()){if(!(i=e.getConfiguredWordAtPosition(a.getStartPosition())))return null;l=i.word,c=new d.a(a.startLineNumber,i.startColumn,a.startLineNumber,i.endColumn)}else l=e.getModel().getValueInRange(a).replace(/\r\n/g,"\n");return new D(e,t,r,l,n,o,c)}addSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;var e=this._getNextMatch();if(!e)return null;const t=this._editor.getSelections();return new k(t.concat(e),e,0)}moveSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;var e=this._getNextMatch();if(!e)return null;const t=this._editor.getSelections();return new k(t.slice(0,t.length-1).concat(e),e,0)}_getNextMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){var e=this.currentMatch;return this.currentMatch=null,e}this.findController.highlightFindOptions();const t=(e=this._editor.getSelections())[e.length-1];return(e=this._editor.getModel().findNextMatch(this.searchText,t.getEndPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(115):null,!1))?new d.a(e.range.startLineNumber,e.range.startColumn,e.range.endLineNumber,e.range.endColumn):null}addSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;var e=this._getPreviousMatch();if(!e)return null;const t=this._editor.getSelections();return new k(t.concat(e),e,0)}moveSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;var e=this._getPreviousMatch();if(!e)return null;const t=this._editor.getSelections();return new k(t.slice(0,t.length-1).concat(e),e,0)}_getPreviousMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){var e=this.currentMatch;return this.currentMatch=null,e}this.findController.highlightFindOptions();const t=(e=this._editor.getSelections())[e.length-1];return(e=this._editor.getModel().findPreviousMatch(this.searchText,t.getStartPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(115):null,!1))?new d.a(e.range.startLineNumber,e.range.startColumn,e.range.endLineNumber,e.range.endColumn):null}selectAll(){return this._editor.hasModel()?(this.findController.highlightFindOptions(),this._editor.getModel().findMatches(this.searchText,!0,!1,this.matchCase,this.wholeWord?this._editor.getOption(115):null,!1,1073741824)):[]}}class L extends s.a{constructor(e){super(),this._sessionDispose=this._register(new s.b),this._editor=e,this._ignoreSelectionChange=!1,this._session=null}static get(e){return e.getContribution(L.ID)}dispose(){this._endSession(),super.dispose()}_beginSessionIfNeeded(e){if(!this._session){var t=D.create(this._editor,e);if(t){this._session=t;const i={searchString:this._session.searchText};this._session.isDisconnectedFromFindController&&(i.wholeWordOverride=1,i.matchCaseOverride=1,i.isRegexOverride=2),e.getState().change(i,!1),this._sessionDispose.add(this._editor.onDidChangeCursorSelection(e=>{this._ignoreSelectionChange||this._endSession()})),this._sessionDispose.add(this._editor.onDidBlurEditorText(()=>{this._endSession()})),this._sessionDispose.add(e.getState().onFindReplaceStateChange(e=>{(e.matchCase||e.wholeWord)&&this._endSession()}))}}}_endSession(){var e;this._sessionDispose.clear(),this._session&&this._session.isDisconnectedFromFindController&&(e={wholeWordOverride:0,matchCaseOverride:0,isRegexOverride:0},this._session.findController.getState().change(e,!1)),this._session=null}_setSelections(e){this._ignoreSelectionChange=!0,this._editor.setSelections(e),this._ignoreSelectionChange=!1}_expandEmptyToWord(e,t){if(!t.isEmpty())return t;var i=this._editor.getConfiguredWordAtPosition(t.getStartPosition());return i?new d.a(t.startLineNumber,i.startColumn,t.startLineNumber,i.endColumn):t}_applySessionResult(e){e&&(this._setSelections(e.selections),e.revealRange&&this._editor.revealRangeInCenterIfOutsideViewport(e.revealRange,e.revealScrollType))}getSession(e){return this._session}addSelectionToNextFindMatch(e){if(this._editor.hasModel()){if(!this._session){var t=this._editor.getSelections();if(1<t.length){var i=e.getState().matchCase;if(!F(this._editor.getModel(),t,i)){var n=this._editor.getModel();let e=[];for(let i=0,o=t.length;i<o;i++)e[i]=this._expandEmptyToWord(n,t[i]);return void this._editor.setSelections(e)}}}this._beginSessionIfNeeded(e),this._session&&this._applySessionResult(this._session.addSelectionToNextFindMatch())}}addSelectionToPreviousFindMatch(e){this._beginSessionIfNeeded(e),this._session&&this._applySessionResult(this._session.addSelectionToPreviousFindMatch())}moveSelectionToNextFindMatch(e){this._beginSessionIfNeeded(e),this._session&&this._applySessionResult(this._session.moveSelectionToNextFindMatch())}moveSelectionToPreviousFindMatch(e){this._beginSessionIfNeeded(e),this._session&&this._applySessionResult(this._session.moveSelectionToPreviousFindMatch())}selectAll(e){if(this._editor.hasModel()){let n=null;var t=e.getState();if(t.isRevealed&&0<t.searchString.length&&t.isRegex)n=this._editor.getModel().findMatches(t.searchString,!0,t.isRegex,t.matchCase,t.wholeWord?this._editor.getOption(115):null,!1,1073741824);else{if(this._beginSessionIfNeeded(e),!this._session)return;n=this._session.selectAll()}if(t.searchScope){const e=t.searchScope;let i=[];n.forEach(t=>{e.forEach(e=>{t.range.endLineNumber<=e.endLineNumber&&t.range.startLineNumber>=e.startLineNumber&&i.push(t)})}),n=i}if(0<n.length){var i=this._editor.getSelection();for(let e=0,t=n.length;e<t;e++){const t=n[e];if(t.range.intersectRanges(i)){n[e]=n[0],n[0]=t;break}}this._setSelections(n.map(e=>new d.a(e.range.startLineNumber,e.range.startColumn,e.range.endLineNumber,e.range.endColumn)))}}}}L.ID="editor.contrib.multiCursorController";class O extends a.b{run(e,t){var i=L.get(t);if(i){var n=f.CommonFindController.get(t);if(n){const e=t._getViewModel();e&&(t=e.getCursorStates(),this._run(i,n),_(t,e.getCursorStates()))}}}}class E extends O{constructor(){super({id:"editor.action.addSelectionToNextFindMatch",label:m.a("addSelectionToNextFindMatch","Add Selection To Next Find Match"),alias:"Add Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:h.a.focus,primary:2082,weight:100},menuOpts:{menuId:v.b.MenubarSelectionMenu,group:"3_multi",title:m.a({key:"miAddSelectionToNextFindMatch",comment:["&& denotes a mnemonic"]},"Add &&Next Occurrence"),order:5}})}_run(e,t){e.addSelectionToNextFindMatch(t)}}class N extends O{constructor(){super({id:"editor.action.addSelectionToPreviousFindMatch",label:m.a("addSelectionToPreviousFindMatch","Add Selection To Previous Find Match"),alias:"Add Selection To Previous Find Match",precondition:void 0,menuOpts:{menuId:v.b.MenubarSelectionMenu,group:"3_multi",title:m.a({key:"miAddSelectionToPreviousFindMatch",comment:["&& denotes a mnemonic"]},"Add P&&revious Occurrence"),order:6}})}_run(e,t){e.addSelectionToPreviousFindMatch(t)}}class I extends O{constructor(){super({id:"editor.action.moveSelectionToNextFindMatch",label:m.a("moveSelectionToNextFindMatch","Move Last Selection To Next Find Match"),alias:"Move Last Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:h.a.focus,primary:Object(r.c)(2089,2082),weight:100}})}_run(e,t){e.moveSelectionToNextFindMatch(t)}}class T extends O{constructor(){super({id:"editor.action.moveSelectionToPreviousFindMatch",label:m.a("moveSelectionToPreviousFindMatch","Move Last Selection To Previous Find Match"),alias:"Move Last Selection To Previous Find Match",precondition:void 0})}_run(e,t){e.moveSelectionToPreviousFindMatch(t)}}class M extends O{constructor(){super({id:"editor.action.selectHighlights",label:m.a("selectAllOccurrencesOfFindMatch","Select All Occurrences of Find Match"),alias:"Select All Occurrences of Find Match",precondition:void 0,kbOpts:{kbExpr:h.a.focus,primary:3114,weight:100},menuOpts:{menuId:v.b.MenubarSelectionMenu,group:"3_multi",title:m.a({key:"miSelectHighlights",comment:["&& denotes a mnemonic"]},"Select All &&Occurrences"),order:7}})}_run(e,t){e.selectAll(t)}}class A extends O{constructor(){super({id:"editor.action.changeAll",label:m.a("changeAll.label","Change All Occurrences"),alias:"Change All Occurrences",precondition:b.a.and(h.a.writable,h.a.editorTextFocus),kbOpts:{kbExpr:h.a.editorTextFocus,primary:2108,weight:100},contextMenuOpts:{group:"1_modification",order:1.2}})}_run(e,t){e.selectAll(t)}}class P{constructor(e,t,i,n){this.searchText=e,this.matchCase=t,this.wordSeparators=i,this.modelVersionId=n}static softEquals(e,t){return!e&&!t||!(!e||!t)&&e.searchText===t.searchText&&e.matchCase===t.matchCase&&e.wordSeparators===t.wordSeparators&&e.modelVersionId===t.modelVersionId}}class R extends s.a{constructor(e){super(),this.editor=e,this._isEnabled=e.getOption(96),this.decorations=[],this.updateSoon=this._register(new o.e(()=>this._update(),300)),this.state=null,this._register(e.onDidChangeConfiguration(t=>{this._isEnabled=e.getOption(96)})),this._register(e.onDidChangeCursorSelection(e=>{this._isEnabled&&(e.selection.isEmpty()?3===e.reason?(this.state&&this._setState(null),this.updateSoon.schedule()):this._setState(null):this._update())})),this._register(e.onDidChangeModel(e=>{this._setState(null)})),this._register(e.onDidChangeModelContent(e=>{this._isEnabled&&this.updateSoon.schedule()})),this._register(f.CommonFindController.get(e).getState().onFindReplaceStateChange(e=>{this._update()}))}_update(){this._setState(R._createState(this._isEnabled,this.editor))}static _createState(e,t){if(!e)return null;if(!t.hasModel())return null;if((e=t.getSelection()).startLineNumber!==e.endLineNumber)return null;const i=L.get(t);if(!i)return null;const n=f.CommonFindController.get(t);if(!n)return null;let o=i.getSession(n);if(!o){if(1<(e=t.getSelections()).length){var r=n.getState().matchCase;if(!F(t.getModel(),e,r))return null}o=D.create(t,n)}if(!o)return null;if(o.currentMatch)return null;if(/^[ \t]+$/.test(o.searchText))return null;if(200<o.searchText.length)return null;const s=n.getState();if(r=s.matchCase,s.isRevealed){let e=s.searchString;r||(e=e.toLowerCase());let t=o.searchText;if(r||(t=t.toLowerCase()),e===t&&o.matchCase===s.matchCase&&o.wholeWord===s.wholeWord&&!s.isRegex)return null}return new P(o.searchText,o.matchCase,o.wholeWord?t.getOption(115):null,t.getModel().getVersionId())}_setState(e){if(P.softEquals(this.state,e))this.state=e;else if(this.state=e,this.state){if(this.editor.hasModel()){const n=this.editor.getModel();if(!n.isTooLargeForTokenization()){const o=p.i.has(n)&&this.editor.getOption(71);let r=n.findMatches(this.state.searchText,!0,!1,this.state.matchCase,this.state.wordSeparators,!1).map(e=>e.range);r.sort(c.a.compareRangesUsingStarts);let s=this.editor.getSelections();s.sort(c.a.compareRangesUsingStarts);let a=[];for(let e=0,n=0,o=r.length,l=s.length;e<o;){var t,i=r[e];n>=l?(a.push(i),e++):(t=c.a.compareRangesUsingStarts(i,s[n]))<0?(!s[n].isEmpty()&&c.a.areIntersecting(i,s[n])||a.push(i),e++):(0<t||e++,n++)}e=a.map(e=>({range:e,options:o?R._SELECTION_HIGHLIGHT:R._SELECTION_HIGHLIGHT_OVERVIEW})),this.decorations=this.editor.deltaDecorations(this.decorations,e)}}}else this.decorations=this.editor.deltaDecorations(this.decorations,[])}dispose(){this._setState(null),super.dispose()}}function F(e,t,i){var n=j(e,t[0],!i);for(let o=1,r=t.length;o<r;o++){const r=t[o];if(r.isEmpty())return!1;if(n!==j(e,r,!i))return!1}return!0}function j(e,t,i){const n=e.getValueInRange(t);return i?n.toLowerCase():n}R.ID="editor.contrib.selectionHighlighter",R._SELECTION_HIGHLIGHT_OVERVIEW=g.b.register({description:"selection-highlight-overview",stickiness:1,className:"selectionHighlight",minimap:{color:Object(i.g)(t.ic),position:u.f.Inline},overviewRuler:{color:Object(i.g)(t.pc),position:u.g.Center}}),R._SELECTION_HIGHLIGHT=g.b.register({description:"selection-highlight",stickiness:1,className:"selectionHighlight"}),Object(a.l)(L.ID,L),Object(a.l)(R.ID,R),Object(a.j)(w),Object(a.j)(C),Object(a.j)(y),Object(a.j)(E),Object(a.j)(N),Object(a.j)(I),Object(a.j)(T),Object(a.j)(M),Object(a.j)(A),Object(a.j)(x),Object(a.j)(S)},function(e,t,i){var n=i(523);(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n).locals&&(e.exports=n.locals),(0,i(28).default)("02691c29",n,!0,{})},function(e,t,i){(e.exports=i(27)(!1)).push([e.i,".monaco-editor .parameter-hints-widget{z-index:10;display:flex;flex-direction:column;line-height:1.5em}.monaco-editor .parameter-hints-widget>.phwrapper{max-width:440px;display:flex;flex-direction:row}.monaco-editor .parameter-hints-widget.multiple{min-height:3.3em;padding:0}.monaco-editor .parameter-hints-widget.visible{transition:left .05s ease-in-out}.monaco-editor .parameter-hints-widget p,.monaco-editor .parameter-hints-widget ul{margin:8px 0}.monaco-editor .parameter-hints-widget .body,.monaco-editor .parameter-hints-widget .monaco-scrollable-element{display:flex;flex:1;flex-direction:column;min-height:100%}.monaco-editor .parameter-hints-widget .signature{padding:4px 5px}.monaco-editor .parameter-hints-widget .docs{padding:0 10px 0 5px;white-space:pre-wrap}.monaco-editor .parameter-hints-widget .docs.empty{display:none}.monaco-editor .parameter-hints-widget .docs .markdown-docs{white-space:normal}.monaco-editor .parameter-hints-widget .docs .markdown-docs code{font-family:var(--monaco-monospace-font)}.monaco-editor .parameter-hints-widget .docs .code{white-space:pre-wrap}.monaco-editor .parameter-hints-widget .docs code{border-radius:3px;padding:0 .4em}.monaco-editor .parameter-hints-widget .controls{display:none;flex-direction:column;align-items:center;min-width:22px;justify-content:flex-end}.monaco-editor .parameter-hints-widget.multiple .controls{display:flex;padding:0 2px}.monaco-editor .parameter-hints-widget.multiple .button{width:16px;height:16px;background-repeat:no-repeat;cursor:pointer}.monaco-editor .parameter-hints-widget .button.previous{bottom:24px}.monaco-editor .parameter-hints-widget .overloads{text-align:center;height:12px;line-height:12px;opacity:.5;font-family:var(--monaco-monospace-font)}.monaco-editor .parameter-hints-widget .signature .parameter.active{font-weight:700}.monaco-editor .parameter-hints-widget .documentation-parameter>.parameter{font-weight:700;margin-right:.5em}",""])},function(e,t,i){"use strict";i.r(t),i.d(t,"StandaloneReferencesController",(function(){return h}));var n=i(5),o=i(46),r=i(230),s=i(56),a=i(10),l=i(21),c=i(64),d=i(113);t=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;0<=a;a--)(o=e[a])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s},i=function(e,t){return function(i,n){t(i,n,e)}};let h=class extends r.a{constructor(e,t,i,n,o,r,s){super(!0,e,t,i,n,o,r,s)}};h=t([i(1,a.b),i(2,o.a),i(3,c.a),i(4,l.a),i(5,d.a),i(6,s.a)],h),Object(n.l)(r.a.ID,h)},function(e,t,i){var n=i(526);(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n).locals&&(e.exports=n.locals),(0,i(28).default)("4c144864",n,!0,{})},function(e,t,i){(e.exports=i(27)(!1)).push([e.i,".monaco-editor .rename-box{z-index:100;color:inherit}.monaco-editor .rename-box.preview{padding:3px 3px 0}.monaco-editor .rename-box .rename-input{padding:3px;width:calc(100% - 6px)}.monaco-editor .rename-box .rename-label{display:none;opacity:.8}.monaco-editor .rename-box.preview .rename-label{display:inherit}",""])},function(e,t,i){"use strict";i.r(t);t=i(5);var n=i(171),o=i(63);class r extends t.b{constructor(){super({id:"editor.action.toggleHighContrast",label:o.i.toggleHighContrast,alias:"Toggle High Contrast Theme",precondition:void 0}),this._originalThemeName=null}run(e,t){const i=e.get(n.a);this._originalThemeName?(i.setTheme(this._originalThemeName),this._originalThemeName=null):(this._originalThemeName=i.getColorTheme().themeName,i.setTheme("hc-black"))}}Object(t.j)(r)},function(e,t,i){"use strict";i.r(t);t=i(5);var n=i(77),o=i(93),r=i(3),s=i(8),a=i(0);class l extends t.b{constructor(){super({id:"editor.action.transposeLetters",label:a.a("transposeLetters.label","Transpose Letters"),alias:"Transpose Letters",precondition:s.a.writable,kbOpts:{kbExpr:s.a.textInputFocus,primary:0,mac:{primary:306},weight:100}})}run(e,t){if(t.hasModel()){let e=t.getModel(),d=[];var i,s,a,l,c;for(i of t.getSelections())i.isEmpty()&&(l=i.startLineNumber,s=i.startColumn,a=e.getLineMaxColumn(l),1===l&&(1===s||2===s&&2===a)||(c=s===a?i.getPosition():o.a.rightPosition(e,i.getPosition().lineNumber,i.getPosition().column),l=o.a.leftPosition(e,c),s=o.a.leftPosition(e,l),a=e.getValueInRange(r.a.fromPositions(s,l)),l=e.getValueInRange(r.a.fromPositions(l,c)),c=r.a.fromPositions(s,c),d.push(new n.a(c,l+a))));0<d.length&&(t.pushUndoStop(),t.executeCommands(this.id,d),t.pushUndoStop())}}}Object(t.j)(l)},function(e,t,i){"use strict";i.r(t),i.d(t,"UnusualLineTerminatorsDetector",(function(){return d}));var n=i(2),o=i(60),r=i(5),s=i(46),a=i(0),l=i(175);t=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;0<=a;a--)(o=e[a])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s},i=function(e,t){return function(i,n){t(i,n,e)}};const c="ignoreUnusualLineTerminators";let d=class extends n.a{constructor(e,t,i){super(),this._editor=e,this._dialogService=t,this._codeEditorService=i,this._config=this._editor.getOption(112),this._register(this._editor.onDidChangeConfiguration(e=>{e.hasChanged(112)&&(this._config=this._editor.getOption(112),this._checkForUnusualLineTerminators())})),this._register(this._editor.onDidChangeModel(()=>{this._checkForUnusualLineTerminators()})),this._register(this._editor.onDidChangeModelContent(e=>{e.isUndoing||this._checkForUnusualLineTerminators()}))}_checkForUnusualLineTerminators(){return function(e,t,i,n){return new(i=i||Promise)((function(o,r){function s(e){try{l(n.next(e))}catch(e){r(e)}}function a(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):((t=e.value)instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))}(this,void 0,void 0,(function*(){if("off"!==this._config&&this._editor.hasModel()){const i=this._editor.getModel();if(i.mightContainUnusualLineTerminators()){var e,t=(e=i,this._codeEditorService.getModelProperty(e.uri,c));if(!0!==t&&!this._editor.getOption(80))if("auto"!==this._config){if(!(yield this._dialogService.confirm({title:a.a("unusualLineTerminators.title","Unusual Line Terminators"),message:a.a("unusualLineTerminators.message","Detected unusual line terminators"),detail:a.a("unusualLineTerminators.detail","The file '{0}' contains one or more unusual line terminator characters, like Line Separator (LS) or Paragraph Separator (PS).\n\nIt is recommended to remove them from the file. This can be configured via `editor.unusualLineTerminators`.",Object(o.b)(i.uri)),primaryButton:a.a("unusualLineTerminators.fix","Remove Unusual Line Terminators"),secondaryButton:a.a("unusualLineTerminators.ignore","Ignore")})).confirmed)return e=i,t=!0,void this._codeEditorService.setModelProperty(e.uri,c,t);i.removeUnusualLineTerminators(this._editor.getSelections())}else i.removeUnusualLineTerminators(this._editor.getSelections())}}}))}};d.ID="editor.contrib.unusualLineTerminatorsDetector",d=t([i(1,l.a),i(2,s.a)],d),Object(r.l)(d.ID,d)},function(e,t,i){"use strict";i.r(t);var n=i(18),o=i(2),r=i(5),s=i(11),a=i(202),l=i(70),c=i(243),d=i(244),h=i(56),u=i(16);t=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;0<=a;a--)(o=e[a])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s},i=function(e,t){return function(i,n){t(i,n,e)}};(o=class extends o.a{constructor(e,t,i,o){super(),this._modelService=t,this._themeService=i,this._configurationService=o,this._editor=e,this._tokenizeViewport=new n.e(()=>this._tokenizeViewportNow(),100),this._outstandingRequests=[],this._register(this._editor.onDidScrollChange(()=>{this._tokenizeViewport.schedule()})),this._register(this._editor.onDidChangeModel(()=>{this._cancelAll(),this._tokenizeViewport.schedule()})),this._register(this._editor.onDidChangeModelContent(e=>{this._cancelAll(),this._tokenizeViewport.schedule()})),this._register(s.k.onDidChange(()=>{this._cancelAll(),this._tokenizeViewport.schedule()})),this._register(this._configurationService.onDidChangeConfiguration(e=>{e.affectsConfiguration(c.b)&&(this._cancelAll(),this._tokenizeViewport.schedule())})),this._register(this._themeService.onDidColorThemeChange(()=>{this._cancelAll(),this._tokenizeViewport.schedule()}))}_cancelAll(){for(const e of this._outstandingRequests)e.cancel();this._outstandingRequests=[]}_removeOutstandingRequest(e){for(let t=0,i=this._outstandingRequests.length;t<i;t++)if(this._outstandingRequests[t]===e)return void this._outstandingRequests.splice(t,1)}_tokenizeViewportNow(){if(this._editor.hasModel()){const e=this._editor.getModel();if(!e.hasCompleteSemanticTokens())if(Object(c.c)(e,this._themeService,this._configurationService))if(Object(a.c)(e)){const t=this._editor.getVisibleRangesPlusViewportAboveBelow();this._outstandingRequests=this._outstandingRequests.concat(t.map(t=>this._requestRange(e,t)))}else e.hasSomeSemanticTokens()&&e.setSemanticTokens(null,!1);else e.hasSomeSemanticTokens()&&e.setSemanticTokens(null,!1)}}_requestRange(e,t){const i=e.getVersionId(),o=Object(n.h)(i=>Promise.resolve(Object(a.a)(e,t,i)));return o.then(n=>{var o;n&&n.tokens&&!e.isDisposed()&&e.getVersionId()===i&&(({provider:o,tokens:n}=n),o=this._modelService.getSemanticTokensProviderStyling(o),e.setPartialSemanticTokens(t,Object(d.b)(n,o,e.getLanguageId())))}).then(()=>this._removeOutstandingRequest(o),()=>this._removeOutstandingRequest(o)),o}}).ID="editor.contrib.viewportSemanticTokens",o=t([i(1,l.a),i(2,u.b),i(3,h.a)],o),Object(r.l)(o.ID,o)},function(e,t,i){"use strict";i.r(t),i.d(t,"getOccurrencesAtPosition",(function(){return S}));var n=i(73),o=i(22),r=i(18),s=i(38),a=i(17),l=i(2),c=i(5),d=i(3),h=i(8),u=i(50),g=i(42),p=i(11),f=i(0),m=i(10),v=i(4),b=i(16);const _=Object(v.Cc)("editor.wordHighlightBackground",{dark:"#575757B8",light:"#57575740",hc:null},f.a("wordHighlight","Background color of a symbol during read-access, like reading a variable. The color must not be opaque so as not to hide underlying decorations."),!0),w=Object(v.Cc)("editor.wordHighlightStrongBackground",{dark:"#004972B8",light:"#0e639c40",hc:null},f.a("wordHighlightStrong","Background color of a symbol during write-access, like writing to a variable. The color must not be opaque so as not to hide underlying decorations."),!0),C=Object(v.Cc)("editor.wordHighlightBorder",{light:null,dark:null,hc:v.b},f.a("wordHighlightBorder","Border color of a symbol during read-access, like reading a variable.")),y=Object(v.Cc)("editor.wordHighlightStrongBorder",{light:null,dark:null,hc:v.b},f.a("wordHighlightStrongBorder","Border color of a symbol during write-access, like writing to a variable."));t=Object(v.Cc)("editorOverviewRuler.wordHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hc:"#A0A0A0CC"},f.a("overviewRulerWordHighlightForeground","Overview ruler marker color for symbol highlights. The color must not be opaque so as not to hide underlying decorations."),!0),i=Object(v.Cc)("editorOverviewRuler.wordHighlightStrongForeground",{dark:"#C0A0C0CC",light:"#C0A0C0CC",hc:"#C0A0C0CC"},f.a("overviewRulerWordHighlightStrongForeground","Overview ruler marker color for write-access symbol highlights. The color must not be opaque so as not to hide underlying decorations."),!0);const x=new m.c("hasWordHighlights",!1);function S(e,t,i){const n=p.i.ordered(e);return Object(r.j)(n.map(n=>()=>Promise.resolve(n.provideDocumentHighlights(e,t,i)).then(void 0,a.g)),o.n)}class k{constructor(e,t,i){this._wordRange=this._getCurrentWordRange(e,t),this.result=Object(r.h)(n=>this._compute(e,t,i,n))}_getCurrentWordRange(e,t){return(e=e.getWordAtPosition(t.getPosition()))?new d.a(t.startLineNumber,e.startColumn,t.startLineNumber,e.endColumn):null}isValid(e,t,i){var n=t.startLineNumber,o=t.startColumn,r=t.endColumn;t=this._getCurrentWordRange(e,t);let s=Boolean(this._wordRange&&this._wordRange.equalsRange(t));for(let t=0,l=i.length;!s&&t<l;t++){var a=e.getDecorationRange(i[t]);a&&a.startLineNumber===n&&a.startColumn<=o&&a.endColumn>=r&&(s=!0)}return s}cancel(){this.result.cancel()}}class D extends k{_compute(e,t,i,n){return S(e,t.getPosition(),n).then(e=>e||[])}}class L extends k{constructor(e,t,i){super(e,t,i),this._selectionIsEmpty=t.isEmpty()}_compute(e,t,i,n){return Object(r.n)(250,n).then(()=>{if(!t.isEmpty())return[];var n=e.getWordAtPosition(t.getPosition());if(!n||1e3<n.word.length)return[];return e.findMatches(n.word,!0,!1,!0,i,!1).map(e=>({range:e.range,kind:p.h.Text}))})}isValid(e,t,i){var n=t.isEmpty();return this._selectionIsEmpty===n&&super.isValid(e,t,i)}}Object(c.n)("_executeDocumentHighlights",(e,t)=>S(e,t,s.a.None));class O{constructor(e,t){this.toUnhook=new l.b,this.workerRequestTokenId=0,this.workerRequestCompleted=!1,this.workerRequestValue=[],this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1,this.editor=e,this._hasWordHighlights=x.bindTo(t),this._ignorePositionChangeEvent=!1,this.occurrencesHighlight=this.editor.getOption(71),this.model=this.editor.getModel(),this.toUnhook.add(e.onDidChangeCursorPosition(e=>{this._ignorePositionChangeEvent||this.occurrencesHighlight&&this._onPositionChanged(e)})),this.toUnhook.add(e.onDidChangeModelContent(e=>{this._stopAll()})),this.toUnhook.add(e.onDidChangeConfiguration(e=>{var t=this.editor.getOption(71);this.occurrencesHighlight!==t&&(this.occurrencesHighlight=t,this._stopAll())})),this._decorationIds=[],this.workerRequestTokenId=0,this.workerRequest=null,this.workerRequestCompleted=!1,this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1}hasDecorations(){return 0<this._decorationIds.length}restore(){this.occurrencesHighlight&&this._run()}_getSortedHighlights(){return o.e(this._decorationIds.map(e=>this.model.getDecorationRange(e)).sort(d.a.compareRangesUsingStarts))}moveNext(){let e=this._getSortedHighlights();var t=(e.findIndex(e=>e.containsPosition(this.editor.getPosition()))+1)%e.length;let i=e[t];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(i.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(i);var o,r=this._getWord();r&&(o=this.editor.getModel().getLineContent(i.startLineNumber),Object(n.a)(`${o}, ${1+t} of ${e.length} for '${r.word}'`))}finally{this._ignorePositionChangeEvent=!1}}moveBack(){let e=this._getSortedHighlights();var t=(e.findIndex(e=>e.containsPosition(this.editor.getPosition()))-1+e.length)%e.length;let i=e[t];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(i.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(i);var o,r=this._getWord();r&&(o=this.editor.getModel().getLineContent(i.startLineNumber),Object(n.a)(`${o}, ${1+t} of ${e.length} for '${r.word}'`))}finally{this._ignorePositionChangeEvent=!1}}_removeDecorations(){0<this._decorationIds.length&&(this._decorationIds=this.editor.deltaDecorations(this._decorationIds,[]),this._hasWordHighlights.set(!1))}_stopAll(){this._removeDecorations(),-1!==this.renderDecorationsTimer&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1),null!==this.workerRequest&&(this.workerRequest.cancel(),this.workerRequest=null),this.workerRequestCompleted||(this.workerRequestTokenId++,this.workerRequestCompleted=!0)}_onPositionChanged(e){this.occurrencesHighlight&&3===e.reason?this._run():this._stopAll()}_getWord(){var e=(t=this.editor.getSelection()).startLineNumber,t=t.startColumn;return this.model.getWordAtPosition({lineNumber:e,column:t})}_run(){var e=this.editor.getSelection();if(e.startLineNumber===e.endLineNumber){var t=e.startColumn,i=e.endColumn,n=this._getWord();if(!n||n.startColumn>t||n.endColumn<i)this._stopAll();else if(n=this.workerRequest&&this.workerRequest.isValid(this.model,e,this._decorationIds),this.lastCursorPositionChangeTime=(new Date).getTime(),n)this.workerRequestCompleted&&-1!==this.renderDecorationsTimer&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1,this._beginRenderDecorations());else{this._stopAll();let t=++this.workerRequestTokenId;this.workerRequestCompleted=!1,this.workerRequest=(i=this.model,e=this.editor.getSelection(),n=this.editor.getOption(115),new(p.i.has(i)?D:L)(i,e,n)),this.workerRequest.result.then(e=>{t===this.workerRequestTokenId&&(this.workerRequestCompleted=!0,this.workerRequestValue=e||[],this._beginRenderDecorations())},a.f)}}else this._stopAll()}_beginRenderDecorations(){var e=(new Date).getTime(),t=this.lastCursorPositionChangeTime+250;t<=e?(this.renderDecorationsTimer=-1,this.renderDecorations()):this.renderDecorationsTimer=setTimeout(()=>{this.renderDecorations()},t-e)}renderDecorations(){this.renderDecorationsTimer=-1;let e=[];for(const t of this.workerRequestValue)t.range&&e.push({range:t.range,options:O._getDecorationOptions(t.kind)});this._decorationIds=this.editor.deltaDecorations(this._decorationIds,e),this._hasWordHighlights.set(this.hasDecorations())}static _getDecorationOptions(e){return e===p.h.Write?this._WRITE_OPTIONS:e===p.h.Text?this._TEXT_OPTIONS:this._REGULAR_OPTIONS}dispose(){this._stopAll(),this.toUnhook.dispose()}}O._WRITE_OPTIONS=g.b.register({description:"word-highlight-strong",stickiness:1,className:"wordHighlightStrong",overviewRuler:{color:Object(b.g)(i),position:u.g.Center},minimap:{color:Object(b.g)(v.ic),position:u.f.Inline}}),O._TEXT_OPTIONS=g.b.register({description:"selection-highlight",stickiness:1,className:"selectionHighlight",overviewRuler:{color:Object(b.g)(v.pc),position:u.g.Center},minimap:{color:Object(b.g)(v.ic),position:u.f.Inline}}),O._REGULAR_OPTIONS=g.b.register({description:"word-highlight",stickiness:1,className:"wordHighlight",overviewRuler:{color:Object(b.g)(t),position:u.g.Center},minimap:{color:Object(b.g)(v.ic),position:u.f.Inline}});let E=class e extends l.a{constructor(e,t){super(),this.wordHighlighter=null;const i=()=>{e.hasModel()&&(this.wordHighlighter=new O(e,t))};this._register(e.onDidChangeModel(e=>{this.wordHighlighter&&(this.wordHighlighter.dispose(),this.wordHighlighter=null),i()})),i()}static get(t){return t.getContribution(e.ID)}saveViewState(){return!(!this.wordHighlighter||!this.wordHighlighter.hasDecorations())}moveNext(){this.wordHighlighter&&this.wordHighlighter.moveNext()}moveBack(){this.wordHighlighter&&this.wordHighlighter.moveBack()}restoreViewState(e){this.wordHighlighter&&e&&this.wordHighlighter.restore()}dispose(){this.wordHighlighter&&(this.wordHighlighter.dispose(),this.wordHighlighter=null),super.dispose()}};E.ID="editor.contrib.wordHighlighter",E=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;0<=a;a--)(o=e[a])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s}([function(e,t){return function(i,n){t(i,n,e)}}(1,m.b)],E);class N extends c.b{constructor(e,t){super(t),this._isNext=e}run(e,t){const i=E.get(t);i&&(this._isNext?i.moveNext():i.moveBack())}}class I extends c.b{constructor(){super({id:"editor.action.wordHighlight.trigger",label:f.a("wordHighlight.trigger.label","Trigger Symbol Highlight"),alias:"Trigger Symbol Highlight",precondition:x.toNegated(),kbOpts:{kbExpr:h.a.editorTextFocus,primary:0,weight:100}})}run(e,t,i){const n=E.get(t);n&&n.restoreViewState(!0)}}Object(c.l)(E.ID,E),Object(c.j)(class extends N{constructor(){super(!0,{id:"editor.action.wordHighlight.next",label:f.a("wordHighlight.next.label","Go to Next Symbol Highlight"),alias:"Go to Next Symbol Highlight",precondition:x,kbOpts:{kbExpr:h.a.editorTextFocus,primary:65,weight:100}})}}),Object(c.j)(class extends N{constructor(){super(!1,{id:"editor.action.wordHighlight.prev",label:f.a("wordHighlight.previous.label","Go to Previous Symbol Highlight"),alias:"Go to Previous Symbol Highlight",precondition:x,kbOpts:{kbExpr:h.a.editorTextFocus,primary:1089,weight:100}})}}),Object(c.j)(I),Object(b.f)((e,t)=>{const i=e.getColor(v.X);i&&(t.addRule(`.monaco-editor .focused .selectionHighlight { background-color: ${i}; }`),t.addRule(`.monaco-editor .selectionHighlight { background-color: ${i.transparent(.5)}; }`));var n=e.getColor(_);n&&t.addRule(`.monaco-editor .wordHighlight { background-color: ${n}; }`),(n=e.getColor(w))&&t.addRule(`.monaco-editor .wordHighlightStrong { background-color: ${n}; }`),(n=e.getColor(v.Y))&&t.addRule(`.monaco-editor .selectionHighlight { border: 1px ${"hc"===e.type?"dotted":"solid"} ${n}; box-sizing: border-box; }`),(n=e.getColor(C))&&t.addRule(`.monaco-editor .wordHighlight { border: 1px ${"hc"===e.type?"dashed":"solid"} ${n}; box-sizing: border-box; }`),(n=e.getColor(y))&&t.addRule(`.monaco-editor .wordHighlightStrong { border: 1px ${"hc"===e.type?"dashed":"solid"} ${n}; box-sizing: border-box; }`)})},function(e,t,i){"use strict";i.r(t),i.d(t,"DeleteWordPartLeft",(function(){return a})),i.d(t,"DeleteWordPartRight",(function(){return l})),i.d(t,"WordPartLeftCommand",(function(){return c})),i.d(t,"CursorWordPartLeft",(function(){return d})),i.d(t,"CursorWordPartLeftSelect",(function(){return h})),i.d(t,"WordPartRightCommand",(function(){return u})),i.d(t,"CursorWordPartRight",(function(){return g})),i.d(t,"CursorWordPartRightSelect",(function(){return p}));var n=i(5),o=i(151),r=i(3),s=i(8);t=i(226),i=i(36);class a extends t.DeleteWordCommand{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordPartLeft",precondition:s.a.writable,kbOpts:{kbExpr:s.a.textInputFocus,primary:0,mac:{primary:769},weight:100}})}_delete(e,t){return(e=o.b.deleteWordPartLeft(e))||new r.a(1,1,1,1)}}class l extends t.DeleteWordCommand{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordPartRight",precondition:s.a.writable,kbOpts:{kbExpr:s.a.textInputFocus,primary:0,mac:{primary:788},weight:100}})}_delete(e,t){var i=o.b.deleteWordPartRight(e);return i||(i=e.model.getLineCount(),e=e.model.getLineMaxColumn(i),new r.a(i,e,i,e))}}class c extends t.MoveWordCommand{_move(e,t,i,n){return o.b.moveWordPartLeft(e,t,i)}}class d extends c{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordPartLeft",precondition:void 0,kbOpts:{kbExpr:s.a.textInputFocus,primary:0,mac:{primary:783},weight:100}})}}i.a.registerCommandAlias("cursorWordPartStartLeft","cursorWordPartLeft");class h extends c{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordPartLeftSelect",precondition:void 0,kbOpts:{kbExpr:s.a.textInputFocus,primary:0,mac:{primary:1807},weight:100}})}}i.a.registerCommandAlias("cursorWordPartStartLeftSelect","cursorWordPartLeftSelect");class u extends t.MoveWordCommand{_move(e,t,i,n){return o.b.moveWordPartRight(e,t,i)}}class g extends u{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordPartRight",precondition:void 0,kbOpts:{kbExpr:s.a.textInputFocus,primary:0,mac:{primary:785},weight:100}})}}class p extends u{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordPartRightSelect",precondition:void 0,kbOpts:{kbExpr:s.a.textInputFocus,primary:0,mac:{primary:1809},weight:100}})}}Object(n.k)(new a),Object(n.k)(new l),Object(n.k)(new d),Object(n.k)(new h),Object(n.k)(new g),Object(n.k)(new p)},function(e,t,i){var n=i(534);(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n).locals&&(e.exports=n.locals),(0,i(28).default)("ca189754",n,!0,{})},function(e,t,i){(e.exports=i(27)(!1)).push([e.i,'.monaco-editor{font-family:-apple-system,BlinkMacSystemFont,Segoe WPC,Segoe UI,HelveticaNeue-Light,system-ui,Ubuntu,Droid Sans,sans-serif;--monaco-monospace-font:"SF Mono",Monaco,Menlo,Consolas,"Ubuntu Mono","Liberation Mono","DejaVu Sans Mono","Courier New",monospace}.monaco-editor.hc-black .monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .action-label,.monaco-editor.vs-dark .monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .action-label,.monaco-menu .monaco-action-bar.vertical .action-item .action-menu-item:focus .action-label{stroke-width:1.2px}.monaco-hover p{margin:0}.monaco-aria-container{position:absolute!important;top:0;height:1px;width:1px;margin:-1px;overflow:hidden;padding:0;clip:rect(1px,1px,1px,1px);-webkit-clip-path:inset(50%);clip-path:inset(50%)}.monaco-editor.hc-black{-ms-high-contrast-adjust:none}@media screen and (-ms-high-contrast:active){.monaco-editor.vs-dark .view-overlays .current-line,.monaco-editor.vs .view-overlays .current-line{border-color:windowtext!important;border-left:0;border-right:0}.monaco-editor.vs-dark .cursor,.monaco-editor.vs .cursor{background-color:windowtext!important}.monaco-editor.vs-dark .dnd-target,.monaco-editor.vs .dnd-target{border-color:windowtext!important}.monaco-editor.vs-dark .selected-text,.monaco-editor.vs .selected-text{background-color:highlight!important}.monaco-editor.vs-dark .view-line,.monaco-editor.vs .view-line{-ms-high-contrast-adjust:none}.monaco-editor.vs-dark .view-line span,.monaco-editor.vs .view-line span{color:windowtext!important}.monaco-editor.vs-dark .view-line span.inline-selected-text,.monaco-editor.vs .view-line span.inline-selected-text{color:highlighttext!important}.monaco-editor.vs-dark .view-overlays,.monaco-editor.vs .view-overlays{-ms-high-contrast-adjust:none}.monaco-editor.vs-dark .reference-decoration,.monaco-editor.vs-dark .selectionHighlight,.monaco-editor.vs-dark .wordHighlight,.monaco-editor.vs-dark .wordHighlightStrong,.monaco-editor.vs .reference-decoration,.monaco-editor.vs .selectionHighlight,.monaco-editor.vs .wordHighlight,.monaco-editor.vs .wordHighlightStrong{border:2px dotted highlight!important;background:transparent!important;box-sizing:border-box}.monaco-editor.vs-dark .rangeHighlight,.monaco-editor.vs .rangeHighlight{background:transparent!important;border:1px dotted activeborder!important;box-sizing:border-box}.monaco-editor.vs-dark .bracket-match,.monaco-editor.vs .bracket-match{border-color:windowtext!important;background:transparent!important}.monaco-editor.vs-dark .currentFindMatch,.monaco-editor.vs-dark .findMatch,.monaco-editor.vs .currentFindMatch,.monaco-editor.vs .findMatch{border:2px dotted activeborder!important;background:transparent!important;box-sizing:border-box}.monaco-editor.vs-dark .find-widget,.monaco-editor.vs .find-widget{border:1px solid windowtext}.monaco-editor.vs-dark .monaco-list .monaco-list-row,.monaco-editor.vs .monaco-list .monaco-list-row{-ms-high-contrast-adjust:none;color:windowtext!important}.monaco-editor.vs-dark .monaco-list .monaco-list-row.focused,.monaco-editor.vs .monaco-list .monaco-list-row.focused{color:highlighttext!important;background-color:highlight!important}.monaco-editor.vs-dark .monaco-list .monaco-list-row:hover,.monaco-editor.vs .monaco-list .monaco-list-row:hover{background:transparent!important;border:1px solid highlight;box-sizing:border-box}.monaco-editor.vs-dark .monaco-scrollable-element>.scrollbar,.monaco-editor.vs .monaco-scrollable-element>.scrollbar{-ms-high-contrast-adjust:none;background:background!important;border:1px solid windowtext;box-sizing:border-box}.monaco-editor.vs-dark .monaco-scrollable-element>.scrollbar>.slider,.monaco-editor.vs .monaco-scrollable-element>.scrollbar>.slider{background:windowtext!important}.monaco-editor.vs-dark .monaco-scrollable-element>.scrollbar>.slider.active,.monaco-editor.vs-dark .monaco-scrollable-element>.scrollbar>.slider:hover,.monaco-editor.vs .monaco-scrollable-element>.scrollbar>.slider.active,.monaco-editor.vs .monaco-scrollable-element>.scrollbar>.slider:hover{background:highlight!important}.monaco-editor.vs-dark .decorationsOverviewRuler,.monaco-editor.vs .decorationsOverviewRuler{opacity:0}.monaco-editor.vs-dark .minimap,.monaco-editor.vs .minimap{display:none}.monaco-editor.vs-dark .squiggly-d-error,.monaco-editor.vs .squiggly-d-error{background:transparent!important;border-bottom:4px double #e47777}.monaco-editor.vs-dark .squiggly-b-info,.monaco-editor.vs-dark .squiggly-c-warning,.monaco-editor.vs .squiggly-b-info,.monaco-editor.vs .squiggly-c-warning{border-bottom:4px double #71b771}.monaco-editor.vs-dark .squiggly-a-hint,.monaco-editor.vs .squiggly-a-hint{border-bottom:4px double #6c6c6c}.monaco-editor.vs-dark .monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .action-label,.monaco-editor.vs .monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .action-label{-ms-high-contrast-adjust:none;color:highlighttext!important;background-color:highlight!important}.monaco-editor.vs-dark .monaco-menu .monaco-action-bar.vertical .action-menu-item:hover .action-label,.monaco-editor.vs .monaco-menu .monaco-action-bar.vertical .action-menu-item:hover .action-label{-ms-high-contrast-adjust:none;background:transparent!important;border:1px solid highlight;box-sizing:border-box}.monaco-diff-editor.vs-dark .diffOverviewRuler,.monaco-diff-editor.vs .diffOverviewRuler{display:none}.monaco-editor.vs-dark .line-delete,.monaco-editor.vs-dark .line-insert,.monaco-editor.vs .line-delete,.monaco-editor.vs .line-insert{background:transparent!important;border:1px solid highlight!important;box-sizing:border-box}.monaco-editor.vs-dark .char-delete,.monaco-editor.vs-dark .char-insert,.monaco-editor.vs .char-delete,.monaco-editor.vs .char-insert{background:transparent!important}}',""])},function(e,t,i){var n=i(536);(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n).locals&&(e.exports=n.locals),(0,i(28).default)("10aaf72e",n,!0,{})},function(e,t,i){(e.exports=i(27)(!1)).push([e.i,".monaco-diff-editor .diffOverview{z-index:9}.monaco-diff-editor .diffOverview .diffViewport{z-index:10}.monaco-diff-editor.vs .diffOverview{background:rgba(0,0,0,.03)}.monaco-diff-editor.vs-dark .diffOverview{background:hsla(0,0%,100%,.01)}.monaco-scrollable-element.modified-in-monaco-diff-editor.vs-dark .scrollbar,.monaco-scrollable-element.modified-in-monaco-diff-editor.vs .scrollbar{background:transparent}.monaco-scrollable-element.modified-in-monaco-diff-editor.hc-black .scrollbar{background:none}.monaco-scrollable-element.modified-in-monaco-diff-editor .slider{z-index:10}.modified-in-monaco-diff-editor .slider.active{background:hsla(0,0%,67%,.4)}.modified-in-monaco-diff-editor.hc-black .slider.active{background:none}.monaco-diff-editor .delete-sign,.monaco-diff-editor .insert-sign,.monaco-editor .delete-sign,.monaco-editor .insert-sign{font-size:11px!important;opacity:.7!important;display:flex!important;align-items:center}.monaco-diff-editor.hc-black .delete-sign,.monaco-diff-editor.hc-black .insert-sign,.monaco-editor.hc-black .delete-sign,.monaco-editor.hc-black .insert-sign{opacity:1}.monaco-editor .inline-added-margin-view-zone,.monaco-editor .inline-deleted-margin-view-zone{text-align:right}.monaco-editor .view-zones .view-lines .view-line span{display:inline-block}.monaco-editor .margin-view-zones .lightbulb-glyph:hover{cursor:pointer}",""])},function(e,t,i){var n=i(538);(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n).locals&&(e.exports=n.locals),(0,i(28).default)("ea0b1964",n,!0,{})},function(e,t,i){(e.exports=i(27)(!1)).push([e.i,".monaco-diff-editor .diff-review-line-number{text-align:right;display:inline-block}.monaco-diff-editor .diff-review{position:absolute;-moz-user-select:none;user-select:none;-webkit-user-select:none;-ms-user-select:none}.monaco-diff-editor .diff-review-summary{padding-left:10px}.monaco-diff-editor .diff-review-shadow{position:absolute}.monaco-diff-editor .diff-review-row{white-space:pre}.monaco-diff-editor .diff-review-table{display:table;min-width:100%}.monaco-diff-editor .diff-review-row{display:table-row;width:100%}.monaco-diff-editor .diff-review-spacer{display:inline-block;width:10px;vertical-align:middle}.monaco-diff-editor .diff-review-spacer>.codicon{font-size:9px!important}.monaco-diff-editor .diff-review-actions{display:inline-block;position:absolute;right:10px;top:2px}.monaco-diff-editor .diff-review-actions .action-label{width:16px;height:16px;margin:2px 0}",""])},function(e,t,i){var n=i(540);(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n).locals&&(e.exports=n.locals),(0,i(28).default)("a4abcb38",n,!0,{})},function(e,t,i){(e.exports=i(27)(!1)).push([e.i,".context-view{position:absolute;z-index:2500}.context-view.fixed{all:initial;font-family:inherit;font-size:13px;position:fixed;z-index:2500;color:inherit}",""])},function(e,t,i){var n=i(542);(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n).locals&&(e.exports=n.locals),(0,i(28).default)("5624e32b",n,!0,{})},function(e,t,i){(e.exports=i(27)(!1)).push([e.i,".context-view .monaco-menu{min-width:130px}",""])},function(e,t,i){var n=i(544);(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n).locals&&(e.exports=n.locals),(0,i(28).default)("4449c050",n,!0,{})},function(e,t,i){(e.exports=i(27)(!1)).push([e.i,".quick-input-widget{font-size:13px}.quick-input-widget .monaco-highlighted-label .highlight{color:#0066bf}.vs .quick-input-widget .monaco-list-row.focused .monaco-highlighted-label .highlight{color:#9dddff}.vs-dark .quick-input-widget .monaco-highlighted-label .highlight{color:#0097fb}.hc-black .quick-input-widget .monaco-highlighted-label .highlight{color:#f38518}.monaco-keybinding>.monaco-keybinding-key{background-color:hsla(0,0%,87%,.4);border:1px solid hsla(0,0%,80%,.4);border-bottom-color:hsla(0,0%,73%,.4);box-shadow:inset 0 -1px 0 hsla(0,0%,73%,.4);color:#555}.hc-black .monaco-keybinding>.monaco-keybinding-key{background-color:transparent;border:1px solid #6fc3df;box-shadow:none;color:#fff}.vs-dark .monaco-keybinding>.monaco-keybinding-key{background-color:hsla(0,0%,50%,.17);border:1px solid rgba(51,51,51,.6);border-bottom-color:rgba(68,68,68,.6);box-shadow:inset 0 -1px 0 rgba(68,68,68,.6);color:#ccc}",""])},function(e,t,i){var n=i(546);(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n).locals&&(e.exports=n.locals),(0,i(28).default)("76f63258",n,!0,{})},function(e,t,i){(e.exports=i(27)(!1)).push([e.i,".monaco-text-button{box-sizing:border-box;display:flex;width:100%;padding:4px;text-align:center;cursor:pointer;justify-content:center;align-items:center}.monaco-text-button:focus{outline-offset:2px!important}.monaco-text-button:hover{text-decoration:none!important}.monaco-button.disabled,.monaco-button.disabled:focus{opacity:.4!important;cursor:default}.monaco-text-button>.codicon{margin:0 .2em;color:inherit!important}.monaco-button-dropdown{display:flex;cursor:pointer}.monaco-button-dropdown>.monaco-dropdown-button{margin-left:1px}.monaco-description-button{flex-direction:column}.monaco-description-button .monaco-button-label{font-weight:500}.monaco-description-button .monaco-button-description{font-style:italic}",""])},function(e,t,i){var n=i(548);(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n).locals&&(e.exports=n.locals),(0,i(28).default)("ac02558c",n,!0,{})},function(e,t,i){(e.exports=i(27)(!1)).push([e.i,".monaco-progress-container{width:100%;height:5px;overflow:hidden}.monaco-progress-container .progress-bit{width:2%;height:5px;position:absolute;left:0;display:none}.monaco-progress-container.active .progress-bit{display:inherit}.monaco-progress-container.discrete .progress-bit{left:0;transition:width .1s linear}.monaco-progress-container.discrete.done .progress-bit{width:100%}.monaco-progress-container.infinite .progress-bit{-webkit-animation-name:progress;animation-name:progress;-webkit-animation-duration:4s;animation-duration:4s;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite;-webkit-animation-timing-function:linear;animation-timing-function:linear;transform:translateZ(0)}@-webkit-keyframes progress{0%{transform:translateX(0) scaleX(1)}50%{transform:translateX(2500%) scaleX(3)}to{transform:translateX(4900%) scaleX(1)}}@keyframes progress{0%{transform:translateX(0) scaleX(1)}50%{transform:translateX(2500%) scaleX(3)}to{transform:translateX(4900%) scaleX(1)}}",""])},function(e,t,i){(e.exports=i(27)(!1)).push([e.i,'.quick-input-widget{position:absolute;width:600px;z-index:2000;padding:0 1px 1px;left:50%;margin-left:-300px}.quick-input-titlebar{display:flex;align-items:center}.quick-input-left-action-bar{display:flex;margin-left:4px;flex:1}.quick-input-title{padding:3px 0;text-align:center;text-overflow:ellipsis;overflow:hidden}.quick-input-right-action-bar{display:flex;margin-right:4px;flex:1}.quick-input-right-action-bar>.actions-container{justify-content:flex-end}.quick-input-titlebar .monaco-action-bar .action-label.codicon{background-position:50%;background-repeat:no-repeat;padding:2px}.quick-input-description{margin:6px}.quick-input-header .quick-input-description{margin:4px 2px}.quick-input-header{display:flex;padding:6px 6px 0;margin-bottom:-2px}.quick-input-widget.hidden-input .quick-input-header{padding:0;margin-bottom:0}.quick-input-and-message{display:flex;flex-direction:column;flex-grow:1;min-width:0;position:relative}.quick-input-check-all{align-self:center;margin:0}.quick-input-filter{flex-grow:1;display:flex;position:relative}.quick-input-box{flex-grow:1}.quick-input-widget.show-checkboxes .quick-input-box,.quick-input-widget.show-checkboxes .quick-input-message{margin-left:5px}.quick-input-visible-count{position:absolute;left:-10000px}.quick-input-count{align-self:center;position:absolute;right:4px;display:flex;align-items:center}.quick-input-count .monaco-count-badge{vertical-align:middle;padding:2px 4px;border-radius:2px;min-height:auto;line-height:normal}.quick-input-action{margin-left:6px}.quick-input-action .monaco-text-button{font-size:11px;padding:0 6px;display:flex;height:27.5px;align-items:center}.quick-input-message{margin-top:-1px;padding:5px 5px 2px;overflow-wrap:break-word}.quick-input-message>.codicon{margin:0 .2em;vertical-align:text-bottom}.quick-input-progress.monaco-progress-container{position:relative}.quick-input-progress.monaco-progress-container,.quick-input-progress.monaco-progress-container .progress-bit{height:2px}.quick-input-list{line-height:22px;margin-top:6px}.quick-input-widget.hidden-input .quick-input-list{margin-top:0}.quick-input-list .monaco-list{overflow:hidden;max-height:440px}.quick-input-list .quick-input-list-entry{box-sizing:border-box;overflow:hidden;display:flex;height:100%;padding:0 6px}.quick-input-list .quick-input-list-entry.quick-input-list-separator-border{border-top-width:1px;border-top-style:solid}.quick-input-list .monaco-list-row[data-index="0"] .quick-input-list-entry.quick-input-list-separator-border{border-top-style:none}.quick-input-list .quick-input-list-label{overflow:hidden;display:flex;height:100%;flex:1}.quick-input-list .quick-input-list-checkbox{align-self:center;margin:0}.quick-input-list .quick-input-list-rows{overflow:hidden;text-overflow:ellipsis;display:flex;flex-direction:column;height:100%;flex:1;margin-left:5px}.quick-input-widget.show-checkboxes .quick-input-list .quick-input-list-rows{margin-left:10px}.quick-input-widget .quick-input-list .quick-input-list-checkbox{display:none}.quick-input-widget.show-checkboxes .quick-input-list .quick-input-list-checkbox{display:inline}.quick-input-list .quick-input-list-rows>.quick-input-list-row{display:flex;align-items:center}.quick-input-list .quick-input-list-rows>.quick-input-list-row .monaco-icon-label,.quick-input-list .quick-input-list-rows>.quick-input-list-row .monaco-icon-label .monaco-icon-label-container>.monaco-icon-name-container{flex:1}.quick-input-list .quick-input-list-rows>.quick-input-list-row .codicon[class*=codicon-]{vertical-align:text-bottom}.quick-input-list .quick-input-list-rows .monaco-highlighted-label span{opacity:1}.quick-input-list .quick-input-list-entry .quick-input-list-entry-keybinding{margin-right:8px}.quick-input-list .quick-input-list-label-meta{opacity:.7;line-height:normal;text-overflow:ellipsis;overflow:hidden}.quick-input-list .monaco-highlighted-label .highlight{font-weight:700}.quick-input-list .quick-input-list-entry .quick-input-list-separator{margin-right:8px}.quick-input-list .quick-input-list-entry-action-bar{display:flex;flex:0;overflow:visible}.quick-input-list .quick-input-list-entry-action-bar .action-label{display:none}.quick-input-list .quick-input-list-entry-action-bar .action-label.codicon{margin-right:4px;padding:0 2px 2px}.quick-input-list .quick-input-list-entry-action-bar{margin-top:1px;margin-right:4px}.quick-input-list .monaco-list-row.focused .quick-input-list-entry-action-bar .action-label,.quick-input-list .quick-input-list-entry .quick-input-list-entry-action-bar .action-label.always-visible,.quick-input-list .quick-input-list-entry:hover .quick-input-list-entry-action-bar .action-label{display:flex}.quick-input-list .monaco-list-row.focused .monaco-keybinding-key,.quick-input-list .monaco-list-row.focused .quick-input-list-entry .quick-input-list-separator{color:inherit}.quick-input-list .monaco-list-row.focused .monaco-keybinding-key{background:none}',""])},function(e,t,i){var n=i(551);(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n).locals&&(e.exports=n.locals),(0,i(28).default)("5920035c",n,!0,{})},function(e,t,i){(e.exports=i(27)(!1)).push([e.i,".monaco-keybinding{display:flex;align-items:center;line-height:10px}.monaco-keybinding>.monaco-keybinding-key{display:inline-block;border-style:solid;border-width:1px;border-radius:3px;vertical-align:middle;font-size:11px;padding:3px 5px;margin:0 2px}.monaco-keybinding>.monaco-keybinding-key:first-child{margin-left:0}.monaco-keybinding>.monaco-keybinding-key:last-child{margin-right:0}.monaco-keybinding>.monaco-keybinding-key-separator{display:inline-block}.monaco-keybinding>.monaco-keybinding-key-chord-separator{width:6px}",""])},function(e,t){(function(t){e.exports=t}).call(this,{})},function(e,t,i){"use strict";i.r(t),t=i(217),Object(t.a)({id:"yaml",extensions:[".yaml",".yml"],aliases:["YAML","yaml","YML","yml"],mimetypes:["application/x-yaml","text/x-yaml"],loader:function(){return i.e(3).then(i.bind(null,717))}})},function(e,t,i){"use strict";i.r(t),t=i(217),Object(t.a)({id:"javascript",extensions:[".js",".es6",".jsx",".mjs"],firstLine:"^#!.*\\bnode",filenames:["jakefile"],aliases:["JavaScript","javascript","js"],mimetypes:["text/javascript"],loader:function(){return i.e(1).then(i.bind(null,719))}})},function(e,t,i){"use strict";i.r(t),t=i(217),Object(t.a)({id:"python",extensions:[".py",".rpy",".pyw",".cpy",".gyp",".gypi"],aliases:["Python","py"],firstLine:"^#!/.*\\bpython[0-9.-]*\\b",loader:function(){return i.e(2).then(i.bind(null,718))}})},function(e,t){e.exports=require("fs-extra")},function(e,t,i){"use strict";i(297)},function(e,t,i){(e.exports=i(27)(!1)).push([e.i,".wrapper[data-v-37ef8bd3]{height:100vh;width:100vw;overflow:hidden}",""])},function(e,t,i){"use strict";i(298)},function(e,t,i){(e.exports=i(27)(!1)).push([e.i,"*,:after,:before{-webkit-user-drag:none}*,:after,:before{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}*{box-sizing:border-box;margin:0;padding:0}body{font-family:Noto Sans CJK,sans-serif;font-weight:500;overflow:hidden;background-color:var(--bgc)}input{font-family:inherit}",""])},function(e,t,i){"use strict";i(299)},function(e,t,i){(e.exports=i(27)(!1)).push([e.i,"main[data-v-37ef8bd3]{display:flex;justify-content:space-between}.left-side[data-v-37ef8bd3]{display:flex;flex-direction:column;width:170px;height:calc(100vh - 25px)}.right-side[data-v-37ef8bd3]{z-index:1;flex-grow:1;width:calc(100vw - 170px);height:calc(100vh - 25px)}.welcome[data-v-37ef8bd3]{color:#555;font-size:23px;margin-bottom:10px}.title[data-v-37ef8bd3]{color:#2c3e50;font-size:20px;font-weight:700;margin-bottom:6px}.title.alt[data-v-37ef8bd3]{font-size:18px;margin-bottom:10px}.doc p[data-v-37ef8bd3]{color:#000;margin-bottom:10px}.doc button[data-v-37ef8bd3]{font-size:.8em;cursor:pointer;outline:none;padding:.75em 2em;border-radius:2em;display:inline-block;color:#fff;background-color:#4fc08d;transition:all .15s ease;box-sizing:border-box;border:1px solid #4fc08d}.doc button.alt[data-v-37ef8bd3]{color:#42b983;background-color:transparent}.clash-status-main[data-v-37ef8bd3]{display:flex;align-items:center;position:absolute;height:40px;bottom:0;width:170px;left:0;justify-content:center;z-index:2}.clash-status-hint[data-v-37ef8bd3]{margin-left:6px;font-size:.75em;letter-spacing:0;cursor:pointer}.clash-status-icon[data-v-37ef8bd3]{width:12px;height:12px;border-radius:10px}.clash-running[data-v-37ef8bd3]{background-color:#41b883}.clash-set-dns[data-v-37ef8bd3]{background-color:#e7d91a}.clash-stopped[data-v-37ef8bd3]{background-color:red}.cloud[data-v-37ef8bd3]{position:fixed;bottom:110px;left:calc(50% + 80px);transform:translateX(-50%);width:40%;pointer-events:none}.opacicy[data-v-37ef8bd3]{opacity:.2}.latern[data-v-37ef8bd3]{position:fixed;opacity:.7;top:30px;left:125px;width:50px;pointer-events:none}",""])},function(e,t,i){"use strict";i(300)},function(e,t,i){(e.exports=i(27)(!1)).push([e.i,".error-hint[data-v-9ba71ad8]{font-size:14px;cursor:pointer;background-color:var(--bgc);color:var(--fgc);border:1px solid var(--bc);border-radius:3px;box-shadow:0 0 2px 1px var(--shadow);padding:6px 15px}#error-view-main[data-v-9ba71ad8]{display:flex;flex-direction:column;align-items:center;justify-content:center;flex-grow:1;padding-bottom:60px}#error-view-main .error-content[data-v-9ba71ad8]{font-size:15px;border:1px solid hsla(0,0%,69%,.178);padding:10px;max-height:100px;overflow-y:auto;margin-top:10px;margin-left:40px;margin-right:40px;color:#e74949}#error-view-main .error-content[data-v-9ba71ad8]::-webkit-scrollbar{width:16px}#error-view-main .error-content[data-v-9ba71ad8]::-webkit-scrollbar-thumb{background-color:var(--scroll-bar-bgc);border-radius:100px;border:3px solid var(--bgc)}#error-view-main .error-content[data-v-9ba71ad8]::-webkit-scrollbar-corner{background-color:var(--bgc)}.error-hints[data-v-9ba71ad8]{display:flex;flex-direction:column;align-items:center}.loading-hint[data-v-9ba71ad8]{font-size:22px;margin-bottom:40px}.error-btns[data-v-9ba71ad8]{display:flex;margin-top:30px}.error-btns div[data-v-9ba71ad8]{width:150px;text-align:center;margin:0 20px}",""])},function(e,t,i){"use strict";i(301)},function(e,t,i){(e.exports=i(27)(!1)).push([e.i,"#error-title[data-v-9ba71ad8]{font-size:1.1em}",""])},function(e,t,i){"use strict";i(302)},function(e,t,i){(e.exports=i(27)(!1)).push([e.i,".main-select-view[data-v-e458e7bc]{display:flex;align-items:center;justify-content:space-between}.item[data-v-e458e7bc]{color:#fff;height:26px;font-size:.8em;line-height:25px;padding:0 6px;text-align:center;cursor:pointer;min-width:50px;transition:all .3s}.item-single[data-v-e458e7bc]{background-color:var(--switch-bgc)}.item-double[data-v-e458e7bc]{background-color:var(--switch-bgc-second)}.item-first[data-v-e458e7bc]{border-top-left-radius:6px;border-bottom-left-radius:6px}.item-last[data-v-e458e7bc]{border-top-right-radius:6px;border-bottom-right-radius:6px}.item-selected[data-v-e458e7bc]{background-color:#179bbb;flex-grow:1}",""])},function(e,t,i){"use strict";i(303)},function(e,t,i){(e.exports=i(27)(!1)).push([e.i,".main[data-v-37d0be30]{border:2px solid var(--switch-bgc);background-color:var(--switch-bgc);border-radius:40px;width:34px;height:20px;box-shadow:0 0 5px 1px rgba(50,50,50,0);display:flex;padding:0 2px;align-items:center}.main [data-v-37d0be30]{cursor:pointer}.text[data-v-37d0be30]{display:flex;justify-content:space-between;align-items:center;width:calc(100% - 0px);height:calc(100% - 4px)}.base[data-v-37d0be30]{width:calc(100% - 17px);height:100%}.text-font[data-v-37d0be30]{letter-spacing:0;text-align:center;font-size:12px;margin-bottom:8px;color:#fff}.tint-right[data-v-37d0be30]{background-color:#d44545;border-radius:20px;width:12px}.tint-left[data-v-37d0be30]{background-color:#13af42;border-radius:20px;width:12px}.move-left-enter-active[data-v-37d0be30]{transition:all .2s ease}.move-left-leave-active[data-v-37d0be30]{transition:all .1s ease-out}.move-left-enter[data-v-37d0be30],.move-left-leave-to[data-v-37d0be30]{transform:translateX(-10px);opacity:0}.move-right-enter-active[data-v-37d0be30]{transition:all .2s ease}.move-right-leave-active[data-v-37d0be30]{transition:all .1s ease-out}.move-right-enter[data-v-37d0be30],.move-right-leave-to[data-v-37d0be30]{transform:translateX(10px);opacity:0}",""])},function(e,t,i){"use strict";i(304)},function(e,t,i){(e.exports=i(27)(!1)).push([e.i,"input[data-v-279f1c41]::-webkit-inner-spin-button,input[data-v-279f1c41]::-webkit-outer-spin-button{-webkit-appearance:none}.main-simple-input[data-v-279f1c41]{position:relative;width:250px}.main-simple-input input[data-v-279f1c41]{width:100%;text-align:center;border:none;outline-style:none;background-color:var(--setting-input-bgc);color:var(--fgc);height:25px;box-shadow:1px 1px 4px 1px rgba(50,50,50,.04);border-radius:2px}.main-simple-input .suffix[data-v-279f1c41]{position:absolute;right:10px;top:0;height:25px;line-height:25px;color:var(--menu-fgc);font-size:13px}",""])},function(e,t,i){"use strict";i(305)},function(e,t,i){(e.exports=i(27)(!1)).push([e.i,".main-edit-list-view .item[data-v-38c11d63]{display:flex;margin-bottom:5px;height:25px}.main-edit-list-view .item input[data-v-38c11d63]{width:calc(100% - 30px);outline:none;border-top-left-radius:3px;border-bottom-left-radius:3px;padding:0 10px;flex-grow:1}.main-edit-list-view .btn-add[data-v-38c11d63]{width:100%;height:25px;border-radius:3px;border:1px solid #41b883;display:flex;justify-content:center;align-items:center}.main-edit-list-view .btn-remove[data-v-38c11d63]{height:100%;width:30px;border-top-right-radius:3px;border-bottom-right-radius:3px;display:flex;justify-content:center;align-items:center;background-color:#d44545;border-left-color:transparent}",""])},function(e,t,i){"use strict";i(306)},function(e,t,i){(e.exports=i(27)(!1)).push([e.i,".main-tun-settings-view[data-v-2847ffbe]{width:calc(100% - 170px);height:calc(100% - 25px);position:absolute;top:25px;left:170px;color:#000}.main-tun-settings-view .content[data-v-2847ffbe]{border-radius:3px;width:600px;position:absolute;top:50%;left:50%;transform:translateX(-50%) translateY(-50%);padding:10px 20px;font-size:14px;font-weight:700}.main-tun-settings-view .content .title[data-v-2847ffbe]{font-size:16px;margin-bottom:5px}.main-tun-settings-view .content .pannel[data-v-2847ffbe]{display:flex;height:100%}.main-tun-settings-view .content .pannel .left[data-v-2847ffbe]{width:300px;border-radius:5px;padding:5px 10px;max-height:430px;overflow:auto;overflow-y:auto}.main-tun-settings-view .content .pannel .left[data-v-2847ffbe]::-webkit-scrollbar{width:16px}.main-tun-settings-view .content .pannel .left[data-v-2847ffbe]::-webkit-scrollbar-thumb{background-color:var(--scroll-bar-bgc);border-radius:100px;border:3px solid var(--bgc)}.main-tun-settings-view .content .pannel .left[data-v-2847ffbe]::-webkit-scrollbar-corner{background-color:var(--bgc)}.main-tun-settings-view .content .pannel .left>div[data-v-2847ffbe]{margin-bottom:5px}.main-tun-settings-view .content .pannel .left .flex[data-v-2847ffbe]{height:30px;align-items:center;justify-content:space-between;display:flex}.main-tun-settings-view .content .pannel .left .flex input[data-v-2847ffbe]{width:120px;text-align:center;outline:none;border-radius:3px;height:25px}.main-tun-settings-view .content .pannel .right[data-v-2847ffbe]{width:300px;margin-left:10px;border-radius:4px;max-height:430px;overflow:auto;overflow-y:auto}.main-tun-settings-view .content .pannel .right[data-v-2847ffbe]::-webkit-scrollbar{width:16px}.main-tun-settings-view .content .pannel .right[data-v-2847ffbe]::-webkit-scrollbar-thumb{background-color:var(--scroll-bar-bgc);border-radius:100px;border:3px solid var(--bgc)}.main-tun-settings-view .content .pannel .right[data-v-2847ffbe]::-webkit-scrollbar-corner{background-color:var(--bgc)}.main-tun-settings-view .content .pannel .right [data-v-2847ffbe],.main-tun-settings-view .content .pannel .right[data-v-2847ffbe] *{user-select:text}.main-tun-settings-view .content .pannel .right pre[data-v-2847ffbe]{width:100%;height:100%;padding:5px;font-weight:400;font-family:Consolas,Monaco,Lucida Console,Liberation Mono,DejaVu Sans Mono,Bitstream Vera Sans Mono,Courier New,monospace}.main-tun-settings-view .content .btns[data-v-2847ffbe]{display:flex}.main-tun-settings-view .content .btns div[data-v-2847ffbe]:nth-child(2){width:10px}.main-tun-settings-view .content .btns div[data-v-2847ffbe]:first-child{background-color:transparent;color:#d44545;border:1px solid #d44545;flex-grow:1}.main-tun-settings-view .content .btns .btn[data-v-2847ffbe]{flex-grow:2;background-color:#41b883;color:#fff;height:30px;margin-top:10px;line-height:30px;text-align:center;border-radius:3px}",""])},function(e,t,i){"use strict";i(307)},function(e,t,i){(e.exports=i(27)(!1)).push([e.i,".main-tun-settings-view[data-v-47896be6]{width:calc(100% - 170px);height:calc(100% - 25px);position:absolute;top:25px;left:170px;color:#000}.main-tun-settings-view .content[data-v-47896be6]{border-radius:3px;width:600px;position:absolute;top:50%;left:50%;transform:translateX(-50%) translateY(-50%);padding:10px 20px;font-size:14px;font-weight:700}.main-tun-settings-view .content .title[data-v-47896be6]{font-size:16px;margin-bottom:5px}.main-tun-settings-view .content .hint[data-v-47896be6]{opacity:.8}.main-tun-settings-view .content .hint span[data-v-47896be6]{opacity:1;font-weight:700}.main-tun-settings-view .content .pannel[data-v-47896be6]{display:flex;height:100%;gap:10px}.main-tun-settings-view .content .pannel .left[data-v-47896be6]{width:300px;border-radius:5px;padding:5px 10px;max-height:430px;overflow:auto;overflow-y:auto}.main-tun-settings-view .content .pannel .left[data-v-47896be6]::-webkit-scrollbar{width:16px}.main-tun-settings-view .content .pannel .left[data-v-47896be6]::-webkit-scrollbar-thumb{background-color:var(--scroll-bar-bgc);border-radius:100px;border:3px solid var(--bgc)}.main-tun-settings-view .content .pannel .left[data-v-47896be6]::-webkit-scrollbar-corner{background-color:var(--bgc)}.main-tun-settings-view .content .pannel .left>div[data-v-47896be6]{margin-bottom:5px}.main-tun-settings-view .content .pannel .left .flex[data-v-47896be6]{height:30px;align-items:center;justify-content:space-between;display:flex}.main-tun-settings-view .content .pannel .left .flex input[data-v-47896be6]{width:120px;text-align:center;outline:none;border-radius:3px;height:25px}.main-tun-settings-view .content .pannel .right[data-v-47896be6]{width:300px;padding:5px 10px;border-radius:4px;max-height:430px;overflow:auto;overflow-y:auto}.main-tun-settings-view .content .pannel .right[data-v-47896be6]::-webkit-scrollbar{width:16px}.main-tun-settings-view .content .pannel .right[data-v-47896be6]::-webkit-scrollbar-thumb{background-color:var(--scroll-bar-bgc);border-radius:100px;border:3px solid var(--bgc)}.main-tun-settings-view .content .pannel .right[data-v-47896be6]::-webkit-scrollbar-corner{background-color:var(--bgc)}.main-tun-settings-view .content .pannel .right [data-v-47896be6],.main-tun-settings-view .content .pannel .right[data-v-47896be6] *{user-select:text}.main-tun-settings-view .content .btns[data-v-47896be6]{display:flex}.main-tun-settings-view .content .btns div[data-v-47896be6]:nth-child(2){width:10px}.main-tun-settings-view .content .btns .btn[data-v-47896be6]{flex-grow:2;background-color:#41b883;color:#fff;height:30px;margin-top:10px;line-height:30px;text-align:center;border-radius:3px}",""])},function(e,t,i){"use strict";i(308)},function(e,t,i){(e.exports=i(27)(!1)).push([e.i,".list[data-v-d9b850ea]{overflow-y:auto}.list[data-v-d9b850ea]::-webkit-scrollbar{width:16px}.list[data-v-d9b850ea]::-webkit-scrollbar-thumb{background-color:var(--scroll-bar-bgc);border-radius:100px;border:3px solid var(--bgc)}.list[data-v-d9b850ea]::-webkit-scrollbar-corner{background-color:var(--bgc)}.if-list [data-v-d9b850ea],.if-list[data-v-d9b850ea] *{user-select:text}",""])},function(e,t,i){"use strict";i(309)},function(e,t,i){(e.exports=i(27)(!1)).push([e.i,".content[data-v-32097048]{position:fixed;background-color:var(--general-interface-card-bgc);color:var(--general-interface-card-fgc);padding:8px 10px;border-radius:6px;font-size:14px;z-index:1000;box-shadow:0 0 8px 2px rgba(0,0,0,.2);width:300px;overflow:hidden}.content a[data-v-32097048]{color:#8abdf8;text-decoration:none;cursor:pointer}.content .quote[data-v-32097048]{background-color:var(--general-interface-card-quote-bgc);padding:0 4px;border-radius:4px}.content li[data-v-32097048]{list-style:inside}.info-icon-main[data-v-32097048]{position:relative;display:flex;align-items:center;margin-left:4px}",""])},function(e,t,i){"use strict";i(310)},function(e,t,i){(e.exports=i(27)(!1)).push([e.i,".main-hint-view[data-v-6e240a95]{position:relative}.main-hint-view .hint[data-v-6e240a95]{font-size:12px;background-color:#242424;padding:3px 5px;border-radius:3px;color:#fff;position:fixed;z-index:1000;white-space:nowrap;line-height:13px;font-weight:400}",""])},function(e,t,i){"use strict";i(311)},function(e,t,i){(e.exports=i(27)(!1)).push([e.i,".main-general-view[data-v-68c5303c]{height:calc(100vh - 25px)}.content[data-v-68c5303c],.main-general-view[data-v-68c5303c]{display:flex;flex-direction:column;justify-content:space-between}.content[data-v-68c5303c]{padding:5px;flex-grow:1;overflow:hidden;margin:0 auto;width:70vw;height:80vh;max-height:600px;max-width:650px}.item[data-v-68c5303c]{position:relative;padding:0 20px;font-size:1.1em;display:flex;align-items:center;justify-content:space-between;border-radius:3px;height:100%;transition:background-color .3s}.item[data-v-68c5303c]:hover{background-color:var(--general-item-bgc)}.title[data-v-68c5303c]{color:var(--general-title-c);font-size:2em;font-weight:500;cursor:pointer;display:flex;align-items:center}.clickable[data-v-68c5303c]{cursor:pointer;border-bottom-style:dashed;border-bottom-width:1px;border-bottom-color:var(--general-clickable-border-c)}.interfaces-card[data-v-68c5303c]{position:fixed;left:calc(170px + (100vw - 170px)/2);transform:translate(-50%);bottom:20px;background-color:var(--general-interface-card-bgc);padding:10px 30px;border-radius:5px;max-height:50vh;overflow-y:auto;box-shadow:1px 1px 10px 2px rgba(50,50,50,.3);z-index:2000}.interfaces-card[data-v-68c5303c]::-webkit-scrollbar{width:16px}.interfaces-card[data-v-68c5303c]::-webkit-scrollbar-thumb{background-color:var(--scroll-bar-bgc);border-radius:100px;border:3px solid var(--bgc)}.interfaces-card[data-v-68c5303c]::-webkit-scrollbar-corner{background-color:var(--bgc)}.interfaces-content[data-v-68c5303c]{color:var(--general-interface-card-fgc);display:flex;align-items:flex-end;margin:10px 0;align-items:center}.copy-icon[data-v-68c5303c]{margin-right:10px;margin-top:2px;cursor:pointer}.copy-icon [data-v-68c5303c]{cursor:pointer}.tun-settings-icon[data-v-68c5303c]{width:24px;height:24px;padding:2px;margin-left:10px;border-radius:5px;cursor:pointer}.tun-settings-icon [data-v-68c5303c]{cursor:pointer}.tun-settings-icon[data-v-68c5303c]:hover{background-color:rgba(54,54,54,.26)}",""])},function(e,t,i){"use strict";i(312)},function(e,t,i){(e.exports=i(27)(!1)).push([e.i,'.header[data-v-68c5303c]{margin-top:10px;display:flex;height:100px;width:calc(100vw - 170px);justify-content:center;align-items:center}.title-name[data-v-68c5303c]{display:inline-block;cursor:pointer}.new-version-tag[data-v-68c5303c]{display:inline-block;color:#fff;padding:2px 4px;background-color:rgba(170,38,38,.8);border-radius:3px;font-size:.65em;position:relative;top:-8px;left:2px}.item-left[data-v-68c5303c]{display:flex;font-weight:500;font-size:1em;align-items:center}.item-right[data-v-68c5303c]{font-size:15px;font-weight:400;display:flex;align-items:center}.control-icon[data-v-68c5303c]{width:20px;height:20px;margin-right:20px;margin-top:2px;cursor:pointer}.systemCheckbox[data-v-68c5303c]{width:20px;height:20px}.systemCheckbox[data-v-68c5303c]:checked{background-color:#233376;border:none}.hiddenInput[data-v-68c5303c]{width:1px;height:1px;opacity:0}.version[data-v-68c5303c]{font-size:.5em;margin-left:10px;font-weight:400;cursor:pointer;margin-top:15px}.checkmark-container[data-v-68c5303c]{display:block;position:relative;padding-left:22px;margin-bottom:22px;cursor:pointer;font-size:22px}.checkmark-container input[data-v-68c5303c]{position:absolute;opacity:0;cursor:pointer;height:0;width:0}.system-checkmark[data-v-68c5303c]{cursor:pointer;position:absolute;top:0;border-radius:20px;left:0;height:25px;width:25px;background-color:#fff;box-shadow:0 0 5px 1px rgba(50,50,50,.5)}.checkmark-container:hover input~.system-checkmark[data-v-68c5303c]{background-color:#fff}.checkmark-container input:checked~.system-checkmark[data-v-68c5303c]{background-color:#464646}.system-checkmark-unknown[data-v-68c5303c]{background-color:#beb9b9}.system-checkmark[data-v-68c5303c]:after{content:"";position:absolute;display:none}.checkmark-container input:checked~.system-checkmark[data-v-68c5303c]:after{display:block}.checkmark-container .system-checkmark[data-v-68c5303c]:after{left:8px;top:5px;width:6px;height:9px;border:solid #fff;border-width:0 3px 3px 0;transform:rotate(45deg)}.interface-address[data-v-68c5303c]{font-size:1em}.interface-name[data-v-68c5303c]{font-size:.8em;margin-left:15px}.edit-btn[data-v-68c5303c]{width:25px;height:25px;border-radius:4px;cursor:pointer;background-color:#464646;box-shadow:0 0 5px 1px rgba(50,50,50,.3)}.edit-btn>img[data-v-68c5303c]{width:17px;height:17px;margin:5px;cursor:pointer}.empty-div[data-v-68c5303c]{height:50px}',""])},function(e,t,i){"use strict";i(313)},function(e,t,i){(e.exports=i(27)(!1)).push([e.i,".selected[data-v-29c1e160]{color:var(--mode-switcher-selected-fgc);background-color:var(--mode-switcher-selected-bgc)}.normal[data-v-29c1e160]{color:var(--mode-switcher-normal-fgc);background-color:var(--mode-switcher-normal-bgc)}.main[data-v-29c1e160]{border-bottom:1px solid var(--bc)}#main-mode-switcher[data-v-29c1e160]{padding:auto 20px;width:calc(100vw - 170px);height:80px;position:fixed}#main-mode-switcher .btns[data-v-29c1e160]{height:100%;align-items:center;margin:0 auto;display:flex;max-width:600px;justify-content:space-between}#main-mode-switcher .btns .btn[data-v-29c1e160]{margin:0;font-weight:500;font-size:1.2em;width:120px;height:40px;text-align:center;line-height:40px;border-radius:6px;box-shadow:1px 1px 5px 2px rgba(70,70,70,.1);cursor:pointer}",""])},function(e,t,i){"use strict";i(314)},function(e,t,i){(e.exports=i(27)(!1)).push([e.i,'.main-proxy-navigator[data-v-298f5540]{position:absolute;height:calc(100% - 105px);display:flex;flex-direction:column;top:105px;right:20px;overflow-y:scroll;overflow-x:clip;transition:transform .2s;background-color:var(--bgc);border:0 solid var(--bc)}.main-proxy-navigator[data-v-298f5540]:after,.main-proxy-navigator[data-v-298f5540]:before{content:"";margin:auto}.main-proxy-navigator[data-v-298f5540]::-webkit-scrollbar{display:none}.main-proxy-navigator .item[data-v-298f5540]{font-size:12px;font-weight:400;transition:all .1s;white-space:nowrap;padding-left:5px;z-index:2;color:var(--fgc)}.main-proxy-navigator .item-selected[data-v-298f5540]{color:var(--proxy-item-selected-border-c)}.main-proxy-navigator .item-hover[data-v-298f5540]{font-weight:700}.main-proxy-navigator .item-error[data-v-298f5540]{color:var(--proxy-item-latency-offline-c)}',""])},function(e,t,i){"use strict";i(315)},function(e,t,i){(e.exports=i(27)(!1)).push([e.i,".fake-item[data-v-3b9a87eb]{height:45px;background-color:var(--proxy-fake-item-bgc);box-shadow:none}.fake-section[data-v-3b9a87eb]{background-color:var(--proxy-fake-item-bgc);height:50px;width:300px;margin-top:20px;margin-left:40px}#main-proxy-view[data-v-3b9a87eb]{height:100%;display:flex;flex-direction:column;overflow:hidden}.scroll-view[data-v-3b9a87eb]{margin-top:88px;padding-bottom:70px;flex-grow:1;height:calc(100% - 80px);overflow-y:auto}.scroll-view[data-v-3b9a87eb]::-webkit-scrollbar{width:16px}.scroll-view[data-v-3b9a87eb]::-webkit-scrollbar-thumb{background-color:var(--scroll-bar-bgc);border-radius:100px;border:3px solid var(--bgc)}.scroll-view[data-v-3b9a87eb]::-webkit-scrollbar-corner{background-color:var(--bgc)}.scroll-view .proxy-item[data-v-3b9a87eb]{margin:4px 6px;display:flex;align-items:center;flex-grow:1;transition:all .3s}.scroll-view .proxy-item .indicator[data-v-3b9a87eb]{width:4px;min-width:4px;background-color:var(--proxy-item-border-c);height:calc(100% - 2px);border-radius:10px;margin-right:4px}.scroll-view .proxy-item .info[data-v-3b9a87eb]{height:100%;padding:7px 0;background:var(--proxy-item-bgc);flex-grow:1;display:flex;border-radius:3px;justify-content:space-between;align-items:center}.scroll-view .proxy-item .info .left[data-v-3b9a87eb]{flex-grow:1;margin-left:10px;word-break:break-all}.scroll-view .proxy-item .info .left .item-bottom[data-v-3b9a87eb]{display:flex;font-size:12px;align-items:center;margin-top:2px;color:var(--proxy-item-hint-c)}.scroll-view .proxy-item .info .left .item-bottom .item-hint[data-v-3b9a87eb]{margin-right:5px}.scroll-view .proxy-item .info .left .item-bottom .item-udp[data-v-3b9a87eb]{font-size:9px;padding:0 3px;border:1px solid var(--proxy-item-border-c);border-radius:3px;word-break:keep-all}.scroll-view .proxy-item .info .time[data-v-3b9a87eb]{min-width:70px;text-align:right;font-size:12px;padding:12px 14px 12px 12px;cursor:pointer}.scroll-view .proxy-item .info .offline[data-v-3b9a87eb]{color:var(--proxy-item-latency-offline-c);font-weight:400}.scroll-view .proxy-item .info .online[data-v-3b9a87eb]{color:var(--proxy-item-latency-online-c)}.scroll-view .selected .indicator[data-v-3b9a87eb]{background-color:var(--proxy-item-selected-border-c)}.proxy-section[data-v-3b9a87eb]{font-size:1.2em;font-weight:400;padding:7px 10px;display:flex;align-items:center;justify-content:space-between;cursor:pointer;position:sticky;top:-1px;background-color:var(--bgc);transition:all .3s}.proxy-section[data-v-3b9a87eb]:hover{border-radius:5px;background-color:var(--general-item-bgc);cursor:pointer}.proxy-section .proxy-section-right[data-v-3b9a87eb]{display:flex;align-items:flex-end;height:100%;fill:var(--fgc)}.proxy-section .proxy-hint[data-v-3b9a87eb]{font-size:13px;display:inline;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.proxy-section .proxy-hint-type[data-v-3b9a87eb]{font-size:10px;margin-left:10px;color:var(--proxy-item-type-fgc);background:var(--proxy-item-type-bgc);padding:0 4px;border-radius:3px}.proxy-section .proxy-hint-type-selector[data-v-3b9a87eb]{background:#41b883}.proxy-section .proxy-hint-line[data-v-3b9a87eb]{width:10px;height:1px}.empty-hint[data-v-3b9a87eb]{display:flex;flex-direction:column;align-items:center;justify-content:center;width:100%;height:100%;color:hsla(0,0%,56%,.795)}.empty-hint div[data-v-3b9a87eb]:first-child{font-size:22px}.empty-hint div[data-v-3b9a87eb]:last-child{font-size:14px;margin-top:10px}.empty-hint div:last-child span[data-v-3b9a87eb]{color:#008cff}",""])},function(e,t,i){"use strict";i(316)},function(e,t,i){(e.exports=i(27)(!1)).push([e.i,".flick[data-v-3b9a87eb]{opacity:.1}.proxy-list[data-v-3b9a87eb]{margin:0 20px 0 30px}.proxy-items[data-v-3b9a87eb]{display:flex;flex-wrap:wrap;justify-content:space-around}.proxy-items>i[data-v-3b9a87eb]{margin:0 6px;flex-grow:1;height:0}.item-name[data-v-3b9a87eb]{font-size:14px;display:flex;align-items:center;overflow:hidden;word-break:break-all}.proxy-hint-loadbalance[data-v-3b9a87eb]{font-size:.7em;margin-left:5px;overflow:hidden;padding-bottom:2px}.proxy-item[data-v-3b9a87eb] div,span[data-v-3b9a87eb]{cursor:pointer}.proxy-section-name[data-v-3b9a87eb]{font-size:1.05em;display:flex;align-items:center;max-width:500px}.proxy-section-name-left[data-v-3b9a87eb]{display:flex;align-items:flex-end;flex-shrink:0;font-size:17px}.proxy-section-test-btn[data-v-3b9a87eb]{cursor:pointer;height:40px;width:30px}.sec-icon[data-v-3b9a87eb]{height:30px;width:30px;padding:5px;display:flex;align-items:center;justify-content:center}.sec-icon[data-v-3b9a87eb]:hover{border-radius:5px;background-color:hsla(0,0%,73%,.5);cursor:pointer}.filter-keyword[data-v-3b9a87eb]{position:fixed;bottom:10px;right:45px;width:150px;height:30px}.filter-keyword input[data-v-3b9a87eb]{width:150px;padding:0 10px;border:none;background-color:#494949;border-radius:5px;height:30px;color:#fff;top:0;right:5px;position:absolute}.filter-keyword input[data-v-3b9a87eb]:focus{outline:none}.filter-keyword div[data-v-3b9a87eb]{width:30px;height:30px;position:absolute;right:0;top:0;display:flex;align-items:center;justify-content:center;background-color:#494949;border-radius:5px}.filter-keyword div img[data-v-3b9a87eb]{height:20px;width:20px}.fall-fade-enter-active[data-v-3b9a87eb]{transition:all .2s ease-in-out}.fall-fade-enter[data-v-3b9a87eb],.fall-fade-leave-to[data-v-3b9a87eb]{transform:translateY(-10px);opacity:0}.move-right-enter-active[data-v-3b9a87eb]{transition:all .2s ease}.move-right-enter[data-v-3b9a87eb],.move-right-leave-to[data-v-3b9a87eb]{transform:scaleX(.1);transform-origin:right}",""])},function(e,t,i){"use strict";i(317)},function(e,t,i){(e.exports=i(27)(!1)).push([e.i,".main-button-view[data-v-f3b3ccf8]{height:26px;width:90px;text-align:center;line-height:26px;background-color:#6777ef;border-radius:1500px;color:#fff;font-size:.78em;display:flex;align-items:center;justify-content:center;cursor:pointer}.main-button-view [data-v-f3b3ccf8]{cursor:pointer}.main-button-view .line[data-v-f3b3ccf8]{display:flex;height:100%;width:100%;justify-content:center;align-items:center}.main-button-view .line .box[data-v-f3b3ccf8]{border-radius:20px;transform:scale(.5);background-color:#b3b3b3}.main-button-view .line .large[data-v-f3b3ccf8]{height:8px;width:8px;margin-left:2px;margin-right:2px}.main-button-view .line .small[data-v-f3b3ccf8]{height:5px;width:5px;margin-left:1px;margin-right:1px}.animation-delay1[data-v-f3b3ccf8]{animation:wave-data-v-f3b3ccf8 1s linear 0s infinite}.animation-delay2[data-v-f3b3ccf8]{animation:wave-data-v-f3b3ccf8 1s linear .2s infinite}.animation-delay3[data-v-f3b3ccf8]{animation:wave-data-v-f3b3ccf8 1s linear .4s infinite}.animation-delay4[data-v-f3b3ccf8]{animation:wave-data-v-f3b3ccf8 1s linear .6s infinite}.animation-delay5[data-v-f3b3ccf8]{animation:wave-data-v-f3b3ccf8 1s linear .8s infinite}@keyframes wave-data-v-f3b3ccf8{0%{background-color:#f8f8f8;transform:scale(1.1)}to{background-color:#adadad;transform:scale(.5)}}",""])},function(e,t,i){"use strict";i(318)},function(e,t,i){(e.exports=i(27)(!1)).push([e.i,".main-provider-view[data-v-e458ce5e]{width:calc(100% - 170px);height:calc(100% - 25px);position:absolute;top:25px;right:0;display:flex;justify-content:center;align-items:center;z-index:10;font-size:16px}.main-provider-view .card[data-v-e458ce5e]{display:flex;flex-direction:column;height:100%;width:100%}.main-provider-view .card .header[data-v-e458ce5e]{min-height:80px;height:80px;border-bottom:1px solid var(--bc);background-color:var(--bgc);width:100%}.main-provider-view .card .header .buttons[data-v-e458ce5e]{height:100%;width:100%;display:flex;align-items:center;justify-content:center}.main-provider-view .card .header .buttons .btn[data-v-e458ce5e]{font-size:16px;color:var(--mode-switcher-selected-fgc);background-color:var(--mode-switcher-selected-bgc);border-radius:3px;height:35px;padding:0 20px;width:fit-content}.main-provider-view .card .header .buttons .btn[data-v-e458ce5e]:first-child{margin-right:30px}.main-provider-view .content[data-v-e458ce5e]{padding:5px 0 40px;flex-grow:1;display:flex;flex-direction:column;height:100%;width:100%;overflow-y:auto}.main-provider-view .content[data-v-e458ce5e]::-webkit-scrollbar{width:16px}.main-provider-view .content[data-v-e458ce5e]::-webkit-scrollbar-thumb{background-color:var(--scroll-bar-bgc);border-radius:100px;border:3px solid var(--bgc)}.main-provider-view .content[data-v-e458ce5e]::-webkit-scrollbar-corner{background-color:var(--bgc)}.main-provider-view .content .title[data-v-e458ce5e]{margin-top:10px;font-size:16px;text-align:center;padding-bottom:10px;border-bottom:1px solid var(--bc)}.main-provider-view .content .items .provider-item[data-v-e458ce5e]{padding:7px 35px 7px 45px;border-bottom:1px solid var(--bc)}.main-provider-view .content .items .provider-item .provider-item-main .name-type[data-v-e458ce5e],.main-provider-view .content .items .provider-item .provider-item-main[data-v-e458ce5e]{display:flex;align-items:center}.main-provider-view .content .items .provider-item .provider-item-main .name-type .name[data-v-e458ce5e]{font-size:16px;max-width:180px;overflow:clip;white-space:nowrap;text-overflow:ellipsis}.main-provider-view .content .items .provider-item .provider-item-main .update-hint[data-v-e458ce5e]{font-size:14px;color:var(--proxy-item-hint-c)}.main-provider-view .content .items .provider-item .provider-item-main .error-hint[data-v-e458ce5e]{color:var(--proxy-item-latency-offline-c);font-size:12px;max-width:500px;text-overflow:ellipsis;white-space:normal;overflow:hidden}.main-provider-view .content .items .provider-item .provider-item-main .empty[data-v-e458ce5e]{flex-grow:1}.main-provider-view .content .items .provider-item .provider-item-main .icon-btn[data-v-e458ce5e]{width:30px;height:30px;display:flex;align-items:center;justify-content:center;border-radius:3px}.main-provider-view .content .items .provider-item .provider-item-main .icon-btn[data-v-e458ce5e]:hover{background-color:rgba(0,0,0,.123)}.main-provider-view .content .items .provider-item .provider-item-main .icon-btn:hover [data-v-e458ce5e]{cursor:pointer}.main-provider-view .content .items .provider-item .provider-item-main .icon-btn .rotating[data-v-e458ce5e]{animation:downloading-data-v-e458ce5e 1s infinite;animation-timing-function:linear}@keyframes downloading-data-v-e458ce5e{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.main-provider-view .content .items .provider-item .provider-item-main .icon-btn svg[data-v-e458ce5e]{width:20px;height:20px;fill:var(--fgc)}.main-provider-view .content .items .provider-item .time[data-v-e458ce5e]{font-size:14px}.main-provider-view .content .items .provider-item .proxies[data-v-e458ce5e]{display:grid;grid-template-columns:repeat(auto-fill,130px);font-size:14px}.main-provider-view .content .items .provider-item .proxies .proxy-item[data-v-e458ce5e]{height:80px}",""])},function(e,t,i){"use strict";i(319)},function(e,t,i){(e.exports=i(27)(!1)).push([e.i,".main-log-view[data-v-6acd51f2]{height:100%;overflow:hidden;display:flex;flex-direction:column;justify-content:space-between}.main-log-view .title[data-v-6acd51f2]{padding:0 20px;font-size:20px;height:80px;display:flex;align-items:center;justify-content:space-between;border-bottom:1px solid var(--bc)}.main-log-view .title .text .hint[data-v-6acd51f2]{font-size:16px;font-weight:400}.log-item[data-v-6acd51f2]{display:flex;justify-content:space-between;flex-direction:column;padding:5px 10px 5px 20px;border-bottom:1px solid var(--log-item-border-c)}.rule[data-v-6acd51f2]{font-size:14px;color:var(--log-item-rule-c);display:flex;align-items:center;flex-wrap:wrap}.rule div[data-v-6acd51f2]{margin-right:5px}.rule .payload[data-v-6acd51f2]{color:var(--log-item-payload-c)}.log-list[data-v-6acd51f2]{height:calc(100% - 80px);overflow-y:auto}.log-list[data-v-6acd51f2]::-webkit-scrollbar{width:16px}.log-list[data-v-6acd51f2]::-webkit-scrollbar-thumb{background-color:var(--scroll-bar-bgc);border-radius:100px;border:3px solid var(--bgc)}.log-list[data-v-6acd51f2]::-webkit-scrollbar-corner{background-color:var(--bgc)}.log-list .empty-list[data-v-6acd51f2]{font-size:18px;color:gray;width:100%;height:100%;display:flex;align-items:center;flex-direction:column;justify-content:center}.log-list .empty-list div[data-v-6acd51f2]:last-child{font-size:14px}.url[data-v-6acd51f2]{word-break:break-all;white-space:normal;display:flex;flex-direction:column;flex-grow:1}.url .name[data-v-6acd51f2]{font-size:16px}.url div[data-v-6acd51f2]{margin-right:5px}.proxy-name[data-v-6acd51f2]{font-size:14px;margin:auto 0 auto 20px;min-width:50%;display:flex;justify-content:flex-end;word-break:break-all}.left[data-v-6acd51f2]{display:flex}",""])},function(e,t,i){"use strict";i(320)},function(e,t,i){(e.exports=i(27)(!1)).push([e.i,".warning[data-v-6acd51f2]{color:red}.btns[data-v-6acd51f2]{display:flex;width:280px;justify-content:space-between;align-items:center}.button[data-v-6acd51f2]{font-size:.8em;height:30px;line-height:30px;color:#fff;width:70px;text-align:center;border-radius:3px;cursor:pointer}.button-on[data-v-6acd51f2]{background-color:rgba(14,151,185,.959)}.button-off[data-v-6acd51f2]{background-color:rgba(243,61,61,.801)}.button-clear[data-v-6acd51f2]{background-color:rgba(23,156,6,.904)}.debugdark[data-v-6acd51f2]{color:#9b9b02}.debug[data-v-6acd51f2]{color:#eeee39}.info[data-v-6acd51f2]{color:#13af42}.error[data-v-6acd51f2],.warn[data-v-6acd51f2]{color:#d44545}",""])},function(e,t,i){"use strict";i(321)},function(e,t,i){(e.exports=i(27)(!1)).push([e.i,".main[data-v-f638b328]{position:fixed;left:170px;top:30px;width:calc(100vw - 170px);height:100%;background-color:var(--bgc);padding:10px 30px;overflow-y:auto}.main[data-v-f638b328]::-webkit-scrollbar{width:16px}.main[data-v-f638b328]::-webkit-scrollbar-thumb{background-color:var(--scroll-bar-bgc);border-radius:100px;border:3px solid var(--bgc)}.main[data-v-f638b328]::-webkit-scrollbar-corner{background-color:var(--bgc)}.main input[data-v-f638b328]{color:var(--fgc);background-color:var(--bgc)}",""])},function(e,t,i){"use strict";i(322)},function(e,t,i){(e.exports=i(27)(!1)).push([e.i,"input[data-v-f638b328]{margin:5px 0;font-size:1.1em;padding:0 5px}input[type=checkbox][data-v-f638b328],input[type=radio][data-v-f638b328]{height:20px;width:20px;vertical-align:middle;margin-right:5px}label[data-v-f638b328]{font-size:1.1em;vertical-align:middle}input[data-v-f638b328]:focus{outline:none}.input-view[data-v-f638b328]{display:flex;flex-direction:column;justify-content:space-between}.cipher-list[data-v-f638b328]{display:grid;grid-template-columns:repeat(2,1fr)}.ss-list[data-v-f638b328],.vmess-list[data-v-f638b328]{display:flex;flex-direction:column}.group-type-list[data-v-f638b328],.proxy-type-list[data-v-f638b328]{display:flex;justify-content:flex-start}.group-type-list>div[data-v-f638b328],.proxy-type-list>div[data-v-f638b328]{margin-right:30px}.btns[data-v-f638b328]{margin-top:20px;display:flex;justify-content:space-around}.btn[data-v-f638b328]{padding:5px 10px;font-size:1.1em;text-align:center;width:100px;border-radius:4px}.cancel[data-v-f638b328]{background-color:#c0c0c0c0}.confirm[data-v-f638b328]{background-color:#375df3;color:#fff}",""])},function(e,t,i){"use strict";i(323)},function(e,t,i){(e.exports=i(27)(!1)).push([e.i,".main-config-view[data-v-9e0b3cf4]{height:100%;position:fixed}.main-config-view .proxy-group[data-v-9e0b3cf4]{flex:1;overflow-y:auto;padding:0 20px 20px 15px}.main-config-view .proxy-group[data-v-9e0b3cf4]::-webkit-scrollbar{width:16px}.main-config-view .proxy-group[data-v-9e0b3cf4]::-webkit-scrollbar-thumb{background-color:rgba(101,81,122,.7);border-radius:100px;border:3px solid var(--bgc)}.main-config-view .proxy-group[data-v-9e0b3cf4]::-webkit-scrollbar-corner{background-color:var(--bgc)}.main-config-view .proxy[data-v-9e0b3cf4]{flex:1;overflow-y:auto;direction:rtl;padding:0 15px 20px 20px}.main-config-view .proxy[data-v-9e0b3cf4]::-webkit-scrollbar{width:16px}.main-config-view .proxy[data-v-9e0b3cf4]::-webkit-scrollbar-thumb{background-color:rgba(55,57,72,.7);border-radius:100px;border:3px solid var(--bgc)}.main-config-view .proxy[data-v-9e0b3cf4]::-webkit-scrollbar-corner{background-color:var(--bgc)}.dragArea[data-v-9e0b3cf4]{min-height:1px}.dragArea>[data-v-9e0b3cf4]{-webkit-user-drag:element}",""])},function(e,t,i){"use strict";i(324)},function(e,t,i){(e.exports=i(27)(!1)).push([e.i,".floating[data-v-9e0b3cf4]{position:fixed;left:170px;height:60px;width:calc(100vw - 170px);display:flex;justify-content:space-between;padding:0 50px 0 40px;align-items:center;box-shadow:2px 2px 4px 1px rgba(50,50,50,.2)}.floating-right[data-v-9e0b3cf4]{display:flex;justify-content:flex-end}.hint[data-v-9e0b3cf4]{font-size:1.1em}.main-btn[data-v-9e0b3cf4]{cursor:pointer;margin-left:20px;box-shadow:0 0 4px 1px rgba(50,50,50,.2);text-align:center;padding:5px 0;width:80px;border-radius:5px;color:#fff}.reload[data-v-9e0b3cf4]{background-color:#c7ca10}.save[data-v-9e0b3cf4]{background-color:#31a7e3}.drag[data-v-9e0b3cf4]{display:flex;padding:0 0 20px;margin-top:60px;left:20vw;height:calc(100% - 70px);width:calc(100vw - 170px);max-width:900px}.proxy>div[data-v-9e0b3cf4],.proxy>draggable[data-v-9e0b3cf4]{direction:ltr}.section-title[data-v-9e0b3cf4]{display:flex;justify-content:space-between;align-items:center;margin:20px 0 0;font-size:.8em}img[data-v-9e0b3cf4]{width:20px;height:20px;margin-left:10px;cursor:pointer}.add-icon[data-v-9e0b3cf4]{background-color:#677a94;border-radius:5px;color:#fff;font-size:.9em;letter-spacing:1px;padding:3px 10px;cursor:pointer;box-shadow:0 0 4px 1px rgba(50,50,50,.2)}.left-item[data-v-9e0b3cf4]{background-color:#373948}.right-item[data-v-9e0b3cf4]{background-color:#65517a}.group-type[data-v-9e0b3cf4]{font-size:.7em}.proxy-item[data-v-9e0b3cf4]{opacity:.8;cursor:pointer;font-size:1em;padding:5px 10px;margin:10px 0;display:flex;color:#fff;border-radius:5px;justify-content:space-between;align-items:center;box-shadow:0 0 4px 1px rgba(50,50,50,.2)}",""])},function(e,t,i){"use strict";i(325)},function(e,t,i){(e.exports=i(27)(!1)).push([e.i,".model-title[data-v-eea841c4]{display:flex;font-size:1.2em;justify-content:space-between}.modal-container[data-v-eea841c4]{width:500px;margin:0 auto;padding:20px 30px;background-color:var(--bgc);border-radius:2px;box-shadow:0 2px 8px rgba(0,0,0,.33);transition:all .3s ease}.modal-container input[data-v-eea841c4]{color:var(--fgc);background-color:var(--bgc)}.scroll-view[data-v-eea841c4]{margin-top:20px;max-height:400px;padding:0 10px;overflow-y:auto}.scroll-view[data-v-eea841c4]::-webkit-scrollbar{width:16px}.scroll-view[data-v-eea841c4]::-webkit-scrollbar-thumb{background-color:var(--scroll-bar-bgc);border-radius:100px;border:3px solid var(--bgc)}.scroll-view[data-v-eea841c4]::-webkit-scrollbar-corner{background-color:var(--bgc)}",""])},function(e,t,i){"use strict";i(326)},function(e,t,i){(e.exports=i(27)(!1)).push([e.i,".modal-mask[data-v-eea841c4]{position:fixed;z-index:9998;top:0;left:170px;width:calc(100vw - 170px);height:100vh;background-color:rgba(0,0,0,.5);display:table;transition:opacity .3s ease}.modal-wrapper[data-v-eea841c4]{display:table-cell;vertical-align:middle}.modal-header h3[data-v-eea841c4]{margin-top:0;color:#42b983}.modal-body[data-v-eea841c4]{margin:20px 0}.modal-default-button[data-v-eea841c4]{float:right}.modal-enter[data-v-eea841c4],.modal-leave-active[data-v-eea841c4]{opacity:0}.modal-enter .modal-container[data-v-eea841c4],.modal-leave-active .modal-container[data-v-eea841c4]{transform:scale(1.1)}input[data-v-eea841c4]:focus{outline:none}input[data-v-eea841c4]{height:40px;width:100%;font-size:18px;padding:0 10px}.rule-type-group[data-v-eea841c4]{display:grid;grid-template-columns:repeat(2,1fr);grid-row-gap:10px;grid-column-gap:10px;grid-auto-rows:minmax(30px,auto)}.rule-type-item[data-v-eea841c4]{text-align:center;line-height:30px;border-radius:5px;color:#fff;padding:5px 10px;background-color:rgba(101,81,122,.6)}.rule-type-selected[data-v-eea841c4]{background-color:#65517a}.rule-proxy-group[data-v-eea841c4]{margin-bottom:60px;display:grid;grid-template-columns:repeat(1,1fr);grid-row-gap:10px;grid-column-gap:10px;grid-auto-rows:minmax(30px,auto)}.rule-proxy-item[data-v-eea841c4]{text-align:center;line-height:30px;border-radius:5px;color:#fff;padding:5px 10px;background-color:rgba(55,57,72,.6)}.rule-proxy-selected[data-v-eea841c4]{background-color:#373948}.rule-section-title[data-v-eea841c4]{font-size:1em;color:#a6a5a4;margin-top:10px;margin-bottom:5px}.rule-floating-btns[data-v-eea841c4]{right:calc(80vw - 585px);bottom:calc(100vh - 450px);display:flex}.rule-floating-btns>div[data-v-eea841c4]{font-size:.8em;width:80px;height:35px;margin-left:10px;line-height:50px;text-align:center;display:flex;align-items:center;justify-content:center;cursor:pointer;border-radius:3px;color:#fff}.rule-floating-cancel[data-v-eea841c4]{background-color:#41b883}.rule-floating-ok[data-v-eea841c4]{background-color:#3a56c5}",""])},function(e,t,i){"use strict";i(327)},function(e,t,i){(e.exports=i(27)(!1)).push([e.i,".rule[data-v-459dde1e]{font-size:13px;color:var(--log-item-rule-c)}.log-item[data-v-459dde1e]{display:flex;justify-content:space-between;align-items:center;padding:5px 20px;border-bottom:1px solid var(--log-item-border-c)}.log-list[data-v-459dde1e]{width:calc(100% - 0px);border:0 solid rgba(50,50,50,.2);height:calc(100% - 100px);border-style:dashed;padding:10px 20px;overflow-y:auto}.log-list[data-v-459dde1e]::-webkit-scrollbar{width:16px}.log-list[data-v-459dde1e]::-webkit-scrollbar-thumb{background-color:var(--scroll-bar-bgc);border-radius:100px;border:3px solid var(--bgc)}.log-list[data-v-459dde1e]::-webkit-scrollbar-corner{background-color:var(--bgc)}",""])},function(e,t,i){"use strict";i(328)},function(e,t,i){(e.exports=i(27)(!1)).push([e.i,"#main-log-view[data-v-459dde1e]{height:100%;overflow:hidden;display:flex;flex-direction:column;justify-content:space-between}.ctl-icon[data-v-459dde1e]{width:22px;height:22px;cursor:pointer;margin-left:10px}.emoji-name[data-v-459dde1e],.header[data-v-459dde1e]{display:flex;align-items:center}.header[data-v-459dde1e]{justify-content:space-between;padding:0 50px 0 40px;height:60px}.header-btns[data-v-459dde1e]{display:flex;justify-content:flex-end}.filter-view[data-v-459dde1e]{width:calc(100vw - 170px);height:50px}.filter-view input[data-v-459dde1e]{margin:0 40px 10px;cursor:text;width:calc(100vw - 250px);height:40px;padding:0 10px;border-radius:5px;font-size:1.1em}.filter-view input[data-v-459dde1e]:focus{outline:none}.btn[data-v-459dde1e]{cursor:pointer;box-shadow:0 0 4px 1px rgba(50,50,50,.2);margin-left:20px;width:80px;text-align:center;padding:5px 10px;border-radius:5px;color:#fff}.btn-add[data-v-459dde1e]{background-color:#31a7e3}.btn-save[data-v-459dde1e]{background-color:#41b883}.btn-back[data-v-459dde1e]{background-color:#e0dd22}.title[data-v-459dde1e]{font-size:1.1em;margin-bottom:0}.log-item[data-v-459dde1e]{display:flex;justify-content:space-between;align-items:center;padding:5px 20px;width:100%;border-bottom:1px solid rgba(50,50,50,.1)}.left[data-v-459dde1e]{flex-grow:1;padding-right:40px;overflow:hidden}.right-main[data-v-459dde1e]{display:flex;align-items:center}img[data-v-459dde1e]{margin-left:10px;width:25px;height:25px}.url[data-v-459dde1e]{font-size:18px;text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.rule-set[data-v-459dde1e]{color:#ff5e00}.right[data-v-459dde1e]{font-size:1em;padding:5px 10px;border-radius:4px;color:#fff;opacity:.8;box-shadow:0 0 4px 1px rgba(50,50,50,.2)}",""])},function(e,t,i){"use strict";i(329)},function(e,t,i){(e.exports=i(27)(!1)).push([e.i,".qrcode-view-main[data-v-64e66e1e]{position:fixed;left:170px;top:25px;height:100%;width:calc(100vw - 170px);display:flex;justify-content:center;align-items:center;background-color:rgba(50,50,50,.6);z-index:100}.qrcode-view-main .content[data-v-64e66e1e]{width:250px;background-color:#fff;box-shadow:0 0 10px 3px hsla(0,0%,5%,.164);border-radius:2px;padding:10px 10px 20px;display:flex;flex-direction:column;justify-content:space-between;align-items:center}.qrcode-view-main .content img[data-v-64e66e1e]{width:230px;height:230px}.qrcode-view-main .content .url[data-v-64e66e1e]{font-size:12px;width:200px;overflow-wrap:anywhere;text-decoration:underline;cursor:pointer;color:#0f7bd3}.qrcode-view-main .content .btn[data-v-64e66e1e]{margin-top:10px;height:45px;color:#fff;cursor:pointer;line-height:45px;text-align:center;background-color:#7e7b7b;border-radius:3px;padding-left:10px;padding-right:10px;font-size:.85em;box-shadow:0 2px 20px 2px rgba(50,50,50,.1);width:200px}",""])},function(e,t,i){"use strict";i(330)},function(e,t,i){(e.exports=i(27)(!1)).push([e.i,".card[data-v-e638077e]{position:fixed;padding:0 35px;height:80px;width:calc(100vw - 170px);border-bottom:1px solid var(--bc)}.card[data-v-e638077e],.list-item[data-v-e638077e]{display:flex;justify-content:space-between;background-color:var(--bgc)}.list-item[data-v-e638077e]{margin:4px 6px;position:relative;width:295px;flex-grow:1}.list-item .item-subinfo[data-v-e638077e]{width:fit-content}.list-item .item-subinfo .item-subinfo-texts[data-v-e638077e]{display:flex;font-size:11px;color:var(--proxy-item-hint-c)}.list-item .item-subinfo .item-subinfo-texts div[data-v-e638077e]{margin-right:10px}.list-item .item-subinfo .item-subinfo-texts div[data-v-e638077e]:last-child{margin-right:0}.list-item .item-subinfo .progress[data-v-e638077e]{background-color:var(--proxy-item-subs-bgc);text-align:center;height:3px;width:100%;color:var(--proxy-item-subs-fgc);position:relative;border-radius:3px;margin-bottom:2px}.list-item .item-subinfo .progress .percent[data-v-e638077e]{border-radius:3px;width:100%;top:0;left:0;position:absolute;height:100%;background-color:var(--proxy-item-subs-used-bgc)}.list-item .indicator[data-v-e638077e]{margin-right:4px;margin-top:2px;width:4px;height:calc(100% - 4px);border-radius:10px;background-color:var(--proxy-item-border-c)}.list-item .item-info[data-v-e638077e]{padding:4px 5px;background-color:var(--proxy-item-bgc);display:flex;align-items:center;justify-content:flex-start;flex-grow:1;max-width:calc(100% - 8px);border-radius:3px;height:100%;position:relative}.list-item .item-info .refresh-icon[data-v-e638077e]{width:18px;height:18px;position:absolute;right:3px;top:3px}.list-item .item-info .item-name[data-v-e638077e]{cursor:pointer;margin-left:5px;flex-grow:1;width:calc(100% - 50px);font-size:15px}.list-item .item-info .item-name .item-name-bottom[data-v-e638077e]{font-size:13px;cursor:pointer;max-width:calc(100% - 10px);text-overflow:ellipsis;white-space:nowrap;overflow:hidden;font-weight:400;color:var(--proxy-item-hint-c)}.list-item .item-info .item-edit-zone[data-v-e638077e]{background-color:var(--bgc);box-shadow:0 0 4px 0 rgba(0,0,0,.3);border-radius:5px;position:absolute;width:175px;display:flex;flex-wrap:wrap;justify-content:space-between;right:30px;z-index:1}.list-item .item-icon[data-v-e638077e]{width:30px;height:30px;border-radius:5px;display:flex;align-items:center;justify-content:center;transition:background-color .3s;cursor:pointer}.list-item .item-icon [data-v-e638077e]{cursor:pointer}.list-item .item-icon[data-v-e638077e]:hover{background-color:hsla(0,0%,74%,.534)}.list-item .item-icon>svg[data-v-e638077e]{width:18px;height:18px;fill:var(--fgc)}.list-item .item-disabled[data-v-e638077e]{cursor:not-allowed}.list-item .item-disabled>svg[data-v-e638077e]{fill:gray}.list-item .more[data-v-e638077e]{position:absolute;right:0;width:30px;height:100%;display:flex;align-items:center;justify-content:center;border-top-right-radius:3px;border-bottom-right-radius:3px}.list-item .more[data-v-e638077e]:hover{background-color:hsla(0,0%,50%,.1)}.list-item .more>svg[data-v-e638077e]{height:18px;fill:var(--fgc)}.main[data-v-e638077e]{display:flex;flex-direction:column;height:100%}#main-server-view[data-v-e638077e]{height:100%}.list-view[data-v-e638077e]{margin-top:80px;height:calc(100% - 80px);width:100%;overflow-y:auto;display:flex;flex-wrap:wrap;padding:10px 20px 20px 30px;align-content:flex-start}.list-view[data-v-e638077e]::-webkit-scrollbar{width:16px}.list-view[data-v-e638077e]::-webkit-scrollbar-thumb{background-color:var(--scroll-bar-bgc);border-radius:100px;border:3px solid var(--bgc)}.list-view[data-v-e638077e]::-webkit-scrollbar-corner{background-color:var(--bgc)}.list-view>[data-v-e638077e]{-webkit-user-drag:element}.list-view i[data-v-e638077e]{width:295px;margin:0 6px;flex-grow:1;height:0}.input-container[data-v-e638077e]{display:flex;flex-grow:1;overflow:hidden;padding-right:5px;justify-content:space-between;position:relative;z-index:1}.input-container input[data-v-e638077e]{padding-right:40px}",""])},function(e,t,i){"use strict";i(331)},function(e,t,i){(e.exports=i(27)(!1)).push([e.i,"input[data-v-e638077e]{cursor:text;width:calc(100vw - 230px);height:45px;font-size:1em;padding:0 10px}input[data-v-e638077e]:focus{outline:none}.remote-view[data-v-e638077e]{display:flex;align-items:center;justify-content:space-around}.local-view[data-v-e638077e]{right:0;margin:0 2vw 20px 1vw}.list-view[data-v-e638077e]>:last-child{margin-bottom:25px}.item-name-top[data-v-e638077e]{display:flex;justify-content:space-between;align-items:center;cursor:pointer;font-size:15px}.item-name-top>div[data-v-e638077e]{max-width:calc((80vw - 80px) / 2 - 65px);text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.item-time[data-v-e638077e]{cursor:pointer}.item-expired[data-v-e638077e]{color:#fa4949}.item-parser[data-v-e638077e]{font-size:.8em}.item-time-now[data-v-e638077e]{color:#9eff71}.btns-container[data-v-e638077e]{display:flex;align-items:center;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;justify-content:space-between}.confirm[data-v-e638077e]{height:45px;color:#fff;cursor:pointer;line-height:45px;text-align:center;background-color:#7e7b7b;border-radius:3px;padding-left:10px;padding-right:10px;font-size:.85em;box-shadow:0 2px 20px 2px rgba(50,50,50,.1);width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;white-space:nowrap}.confirm-left[data-v-e638077e]{padding:auto 30px}.confirm-right[data-v-e638077e]{margin-left:10px}.confirm-copy[data-v-e638077e]{border-radius:5px}.btn-error[data-v-e638077e]{background-color:#ec2658}.btn-success[data-v-e638077e]{background-color:#8ade4e}.btn-loading[data-v-e638077e]{box-shadow:2px 2px 5px 1px rgba(50,50,50,.1)}.hint-normal[data-v-e638077e]{text-align:center;font-size:1em;font-weight:500}.hint-error[data-v-e638077e]{color:#ec2658}.copy-icon[data-v-e638077e]{flex-shrink:0;height:45px;width:45px;padding:10px;cursor:pointer}.clear-icon[data-v-e638077e]{height:45px;width:45px;padding:13px;position:absolute;right:5px}.rotating[data-v-e638077e]{-webkit-animation:downloading-data-v-e638077e 1s infinite;animation:downloading-data-v-e638077e 1s infinite;-webkit-animation-timing-function:linear;animation-timing-function:linear}@-webkit-keyframes downloading-data-v-e638077e{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}@keyframes downloading-data-v-e638077e{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.animate-cycle[data-v-e638077e]{-webkit-animation:cycle-data-v-e638077e 2s infinite;animation:cycle-data-v-e638077e 2s infinite;-webkit-animation-timing-function:ease-in-out;animation-timing-function:ease-in-out}@-webkit-keyframes cycle-data-v-e638077e{0%{top:0}50%{top:40%}to{top:0}}@keyframes cycle-data-v-e638077e{0%{top:0}50%{top:40%}to{top:0}}.expand-enter-active[data-v-e638077e]{-webkit-animation:expand-data-v-e638077e .5s;animation:expand-data-v-e638077e .5s;-webkit-animation-timing-function:ease-in-out;animation-timing-function:ease-in-out}@-webkit-keyframes expand-data-v-e638077e{0%{height:20%;top:40%}to{height:100%;top:0}}@keyframes expand-data-v-e638077e{0%{height:20%;top:40%}to{height:100%;top:0}}",""])},function(e,t,i){"use strict";i(332)},function(e,t,i){(e.exports=i(27)(!1)).push([e.i,".main[data-v-ccee0be2]{width:100%;height:100%;position:absolute;display:flex;flex-direction:column;align-items:center;justify-content:center;color:#000;z-index:10}.main [data-v-ccee0be2],.main[data-v-ccee0be2] *{user-select:text}.card-main[data-v-ccee0be2]{border-radius:2px;max-width:60%;max-height:90%;min-width:420px;height:fit-content;display:flex;flex-direction:column;justify-content:space-around;box-shadow:0 0 10px 3px hsla(0,0%,5%,.164)}.card-content[data-v-ccee0be2]{width:100%;height:100%;display:flex;flex-direction:column}.content-title[data-v-ccee0be2]{font-size:20px;line-height:60px;height:60px}.content-list[data-v-ccee0be2]{overflow-y:auto;overflow-x:hidden;flex-grow:1}.content-list[data-v-ccee0be2]::-webkit-scrollbar{width:4px;background-color:hsla(0,0%,59%,.4117647059)}.content-list[data-v-ccee0be2]::-webkit-scrollbar-thumb{background-color:#3e3c4d}.content-item[data-v-ccee0be2]{border-bottom:1px solid rgba(50,50,50,.1);display:flex;align-items:baseline;flex-direction:column;justify-content:center;word-break:break-word}.item-key[data-v-ccee0be2]{font-size:16px}.item-value[data-v-ccee0be2]{font-size:14px}",""])},function(e,t,i){"use strict";i(333)},function(e,t,i){(e.exports=i(27)(!1)).push([e.i,".main-connection-view[data-v-1058080a]{overflow:hidden;display:flex;justify-content:space-between;flex-direction:column;height:100%;position:relative}.main-connection-view .header[data-v-1058080a]{height:40px;display:flex;justify-content:space-between;align-items:center;margin:auto 20px}.main-connection-view .header .search-area[data-v-1058080a]{position:relative;flex-grow:1;margin:0 10px 0 5px}.main-connection-view .header .search-area .search-box[data-v-1058080a]{padding:0 22px 0 4px;outline:none;height:25px;border-radius:4px;line-height:25px;font-size:14px;width:100%}.main-connection-view .control-view[data-v-1058080a]{display:flex;padding:0 20px 10px 16px;justify-content:space-between;height:40px}.main-connection-view .control-view .labels[data-v-1058080a]{display:flex;align-items:center;color:#fff;flex-shrink:1}.main-connection-view .control-view .labels .label[data-v-1058080a]{width:65px;height:28px;font-size:14px;font-weight:400;margin:0 5px 0 0;padding:0 8px;line-height:25px;cursor:pointer;background-color:hsla(0,0%,39%,.5);border-radius:3px}.main-connection-view .control-view .labels .label-selected[data-v-1058080a]{background-color:rgba(14,184,65,.932)}.main-connection-view .control-view .labels .label-selected-reverse[data-v-1058080a]{background-color:#0f6bb1}.title[data-v-1058080a]{height:40px;display:flex;align-items:center}.title div[data-v-1058080a]:first-child{font-size:20px;display:flex;align-items:baseline}.title div:first-child span[data-v-1058080a]{font-size:12px;margin-left:6px}.header-right[data-v-1058080a]{display:flex;align-items:center}.total-hint[data-v-1058080a]{font-size:15px;white-space:nowrap}.scroll-view[data-v-1058080a]{height:calc(100% - 60px);width:calc(100% - 0px);overflow-y:auto}.scroll-view[data-v-1058080a]::-webkit-scrollbar{width:16px}.scroll-view[data-v-1058080a]::-webkit-scrollbar-thumb{background-color:var(--scroll-bar-bgc);border-radius:100px;border:3px solid var(--bgc)}.scroll-view[data-v-1058080a]::-webkit-scrollbar-corner{background-color:var(--bgc)}.conn-item[data-v-1058080a]{padding:1px 20px;display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid var(--log-list-border-c)}.conn-item-closed[data-v-1058080a]{opacity:.7}.conn-item-top[data-v-1058080a]{display:flex;justify-content:space-between}.conn-host[data-v-1058080a]{font-size:14px;font-weight:500}.close-btn[data-v-1058080a]{width:23px;height:23px;border-radius:15px;cursor:pointer;opacity:.8}.close-btn [data-v-1058080a]{cursor:pointer}.close-btn[data-v-1058080a]:hover{opacity:1}.item-icon[data-v-1058080a]{width:19px;margin:2px;height:19px}.close-all-btn[data-v-1058080a]{padding:0 10px;margin-left:10px;text-align:center;height:30px;line-height:28px;cursor:pointer;background-color:rgba(243,61,61,.801);border-radius:3px;color:#fff;flex-shrink:0;height:28px;font-size:14px;font-weight:400}.conn-labels[data-v-1058080a]{font-size:11px;display:flex;margin-bottom:3px;flex-wrap:wrap}.conn-labels>div[data-v-1058080a]{margin-right:5px;margin-top:1px;padding:2px 4px;color:#fff;font-weight:400;border-radius:3px}.conn1[data-v-1058080a]{background-color:rgba(194,104,25,.8)}.conn2[data-v-1058080a]{background-color:rgba(193,131,16,.7725490196)}.conn4[data-v-1058080a]{background-color:rgba(85,152,52,.8078431373)}.conn3[data-v-1058080a]{background-color:rgba(0,134,76,.7882352941)}.conn5[data-v-1058080a]{background-color:#428ee4}.conn6[data-v-1058080a]{background-color:#4c10ae}.conn7[data-v-1058080a]{background-color:#8b8b00}.button-control[data-v-1058080a]{padding:0 10px;text-align:center;height:25px;font-weight:400;line-height:25px;cursor:pointer;border-radius:3px;color:#fff}.button-resume[data-v-1058080a]{background-color:rgba(14,151,185,.959)}.button-pause[data-v-1058080a]{background-color:rgba(243,61,61,.801)}.selected-top[data-v-1058080a]{border-bottom-right-radius:10px}.selected-bottom[data-v-1058080a]{border-top-right-radius:10px}.item-none[data-v-1058080a]{background-color:var(--mbgc);color:var(--menu-fgc)}.scrolly[data-v-1058080a]{overflow-y:auto}.scrolly[data-v-1058080a]::-webkit-scrollbar{width:16px}.scrolly[data-v-1058080a]::-webkit-scrollbar-thumb{background-color:var(--scroll-bar-bgc);border-radius:100px;border:3px solid var(--bgc)}.scrolly[data-v-1058080a]::-webkit-scrollbar-corner{background-color:var(--bgc)}",""])},function(e,t,i){"use strict";i(334)},function(e,t,i){(e.exports=i(27)(!1)).push([e.i,'.main-router-config-view[data-v-0ffa25f2]{background-color:rgba(50,50,50,.6);width:100%;height:100%;position:absolute;top:0;left:0;color:#000}.main-router-config-view .content[data-v-0ffa25f2]{border-radius:3px;width:500px;position:absolute;top:50%;left:50%;transform:translateX(-50%) translateY(-50%);padding:20px;font-size:14px;font-weight:700}.main-router-config-view .content .title[data-v-0ffa25f2]{font-size:16px;margin-bottom:5px}.main-router-config-view .content .sec[data-v-0ffa25f2]{margin:10px 0;border-radius:3px;padding:5px 0}.main-router-config-view .content .sec .flex[data-v-0ffa25f2]{display:flex}.main-router-config-view .content .sec span[data-v-0ffa25f2]{margin-right:3px}.main-router-config-view .content .sec span[data-v-0ffa25f2]:after{content:" :"}.main-router-config-view .content .sec input[data-v-0ffa25f2]{text-align:center;width:120px;margin-right:20px;border-radius:3px;outline:none;font-weight:400;background-color:transparent}.main-router-config-view .content .btn[data-v-0ffa25f2]{background-color:#41b883;color:#fff;height:30px;line-height:30px;text-align:center;border-radius:3px}',""])},function(e,t,i){"use strict";i(335)},function(e,t,i){(e.exports=i(27)(!1)).push([e.i,".main-router-view[data-v-74ff0369]{height:100%;width:100%;position:relative}.main-router-view .header[data-v-74ff0369]{height:80px;border-bottom:1px solid var(--bc);font-size:20px;display:flex;justify-content:space-between;align-items:center;padding:0 20px}.main-router-view .header .btn[data-v-74ff0369]{font-size:16px;padding:5px 15px;margin-right:10px;text-align:center;font-weight:400;cursor:pointer;border-radius:3px;color:#fff}.main-router-view .header .btn-start[data-v-74ff0369]{background-color:#535353}.main-router-view .header .btn-stop[data-v-74ff0369]{background-color:#41b883}.main-router-view .list[data-v-74ff0369]{font-size:16px;padding:20px 20px 20px 30px;height:calc(100% - 80px);overflow-y:auto}.main-router-view .list[data-v-74ff0369]::-webkit-scrollbar{width:16px}.main-router-view .list[data-v-74ff0369]::-webkit-scrollbar-thumb{background-color:var(--scroll-bar-bgc);border-radius:100px;border:3px solid var(--bgc)}.main-router-view .list[data-v-74ff0369]::-webkit-scrollbar-corner{background-color:var(--bgc)}.main-router-view .list .item[data-v-74ff0369]{margin:10px 0;display:flex;align-items:center;justify-content:space-between}.main-router-view .list .item .left .name Input[data-v-74ff0369]{font-size:16px;border:none;outline:none;background-color:hsla(0,0%,100%,0);color:var(--fgc)}.main-router-view .list .item .left .ip[data-v-74ff0369]{font-size:12px;color:var(--proxy-item-hint-c)}.main-router-view .list .item .right[data-v-74ff0369]{font-size:14px;display:flex;align-items:center}.main-router-view .list .item .right .btn[data-v-74ff0369]{padding:5px 10px;text-align:center;font-weight:400;cursor:pointer;border-radius:3px;background-color:hsla(0,0%,85%,.452);margin-left:10px}",""])},function(e,t,i){"use strict";i(336)},function(e,t,i){(e.exports=i(27)(!1)).push([e.i,".main-setting-section[data-v-d75f030e]{margin:0 2% 10px;font-size:15px;width:96%}.main-setting-section .title[data-v-d75f030e]{font-size:16px;height:34px;line-height:34px}.main-setting-section .content[data-v-d75f030e]{background-color:var(--general-item-bgc);padding:5px;border-radius:3px}",""])},function(e,t,i){"use strict";i(337)},function(e,t,i){(e.exports=i(27)(!1)).push([e.i,"input[data-v-2ddf36e7]::-webkit-inner-spin-button,input[data-v-2ddf36e7]::-webkit-outer-spin-button{-webkit-appearance:none}.main-key-capture[data-v-2ddf36e7]{position:relative;width:200px}.main-key-capture input[data-v-2ddf36e7]{width:100%;text-align:center;border:none;outline-style:none;background-color:var(--setting-input-bgc);color:var(--fgc);height:26px;box-shadow:1px 1px 4px 1px rgba(50,50,50,.04);border-radius:2px}.main-key-capture input[data-v-2ddf36e7]::placeholder{color:var(--input-phc)}.main-key-capture .suffix[data-v-2ddf36e7]{position:absolute;right:10px;top:0;height:25px;line-height:25px;color:var(--menu-fgc);font-size:13px}.main-key-capture .hint[data-v-2ddf36e7]{position:absolute;font-size:12px;top:0;padding:0 10px;border-radius:13px;height:26px;line-height:26px;text-align:center;color:#fff;background-color:#535353;opacity:1;transform:translateX(calc(-100% - 10px));transition:all .3s}.main-key-capture .hint-hide[data-v-2ddf36e7]{opacity:0}",""])},function(e,t,i){"use strict";i(338)},function(e,t,i){(e.exports=i(27)(!1)).push([e.i,".main-more-hint[data-v-6a8f4af4]{display:flex;align-items:center}.main-more-hint .text[data-v-6a8f4af4]{color:var(--menu-fgc);font-size:13px}.main-more-hint .tirangle[data-v-6a8f4af4]{width:0;height:0;margin-left:5px;margin-top:2px;border-top:4px solid transparent;border-bottom:4px solid transparent;border-left:6px solid var(--menu-fgc)}",""])},function(e,t,i){"use strict";i(339)},function(e,t,i){(e.exports=i(27)(!1)).push([e.i,".main-settings-separator[data-v-26bdfd95]{height:1px;width:100%;opacity:.5;background-color:var(--scroll-bar-bgc);margin:5px auto}",""])},function(e,t,i){"use strict";i(340)},function(e,t,i){(e.exports=i(27)(!1)).push([e.i,".tray-order-main[data-v-40749f51]{display:flex;align-items:center;font-size:13px}.tray-order-main .title[data-v-40749f51]{margin-right:5px}.tray-order-main .list[data-v-40749f51]{height:28px;display:flex;justify-content:center;align-items:center;min-width:40px;border-radius:3px;background-color:#e2e2e2;padding:3px 5px}.tray-order-main .list img[data-v-40749f51]{-webkit-user-drag:element;display:flex;align-items:center;justify-content:center;height:16px;margin:0 2px}.tray-order-main .left-list[data-v-40749f51]{margin-right:10px}",""])},function(e,t,i){"use strict";i(341)},function(e,t,i){(e.exports=i(27)(!1)).push([e.i,".main-setting-view[data-v-0e5fa962]{height:100%}.main-setting-view .blur[data-v-0e5fa962]{filter:blur(15px)}.main-setting-view .title[data-v-0e5fa962]{height:80px;border-bottom:1px solid var(--bc);font-size:20px;background-color:var(--bgc);display:flex;justify-content:space-between;align-items:center;padding:0 20px}.main-setting-view .title .btns[data-v-0e5fa962]{height:100%;display:flex;align-items:center;gap:10px}.main-setting-view .title .btns .btn[data-v-0e5fa962]{cursor:pointer;font-size:14px;color:var(--error-text);font-weight:400;padding:5px 15px;border-radius:3px;background-color:var(--general-item-bgc)}.main-setting-view .content[data-v-0e5fa962]{overflow-y:auto;padding:10px 10px 20px;height:calc(100% - 80px)}.main-setting-view .content[data-v-0e5fa962]::-webkit-scrollbar{width:16px}.main-setting-view .content[data-v-0e5fa962]::-webkit-scrollbar-thumb{background-color:var(--scroll-bar-bgc);border-radius:100px;border:3px solid var(--bgc)}.main-setting-view .content[data-v-0e5fa962]::-webkit-scrollbar-corner{background-color:var(--bgc)}.main-setting-view .quit-btns[data-v-0e5fa962]{display:flex;align-items:center;justify-content:center;margin-top:30px}.main-setting-view .quit-btns .btn[data-v-0e5fa962]{background-color:rgba(255,30,0,.8);margin:0 7px;padding:5px 20px;color:#fff;border-radius:3px;font-size:14px;text-align:center}.main-setting-view .item[data-v-0e5fa962]{font-weight:400;display:flex;justify-content:space-between;align-items:center;height:35px;padding:0 10px;transition:all .3s}.main-setting-view .item .short-input[data-v-0e5fa962]{width:190px}.main-setting-view .item .shorter-input[data-v-0e5fa962]{width:156px}.main-setting-view .item .hint[data-v-0e5fa962]{margin-left:10px}.main-setting-view .item .interface-hint[data-v-0e5fa962]{margin-right:10px}.main-setting-view .item[data-v-0e5fa962]:hover{background:var(--setting-item-hover-bgc);border-radius:3px}.main-setting-view .edit-hint[data-v-0e5fa962]{background-color:rgba(0,0,0,.4);position:fixed;top:25px;width:calc(100% - 170px);height:calc(100vh - 25px);color:#fff;display:flex;flex-direction:column;align-items:center;justify-content:center}.main-setting-view .edit-hint div[data-v-0e5fa962]:first-child{font-size:20px}.main-setting-view .edit-hint div[data-v-0e5fa962]:nth-child(2){font-size:16px;margin-top:20px}.main-setting-view .edit-hint .btn[data-v-0e5fa962]{font-size:18px;margin-top:40px;background-color:rgba(26,26,26,.7);padding:4px 12px;border-radius:3px;cursor:pointer}",""])},function(e,t,i){"use strict";i(342)},function(e,t,i){(e.exports=i(27)(!1)).push([e.i,".secret-hint[data-v-0e5fa962]{position:absolute;top:0;right:-1.5rem}",""])},function(e,t,i){"use strict";i(343)},function(e,t,i){(e.exports=i(27)(!1)).push([e.i,".ad-img[data-v-34599eb0]{width:100%;width:620px;height:150px;border-radius:3px}.placeholder[data-v-34599eb0]{line-height:150px;color:#fff;background-color:#e2e2e2;display:flex;align-items:center;justify-content:center}.placeholder div[data-v-34599eb0]{margin-right:10px;color:#fff}.placeholder img[data-v-34599eb0]{width:30px}.error-img[data-v-34599eb0]{display:flex;width:620px;height:150px;background-color:#e2e2e2;align-items:center;justify-content:center}.error-img div[data-v-34599eb0]{margin-right:10px;color:#858585}.error-img img[data-v-34599eb0]{width:30px}.twinkling[data-v-34599eb0]{animation:twinkling-data-v-34599eb0 2s infinite;animation-timing-function:ease-in-out}@keyframes twinkling-data-v-34599eb0{0%{background-color:#e9e9e9}50%{background-color:#d4d4d4}to{background-color:#e9e9e9}}",""])},function(e,t,i){"use strict";i(344)},function(e,t,i){(e.exports=i(27)(!1)).push([e.i,".chat-list[data-v-440c4ef6]{display:flex;justify-content:left;flex-wrap:wrap}",""])},function(e,t,i){"use strict";i(345)},function(e,t,i){(e.exports=i(27)(!1)).push([e.i,"#main-about-view[data-v-440c4ef6]{display:flex;flex-direction:column;padding:10px 30px;gap:3px}.title[data-v-440c4ef6]{margin-bottom:0;font-size:1.1em}.ad-img-list[data-v-440c4ef6]{display:flex;flex-direction:column;justify-content:space-between;margin-top:10px;gap:10px}",""])},function(e,t,i){"use strict";i(346)},function(e,t,i){(e.exports=i(27)(!1)).push([e.i,".scrolly[data-v-440c4ef6]{overflow-y:auto}.scrolly[data-v-440c4ef6]::-webkit-scrollbar{width:16px}.scrolly[data-v-440c4ef6]::-webkit-scrollbar-thumb{background-color:var(--scroll-bar-bgc);border-radius:100px;border:3px solid var(--bgc)}.scrolly[data-v-440c4ef6]::-webkit-scrollbar-corner{background-color:var(--bgc)}",""])},function(e,t,i){var n={"./alert.vue":697,"./code.vue":698,"./diff.vue":699,"./dns.vue":700,"./input.vue":701,"./menu.vue":702,"./script.vue":703,"./select.vue":692};function o(e){return e=r(e),i(e)}function r(e){if(i.o(n,e))return n[e];throw(e=new Error("Cannot find module '"+e+"'")).code="MODULE_NOT_FOUND",e}o.keys=function(){return Object.keys(n)},o.resolve=r,(e.exports=o).id=657},function(e,t,i){"use strict";i(347)},function(e,t,i){(e.exports=i(27)(!1)).push([e.i,".main-alert-view-plugin[data-v-bfeddf0a]{width:100%;height:calc(100% - 25px);position:fixed;top:25px;display:flex;flex-direction:column;align-items:center;justify-content:center;color:#000;z-index:10}.main-alert-view-plugin .card-main[data-v-bfeddf0a]{border-radius:2px;display:flex;flex-direction:column;justify-content:space-around;width:50%}.main-alert-view-plugin .card-main .card-content[data-v-bfeddf0a]{padding:15px 20px}.main-alert-view-plugin .card-main .card-content .content-title[data-v-bfeddf0a]{font-size:1.2em;margin-bottom:15px}.main-alert-view-plugin .card-main .card-content .content-content[data-v-bfeddf0a]{font-size:15px;text-overflow:inherit;word-wrap:break-word;max-height:200px;overflow-y:auto}.main-alert-view-plugin .card-main .card-content .content-content[data-v-bfeddf0a]::-webkit-scrollbar{width:16px}.main-alert-view-plugin .card-main .card-content .content-content[data-v-bfeddf0a]::-webkit-scrollbar-thumb{background-color:var(--scroll-bar-bgc);border-radius:100px;border:3px solid var(--bgc)}.main-alert-view-plugin .card-main .card-content .content-content[data-v-bfeddf0a]::-webkit-scrollbar-corner{background-color:var(--bgc)}.main-alert-view-plugin .card-main .card-content .card-btns[data-v-bfeddf0a]{margin-top:20px;display:flex;justify-content:space-around}.main-alert-view-plugin .card-main .card-content .card-btns .btn[data-v-bfeddf0a]{cursor:pointer;color:#fff;width:100px;height:40px;text-align:center;line-height:40px;border-radius:3px}.main-alert-view-plugin .card-main .card-content .card-btns .btn-cancel[data-v-bfeddf0a]{background-color:#676475}.main-alert-view-plugin .card-main .card-content .card-btns .btn-ok[data-v-bfeddf0a]{background-color:#3e3c4d}",""])},function(e,t,i){"use strict";i(348)},function(e,t,i){(e.exports=i(27)(!1)).push([e.i,".main-code-view[data-v-4c3005d1]{width:100%;height:calc(100% - 25px);position:fixed;top:25px;left:0;display:flex;flex-direction:column;justify-content:space-between;z-index:100}.main-code-view .card[data-v-4c3005d1]{width:calc(100% - 200px);height:calc(100% - 100px);border-radius:5px;position:absolute;top:50px;left:100px;overflow:hidden;box-shadow:0 0 10px rgba(0,0,0,.5)}.main-code-view .card .editor[data-v-4c3005d1]{width:100%;height:calc(100% + 1px)}.main-code-view .card .error[data-v-4c3005d1]{position:absolute;bottom:20px;left:50%;transform:translateX(-50%);box-shadow:0 0 10px rgba(0,0,0,.3);padding:10px 12px;border-radius:10px;background-color:#3d3d3d;display:flex;align-items:center}.main-code-view .card .error div[data-v-4c3005d1]:first-child{color:#ff5252;font-weight:400;font-size:14px;flex-shrink:1;white-space:pre-wrap}.main-code-view .card .error div[data-v-4c3005d1]:last-child{height:26px;width:26px;padding:3px;flex-shrink:0}.main-code-view .card .error div[data-v-4c3005d1]:last-child:hover{background-color:hsla(0,0%,63%,.534);border-radius:3px}.main-code-view .card .btns[data-v-4c3005d1]{position:absolute;bottom:0;right:0;display:flex;z-index:100;color:#fff;margin-right:35px;margin-bottom:10px;font-size:14px}.main-code-view .card .btns div[data-v-4c3005d1]{margin-left:10px;width:30px;height:30px;text-align:center;border-radius:3px;box-shadow:0 0 10px rgba(0,0,0,.2)}.main-code-view .card .btns div svg[data-v-4c3005d1]{width:24px;height:24px;margin:3px;fill:#fff}.main-code-view .card .btns .abort-btn[data-v-4c3005d1]{margin-bottom:10px;background-color:#ea4079}.main-code-view .card .btns .save-btn[data-v-4c3005d1]{background-color:#41b883}",""])},function(e,t,i){"use strict";i(349)},function(e,t,i){(e.exports=i(27)(!1)).push([e.i,".navigator[data-v-4c3005d1]{top:0;z-index:120;height:100%;--tw-border-opacity:1;border-color:rgb(133 133 133/var(--tw-border-opacity));--tw-bg-opacity:1;background-color:rgb(30 30 30/var(--tw-bg-opacity))}.navigator[data-v-4c3005d1] .item{--tw-text-opacity:1;color:rgb(223 223 223/var(--tw-text-opacity))}",""])},function(e,t,i){"use strict";i(350)},function(e,t,i){(e.exports=i(27)(!1)).push([e.i,".main-diff-view[data-v-70d62c5e]{width:100%;height:calc(100% - 25px);position:fixed;top:25px;left:0;display:flex;flex-direction:column;justify-content:space-between;z-index:100}.main-diff-view .card[data-v-70d62c5e]{width:calc(100% - 100px);height:calc(100% - 100px);border-radius:5px;position:absolute;top:50px;left:50px;overflow:hidden;box-shadow:0 0 10px rgba(0,0,0,.5)}.main-diff-view .card .editor[data-v-70d62c5e]{width:100%;height:calc(100% + 1px)}.main-diff-view .card .btns[data-v-70d62c5e]{position:absolute;bottom:0;right:0;display:flex;z-index:100;color:#fff;margin-right:50px;margin-bottom:10px;font-size:14px}.main-diff-view .card .btns div[data-v-70d62c5e]{margin-left:10px;width:30px;height:30px;text-align:center;border-radius:3px;box-shadow:0 0 10px rgba(0,0,0,.2)}.main-diff-view .card .btns div svg[data-v-70d62c5e]{width:24px;height:24px;margin:3px;fill:#fff}.main-diff-view .card .btns .abort-btn[data-v-70d62c5e]{margin-bottom:10px;background-color:#ea4079}.main-diff-view .card .btns .save-btn[data-v-70d62c5e]{background-color:#41b883}.main-diff-view .card .btns .change-btn-off[data-v-70d62c5e]{background-color:#797979}.main-diff-view .card .btns .change-btn-on[data-v-70d62c5e]{background-color:#41b883}",""])},function(e,t,i){"use strict";i(351)},function(e,t,i){(e.exports=i(27)(!1)).push([e.i,".main-dns-view[data-v-6e0989c7]{width:100%;height:calc(100% - 25px);position:fixed;top:25px;display:flex;flex-direction:column;align-items:center;justify-content:center;color:#000;z-index:1000;font-weight:400}.main-dns-view [data-v-6e0989c7],.main-dns-view[data-v-6e0989c7] *{user-select:text}.card-main[data-v-6e0989c7]{border-radius:2px;min-width:450px;max-width:650px;width:fit-content;max-height:calc(100% - 40px)}.card-content[data-v-6e0989c7]{position:relative;display:flex;flex-direction:column;justify-content:space-around;transition:all .3s ease}.content-items[data-v-6e0989c7]{overflow-y:auto;overflow-x:hidden;max-height:360px}.content-items[data-v-6e0989c7]::-webkit-scrollbar{width:4px;background-color:hsla(0,0%,59%,.4117647059)}.content-items[data-v-6e0989c7]::-webkit-scrollbar-thumb{background-color:#3e3c4d}.error-hint[data-v-6e0989c7]{font-size:.9em;color:red;margin:10px 20px 0}.p[data-v-6e0989c7]{position:relative;margin-top:18px}.p span[data-v-6e0989c7]{position:absolute;top:-17px;left:4px;padding:0 6px;background-color:var(--bgc);margin-top:5px;color:var(--fgc);opacity:.8;font-size:14px}.p .c[data-v-6e0989c7]{border:1px solid var(--bc);padding:8px 8px 4px;border-radius:3px;font-size:13px}",""])},function(e,t,i){"use strict";i(352)},function(e,t,i){(e.exports=i(27)(!1)).push([e.i,".main-input-view-plugin[data-v-15034054]{width:100%;height:calc(100% - 25px);position:fixed;top:25px;display:flex;flex-direction:column;align-items:center;justify-content:center;color:#000;z-index:1000}.card-main[data-v-15034054]{border-radius:2px;max-width:390px;max-height:calc(100% - 40px)}.card-content[data-v-15034054]{position:relative;display:flex;flex-direction:column;justify-content:space-around}.content-title[data-v-15034054]{margin:15px 20px 0;font-size:1.2em;margin-bottom:15px}.content-hint[data-v-15034054]{font-size:.9em;margin:-5px 20px 5px;color:#179bbb}.content-items[data-v-15034054]{border-top:1px solid hsla(0,0%,50%,.178);border-bottom:1px solid hsla(0,0%,50%,.178);overflow-y:auto;overflow-x:hidden;max-height:360px;padding:0 20px}.content-items[data-v-15034054]::-webkit-scrollbar{width:4px;background-color:hsla(0,0%,59%,.4117647059)}.content-items[data-v-15034054]::-webkit-scrollbar-thumb{background-color:#3e3c4d}.content-item[data-v-15034054]{display:flex;margin:5px 0 10px;align-items:baseline;flex-direction:column;justify-content:space-between;height:fit-content}.item-key[data-v-15034054]{margin-bottom:5px;font-size:16px}.error-hint[data-v-15034054]{font-size:.9em;color:red;margin:10px 20px 0}.card-btns[data-v-15034054]{margin-top:10px;margin-bottom:20px;display:flex;justify-content:space-around}.btn[data-v-15034054]{cursor:pointer;color:#fff;width:100px;height:40px;text-align:center;line-height:40px;border-radius:3px}.btn-cancel[data-v-15034054]{background-color:#676475}.btn-ok[data-v-15034054]{background-color:#3e3c4d}span[data-v-15034054]{color:red}textarea[data-v-15034054]{cursor:pointer;font-size:14px;outline:none;padding:10px 5px;width:350px;resize:none;font-family:inherit;max-height:200px;overflow-y:auto}",""])},function(e,t,i){"use strict";i(353)},function(e,t,i){(e.exports=i(27)(!1)).push([e.i,".main-menu-view-plugin[data-v-00ec68dc]{width:100%;height:calc(100% - 25px);position:fixed;top:25px;display:flex;flex-direction:column;align-items:center;justify-content:center;background-color:hsla(0,0%,100%,0);color:#000;z-index:100}.main-menu-view-plugin .card-main[data-v-00ec68dc]{border-radius:2px;background-color:#414141;display:flex;flex-direction:column;justify-content:space-around;width:fit-content}.main-menu-view-plugin .card-main .card-content[data-v-00ec68dc]{position:fixed;background-color:#4e4e4e;overflow-y:scroll;font-weight:400;box-shadow:2px 2px 8px 2px rgba(0,0,0,.2);padding:5px 0;font-size:13px;border-radius:5px}.main-menu-view-plugin .card-main .card-content[data-v-00ec68dc]::-webkit-scrollbar{display:none}.main-menu-view-plugin .card-main .card-content .item[data-v-00ec68dc]{margin:2px 5px;padding:5px 10px;border-radius:3px;color:#fff;display:flex;align-items:center;justify-content:flex-start;min-width:150px}.main-menu-view-plugin .card-main .card-content .item[data-v-00ec68dc]:hover{background-color:#302a2a}.main-menu-view-plugin .card-main .card-content .item div[data-v-00ec68dc]{flex:1;white-space:nowrap}.main-menu-view-plugin .card-main .card-content .item-disabled[data-v-00ec68dc]{margin:2px 10px 5px;padding:5px;color:#d1d1d1;display:flex;align-items:center;justify-content:flex-start;min-width:150px;border-bottom:1px solid hsla(0,0%,50%,.514)}.main-menu-view-plugin .card-main .card-content .indicator[data-v-00ec68dc]{position:sticky;bottom:-5px;left:0;width:100%;height:30px;display:flex;align-items:center;justify-content:center}",""])},function(e,t,i){"use strict";i(354)},function(e,t,i){(e.exports=i(27)(!1)).push([e.i,".main-script-view[data-v-524f4b7a]{width:100%;height:calc(100% - 25px);position:fixed;top:25px;left:0;display:flex;flex-direction:column;justify-content:space-between;z-index:100}.main-script-view .card[data-v-524f4b7a]{width:calc(100% - 200px);height:calc(100% - 100px);border-radius:5px;position:absolute;top:50px;left:100px;overflow:hidden;box-shadow:0 0 10px rgba(0,0,0,.5)}.main-script-view .card .metadata[data-v-524f4b7a]{width:100%;flex-grow:0}.main-script-view .card .metadata div[data-v-524f4b7a]{display:flex;align-items:center}.main-script-view .card .metadata div span[data-v-524f4b7a]{margin-right:10px}.main-script-view .card .metadata div input[data-v-524f4b7a]{flex-grow:1;outline:none;padding:2px 8px}.main-script-view .card .editor-code[data-v-524f4b7a]{width:100%;flex-grow:1}.main-script-view .card .error[data-v-524f4b7a]{position:absolute;bottom:20px;left:50%;transform:translateX(-50%);box-shadow:0 0 10px rgba(0,0,0,.3);padding:10px 12px;border-radius:10px;background-color:#3d3d3d;display:flex;align-items:center}.main-script-view .card .error div[data-v-524f4b7a]:first-child{color:#ff5252;font-weight:400;font-size:14px;flex-shrink:1;white-space:pre-wrap}.main-script-view .card .error div[data-v-524f4b7a]:last-child{height:26px;width:26px;padding:3px;flex-shrink:0}.main-script-view .card .error div[data-v-524f4b7a]:last-child:hover{background-color:hsla(0,0%,63%,.534);border-radius:3px}.main-script-view .card .btns[data-v-524f4b7a]{position:absolute;bottom:0;right:0;display:flex;z-index:100;color:#fff;margin-right:35px;margin-bottom:10px;font-size:14px}.main-script-view .card .btns div[data-v-524f4b7a]{margin-left:10px;width:30px;height:30px;text-align:center;border-radius:3px;box-shadow:0 0 10px rgba(0,0,0,.2)}.main-script-view .card .btns div svg[data-v-524f4b7a]{width:24px;height:24px;margin:3px;fill:#fff}.main-script-view .card .btns .abort-btn[data-v-524f4b7a]{margin-bottom:10px;background-color:#ea4079}.main-script-view .card .btns .save-btn[data-v-524f4b7a]{background-color:#41b883}",""])},function(e,t,i){"use strict";i(355)},function(e,t,i){(e.exports=i(27)(!1)).push([e.i,"input[data-v-524f4b7a]{border-radius:.25rem;--tw-border-opacity:1;border:1px solid rgb(85 79 79/var(--tw-border-opacity));--tw-bg-opacity:1;background-color:rgb(44 42 56/var(--tw-bg-opacity))}input[data-v-524f4b7a]::-moz-placeholder{--tw-text-opacity:1;color:rgb(163 163 163/var(--tw-text-opacity))}input[data-v-524f4b7a]:-ms-input-placeholder{--tw-text-opacity:1;color:rgb(163 163 163/var(--tw-text-opacity))}input[data-v-524f4b7a]::placeholder{--tw-text-opacity:1;color:rgb(163 163 163/var(--tw-text-opacity))}",""])},function(e,t,i){"use strict";i(356)},function(e,t,i){(e.exports=i(27)(!1)).push([e.i,".main-check-box[data-v-1c767bad]{display:flex;justify-content:flex-start;align-items:center}.main-check-box svg[data-v-1c767bad]{margin-top:1px}.main-check-box .slot[data-v-1c767bad]{margin-left:5px}",""])},function(e,t,i){"use strict";i(357)},function(e,t,i){(e.exports=i(27)(!1)).push([e.i,".main-select-view-plugin[data-v-1c49338c]{width:100%;height:calc(100% - 25px);position:fixed;top:25px;display:flex;flex-direction:column;align-items:center;justify-content:center;color:#000;z-index:10}.main-select-view-plugin .card-main[data-v-1c49338c]{border-radius:2px;display:flex;flex-direction:column;justify-content:space-around;width:50%}.main-select-view-plugin .card-main .card-content[data-v-1c49338c]{padding:15px 20px}.main-select-view-plugin .card-main .card-content .content-title[data-v-1c49338c]{font-size:1.2em;margin-bottom:10px}.main-select-view-plugin .card-main .card-content .content-message[data-v-1c49338c]{margin:5px 0 10px;max-height:60vh;overflow-x:hidden;word-break:break-word;overflow-y:auto}.main-select-view-plugin .card-main .card-content .content-message[data-v-1c49338c]::-webkit-scrollbar{width:16px}.main-select-view-plugin .card-main .card-content .content-message[data-v-1c49338c]::-webkit-scrollbar-thumb{background-color:#cac8c6;border-radius:100px;border:3px solid var(--bgc)}.main-select-view-plugin .card-main .card-content .content-message[data-v-1c49338c]::-webkit-scrollbar-corner{background-color:var(--bgc)}.main-select-view-plugin .card-main .card-content .check-list[data-v-1c49338c]{display:flex;flex-direction:column;margin:5px 0 10px}.main-select-view-plugin .card-main .card-content .check-list .check-item[data-v-1c49338c]{display:flex;align-items:center}.main-select-view-plugin .card-main .card-content .check-list .check-item .check-text[data-v-1c49338c]{margin-left:5px}.main-select-view-plugin .card-main .card-content .btns[data-v-1c49338c]{display:flex;justify-content:flex-start;flex-wrap:wrap}.main-select-view-plugin .card-main .card-content .btns .btn[data-v-1c49338c]{border-radius:3px;text-align:center;height:35px;line-height:35px;flex-shrink:1;color:#fff;background-color:#3e3c4d;border-radius:5px;cursor:pointer;margin:5px}.main-select-view-plugin .card-main .card-content .btns .btn [data-v-1c49338c]:hover{cursor:pointer}.main-select-view-plugin .card-main .card-content .btns .btn span[data-v-1c49338c]{padding:0 10px}.main-select-view-plugin .html-list[data-v-1c49338c]{margin-bottom:12px}.main-select-view-plugin .html-list[data-v-1c49338c] ul{max-height:60vh;overflow-y:auto;list-style-position:inside;list-style-type:disc}.main-select-view-plugin .html-list[data-v-1c49338c] ul::-webkit-scrollbar{width:16px}.main-select-view-plugin .html-list[data-v-1c49338c] ul::-webkit-scrollbar-thumb{background-color:#cac8c6;border-radius:100px;border:3px solid var(--bgc)}.main-select-view-plugin .html-list[data-v-1c49338c] ul::-webkit-scrollbar-corner{background-color:var(--bgc)}.main-select-view-plugin .html-list[data-v-1c49338c] ul code{background-color:var(--general-item-bgc);border-radius:3px;padding:0 4px;font-family:inherit}.main-select-view-plugin .html-list[data-v-1c49338c] a{cursor:pointer;color:var(--feedback-link-c)}",""])},function(e,t){e.exports=require("vue-electron")},function(e,t,i){"use strict";i.r(t),i.d(t,"CancellationTokenSource",(function(){return ua})),i.d(t,"Emitter",(function(){return ga})),i.d(t,"KeyCode",(function(){return pa})),i.d(t,"KeyMod",(function(){return fa})),i.d(t,"Position",(function(){return ma})),i.d(t,"Range",(function(){return va})),i.d(t,"Selection",(function(){return ba})),i.d(t,"SelectionDirection",(function(){return _a})),i.d(t,"MarkerSeverity",(function(){return wa})),i.d(t,"MarkerTag",(function(){return Ca})),i.d(t,"Uri",(function(){return ya})),i.d(t,"Token",(function(){return xa})),i.d(t,"editor",(function(){return Sa})),i.d(t,"languages",(function(){return ka}));var n,o,r,s,a,l,c,d,h,u,g,p,f,m,v,b,_,w,C,y,x,S,k,D,L,O,E,N,I,T,M,A,P,R,F,j=i(34),B=i(38),W=i(6),V=i(71),z=i(35),H=i(12),U=i(3),$=i(29),K=i(150);(re=n=n||{})[re.Unknown=0]="Unknown",re[re.Disabled=1]="Disabled",re[re.Enabled=2]="Enabled",(Li=o=o||{})[Li.KeepWhitespace=1]="KeepWhitespace",Li[Li.InsertAsSnippet=4]="InsertAsSnippet",(mt=r=r||{})[mt.Method=0]="Method",mt[mt.Function=1]="Function",mt[mt.Constructor=2]="Constructor",mt[mt.Field=3]="Field",mt[mt.Variable=4]="Variable",mt[mt.Class=5]="Class",mt[mt.Struct=6]="Struct",mt[mt.Interface=7]="Interface",mt[mt.Module=8]="Module",mt[mt.Property=9]="Property",mt[mt.Event=10]="Event",mt[mt.Operator=11]="Operator",mt[mt.Unit=12]="Unit",mt[mt.Value=13]="Value",mt[mt.Constant=14]="Constant",mt[mt.Enum=15]="Enum",mt[mt.EnumMember=16]="EnumMember",mt[mt.Keyword=17]="Keyword",mt[mt.Text=18]="文本",mt[mt.Color=19]="Color",mt[mt.File=20]="File",mt[mt.Reference=21]="Reference",mt[mt.Customcolor=22]="Customcolor",mt[mt.Folder=23]="Folder",mt[mt.TypeParameter=24]="TypeParameter",mt[mt.User=25]="User",mt[mt.Issue=26]="Issue",mt[mt.Snippet=27]="Snippet",(s=s||{})[s.Deprecated=1]="Deprecated",(vt=a=a||{})[vt.Invoke=0]="Invoke",vt[vt.TriggerCharacter=1]="TriggerCharacter",vt[vt.TriggerForIncompleteCompletions=2]="TriggerForIncompleteCompletions",(t=l=l||{})[t.EXACT=0]="EXACT",t[t.ABOVE=1]="ABOVE",t[t.BELOW=2]="BELOW",(re=c=c||{})[re.NotSet=0]="NotSet",re[re.ContentFlush=1]="ContentFlush",re[re.RecoverFromMarkers=2]="RecoverFromMarkers",re[re.Explicit=3]="Explicit",re[re.Paste=4]="Paste",re[re.Undo=5]="Undo",re[re.Redo=6]="Redo",(Li=d=d||{})[Li.LF=1]="LF",Li[Li.CRLF=2]="CRLF",(mt=h=h||{})[mt.Text=0]="文本",mt[mt.Read=1]="Read",mt[mt.Write=2]="Write",(vt=u=u||{})[vt.None=0]="None",vt[vt.Keep=1]="Keep",vt[vt.Brackets=2]="Brackets",vt[vt.Advanced=3]="Advanced",vt[vt.Full=4]="Full",(t=g=g||{})[t.acceptSuggestionOnCommitCharacter=0]="acceptSuggestionOnCommitCharacter",t[t.acceptSuggestionOnEnter=1]="acceptSuggestionOnEnter",t[t.accessibilitySupport=2]="accessibilitySupport",t[t.accessibilityPageSize=3]="accessibilityPageSize",t[t.ariaLabel=4]="ariaLabel",t[t.autoClosingBrackets=5]="autoClosingBrackets",t[t.autoClosingDelete=6]="autoClosingDelete",t[t.autoClosingOvertype=7]="autoClosingOvertype",t[t.autoClosingQuotes=8]="autoClosingQuotes",t[t.autoIndent=9]="autoIndent",t[t.automaticLayout=10]="automaticLayout",t[t.autoSurround=11]="autoSurround",t[t.bracketPairColorization=12]="bracketPairColorization",t[t.guides=13]="guides",t[t.codeLens=14]="codeLens",t[t.codeLensFontFamily=15]="codeLensFontFamily",t[t.codeLensFontSize=16]="codeLensFontSize",t[t.colorDecorators=17]="colorDecorators",t[t.columnSelection=18]="columnSelection",t[t.comments=19]="comments",t[t.contextmenu=20]="contextmenu",t[t.copyWithSyntaxHighlighting=21]="copyWithSyntaxHighlighting",t[t.cursorBlinking=22]="cursorBlinking",t[t.cursorSmoothCaretAnimation=23]="cursorSmoothCaretAnimation",t[t.cursorStyle=24]="cursorStyle",t[t.cursorSurroundingLines=25]="cursorSurroundingLines",t[t.cursorSurroundingLinesStyle=26]="cursorSurroundingLinesStyle",t[t.cursorWidth=27]="cursorWidth",t[t.disableLayerHinting=28]="disableLayerHinting",t[t.disableMonospaceOptimizations=29]="disableMonospaceOptimizations",t[t.domReadOnly=30]="domReadOnly",t[t.dragAndDrop=31]="dragAndDrop",t[t.emptySelectionClipboard=32]="emptySelectionClipboard",t[t.extraEditorClassName=33]="extraEditorClassName",t[t.fastScrollSensitivity=34]="fastScrollSensitivity",t[t.find=35]="find",t[t.fixedOverflowWidgets=36]="fixedOverflowWidgets",t[t.folding=37]="folding",t[t.foldingStrategy=38]="foldingStrategy",t[t.foldingHighlight=39]="foldingHighlight",t[t.foldingImportsByDefault=40]="foldingImportsByDefault",t[t.unfoldOnClickAfterEndOfLine=41]="unfoldOnClickAfterEndOfLine",t[t.fontFamily=42]="fontFamily",t[t.fontInfo=43]="fontInfo",t[t.fontLigatures=44]="fontLigatures",t[t.fontSize=45]="fontSize",t[t.fontWeight=46]="fontWeight",t[t.formatOnPaste=47]="formatOnPaste",t[t.formatOnType=48]="formatOnType",t[t.glyphMargin=49]="glyphMargin",t[t.gotoLocation=50]="gotoLocation",t[t.hideCursorInOverviewRuler=51]="hideCursorInOverviewRuler",t[t.hover=52]="hover",t[t.inDiffEditor=53]="inDiffEditor",t[t.inlineSuggest=54]="inlineSuggest",t[t.letterSpacing=55]="letterSpacing",t[t.lightbulb=56]="lightbulb",t[t.lineDecorationsWidth=57]="lineDecorationsWidth",t[t.lineHeight=58]="lineHeight",t[t.lineNumbers=59]="lineNumbers",t[t.lineNumbersMinChars=60]="lineNumbersMinChars",t[t.linkedEditing=61]="linkedEditing",t[t.links=62]="links",t[t.matchBrackets=63]="matchBrackets",t[t.minimap=64]="minimap",t[t.mouseStyle=65]="mouseStyle",t[t.mouseWheelScrollSensitivity=66]="mouseWheelScrollSensitivity",t[t.mouseWheelZoom=67]="mouseWheelZoom",t[t.multiCursorMergeOverlapping=68]="multiCursorMergeOverlapping",t[t.multiCursorModifier=69]="multiCursorModifier",t[t.multiCursorPaste=70]="multiCursorPaste",t[t.occurrencesHighlight=71]="occurrencesHighlight",t[t.overviewRulerBorder=72]="overviewRulerBorder",t[t.overviewRulerLanes=73]="overviewRulerLanes",t[t.padding=74]="padding",t[t.parameterHints=75]="parameterHints",t[t.peekWidgetDefaultFocus=76]="peekWidgetDefaultFocus",t[t.definitionLinkOpensInPeek=77]="definitionLinkOpensInPeek",t[t.quickSuggestions=78]="quickSuggestions",t[t.quickSuggestionsDelay=79]="quickSuggestionsDelay",t[t.readOnly=80]="readOnly",t[t.renameOnType=81]="renameOnType",t[t.renderControlCharacters=82]="renderControlCharacters",t[t.renderFinalNewline=83]="renderFinalNewline",t[t.renderLineHighlight=84]="renderLineHighlight",t[t.renderLineHighlightOnlyWhenFocus=85]="renderLineHighlightOnlyWhenFocus",t[t.renderValidationDecorations=86]="renderValidationDecorations",t[t.renderWhitespace=87]="renderWhitespace",t[t.revealHorizontalRightPadding=88]="revealHorizontalRightPadding",t[t.roundedSelection=89]="roundedSelection",t[t.rulers=90]="rulers",t[t.scrollbar=91]="scrollbar",t[t.scrollBeyondLastColumn=92]="scrollBeyondLastColumn",t[t.scrollBeyondLastLine=93]="scrollBeyondLastLine",t[t.scrollPredominantAxis=94]="scrollPredominantAxis",t[t.selectionClipboard=95]="selectionClipboard",t[t.selectionHighlight=96]="selectionHighlight",t[t.selectOnLineNumbers=97]="selectOnLineNumbers",t[t.showFoldingControls=98]="showFoldingControls",t[t.showUnused=99]="showUnused",t[t.snippetSuggestions=100]="snippetSuggestions",t[t.smartSelect=101]="smartSelect",t[t.smoothScrolling=102]="smoothScrolling",t[t.stickyTabStops=103]="stickyTabStops",t[t.stopRenderingLineAfter=104]="stopRenderingLineAfter",t[t.suggest=105]="suggest",t[t.suggestFontSize=106]="suggestFontSize",t[t.suggestLineHeight=107]="suggestLineHeight",t[t.suggestOnTriggerCharacters=108]="suggestOnTriggerCharacters",t[t.suggestSelection=109]="suggestSelection",t[t.tabCompletion=110]="tabCompletion",t[t.tabIndex=111]="tabIndex",t[t.unusualLineTerminators=112]="unusualLineTerminators",t[t.useShadowDOM=113]="useShadowDOM",t[t.useTabStops=114]="useTabStops",t[t.wordSeparators=115]="wordSeparators",t[t.wordWrap=116]="wordWrap",t[t.wordWrapBreakAfterCharacters=117]="wordWrapBreakAfterCharacters",t[t.wordWrapBreakBeforeCharacters=118]="wordWrapBreakBeforeCharacters",t[t.wordWrapColumn=119]="wordWrapColumn",t[t.wordWrapOverride1=120]="wordWrapOverride1",t[t.wordWrapOverride2=121]="wordWrapOverride2",t[t.wrappingIndent=122]="wrappingIndent",t[t.wrappingStrategy=123]="wrappingStrategy",t[t.showDeprecated=124]="showDeprecated",t[t.inlayHints=125]="inlayHints",t[t.editorClassName=126]="editorClassName",t[t.pixelRatio=127]="pixelRatio",t[t.tabFocusMode=128]="tabFocusMode",t[t.layoutInfo=129]="layoutInfo",t[t.wrappingInfo=130]="wrappingInfo",(re=p=p||{})[re.TextDefined=0]="TextDefined",re[re.LF=1]="LF",re[re.CRLF=2]="CRLF",(Li=f=f||{})[Li.LF=0]="LF",Li[Li.CRLF=1]="CRLF",(mt=m=m||{})[mt.None=0]="None",mt[mt.Indent=1]="Indent",mt[mt.IndentOutdent=2]="IndentOutdent",mt[mt.Outdent=3]="Outdent",(vt=v=v||{})[vt.Other=0]="Other",vt[vt.Type=1]="类型",vt[vt.Parameter=2]="Parameter",(t=b=b||{})[t.Automatic=0]="Automatic",t[t.Explicit=1]="Explicit",(re=_=_||{})[re.DependsOnKbLayout=-1]="DependsOnKbLayout",re[re.Unknown=0]="Unknown",re[re.Backspace=1]="Backspace",re[re.Tab=2]="Tab",re[re.Enter=3]="Enter",re[re.Shift=4]="Shift",re[re.Ctrl=5]="Ctrl",re[re.Alt=6]="Alt",re[re.PauseBreak=7]="PauseBreak",re[re.CapsLock=8]="CapsLock",re[re.Escape=9]="Escape",re[re.Space=10]="Space",re[re.PageUp=11]="PageUp",re[re.PageDown=12]="PageDown",re[re.End=13]="End",re[re.Home=14]="Home",re[re.LeftArrow=15]="LeftArrow",re[re.UpArrow=16]="UpArrow",re[re.RightArrow=17]="RightArrow",re[re.DownArrow=18]="DownArrow",re[re.Insert=19]="Insert",re[re.Delete=20]="Delete",re[re.Digit0=21]="Digit0",re[re.Digit1=22]="Digit1",re[re.Digit2=23]="Digit2",re[re.Digit3=24]="Digit3",re[re.Digit4=25]="Digit4",re[re.Digit5=26]="Digit5",re[re.Digit6=27]="Digit6",re[re.Digit7=28]="Digit7",re[re.Digit8=29]="Digit8",re[re.Digit9=30]="Digit9",re[re.KeyA=31]="KeyA",re[re.KeyB=32]="KeyB",re[re.KeyC=33]="KeyC",re[re.KeyD=34]="KeyD",re[re.KeyE=35]="KeyE",re[re.KeyF=36]="KeyF",re[re.KeyG=37]="KeyG",re[re.KeyH=38]="KeyH",re[re.KeyI=39]="KeyI",re[re.KeyJ=40]="KeyJ",re[re.KeyK=41]="KeyK",re[re.KeyL=42]="KeyL",re[re.KeyM=43]="KeyM",re[re.KeyN=44]="KeyN",re[re.KeyO=45]="KeyO",re[re.KeyP=46]="KeyP",re[re.KeyQ=47]="KeyQ",re[re.KeyR=48]="KeyR",re[re.KeyS=49]="KeyS",re[re.KeyT=50]="KeyT",re[re.KeyU=51]="KeyU",re[re.KeyV=52]="KeyV",re[re.KeyW=53]="KeyW",re[re.KeyX=54]="KeyX",re[re.KeyY=55]="KeyY",re[re.KeyZ=56]="KeyZ",re[re.Meta=57]="Meta",re[re.ContextMenu=58]="ContextMenu",re[re.F1=59]="F1",re[re.F2=60]="F2",re[re.F3=61]="F3",re[re.F4=62]="F4",re[re.F5=63]="F5",re[re.F6=64]="F6",re[re.F7=65]="F7",re[re.F8=66]="F8",re[re.F9=67]="F9",re[re.F10=68]="F10",re[re.F11=69]="F11",re[re.F12=70]="F12",re[re.F13=71]="F13",re[re.F14=72]="F14",re[re.F15=73]="F15",re[re.F16=74]="F16",re[re.F17=75]="F17",re[re.F18=76]="F18",re[re.F19=77]="F19",re[re.NumLock=78]="NumLock",re[re.ScrollLock=79]="ScrollLock",re[re.Semicolon=80]="Semicolon",re[re.Equal=81]="Equal",re[re.Comma=82]="Comma",re[re.Minus=83]="Minus",re[re.Period=84]="Period",re[re.Slash=85]="Slash",re[re.Backquote=86]="Backquote",re[re.BracketLeft=87]="BracketLeft",re[re.Backslash=88]="Backslash",re[re.BracketRight=89]="BracketRight",re[re.Quote=90]="Quote",re[re.OEM_8=91]="OEM_8",re[re.IntlBackslash=92]="IntlBackslash",re[re.Numpad0=93]="Numpad0",re[re.Numpad1=94]="Numpad1",re[re.Numpad2=95]="Numpad2",re[re.Numpad3=96]="Numpad3",re[re.Numpad4=97]="Numpad4",re[re.Numpad5=98]="Numpad5",re[re.Numpad6=99]="Numpad6",re[re.Numpad7=100]="Numpad7",re[re.Numpad8=101]="Numpad8",re[re.Numpad9=102]="Numpad9",re[re.NumpadMultiply=103]="NumpadMultiply",re[re.NumpadAdd=104]="NumpadAdd",re[re.NUMPAD_SEPARATOR=105]="NUMPAD_SEPARATOR",re[re.NumpadSubtract=106]="NumpadSubtract",re[re.NumpadDecimal=107]="NumpadDecimal",re[re.NumpadDivide=108]="NumpadDivide",re[re.KEY_IN_COMPOSITION=109]="KEY_IN_COMPOSITION",re[re.ABNT_C1=110]="ABNT_C1",re[re.ABNT_C2=111]="ABNT_C2",re[re.AudioVolumeMute=112]="AudioVolumeMute",re[re.AudioVolumeUp=113]="AudioVolumeUp",re[re.AudioVolumeDown=114]="AudioVolumeDown",re[re.BrowserSearch=115]="BrowserSearch",re[re.BrowserHome=116]="BrowserHome",re[re.BrowserBack=117]="BrowserBack",re[re.BrowserForward=118]="BrowserForward",re[re.MediaTrackNext=119]="MediaTrackNext",re[re.MediaTrackPrevious=120]="MediaTrackPrevious",re[re.MediaStop=121]="MediaStop",re[re.MediaPlayPause=122]="MediaPlayPause",re[re.LaunchMediaPlayer=123]="LaunchMediaPlayer",re[re.LaunchMail=124]="LaunchMail",re[re.LaunchApp2=125]="LaunchApp2",re[re.MAX_VALUE=126]="MAX_VALUE",(Li=w=w||{})[Li.Hint=1]="Hint",Li[Li.Info=2]="Info",Li[Li.Warning=4]="Warning",Li[Li.Error=8]="错误",(mt=C=C||{})[mt.Unnecessary=1]="Unnecessary",mt[mt.Deprecated=2]="Deprecated",(vt=y=y||{})[vt.Inline=1]="Inline",vt[vt.Gutter=2]="Gutter",(t=x=x||{})[t.UNKNOWN=0]="UNKNOWN",t[t.TEXTAREA=1]="TEXTAREA",t[t.GUTTER_GLYPH_MARGIN=2]="GUTTER_GLYPH_MARGIN",t[t.GUTTER_LINE_NUMBERS=3]="GUTTER_LINE_NUMBERS",t[t.GUTTER_LINE_DECORATIONS=4]="GUTTER_LINE_DECORATIONS",t[t.GUTTER_VIEW_ZONE=5]="GUTTER_VIEW_ZONE",t[t.CONTENT_TEXT=6]="CONTENT_TEXT",t[t.CONTENT_EMPTY=7]="CONTENT_EMPTY",t[t.CONTENT_VIEW_ZONE=8]="CONTENT_VIEW_ZONE",t[t.CONTENT_WIDGET=9]="CONTENT_WIDGET",t[t.OVERVIEW_RULER=10]="OVERVIEW_RULER",t[t.SCROLLBAR=11]="SCROLLBAR",t[t.OVERLAY_WIDGET=12]="OVERLAY_WIDGET",t[t.OUTSIDE_EDITOR=13]="OUTSIDE_EDITOR",(re=S=S||{})[re.TOP_RIGHT_CORNER=0]="TOP_RIGHT_CORNER",re[re.BOTTOM_RIGHT_CORNER=1]="BOTTOM_RIGHT_CORNER",re[re.TOP_CENTER=2]="TOP_CENTER",(Li=k=k||{})[Li.Left=1]="Left",Li[Li.Center=2]="Center",Li[Li.Right=4]="Right",Li[Li.Full=7]="Full",(mt=D=D||{})[mt.Off=0]="Off",mt[mt.On=1]="On",mt[mt.Relative=2]="Relative",mt[mt.Interval=3]="Interval",mt[mt.Custom=4]="自定义",(vt=L=L||{})[vt.None=0]="None",vt[vt.Text=1]="文本",vt[vt.Blocks=2]="Blocks",(t=O=O||{})[t.Smooth=0]="Smooth",t[t.Immediate=1]="Immediate",(re=E=E||{})[re.Auto=1]="Auto",re[re.Hidden=2]="Hidden",re[re.Visible=3]="Visible",(Li=N=N||{})[Li.LTR=0]="LTR",Li[Li.RTL=1]="RTL",(mt=I=I||{})[mt.Invoke=1]="Invoke",mt[mt.TriggerCharacter=2]="TriggerCharacter",mt[mt.ContentChange=3]="ContentChange",(vt=T=T||{})[vt.File=0]="File",vt[vt.Module=1]="Module",vt[vt.Namespace=2]="Namespace",vt[vt.Package=3]="Package",vt[vt.Class=4]="Class",vt[vt.Method=5]="Method",vt[vt.Property=6]="Property",vt[vt.Field=7]="Field",vt[vt.Constructor=8]="Constructor",vt[vt.Enum=9]="Enum",vt[vt.Interface=10]="Interface",vt[vt.Function=11]="Function",vt[vt.Variable=12]="Variable",vt[vt.Constant=13]="Constant",vt[vt.String=14]="String",vt[vt.Number=15]="Number",vt[vt.Boolean=16]="Boolean",vt[vt.Array=17]="Array",vt[vt.Object=18]="Object",vt[vt.Key=19]="Key",vt[vt.Null=20]="Null",vt[vt.EnumMember=21]="EnumMember",vt[vt.Struct=22]="Struct",vt[vt.Event=23]="Event",vt[vt.Operator=24]="Operator",vt[vt.TypeParameter=25]="TypeParameter",(M=M||{})[M.Deprecated=1]="Deprecated",(t=A=A||{})[t.Hidden=0]="Hidden",t[t.Blink=1]="Blink",t[t.Smooth=2]="Smooth",t[t.Phase=3]="Phase",t[t.Expand=4]="Expand",t[t.Solid=5]="Solid",(re=P=P||{})[re.Line=1]="Line",re[re.Block=2]="Block",re[re.Underline=3]="Underline",re[re.LineThin=4]="LineThin",re[re.BlockOutline=5]="BlockOutline",re[re.UnderlineThin=6]="UnderlineThin",(Li=R=R||{})[Li.AlwaysGrowsWhenTypingAtEdges=0]="AlwaysGrowsWhenTypingAtEdges",Li[Li.NeverGrowsWhenTypingAtEdges=1]="NeverGrowsWhenTypingAtEdges",Li[Li.GrowsOnlyWhenTypingBefore=2]="GrowsOnlyWhenTypingBefore",Li[Li.GrowsOnlyWhenTypingAfter=3]="GrowsOnlyWhenTypingAfter",(mt=F=F||{})[mt.None=0]="None",mt[mt.Same=1]="Same",mt[mt.Indent=2]="Indent",mt[mt.DeepIndent=3]="DeepIndent";class q{static chord(e,t){return Object(V.c)(e,t)}}function G(){return{editor:void 0,languages:void 0,CancellationTokenSource:B.b,Emitter:W.b,KeyCode:_,KeyMod:q,Position:H.a,Range:U.a,Selection:$.a,SelectionDirection:N,MarkerSeverity:w,MarkerTag:C,Uri:z.a,Token:K.a}}q.CtrlCmd=2048,q.Shift=1024,q.Alt=512,q.WinCtrl=256,i(533);var Y,Z=i(46),X=i(1),Q=i(114),J=i(74),ee=i(241),te=i(52),ie=i(60),ne=i(36);(vt=Y=Y||{})[vt.API=0]="API",vt[vt.USER=1]="USER";var oe=i(91),re=(t=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;0<=a;a--)(o=e[a])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s},function(e,t){return function(i,n){t(i,n,e)}}),se=function(e,t,i,n){return new(i=i||Promise)((function(o,r){function s(e){try{l(n.next(e))}catch(e){r(e)}}function a(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):((t=e.value)instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};let ae=class{constructor(e){this._commandService=e}open(e,t){return se(this,void 0,void 0,(function*(){if(!Object(oe.c)(e,te.c.command))return!1;if(null==t||!t.allowCommands)return!0;"string"==typeof e&&(e=z.a.parse(e));let i=[];try{i=Object(ee.a)(decodeURIComponent(e.query))}catch(t){try{i=Object(ee.a)(e.query)}catch(e){}}return Array.isArray(i)||(i=[i]),yield this._commandService.executeCommand(e.path,...i),!0}))}};ae=t([re(0,ne.b)],ae);let le=class{constructor(e){this._editorService=e}open(e,t){return se(this,void 0,void 0,(function*(){"string"==typeof e&&(e=z.a.parse(e));let i=void 0;var n=/^L?(\d+)(?:,(\d+))?/.exec(e.fragment);return n&&(i={startLineNumber:parseInt(n[1]),startColumn:n[2]?parseInt(n[2]):1},e=e.with({fragment:""})),e.scheme===te.c.file&&(e=Object(ie.h)(e)),yield this._editorService.openCodeEditor({resource:e,options:Object.assign({selection:i,context:null!=t&&t.fromUserGesture?Y.USER:Y.API},null==t?void 0:t.editorOptions)},this._editorService.getFocusedCodeEditor(),null==t?void 0:t.openToSide),!0}))}};le=t([re(0,Z.a)],le);let ce=class{constructor(e,t){this._openers=new Q.a,this._validators=new Q.a,this._resolvers=new Q.a,this._resolvedUriTargets=new J.b(e=>e.with({path:null,fragment:null,query:null}).toString()),this._externalOpeners=new Q.a,this._defaultExternalOpener={openExternal:e=>se(this,void 0,void 0,(function*(){return Object(oe.c)(e,te.c.http)||Object(oe.c)(e,te.c.https)?X.Z(e):window.location.href=e,!0}))},this._openers.push({open:(e,t)=>se(this,void 0,void 0,(function*(){return!!(null!=t&&t.openExternal||Object(oe.c)(e,te.c.mailto)||Object(oe.c)(e,te.c.http)||Object(oe.c)(e,te.c.https))&&(yield this._doOpenExternal(e,t),!0)}))}),this._openers.push(new ae(t)),this._openers.push(new le(e))}registerOpener(e){return{dispose:this._openers.unshift(e)}}registerValidator(e){return{dispose:this._validators.push(e)}}registerExternalUriResolver(e){return{dispose:this._resolvers.push(e)}}setDefaultExternalOpener(e){this._defaultExternalOpener=e}registerExternalOpener(e){return{dispose:this._externalOpeners.push(e)}}open(e,t){var i;return se(this,void 0,void 0,(function*(){var n="string"==typeof e?z.a.parse(e):e,o=null!==(i=this._resolvedUriTargets.get(n))&&void 0!==i?i:e;for(const e of this._validators)if(!(yield e.shouldOpen(o)))return!1;for(const i of this._openers)if(yield i.open(e,t))return!0;return!1}))}resolveExternalUri(e,t){return se(this,void 0,void 0,(function*(){for(const n of this._resolvers)try{var i=yield n.resolveExternalUri(e,t);if(i)return this._resolvedUriTargets.has(i.resolved)||this._resolvedUriTargets.set(i.resolved,e),i}catch(i){}throw new Error("Could not resolve external URI: "+e.toString())}))}_doOpenExternal(e,t){return se(this,void 0,void 0,(function*(){const i="string"==typeof e?z.a.parse(e):e;let n,o;try{n=(yield this.resolveExternalUri(i,t)).resolved}catch(o){n=i}if(o="string"==typeof e&&i.toString()===n.toString()?e:encodeURI(n.toString(!0)),null!=t&&t.allowContributedOpeners){var r="string"!=typeof(null==t?void 0:t.allowContributedOpeners)||null==t?void 0:t.allowContributedOpeners;for(const e of this._externalOpeners)if(yield e.openExternal(o,{sourceUri:i,preferredOpenerId:r},B.a.None))return!0}return this._defaultExternalOpener.openExternal(o,{sourceUri:i},B.a.None)}))}dispose(){this._validators.clear()}};ce=t([re(0,Z.a),re(1,ne.b)],ce);var de=i(224),he=i(2),ue=i(55);const ge={followsCaret:!0,ignoreCharChanges:!0,alwaysRevealFirst:!0};class pe extends he.a{constructor(e,t={}){super(),this._onDidUpdate=this._register(new W.b),this._editor=e,this._options=ue.f(t,ge,!1),this.disposed=!1,this.nextIdx=-1,this.ranges=[],this.ignoreSelectionChange=!1,this.revealFirst=Boolean(this._options.alwaysRevealFirst),this._register(this._editor.onDidDispose(()=>this.dispose())),this._register(this._editor.onDidUpdateDiff(()=>this._onDiffUpdated())),this._options.followsCaret&&this._register(this._editor.getModifiedEditor().onDidChangeCursorPosition(e=>{this.ignoreSelectionChange||(this.nextIdx=-1)})),this._options.alwaysRevealFirst&&this._register(this._editor.getModifiedEditor().onDidChangeModel(e=>{this.revealFirst=!0})),this._init()}_init(){this._editor.getLineChanges()}_onDiffUpdated(){this._init(),this._compute(this._editor.getLineChanges()),this.revealFirst&&null!==this._editor.getLineChanges()&&(this.revealFirst=!1,this.nextIdx=-1,this.next(1))}_compute(e){this.ranges=[],e&&e.forEach(e=>{!this._options.ignoreCharChanges&&e.charChanges?e.charChanges.forEach(e=>{this.ranges.push({rhs:!0,range:new U.a(e.modifiedStartLineNumber,e.modifiedStartColumn,e.modifiedEndLineNumber,e.modifiedEndColumn)})}):0===e.modifiedEndLineNumber?this.ranges.push({rhs:!0,range:new U.a(e.modifiedStartLineNumber,1,e.modifiedStartLineNumber+1,1)}):this.ranges.push({rhs:!0,range:new U.a(e.modifiedStartLineNumber,1,e.modifiedEndLineNumber+1,1)})}),this.ranges.sort((e,t)=>U.a.compareRangesUsingStarts(e.range,t.range)),this._onDidUpdate.fire(this)}_initIdx(e){let t=!1,i=this._editor.getPosition();if(i){for(let n=0,o=this.ranges.length;n<o&&!t;n++){let o=this.ranges[n].range;i.isBeforeOrEqual(o.getStartPosition())&&(this.nextIdx=n+(e?0:-1),t=!0)}t||(this.nextIdx=e?0:this.ranges.length-1),this.nextIdx<0&&(this.nextIdx=this.ranges.length-1)}else this.nextIdx=0}_move(e,t){if(de.a(!this.disposed,"Illegal State - diff navigator has been disposed"),this.canNavigate()){-1===this.nextIdx?this._initIdx(e):e?(this.nextIdx+=1,this.nextIdx>=this.ranges.length&&(this.nextIdx=0)):(--this.nextIdx,this.nextIdx<0&&(this.nextIdx=this.ranges.length-1));let n=this.ranges[this.nextIdx];this.ignoreSelectionChange=!0;try{var i=n.range.getStartPosition();this._editor.setPosition(i),this._editor.revealRangeInCenter(n.range,t)}finally{this.ignoreSelectionChange=!1}}}canNavigate(){return this.ranges&&0<this.ranges.length}next(e=0){this._move(!0,e)}previous(e=0){this._move(!1,e)}dispose(){super.dispose(),this.ranges=[],this.disposed=!0}}var fe=i(197),me=i(172),ve=i(50),be=i(11),_e=i(107),we=i(121),Ce=i(80),ye=i(110),xe=i(18),Se=i(17),ke=i(15),De=i(19),Le=i(9);let Oe=!1;function Ee(e){ke.h&&(Oe||(Oe=!0,console.warn("Could not create web worker(s). Falling back to loading web worker code in main thread, which might cause UI freezes. Please see https://github.com/microsoft/monaco-editor#faq")),console.warn(e.message))}class Ne{constructor(e,t,i,n){this.vsWorker=e,this.req=t,this.method=i,this.args=n,this.type=0}}class Ie{constructor(e,t,i,n){this.vsWorker=e,this.seq=t,this.res=i,this.err=n,this.type=1}}class Te{constructor(e,t,i,n){this.vsWorker=e,this.req=t,this.eventName=i,this.arg=n,this.type=2}}class Me{constructor(e,t,i){this.vsWorker=e,this.req=t,this.event=i,this.type=3}}class Ae{constructor(e,t){this.vsWorker=e,this.req=t,this.type=4}}class Pe{constructor(e){this._workerId=-1,this._handler=e,this._lastSentReq=0,this._pendingReplies=Object.create(null),this._pendingEmitters=new Map,this._pendingEvents=new Map}setWorkerId(e){this._workerId=e}sendMessage(e,t){const i=String(++this._lastSentReq);return new Promise((n,o)=>{this._pendingReplies[i]={resolve:n,reject:o},this._send(new Ne(this._workerId,i,e,t))})}listen(e,t){let i=null;const n=new W.b({onFirstListenerAdd:()=>{i=String(++this._lastSentReq),this._pendingEmitters.set(i,n),this._send(new Te(this._workerId,i,e,t))},onLastListenerRemove:()=>{this._pendingEmitters.delete(i),this._send(new Ae(this._workerId,i)),i=null}});return n.event}handleMessage(e){e&&e.vsWorker&&(-1!==this._workerId&&e.vsWorker!==this._workerId||this._handleMessage(e))}_handleMessage(e){switch(e.type){case 1:return this._handleReplyMessage(e);case 0:return this._handleRequestMessage(e);case 2:return this._handleSubscribeEventMessage(e);case 3:return this._handleEventMessage(e);case 4:return this._handleUnsubscribeEventMessage(e)}}_handleReplyMessage(e){if(this._pendingReplies[e.seq]){let t=this._pendingReplies[e.seq];if(delete this._pendingReplies[e.seq],e.err){let i=e.err;return e.err.$isError&&(i=new Error,i.name=e.err.name,i.message=e.err.message,i.stack=e.err.stack),void t.reject(i)}t.resolve(e.res)}else console.warn("Got reply to unknown seq")}_handleRequestMessage(e){let t=e.req;this._handler.handleMessage(e.method,e.args).then(e=>{this._send(new Ie(this._workerId,t,e,void 0))},e=>{e.detail instanceof Error&&(e.detail=Object(Se.h)(e.detail)),this._send(new Ie(this._workerId,t,void 0,Object(Se.h)(e)))})}_handleSubscribeEventMessage(e){const t=e.req;e=this._handler.handleEvent(e.eventName,e.arg)(e=>{this._send(new Me(this._workerId,t,e))}),this._pendingEvents.set(t,e)}_handleEventMessage(e){this._pendingEmitters.has(e.req)?this._pendingEmitters.get(e.req).fire(e.event):console.warn("Got event for unknown req")}_handleUnsubscribeEventMessage(e){this._pendingEvents.has(e.req)?(this._pendingEvents.get(e.req).dispose(),this._pendingEvents.delete(e.req)):console.warn("Got unsubscribe for unknown req")}_send(e){let t=[];if(0===e.type)for(let i=0;i<e.args.length;i++)e.args[i]instanceof ArrayBuffer&&t.push(e.args[i]);else 1===e.type&&e.res instanceof ArrayBuffer&&t.push(e.res);this._handler.sendMessage(e,t)}}class Re extends he.a{constructor(e,t,i){super();let n=null;this._worker=this._register(e.create("vs/base/common/worker/simpleWorker",e=>{this._protocol.handleMessage(e)},e=>{n&&n(e)})),this._protocol=new Pe({sendMessage:(e,t)=>{this._worker.postMessage(e,t)},handleMessage:(e,t)=>{if("function"!=typeof i[e])return Promise.reject(new Error("Missing method "+e+" on main thread host."));try{return Promise.resolve(i[e].apply(i,t))}catch(e){return Promise.reject(e)}},handleEvent:(e,t)=>{if(je(e)){var n=i[e].call(i,t);if("function"!=typeof n)throw new Error(`Missing dynamic event ${e} on main thread host.`);return n}if(Fe(e)){if("function"!=typeof(n=i[e]))throw new Error(`Missing event ${e} on main thread host.`);return n}throw new Error("Malformed event name "+e)}}),this._protocol.setWorkerId(this._worker.getId());let o=null;void 0!==ke.b.require&&"function"==typeof ke.b.require.getConfig?o=ke.b.require.getConfig():void 0!==ke.b.requirejs&&(o=ke.b.requirejs.s.contexts._.config),e=De.e(i),this._onModuleLoaded=this._protocol.sendMessage("$initialize",[this._worker.getId(),JSON.parse(JSON.stringify(o)),t,e]);const r=(e,t)=>this._request(e,t),s=(e,t)=>this._protocol.listen(e,t);this._lazyProxy=new Promise((e,i)=>{n=i,this._onModuleLoaded.then(t=>{e(function(e,t,i){let n={};for(const o of e)je(o)?n[o]=(e=>function(t){return i(e,t)})(o):Fe(o)?n[o]=i(o,void 0):n[o]=(e=>function(){var i=Array.prototype.slice.call(arguments,0);return t(e,i)})(o);return n}(t,r,s))},e=>{i(e),this._onError("Worker failed to load "+t,e)})})}getProxyObject(){return this._lazyProxy}_request(e,t){return new Promise((i,n)=>{this._onModuleLoaded.then(()=>{this._protocol.sendMessage(e,t).then(i,n)},n)})}_onError(e,t){console.error(e),console.info(t)}}function Fe(e){return"o"===e[0]&&"n"===e[1]&&Le.H(e.charCodeAt(2))}function je(e){return/^onDynamic/.test(e)&&Le.H(e.charCodeAt(9))}const Be=null===(Li=window.trustedTypes)||void 0===Li?void 0:Li.createPolicy("defaultWorkerFactory",{createScriptURL:e=>e});class We{constructor(e,t,i,n,o){this.id=t,"function"==typeof(i=function(e,t){if(ke.b.MonacoEnvironment){if("function"==typeof ke.b.MonacoEnvironment.getWorker)return ke.b.MonacoEnvironment.getWorker(e,t);if("function"==typeof ke.b.MonacoEnvironment.getWorkerUrl)return e=ke.b.MonacoEnvironment.getWorkerUrl(e,t),new Worker(Be?Be.createScriptURL(e):e,{name:t})}throw new Error("You must define a function MonacoEnvironment.getWorkerUrl or MonacoEnvironment.getWorker")}("workerMain.js",i)).then?this.worker=i:this.worker=Promise.resolve(i),this.postMessage(e,[]),this.worker.then(e=>{e.onmessage=function(e){n(e.data)},e.onmessageerror=o,"function"==typeof e.addEventListener&&e.addEventListener("error",o)})}getId(){return this.id}postMessage(e,t){this.worker&&this.worker.then(i=>i.postMessage(e,t))}dispose(){this.worker&&this.worker.then(e=>e.terminate()),this.worker=null}}class Ve{constructor(e){this._label=e,this._webWorkerFailedBeforeError=!1}create(e,t,i){var n=++Ve.LAST_WORKER_ID;if(this._webWorkerFailedBeforeError)throw this._webWorkerFailedBeforeError;return new We(e,n,this._label||"anonymous"+n,t,e=>{Ee(e),this._webWorkerFailedBeforeError=e,i(e)})}}Ve.LAST_WORKER_ID=0;var ze=i(49),He=i(195);function Ue(e,t,i,n){return new He.a(e,t,i).ComputeDiff(n)}class $e{constructor(e){const t=[],i=[];for(let n=0,o=e.length;n<o;n++)t[n]=Ze(e[n],1),i[n]=Xe(e[n],1);this.lines=e,this._startColumns=t,this._endColumns=i}getElements(){const e=[];for(let t=0,i=this.lines.length;t<i;t++)e[t]=this.lines[t].substring(this._startColumns[t]-1,this._endColumns[t]-1);return e}getStrictElement(e){return this.lines[e]}getStartLineNumber(e){return e+1}getEndLineNumber(e){return e+1}createCharSequence(e,t,i){const n=[],o=[],r=[];let s=0;for(let c=t;c<=i;c++){const t=this.lines[c];var a=e?this._startColumns[c]:1,l=e?this._endColumns[c]:t.length+1;for(let e=a;e<l;e++)n[s]=t.charCodeAt(e-1),o[s]=c+1,r[s]=e,s++}return new Ke(n,o,r)}}class Ke{constructor(e,t,i){this._charCodes=e,this._lineNumbers=t,this._columns=i}getElements(){return this._charCodes}getStartLineNumber(e){return this._lineNumbers[e]}getStartColumn(e){return this._columns[e]}getEndLineNumber(e){return this._lineNumbers[e]}getEndColumn(e){return this._columns[e]+1}}class qe{constructor(e,t,i,n,o,r,s,a){this.originalStartLineNumber=e,this.originalStartColumn=t,this.originalEndLineNumber=i,this.originalEndColumn=n,this.modifiedStartLineNumber=o,this.modifiedStartColumn=r,this.modifiedEndLineNumber=s,this.modifiedEndColumn=a}static createFromDiffChange(e,t,i){let n,o,r,s,a,l,c,d;return s=0===e.originalLength?(n=0,o=0,r=0):(n=t.getStartLineNumber(e.originalStart),o=t.getStartColumn(e.originalStart),r=t.getEndLineNumber(e.originalStart+e.originalLength-1),t.getEndColumn(e.originalStart+e.originalLength-1)),d=0===e.modifiedLength?(a=0,l=0,c=0):(a=i.getStartLineNumber(e.modifiedStart),l=i.getStartColumn(e.modifiedStart),c=i.getEndLineNumber(e.modifiedStart+e.modifiedLength-1),i.getEndColumn(e.modifiedStart+e.modifiedLength-1)),new qe(n,o,r,s,a,l,c,d)}}class Ge{constructor(e,t,i,n,o){this.originalStartLineNumber=e,this.originalEndLineNumber=t,this.modifiedStartLineNumber=i,this.modifiedEndLineNumber=n,this.charChanges=o}static createFromDiffResult(e,t,i,n,o,r,s){let a,l,c,d,h=void 0;if(l=0===t.originalLength?(a=i.getStartLineNumber(t.originalStart)-1,0):(a=i.getStartLineNumber(t.originalStart),i.getEndLineNumber(t.originalStart+t.originalLength-1)),d=0===t.modifiedLength?(c=n.getStartLineNumber(t.modifiedStart)-1,0):(c=n.getStartLineNumber(t.modifiedStart),n.getEndLineNumber(t.modifiedStart+t.modifiedLength-1)),r&&0<t.originalLength&&t.originalLength<20&&0<t.modifiedLength&&t.modifiedLength<20&&o()){var u=i.createCharSequence(e,t.originalStart,t.originalStart+t.originalLength-1),g=n.createCharSequence(e,t.modifiedStart,t.modifiedStart+t.modifiedLength-1);let r=Ue(u,g,o,!0).changes;s&&(r=function(e){if(e.length<=1)return e;const t=[e[0]];let i=t[0];for(let s=1,a=e.length;s<a;s++){var n=e[s],o=n.originalStart-(i.originalStart+i.originalLength),r=n.modifiedStart-(i.modifiedStart+i.modifiedLength);Math.min(o,r)<3?(i.originalLength=n.originalStart+n.originalLength-i.originalStart,i.modifiedLength=n.modifiedStart+n.modifiedLength-i.modifiedStart):(t.push(n),i=n)}return t}(r)),h=[];for(let e=0,t=r.length;e<t;e++)h.push(qe.createFromDiffChange(r[e],u,g))}return new Ge(a,l,c,d,h)}}class Ye{constructor(e,t,i){this.shouldComputeCharChanges=i.shouldComputeCharChanges,this.shouldPostProcessCharChanges=i.shouldPostProcessCharChanges,this.shouldIgnoreTrimWhitespace=i.shouldIgnoreTrimWhitespace,this.shouldMakePrettyDiff=i.shouldMakePrettyDiff,this.originalLines=e,this.modifiedLines=t,this.original=new $e(e),this.modified=new $e(t),this.continueLineDiff=Qe(i.maxComputationTime),this.continueCharDiff=Qe(0===i.maxComputationTime?0:Math.min(i.maxComputationTime,5e3))}computeDiff(){if(1===this.original.lines.length&&0===this.original.lines[0].length)return 1===this.modified.lines.length&&0===this.modified.lines[0].length?{quitEarly:!1,changes:[]}:{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:1,modifiedStartLineNumber:1,modifiedEndLineNumber:this.modified.lines.length,charChanges:[{modifiedEndColumn:0,modifiedEndLineNumber:0,modifiedStartColumn:0,modifiedStartLineNumber:0,originalEndColumn:0,originalEndLineNumber:0,originalStartColumn:0,originalStartLineNumber:0}]}]};if(1===this.modified.lines.length&&0===this.modified.lines[0].length)return{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:this.original.lines.length,modifiedStartLineNumber:1,modifiedEndLineNumber:1,charChanges:[{modifiedEndColumn:0,modifiedEndLineNumber:0,modifiedStartColumn:0,modifiedStartLineNumber:0,originalEndColumn:0,originalEndLineNumber:0,originalStartColumn:0,originalStartLineNumber:0}]}]};var e=(t=Ue(this.original,this.modified,this.continueLineDiff,this.shouldMakePrettyDiff)).changes,t=t.quitEarly;if(this.shouldIgnoreTrimWhitespace){const i=[];for(let t=0,n=e.length;t<n;t++)i.push(Ge.createFromDiffResult(this.shouldIgnoreTrimWhitespace,e[t],this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges));return{quitEarly:t,changes:i}}const i=[];let n=0,o=0;for(let t=-1,d=e.length;t<d;t++){for(var r=t+1<d?e[t+1]:null,s=r?r.originalStart:this.originalLines.length,a=r?r.modifiedStart:this.modifiedLines.length;n<s&&o<a;){const e=this.originalLines[n],t=this.modifiedLines[o];if(e!==t){{let r=Ze(e,1),s=Ze(t,1);for(;1<r&&1<s&&e.charCodeAt(r-2)===t.charCodeAt(s-2);)r--,s--;(1<r||1<s)&&this._pushTrimWhitespaceCharChange(i,n+1,1,r,o+1,1,s)}{let r=Xe(e,1),s=Xe(t,1);for(var l=e.length+1,c=t.length+1;r<l&&s<c&&e.charCodeAt(r-1)===e.charCodeAt(s-1);)r++,s++;(r<l||s<c)&&this._pushTrimWhitespaceCharChange(i,n+1,r,l,o+1,s,c)}}n++,o++}r&&(i.push(Ge.createFromDiffResult(this.shouldIgnoreTrimWhitespace,r,this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges)),n+=r.originalLength,o+=r.modifiedLength)}return{quitEarly:t,changes:i}}_pushTrimWhitespaceCharChange(e,t,i,n,o,r,s){if(!this._mergeTrimWhitespaceCharChange(e,t,i,n,o,r,s)){let a=void 0;this.shouldComputeCharChanges&&(a=[new qe(t,i,t,n,o,r,o,s)]),e.push(new Ge(t,t,o,o,a))}}_mergeTrimWhitespaceCharChange(e,t,i,n,o,r,s){var a=e.length;if(0===a)return!1;const l=e[a-1];return 0!==l.originalEndLineNumber&&0!==l.modifiedEndLineNumber&&l.originalEndLineNumber+1===t&&l.modifiedEndLineNumber+1===o&&(l.originalEndLineNumber=t,l.modifiedEndLineNumber=o,this.shouldComputeCharChanges&&l.charChanges&&l.charChanges.push(new qe(t,i,t,n,o,r,o,s)),!0)}}function Ze(e,t){return-1===(e=Le.u(e))?t:e+1}function Xe(e,t){return-1===(e=Le.I(e))?t:e+2}function Qe(e){if(0===e)return()=>!0;const t=Date.now();return()=>Date.now()-t<e}var Je=i(258),et=i(163),tt=i(149);class it{constructor(e,t,i){const n=new Uint8Array(e*t);for(let o=0,r=e*t;o<r;o++)n[o]=i;this._data=n,this.rows=e,this.cols=t}get(e,t){return this._data[e*this.cols+t]}set(e,t,i){this._data[e*this.cols+t]=i}}class nt{constructor(e){let t=0,i=0;for(let s=0,a=e.length;s<a;s++){var[n,o,r]=e[s];o>t&&(t=o),n>i&&(i=n),r>i&&(i=r)}t++,i++;let s=new it(i,t,0);for(let t=0,i=e.length;t<i;t++){var[a,l,c]=e[t];s.set(a,l,c)}this._states=s,this._maxCharCode=t}nextState(e,t){return t<0||t>=this._maxCharCode?0:this._states.get(e,t)}}let ot=null,rt=null;class st{static _createLink(e,t,i,n,o){let r=o-1;do{var s=t.charCodeAt(r);if(2!==e.get(s))break}while(r--,r>n);var a;return 0<n&&(a=t.charCodeAt(n-1),o=t.charCodeAt(r),(40===a&&41===o||91===a&&93===o||123===a&&125===o)&&r--),{range:{startLineNumber:i,startColumn:n+1,endLineNumber:i,endColumn:r+2},url:t.substring(n,r+1)}}static computeLinks(e,t=(null===ot&&(ot=new nt([[1,104,2],[1,72,2],[1,102,6],[1,70,6],[2,116,3],[2,84,3],[3,116,4],[3,84,4],[4,112,5],[4,80,5],[5,115,9],[5,83,9],[5,58,10],[6,105,7],[6,73,7],[7,108,8],[7,76,8],[8,101,9],[8,69,9],[9,58,10],[10,47,11],[11,47,12]])),ot)){const i=function(){if(null===rt){rt=new tt.a(0);var e=" \t<>'\"、。｡､，．：；‘〈「『〔（［｛｢｣｝］）〕』」〉’｀～…";for(let t=0;t<e.length;t++)rt.set(e.charCodeAt(t),1);for(let e=0;e<".,;".length;e++)rt.set(".,;".charCodeAt(e),2)}return rt}();let n=[];for(let s=1,a=e.getLineCount();s<=a;s++){const a=e.getLineContent(s);var o=a.length;let l=0,c=0,d=0,h=1,u=!1,g=!1,p=!1,f=!1;for(;l<o;){let e=!1;var r=a.charCodeAt(l);if(13===h){let t;switch(r){case 40:u=!0,t=0;break;case 41:t=u?0:1;break;case 91:p=!0,g=!0,t=0;break;case 93:p=!1,t=g?0:1;break;case 123:f=!0,t=0;break;case 125:t=f?0:1;break;case 39:t=34===d||96===d?0:1;break;case 34:t=39===d||96===d?0:1;break;case 96:t=39===d||34===d?0:1;break;case 42:t=42===d?1:0;break;case 124:t=124===d?1:0;break;case 32:t=p?0:1;break;default:t=i.get(r)}1===t&&(n.push(st._createLink(i,a,s,c,l)),e=!0)}else if(12===h){let t;t=91===r?(g=!0,0):i.get(r),1===t?e=!0:h=13}else h=t.nextState(h,r),0===h&&(e=!0);e&&(h=1,u=!1,g=!1,f=!1,c=l+1,d=r),l++}13===h&&n.push(st._createLink(i,a,s,c,o))}return n}}class at{constructor(){this._defaultValueSet=[["true","false"],["True","False"],["Private","Public","Friend","ReadOnly","Partial","Protected","WriteOnly"],["public","protected","private"]]}navigateValueSet(e,t,i,n,o){return e&&t&&(t=this.doNavigateValueSet(t,o))?{range:e,value:t}:i&&n&&(o=this.doNavigateValueSet(n,o))?{range:i,value:o}:null}doNavigateValueSet(e,t){var i=this.numberReplace(e,t);return null!==i?i:this.textReplace(e,t)}numberReplace(e,t){var i=Math.pow(10,e.length-(e.lastIndexOf(".")+1));let n=Number(e);return e=parseFloat(e),isNaN(n)||isNaN(e)||n!==e||0===n&&!t?null:(n=Math.floor(n*i),n+=t?i:-i,String(n/i))}textReplace(e,t){return this.valueSetsReplace(this._defaultValueSet,e,t)}valueSetsReplace(e,t,i){let n=null;for(let o=0,r=e.length;null===n&&o<r;o++)n=this.valueSetReplace(e[o],t,i);return n}valueSetReplace(e,t,i){let n=e.indexOf(t);return 0<=n?(n+=i?1:-1,n<0?n=e.length-1:n%=e.length,e[n]):null}}at.INSTANCE=new at;var lt=i(155),ct=function(e,t,i,n){return new(i=i||Promise)((function(o,r){function s(e){try{l(n.next(e))}catch(e){r(e)}}function a(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):((t=e.value)instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};class dt extends class{constructor(e,t,i,n){this._uri=e,this._lines=t,this._eol=i,this._versionId=n,this._lineStarts=null,this._cachedTextValue=null}dispose(){this._lines.length=0}get version(){return this._versionId}getText(){return null===this._cachedTextValue&&(this._cachedTextValue=this._lines.join(this._eol)),this._cachedTextValue}onEvents(e){e.eol&&e.eol!==this._eol&&(this._eol=e.eol,this._lineStarts=null);for(const t of e.changes)this._acceptDeleteRange(t.range),this._acceptInsertText(new H.a(t.range.startLineNumber,t.range.startColumn),t.text);this._versionId=e.versionId,this._cachedTextValue=null}_ensureLineStarts(){if(!this._lineStarts){var e=this._eol.length,t=this._lines.length;const i=new Uint32Array(t);for(let n=0;n<t;n++)i[n]=this._lines[n].length+e;this._lineStarts=new Je.a(i)}}_setLineText(e,t){this._lines[e]=t,this._lineStarts&&this._lineStarts.changeValue(e,this._lines[e].length+this._eol.length)}_acceptDeleteRange(e){if(e.startLineNumber===e.endLineNumber)return e.startColumn===e.endColumn?void 0:void this._setLineText(e.startLineNumber-1,this._lines[e.startLineNumber-1].substring(0,e.startColumn-1)+this._lines[e.startLineNumber-1].substring(e.endColumn-1));this._setLineText(e.startLineNumber-1,this._lines[e.startLineNumber-1].substring(0,e.startColumn-1)+this._lines[e.endLineNumber-1].substring(e.endColumn-1)),this._lines.splice(e.startLineNumber,e.endLineNumber-e.startLineNumber),this._lineStarts&&this._lineStarts.removeValues(e.startLineNumber,e.endLineNumber-e.startLineNumber)}_acceptInsertText(e,t){if(0!==t.length){let i=Object(Le.Q)(t);if(1!==i.length){i[i.length-1]+=this._lines[e.lineNumber-1].substring(e.column-1),this._setLineText(e.lineNumber-1,this._lines[e.lineNumber-1].substring(0,e.column-1)+i[0]);let t=new Uint32Array(i.length-1);for(let n=1;n<i.length;n++)this._lines.splice(e.lineNumber+n-1,0,i[n]),t[n-1]=i[n].length+this._eol.length;this._lineStarts&&this._lineStarts.insertValues(e.lineNumber,t)}else this._setLineText(e.lineNumber-1,this._lines[e.lineNumber-1].substring(0,e.column-1)+i[0]+this._lines[e.lineNumber-1].substring(e.column-1))}}}{get uri(){return this._uri}get eol(){return this._eol}getValue(){return this.getText()}getLinesContent(){return this._lines.slice(0)}getLineCount(){return this._lines.length}getLineContent(e){return this._lines[e-1]}getWordAtPosition(e,t){return(t=Object(et.d)(e.column,Object(et.c)(t),this._lines[e.lineNumber-1],0))?new U.a(e.lineNumber,t.startColumn,e.lineNumber,t.endColumn):null}words(e){const t=this._lines,i=this._wordenize.bind(this);let n=0,o="",r=0,s=[];return{*[Symbol.iterator](){for(;;)if(r<s.length){var a=o.substring(s[r].start,s[r].end);r+=1,yield a}else{if(!(n<t.length))break;o=t[n],s=i(o,e),r=0,n+=1}}}}getLineWords(e,t){let i=this._lines[e-1],n=[];for(const e of this._wordenize(i,t))n.push({word:i.substring(e.start,e.end),startColumn:e.start+1,endColumn:e.end+1});return n}_wordenize(e,t){const i=[];var n;for(t.lastIndex=0;(n=t.exec(e))&&0!==n[0].length;)i.push({start:n.index,end:n.index+n[0].length});return i}getValueInRange(e){if((e=this._validateRange(e)).startLineNumber===e.endLineNumber)return this._lines[e.startLineNumber-1].substring(e.startColumn-1,e.endColumn-1);var t=this._eol,i=e.startLineNumber-1,n=e.endLineNumber-1;let o=[];o.push(this._lines[i].substring(e.startColumn-1));for(let e=1+i;e<n;e++)o.push(this._lines[e]);return o.push(this._lines[n].substring(0,e.endColumn-1)),o.join(t)}offsetAt(e){return e=this._validatePosition(e),this._ensureLineStarts(),this._lineStarts.getPrefixSum(e.lineNumber-2)+(e.column-1)}positionAt(e){e=Math.floor(e),e=Math.max(0,e),this._ensureLineStarts();var t=this._lineStarts.getIndexOf(e);e=this._lines[t.index].length;return{lineNumber:1+t.index,column:1+Math.min(t.remainder,e)}}_validateRange(e){var t=this._validatePosition({lineNumber:e.startLineNumber,column:e.startColumn}),i=this._validatePosition({lineNumber:e.endLineNumber,column:e.endColumn});return t.lineNumber!==e.startLineNumber||t.column!==e.startColumn||i.lineNumber!==e.endLineNumber||i.column!==e.endColumn?{startLineNumber:t.lineNumber,startColumn:t.column,endLineNumber:i.lineNumber,endColumn:i.column}:e}_validatePosition(e){if(!H.a.isIPosition(e))throw new Error("bad position");let{lineNumber:t,column:i}=e,n=!1;var o;return t<1?(t=1,i=1,n=!0):t>this._lines.length?(t=this._lines.length,i=this._lines[t-1].length+1,n=!0):(o=this._lines[t-1].length+1,i<1?(i=1,n=!0):i>o&&(i=o,n=!0)),n?{lineNumber:t,column:i}:e}}class ht{constructor(e,t){this._host=e,this._models=Object.create(null),this._foreignModuleFactory=t,this._foreignModule=null}dispose(){this._models=Object.create(null)}_getModel(e){return this._models[e]}_getModels(){let e=[];return Object.keys(this._models).forEach(t=>e.push(this._models[t])),e}acceptNewModel(e){this._models[e.url]=new dt(z.a.parse(e.url),e.lines,e.EOL,e.versionId)}acceptModelChanged(e,t){if(this._models[e]){this._models[e].onEvents(t)}}acceptRemovedModel(e){this._models[e]&&delete this._models[e]}computeDiff(e,t,i,n){return ct(this,void 0,void 0,(function*(){const o=this._getModel(e),r=this._getModel(t);if(!o||!r)return null;var s=o.getLinesContent(),a=r.getLinesContent();return a=!(0<(s=new Ye(s,a,{shouldComputeCharChanges:!0,shouldPostProcessCharChanges:!0,shouldIgnoreTrimWhitespace:i,shouldMakePrettyDiff:!0,maxComputationTime:n}).computeDiff()).changes.length)&&this._modelsAreIdentical(o,r),{quitEarly:s.quitEarly,identical:a,changes:s.changes}}))}_modelsAreIdentical(e,t){var i=e.getLineCount();if(i!==t.getLineCount())return!1;for(let n=1;n<=i;n++)if(e.getLineContent(n)!==t.getLineContent(n))return!1;return!0}computeMoreMinimalEdits(e,t){return ct(this,void 0,void 0,(function*(){const i=this._getModel(e);if(!i)return t;const n=[];let o=void 0;for(var{range:r,text:s,eol:a}of t=t.slice(0).sort((e,t)=>e.range&&t.range?U.a.compareRangesUsingStarts(e.range,t.range):(e.range?0:1)-(t.range?0:1)))if("number"==typeof a&&(o=a),(!U.a.isEmpty(r)||s)&&(a=i.getValueInRange(r))!==(s=s.replace(/\r\n|\n|\r/g,i.eol)))if(Math.max(s.length,a.length)>ht._diffLimit)n.push({range:r,text:s});else{var a=Object(He.b)(a,s,!1),l=i.offsetAt(U.a.lift(r).getStartPosition());for(const e of a){var c=i.positionAt(l+e.originalStart),d=i.positionAt(l+e.originalStart+e.originalLength);d={text:s.substr(e.modifiedStart,e.modifiedLength),range:{startLineNumber:c.lineNumber,startColumn:c.column,endLineNumber:d.lineNumber,endColumn:d.column}};i.getValueInRange(d.range)!==d.text&&n.push(d)}}return"number"==typeof o&&n.push({eol:o,text:"",range:{startLineNumber:0,startColumn:0,endLineNumber:0,endColumn:0}}),n}))}computeLinks(e){return ct(this,void 0,void 0,(function*(){var t=this._getModel(e);return t?(t=t)&&"function"==typeof t.getLineCount&&"function"==typeof t.getLineContent?st.computeLinks(t):[]:null}))}textualSuggest(e,t,i,n){return ct(this,void 0,void 0,(function*(){const o=new lt.a(!0);var r=new RegExp(i,n);const s=new Set;e:for(var a of e){const e=this._getModel(a);if(e)for(var l of e.words(r))if(l!==t&&isNaN(Number(l))&&(s.add(l),s.size>ht._suggestionsLimit))break e}return{words:Array.from(s),duration:o.elapsed()}}))}computeWordRanges(e,t,i,n){return ct(this,void 0,void 0,(function*(){let o=this._getModel(e);if(!o)return Object.create(null);var r=new RegExp(i,n);const s=Object.create(null);for(let e=t.startLineNumber;e<t.endLineNumber;e++)for(const t of o.getLineWords(e,r))if(isNaN(Number(t.word))){let i=s[t.word];i||(i=[],s[t.word]=i),i.push({startLineNumber:e,startColumn:t.startColumn,endLineNumber:e,endColumn:t.endColumn})}return s}))}navigateValueSet(e,t,i,n,o){return ct(this,void 0,void 0,(function*(){let r=this._getModel(e);if(!r)return null;var s=new RegExp(n,o);t.startColumn===t.endColumn&&(t={startLineNumber:t.startLineNumber,startColumn:t.startColumn,endLineNumber:t.endLineNumber,endColumn:t.endColumn+1});var a=r.getValueInRange(t),l=r.getWordAtPosition({lineNumber:t.startLineNumber,column:t.startColumn},s);return l?(s=r.getValueInRange(l),at.INSTANCE.navigateValueSet(t,a,l,s,i)):null}))}loadForeignModule(e,t,i){return i={host:De.d(i,(e,t)=>this._host.fhr(e,t)),getMirrorModels:()=>this._getModels()},this._foreignModuleFactory?(this._foreignModule=this._foreignModuleFactory(i,t),Promise.resolve(De.e(this._foreignModule))):Promise.reject(new Error("Unexpected usage"))}fmr(e,t){if(!this._foreignModule||"function"!=typeof this._foreignModule[e])return Promise.reject(new Error("Missing requestHandler or method: "+e));try{return Promise.resolve(this._foreignModule[e].apply(this._foreignModule,t))}catch(e){return Promise.reject(e)}}}ht._diffLimit=1e5,ht._suggestionsLimit=1e4,"function"==typeof importScripts&&(ke.b.monaco=G());var ut=i(70),gt=i(185),pt=i(22),ft=i(105),mt=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;0<=a;a--)(o=e[a])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s},vt=function(e,t){return function(i,n){t(i,n,e)}},bt=function(e,t,i,n){return new(i=i||Promise)((function(o,r){function s(e){try{l(n.next(e))}catch(e){r(e)}}function a(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):((t=e.value)instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};function _t(e,t){let i=e.getModel(t);return!!i&&!i.isTooLargeForSyncing()}let wt=class extends he.a{constructor(e,t,i){super(),this._modelService=e,this._workerManager=this._register(new yt(this._modelService)),this._logService=i,this._register(be.v.register({language:"*",hasAccessToAllModels:!0},{provideLinks:(e,t)=>_t(this._modelService,e.uri)?this._workerManager.withWorker().then(t=>t.computeLinks(e.uri)).then(e=>e&&{links:e}):Promise.resolve({links:[]})})),this._register(be.d.register("*",new Ct(this._workerManager,t,this._modelService)))}dispose(){super.dispose()}computeDiff(e,t,i,n){return this._workerManager.withWorker().then(o=>o.computeDiff(e,t,i,n))}computeMoreMinimalEdits(e,t){if(Object(pt.n)(t)){if(!_t(this._modelService,e))return Promise.resolve(t);const i=lt.a.create(!0),n=this._workerManager.withWorker().then(i=>i.computeMoreMinimalEdits(e,t));return n.finally(()=>this._logService.trace("FORMAT#computeMoreMinimalEdits",e.toString(!0),i.elapsed())),Promise.race([n,Object(xe.n)(1e3).then(()=>t)])}return Promise.resolve(void 0)}canNavigateValueSet(e){return _t(this._modelService,e)}navigateValueSet(e,t,i){return this._workerManager.withWorker().then(n=>n.navigateValueSet(e,t,i))}canComputeWordRanges(e){return _t(this._modelService,e)}computeWordRanges(e,t){return this._workerManager.withWorker().then(i=>i.computeWordRanges(e,t))}};wt=mt([vt(0,ut.a),vt(1,gt.a),vt(2,ft.b)],wt);class Ct{constructor(e,t,i){this._debugDisplayName="wordbasedCompletions",this._workerManager=e,this._configurationService=t,this._modelService=i}provideCompletionItems(e,t){return bt(this,void 0,void 0,(function*(){var i=this._configurationService.getValue(e.uri,t,"editor");if(i.wordBasedSuggestions){const r=[];if("currentDocument"===i.wordBasedSuggestionsMode)_t(this._modelService,e.uri)&&r.push(e.uri);else for(const t of this._modelService.getModels())_t(this._modelService,t.uri)&&(t===e?r.unshift(t.uri):"allDocuments"!==i.wordBasedSuggestionsMode&&t.getLanguageId()!==e.getLanguageId()||r.push(t.uri));if(0!==r.length){var n=ze.b.getWordDefinition(e.getLanguageId()),o=e.getWordAtPosition(t);const i=o?new U.a(t.lineNumber,o.startColumn,t.lineNumber,o.endColumn):U.a.fromPositions(t),s=i.setEndPosition(t.lineNumber,t.column),a=yield this._workerManager.withWorker(),l=yield a.textualSuggest(r,null==o?void 0:o.word,n);if(l)return{duration:l.duration,suggestions:l.words.map(e=>({kind:18,label:e,insertText:e,range:{insert:s,replace:i}}))}}}}))}}class yt extends he.a{constructor(e){super(),this._modelService=e,this._editorWorkerClient=null,this._lastWorkerUsedTime=(new Date).getTime(),this._register(new xe.c).cancelAndSet(()=>this._checkStopIdleWorker(),Math.round(15e4)),this._register(this._modelService.onModelRemoved(e=>this._checkStopEmptyWorker()))}dispose(){this._editorWorkerClient&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null),super.dispose()}_checkStopEmptyWorker(){this._editorWorkerClient&&0===this._modelService.getModels().length&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}_checkStopIdleWorker(){this._editorWorkerClient&&3e5<(new Date).getTime()-this._lastWorkerUsedTime&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}withWorker(){return this._lastWorkerUsedTime=(new Date).getTime(),this._editorWorkerClient||(this._editorWorkerClient=new Dt(this._modelService,!1,"editorWorkerService")),Promise.resolve(this._editorWorkerClient)}}class xt extends he.a{constructor(e,t,i){if(super(),this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),this._proxy=e,this._modelService=t,!i){let e=new xe.c;e.cancelAndSet(()=>this._checkStopModelSync(),Math.round(3e4)),this._register(e)}}dispose(){for(var e in this._syncedModels)Object(he.f)(this._syncedModels[e]);this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),super.dispose()}ensureSyncedResources(e,t){for(const n of e){var i=n.toString();this._syncedModels[i]||this._beginModelSync(n,t),this._syncedModels[i]&&(this._syncedModelsLastUsedTime[i]=(new Date).getTime())}}_checkStopModelSync(){var e,t=(new Date).getTime();let i=[];for(e in this._syncedModelsLastUsedTime)6e4<t-this._syncedModelsLastUsedTime[e]&&i.push(e);for(const e of i)this._stopModelSync(e)}_beginModelSync(e,t){let i=this._modelService.getModel(e);if(i&&(t||!i.isTooLargeForSyncing())){let t=e.toString();this._proxy.acceptNewModel({url:i.uri.toString(),lines:i.getLinesContent(),EOL:i.getEOL(),versionId:i.getVersionId()});const n=new he.b;n.add(i.onDidChangeContent(e=>{this._proxy.acceptModelChanged(t.toString(),e)})),n.add(i.onWillDispose(()=>{this._stopModelSync(t)})),n.add(Object(he.i)(()=>{this._proxy.acceptRemovedModel(t)})),this._syncedModels[t]=n}}_stopModelSync(e){var t=this._syncedModels[e];delete this._syncedModels[e],delete this._syncedModelsLastUsedTime[e],Object(he.f)(t)}}class St{constructor(e){this._instance=e,this._proxyObj=Promise.resolve(this._instance)}dispose(){this._instance.dispose()}getProxyObject(){return this._proxyObj}}class kt{constructor(e){this._workerClient=e}fhr(e,t){return this._workerClient.fhr(e,t)}}class Dt extends he.a{constructor(e,t,i){super(),this._disposed=!1,this._modelService=e,this._keepIdleModels=t,this._workerFactory=new Ve(i),this._worker=null,this._modelManager=null}fhr(e,t){throw new Error("Not implemented!")}_getOrCreateWorker(){if(!this._worker)try{this._worker=this._register(new Re(this._workerFactory,"vs/editor/common/services/editorSimpleWorker",new kt(this)))}catch(e){Ee(e),this._worker=new St(new ht(new kt(this),null))}return this._worker}_getProxy(){return this._getOrCreateWorker().getProxyObject().then(void 0,e=>(Ee(e),this._worker=new St(new ht(new kt(this),null)),this._getOrCreateWorker().getProxyObject()))}_getOrCreateModelManager(e){return this._modelManager||(this._modelManager=this._register(new xt(e,this._modelService,this._keepIdleModels))),this._modelManager}_withSyncedResources(e,t=!1){return bt(this,void 0,void 0,(function*(){return this._disposed?Promise.reject(Object(Se.b)()):this._getProxy().then(i=>(this._getOrCreateModelManager(i).ensureSyncedResources(e,t),i))}))}computeDiff(e,t,i,n){return this._withSyncedResources([e,t],!0).then(o=>o.computeDiff(e.toString(),t.toString(),i,n))}computeMoreMinimalEdits(e,t){return this._withSyncedResources([e]).then(i=>i.computeMoreMinimalEdits(e.toString(),t))}computeLinks(e){return this._withSyncedResources([e]).then(t=>t.computeLinks(e.toString()))}textualSuggest(e,t,i){return bt(this,void 0,void 0,(function*(){const n=yield this._withSyncedResources(e);var o=i.source,r=Object(Le.M)(i);return n.textualSuggest(e.map(e=>e.toString()),t,o,r)}))}computeWordRanges(e,t){return this._withSyncedResources([e]).then(i=>{let n=this._modelService.getModel(e);if(!n)return Promise.resolve(null);var o=(r=ze.b.getWordDefinition(n.getLanguageId())).source,r=Object(Le.M)(r);return i.computeWordRanges(e.toString(),t,o,r)})}navigateValueSet(e,t,i){return this._withSyncedResources([e]).then(n=>{let o=this._modelService.getModel(e);if(!o)return null;var r=(s=ze.b.getWordDefinition(o.getLanguageId())).source,s=Object(Le.M)(s);return n.navigateValueSet(e.toString(),t,i,r,s)})}dispose(){super.dispose(),this._disposed=!0}}class Lt extends Dt{constructor(e,t){super(e,t.keepIdleModels||!1,t.label),this._foreignModuleId=t.moduleId,this._foreignModuleCreateData=t.createData||null,this._foreignModuleHost=t.host||null,this._foreignProxy=null}fhr(e,t){if(!this._foreignModuleHost||"function"!=typeof this._foreignModuleHost[e])return Promise.reject(new Error("Missing method "+e+" or missing main thread foreign host."));try{return Promise.resolve(this._foreignModuleHost[e].apply(this._foreignModuleHost,t))}catch(e){return Promise.reject(e)}}_getForeignProxy(){return this._foreignProxy||(this._foreignProxy=this._getProxy().then(e=>{var t=this._foreignModuleHost?De.e(this._foreignModuleHost):[];return e.loadForeignModule(this._foreignModuleId,this._foreignModuleCreateData,t).then(t=>{this._foreignModuleCreateData=null;var i=(t,i)=>e.fmr(t,i);let n={};for(const e of t)n[e]=((e,t)=>function(){var i=Array.prototype.slice.call(arguments,0);return t(e,i)})(e,i);return n})})),this._foreignProxy}getProxy(){return this._getForeignProxy()}withSyncedResources(e){return this._withSyncedResources(e).then(e=>this.getProxy())}}var Ot=i(118),Et=i(115),Nt=i(68);function It(e){return!Array.isArray(e)}function Tt(e){return"string"==typeof e}function Mt(e){return!Tt(e)}function At(e,t){return e.ignoreCase&&t?t.toLowerCase():t}function Pt(e){return e.replace(/[&<>'"_]/g,"-")}function Rt(e,t){return new Error(`${e.languageId}: ${t}`)}function Ft(e,t,i,n,o){let r=null;return t.replace(/\$((\$)|(#)|(\d\d?)|[sS](\d\d?)|@(\w+))/g,(function(t,s,a,l,c,d,h,u,g){return a?"$":l?At(e,i):c&&c<n.length?At(e,n[c]):h&&e&&"string"==typeof e[h]?e[h]:(null===r&&(r=o.split("."),r.unshift(o)),d&&d<r.length?At(e,r[d]):"")}))}function jt(e,t){let i=t;for(;i&&0<i.length;){var n=e.tokenizer[i];if(n)return n;n=i.lastIndexOf("."),i=n<0?null:i.substr(0,n)}return null}class Bt{constructor(e){this._maxCacheDepth=e,this._entries=Object.create(null)}static create(e,t){return this._INSTANCE.create(e,t)}create(e,t){if(null!==e&&e.depth>=this._maxCacheDepth)return new Wt(e,t);let i=Wt.getStackElementId(e);0<i.length&&(i+="|"),i+=t;let n=this._entries[i];return n||(n=new Wt(e,t),this._entries[i]=n,n)}}Bt._INSTANCE=new Bt(5);class Wt{constructor(e,t){this.parent=e,this.state=t,this.depth=(this.parent?this.parent.depth:0)+1}static getStackElementId(e){let t="";for(;null!==e;)0<t.length&&(t+="|"),t+=e.state,e=e.parent;return t}static _equals(e,t){for(;null!==e&&null!==t;){if(e===t)return!0;if(e.state!==t.state)return!1;e=e.parent,t=t.parent}return null===e&&null===t}equals(e){return Wt._equals(this,e)}push(e){return Bt.create(this,e)}pop(){return this.parent}popall(){let e=this;for(;e.parent;)e=e.parent;return e}switchTo(e){return Bt.create(this.parent,e)}}class Vt{constructor(e,t){this.languageId=e,this.state=t}equals(e){return this.languageId===e.languageId&&this.state.equals(e.state)}clone(){return this.state.clone()===this.state?this:new Vt(this.languageId,this.state)}}class zt{constructor(e){this._maxCacheDepth=e,this._entries=Object.create(null)}static create(e,t){return this._INSTANCE.create(e,t)}create(e,t){if(null!==t)return new Ht(e,t);if(null!==e&&e.depth>=this._maxCacheDepth)return new Ht(e,t);t=Wt.getStackElementId(e);let i=this._entries[t];return i||(i=new Ht(e,null),this._entries[t]=i,i)}}zt._INSTANCE=new zt(5);class Ht{constructor(e,t){this.stack=e,this.embeddedModeData=t}clone(){return(this.embeddedModeData?this.embeddedModeData.clone():null)===this.embeddedModeData?this:zt.create(this.stack,this.embeddedModeData)}equals(e){return e instanceof Ht&&!!this.stack.equals(e.stack)&&(null===this.embeddedModeData&&null===e.embeddedModeData||null!==this.embeddedModeData&&null!==e.embeddedModeData&&this.embeddedModeData.equals(e.embeddedModeData))}}class Ut{constructor(){this._tokens=[],this._languageId=null,this._lastTokenType=null,this._lastTokenLanguage=null}enterMode(e,t){this._languageId=t}emit(e,t){this._lastTokenType===t&&this._lastTokenLanguage===this._languageId||(this._lastTokenType=t,this._lastTokenLanguage=this._languageId,this._tokens.push(new K.a(e,t,this._languageId)))}nestedModeTokenize(e,t,i,n){var o=i.languageId;i=i.state;const r=be.F.get(o);return r?(n=r.tokenize(e,t,i,n),this._tokens=this._tokens.concat(n.tokens),this._lastTokenType=null,this._lastTokenLanguage=null,this._languageId=null,n.endState):(this.enterMode(n,o),this.emit(n,""),i)}finalize(e){return new K.b(this._tokens,e)}}class $t{constructor(e,t){this._modeService=e,this._theme=t,this._prependTokens=null,this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0}enterMode(e,t){this._currentLanguageId=this._modeService.languageIdCodec.encodeLanguageId(t)}emit(e,t){t=this._theme.match(this._currentLanguageId,t),this._lastTokenMetadata!==t&&(this._lastTokenMetadata=t,this._tokens.push(e),this._tokens.push(t))}static _merge(e,t,i){var n=null!==e?e.length:0,o=t.length,r=null!==i?i.length:0;if(0===n&&0===o&&0===r)return new Uint32Array(0);if(0===n&&0===o)return i;if(0===o&&0===r)return e;let s=new Uint32Array(n+o+r);null!==e&&s.set(e);for(let e=0;e<o;e++)s[n+e]=t[e];return null!==i&&s.set(i,n+o),s}nestedModeTokenize(e,t,i,n){var o=i.languageId;i=i.state;const r=be.F.get(o);return r?(n=r.tokenize2(e,t,i,n),this._prependTokens=$t._merge(this._prependTokens,this._tokens,n.tokens),this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0,n.endState):(this.enterMode(n,o),this.emit(n,""),i)}finalize(e){return new K.c($t._merge(this._prependTokens,this._tokens,null),e)}}class Kt{constructor(e,t,i,n){this._modeService=e,this._standaloneThemeService=t,this._languageId=i,this._lexer=n,this._embeddedModes=Object.create(null),this.embeddedLoaded=Promise.resolve(void 0);let o=!1;this._tokenizationRegistryListener=be.F.onDidChange(e=>{if(!o){let i=!1;for(let n=0,o=e.changedLanguages.length;n<o;n++){var t=e.changedLanguages[n];if(this._embeddedModes[t]){i=!0;break}}i&&(o=!0,be.F.fire([this._languageId]),o=!1)}})}dispose(){this._tokenizationRegistryListener.dispose()}getLoadStatus(){let e=[];for(var t in this._embeddedModes){const n=be.F.get(t);var i;n?n instanceof Kt&&!1===(i=n.getLoadStatus()).loaded&&e.push(i.promise):(t=be.F.getPromise(t))&&e.push(t)}return 0===e.length?{loaded:!0}:{loaded:!1,promise:Promise.all(e).then(e=>{})}}getInitialState(){var e=Bt.create(null,this._lexer.start);return zt.create(e,null)}tokenize(e,t,i,n){let o=new Ut;return n=this._tokenize(e,t,i,n,o),o.finalize(n)}tokenize2(e,t,i,n){let o=new $t(this._modeService,this._standaloneThemeService.getColorTheme().tokenTheme);return n=this._tokenize(e,t,i,n,o),o.finalize(n)}_tokenize(e,t,i,n,o){return i.embeddedModeData?this._nestedTokenize(e,t,i,n,o):this._myTokenize(e,t,i,n,o)}_findLeavingNestedModeOffset(e,t){let i=this._lexer.tokenizer[t.stack.state];if(!i&&(i=jt(this._lexer,t.stack.state),!i))throw Rt(this._lexer,"tokenizer state is not defined: "+t.stack.state);let n=-1,o=!1;for(const t of i)if(Mt(t.action)&&"@pop"===t.action.nextEmbedded){o=!0;let i=t.regex,s=t.regex.source;"^(?:"===s.substr(0,4)&&")"===s.substr(s.length-1,1)&&(r=(i.ignoreCase?"i":"")+(i.unicode?"u":""),i=new RegExp(s.substr(4,s.length-5),r));var r=e.search(i);-1===r||0!==r&&t.matchOnlyAtLineStart||(-1===n||r<n)&&(n=r)}if(!o)throw Rt(this._lexer,'no rule containing nextEmbedded: "@pop" in tokenizer embedded state: '+t.stack.state);return n}_nestedTokenize(e,t,i,n,o){var r=this._findLeavingNestedModeOffset(e,i);if(-1===r){var s=o.nestedModeTokenize(e,t,i.embeddedModeData,n);return zt.create(i.stack,new Vt(i.embeddedModeData.languageId,s))}return 0<(s=e.substring(0,r)).length&&o.nestedModeTokenize(s,!1,i.embeddedModeData,n),e=e.substring(r),this._myTokenize(e,t,i,n+r,o)}_safeRuleName(e){return e?e.name:"(unknown)"}_myTokenize(e,t,i,n,o){o.enterMode(n,this._languageId);var r=e.length;const s=t&&this._lexer.includeLF?e+"\n":e,a=s.length;let l=i.embeddedModeData,c=i.stack,d=0,h=null,u=!0;for(;u||d<a;){var g=d,p=c.depth,f=h?h.groups.length:0,m=c.state;let i=null,w=null,C=null,y=null,x=null;if(h){i=h.matches;var v=h.groups.shift();w=v.matched,C=v.action,y=h.rule,0===h.groups.length&&(h=null)}else{if(!u&&d>=a)break;u=!1;let e=this._lexer.tokenizer[m];if(!e&&(e=jt(this._lexer,m),!e))throw Rt(this._lexer,"tokenizer state is not defined: "+m);let t=s.substr(d);for(const n of e)if((0===d||!n.matchOnlyAtLineStart)&&(i=t.match(n.regex),i)){w=i[0],C=n.action;break}}if(i||(i=[""],w=""),C||(d<a&&(i=[s.charAt(d)],w=i[0]),C=this._lexer.defaultToken),null===w)break;for(d+=w.length;It(C)&&Mt(C)&&C.test;)C=C.test(w,i,m,d===a);let S=null;if("string"==typeof C||Array.isArray(C))S=C;else if(C.group)S=C.group;else if(null!==C.token&&void 0!==C.token){if(S=C.tokenSubst?Ft(this._lexer,C.token,w,i,m):C.token,C.nextEmbedded)if("@pop"===C.nextEmbedded){if(!l)throw Rt(this._lexer,"cannot pop embedded mode if not inside one");l=null}else{if(l)throw Rt(this._lexer,"cannot enter embedded mode from within an embedded mode");x=Ft(this._lexer,C.nextEmbedded,w,i,m)}if(C.goBack&&(d=Math.max(0,d-C.goBack)),C.switchTo&&"string"==typeof C.switchTo){let e=Ft(this._lexer,C.switchTo,w,i,m);if("@"===e[0]&&(e=e.substr(1)),!jt(this._lexer,e))throw Rt(this._lexer,"trying to switch to a state '"+e+"' that is undefined in rule: "+this._safeRuleName(y));c=c.switchTo(e)}else{if(C.transform&&"function"==typeof C.transform)throw Rt(this._lexer,"action.transform not supported");if(C.next)if("@push"===C.next){if(c.depth>=this._lexer.maxStack)throw Rt(this._lexer,"maximum tokenizer stack size reached: ["+c.state+","+c.parent.state+",...]");c=c.push(m)}else if("@pop"===C.next){if(c.depth<=1)throw Rt(this._lexer,"trying to pop an empty stack in rule: "+this._safeRuleName(y));c=c.pop()}else if("@popall"===C.next)c=c.popall();else{let e=Ft(this._lexer,C.next,w,i,m);if("@"===e[0]&&(e=e.substr(1)),!jt(this._lexer,e))throw Rt(this._lexer,"trying to set a next state '"+e+"' that is undefined in rule: "+this._safeRuleName(y));c=c.push(e)}}C.log&&"string"==typeof C.log&&(v=this._lexer,b=this._lexer.languageId+": "+Ft(this._lexer,C.log,w,i,m),console.log(`${v.languageId}: ${b}`))}if(null===S)throw Rt(this._lexer,"lexer rule has no well-defined action in rule: "+this._safeRuleName(y));var b=i=>{var r=this._modeService.getModeIdForLanguageName(i);r=this._getNestedEmbeddedModeData(i=r||i);return d<a?(i=e.substr(d),this._nestedTokenize(i,t,zt.create(c,r),n+d,o)):zt.create(c,r)};if(Array.isArray(S)){if(h&&0<h.groups.length)throw Rt(this._lexer,"groups cannot be nested: "+this._safeRuleName(y));if(i.length!==S.length+1)throw Rt(this._lexer,"matched number of groups does not match the number of actions in rule: "+this._safeRuleName(y));let e=0;for(let t=1;t<i.length;t++)e+=i[t].length;if(e!==w.length)throw Rt(this._lexer,"with groups, all characters should be matched in consecutive groups in rule: "+this._safeRuleName(y));h={rule:y,matches:i,groups:[]};for(let e=0;e<S.length;e++)h.groups[e]={action:S[e],matched:i[e+1]};d-=w.length}else{{if("@rematch"===S&&(d-=w.length,w="",i=null,S="",null!==x))return b(x);if(0===w.length){if(0===a||p!==c.depth||m!==c.state||(h?h.groups.length:0)!==f)continue;throw Rt(this._lexer,"no progress in tokenizer in rule: "+this._safeRuleName(y))}let e=null;if(Tt(S)&&0===S.indexOf("@brackets")){var _=S.substr("@brackets".length);if(!(f=function(e,t){if(!t)return null;t=At(e,t),e=e.brackets;for(const i of e){if(i.open===t)return{token:i.token,bracketType:1};if(i.close===t)return{token:i.token,bracketType:-1}}return null}(this._lexer,w)))throw Rt(this._lexer,"@brackets token returned but no bracket defined as: "+w);e=Pt(f.token+_)}else e=Pt(_=""===S?"":S+this._lexer.tokenPostfix);g<r&&o.emit(g+n,e)}if(null!==x)return b(x)}}return zt.create(c,l)}_getNestedEmbeddedModeData(e){if(e=this._locateMode(e)){let t=be.F.get(e);if(t)return new Vt(e,t.getInitialState())}return new Vt(e||_e.a,_e.b)}_locateMode(e){return e&&this._modeService.isRegisteredMode(e)?(e===this._languageId||(e=this._modeService.getModeId(e))&&(this._modeService.triggerMode(e),this._embeddedModes[e]=!0),e):null}}const qt=null===(t=window.trustedTypes)||void 0===t?void 0:t.createPolicy("standaloneColorizer",{createHTML:e=>e});class Gt{static colorizeElement(e,t,i,n){var o=(n=n||{}).theme||"vs",r=n.mimeType||i.getAttribute("lang")||i.getAttribute("data-lang");return r?(e.setTheme(o),e=i.firstChild?i.firstChild.nodeValue:"",i.className+=" "+o,this.colorize(t,e||"",r,n).then(e=>{var t;e=null!==(t=null==qt?void 0:qt.createHTML(e))&&void 0!==t?t:e;i.innerHTML=e},e=>console.error(e))):(console.error("Mode not detected"),Promise.resolve())}static colorize(e,t,i,n){const o=e.languageIdCodec;let r=4;n&&"number"==typeof n.tabSize&&(r=n.tabSize),Le.S(t)&&(t=t.substr(1));let s=Le.Q(t),a=e.getModeId(i);if(!a)return Promise.resolve(Zt(s,r,o));if(e.triggerMode(a),e=be.F.get(a))return Yt(s,r,e,o);const l=be.F.getPromise(a);return new Promise(l?(e,t)=>{l.then(i=>{Yt(s,r,i,o).then(e,t)},t)}:(e,t)=>{let i=null,n=null;const l=()=>{i&&(i.dispose(),i=null),n&&(n.dispose(),n=null);var l=be.F.get(a);l?Yt(s,r,l,o).then(e,t):e(Zt(s,r,o))};n=new xe.g,n.cancelAndSet(l,500),i=be.F.onDidChange(e=>{0<=e.changedLanguages.indexOf(a)&&l()})})}static colorizeLine(e,t,i,n,o=4){return t=Nt.g.isBasicASCII(e,t),i=Nt.g.containsRTL(e,t,i),Object(Et.e)(new Et.c(!1,!0,e,!1,t,i,0,n,[],o,0,0,0,0,-1,"none",!1,!1,null)).html}static colorizeModelLine(e,t,i=4){var n=e.getLineContent(t);return e.forceTokenization(t),t=e.getLineTokens(t).inflate(),this.colorizeLine(n,e.mightContainNonBasicASCII(),e.mightContainRTL(),t,i)}}function Yt(e,t,i,n){return new Promise((o,r)=>{const s=()=>{var a=function(e,t,i,n){let o=[],r=i.getInitialState();for(let d=0,h=e.length;d<h;d++){var s=e[d],a=i.tokenize2(s,!0,r,0);Ot.a.convertToEndOffset(a.tokens,s.length);let h=new Ot.a(a.tokens,s,n);var l=Nt.g.isBasicASCII(s,!0),c=Nt.g.containsRTL(s,l,!0);c=Object(Et.e)(new Et.c(!1,!0,s,!1,l,c,0,h.inflate(),[],t,0,0,0,0,-1,"none",!1,!1,null));o=o.concat(c.html),o.push("<br/>"),r=a.endState}return o.join("")}(e,t,i,n);if(i instanceof Kt){const e=i.getLoadStatus();if(!1===e.loaded)return void e.promise.then(s,r)}o(a)};s()})}function Zt(e,t,i){let n=[];const o=new Uint32Array(2);o[0]=0,o[1]=16793600;for(let c=0,d=e.length;c<d;c++){var r=e[c];o[0]=r.length;var s=new Ot.a(o,r,i),a=Nt.g.isBasicASCII(r,!0),l=Nt.g.containsRTL(r,a,!0);s=Object(Et.e)(new Et.c(!1,!0,r,!1,a,l,0,s,[],t,0,0,0,0,-1,"none",!1,!1,null));n=n.concat(s.html),n.push("<br/>")}return n.join("")}var Xt=i(67),Qt=i(127),Jt=i(79),ei=i(135),ti=i(177),ii=i(196),ni=i(75),oi=i(56),ri=i(156);class si{constructor(e={},t=[],i=[]){this._contents=e,this._keys=t,this._overrides=i,this.isFrozen=!1,this.overrideConfigurations=new Map}get contents(){return this.checkAndFreeze(this._contents)}get overrides(){return this.checkAndFreeze(this._overrides)}get keys(){return this.checkAndFreeze(this._keys)}isEmpty(){return 0===this._keys.length&&0===Object.keys(this._contents).length&&0===this._overrides.length}getValue(e){return e?Object(oi.d)(this.contents,e):this.contents}override(e){let t=this.overrideConfigurations.get(e);return t||(t=this.createOverrideConfigurationModel(e),this.overrideConfigurations.set(e,t)),t}merge(...e){var t=ue.b(this.contents);const i=ue.b(this.overrides),n=[...this.keys];for(const r of e){this.mergeContents(t,r.contents);for(const e of r.overrides){var[o]=i.filter(t=>pt.g(t.identifiers,e.identifiers));o?this.mergeContents(o.contents,e.contents):i.push(ue.b(e))}for(const e of r.keys)-1===n.indexOf(e)&&n.push(e)}return new si(t,n,i)}freeze(){return this.isFrozen=!0,this}createOverrideConfigurationModel(e){var t=this.getContentsForOverrideIdentifer(e);if(!t||"object"!=typeof t||!Object.keys(t).length)return this;let i={};for(const e of pt.f([...Object.keys(this.contents),...Object.keys(t)])){let o=this.contents[e];var n=t[e];n&&("object"==typeof o&&"object"==typeof n?(o=ue.b(o),this.mergeContents(o,n)):o=n),i[e]=o}return new si(i,this.keys,this.overrides)}mergeContents(e,t){for(const i of Object.keys(t))i in e&&De.k(e[i])&&De.k(t[i])?this.mergeContents(e[i],t[i]):e[i]=ue.b(t[i])}checkAndFreeze(e){return this.isFrozen&&!Object.isFrozen(e)?ue.c(e):e}getContentsForOverrideIdentifer(e){for(const t of this.overrides)if(-1!==t.identifiers.indexOf(e))return t.contents;return null}toJSON(){return{contents:this.contents,overrides:this.overrides,keys:this.keys}}setValue(e,t){this.addKey(e),Object(oi.b)(this.contents,e,t,e=>{throw new Error(e)})}removeValue(e){this.removeKey(e)&&Object(oi.f)(this.contents,e)}addKey(e){let t=this.keys.length;for(let i=0;i<t;i++)0===e.indexOf(this.keys[i])&&(t=i);this.keys.splice(t,1,e)}removeKey(e){return-1!==(e=this.keys.indexOf(e))&&(this.keys.splice(e,1),!0)}}class ai extends si{constructor(){var e=Object(oi.e)(),t=Object(oi.c)();const i=[];for(const t of Object.keys(e))ri.b.test(t)&&i.push({identifiers:[Object(ri.c)(t).trim()],keys:Object.keys(e[t]),contents:Object(oi.g)(e[t],e=>console.error("Conflict in default settings file: "+e))});super(e,t,i)}}class li{constructor(e,t,i=new si,n=new si,o=new J.b,r=new si,s=new J.b,a=!0){this._defaultConfiguration=e,this._localUserConfiguration=t,this._remoteUserConfiguration=i,this._workspaceConfiguration=n,this._folderConfigurations=o,this._memoryConfiguration=r,this._memoryConfigurationByResource=s,this._freeze=a,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations=new J.b,this._userConfiguration=null}getValue(e,t,i){return this.getConsolidateConfigurationModel(t,i).getValue(e)}updateValue(e,t,i={}){let n;i.resource?(n=this._memoryConfigurationByResource.get(i.resource),n||(n=new si,this._memoryConfigurationByResource.set(i.resource,n))):n=this._memoryConfiguration,void 0===t?n.removeValue(e):n.setValue(e,t),i.resource||(this._workspaceConsolidatedConfiguration=null)}get userConfiguration(){return this._userConfiguration||(this._userConfiguration=this._remoteUserConfiguration.isEmpty()?this._localUserConfiguration:this._localUserConfiguration.merge(this._remoteUserConfiguration),this._freeze&&this._userConfiguration.freeze()),this._userConfiguration}getConsolidateConfigurationModel(e,t){let i=this.getConsolidatedConfigurationModelForResource(e,t);return e.overrideIdentifier?i.override(e.overrideIdentifier):i}getConsolidatedConfigurationModelForResource({resource:e},t){let i=this.getWorkspaceConsolidatedConfiguration();return t&&e&&((t=t.getFolder(e))&&(i=this.getFolderConsolidatedConfiguration(t.uri)||i),(e=this._memoryConfigurationByResource.get(e))&&(i=i.merge(e))),i}getWorkspaceConsolidatedConfiguration(){return this._workspaceConsolidatedConfiguration||(this._workspaceConsolidatedConfiguration=this._defaultConfiguration.merge(this.userConfiguration,this._workspaceConfiguration,this._memoryConfiguration),this._freeze&&(this._workspaceConfiguration=this._workspaceConfiguration.freeze())),this._workspaceConsolidatedConfiguration}getFolderConsolidatedConfiguration(e){let t=this._foldersConsolidatedConfigurations.get(e);if(!t){const n=this.getWorkspaceConsolidatedConfiguration();var i=this._folderConfigurations.get(e);i?(t=n.merge(i),this._freeze&&(t=t.freeze()),this._foldersConsolidatedConfigurations.set(e,t)):t=n}return t}toData(){return{defaults:{contents:this._defaultConfiguration.contents,overrides:this._defaultConfiguration.overrides,keys:this._defaultConfiguration.keys},user:{contents:this.userConfiguration.contents,overrides:this.userConfiguration.overrides,keys:this.userConfiguration.keys},workspace:{contents:this._workspaceConfiguration.contents,overrides:this._workspaceConfiguration.overrides,keys:this._workspaceConfiguration.keys},folders:[...this._folderConfigurations.keys()].reduce((e,t)=>{var{contents:i,overrides:n,keys:o}=this._folderConfigurations.get(t);return e.push([t,{contents:i,overrides:n,keys:o}]),e},[])}}static parse(e){var t=this.parseConfigurationModel(e.defaults),i=this.parseConfigurationModel(e.user),n=this.parseConfigurationModel(e.workspace);e=e.folders.reduce((e,t)=>(e.set(z.a.revive(t[0]),this.parseConfigurationModel(t[1])),e),new J.b);return new li(t,i,new si,n,e,new si,new J.b,!1)}static parseConfigurationModel(e){return new si(e.contents,e.keys,e.overrides).freeze()}}class ci{constructor(e,t,i,n){this.change=e,this.previous=t,this.currentConfiguraiton=i,this.currentWorkspace=n,this._previousConfiguration=void 0;const o=new Set;e.keys.forEach(e=>o.add(e)),e.overrides.forEach(([,e])=>e.forEach(e=>o.add(e))),this.affectedKeys=[...o.values()];const r=new si;this.affectedKeys.forEach(e=>r.setValue(e,{})),this.affectedKeysTree=r.contents}get previousConfiguration(){return!this._previousConfiguration&&this.previous&&(this._previousConfiguration=li.parse(this.previous.data)),this._previousConfiguration}affectsConfiguration(e,t){if(this.doesAffectedKeysTreeContains(this.affectedKeysTree,e)){if(t){var i=this.previousConfiguration?this.previousConfiguration.getValue(e,t,null===(i=this.previous)||void 0===i?void 0:i.workspace):void 0;t=this.currentConfiguraiton.getValue(e,t,this.currentWorkspace);return!ue.d(i,t)}return!0}return!1}doesAffectedKeysTreeContains(e,t){let i,n=Object(oi.g)({[t]:!0},()=>{});for(;"object"==typeof n&&(i=Object.keys(n)[0]);){if(!(e=e[i]))return!1;n=n[i]}return!0}}var di=i(0);const hi=/^(cursor|delete)/;class ui extends he.a{constructor(e,t,i,n,o){super(),this._contextKeyService=e,this._commandService=t,this._telemetryService=i,this._notificationService=n,this._logService=o,this._onDidUpdateKeybindings=this._register(new W.b),this._currentChord=null,this._currentChordChecker=new xe.c,this._currentChordStatusMessage=null,this._ignoreSingleModifiers=gi.EMPTY,this._currentSingleModifier=null,this._currentSingleModifierClearTimeout=new xe.g,this._logging=!1}get onDidUpdateKeybindings(){return this._onDidUpdateKeybindings?this._onDidUpdateKeybindings.event:W.c.None}dispose(){super.dispose()}_log(e){this._logging&&this._logService.info("[KeybindingService]: "+e)}getKeybindings(){return this._getResolver().getKeybindings()}lookupKeybinding(e,t){if(t=this._getResolver().lookupPrimaryKeybinding(e,t||this._contextKeyService))return t.resolvedKeybinding}dispatchEvent(e,t){return this._dispatch(e,t)}softDispatch(e,t){const i=this.resolveKeyboardEvent(e);if(i.isChord())return console.warn("Unexpected keyboard event mapped to a chord"),null;var[n]=i.getDispatchParts();return null===n?null:(e=this._contextKeyService.getContext(t),t=this._currentChord?this._currentChord.keypress:null,this._getResolver().resolve(e,t,n))}_enterChordMode(e,t){this._currentChord={keypress:e,label:t},this._currentChordStatusMessage=this._notificationService.status(di.a("first.chord","({0}) was pressed. Waiting for second key of chord...",t));const i=Date.now();this._currentChordChecker.cancelAndSet(()=>{(!this._documentHasFocus()||5e3<Date.now()-i)&&this._leaveChordMode()},500)}_leaveChordMode(){this._currentChordStatusMessage&&(this._currentChordStatusMessage.dispose(),this._currentChordStatusMessage=null),this._currentChordChecker.cancel(),this._currentChord=null}_dispatch(e,t){return this._doDispatch(this.resolveKeyboardEvent(e),t,!1)}_singleModifierDispatch(e,t){const i=this.resolveKeyboardEvent(e);var[e]=i.getSingleModifierDispatchParts();if(e)return this._ignoreSingleModifiers.has(e)?(this._log(`+ Ignoring single modifier ${e} due to it being pressed together with other keys.`),this._ignoreSingleModifiers=gi.EMPTY,this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1):(this._ignoreSingleModifiers=gi.EMPTY,null===this._currentSingleModifier?(this._log(`+ Storing single modifier for possible chord ${e}.`),this._currentSingleModifier=e,this._currentSingleModifierClearTimeout.cancelAndSet(()=>{this._log("+ Clearing single modifier due to 300ms elapsed."),this._currentSingleModifier=null},300),!1):e===this._currentSingleModifier?(this._log(`/ Dispatching single modifier chord ${e} ${e}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,this._doDispatch(i,t,!0)):(this._log(`+ Clearing single modifier due to modifier mismatch: ${this._currentSingleModifier} ${e}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1));var[e]=i.getParts();return this._ignoreSingleModifiers=new gi(e),null!==this._currentSingleModifier&&this._log("+ Clearing single modifier due to other key up."),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1}_doDispatch(e,t,i=!1){let n=!1;if(e.isChord())return console.warn("Unexpected keyboard event mapped to a chord"),!1;let o=null,r=null;return r=i?([i]=e.getSingleModifierDispatchParts(),o=i):([o]=e.getDispatchParts(),this._currentChord?this._currentChord.keypress:null),null===o?(this._log("\\ Keyboard event cannot be dispatched in keydown phase."),n):(t=this._contextKeyService.getContext(t),e=e.getLabel(),t=this._getResolver().resolve(t,r,o),this._logService.trace("KeybindingService#dispatch",e,null==t?void 0:t.commandId),t&&t.enterChord?(n=!0,this._enterChordMode(o,e)):(this._currentChord&&(t&&t.commandId||(this._notificationService.status(di.a("missing.chord","The key combination ({0}, {1}) is not a command.",this._currentChord.label,e),{hideAfter:1e4}),n=!0)),this._leaveChordMode(),t&&t.commandId&&(t.bubble||(n=!0),void 0===t.commandArgs?this._commandService.executeCommand(t.commandId).then(void 0,e=>this._notificationService.warn(e)):this._commandService.executeCommand(t.commandId,t.commandArgs).then(void 0,e=>this._notificationService.warn(e)),hi.test(t.commandId)||this._telemetryService.publicLog2("workbenchActionExecuted",{id:t.commandId,from:"keybinding"}))),n)}mightProducePrintableCharacter(e){return!e.ctrlKey&&!e.metaKey&&(31<=e.keyCode&&e.keyCode<=56||21<=e.keyCode&&e.keyCode<=30)}}class gi{constructor(e){this._ctrlKey=!!e&&e.ctrlKey,this._shiftKey=!!e&&e.shiftKey,this._altKey=!!e&&e.altKey,this._metaKey=!!e&&e.metaKey}has(e){switch(e){case"ctrl":return this._ctrlKey;case"shift":return this._shiftKey;case"alt":return this._altKey;case"meta":return this._metaKey}}}gi.EMPTY=new gi(null);var pi=i(10);class fi{constructor(e,t,i){this._log=i,this._defaultKeybindings=e,this._defaultBoundCommands=new Map;for(let t=0,i=e.length;t<i;t++){var n=e[t].command;n&&this._defaultBoundCommands.set(n,!0)}this._map=new Map,this._lookupMap=new Map,this._keybindings=fi.combine(e,t);for(let e=0,t=this._keybindings.length;e<t;e++){var o=this._keybindings[e];0!==o.keypressParts.length&&(o.when&&0===o.when.type||this._addKeyPress(o.keypressParts[0],o))}}static _isTargetedForRemoval(e,t,i,n,o){if(e.command!==n)return!1;if(t&&e.keypressParts[0]!==t)return!1;if(i&&e.keypressParts[1]!==i)return!1;if(o){if(!e.when)return!1;if(!Object(pi.e)(o,e.when))return!1}return!0}static combine(e,t){e=e.slice(0);let i=[];for(const a of t)if(a.command&&0!==a.command.length&&"-"===a.command.charAt(0)){var n=a.command.substr(1),o=a.keypressParts[0],r=a.keypressParts[1],s=a.when;for(let t=e.length-1;0<=t;t--)this._isTargetedForRemoval(e[t],o,r,n,s)&&e.splice(t,1)}else i.push(a);return e.concat(i)}_addKeyPress(e,t){const i=this._map.get(e);if(void 0===i)return this._map.set(e,[t]),void this._addToLookupMap(t);for(let e=i.length-1;0<=e;e--){var n,o,r=i[e];r.command!==t.command&&(n=1<r.keypressParts.length,o=1<t.keypressParts.length,n&&o&&r.keypressParts[1]!==t.keypressParts[1]||fi.whenIsEntirelyIncluded(r.when,t.when)&&this._removeFromLookupMap(r))}i.push(t),this._addToLookupMap(t)}_addToLookupMap(e){if(e.command){let t=this._lookupMap.get(e.command);void 0===t?(t=[e],this._lookupMap.set(e.command,t)):t.push(e)}}_removeFromLookupMap(e){if(e.command){let t=this._lookupMap.get(e.command);if(void 0!==t)for(let i=0,n=t.length;i<n;i++)if(t[i]===e)return void t.splice(i,1)}}static whenIsEntirelyIncluded(e,t){return!t||1===t.type||!(!e||1===e.type)&&Object(pi.f)(e,t)}getKeybindings(){return this._keybindings}lookupPrimaryKeybinding(e,t){var i=this._lookupMap.get(e);if(void 0===i||0===i.length)return null;if(1===i.length)return i[0];for(let e=i.length-1;0<=e;e--){var n=i[e];if(t.contextMatchesRules(n.when))return n}return i[i.length-1]}resolve(e,t,i){this._log(`| Resolving ${i}${t?" chorded from "+t:""}`);let n=null;if(null!==t){var o=this._map.get(t);if(void 0===o)return this._log("\\ No keybinding entries."),null;n=[];for(let e=0,t=o.length;e<t;e++){var r=o[e];r.keypressParts[1]===i&&n.push(r)}}else{var s=this._map.get(i);if(void 0===s)return this._log("\\ No keybinding entries."),null;n=s}return(e=this._findCommand(e,n))?null===t&&1<e.keypressParts.length&&null!==e.keypressParts[1]?(this._log(`\\ From ${n.length} keybinding entries, matched chord, when: ${mi(e.when)}, source: ${vi(e)}.`),{enterChord:!0,leaveChord:!1,commandId:null,commandArgs:null,bubble:!1}):(this._log(`\\ From ${n.length} keybinding entries, matched ${e.command}, when: ${mi(e.when)}, source: ${vi(e)}.`),{enterChord:!1,leaveChord:1<e.keypressParts.length,commandId:e.command,commandArgs:e.commandArgs,bubble:e.bubble}):(this._log(`\\ From ${n.length} keybinding entries, no when clauses matched the context.`),null)}_findCommand(e,t){for(let n=t.length-1;0<=n;n--){var i=t[n];if(fi.contextMatchesRules(e,i.when))return i}return null}static contextMatchesRules(e,t){return!t||t.evaluate(e)}}function mi(e){return e?""+e.serialize():"no when condition"}function vi(e){return e.extensionId?e.isBuiltinExtension?"built-in extension "+e.extensionId:"user extension "+e.extensionId:e.isDefault?"built-in":"user"}var bi=i(111);class _i{constructor(e,t,i,n,o,r,s){this._resolvedKeybindingItemBrand=void 0,this.resolvedKeybinding=e,this.keypressParts=e?wi(e.getDispatchParts()):[],e&&0===this.keypressParts.length&&(this.keypressParts=wi(e.getSingleModifierDispatchParts())),this.bubble=!!t&&94===t.charCodeAt(0),this.command=this.bubble?t.substr(1):t,this.commandArgs=i,this.when=n,this.isDefault=o,this.extensionId=r,this.isBuiltinExtension=s}}function wi(e){let t=[];for(let n=0,o=e.length;n<o;n++){var i=e[n];if(!i)return t;t.push(i)}return t}var Ci=i(198);class yi extends Qt.b{constructor(e,t){if(super(),0===t.length)throw Object(Se.c)("parts");this._os=e,this._parts=t}getLabel(){return Ci.c.toLabel(this._os,this._parts,e=>this._getLabel(e))}getAriaLabel(){return Ci.a.toLabel(this._os,this._parts,e=>this._getAriaLabel(e))}getElectronAccelerator(){return 1<this._parts.length||this._parts[0].isDuplicateModifierCase()?null:Ci.b.toLabel(this._os,this._parts,e=>this._getElectronAccelerator(e))}isChord(){return 1<this._parts.length}getParts(){return this._parts.map(e=>this._getPart(e))}_getPart(e){return new Qt.c(e.ctrlKey,e.shiftKey,e.altKey,e.metaKey,this._getLabel(e),this._getAriaLabel(e))}getDispatchParts(){return this._parts.map(e=>this._getDispatchPart(e))}getSingleModifierDispatchParts(){return this._parts.map(e=>this._getSingleModifierDispatchPart(e))}}class xi extends yi{constructor(e,t){super(t,e.parts)}_keyCodeToUILabel(e){if(2===this._os)switch(e){case 15:return"←";case 16:return"↑";case 17:return"→";case 18:return"↓"}return V.d.toString(e)}_getLabel(e){return e.isDuplicateModifierCase()?"":this._keyCodeToUILabel(e.keyCode)}_getAriaLabel(e){return e.isDuplicateModifierCase()?"":V.d.toString(e.keyCode)}_getElectronAccelerator(e){return V.d.toElectronAccelerator(e.keyCode)}_getDispatchPart(e){return xi.getDispatchStr(e)}static getDispatchStr(e){if(e.isModifierKey())return null;let t="";return e.ctrlKey&&(t+="ctrl+"),e.shiftKey&&(t+="shift+"),e.altKey&&(t+="alt+"),e.metaKey&&(t+="meta+"),t+=V.d.toString(e.keyCode),t}_getSingleModifierDispatchPart(e){return 5!==e.keyCode||e.shiftKey||e.altKey||e.metaKey?4!==e.keyCode||e.ctrlKey||e.altKey||e.metaKey?6!==e.keyCode||e.ctrlKey||e.shiftKey||e.metaKey?57!==e.keyCode||e.ctrlKey||e.shiftKey||e.altKey?null:"meta":"alt":"shift":"ctrl"}static _scanCodeToKeyCode(e){var t=V.b[e];if(-1!==t)return t;switch(e){case 10:return 31;case 11:return 32;case 12:return 33;case 13:return 34;case 14:return 35;case 15:return 36;case 16:return 37;case 17:return 38;case 18:return 39;case 19:return 40;case 20:return 41;case 21:return 42;case 22:return 43;case 23:return 44;case 24:return 45;case 25:return 46;case 26:return 47;case 27:return 48;case 28:return 49;case 29:return 50;case 30:return 51;case 31:return 52;case 32:return 53;case 33:return 54;case 34:return 55;case 35:return 56;case 36:return 22;case 37:return 23;case 38:return 24;case 39:return 25;case 40:return 26;case 41:return 27;case 42:return 28;case 43:return 29;case 44:return 30;case 45:return 21;case 51:return 83;case 52:return 81;case 53:return 87;case 54:return 89;case 55:return 88;case 56:return 0;case 57:return 80;case 58:return 90;case 59:return 86;case 60:return 82;case 61:return 84;case 62:return 85;case 106:return 92}return 0}static _resolveSimpleUserBinding(e){if(!e)return null;if(e instanceof Qt.d)return e;var t=this._scanCodeToKeyCode(e.scanCode);return 0===t?null:new Qt.d(e.ctrlKey,e.shiftKey,e.altKey,e.metaKey,t)}static resolveUserBinding(e,t){return 0<(e=wi(e.map(e=>this._resolveSimpleUserBinding(e)))).length?[new xi(new Qt.a(e),t)]:[]}}var Si=i(64),ki=i(216),Di=i(63),Li=(re=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;0<=a;a--)(o=e[a])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s},function(e,t){return function(i,n){t(i,n,e)}}),Oi=function(e,t,i,n){return new(i=i||Promise)((function(o,r){function s(e){try{l(n.next(e))}catch(e){r(e)}}function a(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):((t=e.value)instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};class Ei{constructor(e){this.disposed=!1,this.model=e,this._onWillDispose=new W.b}get textEditorModel(){return this.model}dispose(){this.disposed=!0,this._onWillDispose.fire()}}let Ni=class{constructor(e){this.modelService=e}setEditor(e){this.editor=e}createModelReference(e){let t=null;var i,n,o;return this.editor&&(i=this.editor,n=t=>this.findModel(t,e),o=t=>this.findModel(t.getOriginalEditor(),e)||this.findModel(t.getModifiedEditor(),e),t=(Object(ei.b)(i)?n:o)(i)),t?Promise.resolve(new he.c(new Ei(t))):Promise.reject(new Error("Model not found"))}findModel(e,t){let i=this.modelService.getModel(t);return i&&i.uri.toString()!==t.toString()?null:i}};Ni=re([Li(0,ut.a)],Ni);class Ii{show(){return Ii.NULL_PROGRESS_RUNNER}showWhile(e,t){return Oi(this,void 0,void 0,(function*(){yield e}))}}Ii.NULL_PROGRESS_RUNNER={done:()=>{},total:()=>{},worked:()=>{}};class Ti{confirm(e){return this.doConfirm(e).then(e=>({confirmed:e,checkboxChecked:!1}))}doConfirm(e){let t=e.message;return e.detail&&(t=t+"\n\n"+e.detail),Promise.resolve(window.confirm(t))}show(e,t,i,n){return Promise.resolve({choice:0})}}class Mi{info(e){return this.notify({severity:Jt.a.Info,message:e})}warn(e){return this.notify({severity:Jt.a.Warning,message:e})}error(e){return this.notify({severity:Jt.a.Error,message:e})}notify(e){switch(e.severity){case Jt.a.Error:console.error(e.message);break;case Jt.a.Warning:console.warn(e.message);break;default:console.log(e.message)}return Mi.NO_OP}status(e,t){return he.a.None}}Mi.NO_OP=new Si.b;class Ai{constructor(e){this._onWillExecuteCommand=new W.b,this._onDidExecuteCommand=new W.b,this.onDidExecuteCommand=this._onDidExecuteCommand.event,this._instantiationService=e}executeCommand(e,...t){var i=ne.a.getCommand(e);if(!i)return Promise.reject(new Error(`command '${e}' not found`));try{this._onWillExecuteCommand.fire({commandId:e,args:t});var n=this._instantiationService.invokeFunction.apply(this._instantiationService,[i.handler,...t]);return this._onDidExecuteCommand.fire({commandId:e,args:t}),Promise.resolve(n)}catch(e){return Promise.reject(e)}}}class Pi extends ui{constructor(e,t,i,n,o,r){super(e,t,i,n,o),this._cachedResolver=null,this._dynamicKeybindings=[],this._register(X.i(r,X.d.KEY_DOWN,e=>{const t=new Xt.a(e);this._dispatch(t,t.target)&&(t.preventDefault(),t.stopPropagation())})),this._register(X.i(window,X.d.KEY_UP,e=>{const t=new Xt.a(e);this._singleModifierDispatch(t,t.target)&&t.preventDefault()}))}addDynamicKeybinding(e,t,i,n){t=Object(Qt.e)(t,ke.a);const o=new he.b;return t&&(this._dynamicKeybindings.push({keybinding:t.parts,command:e,when:n,weight1:1e3,weight2:0,extensionId:null,isBuiltinExtension:!1}),o.add(Object(he.i)(()=>{for(let t=0;t<this._dynamicKeybindings.length;t++)if(this._dynamicKeybindings[t].command===e)return this._dynamicKeybindings.splice(t,1),void this.updateResolver({source:1})}))),o.add(ne.a.registerCommand(e,i)),this.updateResolver({source:1}),o}updateResolver(e){this._cachedResolver=null,this._onDidUpdateKeybindings.fire(e)}_getResolver(){var e,t;return this._cachedResolver||(e=this._toNormalizedKeybindingItems(bi.a.getDefaultKeybindings(),!0),t=this._toNormalizedKeybindingItems(this._dynamicKeybindings,!1),this._cachedResolver=new fi(e,t,e=>this._log(e))),this._cachedResolver}_documentHasFocus(){return document.hasFocus()}_toNormalizedKeybindingItems(e,t){let i=[],n=0;for(const s of e){var o=s.when||void 0,r=s.keybinding;if(r)for(const e of xi.resolveUserBinding(r,ke.a))i[n++]=new _i(e,s.command,s.commandArgs,o,t,null,!1);else i[n++]=new _i(void 0,s.command,s.commandArgs,o,t,null,!1)}return i}resolveKeyboardEvent(e){return e=new Qt.d(e.ctrlKey,e.shiftKey,e.altKey,e.metaKey,e.keyCode).toChord(),new xi(e,ke.a)}}function Ri(e){return e&&"object"==typeof e&&(!e.overrideIdentifier||"string"==typeof e.overrideIdentifier)&&(!e.resource||e.resource instanceof z.a)}class Fi{constructor(){this._onDidChangeConfiguration=new W.b,this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._configuration=new li(new ai,new si)}getValue(e,t){return t=Ri(e)?e:Ri(t)?t:{},this._configuration.getValue("string"==typeof e?e:void 0,t,void 0)}updateValues(e){var t={data:this._configuration.toData()};let i=[];for(const t of e){var[n,o]=t;this.getValue(n)!==o&&(this._configuration.updateValue(n,o),i.push(n))}if(0<i.length){const e=new ci({keys:i,overrides:[]},t,this._configuration);e.source=7,e.sourceConfig=null,this._onDidChangeConfiguration.fire(e)}return Promise.resolve()}}class ji{constructor(e){this.configurationService=e,this._onDidChangeConfiguration=new W.b,this.configurationService.onDidChangeConfiguration(e=>{this._onDidChangeConfiguration.fire({affectedKeys:e.affectedKeys,affectsConfiguration:(t,i)=>e.affectsConfiguration(i)})})}getValue(e,t,i){return void 0===(t=H.a.isIPosition(t)&&t?"string"==typeof i?i:void 0:"string"==typeof t?t:void 0)?this.configurationService.getValue():this.configurationService.getValue(t)}}let Bi=class{constructor(e){this.configurationService=e}getEOL(e,t){return(e=this.configurationService.getValue("files.eol",{overrideIdentifier:t,resource:e}))&&"string"==typeof e&&"auto"!==e?e:ke.d||ke.f?"\n":"\r\n"}};Bi=re([Li(0,oi.a)],Bi);class Wi{publicLog(e,t){return Promise.resolve(void 0)}publicLog2(e,t){return this.publicLog(e,t)}}class Vi{constructor(){var e=z.a.from({scheme:Vi.SCHEME,authority:"model",path:"/"});this.workspace={id:"4064f6ec-cb38-4ad0-af64-ee6467e63c82",folders:[new ki.b({uri:e,name:"",index:0})]}}getWorkspace(){return this.workspace}}function zi(e,t,i){if(t&&e instanceof Fi){let n=[];Object.keys(t).forEach(e=>{Object(ii.d)(e)&&n.push(["editor."+e,t[e]]),i&&Object(ii.c)(e)&&n.push(["diffEditor."+e,t[e]])}),0<n.length&&e.updateValues(n)}}Vi.SCHEME="inmemory";class Hi{constructor(e){this._modelService=e}hasPreviewHandler(){return!1}apply(e,t){return Oi(this,void 0,void 0,(function*(){const t=new Map;for(var i of e){if(!(i instanceof ti.c))throw new Error("bad edit - only text edits are supported");const e=this._modelService.getModel(i.resource);if(!e)throw new Error("bad edit - model not found");if("number"==typeof i.versionId&&e.getVersionId()!==i.versionId)throw new Error("bad state - model changed in the meantime");let n=t.get(e);n||(n=[],t.set(e,n)),n.push(ni.a.replaceMove(U.a.lift(i.textEdit.range),i.textEdit.text))}let n=0,o=0;for(const[e,i]of t)e.pushStackElement(),e.pushEditOperations([],i,()=>[]),e.pushStackElement(),o+=1,n+=i.length;return{ariaSummary:Le.v(Di.g.bulkEditServiceSummary,n,o)}}))}}class Ui{getUriLabel(e,t){return"file"===e.scheme?e.fsPath:e.path}}class $i{constructor(e,t){this._codeEditorService=e,this._container=t,this.onDidLayout=W.c.None}get dimension(){return this._dimension||(this._dimension=X.z(window.document.body)),this._dimension}get container(){return this._container}focus(){var e;null!==(e=this._codeEditorService.getFocusedCodeEditor())&&void 0!==e&&e.focus()}}var Ki=i(73),qi=i(218),Gi=(i(535),i(47)),Yi=i(142),Zi=i(94),Xi=i(103),Qi=(i(537),i(139)),Ji=i(120),en=i(65),tn=i(5),nn=i(45),on=i(4),rn=i(16),sn=i(23),an=i(95);mt=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;0<=a;a--)(o=e[a])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s},vt=function(e,t){return function(i,n){t(i,n,e)}};class ln{constructor(e,t,i,n){this.originalLineStart=e,this.originalLineEnd=t,this.modifiedLineStart=i,this.modifiedLineEnd=n}getType(){return 0===this.originalLineStart?1:0===this.modifiedLineStart?2:0}}class cn{constructor(e){this.entries=e}}const dn=Object(an.b)("diff-review-insert",sn.b.add,di.a("diffReviewInsertIcon","Icon for 'Insert' in diff review.")),hn=Object(an.b)("diff-review-remove",sn.b.remove,di.a("diffReviewRemoveIcon","Icon for 'Remove' in diff review.")),un=Object(an.b)("diff-review-close",sn.b.close,di.a("diffReviewCloseIcon","Icon for 'Close' in diff review."));let gn=class e extends he.a{constructor(e,t){super(),this._modeService=t,this._width=0,this._diffEditor=e,this._isVisible=!1,this.shadow=Object(Gi.b)(document.createElement("div")),this.shadow.setClassName("diff-review-shadow"),this.actionBarContainer=Object(Gi.b)(document.createElement("div")),this.actionBarContainer.setClassName("diff-review-actions"),this._actionBar=this._register(new Qi.a(this.actionBarContainer.domNode)),this._actionBar.push(new en.a("diffreview.close",di.a("label.close","Close"),"close-diff-review "+rn.d.asClassName(un),!0,()=>function(e,t,i,n){return new(i=i||Promise)((function(o,r){function s(e){try{l(n.next(e))}catch(e){r(e)}}function a(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):((t=e.value)instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))}(this,void 0,void 0,(function*(){return this.hide()}))),{label:!1,icon:!0}),this.domNode=Object(Gi.b)(document.createElement("div")),this.domNode.setClassName("diff-review monaco-editor-background"),this._content=Object(Gi.b)(document.createElement("div")),this._content.setClassName("diff-review-content"),this._content.setAttribute("role","code"),this.scrollbar=this._register(new Ji.a(this._content.domNode,{})),this.domNode.domNode.appendChild(this.scrollbar.getDomNode()),this._register(e.onDidUpdateDiff(()=>{this._isVisible&&(this._diffs=this._compute(),this._render())})),this._register(e.getModifiedEditor().onDidChangeCursorPosition(()=>{this._isVisible&&this._render()})),this._register(X.o(this.domNode.domNode,"click",e=>{e.preventDefault(),(e=X.x(e.target,"diff-review-row"))&&this._goToRow(e)})),this._register(X.o(this.domNode.domNode,"keydown",e=>{(e.equals(18)||e.equals(2066)||e.equals(530))&&(e.preventDefault(),this._goToRow(this._getNextRow())),(e.equals(16)||e.equals(2064)||e.equals(528))&&(e.preventDefault(),this._goToRow(this._getPrevRow())),(e.equals(9)||e.equals(2057)||e.equals(521)||e.equals(1033))&&(e.preventDefault(),this.hide()),(e.equals(10)||e.equals(3))&&(e.preventDefault(),this.accept())})),this._diffs=[],this._currentDiff=null}prev(){let e=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){let t=-1;for(let e=0,i=this._diffs.length;e<i;e++)if(this._diffs[e]===this._currentDiff){t=e;break}e=this._diffs.length+t-1}else e=this._findDiffIndex(this._diffEditor.getPosition());var t;0!==this._diffs.length&&(e%=this._diffs.length,t=this._diffs[e].entries,this._diffEditor.setPosition(new H.a(t[0].modifiedLineStart,1)),this._diffEditor.setSelection({startColumn:1,startLineNumber:t[0].modifiedLineStart,endColumn:1073741824,endLineNumber:t[t.length-1].modifiedLineEnd}),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow()))}next(){let e=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){let t=-1;for(let e=0,i=this._diffs.length;e<i;e++)if(this._diffs[e]===this._currentDiff){t=e;break}e=t+1}else e=this._findDiffIndex(this._diffEditor.getPosition());var t;0!==this._diffs.length&&(e%=this._diffs.length,t=this._diffs[e].entries,this._diffEditor.setPosition(new H.a(t[0].modifiedLineStart,1)),this._diffEditor.setSelection({startColumn:1,startLineNumber:t[0].modifiedLineStart,endColumn:1073741824,endLineNumber:t[t.length-1].modifiedLineEnd}),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow()))}accept(){let e=-1,t=this._getCurrentFocusedRow();var i;t&&(i=parseInt(t.getAttribute("data-line"),10),isNaN(i)||(e=i)),this.hide(),-1!==e&&(this._diffEditor.setPosition(new H.a(e,1)),this._diffEditor.revealPosition(new H.a(e,1),1))}hide(){this._isVisible=!1,this._diffEditor.updateOptions({readOnly:!1}),this._diffEditor.focus(),this._diffEditor.doLayout(),this._render()}_getPrevRow(){var e=this._getCurrentFocusedRow();return e?e.previousElementSibling||e:this._getFirstRow()}_getNextRow(){var e=this._getCurrentFocusedRow();return e?e.nextElementSibling||e:this._getFirstRow()}_getFirstRow(){return this.domNode.domNode.querySelector(".diff-review-row")}_getCurrentFocusedRow(){var e=document.activeElement;return e&&/diff-review-row/.test(e.className)?e:null}_goToRow(e){let t=this._getCurrentFocusedRow();e.tabIndex=0,e.focus(),t&&t!==e&&(t.tabIndex=-1),this.scrollbar.scanDomNode()}isVisible(){return this._isVisible}layout(e,t,i){this._width=t,this.shadow.setTop(e-6),this.shadow.setWidth(t),this.shadow.setHeight(this._isVisible?6:0),this.domNode.setTop(e),this.domNode.setWidth(t),this.domNode.setHeight(i),this._content.setHeight(i),this._content.setWidth(t),this._isVisible?(this.actionBarContainer.setAttribute("aria-hidden","false"),this.actionBarContainer.setDisplay("block")):(this.actionBarContainer.setAttribute("aria-hidden","true"),this.actionBarContainer.setDisplay("none"))}_compute(){var t=this._diffEditor.getLineChanges();if(!t||0===t.length)return[];const i=this._diffEditor.getOriginalEditor().getModel(),n=this._diffEditor.getModifiedEditor().getModel();return i&&n?e._mergeAdjacent(t,i.getLineCount(),n.getLineCount()):[]}static _mergeAdjacent(e,t,i){if(!e||0===e.length)return[];let n=[],o=0;for(let p=0,f=e.length;p<f;p++){var r=e[p],s=r.originalStartLineNumber,a=r.originalEndLineNumber,l=r.modifiedStartLineNumber,c=r.modifiedEndLineNumber;let m=[],v=0;{var d,h=0===a?s:s-1,u=0===c?l:l-1;let t=1,i=1;0<p&&(t=0===(r=e[p-1]).originalEndLineNumber?r.originalStartLineNumber+1:r.originalEndLineNumber+1,i=0===r.modifiedEndLineNumber?r.modifiedStartLineNumber+1:r.modifiedEndLineNumber+1);let n=h-3+1,o=u-3+1;n<t&&(n+=d=t-n,o+=d),o<i&&(n+=d=i-o,o+=d),m[v++]=new ln(n,h,o,u)}0!==a&&(m[v++]=new ln(s,a,0,0)),0!==c&&(m[v++]=new ln(0,0,l,c));{var g;a=0===a?s+1:a+1,l=0===c?l+1:c+1;let n=t,o=i;p+1<f&&(n=0===(c=e[p+1]).originalEndLineNumber?c.originalStartLineNumber:c.originalStartLineNumber-1,o=0===c.modifiedEndLineNumber?c.modifiedStartLineNumber:c.modifiedStartLineNumber-1);let r=a+3-1,d=l+3-1;r>n&&(r+=g=n-r,d+=g),d>o&&(r+=g=o-d,d+=g),m[v++]=new ln(a,r,l,d)}n[o++]=new cn(m)}let p=n[0].entries,f=[],m=0;for(let e=1,t=n.length;e<t;e++){const t=n[e].entries,i=p[p.length-1],o=t[0];0===i.getType()&&0===o.getType()&&o.originalLineStart<=i.originalLineEnd?(p[p.length-1]=new ln(i.originalLineStart,o.originalLineEnd,i.modifiedLineStart,o.modifiedLineEnd),p=p.concat(t.slice(1))):(f[m++]=new cn(p),p=t)}return f[m++]=new cn(p),f}_findDiffIndex(e){var t=e.lineNumber;for(let e=0,n=this._diffs.length;e<n;e++){var i=this._diffs[e].entries;if(t<=i[i.length-1].modifiedLineEnd)return e}return 0}_render(){var t=this._diffEditor.getOriginalEditor().getOptions();const i=this._diffEditor.getModifiedEditor().getOptions(),n=this._diffEditor.getOriginalEditor().getModel(),o=this._diffEditor.getModifiedEditor().getModel();var r=n.getOptions(),s=o.getOptions();if(!this._isVisible||!n||!o)return X.t(this._content.domNode),this._currentDiff=null,void this.scrollbar.scanDomNode();this._diffEditor.updateOptions({readOnly:!0});var a=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs[a]!==this._currentDiff){this._currentDiff=this._diffs[a];var l=this._diffs[a].entries;let b=document.createElement("div");b.className="diff-review-table",b.setAttribute("role","list"),b.setAttribute("aria-label",'Difference review. Use "Stage | Unstage | Revert Selected Ranges" commands'),Zi.a.applyFontInfoSlow(b,i.get(43));let _=0,w=0,C=0,y=0;for(let e=0,t=l.length;e<t;e++){var c=(u=l[e]).originalLineStart,d=u.originalLineEnd,h=u.modifiedLineStart,u=u.modifiedLineEnd;0!==c&&(0===_||c<_)&&(_=c),0!==d&&(0===w||d>w)&&(w=d),0!==h&&(0===C||h<C)&&(C=h),0!==u&&(0===y||u>y)&&(y=u)}let x=document.createElement("div");x.className="diff-review-row";let S=document.createElement("div");S.className="diff-review-cell diff-review-summary";var g=w-_+1,p=y-C+1;S.appendChild(document.createTextNode(`${a+1}/${this._diffs.length}: @@ -${_},${g} +${C},${p} @@`)),x.setAttribute("data-line",String(C));var f=e=>0===e?di.a("no_lines_changed","no lines changed"):1===e?di.a("one_line_changed","1 line changed"):di.a("more_lines_changed","{0} lines changed",e);g=f(g),p=f(p);x.setAttribute("aria-label",di.a({key:"header",comment:["This is the ARIA label for a git diff header.","A git diff header looks like this: @@ -154,12 +159,39 @@.","That encodes that at original line 154 (which is now line 159), 12 lines were removed/changed with 39 lines.","Variables 0 and 1 refer to the diff index out of total number of diffs.","Variables 2 and 4 will be numbers (a line number).",'Variables 3 and 5 will be "no lines changed", "1 line changed" or "X lines changed", localized separately.']},"Difference {0} of {1}: original line {2}, {3}, modified line {4}, {5}",a+1,this._diffs.length,_,g,C,p)),x.appendChild(S),x.setAttribute("role","listitem"),b.appendChild(x);var m=i.get(58);let k=C;for(let a=0,c=l.length;a<c;a++){var v=l[a];e._renderSection(b,v,k,m,this._width,t,n,r,i,o,s,this._modeService.languageIdCodec),0!==v.modifiedLineStart&&(k=v.modifiedLineEnd)}X.t(this._content.domNode),this._content.domNode.appendChild(b),this.scrollbar.scanDomNode()}}static _renderSection(t,i,n,o,r,s,a,l,c,d,h,u){var g=i.getType();let p="diff-review-row",f="",m=null;switch(g){case 1:p="diff-review-row line-insert",f=" char-insert",m=dn;break;case 2:p="diff-review-row line-delete",f=" char-delete",m=hn}var v=i.originalLineStart,b=i.originalLineEnd,_=i.modifiedLineStart,w=(i=i.modifiedLineEnd,Math.max(i-_,b-v)),C=(b=s.get(129)).glyphMarginWidth+b.lineNumbersWidth,y=10+(b=c.get(129)).glyphMarginWidth+b.lineNumbersWidth;for(let i=0;i<=w;i++){var x=0===v?0:v+i,S=0===_?0:_+i;const b=document.createElement("div");b.style.minWidth=r+"px",b.className=p,b.setAttribute("role","listitem"),0!==S&&(n=S),b.setAttribute("data-line",String(n));let w=document.createElement("div");w.className="diff-review-cell",w.style.height=o+"px",b.appendChild(w);const k=document.createElement("span");k.style.width=C+"px",k.style.minWidth=C+"px",k.className="diff-review-line-number"+f,0!==x?k.appendChild(document.createTextNode(String(x))):k.innerText=" ",w.appendChild(k);const D=document.createElement("span");D.style.width=y+"px",D.style.minWidth=y+"px",D.style.paddingRight="10px",D.className="diff-review-line-number"+f,0!==S?D.appendChild(document.createTextNode(String(S))):D.innerText=" ",w.appendChild(D);const L=document.createElement("span");if(L.className="diff-review-spacer",m){const e=document.createElement("span");e.className=rn.d.asClassName(m),e.innerText="  ",L.appendChild(e)}else L.innerText="  ";let O;if(w.appendChild(L),0!==S){let t=this._renderLine(d,c,h.tabSize,S,u);e._ttPolicy&&(t=e._ttPolicy.createHTML(t)),w.insertAdjacentHTML("beforeend",t),O=d.getLineContent(S)}else{let t=this._renderLine(a,s,l.tabSize,x,u);e._ttPolicy&&(t=e._ttPolicy.createHTML(t)),w.insertAdjacentHTML("beforeend",t),O=a.getLineContent(x)}0===O.length&&(O=di.a("blankLine","blank"));let E="";switch(g){case 0:E=x===S?di.a({key:"unchangedLine",comment:["The placeholders are contents of the line and should not be translated."]},"{0} unchanged line {1}",O,x):di.a("equalLine","{0} original line {1} modified line {2}",O,x,S);break;case 1:E=di.a("insertLine","+ {0} modified line {1}",O,S);break;case 2:E=di.a("deleteLine","- {0} original line {1}",O,x)}b.setAttribute("aria-label",E),t.appendChild(b)}}static _renderLine(e,t,i,n,o){var r=e.getLineContent(n),s=t.get(43);n=Ot.a.createEmpty(r,o),o=Nt.g.isBasicASCII(r,e.mightContainNonBasicASCII()),e=Nt.g.containsRTL(r,o,e.mightContainRTL());return Object(Et.e)(new Et.c(s.isMonospace&&!t.get(29),s.canUseHalfwidthRightwardsArrow,r,!1,o,e,0,n,[],i,0,s.spaceWidth,s.middotWidth,s.wsmiddotWidth,t.get(104),t.get(87),t.get(82),t.get(44)!==j.e.OFF,null)).html}};gn._ttPolicy=null===(t=window.trustedTypes)||void 0===t?void 0:t.createPolicy("diffReview",{createHTML:e=>e}),gn=mt([vt(1,Ce.a)],gn),Object(rn.f)((e,t)=>{var i=e.getColor(nn.D);i&&t.addRule(`.monaco-diff-editor .diff-review-line-number { color: ${i}; }`),(e=e.getColor(on.Ec))&&t.addRule(`.monaco-diff-editor .diff-review-shadow { box-shadow: ${e} 0 -6px 6px -6px inset; }`)});class pn extends tn.b{constructor(){super({id:"editor.action.diffReview.next",label:di.a("editor.action.diffReview.next","Go to Next Difference"),alias:"Go to Next Difference",precondition:pi.a.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:65,weight:100}})}run(e,t){const i=mn(e);i&&i.diffReviewNext()}}class fn extends tn.b{constructor(){super({id:"editor.action.diffReview.prev",label:di.a("editor.action.diffReview.prev","Go to Previous Difference"),alias:"Go to Previous Difference",precondition:pi.a.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:1089,weight:100}})}run(e,t){const i=mn(e);i&&i.diffReviewPrev()}}function mn(e){const t=e.get(Z.a);var i=t.listDiffEditors();const n=t.getActiveCodeEditor();if(!n)return null;for(let e=0,t=i.length;e<t;e++){const t=i[e];if(t.getModifiedEditor().getId()===n.getId()||t.getOriginalEditor().getId()===n.getId())return t}return null}Object(tn.j)(pn),Object(tn.j)(fn);var vn=i(147),bn=(re=i(42),i(209)),_n=i(160),wn=i(21),Cn=i(184),yn=i(106),xn=function(e,t,i,n){return new(i=i||Promise)((function(o,r){function s(e){try{l(n.next(e))}catch(e){r(e)}}function a(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):((t=e.value)instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};class Sn extends he.a{constructor(e,t,i,n,o,r){super(),this._viewZoneId=e,this._marginDomNode=t,this.editor=i,this.diff=n,this._contextMenuService=o,this._clipboardService=r,this._visibility=!1,this._marginDomNode.style.zIndex="10",this._diffActions=document.createElement("div"),this._diffActions.className=sn.b.lightBulb.classNames+" lightbulb-glyph",this._diffActions.style.position="absolute";const s=i.getOption(58),a=i.getModel().getEOL();this._diffActions.style.right="0px",this._diffActions.style.visibility="hidden",this._diffActions.style.height=s+"px",this._diffActions.style.lineHeight=s+"px",this._marginDomNode.appendChild(this._diffActions);const l=[],c=0===n.modifiedEndLineNumber;l.push(new en.a("diff.clipboard.copyDeletedContent",c?n.originalEndLineNumber>n.modifiedStartLineNumber?di.a("diff.clipboard.copyDeletedLinesContent.label","Copy deleted lines"):di.a("diff.clipboard.copyDeletedLinesContent.single.label","Copy deleted line"):n.originalEndLineNumber>n.modifiedStartLineNumber?di.a("diff.clipboard.copyChangedLinesContent.label","Copy changed lines"):di.a("diff.clipboard.copyChangedLinesContent.single.label","Copy changed line"),void 0,!0,()=>xn(this,void 0,void 0,(function*(){var e=new U.a(n.originalStartLineNumber,1,n.originalEndLineNumber+1,1);e=n.originalModel.getValueInRange(e);yield this._clipboardService.writeText(e)}))));let d=0,h=void 0;n.originalEndLineNumber>n.modifiedStartLineNumber&&(h=new en.a("diff.clipboard.copyDeletedLineContent",c?di.a("diff.clipboard.copyDeletedLineContent.label","Copy deleted line ({0})",n.originalStartLineNumber):di.a("diff.clipboard.copyChangedLineContent.label","Copy changed line ({0})",n.originalStartLineNumber),void 0,!0,()=>xn(this,void 0,void 0,(function*(){var e,t=n.originalModel.getLineContent(n.originalStartLineNumber+d);""===t?(e=n.originalModel.getEndOfLineSequence(),yield this._clipboardService.writeText(0===e?"\n":"\r\n")):yield this._clipboardService.writeText(t)}))),l.push(h)),i.getOption(80)||l.push(new en.a("diff.inline.revertChange",di.a("diff.inline.revertChange.label","Revert this change"),void 0,!0,()=>xn(this,void 0,void 0,(function*(){var e,t=new U.a(n.originalStartLineNumber,1,n.originalEndLineNumber,n.originalModel.getLineMaxColumn(n.originalEndLineNumber));t=n.originalModel.getValueInRange(t);0===n.modifiedEndLineNumber?(e=i.getModel().getLineMaxColumn(n.modifiedStartLineNumber),i.executeEdits("diffEditor",[{range:new U.a(n.modifiedStartLineNumber,e,n.modifiedStartLineNumber,e),text:a+t}])):(e=i.getModel().getLineMaxColumn(n.modifiedEndLineNumber),i.executeEdits("diffEditor",[{range:new U.a(n.modifiedStartLineNumber,1,n.modifiedEndLineNumber,e),text:t}]))}))));const u=(e,t)=>{this._contextMenuService.showContextMenu({getAnchor:()=>({x:e,y:t}),getActions:()=>(h&&(h.label=c?di.a("diff.clipboard.copyDeletedLineContent.label","Copy deleted line ({0})",n.originalStartLineNumber+d):di.a("diff.clipboard.copyChangedLineContent.label","Copy changed line ({0})",n.originalStartLineNumber+d)),l),autoSelectFirstItem:!0})};this._register(X.o(this._diffActions,"mousedown",e=>{var{top:t,height:i}=X.D(this._diffActions),n=Math.floor(s/3);e.preventDefault(),u(e.posx,t+i+n)})),this._register(i.onMouseMove(e=>{8!==e.target.type&&5!==e.target.type||e.target.detail.viewZoneId!==this._viewZoneId?this.visibility=!1:(this.visibility=!0,d=this._updateLightBulbPosition(this._marginDomNode,e.event.browserEvent.y,s))})),this._register(i.onMouseDown(e=>{e.event.rightButton&&(8!==e.target.type&&5!==e.target.type||e.target.detail.viewZoneId===this._viewZoneId&&(e.event.preventDefault(),d=this._updateLightBulbPosition(this._marginDomNode,e.event.browserEvent.y,s),u(e.event.posx,e.event.posy+s)))}))}get visibility(){return this._visibility}set visibility(e){this._visibility!==e&&(this._visibility=e,this._diffActions.style.visibility=e?"visible":"hidden")}_updateLightBulbPosition(e,t,i){var{top:e}=X.D(e),n=Math.floor((t-e)/i);if(this._diffActions.style.top=n*i+"px",this.diff.viewLineCounts){let e=0;for(let t=0;t<this.diff.viewLineCounts.length;t++)if(e+=this.diff.viewLineCounts[t],n<e)return t}return n}}var kn=i(148),Dn=i(102),Ln=i(256),On=i(173);Li=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;0<=a;a--)(o=e[a])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s},t=function(e,t){return function(i,n){t(i,n,e)}};class En{constructor(e,t){this._contextMenuService=e,this._clipboardService=t,this._zones=[],this._inlineDiffMargins=[],this._zonesMap={},this._decorations=[]}getForeignViewZones(e){return e.filter(e=>!this._zonesMap[String(e.id)])}clean(e){0<this._zones.length&&e.changeViewZones(e=>{for(const t of this._zones)e.removeZone(t)}),this._zones=[],this._zonesMap={},this._decorations=e.deltaDecorations(this._decorations,[])}apply(e,t,i,n){const o=n?Xi.c.capture(e):null;e.changeViewZones(t=>{var n;for(const e of this._zones)t.removeZone(e);for(const e of this._inlineDiffMargins)e.dispose();this._zones=[],this._zonesMap={},this._inlineDiffMargins=[];for(let r=0,s=i.zones.length;r<s;r++){const s=i.zones[r];s.suppressMouseDown=!0;var o=t.addZone(s);this._zones.push(o),this._zonesMap[String(o)]=!0,i.zones[r].diff&&s.marginDomNode&&(s.suppressMouseDown=!1,0!==(null===(n=i.zones[r].diff)||void 0===n?void 0:n.originalModel.getValueLength())&&this._inlineDiffMargins.push(new Sn(o,s.marginDomNode,e,i.zones[r].diff,this._contextMenuService,this._clipboardService)))}}),o&&o.restore(e),this._decorations=e.deltaDecorations(this._decorations,i.decorations),t&&t.setZones(i.overviewZones)}}let Nn=0;mt=Object(an.b)("diff-insert",sn.b.add,di.a("diffInsertIcon","Line decoration for inserts in the diff editor."));const In=Object(an.b)("diff-remove",sn.b.remove,di.a("diffRemoveIcon","Line decoration for removals in the diff editor.")),Tn=null===(vt=window.trustedTypes)||void 0===vt?void 0:vt.createPolicy("diffEditorWidget",{createHTML:e=>e});let Mn=class e extends he.a{constructor(t,i,n,o,r,s,a,l,c,d,h,u){super(),this._editorProgressService=u,this._onDidDispose=this._register(new W.b),this.onDidDispose=this._onDidDispose.event,this._onDidUpdateDiff=this._register(new W.b),this.onDidUpdateDiff=this._onDidUpdateDiff.event,this._onDidContentSizeChange=this._register(new W.b),this._lastOriginalWarning=null,this._lastModifiedWarning=null,this._editorWorkerService=r,this._codeEditorService=l,this._contextKeyService=this._register(s.createScoped(t)),this._instantiationService=a.createChild(new Cn.a([pi.b,this._contextKeyService])),this._contextKeyService.createKey("isInDiffEditor",!0),this._themeService=c,this._notificationService=d,this._id=++Nn,this._state=0,this._updatingDiffProgress=null,this._domElement=t,this._options=qn(i=i||{},{enableSplitViewResizing:!0,renderSideBySide:!0,maxComputationTime:5e3,maxFileSize:50,ignoreTrimWhitespace:!0,renderIndicators:!0,originalEditable:!1,diffCodeLens:!1,renderOverviewRuler:!0,diffWordWrap:"inherit"}),void 0!==i.isInEmbeddedEditor?this._contextKeyService.createKey("isInEmbeddedDiffEditor",i.isInEmbeddedEditor):this._contextKeyService.createKey("isInEmbeddedDiffEditor",!1),this._updateDecorationsRunner=this._register(new xe.e(()=>this._updateDecorations(),0)),this._containerDomElement=document.createElement("div"),this._containerDomElement.className=e._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide),this._containerDomElement.style.position="relative",this._containerDomElement.style.height="100%",this._domElement.appendChild(this._containerDomElement),this._overviewViewportDomElement=Object(Gi.b)(document.createElement("div")),this._overviewViewportDomElement.setClassName("diffViewport"),this._overviewViewportDomElement.setPosition("absolute"),this._overviewDomElement=document.createElement("div"),this._overviewDomElement.className="diffOverview",this._overviewDomElement.style.position="absolute",this._overviewDomElement.appendChild(this._overviewViewportDomElement.domNode),this._register(X.o(this._overviewDomElement,"mousedown",e=>{this._modifiedEditor.delegateVerticalScrollbarMouseDown(e)})),this._options.renderOverviewRuler&&this._containerDomElement.appendChild(this._overviewDomElement),this._originalDomNode=document.createElement("div"),this._originalDomNode.className="editor original",this._originalDomNode.style.position="absolute",this._originalDomNode.style.height="100%",this._containerDomElement.appendChild(this._originalDomNode),this._modifiedDomNode=document.createElement("div"),this._modifiedDomNode.className="editor modified",this._modifiedDomNode.style.position="absolute",this._modifiedDomNode.style.height="100%",this._containerDomElement.appendChild(this._modifiedDomNode),this._beginUpdateDecorationsTimeout=-1,this._currentlyChangingViewZones=!1,this._diffComputationToken=0,this._originalEditorState=new En(h,o),this._modifiedEditorState=new En(h,o),this._isVisible=!0,this._isHandlingScrollEvent=!1,this._elementSizeObserver=this._register(new Ln.a(this._containerDomElement,i.dimension,()=>this._onDidContainerSizeChanged())),i.automaticLayout&&this._elementSizeObserver.startObserving(),this._diffComputationResult=null,this._originalEditor=this._createLeftHandSideEditor(i,n.originalEditor||{}),this._modifiedEditor=this._createRightHandSideEditor(i,n.modifiedEditor||{}),this._originalOverviewRuler=null,this._modifiedOverviewRuler=null,this._reviewPane=a.createInstance(gn,this),this._containerDomElement.appendChild(this._reviewPane.domNode.domNode),this._containerDomElement.appendChild(this._reviewPane.shadow.domNode),this._containerDomElement.appendChild(this._reviewPane.actionBarContainer.domNode),this._options.renderSideBySide?this._setStrategy(new Bn(this._createDataSource(),this._options.enableSplitViewResizing)):this._setStrategy(new Vn(this._createDataSource(),this._options.enableSplitViewResizing)),this._register(c.onDidColorThemeChange(t=>{this._strategy&&this._strategy.applyColors(t)&&this._updateDecorationsRunner.schedule(),this._containerDomElement.className=e._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide)}));for(const e of tn.d.getDiffEditorContributions())try{this._register(a.createInstance(e.ctor,this))}catch(t){Object(Se.f)(t)}this._codeEditorService.addDiffEditor(this)}_setState(e){this._state!==e&&(this._state=e,this._updatingDiffProgress&&(this._updatingDiffProgress.done(),this._updatingDiffProgress=null),1===this._state&&(this._updatingDiffProgress=this._editorProgressService.show(!0,1e3)))}diffReviewNext(){this._reviewPane.next()}diffReviewPrev(){this._reviewPane.prev()}static _getClassName(e,t){let i="monaco-diff-editor monaco-editor-background ";return t&&(i+="side-by-side "),i+=Object(rn.e)(e.type),i}_recreateOverviewRulers(){this._options.renderOverviewRuler&&(this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose()),this._originalEditor.hasModel()&&(this._originalOverviewRuler=this._originalEditor.createOverviewRuler("original diffOverviewRuler"),this._overviewDomElement.appendChild(this._originalOverviewRuler.getDomNode())),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose()),this._modifiedEditor.hasModel()&&(this._modifiedOverviewRuler=this._modifiedEditor.createOverviewRuler("modified diffOverviewRuler"),this._overviewDomElement.appendChild(this._modifiedOverviewRuler.getDomNode())),this._layoutOverviewRulers())}_createLeftHandSideEditor(t,i){const n=this._createInnerEditor(this._instantiationService,this._originalDomNode,this._adjustOptionsForLeftHandSide(t),i);this._register(n.onDidScrollChange(e=>{this._isHandlingScrollEvent||(e.scrollTopChanged||e.scrollLeftChanged||e.scrollHeightChanged)&&(this._isHandlingScrollEvent=!0,this._modifiedEditor.setScrollPosition({scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}),this._isHandlingScrollEvent=!1,this._layoutOverviewViewport())})),this._register(n.onDidChangeViewZones(()=>{this._onViewZonesChanged()})),this._register(n.onDidChangeConfiguration(e=>{n.getModel()&&(e.hasChanged(43)&&this._updateDecorationsRunner.schedule(),e.hasChanged(130)&&(this._updateDecorationsRunner.cancel(),this._updateDecorations()))})),this._register(n.onDidChangeHiddenAreas(()=>{this._updateDecorationsRunner.cancel(),this._updateDecorations()})),this._register(n.onDidChangeModelContent(()=>{this._isVisible&&this._beginUpdateDecorationsSoon()}));const o=this._contextKeyService.createKey("isInDiffLeftEditor",n.hasWidgetFocus());return this._register(n.onDidFocusEditorWidget(()=>o.set(!0))),this._register(n.onDidBlurEditorWidget(()=>o.set(!1))),this._register(n.onDidContentSizeChange(t=>{var i=this._originalEditor.getContentWidth()+this._modifiedEditor.getContentWidth()+e.ONE_OVERVIEW_WIDTH,n=Math.max(this._modifiedEditor.getContentHeight(),this._originalEditor.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:n,contentWidth:i,contentHeightChanged:t.contentHeightChanged,contentWidthChanged:t.contentWidthChanged})})),n}_createRightHandSideEditor(t,i){const n=this._createInnerEditor(this._instantiationService,this._modifiedDomNode,this._adjustOptionsForRightHandSide(t),i);this._register(n.onDidScrollChange(e=>{this._isHandlingScrollEvent||(e.scrollTopChanged||e.scrollLeftChanged||e.scrollHeightChanged)&&(this._isHandlingScrollEvent=!0,this._originalEditor.setScrollPosition({scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}),this._isHandlingScrollEvent=!1,this._layoutOverviewViewport())})),this._register(n.onDidChangeViewZones(()=>{this._onViewZonesChanged()})),this._register(n.onDidChangeConfiguration(e=>{n.getModel()&&(e.hasChanged(43)&&this._updateDecorationsRunner.schedule(),e.hasChanged(130)&&(this._updateDecorationsRunner.cancel(),this._updateDecorations()))})),this._register(n.onDidChangeHiddenAreas(()=>{this._updateDecorationsRunner.cancel(),this._updateDecorations()})),this._register(n.onDidChangeModelContent(()=>{this._isVisible&&this._beginUpdateDecorationsSoon()})),this._register(n.onDidChangeModelOptions(e=>{e.tabSize&&this._updateDecorationsRunner.schedule()}));const o=this._contextKeyService.createKey("isInDiffRightEditor",n.hasWidgetFocus());return this._register(n.onDidFocusEditorWidget(()=>o.set(!0))),this._register(n.onDidBlurEditorWidget(()=>o.set(!1))),this._register(n.onDidContentSizeChange(t=>{var i=this._originalEditor.getContentWidth()+this._modifiedEditor.getContentWidth()+e.ONE_OVERVIEW_WIDTH,n=Math.max(this._modifiedEditor.getContentHeight(),this._originalEditor.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:n,contentWidth:i,contentHeightChanged:t.contentHeightChanged,contentWidthChanged:t.contentWidthChanged})})),n}_createInnerEditor(e,t,i,n){return e.createInstance(qi.a,t,i,n)}dispose(){this._codeEditorService.removeDiffEditor(this),-1!==this._beginUpdateDecorationsTimeout&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._cleanViewZonesAndDecorations(),this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose()),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose()),this._overviewDomElement.removeChild(this._overviewViewportDomElement.domNode),this._options.renderOverviewRuler&&this._containerDomElement.removeChild(this._overviewDomElement),this._containerDomElement.removeChild(this._originalDomNode),this._originalEditor.dispose(),this._containerDomElement.removeChild(this._modifiedDomNode),this._modifiedEditor.dispose(),this._strategy.dispose(),this._containerDomElement.removeChild(this._reviewPane.domNode.domNode),this._containerDomElement.removeChild(this._reviewPane.shadow.domNode),this._containerDomElement.removeChild(this._reviewPane.actionBarContainer.domNode),this._reviewPane.dispose(),this._domElement.removeChild(this._containerDomElement),this._onDidDispose.fire(),super.dispose()}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return me.a.IDiffEditor}getLineChanges(){return this._diffComputationResult?this._diffComputationResult.changes:null}getOriginalEditor(){return this._originalEditor}getModifiedEditor(){return this._modifiedEditor}updateOptions(t){var i=qn(t,this._options),n={enableSplitViewResizing:(n=this._options).enableSplitViewResizing!==i.enableSplitViewResizing,renderSideBySide:n.renderSideBySide!==i.renderSideBySide,maxComputationTime:n.maxComputationTime!==i.maxComputationTime,maxFileSize:n.maxFileSize!==i.maxFileSize,ignoreTrimWhitespace:n.ignoreTrimWhitespace!==i.ignoreTrimWhitespace,renderIndicators:n.renderIndicators!==i.renderIndicators,originalEditable:n.originalEditable!==i.originalEditable,diffCodeLens:n.diffCodeLens!==i.diffCodeLens,renderOverviewRuler:n.renderOverviewRuler!==i.renderOverviewRuler,diffWordWrap:n.diffWordWrap!==i.diffWordWrap};this._options=i,i=this._isVisible&&(n.maxComputationTime||n.maxFileSize),n.ignoreTrimWhitespace||n.renderIndicators?this._beginUpdateDecorations():i&&this._beginUpdateDecorationsSoon(),this._modifiedEditor.updateOptions(this._adjustOptionsForRightHandSide(t)),this._originalEditor.updateOptions(this._adjustOptionsForLeftHandSide(t)),this._strategy.setEnableSplitViewResizing(this._options.enableSplitViewResizing),n.renderSideBySide&&(this._options.renderSideBySide?this._setStrategy(new Bn(this._createDataSource(),this._options.enableSplitViewResizing)):this._setStrategy(new Vn(this._createDataSource(),this._options.enableSplitViewResizing)),this._containerDomElement.className=e._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide)),n.renderOverviewRuler&&(this._options.renderOverviewRuler?this._containerDomElement.appendChild(this._overviewDomElement):this._containerDomElement.removeChild(this._overviewDomElement))}getModel(){return{original:this._originalEditor.getModel(),modified:this._modifiedEditor.getModel()}}setModel(e){if(e&&(!e.original||!e.modified))throw new Error(e.original?"DiffEditorWidget.setModel: Modified model is null":"DiffEditorWidget.setModel: Original model is null");this._cleanViewZonesAndDecorations(),this._originalEditor.setModel(e?e.original:null),this._modifiedEditor.setModel(e?e.modified:null),this._updateDecorationsRunner.cancel(),e&&(this._originalEditor.setScrollTop(0),this._modifiedEditor.setScrollTop(0)),this._diffComputationResult=null,this._diffComputationToken++,this._setState(0),e&&(this._recreateOverviewRulers(),this._beginUpdateDecorations()),this._layoutOverviewViewport()}getDomNode(){return this._domElement}getVisibleColumnFromPosition(e){return this._modifiedEditor.getVisibleColumnFromPosition(e)}getPosition(){return this._modifiedEditor.getPosition()}setPosition(e){this._modifiedEditor.setPosition(e)}revealLine(e,t=0){this._modifiedEditor.revealLine(e,t)}revealLineInCenter(e,t=0){this._modifiedEditor.revealLineInCenter(e,t)}revealLineInCenterIfOutsideViewport(e,t=0){this._modifiedEditor.revealLineInCenterIfOutsideViewport(e,t)}revealLineNearTop(e,t=0){this._modifiedEditor.revealLineNearTop(e,t)}revealPosition(e,t=0){this._modifiedEditor.revealPosition(e,t)}revealPositionInCenter(e,t=0){this._modifiedEditor.revealPositionInCenter(e,t)}revealPositionInCenterIfOutsideViewport(e,t=0){this._modifiedEditor.revealPositionInCenterIfOutsideViewport(e,t)}revealPositionNearTop(e,t=0){this._modifiedEditor.revealPositionNearTop(e,t)}getSelection(){return this._modifiedEditor.getSelection()}getSelections(){return this._modifiedEditor.getSelections()}setSelection(e){this._modifiedEditor.setSelection(e)}setSelections(e){this._modifiedEditor.setSelections(e)}revealLines(e,t,i=0){this._modifiedEditor.revealLines(e,t,i)}revealLinesInCenter(e,t,i=0){this._modifiedEditor.revealLinesInCenter(e,t,i)}revealLinesInCenterIfOutsideViewport(e,t,i=0){this._modifiedEditor.revealLinesInCenterIfOutsideViewport(e,t,i)}revealLinesNearTop(e,t,i=0){this._modifiedEditor.revealLinesNearTop(e,t,i)}revealRange(e,t=0,i=!1,n=!0){this._modifiedEditor.revealRange(e,t,i,n)}revealRangeInCenter(e,t=0){this._modifiedEditor.revealRangeInCenter(e,t)}revealRangeInCenterIfOutsideViewport(e,t=0){this._modifiedEditor.revealRangeInCenterIfOutsideViewport(e,t)}revealRangeNearTop(e,t=0){this._modifiedEditor.revealRangeNearTop(e,t)}revealRangeNearTopIfOutsideViewport(e,t=0){this._modifiedEditor.revealRangeNearTopIfOutsideViewport(e,t)}revealRangeAtTop(e,t=0){this._modifiedEditor.revealRangeAtTop(e,t)}getSupportedActions(){return this._modifiedEditor.getSupportedActions()}saveViewState(){return{original:this._originalEditor.saveViewState(),modified:this._modifiedEditor.saveViewState()}}restoreViewState(e){e&&e.original&&e.modified&&(this._originalEditor.restoreViewState((e=e).original),this._modifiedEditor.restoreViewState(e.modified))}layout(e){this._elementSizeObserver.observe(e)}focus(){this._modifiedEditor.focus()}hasTextFocus(){return this._originalEditor.hasTextFocus()||this._modifiedEditor.hasTextFocus()}trigger(e,t,i){this._modifiedEditor.trigger(e,t,i)}changeDecorations(e){return this._modifiedEditor.changeDecorations(e)}_onDidContainerSizeChanged(){this._doLayout()}_getReviewHeight(){return this._reviewPane.isVisible()?this._elementSizeObserver.getHeight():0}_layoutOverviewRulers(){var t,i,n;this._options.renderOverviewRuler&&this._originalOverviewRuler&&this._modifiedOverviewRuler&&(t=this._elementSizeObserver.getHeight(),i=this._getReviewHeight(),n=e.ENTIRE_DIFF_OVERVIEW_WIDTH-2*e.ONE_OVERVIEW_WIDTH,this._modifiedEditor.getLayoutInfo()&&(this._originalOverviewRuler.setLayout({top:0,width:e.ONE_OVERVIEW_WIDTH,right:n+e.ONE_OVERVIEW_WIDTH,height:t-i}),this._modifiedOverviewRuler.setLayout({top:0,right:0,width:e.ONE_OVERVIEW_WIDTH,height:t-i})))}_onViewZonesChanged(){this._currentlyChangingViewZones||this._updateDecorationsRunner.schedule()}_beginUpdateDecorationsSoon(){-1!==this._beginUpdateDecorationsTimeout&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._beginUpdateDecorationsTimeout=window.setTimeout(()=>this._beginUpdateDecorations(),e.UPDATE_DIFF_DECORATIONS_DELAY)}static _equals(e,t){return!e&&!t||!(!e||!t)&&e.toString()===t.toString()}_beginUpdateDecorations(){this._beginUpdateDecorationsTimeout=-1;const t=this._originalEditor.getModel(),i=this._modifiedEditor.getModel();if(t&&i){this._diffComputationToken++;const o=this._diffComputationToken,r=1024*this._options.maxFileSize*1024;var n=e=>(e=e.getValueLength(),0==r||e<=r);n(t)&&n(i)?(this._setState(1),this._editorWorkerService.computeDiff(t.uri,i.uri,this._options.ignoreTrimWhitespace,this._options.maxComputationTime).then(e=>{o===this._diffComputationToken&&t===this._originalEditor.getModel()&&i===this._modifiedEditor.getModel()&&(this._setState(2),this._diffComputationResult=e,this._updateDecorationsRunner.schedule(),this._onDidUpdateDiff.fire())},e=>{o===this._diffComputationToken&&t===this._originalEditor.getModel()&&i===this._modifiedEditor.getModel()&&(this._setState(2),this._diffComputationResult=null,this._updateDecorationsRunner.schedule())})):e._equals(t.uri,this._lastOriginalWarning)&&e._equals(i.uri,this._lastModifiedWarning)||(this._lastOriginalWarning=t.uri,this._lastModifiedWarning=i.uri,this._notificationService.warn(di.a("diff.tooLarge","Cannot compare files because one file is too large.")))}}_cleanViewZonesAndDecorations(){this._originalEditorState.clean(this._originalEditor),this._modifiedEditorState.clean(this._modifiedEditor)}_updateDecorations(){if(this._originalEditor.getModel()&&this._modifiedEditor.getModel()){var e=this._diffComputationResult?this._diffComputationResult.changes:[],t=this._originalEditorState.getForeignViewZones(this._originalEditor.getWhitespaces()),i=this._modifiedEditorState.getForeignViewZones(this._modifiedEditor.getWhitespaces());i=this._strategy.getEditorsDiffDecorations(e,this._options.ignoreTrimWhitespace,this._options.renderIndicators,t,i);try{this._currentlyChangingViewZones=!0,this._originalEditorState.apply(this._originalEditor,this._originalOverviewRuler,i.original,!1),this._modifiedEditorState.apply(this._modifiedEditor,this._modifiedOverviewRuler,i.modified,!0)}finally{this._currentlyChangingViewZones=!1}}}_adjustOptionsForSubEditor(e){const t=Object.assign({},e);return t.inDiffEditor=!0,t.automaticLayout=!1,t.scrollbar=Object.assign({},t.scrollbar||{}),t.scrollbar.vertical="visible",t.folding=!1,t.codeLens=this._options.diffCodeLens,t.fixedOverflowWidgets=!0,t.minimap=Object.assign({},t.minimap||{}),t.minimap.enabled=!1,t}_adjustOptionsForLeftHandSide(e){const t=this._adjustOptionsForSubEditor(e);return this._options.renderSideBySide?t.wordWrapOverride1=this._options.diffWordWrap:t.wordWrapOverride1="off",e.originalAriaLabel&&(t.ariaLabel=e.originalAriaLabel),t.readOnly=!this._options.originalEditable,t.extraEditorClassName="original-in-monaco-diff-editor",Object.assign(Object.assign({},t),{dimension:{height:0,width:0}})}_adjustOptionsForRightHandSide(t){const i=this._adjustOptionsForSubEditor(t);return t.modifiedAriaLabel&&(i.ariaLabel=t.modifiedAriaLabel),i.wordWrapOverride1=this._options.diffWordWrap,i.revealHorizontalRightPadding=j.g.revealHorizontalRightPadding.defaultValue+e.ENTIRE_DIFF_OVERVIEW_WIDTH,i.scrollbar.verticalHasArrows=!1,i.extraEditorClassName="modified-in-monaco-diff-editor",Object.assign(Object.assign({},i),{dimension:{height:0,width:0}})}doLayout(){this._elementSizeObserver.observe(),this._doLayout()}_doLayout(){var t=this._elementSizeObserver.getWidth(),i=this._elementSizeObserver.getHeight(),n=this._getReviewHeight(),o=this._strategy.layout();this._originalDomNode.style.width=o+"px",this._originalDomNode.style.left="0px",this._modifiedDomNode.style.width=t-o+"px",this._modifiedDomNode.style.left=o+"px",this._overviewDomElement.style.top="0px",this._overviewDomElement.style.height=i-n+"px",this._overviewDomElement.style.width=e.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewDomElement.style.left=t-e.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewViewportDomElement.setWidth(e.ENTIRE_DIFF_OVERVIEW_WIDTH),this._overviewViewportDomElement.setHeight(30),this._originalEditor.layout({width:o,height:i-n}),this._modifiedEditor.layout({width:t-o-(this._options.renderOverviewRuler?e.ENTIRE_DIFF_OVERVIEW_WIDTH:0),height:i-n}),(this._originalOverviewRuler||this._modifiedOverviewRuler)&&this._layoutOverviewRulers(),this._reviewPane.layout(i-n,t,n),this._layoutOverviewViewport()}_layoutOverviewViewport(){var e=this._computeOverviewViewport();e?(this._overviewViewportDomElement.setTop(e.top),this._overviewViewportDomElement.setHeight(e.height)):(this._overviewViewportDomElement.setTop(0),this._overviewViewportDomElement.setHeight(0))}_computeOverviewViewport(){var e=this._modifiedEditor.getLayoutInfo();if(!e)return null;var t=this._modifiedEditor.getScrollTop(),i=this._modifiedEditor.getScrollHeight(),n=Math.max(0,e.height);n=Math.max(0,+n),i=0<i?n/i:0;return{height:Math.max(0,Math.floor(e.height*i)),top:Math.floor(t*i)}}_createDataSource(){return{getWidth:()=>this._elementSizeObserver.getWidth(),getHeight:()=>this._elementSizeObserver.getHeight()-this._getReviewHeight(),getOptions:()=>({renderOverviewRuler:this._options.renderOverviewRuler}),getContainerDomNode:()=>this._containerDomElement,relayoutEditors:()=>{this._doLayout()},getOriginalEditor:()=>this._originalEditor,getModifiedEditor:()=>this._modifiedEditor}}_setStrategy(e){this._strategy&&this._strategy.dispose(),(this._strategy=e).applyColors(this._themeService.getColorTheme()),this._diffComputationResult&&this._updateDecorations(),this._doLayout()}_getLineChangeAtOrBeforeLineNumber(e,t){var i=this._diffComputationResult?this._diffComputationResult.changes:[];if(0===i.length||e<t(i[0]))return null;let n=0,o=i.length-1;for(;n<o;){var r=Math.floor((n+o)/2),s=t(i[r]),a=r+1<=o?t(i[r+1]):1073741824;e<s?o=r-1:a<=e?n=r+1:(n=r,o=r)}return i[n]}_getEquivalentLineForOriginalLineNumber(e){if(!(o=this._getLineChangeAtOrBeforeLineNumber(e,e=>e.originalStartLineNumber)))return e;var t=o.originalStartLineNumber+(0<o.originalEndLineNumber?-1:0),i=o.modifiedStartLineNumber+(0<o.modifiedEndLineNumber?-1:0),n=0<o.originalEndLineNumber?o.originalEndLineNumber-o.originalStartLineNumber+1:0,o=0<o.modifiedEndLineNumber?o.modifiedEndLineNumber-o.modifiedStartLineNumber+1:0;return(t=e-t)<=n?i+Math.min(t,o):i+o-n+t}_getEquivalentLineForModifiedLineNumber(e){if(!(t=this._getLineChangeAtOrBeforeLineNumber(e,e=>e.modifiedStartLineNumber)))return e;var t,i=t.originalStartLineNumber+(0<t.originalEndLineNumber?-1:0),n=t.modifiedStartLineNumber+(0<t.modifiedEndLineNumber?-1:0),o=0<t.originalEndLineNumber?t.originalEndLineNumber-t.originalStartLineNumber+1:0;return(n=e-n)<=(t=0<t.modifiedEndLineNumber?t.modifiedEndLineNumber-t.modifiedStartLineNumber+1:0)?i+Math.min(n,o):i+o-t+n}getDiffLineInformationForOriginal(e){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForOriginalLineNumber(e)}:null}getDiffLineInformationForModified(e){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForModifiedLineNumber(e)}:null}};Mn.ONE_OVERVIEW_WIDTH=15,Mn.ENTIRE_DIFF_OVERVIEW_WIDTH=30,Mn.UPDATE_DIFF_DECORATIONS_DELAY=200,Mn=Li([t(3,kn.a),t(4,we.a),t(5,pi.b),t(6,wn.a),t(7,Z.a),t(8,rn.b),t(9,Si.a),t(10,yn.a),t(11,Dn.a)],Mn);class An extends he.a{constructor(e){super(),this._dataSource=e,this._insertColor=null,this._removeColor=null}applyColors(e){const t=(e.getColor(on.m)||on.i).transparent(2),i=(e.getColor(on.o)||on.j).transparent(2);return e=!t.equals(this._insertColor)||!i.equals(this._removeColor),this._insertColor=t,this._removeColor=i,e}getEditorsDiffDecorations(e,t,i,n,o){return o=o.sort((e,t)=>e.afterLineNumber-t.afterLineNumber),n=n.sort((e,t)=>e.afterLineNumber-t.afterLineNumber),n=this._getViewZones(e,n,o,i),o=this._getOriginalEditorDecorations(e,t,i),i=this._getModifiedEditorDecorations(e,t,i),{original:{decorations:o.decorations,overviewZones:o.overviewZones,zones:n.original},modified:{decorations:i.decorations,overviewZones:i.overviewZones,zones:n.modified}}}}class Pn{constructor(e){this._source=e,this._index=-1,this.current=null,this.advance()}advance(){this._index++,this._index<this._source.length?this.current=this._source[this._index]:this.current=null}}class Rn{constructor(e,t,i,n,o){this._lineChanges=e,this._originalForeignVZ=t,this._modifiedForeignVZ=i,this._originalEditor=n,this._modifiedEditor=o}static _getViewLineCount(e,t,i){var n=e.getModel();e=e._getViewModel();return n&&e?(e=Kn(n,e,t,i)).endLineNumber-e.startLineNumber+1:i-t+1}getViewZones(){var e=this._originalEditor.getOption(58),t=this._modifiedEditor.getOption(58),i=-1!==this._originalEditor.getOption(130).wrappingColumn,n=-1!==this._modifiedEditor.getOption(130).wrappingColumn,o=i||n;const r=this._originalEditor.getModel(),s=this._originalEditor._getViewModel().coordinatesConverter,a=this._modifiedEditor._getViewModel().coordinatesConverter,l=[],c=[];let d=0,h=0,u=0,g=0,p=0,f=0;var m=(e,t)=>e.afterLineNumber-t.afterLineNumber,v=(e,t)=>{if(null===t.domNode&&0<e.length){const i=e[e.length-1];if(i.afterLineNumber===t.afterLineNumber&&null===i.domNode)return void(i.heightInLines+=t.heightInLines)}e.push(t)};const b=new Pn(this._modifiedForeignVZ),_=new Pn(this._originalForeignVZ);let w=1,C=1;for(let i=0,n=this._lineChanges.length;i<=n;i++){var y,x=i<n?this._lineChanges[i]:null;f=null!==x?(u=x.originalStartLineNumber+(0<x.originalEndLineNumber?-1:0),g=x.modifiedStartLineNumber+(0<x.modifiedEndLineNumber?-1:0),h=0<x.originalEndLineNumber?Rn._getViewLineCount(this._originalEditor,x.originalStartLineNumber,x.originalEndLineNumber):0,d=0<x.modifiedEndLineNumber?Rn._getViewLineCount(this._modifiedEditor,x.modifiedStartLineNumber,x.modifiedEndLineNumber):0,p=Math.max(x.originalStartLineNumber,x.originalEndLineNumber),Math.max(x.modifiedStartLineNumber,x.modifiedEndLineNumber)):(u+=1e7+h,g+=1e7+d,p=u,g);let N=[],I=[];if(o){let e;e=x?0<x.originalEndLineNumber?x.originalStartLineNumber-w:x.modifiedStartLineNumber-C:r.getLineCount()-w;for(let t=0;t<e;t++){var S=w+t,k=C+t,D=s.getModelLineViewLineCount(S),L=a.getModelLineViewLineCount(k);D<L?N.push({afterLineNumber:S,heightInLines:L-D,domNode:null,marginDomNode:null}):L<D&&I.push({afterLineNumber:k,heightInLines:D-L,domNode:null,marginDomNode:null})}x&&(w=(0<x.originalEndLineNumber?x.originalEndLineNumber:x.originalStartLineNumber)+1,C=(0<x.modifiedEndLineNumber?x.modifiedEndLineNumber:x.modifiedStartLineNumber)+1)}for(;b.current&&b.current.afterLineNumber<=f;){let e;e=b.current.afterLineNumber<=g?u-g+b.current.afterLineNumber:p;let i=null;x&&x.modifiedStartLineNumber<=b.current.afterLineNumber&&b.current.afterLineNumber<=x.modifiedEndLineNumber&&(i=this._createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion()),N.push({afterLineNumber:e,heightInLines:b.current.height/t,domNode:null,marginDomNode:i}),b.advance()}for(;_.current&&_.current.afterLineNumber<=p;){let t;t=_.current.afterLineNumber<=u?g-u+_.current.afterLineNumber:f,I.push({afterLineNumber:t,heightInLines:_.current.height/e,domNode:null}),_.advance()}null===x||!Hn(x)||(y=this._produceOriginalFromDiff(x,h,d))&&N.push(y),null===x||!Un(x)||(y=this._produceModifiedFromDiff(x,h,d))&&I.push(y);let T=0,M=0;for(N=N.sort(m),I=I.sort(m);T<N.length&&M<I.length;){const e=N[T],t=I[M];var O=e.afterLineNumber-u,E=t.afterLineNumber-g;O<E?(v(l,e),T++):E<O?(v(c,t),M++):e.shouldNotShrink?(v(l,e),T++):t.shouldNotShrink?(v(c,t),M++):e.heightInLines>=t.heightInLines?(e.heightInLines-=t.heightInLines,M++):(t.heightInLines-=e.heightInLines,T++)}for(;T<N.length;)v(l,N[T]),T++;for(;M<I.length;)v(c,I[M]),M++}return{original:Rn._ensureDomNodes(l),modified:Rn._ensureDomNodes(c)}}static _ensureDomNodes(e){return e.map(e=>(e.domNode||(e.domNode=$n()),e))}}function Fn(e,t,i,n,o){return{range:new U.a(e,t,i,n),options:o}}const jn={charDelete:re.b.register({description:"diff-editor-char-delete",className:"char-delete"}),charDeleteWholeLine:re.b.register({description:"diff-editor-char-delete-whole-line",className:"char-delete",isWholeLine:!0}),charInsert:re.b.register({description:"diff-editor-char-insert",className:"char-insert"}),charInsertWholeLine:re.b.register({description:"diff-editor-char-insert-whole-line",className:"char-insert",isWholeLine:!0}),lineInsert:re.b.register({description:"diff-editor-line-insert",className:"line-insert",marginClassName:"line-insert",isWholeLine:!0}),lineInsertWithSign:re.b.register({description:"diff-editor-line-insert-with-sign",className:"line-insert",linesDecorationsClassName:"insert-sign "+rn.d.asClassName(mt),marginClassName:"line-insert",isWholeLine:!0}),lineDelete:re.b.register({description:"diff-editor-line-delete",className:"line-delete",marginClassName:"line-delete",isWholeLine:!0}),lineDeleteWithSign:re.b.register({description:"diff-editor-line-delete-with-sign",className:"line-delete",linesDecorationsClassName:"delete-sign "+rn.d.asClassName(In),marginClassName:"line-delete",isWholeLine:!0}),lineDeleteMargin:re.b.register({description:"diff-editor-line-delete-margin",marginClassName:"line-delete"})};class Bn extends An{constructor(e,t){super(e),this._disableSash=!1===t,this._sashRatio=null,this._sashPosition=null,this._startSashPosition=null,this._sash=this._register(new Yi.b(this._dataSource.getContainerDomNode(),this,{orientation:0})),this._disableSash&&(this._sash.state=0),this._sash.onDidStart(()=>this._onSashDragStart()),this._sash.onDidChange(e=>this._onSashDrag(e)),this._sash.onDidEnd(()=>this._onSashDragEnd()),this._sash.onDidReset(()=>this._onSashReset())}setEnableSplitViewResizing(e){e=!1===e,this._disableSash!==e&&(this._disableSash=e,this._sash.state=this._disableSash?0:3)}layout(e=this._sashRatio){var t=this._dataSource.getWidth()-(this._dataSource.getOptions().renderOverviewRuler?Mn.ENTIRE_DIFF_OVERVIEW_WIDTH:0);let i=Math.floor((e||.5)*t);return e=Math.floor(.5*t),i=!this._disableSash&&i||e,t>2*Bn.MINIMUM_EDITOR_WIDTH?(i<Bn.MINIMUM_EDITOR_WIDTH&&(i=Bn.MINIMUM_EDITOR_WIDTH),i>t-Bn.MINIMUM_EDITOR_WIDTH&&(i=t-Bn.MINIMUM_EDITOR_WIDTH)):i=e,this._sashPosition!==i&&(this._sashPosition=i,this._sash.layout()),this._sashPosition}_onSashDragStart(){this._startSashPosition=this._sashPosition}_onSashDrag(e){var t=this._dataSource.getWidth()-(this._dataSource.getOptions().renderOverviewRuler?Mn.ENTIRE_DIFF_OVERVIEW_WIDTH:0);e=this.layout((this._startSashPosition+(e.currentX-e.startX))/t);this._sashRatio=e/t,this._dataSource.relayoutEditors()}_onSashDragEnd(){this._sash.layout()}_onSashReset(){this._sashRatio=.5,this._dataSource.relayoutEditors(),this._sash.layout()}getVerticalSashTop(e){return 0}getVerticalSashLeft(e){return this._sashPosition}getVerticalSashHeight(e){return this._dataSource.getHeight()}_getViewZones(e,t,i){var n=this._dataSource.getOriginalEditor(),o=this._dataSource.getModifiedEditor();return new Wn(e,t,i,n,o).getViewZones()}_getOriginalEditorDecorations(e,t,i){const n=this._dataSource.getOriginalEditor();var o=String(this._removeColor);const r={decorations:[],overviewZones:[]},s=n.getModel();var a=n._getViewModel();for(const n of e)if(Un(n)){r.decorations.push({range:new U.a(n.originalStartLineNumber,1,n.originalEndLineNumber,1073741824),options:i?jn.lineDeleteWithSign:jn.lineDelete}),Hn(n)&&n.charChanges||r.decorations.push(Fn(n.originalStartLineNumber,1,n.originalEndLineNumber,1073741824,jn.charDeleteWholeLine));var l=Kn(s,a,n.originalStartLineNumber,n.originalEndLineNumber);if(r.overviewZones.push(new bn.a(l.startLineNumber,l.endLineNumber,o)),n.charChanges)for(const e of n.charChanges)if(Un(e))if(t)for(let t=e.originalStartLineNumber;t<=e.originalEndLineNumber;t++){let i,n;i=t===e.originalStartLineNumber?e.originalStartColumn:s.getLineFirstNonWhitespaceColumn(t),n=t===e.originalEndLineNumber?e.originalEndColumn:s.getLineLastNonWhitespaceColumn(t),r.decorations.push(Fn(t,i,t,n,jn.charDelete))}else r.decorations.push(Fn(e.originalStartLineNumber,e.originalStartColumn,e.originalEndLineNumber,e.originalEndColumn,jn.charDelete))}return r}_getModifiedEditorDecorations(e,t,i){const n=this._dataSource.getModifiedEditor();var o=String(this._insertColor);const r={decorations:[],overviewZones:[]},s=n.getModel();var a=n._getViewModel();for(const n of e)if(Hn(n)){r.decorations.push({range:new U.a(n.modifiedStartLineNumber,1,n.modifiedEndLineNumber,1073741824),options:i?jn.lineInsertWithSign:jn.lineInsert}),Un(n)&&n.charChanges||r.decorations.push(Fn(n.modifiedStartLineNumber,1,n.modifiedEndLineNumber,1073741824,jn.charInsertWholeLine));var l=Kn(s,a,n.modifiedStartLineNumber,n.modifiedEndLineNumber);if(r.overviewZones.push(new bn.a(l.startLineNumber,l.endLineNumber,o)),n.charChanges)for(const e of n.charChanges)if(Hn(e))if(t)for(let t=e.modifiedStartLineNumber;t<=e.modifiedEndLineNumber;t++){let i,n;i=t===e.modifiedStartLineNumber?e.modifiedStartColumn:s.getLineFirstNonWhitespaceColumn(t),n=t===e.modifiedEndLineNumber?e.modifiedEndColumn:s.getLineLastNonWhitespaceColumn(t),r.decorations.push(Fn(t,i,t,n,jn.charInsert))}else r.decorations.push(Fn(e.modifiedStartLineNumber,e.modifiedStartColumn,e.modifiedEndLineNumber,e.modifiedEndColumn,jn.charInsert))}return r}}Bn.MINIMUM_EDITOR_WIDTH=100;class Wn extends Rn{constructor(e,t,i,n,o){super(e,t,i,n,o)}_createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion(){return null}_produceOriginalFromDiff(e,t,i){return t<i?{afterLineNumber:Math.max(e.originalStartLineNumber,e.originalEndLineNumber),heightInLines:i-t,domNode:null}:null}_produceModifiedFromDiff(e,t,i){return i<t?{afterLineNumber:Math.max(e.modifiedStartLineNumber,e.modifiedEndLineNumber),heightInLines:t-i,domNode:null}:null}}class Vn extends An{constructor(e,t){super(e),this._decorationsLeft=e.getOriginalEditor().getLayoutInfo().decorationsLeft,this._register(e.getOriginalEditor().onDidLayoutChange(t=>{this._decorationsLeft!==t.decorationsLeft&&(this._decorationsLeft=t.decorationsLeft,e.relayoutEditors())}))}setEnableSplitViewResizing(e){}_getViewZones(e,t,i,n){var o=this._dataSource.getOriginalEditor(),r=this._dataSource.getModifiedEditor();return new zn(e,t,i,o,r,n).getViewZones()}_getOriginalEditorDecorations(e,t,i){var n=String(this._removeColor);const o={decorations:[],overviewZones:[]},r=this._dataSource.getOriginalEditor();var s,a=r.getModel(),l=r._getViewModel();for(const t of e)Un(t)&&(o.decorations.push({range:new U.a(t.originalStartLineNumber,1,t.originalEndLineNumber,1073741824),options:jn.lineDeleteMargin}),s=Kn(a,l,t.originalStartLineNumber,t.originalEndLineNumber),o.overviewZones.push(new bn.a(s.startLineNumber,s.endLineNumber,n)));return o}_getModifiedEditorDecorations(e,t,i){const n=this._dataSource.getModifiedEditor();var o=String(this._insertColor);const r={decorations:[],overviewZones:[]},s=n.getModel();var a=n._getViewModel();for(const n of e)if(Hn(n)){r.decorations.push({range:new U.a(n.modifiedStartLineNumber,1,n.modifiedEndLineNumber,1073741824),options:i?jn.lineInsertWithSign:jn.lineInsert});var l=Kn(s,a,n.modifiedStartLineNumber,n.modifiedEndLineNumber);if(r.overviewZones.push(new bn.a(l.startLineNumber,l.endLineNumber,o)),n.charChanges){for(const e of n.charChanges)if(Hn(e))if(t)for(let t=e.modifiedStartLineNumber;t<=e.modifiedEndLineNumber;t++){let i,n;i=t===e.modifiedStartLineNumber?e.modifiedStartColumn:s.getLineFirstNonWhitespaceColumn(t),n=t===e.modifiedEndLineNumber?e.modifiedEndColumn:s.getLineLastNonWhitespaceColumn(t),r.decorations.push(Fn(t,i,t,n,jn.charInsert))}else r.decorations.push(Fn(e.modifiedStartLineNumber,e.modifiedStartColumn,e.modifiedEndLineNumber,e.modifiedEndColumn,jn.charInsert))}else r.decorations.push(Fn(n.modifiedStartLineNumber,1,n.modifiedEndLineNumber,1073741824,jn.charInsertWholeLine))}return r}layout(){return Math.max(5,this._decorationsLeft)}}class zn extends Rn{constructor(e,t,i,n,o,r){super(e,t,i,n,o),this._originalModel=n.getModel(),this._renderIndicators=r,this._pendingLineChange=[],this._pendingViewZones=[],this._lineBreaksComputer=this._modifiedEditor._getViewModel().createLineBreaksComputer()}getViewZones(){var e=super.getViewZones();return this._finalize(e),e}_createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion(){const e=document.createElement("div");return e.className="inline-added-margin-view-zone",e}_produceOriginalFromDiff(e,t,i){const n=document.createElement("div");return n.className="inline-added-margin-view-zone",{afterLineNumber:Math.max(e.originalStartLineNumber,e.originalEndLineNumber),heightInLines:i,domNode:document.createElement("div"),marginDomNode:n}}_produceModifiedFromDiff(e,t,i){const n=document.createElement("div");n.className="view-lines line-delete "+On.a;const o=document.createElement("div");o.className="inline-deleted-margin-view-zone",t={shouldNotShrink:!0,afterLineNumber:0===e.modifiedEndLineNumber?e.modifiedStartLineNumber:e.modifiedStartLineNumber-1,heightInLines:t,minWidthInPx:0,domNode:n,marginDomNode:o,diff:{originalStartLineNumber:e.originalStartLineNumber,originalEndLineNumber:e.originalEndLineNumber,modifiedStartLineNumber:e.modifiedStartLineNumber,modifiedEndLineNumber:e.modifiedEndLineNumber,originalModel:this._originalModel,viewLineCounts:null}};for(let t=e.originalStartLineNumber;t<=e.originalEndLineNumber;t++)this._lineBreaksComputer.addRequest(this._originalModel.getLineContent(t),null,null);return this._pendingLineChange.push(e),this._pendingViewZones.push(t),t}_finalize(e){const t=this._modifiedEditor.getOptions();var i=this._modifiedEditor.getModel().getOptions().tabSize,n=t.get(43),o=t.get(29),r=n.typicalHalfwidthCharacterWidth,s=t.get(92),a=this._originalModel.mightContainNonBasicASCII(),l=this._originalModel.mightContainRTL(),c=t.get(58),d=t.get(129).decorationsWidth,h=t.get(104),u=t.get(87),g=t.get(82),p=t.get(44),f=this._lineBreaksComputer.finalize();let m=0;for(let t=0;t<this._pendingLineChange.length;t++){var v=this._pendingLineChange[t];const L=this._pendingViewZones[t],O=L.domNode;Zi.a.applyFontInfoSlow(O,n);var b=L.marginDomNode;Zi.a.applyFontInfoSlow(b,n);const E=[];if(v.charChanges)for(const e of v.charChanges)Un(e)&&E.push(new Nt.a(new U.a(e.originalStartLineNumber,e.originalStartColumn,e.originalEndLineNumber,e.originalEndColumn),"char-delete",0));var _=0<E.length;const N=Object(vn.a)(1e4);let I=0,T=0,M=null;for(let t=v.originalStartLineNumber;t<=v.originalEndLineNumber;t++){var w=t-v.originalStartLineNumber;const r=this._originalModel.getLineTokens(t),s=r.getLineContent();var C=f[m++],y=_n.a.filter(E,t,1,s.length+1);if(C){let f=0;for(const e of C.breakOffsets){var x=r.sliceAndInflate(f,e,0),S=s.substring(f,e);I=Math.max(I,this._renderOriginalLine(T++,S,x,_n.a.extractWrapped(y,f,e),_,a,l,n,o,c,d,h,u,g,p,i,N,b)),f=e}for(M=M||[];M.length<w;)M[M.length]=1;M[w]=C.breakOffsets.length,L.heightInLines+=C.breakOffsets.length-1;const m=document.createElement("div");m.className="line-delete",e.original.push({afterLineNumber:t,afterColumn:0,heightInLines:C.breakOffsets.length-1,domNode:$n(),marginDomNode:m})}else I=Math.max(I,this._renderOriginalLine(T++,s,r,y,_,a,l,n,o,c,d,h,u,g,p,i,N,b))}I+=s;var k=N.build();k=Tn?Tn.createHTML(k):k;if(O.innerHTML=k,L.minWidthInPx=I*r,M)for(var D=v.originalEndLineNumber-v.originalStartLineNumber;M.length<=D;)M[M.length]=1;L.diff.viewLineCounts=M}e.original.sort((e,t)=>e.afterLineNumber-t.afterLineNumber)}_renderOriginalLine(e,t,i,n,o,r,s,a,l,c,d,h,u,g,p,f,m,v){m.appendASCIIString('<div class="view-line'),o||m.appendASCIIString(" char-delete"),m.appendASCIIString('" style="top:'),m.appendASCIIString(String(e*c)),m.appendASCIIString('px;width:1000000px;">'),r=Nt.g.isBasicASCII(t,r),s=Nt.g.containsRTL(t,r,s);const b=Object(Et.d)(new Et.c(a.isMonospace&&!l,a.canUseHalfwidthRightwardsArrow,t,!1,r,s,0,i,n,f,0,a.spaceWidth,a.middotWidth,a.wsmiddotWidth,h,u,g,p!==j.e.OFF,null),m);if(m.appendASCIIString("</div>"),this._renderIndicators){const t=document.createElement("div");t.className="delete-sign "+rn.d.asClassName(In),t.setAttribute("style",`position:absolute;top:${e*c}px;width:${d}px;height:${c}px;right:0;`),v.appendChild(t)}return b.characterMapping.getAbsoluteOffset(b.characterMapping.length)}}function Hn(e){return 0<e.modifiedEndLineNumber}function Un(e){return 0<e.originalEndLineNumber}function $n(){const e=document.createElement("div");return e.className="diagonal-fill",e}function Kn(e,t,i,n){var o=e.getLineCount();return i=Math.min(o,Math.max(1,i)),n=Math.min(o,Math.max(1,n)),t.coordinatesConverter.convertModelRangeToViewRange(new U.a(i,e.getLineMinColumn(i),n,e.getLineMaxColumn(n)))}function qn(e,t){return{enableSplitViewResizing:Object(j.k)(e.enableSplitViewResizing,t.enableSplitViewResizing),renderSideBySide:Object(j.k)(e.renderSideBySide,t.renderSideBySide),maxComputationTime:Object(j.l)(e.maxComputationTime,t.maxComputationTime,0,1073741824),maxFileSize:Object(j.l)(e.maxFileSize,t.maxFileSize,0,1073741824),ignoreTrimWhitespace:Object(j.k)(e.ignoreTrimWhitespace,t.ignoreTrimWhitespace),renderIndicators:Object(j.k)(e.renderIndicators,t.renderIndicators),originalEditable:Object(j.k)(e.originalEditable,t.originalEditable),diffCodeLens:Object(j.k)(e.diffCodeLens,t.diffCodeLens),renderOverviewRuler:Object(j.k)(e.renderOverviewRuler,t.renderOverviewRuler),diffWordWrap:(e=e.diffWordWrap,t=t.diffWordWrap,Object(j.o)(e,t,["off","on","inherit"]))}}Object(rn.f)((e,t)=>{var i=e.getColor(on.m);i&&(t.addRule(`.monaco-editor .line-insert, .monaco-editor .char-insert { background-color: ${i}; }`),t.addRule(`.monaco-diff-editor .line-insert, .monaco-diff-editor .char-insert { background-color: ${i}; }`),t.addRule(`.monaco-editor .inline-added-margin-view-zone { background-color: ${i}; }`)),(i=e.getColor(on.o))&&(t.addRule(`.monaco-editor .line-delete, .monaco-editor .char-delete { background-color: ${i}; }`),t.addRule(`.monaco-diff-editor .line-delete, .monaco-diff-editor .char-delete { background-color: ${i}; }`),t.addRule(`.monaco-editor .inline-deleted-margin-view-zone { background-color: ${i}; }`)),(i=e.getColor(on.n))&&t.addRule(`.monaco-editor .line-insert, .monaco-editor .char-insert { border: 1px ${"hc"===e.type?"dashed":"solid"} ${i}; }`),(i=e.getColor(on.p))&&t.addRule(`.monaco-editor .line-delete, .monaco-editor .char-delete { border: 1px ${"hc"===e.type?"dashed":"solid"} ${i}; }`),(i=e.getColor(on.Ec))&&t.addRule(`.monaco-diff-editor.side-by-side .editor.modified { box-shadow: -6px 0 5px -5px ${i}; }`),(i=e.getColor(on.k))&&t.addRule(`.monaco-diff-editor.side-by-side .editor.modified { border-left: 1px solid ${i}; }`),(i=e.getColor(on.Gc))&&t.addRule(`\n\t\t\t.monaco-diff-editor .diffViewport {\n\t\t\t\tbackground: ${i};\n\t\t\t}\n\t\t`),(i=e.getColor(on.Hc))&&t.addRule(`\n\t\t\t.monaco-diff-editor .diffViewport:hover {\n\t\t\t\tbackground: ${i};\n\t\t\t}\n\t\t`),(i=e.getColor(on.Fc))&&t.addRule(`\n\t\t\t.monaco-diff-editor .diffViewport:active {\n\t\t\t\tbackground: ${i};\n\t\t\t}\n\t\t`),e=e.getColor(on.l),t.addRule(`\n\t.monaco-editor .diagonal-fill {\n\t\tbackground-image: linear-gradient(\n\t\t\t-45deg,\n\t\t\t${e} 12.5%,\n\t\t\t#0000 12.5%, #0000 50%,\n\t\t\t${e} 50%, ${e} 62.5%,\n\t\t\t#0000 62.5%, #0000 100%\n\t\t);\n\t\tbackground-size: 8px 8px;\n\t}\n\t`)});var Gn=i(257),Yn=i(171),Zn=i(32),Xn=i(58),Qn=i(90);class Jn extends he.a{constructor(){super(),this._onCodeEditorAdd=this._register(new W.b),this.onCodeEditorAdd=this._onCodeEditorAdd.event,this._onCodeEditorRemove=this._register(new W.b),this.onCodeEditorRemove=this._onCodeEditorRemove.event,this._onDiffEditorAdd=this._register(new W.b),this._onDiffEditorRemove=this._register(new W.b),this._onDecorationTypeRegistered=this._register(new W.b),this._modelProperties=new Map,this._codeEditors=Object.create(null),this._diffEditors=Object.create(null)}addCodeEditor(e){this._codeEditors[e.getId()]=e,this._onCodeEditorAdd.fire(e)}removeCodeEditor(e){delete this._codeEditors[e.getId()]&&this._onCodeEditorRemove.fire(e)}listCodeEditors(){return Object.keys(this._codeEditors).map(e=>this._codeEditors[e])}addDiffEditor(e){this._diffEditors[e.getId()]=e,this._onDiffEditorAdd.fire(e)}removeDiffEditor(e){delete this._diffEditors[e.getId()]&&this._onDiffEditorRemove.fire(e)}listDiffEditors(){return Object.keys(this._diffEditors).map(e=>this._diffEditors[e])}getFocusedCodeEditor(){let e=null;for(const t of this.listCodeEditors()){if(t.hasTextFocus())return t;t.hasWidgetFocus()&&(e=t)}return e}setModelProperty(e,t,i){let n;e=e.toString(),this._modelProperties.has(e)?n=this._modelProperties.get(e):(n=new Map,this._modelProperties.set(e,n)),n.set(t,i)}getModelProperty(e,t){if(e=e.toString(),this._modelProperties.has(e)){return this._modelProperties.get(e).get(t)}}}class eo{constructor(e,t,i){this._parent=e,this._editorId=t,this._styleSheet=i,this._refCount=0}ref(){this._refCount++}unref(){var e;this._refCount--,0===this._refCount&&(null!==(e=this._styleSheet.parentNode)&&void 0!==e&&e.removeChild(this._styleSheet),this._parent._removeEditorStyleSheets(this._editorId))}insertRule(e,t){this._styleSheet.sheet.insertRule(e,t)}removeRulesContainingSelector(e){X.Q(e,this._styleSheet)}}class to{constructor(e){this._styleSheet=e}ref(){}unref(){}insertRule(e,t){this._styleSheet.sheet.insertRule(e,t)}removeRulesContainingSelector(e){X.Q(e,this._styleSheet)}}vt=class extends Jn{constructor(e,t){super(),this._decorationOptionProviders=new Map,this._editorStyleSheets=new Map,this._globalStyleSheet=e||null,this._themeService=t}_getOrCreateGlobalStyleSheet(){return this._globalStyleSheet||(this._globalStyleSheet=new to(X.w())),this._globalStyleSheet}_getOrCreateStyleSheet(e){if(!e)return this._getOrCreateGlobalStyleSheet();var t=e.getContainerDomNode();return X.O(t)?(e=e.getId(),this._editorStyleSheets.has(e)||(t=new eo(this,e,X.w(t)),this._editorStyleSheets.set(e,t)),this._editorStyleSheets.get(e)):this._getOrCreateGlobalStyleSheet()}_removeEditorStyleSheets(e){this._editorStyleSheets.delete(e)}registerDecorationType(e,t,i,n,o){let r=this._decorationOptionProviders.get(t);r||(i={styleSheet:o=this._getOrCreateStyleSheet(o),key:t,parentTypeKey:n,options:i||Object.create(null)},r=n?new io(this._themeService,o,i):new no(e,this._themeService,o,i),this._decorationOptionProviders.set(t,r),this._onDecorationTypeRegistered.fire(t)),r.refCount++}removeDecorationType(e){const t=this._decorationOptionProviders.get(e);t&&(t.refCount--,t.refCount<=0&&(this._decorationOptionProviders.delete(e),t.dispose(),this.listCodeEditors().forEach(t=>t.removeDecorations(e))))}resolveDecorationOptions(e,t){const i=this._decorationOptionProviders.get(e);if(!i)throw new Error("Unknown decoration type key: "+e);return i.getOptions(this,t)}},vt=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;0<=a;a--)(o=e[a])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s}([function(e,t){return function(e,i){t(e,i,1)}}(0,rn.b)],vt);class io{constructor(e,t,i){this._styleSheet=t,this._styleSheet.ref(),this._parentTypeKey=i.parentTypeKey,this.refCount=0,this._beforeContentRules=new ro(3,i,e),this._afterContentRules=new ro(4,i,e)}getOptions(e,t){const i=e.resolveDecorationOptions(this._parentTypeKey,!0);return this._beforeContentRules&&(i.beforeContentClassName=this._beforeContentRules.className),this._afterContentRules&&(i.afterContentClassName=this._afterContentRules.className),i}dispose(){this._beforeContentRules&&(this._beforeContentRules.dispose(),this._beforeContentRules=null),this._afterContentRules&&(this._afterContentRules.dispose(),this._afterContentRules=null),this._styleSheet.unref()}}class no{constructor(e,t,i,n){this._disposables=new he.b,this.description=e,this._styleSheet=i,this._styleSheet.ref(),this.refCount=0;var o=e=>{if(e=new ro(e,n,t),this._disposables.add(e),e.hasContent)return e.className};e=e=>(e=new ro(e,n,t),this._disposables.add(e),e.hasContent?{className:e.className,hasLetterSpacing:e.hasLetterSpacing}:null);this.className=o(0),(i=e(1))&&(this.inlineClassName=i.className,this.inlineClassNameAffectsLetterSpacing=i.hasLetterSpacing),this.beforeContentClassName=o(3),this.afterContentClassName=o(4),n.options.beforeInjectedText&&n.options.beforeInjectedText.contentText&&(i=e(5),this.beforeInjectedText={content:n.options.beforeInjectedText.contentText,inlineClassName:null==i?void 0:i.className,inlineClassNameAffectsLetterSpacing:(null==i?void 0:i.hasLetterSpacing)||n.options.beforeInjectedText.affectsLetterSpacing}),n.options.afterInjectedText&&n.options.afterInjectedText.contentText&&(r=e(6),this.afterInjectedText={content:n.options.afterInjectedText.contentText,inlineClassName:null==r?void 0:r.className,inlineClassNameAffectsLetterSpacing:(null==r?void 0:r.hasLetterSpacing)||n.options.afterInjectedText.affectsLetterSpacing}),this.glyphMarginClassName=o(2),e=n.options,this.isWholeLine=Boolean(e.isWholeLine),this.stickiness=e.rangeBehavior;var r=e.light&&e.light.overviewRulerColor||e.overviewRulerColor;o=e.dark&&e.dark.overviewRulerColor||e.overviewRulerColor;void 0===r&&void 0===o||(this.overviewRuler={color:r||o,darkColor:o||r,position:e.overviewRulerLane||ve.g.Center})}getOptions(e,t){return t?{description:this.description,inlineClassName:this.inlineClassName,beforeContentClassName:this.beforeContentClassName,afterContentClassName:this.afterContentClassName,className:this.className,glyphMarginClassName:this.glyphMarginClassName,isWholeLine:this.isWholeLine,overviewRuler:this.overviewRuler,stickiness:this.stickiness,before:this.beforeInjectedText,after:this.afterInjectedText}:this}dispose(){this._disposables.dispose(),this._styleSheet.unref()}}const oo={color:"color:{0} !important;",opacity:"opacity:{0};",backgroundColor:"background-color:{0};",outline:"outline:{0};",outlineColor:"outline-color:{0};",outlineStyle:"outline-style:{0};",outlineWidth:"outline-width:{0};",border:"border:{0};",borderColor:"border-color:{0};",borderRadius:"border-radius:{0};",borderSpacing:"border-spacing:{0};",borderStyle:"border-style:{0};",borderWidth:"border-width:{0};",fontStyle:"font-style:{0};",fontWeight:"font-weight:{0};",fontSize:"font-size:{0};",fontFamily:"font-family:{0};",textDecoration:"text-decoration:{0};",cursor:"cursor:{0};",letterSpacing:"letter-spacing:{0};",gutterIconPath:"background:{0} center center no-repeat;",gutterIconSize:"background-size:{0};",contentText:"content:'{0}';",contentIconPath:"content:{0};",margin:"margin:{0};",padding:"padding:{0};",width:"width:{0};",height:"height:{0};",verticalAlign:"vertical-align:{0};"};class ro{constructor(e,t,i){this._theme=i.getColorTheme(),this._ruleType=e,this._providerArgs=t,this._usesThemeColors=!1,this._hasContent=!1,this._hasLetterSpacing=!1;let n=so.getClassName(this._providerArgs.key,e);this._providerArgs.parentTypeKey&&(n=n+" "+so.getClassName(this._providerArgs.parentTypeKey,e)),this._className=n,this._unThemedSelector=so.getSelector(this._providerArgs.key,this._providerArgs.parentTypeKey,e),this._buildCSS(),this._usesThemeColors?this._themeListener=i.onDidColorThemeChange(e=>{this._theme=i.getColorTheme(),this._removeCSS(),this._buildCSS()}):this._themeListener=null}dispose(){this._hasContent&&(this._removeCSS(),this._hasContent=!1),this._themeListener&&(this._themeListener.dispose(),this._themeListener=null)}get hasContent(){return this._hasContent}get hasLetterSpacing(){return this._hasLetterSpacing}get className(){return this._className}_buildCSS(){var e=this._providerArgs.options;let t,i,n;switch(this._ruleType){case 0:t=this.getCSSTextForModelDecorationClassName(e),i=this.getCSSTextForModelDecorationClassName(e.light),n=this.getCSSTextForModelDecorationClassName(e.dark);break;case 1:t=this.getCSSTextForModelDecorationInlineClassName(e),i=this.getCSSTextForModelDecorationInlineClassName(e.light),n=this.getCSSTextForModelDecorationInlineClassName(e.dark);break;case 2:t=this.getCSSTextForModelDecorationGlyphMarginClassName(e),i=this.getCSSTextForModelDecorationGlyphMarginClassName(e.light),n=this.getCSSTextForModelDecorationGlyphMarginClassName(e.dark);break;case 3:t=this.getCSSTextForModelDecorationContentClassName(e.before),i=this.getCSSTextForModelDecorationContentClassName(e.light&&e.light.before),n=this.getCSSTextForModelDecorationContentClassName(e.dark&&e.dark.before);break;case 4:t=this.getCSSTextForModelDecorationContentClassName(e.after),i=this.getCSSTextForModelDecorationContentClassName(e.light&&e.light.after),n=this.getCSSTextForModelDecorationContentClassName(e.dark&&e.dark.after);break;case 5:t=this.getCSSTextForModelDecorationContentClassName(e.beforeInjectedText),i=this.getCSSTextForModelDecorationContentClassName(e.light&&e.light.beforeInjectedText),n=this.getCSSTextForModelDecorationContentClassName(e.dark&&e.dark.beforeInjectedText);break;case 6:t=this.getCSSTextForModelDecorationContentClassName(e.afterInjectedText),i=this.getCSSTextForModelDecorationContentClassName(e.light&&e.light.afterInjectedText),n=this.getCSSTextForModelDecorationContentClassName(e.dark&&e.dark.afterInjectedText);break;default:throw new Error("Unknown rule type: "+this._ruleType)}const o=this._providerArgs.styleSheet;let r=!1;0<t.length&&(o.insertRule(`${this._unThemedSelector} {${t}}`,0),r=!0),0<i.length&&(o.insertRule(`.vs${this._unThemedSelector} {${i}}`,0),r=!0),0<n.length&&(o.insertRule(`.vs-dark${this._unThemedSelector}, .hc-black${this._unThemedSelector} {${n}}`,0),r=!0),this._hasContent=r}_removeCSS(){this._providerArgs.styleSheet.removeRulesContainingSelector(this._unThemedSelector)}getCSSTextForModelDecorationClassName(e){if(!e)return"";const t=[];return this.collectCSSText(e,["backgroundColor"],t),this.collectCSSText(e,["outline","outlineColor","outlineStyle","outlineWidth"],t),this.collectBorderSettingsCSSText(e,t),t.join("")}getCSSTextForModelDecorationInlineClassName(e){if(!e)return"";const t=[];return this.collectCSSText(e,["fontStyle","fontWeight","textDecoration","cursor","color","opacity","letterSpacing"],t),e.letterSpacing&&(this._hasLetterSpacing=!0),t.join("")}getCSSTextForModelDecorationContentClassName(e){if(!e)return"";const t=[];if(void 0!==e){if(this.collectBorderSettingsCSSText(e,t),void 0!==e.contentIconPath&&t.push(Le.v(oo.contentIconPath,X.s(z.a.revive(e.contentIconPath)))),"string"==typeof e.contentText){var i=e.contentText.match(/^.*$/m)[0].replace(/['\\]/g,"\\$&");t.push(Le.v(oo.contentText,i))}this.collectCSSText(e,["verticalAlign","fontStyle","fontWeight","fontSize","fontFamily","textDecoration","color","opacity","backgroundColor","margin","padding"],t),this.collectCSSText(e,["width","height"],t)&&t.push("display:inline-block;")}return t.join("")}getCSSTextForModelDecorationGlyphMarginClassName(e){if(!e)return"";const t=[];return void 0!==e.gutterIconPath&&(t.push(Le.v(oo.gutterIconPath,X.s(z.a.revive(e.gutterIconPath)))),void 0!==e.gutterIconSize&&t.push(Le.v(oo.gutterIconSize,e.gutterIconSize))),t.join("")}collectBorderSettingsCSSText(e,t){return!!this.collectCSSText(e,["border","borderColor","borderRadius","borderSpacing","borderStyle","borderWidth"],t)&&(t.push(Le.v("box-sizing: border-box;")),!0)}collectCSSText(e,t,i){var n,o=i.length;for(n of t){var r=this.resolveValue(e[n]);"string"==typeof r&&i.push(Le.v(oo[n],r))}return i.length!==o}resolveValue(e){if(Object(me.b)(e)){this._usesThemeColors=!0;const t=this._theme.getColor(e.id);return t?t.toString():"transparent"}return e}}class so{static getClassName(e,t){return"ced-"+e+"-"+t}static getSelector(e,t,i){let n=".monaco-editor ."+this.getClassName(e,i);return t&&(n=n+"."+this.getClassName(t,i)),3===i?n+="::before":4===i&&(n+="::after"),n}}Li=function(e,t){return function(i,n){t(i,n,e)}};let ao=class extends vt{constructor(e,t,i){super(e,i),this.onCodeEditorAdd(()=>this._checkContextKey()),this.onCodeEditorRemove(()=>this._checkContextKey()),this._editorIsOpen=t.createKey("editorIsOpen",!1),this._activeCodeEditor=null}_checkContextKey(){let e=!1;for(const t of this.listCodeEditors())if(!t.isSimpleWidget){e=!0;break}this._editorIsOpen.set(e)}setActiveCodeEditor(e){this._activeCodeEditor=e}getActiveCodeEditor(){return this._activeCodeEditor}openCodeEditor(e,t,i){return t?Promise.resolve(this.doOpenEditor(t,e)):Promise.resolve(null)}doOpenEditor(e,t){if(!this.findModel(e,t.resource)){if(t.resource){var i=t.resource.scheme;if(i===te.c.http||i===te.c.https)return Object(X.Z)(t.resource.toString()),e}return null}return(t=t.options?t.options.selection:null)&&("number"==typeof t.endLineNumber&&"number"==typeof t.endColumn?(e.setSelection(t),e.revealRangeInCenter(t,1)):(t={lineNumber:t.startLineNumber,column:t.startColumn},e.setPosition(t),e.revealPositionInCenter(t,1))),e}findModel(e,t){const i=e.getModel();return i&&i.uri.toString()!==t.toString()?null:i}};ao=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;0<=a;a--)(o=e[a])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s}([Li(1,pi.b),Li(2,rn.b)],ao);var lo=i(140);t=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;0<=a;a--)(o=e[a])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s},mt=function(e,t){return function(i,n){t(i,n,e)}};let co=0,ho=!1,uo=class extends qi.a{constructor(e,t,i,n,o,r,s,a,l,c){const d=Object.assign({},t);d.ariaLabel=d.ariaLabel||Di.h.editorViewAccessibleLabel,d.ariaLabel=d.ariaLabel+";"+Di.h.accessibilityHelpMessage,super(e,d,{},i,n,o,r,a,l,c),this._standaloneKeybindingService=s instanceof Pi?s:null,function(e){if(!e){if(ho)return;ho=!0}Ki.b(e||document.body)}(d.ariaContainerElement)}addCommand(e,t,i){if(!this._standaloneKeybindingService)return console.warn("Cannot add command because the editor is configured with an unrecognized KeybindingService"),null;var n="DYNAMIC_"+ ++co;i=pi.a.deserialize(i);return this._standaloneKeybindingService.addDynamicKeybinding(n,e,t,i),n}createContextKey(e,t){return this._contextKeyService.createKey(e,t)}addAction(e){if("string"!=typeof e.id||"string"!=typeof e.label||"function"!=typeof e.run)throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");if(!this._standaloneKeybindingService)return console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),he.a.None;const t=e.id;var i=e.label,n=pi.a.and(pi.a.equals("editorId",this.getId()),pi.a.deserialize(e.precondition)),o=e.keybindings,r=pi.a.and(n,pi.a.deserialize(e.keybindingContext)),s=e.contextMenuGroupId||null,a=e.contextMenuOrder||0,l=(t,...i)=>Promise.resolve(e.run(this,...i));const c=new he.b;var d=this.getId()+":"+t;if(c.add(ne.a.registerCommand(d,l)),s&&c.add(Zn.d.appendMenuItem(Zn.b.EditorContext,{command:{id:d,title:i},when:n,group:s,order:a})),Array.isArray(o))for(const e of o)c.add(this._standaloneKeybindingService.addDynamicKeybinding(d,e,l,r));return n=new Gn.a(d,i,i,n,l,this._contextKeyService),this._actions[t]=n,c.add(Object(he.i)(()=>{delete this._actions[t]})),c}_triggerCommand(e,t){if(this._codeEditorService instanceof ao)try{this._codeEditorService.setActiveCodeEditor(this),super._triggerCommand(e,t)}finally{this._codeEditorService.setActiveCodeEditor(null)}else super._triggerCommand(e,t)}};uo=t([mt(2,wn.a),mt(3,Z.a),mt(4,ne.b),mt(5,pi.b),mt(6,Xn.a),mt(7,rn.b),mt(8,Si.a),mt(9,Qn.b)],uo);let go=class extends uo{constructor(e,t,i,n,o,r,s,a,l,c,d,h,u,g,p){const f=Object.assign({},t);zi(h,f,!1);var m=c.registerEditorContainer(e);let v;"string"==typeof f.theme&&c.setTheme(f.theme),void 0!==f.autoDetectHighContrast&&c.setAutoDetectHighContrast(Boolean(f.autoDetectHighContrast)),t=f.model,delete f.model,super(e,f,n,o,r,s,a,c,d,u),this._contextViewService=l,this._configurationService=h,this._standaloneThemeService=c,this._register(i),this._register(m),void 0===t?(v=fo(g,p,f.value||"",f.language||lo.a.text,void 0),this._ownsModel=!0):(v=t,this._ownsModel=!1),this._attachModel(v),v&&(t={oldModelUrl:null,newModelUrl:v.uri},this._onDidChangeModel.fire(t))}dispose(){super.dispose()}updateOptions(e){zi(this._configurationService,e,!1),"string"==typeof e.theme&&this._standaloneThemeService.setTheme(e.theme),void 0!==e.autoDetectHighContrast&&this._standaloneThemeService.setAutoDetectHighContrast(Boolean(e.autoDetectHighContrast)),super.updateOptions(e)}_attachModel(e){super._attachModel(e),this._modelData&&this._contextViewService.setContainer(this._modelData.view.domNode.domNode)}_postDetachModelCleanup(e){super._postDetachModelCleanup(e),e&&this._ownsModel&&(e.dispose(),this._ownsModel=!1)}};go=t([mt(3,wn.a),mt(4,Z.a),mt(5,ne.b),mt(6,pi.b),mt(7,Xn.a),mt(8,yn.b),mt(9,Yn.a),mt(10,Si.a),mt(11,oi.a),mt(12,Qn.b),mt(13,ut.a),mt(14,Ce.a)],go);let po=class extends Mn{constructor(e,t,i,n,o,r,s,a,l,c,d,h,u,g,p){var f=Object.assign({},t);zi(h,f,!0),t=c.registerEditorContainer(e),"string"==typeof f.theme&&c.setTheme(f.theme),void 0!==f.autoDetectHighContrast&&c.setAutoDetectHighContrast(Boolean(f.autoDetectHighContrast)),super(e,f,{},p,a,o,n,l,c,d,u,g),this._contextViewService=s,this._configurationService=h,this._standaloneThemeService=c,this._register(i),this._register(t),this._contextViewService.setContainer(this._containerDomElement)}dispose(){super.dispose()}updateOptions(e){zi(this._configurationService,e,!0),"string"==typeof e.theme&&this._standaloneThemeService.setTheme(e.theme),void 0!==e.autoDetectHighContrast&&this._standaloneThemeService.setAutoDetectHighContrast(Boolean(e.autoDetectHighContrast)),super.updateOptions(e)}_createInnerEditor(e,t,i){return e.createInstance(uo,t,i)}getOriginalEditor(){return super.getOriginalEditor()}getModifiedEditor(){return super.getModifiedEditor()}addCommand(e,t,i){return this.getModifiedEditor().addCommand(e,t,i)}createContextKey(e,t){return this.getModifiedEditor().createContextKey(e,t)}addAction(e){return this.getModifiedEditor().addAction(e)}};function fo(e,t,i,n,o){if(i=i||"",n)return mo(e,i,t.create(n),o);{n=i.indexOf("\n");let r=i;return-1!==n&&(r=i.substring(0,n)),mo(e,i,t.createByFilepathOrFirstLine(o||null,r),o)}}function mo(e,t,i,n){return e.createModel(t,i,n)}po=t([mt(3,wn.a),mt(4,pi.b),mt(5,Xn.a),mt(6,yn.b),mt(7,we.a),mt(8,Z.a),mt(9,Yn.a),mt(10,Si.a),mt(11,oi.a),mt(12,yn.a),mt(13,Dn.a),mt(14,kn.a)],po);var vo=i(158),bo=i(59);const _o=Object.prototype.hasOwnProperty;class wo{constructor(){this._languageIdToLanguage=[],this._languageToLanguageId=new Map,this._register(_e.a,0),this._register(vo.b,1),this._nextLanguageId=2}_register(e,t){this._languageIdToLanguage[t]=e,this._languageToLanguageId.set(e,t)}register(e){var t;this._languageToLanguageId.has(e)||(t=this._nextLanguageId++,this._register(e,t))}encodeLanguageId(e){return this._languageToLanguageId.get(e)||0}decodeLanguageId(e){return this._languageIdToLanguage[e]||_e.a}}class Co extends he.a{constructor(e=!0,t=!1){super(),this._onDidChange=this._register(new W.b),this.onDidChange=this._onDidChange.event,Co.instanceCount++,this._warnOnOverwrite=t,this.languageIdCodec=new wo,this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},e&&(this._initializeFromRegistry(),this._register(vo.a.onDidChangeLanguages(e=>{this._initializeFromRegistry()})))}dispose(){Co.instanceCount--,super.dispose()}_initializeFromRegistry(){this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},lo.b();var e=vo.a.getLanguages();this._registerLanguages(e)}_registerLanguages(e){for(const t of e)this._registerLanguage(t);this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},Object.keys(this._languages).forEach(e=>{let t=this._languages[e];t.name&&(this._nameMap[t.name]=t.identifier),t.aliases.forEach(e=>{this._lowercaseNameMap[e.toLowerCase()]=t.identifier}),t.mimetypes.forEach(e=>{this._mimeTypesMap[e]=t.identifier})}),bo.a.as(ri.a.Configuration).registerOverrideIdentifiers(vo.a.getLanguages().map(e=>e.id)),this._onDidChange.fire()}_registerLanguage(e){var t=e.id;let i;_o.call(this._languages,t)?i=this._languages[t]:(this.languageIdCodec.register(t),i={identifier:t,name:null,mimetypes:[],aliases:[],extensions:[],filenames:[],configurationFiles:[]},this._languages[t]=i),this._mergeLanguage(i,e)}_mergeLanguage(e,t){var i=t.id;let n=null;if(Array.isArray(t.mimetypes)&&0<t.mimetypes.length&&(e.mimetypes.push(...t.mimetypes),n=t.mimetypes[0]),n||(n="text/x-"+i,e.mimetypes.push(n)),Array.isArray(t.extensions))for(var o of(t.configuration?e.extensions=t.extensions.concat(e.extensions):e.extensions=e.extensions.concat(t.extensions),t.extensions))lo.d({id:i,mime:n,extension:o},this._warnOnOverwrite);if(Array.isArray(t.filenames))for(var r of t.filenames)lo.d({id:i,mime:n,filename:r},this._warnOnOverwrite),e.filenames.push(r);if(Array.isArray(t.filenamePatterns))for(var s of t.filenamePatterns)lo.d({id:i,mime:n,filepattern:s},this._warnOnOverwrite);if("string"==typeof t.firstLine&&0<t.firstLine.length){let o=t.firstLine;"^"!==o.charAt(0)&&(o="^"+o);try{var a=new RegExp(o);Le.N(a)||lo.d({id:i,mime:n,firstline:a},this._warnOnOverwrite)}catch(e){Object(Se.f)(e)}}e.aliases.push(i);let l=null;if(void 0!==t.aliases&&Array.isArray(t.aliases)&&(l=0===t.aliases.length?[null]:t.aliases),null!==l)for(const t of l)t&&0!==t.length&&e.aliases.push(t);var c=null!==l&&0<l.length;c&&null===l[0]||(a=(c?l[0]:null)||i,!c&&e.name||(e.name=a)),t.configuration&&e.configurationFiles.push(t.configuration)}isRegisteredMode(e){return!!_o.call(this._mimeTypesMap,e)||_o.call(this._languages,e)}getModeIdForLanguageNameLowercase(e){return _o.call(this._lowercaseNameMap,e)?this._lowercaseNameMap[e]:null}extractModeIds(e){return e?e.split(",").map(e=>e.trim()).map(e=>_o.call(this._mimeTypesMap,e)?this._mimeTypesMap[e]:e).filter(e=>_o.call(this._languages,e)):[]}validateLanguageId(e){return e&&e!==_e.a?_o.call(this._languages,e)?e:null:_e.a}getModeIdsFromFilepathOrFirstLine(e,t){if(!e&&!t)return[];let i=lo.c(e,t);return this.extractModeIds(i.join(","))}}Co.instanceCount=0;class yo{constructor(e,t){let i;this._selector=t,this.languageId=this._selector(),this._onDidChange=new W.b({onFirstListenerAdd:()=>{i=e(()=>this._evaluate())},onLastListenerRemove:()=>{i.dispose()}}),this.onDidChange=this._onDidChange.event}_evaluate(){var e=this._selector();e!==this.languageId&&(this.languageId=e,this._onDidChange.fire(this.languageId))}}class xo extends he.a{constructor(e=!1){super(),this._onDidEncounterLanguage=this._register(new W.b),this.onDidEncounterLanguage=this._onDidEncounterLanguage.event,this._onLanguagesMaybeChanged=this._register(new W.b({leakWarningThreshold:200})),this.onLanguagesMaybeChanged=this._onLanguagesMaybeChanged.event,xo.instanceCount++,this._encounteredLanguages=new Set,this._registry=this._register(new Co(!0,e)),this.languageIdCodec=this._registry.languageIdCodec,this._register(this._registry.onDidChange(()=>this._onLanguagesMaybeChanged.fire()))}dispose(){xo.instanceCount--,super.dispose()}isRegisteredMode(e){return this._registry.isRegisteredMode(e)}getModeIdForLanguageName(e){return this._registry.getModeIdForLanguageNameLowercase(e)}getModeIdByFilepathOrFirstLine(e,t){return t=this._registry.getModeIdsFromFilepathOrFirstLine(e,t),Object(pt.j)(t,null)}getModeId(e){return e=this._registry.extractModeIds(e),Object(pt.j)(e,null)}validateLanguageId(e){return this._registry.validateLanguageId(e)}create(e){return new yo(this.onLanguagesMaybeChanged,()=>{var t=this.getModeId(e);return this._createModeAndGetLanguageIdentifier(t)})}createByFilepathOrFirstLine(e,t){return new yo(this.onLanguagesMaybeChanged,()=>{var i=this.getModeIdByFilepathOrFirstLine(e,t);return this._createModeAndGetLanguageIdentifier(i)})}_createModeAndGetLanguageIdentifier(e){return e=this.validateLanguageId(e||"plaintext")||_e.a,this._getOrCreateMode(e),e}triggerMode(e){e=this.getModeId(e),this._getOrCreateMode(e||"plaintext")}_getOrCreateMode(e){this._encounteredLanguages.has(e)||(this._encounteredLanguages.add(e),e=this.validateLanguageId(e)||_e.a,this._onDidEncounterLanguage.fire(e))}}xo.instanceCount=0;var So=i(243),ko=i(14);class Do{constructor(e,t,i,n,o){this._parsedThemeRuleBrand=void 0,this.token=e,this.index=t,this.fontStyle=i,this.foreground=n,this.background=o}}const Lo=/^#?([0-9A-Fa-f]{6})([0-9A-Fa-f]{2})?$/;class Oo{constructor(){this._lastColorId=0,this._id2color=[],this._color2id=new Map}getId(e){if(null===e)return 0;const t=e.match(Lo);if(!t)throw new Error("Illegal value for token color: "+e);e=t[1].toUpperCase();let i=this._color2id.get(e);return i||(i=++this._lastColorId,this._color2id.set(e,i),this._id2color[i]=ko.a.fromHex("#"+e),i)}getColorMap(){return this._id2color.slice(0)}}class Eo{constructor(e,t){this._colorMap=e,this._root=t,this._cache=new Map}static createFromRawTokenTheme(e,t){return this.createFromParsedTokenTheme(function(e){if(!e||!Array.isArray(e))return[];let t=[],i=0;for(let o=0,r=e.length;o<r;o++){let r=e[o],s=-1;if("string"==typeof r.fontStyle){s=0;var n=r.fontStyle.split(" ");for(let e=0,t=n.length;e<t;e++)switch(n[e]){case"italic":s|=1;break;case"bold":s|=2;break;case"underline":s|=4}}let a=null;"string"==typeof r.foreground&&(a=r.foreground);let l=null;"string"==typeof r.background&&(l=r.background),t[i++]=new Do(r.token||"",o,s,a,l)}return t}(e),t)}static createFromParsedTokenTheme(e,t){return function(e,t){e.sort((e,t)=>{var i=function(e,t){return e<t?-1:t<e?1:0}(e.token,t.token);return 0!==i?i:e.index-t.index});let i=0,n="000000",o="ffffff";for(;1<=e.length&&""===e[0].token;){var r=e.shift();-1!==r.fontStyle&&(i=r.fontStyle),null!==r.foreground&&(n=r.foreground),null!==r.background&&(o=r.background)}let s=new Oo;for(var a of t)s.getId(a);var l=s.getId(n);t=s.getId(o),t=new Io(i,l,t);let c=new To(t);for(let t=0,i=e.length;t<i;t++){var d=e[t];c.insert(d.token,d.fontStyle,s.getId(d.foreground),s.getId(d.background))}return new Eo(s,c)}(e,t)}getColorMap(){return this._colorMap.getColorMap()}_match(e){return this._root.match(e)}match(e,t){let i=this._cache.get(t);var n,o;return void 0===i&&(n=this._match(t),o=function(e){if(!(e=e.match(No)))return 0;switch(e[1]){case"comment":return 1;case"string":return 2;case"regex":case"regexp":return 4}throw new Error("Unexpected match for standard token type!")}(t),i=(n.metadata|o<<8)>>>0,this._cache.set(t,i)),(i|e<<0)>>>0}}const No=/\b(comment|string|regex|regexp)\b/;class Io{constructor(e,t,i){this._themeTrieElementRuleBrand=void 0,this._fontStyle=e,this._foreground=t,this._background=i,this.metadata=(this._fontStyle<<11|this._foreground<<14|this._background<<23)>>>0}clone(){return new Io(this._fontStyle,this._foreground,this._background)}acceptOverwrite(e,t,i){-1!==e&&(this._fontStyle=e),0!==t&&(this._foreground=t),0!==i&&(this._background=i),this.metadata=(this._fontStyle<<11|this._foreground<<14|this._background<<23)>>>0}}class To{constructor(e){this._themeTrieElementBrand=void 0,this._mainRule=e,this._children=new Map}match(e){if(""===e)return this._mainRule;var t=e.indexOf(".");let i,n;n=-1===t?(i=e,""):(i=e.substring(0,t),e.substring(t+1));let o=this._children.get(i);return void 0!==o?o.match(n):this._mainRule}insert(e,t,i,n){if(""!==e){var o=e.indexOf(".");let r,s;s=-1===o?(r=e,""):(r=e.substring(0,o),e.substring(o+1));let a=this._children.get(r);void 0===a&&(a=new To(this._mainRule.clone()),this._children.set(r,a)),a.insert(s,t,i,n)}else this._mainRule.acceptOverwrite(t,i,n)}}const Mo={base:"vs",inherit:!1,rules:[{token:"",foreground:"000000",background:"fffffe"},{token:"invalid",foreground:"cd3131"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"001188"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"delimiter.xml",foreground:"0000FF"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"FF0000"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"FF0000"},{token:"attribute.value",foreground:"0451A5"},{token:"attribute.value.number",foreground:"098658"},{token:"attribute.value.unit",foreground:"098658"},{token:"attribute.value.html",foreground:"0000FF"},{token:"attribute.value.xml",foreground:"0000FF"},{token:"string",foreground:"A31515"},{token:"string.html",foreground:"0000FF"},{token:"string.sql",foreground:"FF0000"},{token:"string.yaml",foreground:"0451A5"},{token:"keyword",foreground:"0000FF"},{token:"keyword.json",foreground:"0451A5"},{token:"keyword.flow",foreground:"AF00DB"},{token:"keyword.flow.scss",foreground:"0000FF"},{token:"operator.scss",foreground:"666666"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"C700C7"}],colors:{[on.r]:"#FFFFFE",[on.B]:"#000000",[on.J]:"#E5EBF1",[nn.A]:"#D3D3D3",[nn.a]:"#939393",[on.X]:"#ADD6FF4D"}},Ao={base:"vs-dark",inherit:!1,rules:[{token:"",foreground:"D4D4D4",background:"1E1E1E"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"74B0DF"},{token:"variable.predefined",foreground:"4864AA"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"B5CEA8"},{token:"number.hex",foreground:"5BB498"},{token:"regexp",foreground:"B46695"},{token:"annotation",foreground:"cc6666"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"DCDCDC"},{token:"delimiter.html",foreground:"808080"},{token:"delimiter.xml",foreground:"808080"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"A79873"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"DD6A6F"},{token:"metatag.content.html",foreground:"9CDCFE"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key.json",foreground:"9CDCFE"},{token:"string.value.json",foreground:"CE9178"},{token:"attribute.name",foreground:"9CDCFE"},{token:"attribute.value",foreground:"CE9178"},{token:"attribute.value.number.css",foreground:"B5CEA8"},{token:"attribute.value.unit.css",foreground:"B5CEA8"},{token:"attribute.value.hex.css",foreground:"D4D4D4"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"keyword.json",foreground:"CE9178"},{token:"keyword.flow.scss",foreground:"569CD6"},{token:"operator.scss",foreground:"909090"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[on.r]:"#1E1E1E",[on.B]:"#D4D4D4",[on.J]:"#3A3D41",[nn.A]:"#404040",[nn.a]:"#707070",[on.X]:"#ADD6FF26"}},Po={base:"hc-black",inherit:!1,rules:[{token:"",foreground:"FFFFFF",background:"000000"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"1AEBFF"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"FFFFFF"},{token:"regexp",foreground:"C0C0C0"},{token:"annotation",foreground:"569CD6"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"FFFF00"},{token:"delimiter.html",foreground:"FFFF00"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta",foreground:"D4D4D4"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"569CD6"},{token:"metatag.content.html",foreground:"1AEBFF"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key",foreground:"9CDCFE"},{token:"string.value",foreground:"CE9178"},{token:"attribute.name",foreground:"569CD6"},{token:"attribute.value",foreground:"3FF23F"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[on.r]:"#000000",[on.B]:"#FFFFFF",[nn.A]:"#FFFFFF",[nn.a]:"#FFFFFF"}};var Ro=i(133);const Fo="vs",jo="vs-dark",Bo="hc-black",Wo=bo.a.as(on.a.ColorContribution),Vo=bo.a.as(rn.a.ThemingContribution);class zo{constructor(e,t){this.semanticHighlighting=!1,t=(this.themeData=t).base,0<e.length?(Ho(e)?this.id=e:this.id=t+" "+e,this.themeName=e):(this.id=t,this.themeName=t),this.colors=null,this.defaultColors=Object.create(null),this._tokenTheme=null}get base(){return this.themeData.base}notifyBaseUpdated(){this.themeData.inherit&&(this.colors=null,this._tokenTheme=null)}getColors(){if(!this.colors){const n=new Map;for(var e in this.themeData.colors)n.set(e,ko.a.fromHex(this.themeData.colors[e]));if(this.themeData.inherit){var t,i=Uo(this.themeData.base);for(t in i.colors)n.has(t)||n.set(t,ko.a.fromHex(i.colors[t]))}this.colors=n}return this.colors}getColor(e,t){return this.getColors().get(e)||(!1!==t?this.getDefault(e):void 0)}getDefault(e){let t=this.defaultColors[e];return t||(t=Wo.resolveDefaultColor(e,this),this.defaultColors[e]=t,t)}defines(e){return Object.prototype.hasOwnProperty.call(this.getColors(),e)}get type(){switch(this.base){case Fo:return Ro.a.LIGHT;case Bo:return Ro.a.HIGH_CONTRAST;default:return Ro.a.DARK}}get tokenTheme(){if(!this._tokenTheme){let i=[],n=[];this.themeData.inherit&&(i=(t=Uo(this.themeData.base)).rules,t.encodedTokensColors&&(n=t.encodedTokensColors));var e=this.themeData.colors["editor.foreground"],t=this.themeData.colors["editor.background"];if(e||t){const n={token:""};e&&(n.foreground=e),t&&(n.background=t),i.push(n)}i=i.concat(this.themeData.rules),this.themeData.encodedTokensColors&&(n=this.themeData.encodedTokensColors),this._tokenTheme=Eo.createFromRawTokenTheme(i,n)}return this._tokenTheme}getTokenStyleMetadata(e,t,i){return e=this.tokenTheme._match([e].concat(t).join(".")).metadata,t=be.E.getForeground(e),e=be.E.getFontStyle(e),{foreground:t,italic:Boolean(1&e),bold:Boolean(2&e),underline:Boolean(4&e)}}}function Ho(e){return e===Fo||e===jo||e===Bo}function Uo(e){switch(e){case Fo:return Mo;case jo:return Ao;case Bo:return Po}}function $o(e){var t=Uo(e);return new zo(e,t)}class Ko extends he.a{constructor(){super(),this._onColorThemeChange=this._register(new W.b),this.onDidColorThemeChange=this._onColorThemeChange.event,this._environment=Object.create(null),this._autoDetectHighContrast=!0,this._knownThemes=new Map,this._knownThemes.set(Fo,$o(Fo)),this._knownThemes.set(jo,$o(jo)),this._knownThemes.set(Bo,$o(Bo));const e=function(){const e=new W.b,t=Object(an.a)();return t.onDidChange(()=>e.fire()),{onDidChange:e.event,getCSS(){const e={};var i,n;const o=[];for(i of t.getIcons()){var r=(i=>{let n=i.defaults;for(;rn.d.isThemeIcon(n);){var o=t.getIcon(n.id);if(!o)return;n=o.defaults}var r=n.fontId;if(r){var s=t.getIconFont(r);if(s)return e[r]=s,`.codicon-${i.id}:before { content: '${n.fontCharacter}'; font-family: ${Object(X.r)(r)}; }`}return`.codicon-${i.id}:before { content: '${n.fontCharacter}'; }`})(i);r&&o.push(r)}for(n in e){var s=e[n].definition.src.map(e=>`${Object(X.s)(e.location)} format('${e.format}')`).join(", ");o.push(`@font-face { src: ${s}; font-family: ${Object(X.r)(n)}; font-display: block; }`)}return o.join("\n")}}}();this._codiconCSS=e.getCSS(),this._themeCSS="",this._allCSS=`${this._codiconCSS}\n${this._themeCSS}`,this._globalStyleElement=null,this._styleElements=[],this._colorMapOverride=null,this.setTheme(Fo),e.onDidChange(()=>{this._codiconCSS=e.getCSS(),this._updateCSS()}),X.m("(forced-colors: active)",()=>{this._updateActualTheme()})}registerEditorContainer(e){return X.O(e)?this._registerShadowDomContainer(e):this._registerRegularEditorContainer()}_registerRegularEditorContainer(){return this._globalStyleElement||(this._globalStyleElement=X.w(),this._globalStyleElement.className="monaco-colors",this._globalStyleElement.textContent=this._allCSS,this._styleElements.push(this._globalStyleElement)),he.a.None}_registerShadowDomContainer(e){const t=X.w(e);return t.className="monaco-colors",t.textContent=this._allCSS,this._styleElements.push(t),{dispose:()=>{for(let e=0;e<this._styleElements.length;e++)if(this._styleElements[e]===t)return void this._styleElements.splice(e,1)}}}defineTheme(e,t){if(!/^[a-z0-9\-]+$/i.test(e))throw new Error("Illegal theme name!");if(!Ho(t.base)&&!Ho(e))throw new Error("Illegal theme base!");this._knownThemes.set(e,new zo(e,t)),Ho(e)&&this._knownThemes.forEach(t=>{t.base===e&&t.notifyBaseUpdated()}),this._theme.themeName===e&&this.setTheme(e)}getColorTheme(){return this._theme}setColorMapOverride(e){this._colorMapOverride=e,this._updateThemeOrColorMap()}setTheme(e){let t;t=this._knownThemes.has(e)?this._knownThemes.get(e):this._knownThemes.get(Fo),this._desiredTheme=t,this._updateActualTheme()}_updateActualTheme(){var e=this._autoDetectHighContrast&&window.matchMedia("(forced-colors: active)").matches?this._knownThemes.get(Bo):this._desiredTheme;this._theme!==e&&(this._theme=e,this._updateThemeOrColorMap())}setAutoDetectHighContrast(e){this._autoDetectHighContrast=e,this._updateActualTheme()}_updateThemeOrColorMap(){let e=[],t={},i={addRule:i=>{t[i]||(e.push(i),t[i]=!0)}};Vo.getThemingParticipants().forEach(e=>e(this._theme,i,this._environment));var n=this._colorMapOverride||this._theme.tokenTheme.getColorMap();i.addRule(function(e){let t=[];for(let n=1,o=e.length;n<o;n++){var i=e[n];t[n]=`.mtk${n} { color: ${i}; }`}return t.push(".mtki { font-style: italic; }"),t.push(".mtkb { font-weight: bold; }"),t.push(".mtku { text-decoration: underline; text-underline-position: under; }"),t.join("\n")}(n)),this._themeCSS=e.join("\n"),this._updateCSS(),be.F.setColorMap(n),this._onColorThemeChange.fire(this._theme)}_updateCSS(){this._allCSS=`${this._codiconCSS}\n${this._themeCSS}`,this._styleElements.forEach(e=>e.textContent=this._allCSS)}getFileIconTheme(){return{hasFileIcons:!1,hasFolderIcons:!1,hidesExplorerArrows:!1}}}var qo=i(54);re=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;0<=a;a--)(o=e[a])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s},vt=function(e,t){return function(i,n){t(i,n,e)}};const Go="data-keybinding-context";class Yo{constructor(e,t){this._id=e,this._parent=t,this._value=Object.create(null),this._value._contextId=e}setValue(e,t){return this._value[e]!==t&&(this._value[e]=t,!0)}removeValue(e){return e in this._value&&(delete this._value[e],!0)}getValue(e){var t=this._value[e];return void 0===t&&this._parent?this._parent.getValue(e):t}}class Zo extends Yo{constructor(){super(-1,null)}setValue(e,t){return!1}removeValue(e){return!1}getValue(e){}}Zo.INSTANCE=new Zo;class Xo extends Yo{constructor(e,t,i){super(e,null),this._configurationService=t,this._values=J.c.forConfigKeys(),this._listener=this._configurationService.onDidChangeConfiguration(e=>{if(6===e.source){var t=Array.from(qo.a.map(this._values,([e])=>e));this._values.clear(),i.fire(new er(t))}else{const t=[];for(const i of e.affectedKeys){var n="config."+i,o=this._values.findSuperstr(n);void 0!==o&&(t.push(...qo.a.map(o,([e])=>e)),this._values.deleteSuperstr(n)),this._values.has(n)&&(t.push(n),this._values.delete(n))}i.fire(new er(t))}})}dispose(){this._listener.dispose()}getValue(e){if(0!==e.indexOf(Xo._keyPrefix))return super.getValue(e);if(this._values.has(e))return this._values.get(e);var t=e.substr(Xo._keyPrefix.length),i=this._configurationService.getValue(t);let n=void 0;switch(typeof i){case"number":case"boolean":case"string":n=i;break;default:n=Array.isArray(i)?JSON.stringify(i):i}return this._values.set(e,n),n}setValue(e,t){return super.setValue(e,t)}removeValue(e){return super.removeValue(e)}}Xo._keyPrefix="config.";class Qo{constructor(e,t,i){this._service=e,this._key=t,this._defaultValue=i,this.reset()}set(e){this._service.setContext(this._key,e)}reset(){void 0===this._defaultValue?this._service.removeContext(this._key):this._service.setContext(this._key,this._defaultValue)}get(){return this._service.getContextKeyValue(this._key)}}class Jo{constructor(e){this.key=e}affectsSome(e){return e.has(this.key)}}class er{constructor(e){this.keys=e}affectsSome(e){for(const t of this.keys)if(e.has(t))return!0;return!1}}class tr{constructor(e){this.events=e}affectsSome(e){for(const t of this.events)if(t.affectsSome(e))return!0;return!1}}class ir{constructor(e){this._onDidChangeContext=new W.e({merge:e=>new tr(e)}),this.onDidChangeContext=this._onDidChangeContext.event,this._isDisposed=!1,this._myContextId=e}createKey(e,t){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new Qo(this,e,t)}bufferChangeEvents(e){this._onDidChangeContext.pause();try{e()}finally{this._onDidChangeContext.resume()}}createScoped(e){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new or(this,e)}contextMatchesRules(e){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");var t=this.getContextValuesContainer(this._myContextId);return fi.contextMatchesRules(t,e)}getContextKeyValue(e){if(!this._isDisposed)return this.getContextValuesContainer(this._myContextId).getValue(e)}setContext(e,t){if(!this._isDisposed){const i=this.getContextValuesContainer(this._myContextId);i&&i.setValue(e,t)&&this._onDidChangeContext.fire(new Jo(e))}}removeContext(e){this._isDisposed||this.getContextValuesContainer(this._myContextId).removeValue(e)&&this._onDidChangeContext.fire(new Jo(e))}getContext(e){return this._isDisposed?Zo.INSTANCE:this.getContextValuesContainer(function(e){for(;e;){if(e.hasAttribute(Go)){var t=e.getAttribute(Go);return t?parseInt(t,10):NaN}e=e.parentElement}return 0}(e))}}let nr=class extends ir{constructor(e){super(0),this._contexts=new Map,this._toDispose=new he.b,this._lastContextId=0,e=new Xo(this._myContextId,e,this._onDidChangeContext),this._contexts.set(this._myContextId,e),this._toDispose.add(e)}dispose(){this._onDidChangeContext.dispose(),this._isDisposed=!0,this._toDispose.dispose()}getContextValuesContainer(e){return!this._isDisposed&&this._contexts.get(e)||Zo.INSTANCE}createChildContext(e=this._myContextId){if(this._isDisposed)throw new Error("ContextKeyService has been disposed");var t=++this._lastContextId;return this._contexts.set(t,new Yo(t,this.getContextValuesContainer(e))),t}disposeContext(e){this._isDisposed||this._contexts.delete(e)}};nr=re([vt(0,oi.a)],nr);class or extends ir{constructor(e,t){if(super(e.createChildContext()),this._parentChangeListener=new he.d,this._parent=e,this._updateParentChangeListener(),this._domNode=t,this._domNode.hasAttribute(Go)){let e="";this._domNode.classList&&(e=Array.from(this._domNode.classList.values()).join(", ")),console.error("Element already has context attribute"+(e?": "+e:""))}this._domNode.setAttribute(Go,String(this._myContextId))}_updateParentChangeListener(){this._parentChangeListener.value=this._parent.onDidChangeContext(this._onDidChangeContext.fire,this._onDidChangeContext)}dispose(){this._isDisposed||(this._onDidChangeContext.dispose(),this._parent.disposeContext(this._myContextId),this._parentChangeListener.dispose(),this._domNode.removeAttribute(Go),this._isDisposed=!0)}getContextValuesContainer(e){return this._isDisposed?Zo.INSTANCE:this._parent.getContextValuesContainer(e)}createChildContext(e=this._myContextId){if(this._isDisposed)throw new Error("ScopedContextKeyService has been disposed");return this._parent.createChildContext(e)}disposeContext(e){this._isDisposed||this._parent.disposeContext(e)}}ne.a.registerCommand(pi.d,(function(e,t,i){e.get(pi.b).createKey(String(t),i)})),ne.a.registerCommand({id:"getContextKeyInfo",handler:()=>[...pi.c.all()].sort((e,t)=>e.key.localeCompare(t.key)),description:{description:Object(di.a)("getContextKeyInfo","A command that returns information about context keys"),args:[]}}),ne.a.registerCommand("_generateContextKeyInfo",(function(){const e=[],t=new Set;for(var i of pi.c.all())t.has(i.key)||(t.add(i.key),e.push(i));e.sort((e,t)=>e.key.localeCompare(t.key)),console.log(JSON.stringify(e,void 0,2))}));var rr,sr=i(146),ar=i(89),lr=i(44),cr=i(62),dr=(Li=i(141),t=i(232),i(203)),hr=i(119);function ur(e,t,i){var n=i.mode===rr.ALIGN?i.offset:i.offset+i.size,o=i.mode===rr.ALIGN?i.offset+i.size:i.offset;return 0===i.position?t<=e-n?n:t<=o?o-t:Math.max(e-t,0):t<=o?o-t:t<=e-n?n:0}i(539),(mt=rr=rr||{})[mt.AVOID=0]="AVOID",mt[mt.ALIGN=1]="ALIGN";class gr extends he.a{constructor(e,t){super(),this.container=null,this.delegate=null,this.toDisposeOnClean=he.a.None,this.toDisposeOnSetContainer=he.a.None,this.shadowRoot=null,this.shadowRootHostElement=null,this.view=X.a(".context-view"),this.useFixedPosition=!1,this.useShadowDOM=!1,X.K(this.view),this.setContainer(e,t),this._register(Object(he.i)(()=>this.setContainer(null,1)))}setContainer(e,t){var i;if(this.container&&(this.toDisposeOnSetContainer.dispose(),this.shadowRoot?(this.shadowRoot.removeChild(this.view),(this.shadowRoot=null)!==(i=this.shadowRootHostElement)&&void 0!==i&&i.remove(),this.shadowRootHostElement=null):this.container.removeChild(this.view),this.container=null),e){if(this.container=e,this.useFixedPosition=1!==t,this.useShadowDOM=3===t,this.useShadowDOM){this.shadowRootHostElement=X.a(".shadow-root-host"),this.container.appendChild(this.shadowRootHostElement),this.shadowRoot=this.shadowRootHostElement.attachShadow({mode:"open"});const e=document.createElement("style");e.textContent=pr,this.shadowRoot.appendChild(e),this.shadowRoot.appendChild(this.view),this.shadowRoot.appendChild(X.a("slot"))}else this.container.appendChild(this.view);const i=new he.b;gr.BUBBLE_UP_EVENTS.forEach(e=>{i.add(X.o(this.container,e,e=>{this.onDOMEvent(e,!1)}))}),gr.BUBBLE_DOWN_EVENTS.forEach(e=>{i.add(X.o(this.container,e,e=>{this.onDOMEvent(e,!0)},!0))}),this.toDisposeOnSetContainer=i}}show(e){this.isVisible()&&this.hide(),X.t(this.view),this.view.className="context-view",this.view.style.top="0px",this.view.style.left="0px",this.view.style.zIndex="2500",this.view.style.position=this.useFixedPosition?"fixed":"absolute",X.W(this.view),this.toDisposeOnClean=e.render(this.view)||he.a.None,this.delegate=e,this.doLayout(),this.delegate.focus&&this.delegate.focus()}getViewElement(){return this.view}layout(){this.isVisible()&&(!1!==this.delegate.canRelayout||ke.c&&dr.a.pointerEvents?(this.delegate.layout&&this.delegate.layout(),this.doLayout()):this.hide())}doLayout(){if(this.isVisible()){var e=this.delegate.getAnchor();let r;r=X.M(e)?{top:(n=X.D(e)).top,left:n.left,width:n.width,height:n.height}:{top:e.y,left:e.x,width:e.width||1,height:e.height||2};var t=X.I(this.view),i=X.H(this.view),n=this.delegate.anchorPosition||0;e=this.delegate.anchorAlignment||0;let s,a;if(0===(this.delegate.anchorAxisAlignment||0)){var o={offset:r.top-window.pageYOffset,size:r.height,position:0===n?0:1};const l={offset:r.left,size:r.width,position:0===e?0:1,mode:rr.ALIGN};s=ur(window.innerHeight,i,o)+window.pageYOffset,hr.a.intersects({start:s,end:s+i},{start:o.offset,end:o.offset+o.size})&&(l.mode=rr.AVOID),a=ur(window.innerWidth,t,l)}else{o={offset:r.left,size:r.width,position:0===e?0:1};const l={offset:r.top,size:r.height,position:0===n?0:1,mode:rr.ALIGN};a=ur(window.innerWidth,t,o),hr.a.intersects({start:a,end:a+t},{start:o.offset,end:o.offset+o.size})&&(l.mode=rr.AVOID),s=ur(window.innerHeight,i,l)+window.pageYOffset}this.view.classList.remove("top","bottom","left","right"),this.view.classList.add(0===n?"bottom":"top"),this.view.classList.add(0===e?"left":"right"),this.view.classList.toggle("fixed",this.useFixedPosition),e=X.D(this.container),this.view.style.top=s-(this.useFixedPosition?X.D(this.view):e).top+"px",this.view.style.left=a-(this.useFixedPosition?X.D(this.view):e).left+"px",this.view.style.width="initial"}}hide(e){const t=this.delegate;(this.delegate=null)!==t&&void 0!==t&&t.onHide&&t.onHide(e),this.toDisposeOnClean.dispose(),X.K(this.view)}isVisible(){return!!this.delegate}onDOMEvent(e,t){this.delegate&&(this.delegate.onDOMEvent?this.delegate.onDOMEvent(e,document.activeElement):t&&!X.L(e.target,this.container)&&this.hide())}dispose(){this.hide(),super.dispose()}}gr.BUBBLE_UP_EVENTS=["click","keydown","focus","blur"],gr.BUBBLE_DOWN_EVENTS=["click"];let pr='\n\t:host {\n\t\tall: initial; /* 1st rule so subsequent properties are reset. */\n\t}\n\n\t@font-face {\n\t\tfont-family: "codicon";\n\t\tfont-display: block;\n\t\tsrc: url("./codicon.ttf?5d4d76ab2ce5108968ad644d591a16a6") format("truetype");\n\t}\n\n\t.codicon[class*=\'codicon-\'] {\n\t\tfont: normal normal normal 16px/1 codicon;\n\t\tdisplay: inline-block;\n\t\ttext-decoration: none;\n\t\ttext-rendering: auto;\n\t\ttext-align: center;\n\t\t-webkit-font-smoothing: antialiased;\n\t\t-moz-osx-font-smoothing: grayscale;\n\t\tuser-select: none;\n\t\t-webkit-user-select: none;\n\t\t-ms-user-select: none;\n\t}\n\n\t:host {\n\t\tfont-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "HelveticaNeue-Light", system-ui, "Ubuntu", "Droid Sans", sans-serif;\n\t}\n\n\t:host-context(.mac) { font-family: -apple-system, BlinkMacSystemFont, sans-serif; }\n\t:host-context(.mac:lang(zh-Hans)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang SC", "Hiragino Sans GB", sans-serif; }\n\t:host-context(.mac:lang(zh-Hant)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang TC", sans-serif; }\n\t:host-context(.mac:lang(ja)) { font-family: -apple-system, BlinkMacSystemFont, "Hiragino Kaku Gothic Pro", sans-serif; }\n\t:host-context(.mac:lang(ko)) { font-family: -apple-system, BlinkMacSystemFont, "Nanum Gothic", "Apple SD Gothic Neo", "AppleGothic", sans-serif; }\n\n\t:host-context(.windows) { font-family: "Segoe WPC", "Segoe UI", sans-serif; }\n\t:host-context(.windows:lang(zh-Hans)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft YaHei", sans-serif; }\n\t:host-context(.windows:lang(zh-Hant)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft Jhenghei", sans-serif; }\n\t:host-context(.windows:lang(ja)) { font-family: "Segoe WPC", "Segoe UI", "Yu Gothic UI", "Meiryo UI", sans-serif; }\n\t:host-context(.windows:lang(ko)) { font-family: "Segoe WPC", "Segoe UI", "Malgun Gothic", "Dotom", sans-serif; }\n\n\t:host-context(.linux) { font-family: system-ui, "Ubuntu", "Droid Sans", sans-serif; }\n\t:host-context(.linux:lang(zh-Hans)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans SC", "Source Han Sans CN", "Source Han Sans", sans-serif; }\n\t:host-context(.linux:lang(zh-Hant)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans TC", "Source Han Sans TW", "Source Han Sans", sans-serif; }\n\t:host-context(.linux:lang(ja)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans J", "Source Han Sans JP", "Source Han Sans", sans-serif; }\n\t:host-context(.linux:lang(ko)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans K", "Source Han Sans JR", "Source Han Sans", "UnDotum", "FBaekmuk Gulim", sans-serif; }\n';var fr,mr=i(134);const vr=/\(&([^\s&])\)|(^|[^&])&([^\s&])/,br=/(&amp;)?(&amp;)([^\s&])/g,_r=Object(sn.e)("menu-selection",sn.b.check),wr=Object(sn.e)("menu-submenu",sn.b.chevronRight);(re=fr=fr||{})[re.Right=0]="Right",re[re.Left=1]="Left";class Cr extends Qi.a{constructor(e,t,i={}){e.classList.add("monaco-menu-container"),e.setAttribute("role","presentation");const n=document.createElement("div");n.classList.add("monaco-menu"),n.setAttribute("role","presentation"),super(n,{orientation:1,actionViewItemProvider:e=>this.doGetActionViewItem(e,i,o),context:i.context,actionRunner:i.actionRunner,ariaLabel:i.ariaLabel,focusOnlyEnabledItems:!0,triggerKeys:{keys:[3,...ke.f||ke.d?[10]:[]],keyDown:!0}}),this.menuElement=n,this.actionsList.setAttribute("role","menu"),this.actionsList.tabIndex=0,this.menuDisposables=this._register(new he.b),this.initializeStyleSheet(e),this._register(cr.b.addTarget(n)),Object(X.i)(n,X.d.KEY_DOWN,e=>{new Xt.a(e).equals(2)&&e.preventDefault()}),i.enableMnemonics&&this.menuDisposables.add(Object(X.i)(n,X.d.KEY_DOWN,e=>{var t=e.key.toLocaleLowerCase();if(this.mnemonics.has(t)){X.c.stop(e,!0);const i=this.mnemonics.get(t);1===i.length&&(i[0]instanceof xr&&i[0].container&&this.focusItemByElement(i[0].container),i[0].onClick(e)),1<i.length&&((e=i.shift())&&e.container&&(this.focusItemByElement(e.container),i.push(e)),this.mnemonics.set(t,i))}})),ke.d&&this._register(Object(X.i)(n,X.d.KEY_DOWN,e=>{const t=new Xt.a(e);t.equals(14)||t.equals(11)?(this.focusedItem=this.viewItems.length-1,this.focusNext(),X.c.stop(e,!0)):(t.equals(13)||t.equals(12))&&(this.focusedItem=0,this.focusPrevious(),X.c.stop(e,!0))})),this._register(Object(X.i)(this.domNode,X.d.MOUSE_OUT,e=>{var t=e.relatedTarget;Object(X.L)(t,this.domNode)||(this.focusedItem=void 0,this.updateFocus(),e.stopPropagation())})),this._register(Object(X.i)(this.actionsList,X.d.MOUSE_OVER,e=>{let t=e.target;if(t&&Object(X.L)(t,this.actionsList)&&t!==this.actionsList){for(;t.parentElement!==this.actionsList&&null!==t.parentElement;)t=t.parentElement;t.classList.contains("action-item")&&(e=this.focusedItem,this.setFocusedItem(t),e!==this.focusedItem&&this.updateFocus())}})),this._register(cr.b.addTarget(this.actionsList)),this._register(Object(X.i)(this.actionsList,cr.a.Tap,e=>{let t=e.initialTarget;if(t&&Object(X.L)(t,this.actionsList)&&t!==this.actionsList){for(;t.parentElement!==this.actionsList&&null!==t.parentElement;)t=t.parentElement;t.classList.contains("action-item")&&(e=this.focusedItem,this.setFocusedItem(t),e!==this.focusedItem&&this.updateFocus())}}));let o={parent:this};this.mnemonics=new Map,this.scrollableElement=this._register(new Ji.a(n,{alwaysConsumeMouseWheel:!0,horizontal:2,vertical:3,verticalScrollbarSize:7,handleMouseWheel:!0,useShadows:!0}));const r=this.scrollableElement.getDomNode();r.style.position="",this._register(Object(X.i)(n,cr.a.Change,e=>{X.c.stop(e,!0);var t=this.scrollableElement.getScrollPosition().scrollTop;this.scrollableElement.setScrollPosition({scrollTop:t-e.translationY})})),this._register(Object(X.i)(r,X.d.MOUSE_UP,e=>{e.preventDefault()})),n.style.maxHeight=Math.max(10,window.innerHeight-e.getBoundingClientRect().top-35)+"px",t=t.filter(e=>{var t;return null===(t=i.submenuIds)||void 0===t||!t.has(e.id)||(console.warn("找到 submenu cycle: "+e.id),!1)}),this.push(t,{icon:!0,label:!0,isMenu:!0}),e.appendChild(this.scrollableElement.getDomNode()),this.scrollableElement.scanDomNode(),this.viewItems.filter(e=>!(e instanceof Sr)).forEach((e,t,i)=>{e.updatePositionInSet(t+1,i.length)})}initializeStyleSheet(e){Object(X.O)(e)?(this.styleSheet=Object(X.w)(e),this.styleSheet.textContent=kr):(Cr.globalStyleSheet||(Cr.globalStyleSheet=Object(X.w)(),Cr.globalStyleSheet.textContent=kr),this.styleSheet=Cr.globalStyleSheet)}style(e){const t=this.getContainer();var i=e.foregroundColor?""+e.foregroundColor:"",n=e.backgroundColor?""+e.backgroundColor:"",o=e.borderColor?"1px solid "+e.borderColor:"",r=e.shadowColor?"0 2px 4px "+e.shadowColor:"";t.style.border=o,this.domNode.style.color=i,this.domNode.style.backgroundColor=n,t.style.boxShadow=r,this.viewItems&&this.viewItems.forEach(t=>{(t instanceof yr||t instanceof Sr)&&t.style(e)})}getContainer(){return this.scrollableElement.getDomNode()}get onScroll(){return this.scrollableElement.onScroll}focusItemByElement(e){var t=this.focusedItem;this.setFocusedItem(e),t!==this.focusedItem&&this.updateFocus()}setFocusedItem(e){for(let t=0;t<this.actionsList.children.length;t++)if(e===this.actionsList.children[t]){this.focusedItem=t;break}}updateFocus(e){super.updateFocus(e,!0),void 0!==this.focusedItem&&this.scrollableElement.setScrollPosition({scrollTop:Math.round(this.menuElement.scrollTop)})}doGetActionViewItem(e,t,i){if(e instanceof en.d)return new Sr(t.context,e,{icon:!0});if(e instanceof en.e){const o=new xr(e,e.actions,i,Object.assign(Object.assign({},t),{submenuIds:new Set([...t.submenuIds||[],e.id])}));if(t.enableMnemonics){var n=o.getMnemonic();if(n&&o.isEnabled()){let e=[];this.mnemonics.has(n)&&(e=this.mnemonics.get(n)),e.push(o),this.mnemonics.set(n,e)}}return o}{const i={enableMnemonics:t.enableMnemonics,useEventAsContext:t.useEventAsContext};if(t.getKeyBinding){const o=t.getKeyBinding(e);!o||(n=o.getLabel())&&(i.keybinding=n)}const o=new yr(t.context,e,i);if(t.enableMnemonics&&(t=o.getMnemonic())&&o.isEnabled()){let e=[];this.mnemonics.has(t)&&(e=this.mnemonics.get(t)),e.push(o),this.mnemonics.set(t,e)}return o}}}class yr extends Li.b{constructor(e,t,i={}){if(i.isMenu=!0,super(t,t,i),this.options=i,this.options.icon=void 0!==i.icon&&i.icon,this.options.label=void 0===i.label||i.label,this.cssClass="",this.options.label&&i.enableMnemonics&&(i=this.getAction().label)){let e=vr.exec(i);e&&(this.mnemonic=(e[1]||e[3]).toLocaleLowerCase())}this.runOnceToEnableMouseUp=new xe.e(()=>{this.element&&(this._register(Object(X.i)(this.element,X.d.MOUSE_UP,e=>{X.c.stop(e,!0),lr.g?new ar.a(e).rightButton||this.onClick(e):setTimeout(()=>{this.onClick(e)},0)})),this._register(Object(X.i)(this.element,X.d.CONTEXT_MENU,e=>{X.c.stop(e,!0)})))},100),this._register(this.runOnceToEnableMouseUp)}render(e){super.render(e),this.element&&(this.container=e,this.item=Object(X.q)(this.element,Object(X.a)("a.action-menu-item")),this._action.id===en.d.ID?this.item.setAttribute("role","presentation"):(this.item.setAttribute("role","menuitem"),this.mnemonic&&this.item.setAttribute("aria-keyshortcuts",""+this.mnemonic)),this.check=Object(X.q)(this.item,Object(X.a)("span.menu-item-check"+_r.cssSelector)),this.check.setAttribute("role","none"),this.label=Object(X.q)(this.item,Object(X.a)("span.action-label")),this.options.label&&this.options.keybinding&&(Object(X.q)(this.item,Object(X.a)("span.keybinding")).textContent=this.options.keybinding),this.runOnceToEnableMouseUp.schedule(),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked())}blur(){super.blur(),this.applyStyle()}focus(){super.focus(),this.item&&this.item.focus(),this.applyStyle()}updatePositionInSet(e,t){this.item&&(this.item.setAttribute("aria-posinset",""+e),this.item.setAttribute("aria-setsize",""+t))}updateLabel(){if(this.label&&this.options.label){Object(X.t)(this.label);let t=Object(mr.e)(this.getAction().label);if(t){const i=function(e){const t=vr,i=t.exec(e);if(!i)return e;var n=!i[1];return e.replace(t,n?"$2$3":"").trim()}(t);this.options.enableMnemonics||(t=i),this.label.setAttribute("aria-label",i.replace(/&&/g,"&"));const n=vr.exec(t);if(n){t=Le.s(t),br.lastIndex=0;let i=br.exec(t);for(;i&&i[1];)i=br.exec(t);var e=e=>e.replace(/&amp;&amp;/g,"&amp;");i?this.label.append(Le.J(e(t.substr(0,i.index))," "),Object(X.a)("u",{"aria-hidden":"true"},i[3]),Le.O(e(t.substr(i.index+i[0].length))," ")):this.label.innerText=e(t).trim(),this.item&&this.item.setAttribute("aria-keyshortcuts",(n[1]||n[3]).toLocaleLowerCase())}else this.label.innerText=t.replace(/&&/g,"&").trim()}}}updateTooltip(){let e=null;this.getAction().tooltip?e=this.getAction().tooltip:!this.options.label&&this.getAction().label&&this.options.icon&&(e=this.getAction().label,this.options.keybinding&&(e=di.a({key:"titleLabel",comment:["action title","action keybinding"]},"{0} ({1})",e,this.options.keybinding))),e&&this.item&&(this.item.title=e)}updateClass(){this.cssClass&&this.item&&this.item.classList.remove(...this.cssClass.split(" ")),this.options.icon&&this.label?(this.cssClass=this.getAction().class||"",this.label.classList.add("icon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" ")),this.updateEnabled()):this.label&&this.label.classList.remove("icon")}updateEnabled(){this.getAction().enabled?(this.element&&(this.element.classList.remove("disabled"),this.element.removeAttribute("aria-disabled")),this.item&&(this.item.classList.remove("disabled"),this.item.removeAttribute("aria-disabled"),this.item.tabIndex=0)):(this.element&&(this.element.classList.add("disabled"),this.element.setAttribute("aria-disabled","true")),this.item&&(this.item.classList.add("disabled"),this.item.setAttribute("aria-disabled","true")))}updateChecked(){var e;this.item&&(e=this.getAction().checked,this.item.classList.toggle("checked",!!e),void 0!==e?(this.item.setAttribute("role","menuitemcheckbox"),this.item.setAttribute("aria-checked",e?"true":"false")):(this.item.setAttribute("role","menuitem"),this.item.setAttribute("aria-checked","")))}getMnemonic(){return this.mnemonic}applyStyle(){if(this.menuStyle){var e=this.element&&this.element.classList.contains("focused");const t=e&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor,i=e&&this.menuStyle.selectionBackgroundColor?this.menuStyle.selectionBackgroundColor:void 0;e=e&&this.menuStyle.selectionBorderColor?"thin solid "+this.menuStyle.selectionBorderColor:"",this.item&&(this.item.style.color=t?t.toString():"",this.item.style.backgroundColor=i?i.toString():""),this.check&&(this.check.style.color=t?t.toString():""),this.container&&(this.container.style.border=e)}}style(e){this.menuStyle=e,this.applyStyle()}}class xr extends yr{constructor(e,t,i,n){super(e,e,n),this.submenuActions=t,this.parentData=i,this.submenuOptions=n,this.mysubmenu=null,this.submenuDisposables=this._register(new he.b),this.mouseOver=!1,this.expandDirection=n&&void 0!==n.expandDirection?n.expandDirection:fr.Right,this.showScheduler=new xe.e(()=>{this.mouseOver&&(this.cleanupExistingSubmenu(!1),this.createSubmenu(!1))},250),this.hideScheduler=new xe.e(()=>{this.element&&!Object(X.L)(Object(X.y)(),this.element)&&this.parentData.submenu===this.mysubmenu&&(this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0))},750)}render(e){super.render(e),this.element&&(this.item&&(this.item.classList.add("monaco-submenu-item"),this.item.tabIndex=0,this.item.setAttribute("aria-haspopup","true"),this.updateAriaExpanded("false"),this.submenuIndicator=Object(X.q)(this.item,Object(X.a)("span.submenu-indicator"+wr.cssSelector)),this.submenuIndicator.setAttribute("aria-hidden","true")),this._register(Object(X.i)(this.element,X.d.KEY_UP,e=>{let t=new Xt.a(e);(t.equals(17)||t.equals(3))&&(X.c.stop(e,!0),this.createSubmenu(!0))})),this._register(Object(X.i)(this.element,X.d.KEY_DOWN,e=>{let t=new Xt.a(e);Object(X.y)()===this.item&&(t.equals(17)||t.equals(3))&&X.c.stop(e,!0)})),this._register(Object(X.i)(this.element,X.d.MOUSE_OVER,e=>{this.mouseOver||(this.mouseOver=!0,this.showScheduler.schedule())})),this._register(Object(X.i)(this.element,X.d.MOUSE_LEAVE,e=>{this.mouseOver=!1})),this._register(Object(X.i)(this.element,X.d.FOCUS_OUT,e=>{this.element&&!Object(X.L)(Object(X.y)(),this.element)&&this.hideScheduler.schedule()})),this._register(this.parentData.parent.onScroll(()=>{this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!1)})))}updateEnabled(){}onClick(e){X.c.stop(e,!0),this.cleanupExistingSubmenu(!1),this.createSubmenu(!0)}cleanupExistingSubmenu(e){if(this.parentData.submenu&&(e||this.parentData.submenu!==this.mysubmenu)){try{this.parentData.submenu.dispose()}catch(e){}this.parentData.submenu=void 0,this.updateAriaExpanded("false"),this.submenuContainer&&(this.submenuDisposables.clear(),this.submenuContainer=void 0)}}calculateSubmenuMenuLayout(e,t,i,n){const o={top:0,left:0};return o.left=ur(e.width,t.width,{position:n===fr.Right?0:1,offset:i.left,size:i.width}),o.left>=i.left&&o.left<i.left+i.width&&(i.left+10+t.width<=e.width&&(o.left=i.left+10),i.top+=10,i.height=0),o.top=ur(e.height,t.height,{position:0,offset:i.top,size:0}),o.top+t.height===i.top&&o.top+i.height+t.height<=e.height&&(o.top+=i.height),o}createSubmenu(e=!0){var t,i,n;this.element&&(this.parentData.submenu?this.parentData.submenu.focus(!1):(this.updateAriaExpanded("true"),this.submenuContainer=Object(X.q)(this.element,Object(X.a)("div.monaco-submenu")),this.submenuContainer.classList.add("menubar-menu-items-holder","context-view"),n=getComputedStyle(this.parentData.parent.domNode),t=parseFloat(n.paddingTop||"0")||0,this.submenuContainer.style.zIndex="1",this.submenuContainer.style.position="fixed",this.submenuContainer.style.top="0",this.submenuContainer.style.left="0",this.parentData.submenu=new Cr(this.submenuContainer,this.submenuActions.length?this.submenuActions:[new en.c],this.submenuOptions),this.menuStyle&&this.parentData.submenu.style(this.menuStyle),n={top:(i=this.element.getBoundingClientRect()).top-t,left:i.left,height:i.height+2*t,width:i.width},t=this.submenuContainer.getBoundingClientRect(),({top:i,left:n}=this.calculateSubmenuMenuLayout(new X.b(window.innerWidth,window.innerHeight),X.b.lift(t),n,this.expandDirection)),this.submenuContainer.style.left=n-t.left+"px",this.submenuContainer.style.top=i-t.top+"px",this.submenuDisposables.add(Object(X.i)(this.submenuContainer,X.d.KEY_UP,e=>{new Xt.a(e).equals(15)&&(X.c.stop(e,!0),this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0))})),this.submenuDisposables.add(Object(X.i)(this.submenuContainer,X.d.KEY_DOWN,e=>{new Xt.a(e).equals(15)&&X.c.stop(e,!0)})),this.submenuDisposables.add(this.parentData.submenu.onDidCancel(()=>{this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0)})),this.parentData.submenu.focus(e),this.mysubmenu=this.parentData.submenu))}updateAriaExpanded(e){var t;this.item&&null!==(t=this.item)&&void 0!==t&&t.setAttribute("aria-expanded",e)}applyStyle(){var e;super.applyStyle(),this.menuStyle&&(e=this.element&&this.element.classList.contains("focused")&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor,this.submenuIndicator&&(this.submenuIndicator.style.color=e?""+e:""),this.parentData.submenu&&this.parentData.submenu.style(this.menuStyle))}dispose(){super.dispose(),this.hideScheduler.dispose(),this.mysubmenu&&(this.mysubmenu.dispose(),this.mysubmenu=null),this.submenuContainer&&(this.submenuContainer=void 0)}}class Sr extends Li.a{style(e){this.label&&(this.label.style.borderBottomColor=e.separatorColor?""+e.separatorColor:"")}}let kr=`\n.monaco-menu {\n\tfont-size: 13px;\n\n}\n\n${Object(t.a)(_r)}\n${Object(t.a)(wr)}\n\n.monaco-menu .monaco-action-bar {\n\ttext-align: right;\n\toverflow: hidden;\n\twhite-space: nowrap;\n}\n\n.monaco-menu .monaco-action-bar .actions-container {\n\tdisplay: flex;\n\tmargin: 0 auto;\n\tpadding: 0;\n\twidth: 100%;\n\tjustify-content: flex-end;\n}\n\n.monaco-menu .monaco-action-bar.vertical .actions-container {\n\tdisplay: inline-block;\n}\n\n.monaco-menu .monaco-action-bar.reverse .actions-container {\n\tflex-direction: row-reverse;\n}\n\n.monaco-menu .monaco-action-bar .action-item {\n\tcursor: pointer;\n\tdisplay: inline-block;\n\ttransition: transform 50ms ease;\n\tposition: relative;  /* DO NOT REMOVE - this is the key to preventing the ghosting icon bug in Chrome 42 */\n}\n\n.monaco-menu .monaco-action-bar .action-item.disabled {\n\tcursor: default;\n}\n\n.monaco-menu .monaco-action-bar.animated .action-item.active {\n\ttransform: scale(1.272019649, 1.272019649); /* 1.272019649 = √φ */\n}\n\n.monaco-menu .monaco-action-bar .action-item .icon,\n.monaco-menu .monaco-action-bar .action-item .codicon {\n\tdisplay: inline-block;\n}\n\n.monaco-menu .monaco-action-bar .action-item .codicon {\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.monaco-menu .monaco-action-bar .action-label {\n\tfont-size: 11px;\n\tmargin-right: 4px;\n}\n\n.monaco-menu .monaco-action-bar .action-item.disabled .action-label,\n.monaco-menu .monaco-action-bar .action-item.disabled .action-label:hover {\n\topacity: 0.4;\n}\n\n/* Vertical actions */\n\n.monaco-menu .monaco-action-bar.vertical {\n\ttext-align: left;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item {\n\tdisplay: block;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label.separator {\n\tdisplay: block;\n\tborder-bottom: 1px solid #bbb;\n\tpadding-top: 1px;\n\tmargin-left: .8em;\n\tmargin-right: .8em;\n}\n\n.monaco-menu .secondary-actions .monaco-action-bar .action-label {\n\tmargin-left: 6px;\n}\n\n/* Action Items */\n.monaco-menu .monaco-action-bar .action-item.select-container {\n\toverflow: hidden; /* somehow the dropdown overflows its container, we prevent it here to not push */\n\tflex: 1;\n\tmax-width: 170px;\n\tmin-width: 60px;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tmargin-right: 10px;\n}\n\n.monaco-menu .monaco-action-bar.vertical {\n\tmargin-left: 0;\n\toverflow: visible;\n}\n\n.monaco-menu .monaco-action-bar.vertical .actions-container {\n\tdisplay: block;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item {\n\tpadding: 0;\n\ttransform: none;\n\tdisplay: flex;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item.active {\n\ttransform: none;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-menu-item {\n\tflex: 1 1 auto;\n\tdisplay: flex;\n\theight: 2em;\n\talign-items: center;\n\tposition: relative;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label {\n\tflex: 1 1 auto;\n\ttext-decoration: none;\n\tpadding: 0 1em;\n\tbackground: none;\n\tfont-size: 12px;\n\tline-height: 1;\n}\n\n.monaco-menu .monaco-action-bar.vertical .keybinding,\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n\tdisplay: inline-block;\n\tflex: 2 1 auto;\n\tpadding: 0 1em;\n\ttext-align: right;\n\tfont-size: 12px;\n\tline-height: 1;\n}\n\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n\theight: 100%;\n}\n\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon {\n\tfont-size: 16px !important;\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon::before {\n\tmargin-left: auto;\n\tmargin-right: -20px;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item.disabled .keybinding,\n.monaco-menu .monaco-action-bar.vertical .action-item.disabled .submenu-indicator {\n\topacity: 0.4;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator) {\n\tdisplay: inline-block;\n\tbox-sizing: border-box;\n\tmargin: 0;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item {\n\tposition: static;\n\toverflow: visible;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item .monaco-submenu {\n\tposition: absolute;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label.separator {\n\tpadding: 0.5em 0 0 0;\n\tmargin-bottom: 0.5em;\n\twidth: 100%;\n\theight: 0px !important;\n\tmargin-left: .8em !important;\n\tmargin-right: .8em !important;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label.separator.text {\n\tpadding: 0.7em 1em 0.1em 1em;\n\tfont-weight: bold;\n\topacity: 1;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label:hover {\n\tcolor: inherit;\n}\n\n.monaco-menu .monaco-action-bar.vertical .menu-item-check {\n\tposition: absolute;\n\tvisibility: hidden;\n\twidth: 1em;\n\theight: 100%;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-menu-item.checked .menu-item-check {\n\tvisibility: visible;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n}\n\n/* Context Menu */\n\n.context-view.monaco-menu-container {\n\toutline: 0;\n\tborder: none;\n\tanimation: fadeIn 0.083s linear;\n\t-webkit-app-region: no-drag;\n}\n\n.context-view.monaco-menu-container :focus,\n.context-view.monaco-menu-container .monaco-action-bar.vertical:focus,\n.context-view.monaco-menu-container .monaco-action-bar.vertical :focus {\n\toutline: 0;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item {\n\tborder: thin solid transparent; /* prevents jumping behaviour on hover or focus */\n}\n\n\n/* High Contrast Theming */\n:host-context(.hc-black) .context-view.monaco-menu-container {\n\tbox-shadow: none;\n}\n\n:host-context(.hc-black) .monaco-menu .monaco-action-bar.vertical .action-item.focused {\n\tbackground: none;\n}\n\n/* Vertical Action Bar Styles */\n\n.monaco-menu .monaco-action-bar.vertical {\n\tpadding: .5em 0;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-menu-item {\n\theight: 1.8em;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator),\n.monaco-menu .monaco-action-bar.vertical .keybinding {\n\tfont-size: inherit;\n\tpadding: 0 2em;\n}\n\n.monaco-menu .monaco-action-bar.vertical .menu-item-check {\n\tfont-size: inherit;\n\twidth: 2em;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label.separator {\n\tfont-size: inherit;\n\tpadding: 0.2em 0 0 0;\n\tmargin-bottom: 0.2em;\n}\n\n:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .action-label.separator {\n\tmargin-left: 0;\n\tmargin-right: 0;\n}\n\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n\tfont-size: 60%;\n\tpadding: 0 1.8em;\n}\n\n:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n\theight: 100%;\n\tmask-size: 10px 10px;\n\t-webkit-mask-size: 10px 10px;\n}\n\n.monaco-menu .action-item {\n\tcursor: default;\n}\n\n/* Arrows */\n.monaco-scrollable-element > .scrollbar > .scra {\n\tcursor: pointer;\n\tfont-size: 11px !important;\n}\n\n.monaco-scrollable-element > .visible {\n\topacity: 1;\n\n\t/* Background rule added for IE9 - to allow clicks on dom node */\n\tbackground:rgba(0,0,0,0);\n\n\ttransition: opacity 100ms linear;\n}\n.monaco-scrollable-element > .invisible {\n\topacity: 0;\n\tpointer-events: none;\n}\n.monaco-scrollable-element > .invisible.fade {\n\ttransition: opacity 800ms linear;\n}\n\n/* Scrollable Content Inset Shadow */\n.monaco-scrollable-element > .shadow {\n\tposition: absolute;\n\tdisplay: none;\n}\n.monaco-scrollable-element > .shadow.top {\n\tdisplay: block;\n\ttop: 0;\n\tleft: 3px;\n\theight: 3px;\n\twidth: 100%;\n\tbox-shadow: #DDD 0 6px 6px -6px inset;\n}\n.monaco-scrollable-element > .shadow.left {\n\tdisplay: block;\n\ttop: 3px;\n\tleft: 0;\n\theight: 100%;\n\twidth: 3px;\n\tbox-shadow: #DDD 6px 0 6px -6px inset;\n}\n.monaco-scrollable-element > .shadow.top-left-corner {\n\tdisplay: block;\n\ttop: 0;\n\tleft: 0;\n\theight: 3px;\n\twidth: 3px;\n}\n.monaco-scrollable-element > .shadow.top.left {\n\tbox-shadow: #DDD 6px 6px 6px -6px inset;\n}\n\n/* ---------- Default Style ---------- */\n\n:host-context(.vs) .monaco-scrollable-element > .scrollbar > .slider {\n\tbackground: rgba(100, 100, 100, .4);\n}\n:host-context(.vs-dark) .monaco-scrollable-element > .scrollbar > .slider {\n\tbackground: rgba(121, 121, 121, .4);\n}\n:host-context(.hc-black) .monaco-scrollable-element > .scrollbar > .slider {\n\tbackground: rgba(111, 195, 223, .6);\n}\n\n.monaco-scrollable-element > .scrollbar > .slider:hover {\n\tbackground: rgba(100, 100, 100, .7);\n}\n:host-context(.hc-black) .monaco-scrollable-element > .scrollbar > .slider:hover {\n\tbackground: rgba(111, 195, 223, .8);\n}\n\n.monaco-scrollable-element > .scrollbar > .slider.active {\n\tbackground: rgba(0, 0, 0, .6);\n}\n:host-context(.vs-dark) .monaco-scrollable-element > .scrollbar > .slider.active {\n\tbackground: rgba(191, 191, 191, .4);\n}\n:host-context(.hc-black) .monaco-scrollable-element > .scrollbar > .slider.active {\n\tbackground: rgba(111, 195, 223, 1);\n}\n\n:host-context(.vs-dark) .monaco-scrollable-element .shadow.top {\n\tbox-shadow: none;\n}\n\n:host-context(.vs-dark) .monaco-scrollable-element .shadow.left {\n\tbox-shadow: #000 6px 0 6px -6px inset;\n}\n\n:host-context(.vs-dark) .monaco-scrollable-element .shadow.top.left {\n\tbox-shadow: #000 6px 6px 6px -6px inset;\n}\n\n:host-context(.hc-black) .monaco-scrollable-element .shadow.top {\n\tbox-shadow: none;\n}\n\n:host-context(.hc-black) .monaco-scrollable-element .shadow.left {\n\tbox-shadow: none;\n}\n\n:host-context(.hc-black) .monaco-scrollable-element .shadow.top.left {\n\tbox-shadow: none;\n}\n`;i(541);var Dr=i(100);class Lr{constructor(e,t,i,n,o){this.contextViewService=e,this.telemetryService=t,this.notificationService=i,this.keybindingService=n,this.themeService=o,this.focusToReturn=null,this.block=null,this.options={blockMouse:!0}}configure(e){this.options=e}showContextMenu(e){const t=e.getActions();if(t.length){let n;this.focusToReturn=document.activeElement;var i=Object(X.M)(e.domForShadowRoot)?e.domForShadowRoot:void 0;this.contextViewService.showContextView({getAnchor:()=>e.getAnchor(),canRelayout:!1,anchorAlignment:e.anchorAlignment,anchorAxisAlignment:e.anchorAxisAlignment,render:i=>{var o=e.getMenuClassName?e.getMenuClassName():"";o&&(i.className+=" "+o),this.options.blockMouse&&(this.block=i.appendChild(Object(X.a)(".context-view-block")),this.block.style.position="fixed",this.block.style.cursor="initial",this.block.style.left="0",this.block.style.top="0",this.block.style.width="100%",this.block.style.height="100%",this.block.style.zIndex="-1",Object(X.i)(this.block,X.d.MOUSE_DOWN,e=>e.stopPropagation()));const r=new he.b,s=e.actionRunner||new en.b;return s.onBeforeRun(this.onActionRun,this,r),s.onDidRun(this.onDidActionRun,this,r),n=new Cr(i,t,{actionViewItemProvider:e.getActionViewItem,context:e.getActionsContext?e.getActionsContext():null,actionRunner:s,getKeyBinding:e.getKeyBinding||(e=>this.keybindingService.lookupKeybinding(e.id))}),r.add(Object(Dr.c)(n,this.themeService)),n.onDidCancel(()=>this.contextViewService.hideContextView(!0),null,r),n.onDidBlur(()=>this.contextViewService.hideContextView(!0),null,r),r.add(Object(X.i)(window,X.d.BLUR,()=>this.contextViewService.hideContextView(!0))),r.add(Object(X.i)(window,X.d.MOUSE_DOWN,e=>{if(!e.defaultPrevented){let t=(e=new ar.a(e)).target;if(!e.rightButton){for(;t;){if(t===i)return;t=t.parentElement}this.contextViewService.hideContextView(!0)}}})),Object(he.e)(r,n)},focus:()=>{n&&n.focus(!!e.autoSelectFirstItem)},onHide:t=>{e.onHide&&e.onHide(!!t),this.block&&(this.block.remove(),this.block=null),this.focusToReturn&&this.focusToReturn.focus()}},i,!!i)}}onActionRun(e){this.telemetryService.publicLog2("workbenchActionExecuted",{id:e.action.id,from:"contextMenu"}),this.contextViewService.hideContextView(!1),this.focusToReturn&&this.focusToReturn.focus()}onDidActionRun(e){e.error&&!Object(Se.e)(e.error)&&this.notificationService.error(e.error)}}vt=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;0<=a;a--)(o=e[a])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s},mt=function(e,t){return function(i,n){t(i,n,e)}};let Or=class extends he.a{constructor(e,t,i,n,o){super(),this.contextMenuHandler=new Lr(i,e,t,n,o)}configure(e){this.contextMenuHandler.configure(e)}showContextMenu(e){this.contextMenuHandler.showContextMenu(e),X.e.getInstance().resetKeyStatus()}};Or=vt([mt(0,sr.a),mt(1,Si.a),mt(2,yn.b),mt(3,Xn.a),mt(4,rn.b)],Or);const Er=Object(wn.c)("layoutService");re=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;0<=a;a--)(o=e[a])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s},Li=function(e,t){return function(i,n){t(i,n,e)}};let Nr=class extends he.a{constructor(e){super(),this.layoutService=e,this.currentViewDisposable=he.a.None,this.container=e.container,this.contextView=this._register(new gr(this.container,1)),this.layout(),this._register(e.onDidLayout(()=>this.layout()))}setContainer(e,t){this.contextView.setContainer(e,t||1)}showContextView(e,t,i){t?t!==this.container&&(this.container=t,this.setContainer(t,i?3:2)):this.container!==this.layoutService.container&&(this.container=this.layoutService.container,this.setContainer(this.container,1)),this.contextView.show(e);const n=Object(he.i)(()=>{this.currentViewDisposable===n&&this.hideContextView()});return this.currentViewDisposable=n,n}getContextViewElement(){return this.contextView.getViewElement()}layout(){this.contextView.layout()}hideContextView(e){this.contextView.hide(e)}};Nr=re([Li(0,Er)],Nr);var Ir=i(175),Tr=i(179);class Mr{constructor(e){this.incoming=new Map,this.outgoing=new Map,this.data=e}}class Ar{constructor(e){this._hashFn=e,this._nodes=new Map}roots(){const e=[];for(var t of this._nodes.values())0===t.outgoing.size&&e.push(t);return e}insertEdge(e,t){const i=this.lookupOrInsertNode(e),n=this.lookupOrInsertNode(t);i.outgoing.set(this._hashFn(t),n),n.incoming.set(this._hashFn(e),i)}removeNode(e){var t,i=this._hashFn(e);for(t of(this._nodes.delete(i),this._nodes.values()))t.outgoing.delete(i),t.incoming.delete(i)}lookupOrInsertNode(e){var t=this._hashFn(e);let i=this._nodes.get(t);return i||(i=new Mr(e),this._nodes.set(t,i)),i}isEmpty(){return 0===this._nodes.size}toString(){let e=[];for(var[t,i]of this._nodes)e.push(`${t}, (incoming)[${[...i.incoming.keys()].join(", ")}], (outgoing)[${[...i.outgoing.keys()].join(",")}]`);return e.join("\n")}findCycleSlow(){for(var[e,t]of this._nodes)if(e=new Set([e]),e=this._findCycle(t,e))return e}_findCycle(e,t){for(var[i,n]of e.outgoing){if(t.has(i))return[...t,i].join(" -> ");if(t.add(i),n=this._findCycle(n,t))return n;t.delete(i)}}}class Pr extends Error{constructor(e){var t;super("cyclic dependency between services"),this.message=null!==(t=e.findCycleSlow())&&void 0!==t?t:"UNABLE to detect cycle, dumping graph: \n"+e.toString()}}class Rr{constructor(e=new Cn.a,t=!1,i){this._activeInstantiations=new Set,this._services=e,this._strict=t,this._parent=i,this._services.set(wn.a,this)}createChild(e){return new Rr(e,this._strict,this)}invokeFunction(e,...t){let i=Fr.traceInvocation(e),n=!1;try{return e({get:(e,t)=>{if(n)throw Object(Se.d)("service accessor is only valid during the invocation of its target method");var o=this._getOrCreateServiceInstance(e,i);if(!o&&t!==wn.d)throw new Error(`[invokeFunction] unknown service '${e}'`);return o}},...t)}finally{n=!0,i.stop()}}createInstance(e,...t){let i,n;return n=e instanceof Tr.a?(i=Fr.traceCreation(e.ctor),this._createInstance(e.ctor,e.staticArguments.concat(t),i)):(i=Fr.traceCreation(e),this._createInstance(e,t,i)),i.stop(),n}_createInstance(e,t=[],i){var n=wn.b.getServiceDependencies(e).sort((e,t)=>e.index-t.index);let o=[];for(const t of n){var r=this._getOrCreateServiceInstance(t.id,i);if(!r&&this._strict&&!t.optional)throw new Error(`[createInstance] ${e.name} depends on UNKNOWN service ${t.id}.`);o.push(r)}var s=0<n.length?n[0].index:t.length;return t.length!==s&&(console.warn(`[createInstance] First service dependency of ${e.name} at position ${s+1} conflicts with ${t.length} static arguments`),t=0<(n=s-t.length)?t.concat(new Array(n)):t.slice(0,s)),new e(...t,...o)}_setServiceInstance(e,t){if(this._services.get(e)instanceof Tr.a)this._services.set(e,t);else{if(!this._parent)throw new Error("illegalState - setting UNKNOWN service instance");this._parent._setServiceInstance(e,t)}}_getServiceInstanceOrDescriptor(e){var t=this._services.get(e);return!t&&this._parent?this._parent._getServiceInstanceOrDescriptor(e):t}_getOrCreateServiceInstance(e,t){var i=this._getServiceInstanceOrDescriptor(e);return i instanceof Tr.a?this._safeCreateAndCacheServiceInstance(e,i,t.branch(e,!0)):(t.branch(e,!1),i)}_safeCreateAndCacheServiceInstance(e,t,i){if(this._activeInstantiations.has(e))throw new Error(`illegal state - RECURSIVELY instantiating service '${e}'`);this._activeInstantiations.add(e);try{return this._createAndCacheServiceInstance(e,t,i)}finally{this._activeInstantiations.delete(e)}}_createAndCacheServiceInstance(e,t,i){const n=new Ar(e=>e.id.toString());let o=0;const r=[{id:e,desc:t,_trace:i}];for(;r.length;){const t=r.pop();if(n.lookupOrInsertNode(t),1e3<o++)throw new Pr(n);for(var s of wn.b.getServiceDependencies(t.desc.ctor)){var a=this._getServiceInstanceOrDescriptor(s.id);a||s.optional||console.warn(`[createInstance] ${e} depends on ${s.id} which is NOT registered.`),a instanceof Tr.a&&(s={id:s.id,desc:a,_trace:t._trace.branch(s.id,!0)},n.insertEdge(t,s),r.push(s))}}for(;;){var l,c,d=n.roots();if(0===d.length){if(!n.isEmpty())throw new Pr(n);break}for({data:l}of d)this._getServiceInstanceOrDescriptor(l.id)instanceof Tr.a&&(c=this._createServiceInstanceWithOwner(l.id,l.desc.ctor,l.desc.staticArguments,l.desc.supportsDelayedInstantiation,l._trace),this._setServiceInstance(l.id,c)),n.removeNode(l)}return this._getServiceInstanceOrDescriptor(e)}_createServiceInstanceWithOwner(e,t,i=[],n,o){if(this._services.get(e)instanceof Tr.a)return this._createServiceInstance(t,i,n,o);if(this._parent)return this._parent._createServiceInstanceWithOwner(e,t,i,n,o);throw new Error("illegalState - creating UNKNOWN service instance "+t.name)}_createServiceInstance(e,t=[],i,n){if(i){const i=new xe.b(()=>this._createInstance(e,t,n));return new Proxy(Object.create(null),{get(e,t){if(t in e)return e[t];var n=i.value;let o=n[t];return"function"!=typeof o||(o=o.bind(n),e[t]=o),o},set:(e,t,n)=>(i.value[t]=n,!0)})}return this._createInstance(e,t,n)}}class Fr{constructor(e,t){this.type=e,this.name=t,this._start=Date.now(),this._dep=[]}static traceInvocation(e){return Fr._None}static traceCreation(e){return Fr._None}branch(e,t){var i=new Fr(2,e.toString());return this._dep.push([e,t,i]),i}stop(){let e=Date.now()-this._start;Fr._totals+=e;let t=!1,i=[`${0===this.type?"CREATE":"CALL"} ${this.name}`,""+function e(i,n){let o=[];var r,s,a,l,c=new Array(i+1).join("\t");for([r,s,a]of n._dep)s&&a?(t=!0,o.push(`${c}CREATES -> ${r}`),(l=e(i+1,a))&&o.push(l)):o.push(`${c}uses -> ${r}`);return o.join("\n")}(1,this),`DONE, took ${e.toFixed(2)}ms (grand total ${Fr._totals.toFixed(2)}ms)`];(2<e||t)&&console.log(i.join("\n"))}}Fr._None=new class extends Fr{constructor(){super(-1,null)}stop(){}branch(){return this}},Fr._totals=0;var jr=i(174),Br=i(165),Wr=i(76);class Vr{constructor(){this._byResource=new J.b,this._byOwner=new Map}set(e,t,i){let n=this._byResource.get(e);n||(n=new Map,this._byResource.set(e,n)),n.set(t,i);let o=this._byOwner.get(t);o||(o=new J.b,this._byOwner.set(t,o)),o.set(e,i)}get(e,t){let i=this._byResource.get(e);return null==i?void 0:i.get(t)}delete(e,t){let i=!1,n=!1,o=this._byResource.get(e);o&&(i=o.delete(t));let r=this._byOwner.get(t);if(r&&(n=r.delete(e)),i!==n)throw new Error("illegal state");return i&&n}values(e){var t;return"string"==typeof e?null!==(t=null===(t=this._byOwner.get(e))||void 0===t?void 0:t.values())&&void 0!==t?t:qo.a.empty():z.a.isUri(e)?null!==(e=null===(e=this._byResource.get(e))||void 0===e?void 0:e.values())&&void 0!==e?e:qo.a.empty():qo.a.map(qo.a.concat(...this._byOwner.values()),e=>e[1])}}class zr{constructor(e){this.errors=0,this.infos=0,this.warnings=0,this.unknowns=0,this._data=new J.b,this._service=e,this._subscription=e.onMarkerChanged(this._update,this)}dispose(){this._subscription.dispose()}_update(e){for(const i of e){var t=this._data.get(i);t&&this._substract(t),t=this._resourceStats(i),this._add(t),this._data.set(i,t)}}_resourceStats(e){const t={errors:0,warnings:0,infos:0,unknowns:0};if(e.scheme===te.c.inMemory||e.scheme===te.c.walkThrough||e.scheme===te.c.walkThroughSnippet)return t;for(var{severity:i}of this._service.read({resource:e}))i===Wr.c.Error?t.errors+=1:i===Wr.c.Warning?t.warnings+=1:i===Wr.c.Info?t.infos+=1:t.unknowns+=1;return t}_substract(e){this.errors-=e.errors,this.warnings-=e.warnings,this.infos-=e.infos,this.unknowns-=e.unknowns}_add(e){this.errors+=e.errors,this.warnings+=e.warnings,this.infos+=e.infos,this.unknowns+=e.unknowns}}class Hr{constructor(){this._onMarkerChanged=new W.a({delay:0,merge:Hr._merge}),this.onMarkerChanged=this._onMarkerChanged.event,this._data=new Vr,this._stats=new zr(this)}dispose(){this._stats.dispose(),this._onMarkerChanged.dispose()}remove(e,t){for(const i of t||[])this.changeOne(e,i,[])}changeOne(e,t,i){if(Object(pt.m)(i))this._data.delete(t,e)&&this._onMarkerChanged.fire([t]);else{const o=[];for(const r of i){var n=Hr._toMarker(e,t,r);n&&o.push(n)}this._data.set(t,e,o),this._onMarkerChanged.fire([t])}}static _toMarker(e,t,i){let{code:n,severity:o,message:r,source:s,startLineNumber:a,startColumn:l,endLineNumber:c,endColumn:d,relatedInformation:h,tags:u}=i;if(r)return a=0<a?a:1,l=0<l?l:1,c=c>=a?c:a,d=0<d?d:l,{resource:t,owner:e,code:n,severity:o,message:r,source:s,startLineNumber:a,startColumn:l,endLineNumber:c,endColumn:d,relatedInformation:h,tags:u}}read(e=Object.create(null)){let{owner:t,resource:i,severities:n,take:o}=e;if((!o||o<0)&&(o=-1),t&&i){if(e=this._data.get(i,t)){const t=[];for(const i of e)if(Hr._accept(i,n)){var r=t.push(i);if(0<o&&r===o)break}return t}return[]}if(t||i){const e=[];for(const r of this._data.values(null!=i?i:t))for(const t of r)if(Hr._accept(t,n)){var s=e.push(t);if(0<o&&s===o)return e}return e}{const e=[];for(var a of this._data.values())for(var l of a)if(Hr._accept(l,n)&&(l=e.push(l),0<o&&l===o))return e;return e}}static _accept(e,t){return void 0===t||(t&e.severity)===e.severity}static _merge(e){const t=new J.b;for(var i of e)for(var n of i)t.set(n,!0);return Array.from(t.keys())}}var Ur=i(113);t=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;0<=a;a--)(o=e[a])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s},vt=function(e,t){return function(i,n){t(i,n,e)}};let $r=class{constructor(e){this._commandService=e}createMenu(e,t,i){return new Kr(e,Object.assign({emitEventsForSubmenuChanges:!1,eventDebounceDelay:50},i),this._commandService,t,this)}};$r=t([vt(0,ne.b)],$r);let Kr=class e{constructor(e,t,i,n,o){this._id=e,this._options=t,this._commandService=i,this._contextKeyService=n,this._menuService=o,this._disposables=new he.b,this._menuGroups=[],this._contextKeys=new Set,this._build();const r=new xe.e(()=>{this._build(),this._onDidChange.fire(this)},t.eventDebounceDelay);this._disposables.add(r),this._disposables.add(Zn.d.onDidChangeMenu(t=>{t.has(e)&&r.schedule()}));const s=this._disposables.add(new he.b);this._onDidChange=new W.b({onFirstListenerAdd:()=>{const e=new xe.e(()=>this._onDidChange.fire(this),t.eventDebounceDelay);s.add(e),s.add(n.onDidChangeContext(t=>{t.affectsSome(this._contextKeys)&&e.schedule()}))},onLastListenerRemove:s.clear.bind(s)}),this.onDidChange=this._onDidChange.event}dispose(){this._disposables.dispose(),this._onDidChange.dispose()}_build(){this._menuGroups.length=0,this._contextKeys.clear();const t=Zn.d.getMenuItems(this._id);let i;t.sort(e._compareMenuItems);for(const e of t){var n=e.group||"";i&&i[0]===n||(i=[n,[]],this._menuGroups.push(i)),i[1].push(e),this._collectContextKeys(e)}}_collectContextKeys(t){var i;e._fillInKbExprKeys(t.when,this._contextKeys),Object(Zn.f)(t)?(t.command.precondition&&e._fillInKbExprKeys(t.command.precondition,this._contextKeys),t.command.toggled&&(i=t.command.toggled.condition||t.command.toggled,e._fillInKbExprKeys(i,this._contextKeys))):this._options.emitEventsForSubmenuChanges&&Zn.d.getMenuItems(t.submenu).forEach(this._collectContextKeys,this)}getActions(e){const t=[];for(var i of this._menuGroups){var n,[o,i]=i;const r=[];for(const t of i)this._contextKeyService.contextMatchesRules(t.when)&&(n=Object(Zn.f)(t)?new Zn.c(t.command,t.alt,e,this._contextKeyService,this._commandService):new Zn.e(t,this._menuService,this._contextKeyService,e),r.push(n));0<r.length&&t.push([o,r])}return t}static _fillInKbExprKeys(e,t){if(e)for(var i of e.keys())t.add(i)}static _compareMenuItems(t,i){let n=t.group;var o=i.group;if(n!==o){if(!n)return 1;if(!o)return-1;if("navigation"===n)return-1;if("navigation"===o)return 1;var r=n.localeCompare(o);if(0!==r)return r}return(o=t.order||0)<(r=i.order||0)?-1:r<o?1:e._compareTitles((Object(Zn.f)(t)?t.command:t).title,(Object(Zn.f)(i)?i.command:i).title)}static _compareTitles(e,t){const i="string"==typeof e?e:e.original;return t="string"==typeof t?t:t.original,i.localeCompare(t)}};Kr=t([vt(2,ne.b),vt(3,pi.b),vt(4,Zn.a)],Kr);var qr=i(215);mt=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;0<=a;a--)(o=e[a])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s},re=function(e,t){return function(i,n){t(i,n,e)}};class Gr extends he.a{constructor(e){super(),this.model=e,this._markersData=new Map,this._register(Object(he.i)(()=>{this.model.deltaDecorations([...this._markersData.keys()],[]),this._markersData.clear()}))}update(e,t){var i=[...this._markersData.keys()];this._markersData.clear();var n=this.model.deltaDecorations(i,t);for(let t=0;t<n.length;t++)this._markersData.set(n[t],e[t]);return 0!==i.length||0!==n.length}getMarker(e){return this._markersData.get(e.id)}}let Yr=class extends he.a{constructor(e,t){super(),this._markerService=t,this._onDidChangeMarker=this._register(new W.b),this._markerDecorations=new J.b,e.getModels().forEach(e=>this._onModelAdded(e)),this._register(e.onModelAdded(this._onModelAdded,this)),this._register(e.onModelRemoved(this._onModelRemoved,this)),this._register(this._markerService.onMarkerChanged(this._handleMarkerChange,this))}dispose(){super.dispose(),this._markerDecorations.forEach(e=>e.dispose()),this._markerDecorations.clear()}getMarker(e,t){const i=this._markerDecorations.get(e);return i&&i.getMarker(t)||null}_handleMarkerChange(e){e.forEach(e=>{(e=this._markerDecorations.get(e))&&this._updateDecorations(e)})}_onModelAdded(e){var t=new Gr(e);this._markerDecorations.set(e.uri,t),this._updateDecorations(t)}_onModelRemoved(e){const t=this._markerDecorations.get(e.uri);t&&(t.dispose(),this._markerDecorations.delete(e.uri)),e.uri.scheme!==te.c.inMemory&&e.uri.scheme!==te.c.internal&&e.uri.scheme!==te.c.vscode||this._markerService&&this._markerService.read({resource:e.uri}).map(e=>e.owner).forEach(t=>this._markerService.remove(t,[e.uri]))}_updateDecorations(e){const t=this._markerService.read({resource:e.model.uri,take:500});var i=t.map(t=>({range:this._createDecorationRange(e.model,t),options:this._createDecorationOption(t)}));e.update(t,i)&&this._onDidChangeMarker.fire(e.model)}_createDecorationRange(e,t){let i=U.a.lift(t);return t.severity!==Wr.c.Hint||this._hasMarkerTag(t,1)||this._hasMarkerTag(t,2)||(i=i.setEndPosition(i.startLineNumber,i.startColumn+2)),e.validateRange(i)}_createDecorationOption(e){let t,i,n,o=void 0,r=void 0;switch(e.severity){case Wr.c.Hint:t=this._hasMarkerTag(e,2)?void 0:this._hasMarkerTag(e,1)?"squiggly-unnecessary":"squiggly-hint",i=0;break;case Wr.c.Warning:t="squiggly-warning",o=Object(rn.g)(nn.O),i=20,n={color:Object(rn.g)(on.mc),position:ve.f.Inline};break;case Wr.c.Info:t="squiggly-info",o=Object(rn.g)(nn.M),i=10;break;default:Wr.c.Error,t="squiggly-error",o=Object(rn.g)(nn.L),i=30,n={color:Object(rn.g)(on.ec),position:ve.f.Inline}}return e.tags&&(-1!==e.tags.indexOf(1)&&(r="squiggly-inline-unnecessary"),-1!==e.tags.indexOf(2)&&(r="squiggly-inline-deprecated")),{description:"marker-decoration",stickiness:1,className:t,showIfCollapsed:!0,overviewRuler:{color:o,position:ve.g.Right},minimap:n,zIndex:i,inlineClassName:r}}_hasMarkerTag(e,t){return!!e.tags&&0<=e.tags.indexOf(t)}};Yr=mt([re(0,ut.a),re(1,Wr.b)],Yr);var Zr=i(125);Li=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;0<=a;a--)(o=e[a])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s},t=function(e,t){return function(i,n){t(i,n,e)}};let Xr=class extends he.a{constructor(e,t){super(),this._contextKeyService=e,this._configurationService=t,this._accessibilitySupport=0,this._onDidChangeScreenReaderOptimized=new W.b,this._accessibilityModeEnabledContext=Qn.a.bindTo(this._contextKeyService);const i=()=>this._accessibilityModeEnabledContext.set(this.isScreenReaderOptimized());this._register(this._configurationService.onDidChangeConfiguration(e=>{e.affectsConfiguration("editor.accessibilitySupport")&&(i(),this._onDidChangeScreenReaderOptimized.fire())})),i(),this.onDidChangeScreenReaderOptimized(()=>i())}get onDidChangeScreenReaderOptimized(){return this._onDidChangeScreenReaderOptimized.event}isScreenReaderOptimized(){var e=this._configurationService.getValue("editor.accessibilitySupport");return"on"===e||"auto"===e&&2===this._accessibilitySupport}getAccessibilitySupport(){return this._accessibilitySupport}};Xr=Li([t(0,pi.b),t(1,oi.a)],Xr);var Qr=function(e,t,i,n){return new(i=i||Promise)((function(o,r){function s(e){try{l(n.next(e))}catch(e){r(e)}}function a(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):((t=e.value)instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};class Jr{constructor(){this.mapTextToType=new Map,this.findText=""}writeText(e,t){return Qr(this,void 0,void 0,(function*(){if(t)this.mapTextToType.set(t,e);else{try{return yield navigator.clipboard.writeText(e)}catch(e){console.error(e)}const t=document.activeElement,i=document.body.appendChild(Object(X.a)("textarea",{"aria-hidden":!0}));i.style.height="1px",i.style.width="1px",i.style.position="absolute",i.value=e,i.focus(),i.select(),document.execCommand("copy"),t instanceof HTMLElement&&t.focus(),document.body.removeChild(i)}}))}readText(e){return Qr(this,void 0,void 0,(function*(){if(e)return this.mapTextToType.get(e)||"";try{return yield navigator.clipboard.readText()}catch(e){return console.error(e),""}}))}readFindText(){return Qr(this,void 0,void 0,(function*(){return this.findText}))}writeFindText(e){return Qr(this,void 0,void 0,(function*(){this.findText=e}))}}var es=i(130),ts=(vt=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;0<=a;a--)(o=e[a])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s},mt=function(e,t){return function(i,n){t(i,n,e)}},function(e,t,i,n){return new(i=i||Promise)((function(o,r){function s(e){try{l(n.next(e))}catch(e){r(e)}}function a(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):((t=e.value)instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))});function is(e){return e.scheme===te.c.file?e.fsPath:e.path}let ns=0;class os{constructor(e,t,i,n,o,r,s){this.id=++ns,this.type=0,this.actual=e,this.label=e.label,this.confirmBeforeUndo=e.confirmBeforeUndo||!1,this.resourceLabel=t,this.strResource=i,this.resourceLabels=[this.resourceLabel],this.strResources=[this.strResource],this.groupId=n,this.groupOrder=o,this.sourceId=r,this.sourceOrder=s,this.isValid=!0}setValid(e){this.isValid=e}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.isValid?"  VALID":"INVALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class rs{constructor(e,t){this.resourceLabel=e,this.reason=t}}class ss{constructor(){this.elements=new Map}createMessage(){const e=[],t=[];for(var[,i]of this.elements){(0===i.reason?e:t).push(i.resourceLabel)}let n=[];return 0<e.length&&n.push(di.a({key:"externalRemoval",comment:["{0} is a list of filenames"]},"The following files have been closed and modified on disk: {0}.",e.join(", "))),0<t.length&&n.push(di.a({key:"noParallelUniverses",comment:["{0} is a list of filenames"]},"The following files have been modified in an incompatible way: {0}.",t.join(", "))),n.join("\n")}get size(){return this.elements.size}has(e){return this.elements.has(e)}set(e,t){this.elements.set(e,t)}delete(e){return this.elements.delete(e)}}class as{constructor(e,t,i,n,o,r,s){this.id=++ns,this.type=1,this.actual=e,this.label=e.label,this.confirmBeforeUndo=e.confirmBeforeUndo||!1,this.resourceLabels=t,this.strResources=i,this.groupId=n,this.groupOrder=o,this.sourceId=r,this.sourceOrder=s,this.removedResources=null,this.invalidatedResources=null}canSplit(){return"function"==typeof this.actual.split}removeResource(e,t,i){this.removedResources||(this.removedResources=new ss),this.removedResources.has(t)||this.removedResources.set(t,new rs(e,i))}setValid(e,t,i){i?this.invalidatedResources&&(this.invalidatedResources.delete(t),0===this.invalidatedResources.size&&(this.invalidatedResources=null)):(this.invalidatedResources||(this.invalidatedResources=new ss),this.invalidatedResources.has(t)||this.invalidatedResources.set(t,new rs(e,0)))}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.invalidatedResources?"INVALID":"  VALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class ls{constructor(e,t){this.resourceLabel=e,this.strResource=t,this._past=[],this._future=[],this.locked=!1,this.versionId=1}dispose(){for(const e of this._past)1===e.type&&e.removeResource(this.resourceLabel,this.strResource,0);for(const e of this._future)1===e.type&&e.removeResource(this.resourceLabel,this.strResource,0);this.versionId++}toString(){let e=[];e.push(`* ${this.strResource}:`);for(let t=0;t<this._past.length;t++)e.push("   * [UNDO] "+this._past[t]);for(let t=this._future.length-1;0<=t;t--)e.push("   * [REDO] "+this._future[t]);return e.join("\n")}flushAllElements(){this._past=[],this._future=[],this.versionId++}_setElementValidFlag(e,t){1===e.type?e.setValid(this.resourceLabel,this.strResource,t):e.setValid(t)}setElementsValidFlag(e,t){for(const i of this._past)t(i.actual)&&this._setElementValidFlag(i,e);for(const i of this._future)t(i.actual)&&this._setElementValidFlag(i,e)}pushElement(e){for(const e of this._future)1===e.type&&e.removeResource(this.resourceLabel,this.strResource,1);this._future=[],this._past.push(e),this.versionId++}createSnapshot(e){const t=[];for(let e=0,i=this._past.length;e<i;e++)t.push(this._past[e].id);for(let e=this._future.length-1;0<=e;e--)t.push(this._future[e].id);return new es.b(e,t)}restoreSnapshot(e){var t=e.elements.length;let i=!0,n=0,o=-1;for(let r=0,s=this._past.length;r<s;r++,n++){const s=this._past[r];i&&(n>=t||s.id!==e.elements[n])&&(i=!1,o=0),i||1!==s.type||s.removeResource(this.resourceLabel,this.strResource,0)}let r=-1;for(let o=this._future.length-1;0<=o;o--,n++){const s=this._future[o];i&&(n>=t||s.id!==e.elements[n])&&(i=!1,r=o),i||1!==s.type||s.removeResource(this.resourceLabel,this.strResource,0)}-1!==o&&(this._past=this._past.slice(0,o)),-1!==r&&(this._future=this._future.slice(r+1)),this.versionId++}getElements(){const e=[],t=[];for(const t of this._past)e.push(t.actual);for(const e of this._future)t.push(e.actual);return{past:e,future:t}}getClosestPastElement(){return 0===this._past.length?null:this._past[this._past.length-1]}getSecondClosestPastElement(){return this._past.length<2?null:this._past[this._past.length-2]}getClosestFutureElement(){return 0===this._future.length?null:this._future[this._future.length-1]}hasPastElements(){return 0<this._past.length}hasFutureElements(){return 0<this._future.length}splitPastWorkspaceElement(e,t){for(let i=this._past.length-1;0<=i;i--)if(this._past[i]===e){t.has(this.strResource)?this._past[i]=t.get(this.strResource):this._past.splice(i,1);break}this.versionId++}splitFutureWorkspaceElement(e,t){for(let i=this._future.length-1;0<=i;i--)if(this._future[i]===e){t.has(this.strResource)?this._future[i]=t.get(this.strResource):this._future.splice(i,1);break}this.versionId++}moveBackward(e){this._past.pop(),this._future.push(e),this.versionId++}moveForward(e){this._future.pop(),this._past.push(e),this.versionId++}}class cs{constructor(e){this.editStacks=e,this._versionIds=[];for(let e=0,t=this.editStacks.length;e<t;e++)this._versionIds[e]=this.editStacks[e].versionId}isValid(){for(let e=0,t=this.editStacks.length;e<t;e++)if(this._versionIds[e]!==this.editStacks[e].versionId)return!1;return!0}}const ds=new ls("","");ds.locked=!0;let hs=class{constructor(e,t){this._dialogService=e,this._notificationService=t,this._editStacks=new Map,this._uriComparisonKeyComputers=[]}getUriComparisonKey(e){for(const t of this._uriComparisonKeyComputers)if(t[0]===e.scheme)return t[1].getComparisonKey(e);return e.toString()}_print(e){console.log("------------------------------------"),console.log(`AFTER ${e}: `);let t=[];for(const e of this._editStacks)t.push(e[1].toString());console.log(t.join("\n"))}pushElement(e,t=es.c.None,i=es.d.None){if(0===e.type){var n=is(e.resource),o=this.getUriComparisonKey(e.resource);this._pushElement(new os(e,n,o,t.id,t.nextOrder(),i.id,i.nextOrder()))}else{const n=new Set,o=[],a=[];for(const t of e.resources){var r=is(t),s=this.getUriComparisonKey(t);n.has(s)||(n.add(s),o.push(r),a.push(s))}1===o.length?this._pushElement(new os(e,o[0],a[0],t.id,t.nextOrder(),i.id,i.nextOrder())):this._pushElement(new as(e,o,a,t.id,t.nextOrder(),i.id,i.nextOrder()))}}_pushElement(e){for(let n=0,o=e.strResources.length;n<o;n++){var t=e.resourceLabels[n],i=e.strResources[n];let o;this._editStacks.has(i)?o=this._editStacks.get(i):(o=new ls(t,i),this._editStacks.set(i,o)),o.pushElement(e)}}getLastElement(e){if(e=this.getUriComparisonKey(e),this._editStacks.has(e)){const t=this._editStacks.get(e);return t.hasFutureElements()?null:(e=t.getClosestPastElement())?e.actual:null}return null}_splitPastWorkspaceElement(e,t){var i=e.actual.split();const n=new Map;for(const e of i){var o=is(e.resource),r=this.getUriComparisonKey(e.resource);r=new os(e,o,r,0,0,0,0);n.set(r.strResource,r)}for(const i of e.strResources)if(!t||!t.has(i)){this._editStacks.get(i).splitPastWorkspaceElement(e,n)}}_splitFutureWorkspaceElement(e,t){var i=e.actual.split();const n=new Map;for(const e of i){var o=is(e.resource),r=this.getUriComparisonKey(e.resource);r=new os(e,o,r,0,0,0,0);n.set(r.strResource,r)}for(const i of e.strResources)if(!t||!t.has(i)){this._editStacks.get(i).splitFutureWorkspaceElement(e,n)}}removeElements(e){if(e="string"==typeof e?e:this.getUriComparisonKey(e),this._editStacks.has(e)){this._editStacks.get(e).dispose(),this._editStacks.delete(e)}}setElementsValidFlag(e,t,i){if(e=this.getUriComparisonKey(e),this._editStacks.has(e)){this._editStacks.get(e).setElementsValidFlag(t,i)}}createSnapshot(e){var t=this.getUriComparisonKey(e);if(this._editStacks.has(t)){return this._editStacks.get(t).createSnapshot(e)}return new es.b(e,[])}restoreSnapshot(e){var t=this.getUriComparisonKey(e.resource);if(this._editStacks.has(t)){const i=this._editStacks.get(t);i.restoreSnapshot(e),i.hasPastElements()||i.hasFutureElements()||(i.dispose(),this._editStacks.delete(t))}}getElements(e){if(e=this.getUriComparisonKey(e),this._editStacks.has(e)){return this._editStacks.get(e).getElements()}return{past:[],future:[]}}_findClosestUndoElementWithSource(e){if(!e)return[null,null];let t=null,i=null;for(var[n,o]of this._editStacks)(o=o.getClosestPastElement())&&o.sourceId===e&&(!t||o.sourceOrder>t.sourceOrder)&&(t=o,i=n);return[t,i]}canUndo(e){if(e instanceof es.d){var[,t]=this._findClosestUndoElementWithSource(e.id);return!!t}if(e=this.getUriComparisonKey(e),this._editStacks.has(e)){return this._editStacks.get(e).hasPastElements()}return!1}_onError(e,t){Object(Se.f)(e);for(const e of t.strResources)this.removeElements(e);this._notificationService.error(e)}_acquireLocks(e){for(const t of e.editStacks)if(t.locked)throw new Error("Cannot acquire edit stack lock");for(const t of e.editStacks)t.locked=!0;return()=>{for(const t of e.editStacks)t.locked=!1}}_safeInvokeWithLocks(e,t,i,n,o){const r=this._acquireLocks(i);let s;try{s=t()}catch(t){return r(),n.dispose(),this._onError(t,e)}return s?s.then(()=>(r(),n.dispose(),o()),t=>(r(),n.dispose(),this._onError(t,e))):(r(),n.dispose(),o())}_invokeWorkspacePrepare(e){return ts(this,void 0,void 0,(function*(){if(void 0===e.actual.prepareUndoRedo)return he.a.None;var t=e.actual.prepareUndoRedo();return void 0===t?he.a.None:t}))}_invokeResourcePrepare(e,t){if(1!==e.actual.type||void 0===e.actual.prepareUndoRedo)return t(he.a.None);const i=e.actual.prepareUndoRedo();return i?Object(he.g)(i)?t(i):i.then(e=>t(e)):t(he.a.None)}_getAffectedEditStacks(e){const t=[];for(const i of e.strResources)t.push(this._editStacks.get(i)||ds);return new cs(t)}_tryToSplitAndUndo(e,t,i,n){if(t.canSplit())return this._splitPastWorkspaceElement(t,i),this._notificationService.warn(n),new us(this._undo(e,0,!0));for(const e of t.strResources)this.removeElements(e);return this._notificationService.warn(n),new us}_checkWorkspaceUndo(e,t,i,n){if(t.removedResources)return this._tryToSplitAndUndo(e,t,t.removedResources,di.a({key:"cannotWorkspaceUndo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not undo '{0}' across all files. {1}",t.label,t.removedResources.createMessage()));if(n&&t.invalidatedResources)return this._tryToSplitAndUndo(e,t,t.invalidatedResources,di.a({key:"cannotWorkspaceUndo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not undo '{0}' across all files. {1}",t.label,t.invalidatedResources.createMessage()));const o=[];for(const e of i.editStacks)e.getClosestPastElement()!==t&&o.push(e.resourceLabel);if(0<o.length)return this._tryToSplitAndUndo(e,t,null,di.a({key:"cannotWorkspaceUndoDueToChanges",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because changes were made to {1}",t.label,o.join(", ")));const r=[];for(const e of i.editStacks)e.locked&&r.push(e.resourceLabel);return 0<r.length?this._tryToSplitAndUndo(e,t,null,di.a({key:"cannotWorkspaceUndoDueToInProgressUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because there is already an undo or redo operation running on {1}",t.label,r.join(", "))):i.isValid()?null:this._tryToSplitAndUndo(e,t,null,di.a({key:"cannotWorkspaceUndoDueToInMeantimeUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because an undo or redo operation occurred in the meantime",t.label))}_workspaceUndo(e,t,i){var n=this._getAffectedEditStacks(t),o=this._checkWorkspaceUndo(e,t,n,!1);return o?o.returnValue:this._confirmAndExecuteWorkspaceUndo(e,t,n,i)}_isPartOfUndoGroup(e){if(!e.groupId)return!1;for(var[,t]of this._editStacks){var i=t.getClosestPastElement();if(i){if(i===e&&(t=t.getSecondClosestPastElement())&&t.groupId===e.groupId)return!0;if(i.groupId===e.groupId)return!0}}return!1}_confirmAndExecuteWorkspaceUndo(e,t,i,n){return ts(this,void 0,void 0,(function*(){if(t.canSplit()&&!this._isPartOfUndoGroup(t)){var o=yield this._dialogService.show(Jt.a.Info,di.a("confirmWorkspace","Would you like to undo '{0}' across all files?",t.label),[di.a({key:"ok",comment:["{0} denotes a number that is > 1"]},"Undo in {0} Files",i.editStacks.length),di.a("nok","Undo this File"),di.a("cancel","取消")],{cancelId:2});if(2===o.choice)return;if(1===o.choice)return this._splitPastWorkspaceElement(t,null),this._undo(e,0,!0);if(o=this._checkWorkspaceUndo(e,t,i,!1))return o.returnValue;n=!0}let r;try{r=yield this._invokeWorkspacePrepare(t)}catch(o){return this._onError(o,t)}if(o=this._checkWorkspaceUndo(e,t,i,!0))return r.dispose(),o.returnValue;for(const e of i.editStacks)e.moveBackward(t);return this._safeInvokeWithLocks(t,()=>t.actual.undo(),i,r,()=>this._continueUndoInGroup(t.groupId,n))}))}_resourceUndo(e,t,i){if(t.isValid){if(!e.locked)return this._invokeResourcePrepare(t,n=>(e.moveBackward(t),this._safeInvokeWithLocks(t,()=>t.actual.undo(),new cs([e]),n,()=>this._continueUndoInGroup(t.groupId,i))));var n=di.a({key:"cannotResourceUndoDueToInProgressUndoRedo",comment:["{0} is a label for an operation."]},"Could not undo '{0}' because there is already an undo or redo operation running.",t.label);this._notificationService.warn(n)}else e.flushAllElements()}_findClosestUndoElementInGroup(e){if(!e)return[null,null];let t=null,i=null;for(var[n,o]of this._editStacks)(o=o.getClosestPastElement())&&o.groupId===e&&(!t||o.groupOrder>t.groupOrder)&&(t=o,i=n);return[t,i]}_continueUndoInGroup(e,t){if(e){var[,e]=this._findClosestUndoElementInGroup(e);return e?this._undo(e,0,t):void 0}}undo(e){if(e instanceof es.d){var[,t]=this._findClosestUndoElementWithSource(e.id);return t?this._undo(t,e.id,!1):void 0}return"string"==typeof e?this._undo(e,0,!1):this._undo(this.getUriComparisonKey(e),0,!1)}_undo(e,t=0,i){if(this._editStacks.has(e)){const s=this._editStacks.get(e);var n=s.getClosestPastElement();if(n){if(n.groupId){var[o,r]=this._findClosestUndoElementInGroup(n.groupId);if(n!==o&&r)return this._undo(r,t,i)}if((n.sourceId!==t||n.confirmBeforeUndo)&&!i)return this._confirmAndContinueUndo(e,t,n);try{return 1===n.type?this._workspaceUndo(e,n,i):this._resourceUndo(s,n,i)}finally{}}}}_confirmAndContinueUndo(e,t,i){return ts(this,void 0,void 0,(function*(){if(1!==(yield this._dialogService.show(Jt.a.Info,di.a("confirmDifferentSource","Would you like to undo '{0}'?",i.label),[di.a("confirmDifferentSource.yes","Yes"),di.a("cancel","取消")],{cancelId:1})).choice)return this._undo(e,t,!0)}))}_findClosestRedoElementWithSource(e){if(!e)return[null,null];let t=null,i=null;for(var[n,o]of this._editStacks)(o=o.getClosestFutureElement())&&o.sourceId===e&&(!t||o.sourceOrder<t.sourceOrder)&&(t=o,i=n);return[t,i]}canRedo(e){if(e instanceof es.d){var[,t]=this._findClosestRedoElementWithSource(e.id);return!!t}if(e=this.getUriComparisonKey(e),this._editStacks.has(e)){return this._editStacks.get(e).hasFutureElements()}return!1}_tryToSplitAndRedo(e,t,i,n){if(t.canSplit())return this._splitFutureWorkspaceElement(t,i),this._notificationService.warn(n),new us(this._redo(e));for(const e of t.strResources)this.removeElements(e);return this._notificationService.warn(n),new us}_checkWorkspaceRedo(e,t,i,n){if(t.removedResources)return this._tryToSplitAndRedo(e,t,t.removedResources,di.a({key:"cannotWorkspaceRedo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not redo '{0}' across all files. {1}",t.label,t.removedResources.createMessage()));if(n&&t.invalidatedResources)return this._tryToSplitAndRedo(e,t,t.invalidatedResources,di.a({key:"cannotWorkspaceRedo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not redo '{0}' across all files. {1}",t.label,t.invalidatedResources.createMessage()));const o=[];for(const e of i.editStacks)e.getClosestFutureElement()!==t&&o.push(e.resourceLabel);if(0<o.length)return this._tryToSplitAndRedo(e,t,null,di.a({key:"cannotWorkspaceRedoDueToChanges",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because changes were made to {1}",t.label,o.join(", ")));const r=[];for(const e of i.editStacks)e.locked&&r.push(e.resourceLabel);return 0<r.length?this._tryToSplitAndRedo(e,t,null,di.a({key:"cannotWorkspaceRedoDueToInProgressUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because there is already an undo or redo operation running on {1}",t.label,r.join(", "))):i.isValid()?null:this._tryToSplitAndRedo(e,t,null,di.a({key:"cannotWorkspaceRedoDueToInMeantimeUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because an undo or redo operation occurred in the meantime",t.label))}_workspaceRedo(e,t){var i=this._getAffectedEditStacks(t),n=this._checkWorkspaceRedo(e,t,i,!1);return n?n.returnValue:this._executeWorkspaceRedo(e,t,i)}_executeWorkspaceRedo(e,t,i){return ts(this,void 0,void 0,(function*(){let n;try{n=yield this._invokeWorkspacePrepare(t)}catch(n){return this._onError(n,t)}var o=this._checkWorkspaceRedo(e,t,i,!0);if(o)return n.dispose(),o.returnValue;for(const e of i.editStacks)e.moveForward(t);return this._safeInvokeWithLocks(t,()=>t.actual.redo(),i,n,()=>this._continueRedoInGroup(t.groupId))}))}_resourceRedo(e,t){if(t.isValid){if(!e.locked)return this._invokeResourcePrepare(t,i=>(e.moveForward(t),this._safeInvokeWithLocks(t,()=>t.actual.redo(),new cs([e]),i,()=>this._continueRedoInGroup(t.groupId))));var i=di.a({key:"cannotResourceRedoDueToInProgressUndoRedo",comment:["{0} is a label for an operation."]},"Could not redo '{0}' because there is already an undo or redo operation running.",t.label);this._notificationService.warn(i)}else e.flushAllElements()}_findClosestRedoElementInGroup(e){if(!e)return[null,null];let t=null,i=null;for(var[n,o]of this._editStacks)(o=o.getClosestFutureElement())&&o.groupId===e&&(!t||o.groupOrder<t.groupOrder)&&(t=o,i=n);return[t,i]}_continueRedoInGroup(e){if(e){var[,e]=this._findClosestRedoElementInGroup(e);return e?this._redo(e):void 0}}redo(e){if(e instanceof es.d){var[,t]=this._findClosestRedoElementWithSource(e.id);return t?this._redo(t):void 0}return"string"==typeof e?this._redo(e):this._redo(this.getUriComparisonKey(e))}_redo(e){if(this._editStacks.has(e)){const o=this._editStacks.get(e);var t=o.getClosestFutureElement();if(t){if(t.groupId){var[i,n]=this._findClosestRedoElementInGroup(t.groupId);if(t!==i&&n)return this._redo(n)}try{return 1===t.type?this._workspaceRedo(e,t):this._resourceRedo(o,t)}finally{}}}}};hs=vt([mt(0,Ir.a),mt(1,Si.a)],hs);class us{constructor(e){this.returnValue=e}}Object(Zr.b)(es.a,hs),i(543);var gs=i(170);i(545);const ps={buttonBackground:ko.a.fromHex("#0E639C"),buttonHoverBackground:ko.a.fromHex("#006BB3"),buttonForeground:ko.a.white};class fs extends he.a{constructor(e,t){super(),this._onDidClick=this._register(new W.b),this.options=t||Object.create(null),Object(ue.f)(this.options,ps,!1),this.buttonForeground=this.options.buttonForeground,this.buttonBackground=this.options.buttonBackground,this.buttonHoverBackground=this.options.buttonHoverBackground,this.buttonSecondaryForeground=this.options.buttonSecondaryForeground,this.buttonSecondaryBackground=this.options.buttonSecondaryBackground,this.buttonSecondaryHoverBackground=this.options.buttonSecondaryHoverBackground,this.buttonBorder=this.options.buttonBorder,this._element=document.createElement("a"),this._element.classList.add("monaco-button"),this._element.tabIndex=0,this._element.setAttribute("role","button"),e.appendChild(this._element),this._register(cr.b.addTarget(this._element)),[X.d.CLICK,cr.a.Tap].forEach(e=>{this._register(Object(X.i)(this._element,e,e=>{this.enabled?this._onDidClick.fire(e):X.c.stop(e)}))}),this._register(Object(X.i)(this._element,X.d.KEY_DOWN,e=>{const t=new Xt.a(e);let i=!1;this.enabled&&(t.equals(3)||t.equals(10))?(this._onDidClick.fire(e),i=!0):t.equals(9)&&(this._element.blur(),i=!0),i&&X.c.stop(t,!0)})),this._register(Object(X.i)(this._element,X.d.MOUSE_OVER,e=>{this._element.classList.contains("disabled")||this.setHoverBackground()})),this._register(Object(X.i)(this._element,X.d.MOUSE_OUT,e=>{this.applyStyles()})),this.focusTracker=this._register(Object(X.Y)(this._element)),this._register(this.focusTracker.onDidFocus(()=>this.setHoverBackground())),this._register(this.focusTracker.onDidBlur(()=>this.applyStyles())),this.applyStyles()}get onDidClick(){return this._onDidClick.event}setHoverBackground(){let e;e=this.options.secondary?this.buttonSecondaryHoverBackground?this.buttonSecondaryHoverBackground.toString():null:this.buttonHoverBackground?this.buttonHoverBackground.toString():null,e&&(this._element.style.backgroundColor=e)}style(e){this.buttonForeground=e.buttonForeground,this.buttonBackground=e.buttonBackground,this.buttonHoverBackground=e.buttonHoverBackground,this.buttonSecondaryForeground=e.buttonSecondaryForeground,this.buttonSecondaryBackground=e.buttonSecondaryBackground,this.buttonSecondaryHoverBackground=e.buttonSecondaryHoverBackground,this.buttonBorder=e.buttonBorder,this.applyStyles()}applyStyles(){if(this._element){let t,i;t=this.options.secondary?(i=this.buttonSecondaryForeground?this.buttonSecondaryForeground.toString():"",this.buttonSecondaryBackground?this.buttonSecondaryBackground.toString():""):(i=this.buttonForeground?this.buttonForeground.toString():"",this.buttonBackground?this.buttonBackground.toString():"");var e=this.buttonBorder?this.buttonBorder.toString():"";this._element.style.color=i,this._element.style.backgroundColor=t,this._element.style.borderWidth=e?"1px":"",this._element.style.borderStyle=e?"solid":"",this._element.style.borderColor=e}}get element(){return this._element}set label(e){this._element.classList.add("monaco-text-button"),this.options.supportIcons?Object(X.R)(this._element,...Object(gs.a)(e)):this._element.textContent=e,"string"==typeof this.options.title?this._element.title=this.options.title:this.options.title&&(this._element.title=e)}set enabled(e){e?(this._element.classList.remove("disabled"),this._element.setAttribute("aria-disabled",String(!1)),this._element.tabIndex=0):(this._element.classList.add("disabled"),this._element.setAttribute("aria-disabled",String(!0)))}get enabled(){return!this._element.classList.contains("disabled")}}var ms=i(240);i(547);const vs="infinite",bs={progressBarBackground:ko.a.fromHex("#0E70C0")};class _s extends he.a{constructor(e,t){super(),this.options=t||Object.create(null),Object(ue.f)(this.options,bs,!1),this.workedVal=0,this.progressBarBackground=this.options.progressBarBackground,this._register(this.showDelayedScheduler=new xe.e(()=>Object(X.W)(this.element),0)),this.create(e)}create(e){this.element=document.createElement("div"),this.element.classList.add("monaco-progress-container"),this.element.setAttribute("role","progressbar"),this.element.setAttribute("aria-valuemin","0"),e.appendChild(this.element),this.bit=document.createElement("div"),this.bit.classList.add("progress-bit"),this.element.appendChild(this.bit),this.applyStyles()}off(){this.bit.style.width="inherit",this.bit.style.opacity="1",this.element.classList.remove("active",vs,"discrete"),this.workedVal=0,this.totalWork=void 0}stop(){return this.doDone(!1)}doDone(e){return this.element.classList.add("done"),this.element.classList.contains(vs)?this.bit.style.opacity="0":this.bit.style.width="inherit",e?setTimeout(()=>this.off(),200):this.off(),this}infinite(){return this.bit.style.width="2%",this.bit.style.opacity="1",this.element.classList.remove("discrete","done"),this.element.classList.add("active",vs),this}getContainer(){return this.element}style(e){this.progressBarBackground=e.progressBarBackground,this.applyStyles()}applyStyles(){var e;this.bit&&(e=this.progressBarBackground?this.progressBarBackground.toString():"",this.bit.style.backgroundColor=e)}}re=i(193),i(247);const ws={},Cs=new re.a("quick-input-button-icon-");function ys(e){if(e){let i;var t=e.dark.toString();return ws[t]?i=ws[t]:(i=Cs.nextId(),X.v("."+i,"background-image: "+X.s(e.light||e.dark)),X.v(`.vs-dark .${i}, .hc-black .${i}`,"background-image: "+X.s(e.dark)),ws[t]=i),i}}var xs=i(152),Ss=i(221);const ks=X.a;class Ds extends he.a{constructor(e){super(),this.parent=e,this.onKeyDown=e=>X.i(this.inputBox.inputElement,X.d.KEY_DOWN,t=>{e(new Xt.a(t))}),this.onMouseDown=e=>X.i(this.inputBox.inputElement,X.d.MOUSE_DOWN,t=>{e(new ar.a(t))}),this.onDidChange=e=>this.inputBox.onDidChange(e),this.container=X.q(this.parent,ks(".quick-input-box")),this.inputBox=this._register(new Ss.b(this.container,void 0))}get value(){return this.inputBox.value}set value(e){this.inputBox.value=e}select(e=null){this.inputBox.select(e)}isSelectionAtEnd(){return this.inputBox.isSelectionAtEnd()}get placeholder(){return this.inputBox.inputElement.getAttribute("placeholder")||""}set placeholder(e){this.inputBox.setPlaceHolder(e)}get ariaLabel(){return this.inputBox.getAriaLabel()}set ariaLabel(e){this.inputBox.setAriaLabel(e)}get password(){return"password"===this.inputBox.inputElement.type}set password(e){this.inputBox.inputElement.type=e?"password":"text"}setAttribute(e,t){this.inputBox.inputElement.setAttribute(e,t)}removeAttribute(e){this.inputBox.inputElement.removeAttribute(e)}showDecoration(e){e===Jt.a.Ignore?this.inputBox.hideMessage():this.inputBox.showMessage({type:e===Jt.a.Info?1:e===Jt.a.Warning?2:3,content:""})}stylesForType(e){return this.inputBox.stylesForType(e===Jt.a.Info?1:e===Jt.a.Warning?2:3)}setFocus(){this.inputBox.focus()}layout(){this.inputBox.layout()}style(e){this.inputBox.style(e)}}var Ls=i(187),Os=i(222);i(550);const Es=X.a;class Ns{constructor(e,t,i){this.os=t,this.keyElements=new Set,this.options=i||Object.create(null),this.labelBackground=this.options.keybindingLabelBackground,this.labelForeground=this.options.keybindingLabelForeground,this.labelBorder=this.options.keybindingLabelBorder,this.labelBottomBorder=this.options.keybindingLabelBottomBorder,this.labelShadow=this.options.keybindingLabelShadow,this.domNode=X.q(e,Es(".monaco-keybinding")),this.didEverRender=!1,e.appendChild(this.domNode)}get element(){return this.domNode}set(e,t){this.didEverRender&&this.keybinding===e&&Ns.areSame(this.matches,t)||(this.keybinding=e,this.matches=t,this.render())}render(){var e,t;this.clear(),this.keybinding?([e,t]=this.keybinding.getParts(),e&&this.renderPart(this.domNode,e,this.matches?this.matches.firstPart:null),t&&(X.q(this.domNode,Es("span.monaco-keybinding-key-chord-separator",void 0," ")),this.renderPart(this.domNode,t,this.matches?this.matches.chordPart:null)),this.domNode.title=this.keybinding.getAriaLabel()||""):this.options&&this.options.renderUnboundKeybindings&&this.renderUnbound(this.domNode),this.applyStyles(),this.didEverRender=!0}clear(){X.t(this.domNode),this.keyElements.clear()}renderPart(e,t,i){var n=Ci.c.modifierLabels[this.os];t.ctrlKey&&this.renderKey(e,n.ctrlKey,Boolean(null==i?void 0:i.ctrlKey),n.separator),t.shiftKey&&this.renderKey(e,n.shiftKey,Boolean(null==i?void 0:i.shiftKey),n.separator),t.altKey&&this.renderKey(e,n.altKey,Boolean(null==i?void 0:i.altKey),n.separator),t.metaKey&&this.renderKey(e,n.metaKey,Boolean(null==i?void 0:i.metaKey),n.separator),(t=t.keyLabel)&&this.renderKey(e,t,Boolean(null==i?void 0:i.keyCode),"")}renderKey(e,t,i,n){X.q(e,this.createKeyElement(t,i?".highlight":"")),n&&X.q(e,Es("span.monaco-keybinding-key-separator",void 0,n))}renderUnbound(e){X.q(e,this.createKeyElement(Object(di.a)("unbound","Unbound")))}createKeyElement(e,t=""){return e=Es("span.monaco-keybinding-key"+t,void 0,e),this.keyElements.add(e),e}style(e){this.labelBackground=e.keybindingLabelBackground,this.labelForeground=e.keybindingLabelForeground,this.labelBorder=e.keybindingLabelBorder,this.labelBottomBorder=e.keybindingLabelBottomBorder,this.labelShadow=e.keybindingLabelShadow,this.applyStyles()}applyStyles(){var e;if(this.element){for(const t of this.keyElements)this.labelBackground&&(t.style.backgroundColor=null===(e=this.labelBackground)||void 0===e?void 0:e.toString()),this.labelBorder&&(t.style.borderColor=this.labelBorder.toString()),this.labelBottomBorder&&(t.style.borderBottomColor=this.labelBottomBorder.toString()),this.labelShadow&&(t.style.boxShadow="inset 0 -1px 0 "+this.labelShadow);this.labelForeground&&(this.element.style.color=this.labelForeground.toString())}}static areSame(e,t){return e===t||!e&&!t||!!e&&!!t&&Object(ue.d)(e.firstPart,t.firstPart)&&Object(ue.d)(e.chordPart,t.chordPart)}}const Is=new xe.b(()=>{const e=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"});return{collator:e,collatorIsNumeric:e.resolvedOptions().numeric}});var Ts;Li=i(92),t=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;0<=a;a--)(o=e[a])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s};const Ms=X.a;class As{constructor(e){this.hidden=!1,this._onChecked=new W.b,this.onChecked=this._onChecked.event,Object.assign(this,e)}get checked(){return!!this._checked}set checked(e){e!==this._checked&&(this._checked=e,this._onChecked.fire(e))}dispose(){this._onChecked.dispose()}}class Ps{get templateId(){return Ps.ID}renderTemplate(e){const t=Object.create(null);t.toDisposeElement=[],t.toDisposeTemplate=[],t.entry=X.q(e,Ms(".quick-input-list-entry"));var i=X.q(t.entry,Ms("label.quick-input-list-label"));return t.toDisposeTemplate.push(X.o(i,X.d.CLICK,e=>{t.checkbox.offsetParent||e.preventDefault()})),t.checkbox=X.q(i,Ms("input.quick-input-list-checkbox")),t.checkbox.type="checkbox",t.toDisposeTemplate.push(X.o(t.checkbox,X.d.CHANGE,e=>{t.element.checked=t.checkbox.checked})),e=X.q(i,Ms(".quick-input-list-rows")),i=X.q(e,Ms(".quick-input-list-row")),e=X.q(e,Ms(".quick-input-list-row")),t.label=new Os.a(i,{supportHighlights:!0,supportDescriptionHighlights:!0,supportIcons:!0}),i=X.q(i,Ms(".quick-input-list-entry-keybinding")),t.keybinding=new Ns(i,ke.a),e=X.q(e,Ms(".quick-input-list-label-meta")),t.detail=new Ls.a(e,!0),t.separator=X.q(t.entry,Ms(".quick-input-list-separator")),t.actionBar=new Qi.a(t.entry),t.actionBar.domNode.classList.add("quick-input-list-entry-action-bar"),t.toDisposeTemplate.push(t.actionBar),t}renderElement(e,t,i){i.toDisposeElement=Object(he.f)(i.toDisposeElement),i.element=e,i.checkbox.checked=e.checked,i.toDisposeElement.push(e.onChecked(e=>i.checkbox.checked=e));var{labelHighlights:n,descriptionHighlights:o,detailHighlights:r}=e;const s=Object.create(null);s.matches=n||[],s.descriptionTitle=e.saneDescription,s.descriptionMatches=o||[],s.extraClasses=e.item.iconClasses,s.italic=e.item.italic,s.strikethrough=e.item.strikethrough,i.label.setLabel(e.saneLabel,e.saneDescription,s),i.keybinding.set(e.item.keybinding),i.detail.set(e.saneDetail,r),e.separator&&e.separator.label?(i.separator.textContent=e.separator.label,i.separator.style.display=""):i.separator.style.display="none",i.entry.classList.toggle("quick-input-list-separator-border",!!e.separator),i.actionBar.clear();const a=e.item.buttons;a&&a.length?(i.actionBar.push(a.map((t,i)=>{let n=t.iconClass||(t.iconPath?ys(t.iconPath):void 0);t.alwaysVisible&&(n=n?n+" always-visible":"always-visible");const o=new en.a("id-"+i,"",n,!0,()=>function(e,t,i,n){return new(i=i||Promise)((function(o,r){function s(e){try{l(n.next(e))}catch(e){r(e)}}function a(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):((t=e.value)instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))}(this,void 0,void 0,(function*(){e.fireButtonTriggered({button:t,item:e.item})})));return o.tooltip=t.tooltip||"",o}),{icon:!0,label:!1}),i.entry.classList.add("has-actions")):i.entry.classList.remove("has-actions")}disposeElement(e,t,i){i.toDisposeElement=Object(he.f)(i.toDisposeElement)}disposeTemplate(e){e.toDisposeElement=Object(he.f)(e.toDisposeElement),e.toDisposeTemplate=Object(he.f)(e.toDisposeTemplate)}}Ps.ID="listelement";class Rs{getHeight(e){return e.saneDetail?44:22}getTemplateId(e){return Ps.ID}}(vt=Ts=Ts||{})[vt.First=1]="First",vt[vt.Second=2]="Second",vt[vt.Last=3]="Last",vt[vt.Next=4]="Next",vt[vt.Previous=5]="Previous",vt[vt.NextPage=6]="NextPage",vt[vt.PreviousPage=7]="PreviousPage";class Fs{constructor(e,t,i){this.parent=e,this.inputElements=[],this.elements=[],this.elementsToIndexes=new Map,this.matchOnDescription=!1,this.matchOnDetail=!1,this.matchOnLabel=!0,this.matchOnMeta=!0,this.sortByLabel=!0,this._onChangedAllVisibleChecked=new W.b,this.onChangedAllVisibleChecked=this._onChangedAllVisibleChecked.event,this._onChangedCheckedCount=new W.b,this.onChangedCheckedCount=this._onChangedCheckedCount.event,this._onChangedVisibleCount=new W.b,this.onChangedVisibleCount=this._onChangedVisibleCount.event,this._onChangedCheckedElements=new W.b,this.onChangedCheckedElements=this._onChangedCheckedElements.event,this._onButtonTriggered=new W.b,this.onButtonTriggered=this._onButtonTriggered.event,this._onKeyDown=new W.b,this.onKeyDown=this._onKeyDown.event,this._onLeave=new W.b,this.onLeave=this._onLeave.event,this._fireCheckedEvents=!0,this.elementDisposables=[],this.disposables=[],this.id=t,this.container=X.q(this.parent,Ms(".quick-input-list"));var n=new Rs;e=new js;this.list=i.createList("QuickInput",this.container,n,[new Ps],{identityProvider:{getId:e=>e.saneLabel},setRowLineHeight:!1,multipleSelectionSupport:!1,horizontalScrolling:!1,accessibilityProvider:e}),this.list.getHTMLElement().id=t,this.disposables.push(this.list),this.disposables.push(this.list.onKeyDown(e=>{var t=new Xt.a(e);switch(t.keyCode){case 10:this.toggleCheckbox();break;case 31:(ke.f?e.metaKey:e.ctrlKey)&&this.list.setFocus(Object(pt.r)(this.list.length));break;case 16:var i=this.list.getFocus();1===i.length&&0===i[0]&&this._onLeave.fire();break;case 18:1===(i=this.list.getFocus()).length&&i[0]===this.list.length-1&&this._onLeave.fire()}this._onKeyDown.fire(t)})),this.disposables.push(this.list.onMouseDown(e=>{2!==e.browserEvent.button&&e.browserEvent.preventDefault()})),this.disposables.push(X.i(this.container,X.d.CLICK,e=>{(e.x||e.y)&&this._onLeave.fire()})),this.disposables.push(this.list.onMouseMiddleClick(e=>{this._onLeave.fire()})),this.disposables.push(this.list.onContextMenu(e=>{"number"==typeof e.index&&(e.browserEvent.preventDefault(),this.list.setSelection([e.index]))})),this.disposables.push(this._onChangedAllVisibleChecked,this._onChangedCheckedCount,this._onChangedVisibleCount,this._onChangedCheckedElements,this._onButtonTriggered,this._onLeave,this._onKeyDown)}get onDidChangeFocus(){return W.c.map(this.list.onDidChangeFocus,e=>e.elements.map(e=>e.item))}get onDidChangeSelection(){return W.c.map(this.list.onDidChangeSelection,e=>({items:e.elements.map(e=>e.item),event:e.browserEvent}))}get scrollTop(){return this.list.scrollTop}set scrollTop(e){this.list.scrollTop=e}getAllVisibleChecked(){return this.allVisibleChecked(this.elements,!1)}allVisibleChecked(e,t=!0){for(let n=0,o=e.length;n<o;n++){var i=e[n];if(!i.hidden){if(!i.checked)return!1;t=!0}}return t}getCheckedCount(){let e=0;var t=this.elements;for(let i=0,n=t.length;i<n;i++)t[i].checked&&e++;return e}getVisibleCount(){let e=0;var t=this.elements;for(let i=0,n=t.length;i<n;i++)t[i].hidden||e++;return e}setAllVisibleChecked(e){try{this._fireCheckedEvents=!1,this.elements.forEach(t=>{t.hidden||(t.checked=e)})}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}setElements(e){this.elementDisposables=Object(he.f)(this.elementDisposables);const t=e=>this.fireButtonTriggered(e);this.inputElements=e,this.elements=e.reduce((i,n,o)=>{if("separator"!==n.type){var r=o&&e[o-1];const l=n.label&&n.label.replace(/\r?\n/g," ");var s=n.meta&&n.meta.replace(/\r?\n/g," ");const c=n.description&&n.description.replace(/\r?\n/g," "),d=n.detail&&n.detail.replace(/\r?\n/g," ");var a=n.ariaLabel||[l,c,d].map(e=>Object(sn.c)(e)).filter(e=>!!e).join(", ");i.push(new As({index:o,item:n,saneLabel:l,saneMeta:s,saneAriaLabel:a,saneDescription:c,saneDetail:d,labelHighlights:null===(a=n.highlights)||void 0===a?void 0:a.label,descriptionHighlights:null===(a=n.highlights)||void 0===a?void 0:a.description,detailHighlights:null===(n=n.highlights)||void 0===n?void 0:n.detail,checked:!1,separator:r&&"separator"===r.type?r:void 0,fireButtonTriggered:t}))}return i},[]),this.elementDisposables.push(...this.elements),this.elementDisposables.push(...this.elements.map(e=>e.onChecked(()=>this.fireCheckedEvents()))),this.elementsToIndexes=this.elements.reduce((e,t,i)=>(e.set(t.item,i),e),new Map),this.list.splice(0,this.list.length),this.list.splice(0,this.list.length,this.elements),this._onChangedVisibleCount.fire(this.elements.length)}getFocusedElements(){return this.list.getFocusedElements().map(e=>e.item)}setFocusedElements(e){this.list.setFocus(e.filter(e=>this.elementsToIndexes.has(e)).map(e=>this.elementsToIndexes.get(e))),0<e.length&&"number"==typeof(e=this.list.getFocus()[0])&&this.list.reveal(e)}getActiveDescendant(){return this.list.getHTMLElement().getAttribute("aria-activedescendant")}setSelectedElements(e){this.list.setSelection(e.filter(e=>this.elementsToIndexes.has(e)).map(e=>this.elementsToIndexes.get(e)))}getCheckedElements(){return this.elements.filter(e=>e.checked).map(e=>e.item)}setCheckedElements(e){try{this._fireCheckedEvents=!1;const t=new Set;for(const i of e)t.add(i);for(const e of this.elements)e.checked=t.has(e.item)}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}set enabled(e){this.list.getHTMLElement().style.pointerEvents=e?"":"none"}focus(e){if(this.list.length){switch(e=(e=(e=e===Ts.Next&&this.list.getFocus()[0]===this.list.length-1?Ts.First:e)===Ts.Previous&&0===this.list.getFocus()[0]?Ts.Last:e)===Ts.Second&&this.list.length<2?Ts.First:e){case Ts.First:this.list.focusFirst();break;case Ts.Second:this.list.focusNth(1);break;case Ts.Last:this.list.focusLast();break;case Ts.Next:this.list.focusNext();break;case Ts.Previous:this.list.focusPrevious();break;case Ts.NextPage:this.list.focusNextPage();break;case Ts.PreviousPage:this.list.focusPreviousPage()}"number"==typeof(e=this.list.getFocus()[0])&&this.list.reveal(e)}}clearFocus(){this.list.setFocus([])}domFocus(){this.list.domFocus()}layout(e){this.list.getHTMLElement().style.maxHeight=e?`calc(${44*Math.floor(e/44)}px)`:"",this.list.layout()}filter(e){if(!(this.sortByLabel||this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))return this.list.layout(),!1;if((e=e.trim())&&(this.matchOnLabel||this.matchOnDescription||this.matchOnDetail)){let t;this.elements.forEach(i=>{var n=this.matchOnLabel?Object(De.p)(Object(mr.c)(e,Object(mr.d)(i.saneLabel))):void 0,o=this.matchOnDescription?Object(De.p)(Object(mr.c)(e,Object(mr.d)(i.saneDescription||""))):void 0,r=this.matchOnDetail?Object(De.p)(Object(mr.c)(e,Object(mr.d)(i.saneDetail||""))):void 0,s=this.matchOnMeta?Object(De.p)(Object(mr.c)(e,Object(mr.d)(i.saneMeta||""))):void 0;n||o||r||s?(i.labelHighlights=n,i.descriptionHighlights=o,i.detailHighlights=r,i.hidden=!1):(i.labelHighlights=void 0,i.descriptionHighlights=void 0,i.detailHighlights=void 0,i.hidden=!i.item.alwaysShow),i.separator=void 0,this.sortByLabel||(r=i.index&&this.inputElements[i.index-1],t=r&&"separator"===r.type?r:t,t&&!i.hidden&&(i.separator=t,t=void 0))})}else this.elements.forEach(e=>{e.labelHighlights=void 0,e.descriptionHighlights=void 0,e.detailHighlights=void 0,e.hidden=!1;var t=e.index&&this.inputElements[e.index-1];e.separator=t&&"separator"===t.type?t:void 0});const t=this.elements.filter(e=>!e.hidden);if(this.sortByLabel&&e){const i=e.toLowerCase();t.sort((e,t)=>{return o=t,r=i,e=(n=e).labelHighlights||[],t=o.labelHighlights||[],!e.length||t.length?e.length||!t.length?0!==e.length||0!==t.length?function(e,t,i){const n=e.toLowerCase(),o=t.toLowerCase();return(e=function(e,t,i){const n=e.toLowerCase(),o=t.toLowerCase(),r=n.startsWith(i),s=o.startsWith(i);if(r!==s)return r?-1:1;if(r&&s){if(n.length<o.length)return-1;if(n.length>o.length)return 1}return 0}(e,t,i))?e:(t=n.endsWith(i))!==o.endsWith(i)?t?-1:1:(t=(e=n)||"",e=(i=o)||"",i=Is.value.collator.compare(t,e),0!==(i=Is.value.collatorIsNumeric&&0===i&&t!==e?t<e?-1:1:i)?i:n.localeCompare(o))}(n.saneLabel,o.saneLabel,r):0:1:-1;var n,o,r})}return this.elementsToIndexes=t.reduce((e,t,i)=>(e.set(t.item,i),e),new Map),this.list.splice(0,this.list.length,t),this.list.setFocus([]),this.list.layout(),this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedVisibleCount.fire(t.length),!0}toggleCheckbox(){try{this._fireCheckedEvents=!1;var e=this.list.getFocusedElements(),t=this.allVisibleChecked(e);for(const i of e)i.checked=!t}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}display(e){this.container.style.display=e?"":"none"}isDisplayed(){return"none"!==this.container.style.display}dispose(){this.elementDisposables=Object(he.f)(this.elementDisposables),this.disposables=Object(he.f)(this.disposables)}fireCheckedEvents(){this._fireCheckedEvents&&(this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedCheckedCount.fire(this.getCheckedCount()),this._onChangedCheckedElements.fire(this.getCheckedElements()))}fireButtonTriggered(e){this._onButtonTriggered.fire(e)}style(e){this.list.style(e)}}t([Li.a],Fs.prototype,"onDidChangeFocus",null),t([Li.a],Fs.prototype,"onDidChangeSelection",null);class js{getWidgetAriaLabel(){return Object(di.a)("quickInput","Quick Input")}getAriaLabel(e){return e.saneAriaLabel}getWidgetRole(){return"listbox"}getRole(){return"option"}}var Bs=function(e,t,i,n){return new(i=i||Promise)((function(o,r){function s(e){try{l(n.next(e))}catch(e){r(e)}}function a(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):((t=e.value)instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};const Ws=X.a,Vs={iconClass:Object(sn.e)("quick-input-back",sn.b.arrowLeft).classNames,tooltip:Object(di.a)("quickInput.back","Back"),handle:-1};class zs extends he.a{constructor(e){super(),this.ui=e,this.visible=!1,this._enabled=!0,this._busy=!1,this._ignoreFocusOut=!1,this._buttons=[],this.noValidationMessage=zs.noPromptMessage,this._severity=Jt.a.Ignore,this.buttonsUpdated=!1,this.onDidTriggerButtonEmitter=this._register(new W.b),this.onDidHideEmitter=this._register(new W.b),this.onDisposeEmitter=this._register(new W.b),this.visibleDisposables=this._register(new he.b),this.onDidHide=this.onDidHideEmitter.event}get title(){return this._title}set title(e){this._title=e,this.update()}get description(){return this._description}set description(e){this._description=e,this.update()}get step(){return this._steps}set step(e){this._steps=e,this.update()}get totalSteps(){return this._totalSteps}set totalSteps(e){this._totalSteps=e,this.update()}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this.update()}get contextKey(){return this._contextKey}set contextKey(e){this._contextKey=e,this.update()}get busy(){return this._busy}set busy(e){this._busy=e,this.update()}get ignoreFocusOut(){return this._ignoreFocusOut}set ignoreFocusOut(e){var t=this._ignoreFocusOut!==e&&!ke.c;this._ignoreFocusOut=e&&!ke.c,t&&this.update()}get buttons(){return this._buttons}set buttons(e){this._buttons=e,this.buttonsUpdated=!0,this.update()}get validationMessage(){return this._validationMessage}set validationMessage(e){this._validationMessage=e,this.update()}get severity(){return this._severity}set severity(e){this._severity=e,this.update()}show(){this.visible||(this.visibleDisposables.add(this.ui.onDidTriggerButton(e=>{-1!==this.buttons.indexOf(e)&&this.onDidTriggerButtonEmitter.fire(e)})),this.ui.show(this),this.visible=!0,this._lastValidationMessage=void 0,this._lastSeverity=void 0,this.buttons.length&&(this.buttonsUpdated=!0),this.update())}hide(){this.visible&&this.ui.hide()}didHide(e=xs.c.Other){this.visible=!1,this.visibleDisposables.clear(),this.onDidHideEmitter.fire({reason:e})}update(){if(this.visible){var e=this.getTitle();if(e&&this.ui.title.textContent!==e?this.ui.title.textContent=e:e||"&nbsp;"===this.ui.title.innerHTML||(this.ui.title.innerText=" "),e=this.getDescription(),this.ui.description1.textContent!==e&&(this.ui.description1.textContent=e),this.ui.description2.textContent!==e&&(this.ui.description2.textContent=e),this.busy&&!this.busyDelay&&(this.busyDelay=new xe.g,this.busyDelay.setIfNotSet(()=>{this.visible&&this.ui.progressBar.infinite()},800)),!this.busy&&this.busyDelay&&(this.ui.progressBar.stop(),this.busyDelay.cancel(),this.busyDelay=void 0),this.buttonsUpdated){this.buttonsUpdated=!1,this.ui.leftActionBar.clear();const e=this.buttons.filter(e=>e===Vs);this.ui.leftActionBar.push(e.map((e,t)=>{const i=new en.a("id-"+t,"",e.iconClass||ys(e.iconPath),!0,()=>Bs(this,void 0,void 0,(function*(){this.onDidTriggerButtonEmitter.fire(e)})));return i.tooltip=e.tooltip||"",i}),{icon:!0,label:!1}),this.ui.rightActionBar.clear();const t=this.buttons.filter(e=>e!==Vs);this.ui.rightActionBar.push(t.map((e,t)=>{const i=new en.a("id-"+t,"",e.iconClass||ys(e.iconPath),!0,()=>Bs(this,void 0,void 0,(function*(){this.onDidTriggerButtonEmitter.fire(e)})));return i.tooltip=e.tooltip||"",i}),{icon:!0,label:!1})}this.ui.ignoreFocusOut=this.ignoreFocusOut,this.ui.setEnabled(this.enabled),this.ui.setContextKey(this.contextKey),e=this.validationMessage||this.noValidationMessage,this._lastValidationMessage!==e&&(this._lastValidationMessage=e,X.R(this.ui.message,...Object(gs.a)(e))),this._lastSeverity!==this.severity&&(this._lastSeverity=this.severity,this.showMessageDecoration(this.severity))}}getTitle(){return this.title&&this.step?`${this.title} (${this.getSteps()})`:this.title||(this.step?this.getSteps():"")}getDescription(){return this.description||""}getSteps(){return this.step&&this.totalSteps?Object(di.a)("quickInput.steps","{0}/{1}",this.step,this.totalSteps):this.step?String(this.step):""}showMessageDecoration(e){this.ui.inputBox.showDecoration(e),e!==Jt.a.Ignore?(e=this.ui.inputBox.stylesForType(e),this.ui.message.style.color=e.foreground?""+e.foreground:"",this.ui.message.style.backgroundColor=e.background?""+e.background:"",this.ui.message.style.border=e.border?"1px solid "+e.border:"",this.ui.message.style.paddingBottom="4px"):(this.ui.message.style.color="",this.ui.message.style.backgroundColor="",this.ui.message.style.border="",this.ui.message.style.paddingBottom="")}dispose(){this.hide(),this.onDisposeEmitter.fire(),super.dispose()}}zs.noPromptMessage=Object(di.a)("inputModeEntry","Press 'Enter' to confirm your input or 'Escape' to cancel");class Hs extends zs{constructor(){super(...arguments),this._value="",this.onDidChangeValueEmitter=this._register(new W.b),this.onWillAcceptEmitter=this._register(new W.b),this.onDidAcceptEmitter=this._register(new W.b),this.onDidCustomEmitter=this._register(new W.b),this._items=[],this.itemsUpdated=!1,this._canSelectMany=!1,this._canAcceptInBackground=!1,this._matchOnDescription=!1,this._matchOnDetail=!1,this._matchOnLabel=!0,this._sortByLabel=!0,this._autoFocusOnList=!0,this._keepScrollPosition=!1,this._itemActivation=this.ui.isScreenReaderOptimized()?xs.a.NONE:xs.a.FIRST,this._activeItems=[],this.activeItemsUpdated=!1,this.activeItemsToConfirm=[],this.onDidChangeActiveEmitter=this._register(new W.b),this._selectedItems=[],this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=[],this.onDidChangeSelectionEmitter=this._register(new W.b),this.onDidTriggerItemButtonEmitter=this._register(new W.b),this.valueSelectionUpdated=!0,this._ok="default",this._customButton=!1,this.filterValue=e=>e,this.onDidChangeValue=this.onDidChangeValueEmitter.event,this.onWillAccept=this.onWillAcceptEmitter.event,this.onDidAccept=this.onDidAcceptEmitter.event,this.onDidChangeActive=this.onDidChangeActiveEmitter.event,this.onDidChangeSelection=this.onDidChangeSelectionEmitter.event,this.onDidTriggerItemButton=this.onDidTriggerItemButtonEmitter.event}get quickNavigate(){return this._quickNavigate}set quickNavigate(e){this._quickNavigate=e,this.update()}get value(){return this._value}set value(e){this._value!==e&&(this._value=e||"",this.update(),this.onDidChangeValueEmitter.fire(this._value))}set ariaLabel(e){this._ariaLabel=e,this.update()}get ariaLabel(){return this._ariaLabel}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.update()}get items(){return this._items}get scrollTop(){return this.ui.list.scrollTop}set scrollTop(e){this.ui.list.scrollTop=e}set items(e){this._items=e,this.itemsUpdated=!0,this.update()}get canSelectMany(){return this._canSelectMany}set canSelectMany(e){this._canSelectMany=e,this.update()}get canAcceptInBackground(){return this._canAcceptInBackground}set canAcceptInBackground(e){this._canAcceptInBackground=e}get matchOnDescription(){return this._matchOnDescription}set matchOnDescription(e){this._matchOnDescription=e,this.update()}get matchOnDetail(){return this._matchOnDetail}set matchOnDetail(e){this._matchOnDetail=e,this.update()}get matchOnLabel(){return this._matchOnLabel}set matchOnLabel(e){this._matchOnLabel=e,this.update()}get sortByLabel(){return this._sortByLabel}set sortByLabel(e){this._sortByLabel=e,this.update()}get autoFocusOnList(){return this._autoFocusOnList}set autoFocusOnList(e){this._autoFocusOnList=e,this.update()}get keepScrollPosition(){return this._keepScrollPosition}set keepScrollPosition(e){this._keepScrollPosition=e}get itemActivation(){return this._itemActivation}set itemActivation(e){this._itemActivation=e}get activeItems(){return this._activeItems}set activeItems(e){this._activeItems=e,this.activeItemsUpdated=!0,this.update()}get selectedItems(){return this._selectedItems}set selectedItems(e){this._selectedItems=e,this.selectedItemsUpdated=!0,this.update()}get keyMods(){return this._quickNavigate?xs.b:this.ui.keyMods}set valueSelection(e){this._valueSelection=e,this.valueSelectionUpdated=!0,this.update()}get customButton(){return this._customButton}set customButton(e){this._customButton=e,this.update()}get customLabel(){return this._customButtonLabel}set customLabel(e){this._customButtonLabel=e,this.update()}get customHover(){return this._customButtonHover}set customHover(e){this._customButtonHover=e,this.update()}get ok(){return this._ok}set ok(e){this._ok=e,this.update()}get hideInput(){return!!this._hideInput}set hideInput(e){this._hideInput=e,this.update()}trySelectFirst(){this.autoFocusOnList&&(this.canSelectMany||this.ui.list.focus(Ts.First))}show(){this.visible||(this.visibleDisposables.add(this.ui.inputBox.onDidChange(e=>{e!==this.value&&(this._value=e,this.ui.list.filter(this.filterValue(this.ui.inputBox.value))&&this.trySelectFirst(),this.onDidChangeValueEmitter.fire(e))})),this.visibleDisposables.add(this.ui.inputBox.onMouseDown(e=>{this.autoFocusOnList||this.ui.list.clearFocus()})),this.visibleDisposables.add((this._hideInput?this.ui.list:this.ui.inputBox).onKeyDown(e=>{switch(e.keyCode){case 18:this.ui.list.focus(Ts.Next),this.canSelectMany&&this.ui.list.domFocus(),X.c.stop(e,!0);break;case 16:this.ui.list.getFocusedElements().length?this.ui.list.focus(Ts.Previous):this.ui.list.focus(Ts.Last),this.canSelectMany&&this.ui.list.domFocus(),X.c.stop(e,!0);break;case 12:this.ui.list.focus(Ts.NextPage),this.canSelectMany&&this.ui.list.domFocus(),X.c.stop(e,!0);break;case 11:this.ui.list.focus(Ts.PreviousPage),this.canSelectMany&&this.ui.list.domFocus(),X.c.stop(e,!0);break;case 17:if(!this._canAcceptInBackground)return;if(!this.ui.inputBox.isSelectionAtEnd())return;this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!0));break;case 14:!e.ctrlKey&&!e.metaKey||e.shiftKey||e.altKey||(this.ui.list.focus(Ts.First),X.c.stop(e,!0));break;case 13:!e.ctrlKey&&!e.metaKey||e.shiftKey||e.altKey||(this.ui.list.focus(Ts.Last),X.c.stop(e,!0))}})),this.visibleDisposables.add(this.ui.onDidAccept(()=>{this.canSelectMany?this.ui.list.getCheckedElements().length||(this._selectedItems=[],this.onDidChangeSelectionEmitter.fire(this.selectedItems)):this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems)),this.handleAccept(!1)})),this.visibleDisposables.add(this.ui.onDidCustom(()=>{this.onDidCustomEmitter.fire()})),this.visibleDisposables.add(this.ui.list.onDidChangeFocus(e=>{this.activeItemsUpdated||this.activeItemsToConfirm!==this._activeItems&&Object(pt.g)(e,this._activeItems,(e,t)=>e===t)||(this._activeItems=e,this.onDidChangeActiveEmitter.fire(e))})),this.visibleDisposables.add(this.ui.list.onDidChangeSelection(({items:e,event:t})=>{this.canSelectMany?e.length&&this.ui.list.setSelectedElements([]):this.selectedItemsToConfirm!==this._selectedItems&&Object(pt.g)(e,this._selectedItems,(e,t)=>e===t)||(this._selectedItems=e,this.onDidChangeSelectionEmitter.fire(e),e.length&&this.handleAccept(t instanceof MouseEvent&&1===t.button))})),this.visibleDisposables.add(this.ui.list.onChangedCheckedElements(e=>{this.canSelectMany&&(this.selectedItemsToConfirm!==this._selectedItems&&Object(pt.g)(e,this._selectedItems,(e,t)=>e===t)||(this._selectedItems=e,this.onDidChangeSelectionEmitter.fire(e)))})),this.visibleDisposables.add(this.ui.list.onButtonTriggered(e=>this.onDidTriggerItemButtonEmitter.fire(e))),this.visibleDisposables.add(this.registerQuickNavigation()),this.valueSelectionUpdated=!0),super.show()}handleAccept(e){let t=!1;this.onWillAcceptEmitter.fire({veto:()=>t=!0}),t||this.onDidAcceptEmitter.fire({inBackground:e})}registerQuickNavigation(){return X.i(this.ui.container,X.d.KEY_UP,e=>{if(!this.canSelectMany&&this._quickNavigate){const t=new Xt.a(e),i=t.keyCode;this._quickNavigate.keybindings.some(e=>{var[n,e]=e.getParts();return!(e||(n.shiftKey&&4===i?t.ctrlKey||t.altKey||t.metaKey:!(n.altKey&&6===i||n.ctrlKey&&5===i||n.metaKey&&57===i)))})&&(this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!1)),this._quickNavigate=void 0)}})}update(){if(this.visible){var e=this.keepScrollPosition?this.scrollTop:0,t=!!this._hideInput&&0<this._items.length;this.ui.container.classList.toggle("hidden-input",t&&!this.description);var i={title:!!this.title||!!this.step||!!this.buttons.length,description:!!this.description,checkAll:this.canSelectMany&&!this._hideCheckAll,checkBox:this.canSelectMany,inputBox:!t,progressBar:!t,visibleCount:!0,count:this.canSelectMany,ok:"default"===this.ok?this.canSelectMany:this.ok,list:!0,message:!!this.validationMessage,customButton:this.customButton};if(this.ui.setVisibilities(i),super.update(),this.ui.inputBox.value!==this.value&&(this.ui.inputBox.value=this.value),this.valueSelectionUpdated&&(this.valueSelectionUpdated=!1,this.ui.inputBox.select(this._valueSelection&&{start:this._valueSelection[0],end:this._valueSelection[1]})),this.ui.inputBox.placeholder!==(this.placeholder||"")&&(this.ui.inputBox.placeholder=this.placeholder||""),t=this.ariaLabel||this.placeholder||Hs.DEFAULT_ARIA_LABEL,this.ui.inputBox.ariaLabel!==t&&(this.ui.inputBox.ariaLabel=t),this.ui.list.matchOnDescription=this.matchOnDescription,this.ui.list.matchOnDetail=this.matchOnDetail,this.ui.list.matchOnLabel=this.matchOnLabel,this.ui.list.sortByLabel=this.sortByLabel,this.itemsUpdated)switch(this.itemsUpdated=!1,this.ui.list.setElements(this.items),this.ui.list.filter(this.filterValue(this.ui.inputBox.value)),this.ui.checkAll.checked=this.ui.list.getAllVisibleChecked(),this.ui.visibleCount.setCount(this.ui.list.getVisibleCount()),this.ui.count.setCount(this.ui.list.getCheckedCount()),this._itemActivation){case xs.a.NONE:this._itemActivation=xs.a.FIRST;break;case xs.a.SECOND:this.ui.list.focus(Ts.Second),this._itemActivation=xs.a.FIRST;break;case xs.a.LAST:this.ui.list.focus(Ts.Last),this._itemActivation=xs.a.FIRST;break;default:this.trySelectFirst()}this.ui.container.classList.contains("show-checkboxes")!==!!this.canSelectMany&&(this.canSelectMany?this.ui.list.clearFocus():this.trySelectFirst()),this.activeItemsUpdated&&(this.activeItemsUpdated=!1,this.activeItemsToConfirm=this._activeItems,this.ui.list.setFocusedElements(this.activeItems),this.activeItemsToConfirm===this._activeItems&&(this.activeItemsToConfirm=null)),this.selectedItemsUpdated&&(this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=this._selectedItems,this.canSelectMany?this.ui.list.setCheckedElements(this.selectedItems):this.ui.list.setSelectedElements(this.selectedItems),this.selectedItemsToConfirm===this._selectedItems&&(this.selectedItemsToConfirm=null)),this.ui.customButton.label=this.customLabel||"",this.ui.customButton.element.title=this.customHover||"",this.ui.setComboboxAccessibility(!0),i.inputBox||(this.ui.list.domFocus(),this.canSelectMany&&this.ui.list.focus(Ts.First)),this.keepScrollPosition&&(this.scrollTop=e)}}}Hs.DEFAULT_ARIA_LABEL=Object(di.a)("quickInputBox.ariaLabel","Type to narrow down results.");class Us extends he.a{constructor(e){super(),this.options=e,this.comboboxAccessibility=!1,this.enabled=!0,this.onDidAcceptEmitter=this._register(new W.b),this.onDidCustomEmitter=this._register(new W.b),this.onDidTriggerButtonEmitter=this._register(new W.b),this.keyMods={ctrlCmd:!1,alt:!1},this.controller=null,this.onShowEmitter=this._register(new W.b),this.onShow=this.onShowEmitter.event,this.onHideEmitter=this._register(new W.b),this.onHide=this.onHideEmitter.event,this.idPrefix=e.idPrefix,this.parentElement=e.container,this.styles=e.styles,this.registerKeyModsListeners()}registerKeyModsListeners(){var e=e=>{this.keyMods.ctrlCmd=e.ctrlKey||e.metaKey,this.keyMods.alt=e.altKey};this._register(X.i(window,X.d.KEY_DOWN,e,!0)),this._register(X.i(window,X.d.KEY_UP,e,!0)),this._register(X.i(window,X.d.MOUSE_DOWN,e,!0))}getUI(){if(this.ui)return this.ui;const e=X.q(this.parentElement,Ws(".quick-input-widget.show-file-icons"));e.tabIndex=-1,e.style.display="none";var t=X.w(e),i=X.q(e,Ws(".quick-input-titlebar"));const n=this._register(new Qi.a(i));n.domNode.classList.add("quick-input-left-action-bar");var o=X.q(i,Ws(".quick-input-title"));const r=this._register(new Qi.a(i));r.domNode.classList.add("quick-input-right-action-bar");var s=X.q(e,Ws(".quick-input-description")),a=X.q(e,Ws(".quick-input-header"));const l=X.q(a,Ws("input.quick-input-check-all"));l.type="checkbox",this._register(X.o(l,X.d.CHANGE,e=>{var t=l.checked;w.setAllVisibleChecked(t)})),this._register(X.i(l,X.d.CLICK,e=>{(e.x||e.y)&&u.setFocus()}));var c=X.q(a,Ws(".quick-input-description")),d=X.q(a,Ws(".quick-input-and-message")),h=X.q(d,Ws(".quick-input-filter"));const u=this._register(new Ds(h));u.setAttribute("aria-describedby",this.idPrefix+"message");const g=X.q(h,Ws(".quick-input-visible-count"));g.setAttribute("aria-live","polite"),g.setAttribute("aria-atomic","true");const p=new ms.a(g,{countFormat:Object(di.a)({key:"quickInput.visibleCount",comment:["This tells the user how many items are shown in a list of items to select from. The items can be anything. Currently not visible, but read by screen readers."]},"{0} Results")}),f=X.q(h,Ws(".quick-input-count"));f.setAttribute("aria-live","polite");const m=new ms.a(f,{countFormat:Object(di.a)({key:"quickInput.countSelected",comment:["This tells the user how many items are selected in a list of items to select from. The items can be anything."]},"{0} Selected")});var v=X.q(a,Ws(".quick-input-action"));const b=new fs(v);b.label=Object(di.a)("ok","OK"),this._register(b.onDidClick(e=>{this.onDidAcceptEmitter.fire()})),a=X.q(a,Ws(".quick-input-action"));const _=new fs(a);_.label=Object(di.a)("custom","自定义"),this._register(_.onDidClick(e=>{this.onDidCustomEmitter.fire()})),d=X.q(d,Ws(`#${this.idPrefix}message.quick-input-message`));const w=this._register(new Fs(e,this.idPrefix+"list",this.options));this._register(w.onChangedAllVisibleChecked(e=>{l.checked=e})),this._register(w.onChangedVisibleCount(e=>{p.setCount(e)})),this._register(w.onChangedCheckedCount(e=>{m.setCount(e)})),this._register(w.onLeave(()=>{setTimeout(()=>{u.setFocus(),this.controller instanceof Hs&&this.controller.canSelectMany&&w.clearFocus()},0)})),this._register(w.onDidChangeFocus(()=>{this.comboboxAccessibility&&this.getUI().inputBox.setAttribute("aria-activedescendant",this.getUI().list.getActiveDescendant()||"")}));const C=new _s(e);C.getContainer().classList.add("quick-input-progress");const y=X.Y(e);return this._register(y),this._register(X.i(e,X.d.FOCUS,e=>{this.previousFocusElement=e.relatedTarget instanceof HTMLElement?e.relatedTarget:void 0},!0)),this._register(y.onDidBlur(()=>{this.getUI().ignoreFocusOut||this.options.ignoreFocusOut()||this.hide(xs.c.Blur),this.previousFocusElement=void 0})),this._register(X.i(e,X.d.FOCUS,e=>{u.setFocus()})),this._register(X.i(e,X.d.KEY_DOWN,t=>{var i=new Xt.a(t);switch(i.keyCode){case 3:X.c.stop(t,!0),this.onDidAcceptEmitter.fire();break;case 9:X.c.stop(t,!0),this.hide(xs.c.Gesture);break;case 2:if(!i.altKey&&!i.ctrlKey&&!i.metaKey){const n=[".action-label.codicon"];e.classList.contains("show-checkboxes")?n.push("input"):n.push("input[type=text]"),this.getUI().list.isDisplayed()&&n.push(".monaco-list");const o=e.querySelectorAll(n.join(", "));i.shiftKey&&i.target===o[0]?(X.c.stop(t,!0),o[o.length-1].focus()):i.shiftKey||i.target!==o[o.length-1]||(X.c.stop(t,!0),o[0].focus())}}})),this.ui={container:e,styleSheet:t,leftActionBar:n,titleBar:i,title:o,description1:s,description2:c,rightActionBar:r,checkAll:l,filterContainer:h,inputBox:u,visibleCountContainer:g,visibleCount:p,countContainer:f,count:m,okContainer:v,ok:b,message:d,customButtonContainer:a,customButton:_,list:w,progressBar:C,onDidAccept:this.onDidAcceptEmitter.event,onDidCustom:this.onDidCustomEmitter.event,onDidTriggerButton:this.onDidTriggerButtonEmitter.event,ignoreFocusOut:!1,keyMods:this.keyMods,isScreenReaderOptimized:()=>this.options.isScreenReaderOptimized(),show:e=>this.show(e),hide:()=>this.hide(),setVisibilities:e=>this.setVisibilities(e),setComboboxAccessibility:e=>this.setComboboxAccessibility(e),setEnabled:e=>this.setEnabled(e),setContextKey:e=>this.options.setContextKey(e)},this.updateStyles(),this.ui}pick(e,t={},i=B.a.None){return new Promise((n,o)=>{let r=e=>{r=n,t.onKeyMods&&t.onKeyMods(s.keyMods),n(e)};if(i.isCancellationRequested)return void r(void 0);const s=this.createQuickPick();let a;const l=[s,s.onDidAccept(()=>{var e;s.canSelectMany?(r(s.selectedItems.slice()),s.hide()):(e=s.activeItems[0])&&(r(e),s.hide())}),s.onDidChangeActive(e=>{(e=e[0])&&t.onDidFocus&&t.onDidFocus(e)}),s.onDidChangeSelection(e=>{s.canSelectMany||(e=e[0])&&(r(e),s.hide())}),s.onDidTriggerItemButton(e=>t.onDidTriggerItemButton&&t.onDidTriggerItemButton(Object.assign(Object.assign({},e),{removeItem:()=>{if(-1!==(i=s.items.indexOf(e.item))){const e=s.items.slice(),n=e.splice(i,1);var t=s.activeItems.filter(e=>e!==n[0]),i=s.keepScrollPosition;s.keepScrollPosition=!0,s.items=e,t&&(s.activeItems=t),s.keepScrollPosition=i}}}))),s.onDidChangeValue(e=>{!a||e||1===s.activeItems.length&&s.activeItems[0]===a||(s.activeItems=[a])}),i.onCancellationRequested(()=>{s.hide()}),s.onDidHide(()=>{Object(he.f)(l),r(void 0)})];s.title=t.title,s.canSelectMany=!!t.canPickMany,s.placeholder=t.placeHolder,s.ignoreFocusOut=!!t.ignoreFocusLost,s.matchOnDescription=!!t.matchOnDescription,s.matchOnDetail=!!t.matchOnDetail,s.matchOnLabel=void 0===t.matchOnLabel||t.matchOnLabel,s.autoFocusOnList=void 0===t.autoFocusOnList||t.autoFocusOnList,s.quickNavigate=t.quickNavigate,s.contextKey=t.contextKey,s.busy=!0,Promise.all([e,t.activeItem]).then(([e,t])=>{a=t,s.busy=!1,s.items=e,s.canSelectMany&&(s.selectedItems=e.filter(e=>"separator"!==e.type&&e.picked)),a&&(s.activeItems=[a])}),s.show(),Promise.resolve(e).then(void 0,e=>{o(e),s.hide()})})}createQuickPick(){var e=this.getUI();return new Hs(e)}show(e){const t=this.getUI();this.onShowEmitter.fire();const i=this.controller;this.controller=e,i&&i.didHide(),this.setEnabled(!0),t.leftActionBar.clear(),t.title.textContent="",t.description1.textContent="",t.description2.textContent="",t.rightActionBar.clear(),t.checkAll.checked=!1,t.inputBox.placeholder="",t.inputBox.password=!1,t.inputBox.showDecoration(Jt.a.Ignore),t.visibleCount.setCount(0),t.count.setCount(0),X.R(t.message),t.progressBar.stop(),t.list.setElements([]),t.list.matchOnDescription=!1,t.list.matchOnDetail=!1,t.list.matchOnLabel=!0,t.list.sortByLabel=!0,t.ignoreFocusOut=!1,this.setComboboxAccessibility(!1),t.inputBox.ariaLabel="",e=this.options.backKeybindingLabel(),Vs.tooltip=e?Object(di.a)("quickInput.backWithKeybinding","Back ({0})",e):Object(di.a)("quickInput.back","Back"),t.container.style.display="",this.updateLayout(),t.inputBox.setFocus()}setVisibilities(e){const t=this.getUI();t.title.style.display=e.title?"":"none",t.description1.style.display=e.description&&(e.inputBox||e.checkAll)?"":"none",t.description2.style.display=!e.description||e.inputBox||e.checkAll?"none":"",t.checkAll.style.display=e.checkAll?"":"none",t.filterContainer.style.display=e.inputBox?"":"none",t.visibleCountContainer.style.display=e.visibleCount?"":"none",t.countContainer.style.display=e.count?"":"none",t.okContainer.style.display=e.ok?"":"none",t.customButtonContainer.style.display=e.customButton?"":"none",t.message.style.display=e.message?"":"none",t.progressBar.getContainer().style.display=e.progressBar?"":"none",t.list.display(!!e.list),t.container.classList[e.checkBox?"add":"remove"]("show-checkboxes"),this.updateLayout()}setComboboxAccessibility(e){if(e!==this.comboboxAccessibility){const t=this.getUI();this.comboboxAccessibility=e,this.comboboxAccessibility?(t.inputBox.setAttribute("role","combobox"),t.inputBox.setAttribute("aria-haspopup","true"),t.inputBox.setAttribute("aria-autocomplete","list"),t.inputBox.setAttribute("aria-activedescendant",t.list.getActiveDescendant()||"")):(t.inputBox.removeAttribute("role"),t.inputBox.removeAttribute("aria-haspopup"),t.inputBox.removeAttribute("aria-autocomplete"),t.inputBox.removeAttribute("aria-activedescendant"))}}setEnabled(e){if(e!==this.enabled){this.enabled=e;for(const t of this.getUI().leftActionBar.viewItems)t.getAction().enabled=e;for(const t of this.getUI().rightActionBar.viewItems)t.getAction().enabled=e;this.getUI().checkAll.disabled=!e,this.getUI().ok.enabled=e,this.getUI().list.enabled=e}}hide(e){var t;const i=this.controller;i&&(t=!(null!==(t=this.ui)&&void 0!==t&&t.container.contains(document.activeElement)),this.controller=null,this.onHideEmitter.fire(),this.getUI().container.style.display="none",t||(this.previousFocusElement&&this.previousFocusElement.offsetParent?(this.previousFocusElement.focus(),this.previousFocusElement=void 0):this.options.returnFocus()),i.didHide(e))}layout(e,t){this.dimension=e,this.titleBarOffset=t,this.updateLayout()}updateLayout(){if(this.ui){this.ui.container.style.top=this.titleBarOffset+"px";const t=this.ui.container.style;var e=Math.min(.62*this.dimension.width,Us.MAX_WIDTH);t.width=e+"px",t.marginLeft="-"+e/2+"px",this.ui.inputBox.layout(),this.ui.list.layout(this.dimension&&.4*this.dimension.height)}}applyStyles(e){this.styles=e,this.updateStyles()}updateStyles(){if(this.ui){const{quickInputTitleBackground:t,quickInputBackground:i,quickInputForeground:n,contrastBorder:o,widgetShadow:r}=this.styles.widget;this.ui.titleBar.style.backgroundColor=t?t.toString():"",this.ui.container.style.backgroundColor=i?i.toString():"",this.ui.container.style.color=n?n.toString():"",this.ui.container.style.border=o?"1px solid "+o:"",this.ui.container.style.boxShadow=r?"0 0 8px 2px "+r:"",this.ui.inputBox.style(this.styles.inputBox),this.ui.count.style(this.styles.countBadge),this.ui.ok.style(this.styles.button),this.ui.customButton.style(this.styles.button),this.ui.progressBar.style(this.styles.progressBar),this.ui.list.style(this.styles.list);const s=[];this.styles.list.pickerGroupBorder&&s.push(`.quick-input-list .quick-input-list-entry { border-top-color:  ${this.styles.list.pickerGroupBorder}; }`),this.styles.list.pickerGroupForeground&&s.push(`.quick-input-list .quick-input-list-separator { color:  ${this.styles.list.pickerGroupForeground}; }`),(this.styles.keybindingLabel.keybindingLabelBackground||this.styles.keybindingLabel.keybindingLabelBorder||this.styles.keybindingLabel.keybindingLabelBottomBorder||this.styles.keybindingLabel.keybindingLabelShadow||this.styles.keybindingLabel.keybindingLabelForeground)&&(s.push(".quick-input-list .monaco-keybinding > .monaco-keybinding-key {"),this.styles.keybindingLabel.keybindingLabelBackground&&s.push(`background-color: ${this.styles.keybindingLabel.keybindingLabelBackground};`),this.styles.keybindingLabel.keybindingLabelBorder&&s.push(`border-color: ${this.styles.keybindingLabel.keybindingLabelBorder};`),this.styles.keybindingLabel.keybindingLabelBottomBorder&&s.push(`border-bottom-color: ${this.styles.keybindingLabel.keybindingLabelBottomBorder};`),this.styles.keybindingLabel.keybindingLabelShadow&&s.push(`box-shadow: inset 0 -1px 0 ${this.styles.keybindingLabel.keybindingLabelShadow};`),this.styles.keybindingLabel.keybindingLabelForeground&&s.push(`color: ${this.styles.keybindingLabel.keybindingLabelForeground};`),s.push("}"));var e=s.join("\n");e!==this.ui.styleSheet.textContent&&(this.ui.styleSheet.textContent=e)}}}Us.MAX_WIDTH=600;var $s=i(138),Ks=i(162),qs=i(132);mt=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;0<=a;a--)(o=e[a])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s},re=function(e,t){return function(i,n){t(i,n,e)}};let Gs=class extends he.a{constructor(e,t){super(),this.quickInputService=e,this.instantiationService=t,this.registry=bo.a.as(Ks.b.Quickaccess),this.mapProviderToDescriptor=new Map,this.lastAcceptedPickerValues=new Map,this.visibleQuickAccess=void 0}show(e="",t){this.doShowOrPick(e,!1,t)}doShowOrPick(e,t,i){const[n,o]=this.getOrInstantiateProvider(e),r=this.visibleQuickAccess;var s,a=null==r?void 0:r.descriptor;if(r&&o&&a===o)return e===o.prefix||null!=i&&i.preserveValue||(r.picker.value=e),void this.adjustValueSelection(r.picker,o,i);if(o&&(null==i||!i.preserveValue)){let t=void 0;r&&a&&a!==o&&(s=r.value.substr(a.prefix.length))&&(t=`${o.prefix}${s}`),t||((s=null==n?void 0:n.defaultFilterValue)===Ks.a.LAST?t=this.lastAcceptedPickerValues.get(o):"string"==typeof s&&(t=`${o.prefix}${s}`)),"string"==typeof t&&(e=t)}const l=new he.b,c=l.add(this.quickInputService.createQuickPick());c.value=e,this.adjustValueSelection(c,o,i),c.placeholder=null==o?void 0:o.placeholder,c.quickNavigate=null==i?void 0:i.quickNavigateConfiguration,c.hideInput=!!c.quickNavigate&&!r,("number"==typeof(null==i?void 0:i.itemActivation)||null!=i&&i.quickNavigateConfiguration)&&(c.itemActivation=null!==(i=null==i?void 0:i.itemActivation)&&void 0!==i?i:qs.b.SECOND),c.contextKey=null==o?void 0:o.contextKey,c.filterValue=e=>e.substring(o?o.prefix.length:0),null!=o&&o.placeholder&&(c.ariaLabel=null==o?void 0:o.placeholder);let d=void 0,h=void 0;t&&(d=new Promise(e=>h=e),l.add(Object($s.a)(c.onWillAccept)(e=>{e.veto(),c.hide()}))),l.add(this.registerPickerListeners(c,n,o,e));const u=l.add(new B.b);return n&&l.add(n.provide(c,u.token)),Object($s.a)(c.onDidHide)(()=>{0===c.selectedItems.length&&u.cancel(),l.dispose(),null!=h&&h(c.selectedItems)}),c.show(),t?d:void 0}adjustValueSelection(e,t,i){let n;n=null!=i&&i.preserveValue?[e.value.length,e.value.length]:[null!==(t=null==t?void 0:t.prefix.length)&&void 0!==t?t:0,e.value.length],e.valueSelection=n}registerPickerListeners(e,t,i,n){const o=new he.b,r=this.visibleQuickAccess={picker:e,descriptor:i,value:n};return o.add(Object(he.i)(()=>{r===this.visibleQuickAccess&&(this.visibleQuickAccess=void 0)})),o.add(e.onDidChangeValue(e=>{var[i]=this.getOrInstantiateProvider(e);i!==t?this.show(e,{preserveValue:!0}):r.value=e})),i&&o.add(e.onDidAccept(()=>{this.lastAcceptedPickerValues.set(i,e.value)})),o}getOrInstantiateProvider(e){if(!(e=this.registry.getQuickAccessProvider(e)))return[void 0,void 0];let t=this.mapProviderToDescriptor.get(e);return t||(t=this.instantiationService.createInstance(e.ctor),this.mapProviderToDescriptor.set(e,t)),[t,e]}};Gs=mt([re(0,qs.a),re(1,wn.a)],Gs);var Ys;vt=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;0<=a;a--)(o=e[a])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s},t=function(e,t){return function(i,n){t(i,n,e)}},Li=class extends rn.c{constructor(e,t,i,n,o){super(i),this.instantiationService=e,this.contextKeyService=t,this.accessibilityService=n,this.layoutService=o,this.contexts=new Map}get controller(){return this._controller||(this._controller=this._register(this.createController())),this._controller}get quickAccess(){return this._quickAccess||(this._quickAccess=this._register(this.instantiationService.createInstance(Gs))),this._quickAccess}createController(e=this.layoutService,t){var i={idPrefix:"quickInput_",container:e.container,ignoreFocusOut:()=>!1,isScreenReaderOptimized:()=>this.accessibilityService.isScreenReaderOptimized(),backKeybindingLabel:()=>{},setContextKey:e=>this.setContextKey(e),returnFocus:()=>e.focus(),createList:(e,t,i,n,o)=>this.instantiationService.createInstance(Br.d,e,t,i,n,o),styles:this.computeStyles()};const n=this._register(new Us(Object.assign(Object.assign({},i),t)));return n.layout(e.dimension,null!==(t=null===(t=e.offset)||void 0===t?void 0:t.top)&&void 0!==t?t:0),this._register(e.onDidLayout(t=>n.layout(t,null!==(t=null===(t=e.offset)||void 0===t?void 0:t.top)&&void 0!==t?t:0))),this._register(n.onShow(()=>this.resetContextKeys())),this._register(n.onHide(()=>this.resetContextKeys())),n}setContextKey(e){let t;e&&(t=this.contexts.get(e),t||(t=new pi.c(e,!1).bindTo(this.contextKeyService),this.contexts.set(e,t))),t&&t.get()||(this.resetContextKeys(),t&&t.set(!0))}resetContextKeys(){this.contexts.forEach(e=>{e.get()&&e.reset()})}pick(e,t={},i=B.a.None){return this.controller.pick(e,t,i)}createQuickPick(){return this.controller.createQuickPick()}updateStyles(){this.controller.applyStyles(this.computeStyles())}computeStyles(){return{widget:Object.assign({},Object(Dr.d)(this.theme,{quickInputBackground:on.wc,quickInputForeground:on.xc,quickInputTitleBackground:on.Bc,contrastBorder:on.h,widgetShadow:on.Tc})),inputBox:Object(Dr.d)(this.theme,{inputForeground:on.pb,inputBackground:on.nb,inputBorder:on.ob,inputValidationInfoBackground:on.tb,inputValidationInfoForeground:on.vb,inputValidationInfoBorder:on.ub,inputValidationWarningBackground:on.wb,inputValidationWarningForeground:on.yb,inputValidationWarningBorder:on.xb,inputValidationErrorBackground:on.qb,inputValidationErrorForeground:on.sb,inputValidationErrorBorder:on.rb}),countBadge:Object(Dr.d)(this.theme,{badgeBackground:on.c,badgeForeground:on.d,badgeBorder:on.h}),button:Object(Dr.d)(this.theme,{buttonForeground:on.f,buttonBackground:on.e,buttonHoverBackground:on.g,buttonBorder:on.h}),progressBar:Object(Dr.d)(this.theme,{progressBarBackground:on.vc}),keybindingLabel:Object(Dr.d)(this.theme,{keybindingLabelBackground:on.zb,keybindingLabelForeground:on.Cb,keybindingLabelBorder:on.Ab,keybindingLabelBottomBorder:on.Bb,keybindingLabelShadow:on.Tc}),list:Object(Dr.d)(this.theme,{listBackground:on.wc,listInactiveFocusForeground:on.zc,listInactiveSelectionIconForeground:on.Ac,listInactiveFocusBackground:on.yc,listFocusOutline:on.b,listInactiveFocusOutline:on.b,pickerGroupBorder:on.qc,pickerGroupForeground:on.rc})}}},mt=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;0<=a;a--)(o=e[a])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s},re=function(e,t){return function(i,n){t(i,n,e)}};let Zs=class extends(Li=vt([t(0,wn.a),t(1,pi.b),t(2,rn.b),t(3,Qn.b),t(4,Er)],Li)){constructor(e,t,i,n,o,r){super(t,i,n,o,r),this.host=void 0;const s=Qs.get(e);this.host={_serviceBrand:void 0,get container(){return s.widget.getDomNode()},get dimension(){return e.getLayoutInfo()},get onDidLayout(){return e.onDidLayoutChange},focus:()=>e.focus()}}createController(){return super.createController(this.host)}};Zs=mt([re(1,wn.a),re(2,pi.b),re(3,rn.b),re(4,Qn.b),re(5,Er)],Zs);let Xs=class{constructor(e,t){this.instantiationService=e,this.codeEditorService=t,this.mapEditorToService=new Map}get activeService(){const e=this.codeEditorService.getFocusedCodeEditor();if(!e)throw new Error("Quick input service needs a focused editor to work.");let t=this.mapEditorToService.get(e);if(!t){const i=t=this.instantiationService.createInstance(Zs,e);this.mapEditorToService.set(e,t),Object($s.a)(e.onDidDispose)(()=>{i.dispose(),this.mapEditorToService.delete(e)})}return t}get quickAccess(){return this.activeService.quickAccess}pick(e,t={},i=B.a.None){return this.activeService.pick(e,t,i)}createQuickPick(){return this.activeService.createQuickPick()}};Xs=mt([re(0,wn.a),re(1,Z.a)],Xs);class Qs{constructor(e){this.editor=e,this.widget=new Js(this.editor)}static get(e){return e.getContribution(Qs.ID)}dispose(){this.widget.dispose()}}Qs.ID="editor.controller.quickInput";class Js{constructor(e){this.codeEditor=e,this.domNode=document.createElement("div"),this.codeEditor.addOverlayWidget(this)}getId(){return Js.ID}getDomNode(){return this.domNode}getPosition(){return{preference:2}}dispose(){this.codeEditor.removeOverlayWidget(this)}}Js.ID="editor.contrib.quickInputWidget",Object(tn.l)(Qs.ID,Qs),function(e){const t=new Cn.a;class i{constructor(e,t){this._serviceId=e,this._factory=t,this._value=null}get id(){return this._serviceId}get(e){if(!this._value){if(e&&(this._value=e[this._serviceId.toString()]),this._value||(this._value=this._factory(e)),!this._value)throw new Error("Service "+this._serviceId+" is missing!");t.set(this._serviceId,this._value)}return this._value}}e.LazyStaticService=i;let n=[];function o(e,t){return t=new i(e,t),n.push(t),t}e.init=function(e){let t=new Cn.a;for(var[i,o]of Object(Zr.a)())t.set(i,o);for(var r in e)e.hasOwnProperty(r)&&t.set(Object(wn.c)(r),e[r]);n.forEach(i=>t.set(i.id,i.get(e)));var s=new Rr(t,!0);return t.set(wn.a,s),[t,s]},e.instantiationService=o(wn.a,()=>new Rr(t,!0));const r=new Fi;e.configurationService=o(oi.a,()=>r),e.resourceConfigurationService=o(gt.a,()=>new ji(r)),e.resourcePropertiesService=o(gt.b,()=>new Bi(r)),e.contextService=o(ki.a,()=>new Vi),e.labelService=o(jr.a,()=>new Ui),e.telemetryService=o(sr.a,()=>new Wi),e.dialogService=o(Ir.a,()=>new Ti),e.notificationService=o(Si.a,()=>new Mi),e.markerService=o(Wr.b,()=>new Hr),e.modeService=o(Ce.a,e=>new xo),e.standaloneThemeService=o(Yn.a,()=>new Ko),e.logService=o(ft.b,()=>new ft.d(new ft.a)),e.undoRedoService=o(es.a,t=>new hs(e.dialogService.get(t),e.notificationService.get(t))),e.languageConfigurationService=o(ze.a,t=>new ze.c(e.configurationService.get(t),e.modeService.get(t))),e.modelService=o(ut.a,t=>new So.a(e.configurationService.get(t),e.resourcePropertiesService.get(t),e.standaloneThemeService.get(t),e.logService.get(t),e.undoRedoService.get(t),e.modeService.get(t),e.languageConfigurationService.get(t))),e.markerDecorationsService=o(qr.a,t=>new Yr(e.modelService.get(t),e.markerService.get(t))),e.contextKeyService=o(pi.b,t=>new nr(e.configurationService.get(t))),e.codeEditorService=o(Z.a,t=>new ao(null,e.contextKeyService.get(t),e.standaloneThemeService.get(t))),e.editorProgressService=o(Dn.a,()=>new Ii),e.storageService=o(Ur.a,()=>new Ur.b),e.editorWorkerService=o(we.a,t=>new wt(e.modelService.get(t),e.resourceConfigurationService.get(t),e.logService.get(t)))}(Ys=Ys||{});class ea extends he.a{constructor(e,t){super();const[i,n]=Ys.init(t);this._serviceCollection=i,this._instantiationService=n;const o=this.get(oi.a),r=this.get(Si.a),s=this.get(sr.a),a=this.get(rn.b),l=this.get(ft.b),c=this.get(pi.b);var d=(e,i)=>{let n=null;return t&&(n=t[e.toString()]),n=n||i(),this._serviceCollection.set(e,n),n};d(Qn.b,()=>new Xr(c,o)),d(Br.a,()=>new Br.b(a));let h=d(ne.b,()=>new Ai(this._instantiationService)),u=d(Xn.a,()=>this._register(new Pi(c,h,s,r,l,e))),g=d(Er,()=>new $i(Ys.codeEditorService.get(Z.a),e));d(qs.a,()=>new Xs(n,Ys.codeEditorService.get(Z.a)));let p=d(yn.b,()=>this._register(new Nr(g)));d(kn.a,()=>new Jr),d(yn.a,()=>{const e=new Or(s,r,p,u,a);return e.configure({blockMouse:!1}),this._register(e)}),d(Zn.a,()=>new $r(h)),d(ti.a,()=>new Hi(Ys.modelService.get(ut.a)))}get(e){var t=this._serviceCollection.get(e);if(!t)throw new Error("Missing service "+e);return t}set(e,t){this._serviceCollection.set(e,t)}has(e){return this._serviceCollection.has(e)}}function ta(e,t,i){let n=new ea(e,t),o=null;return n.has(ye.a)||(o=new Ni(Ys.modelService.get()),n.set(ye.a,o)),n.has(oe.a)||n.set(oe.a,new ce(n.get(Z.a),n.get(ne.b))),i=i(n),o&&o.setEditor(i),i}function ia(e,t){return"boolean"==typeof e?e:t}function na(e,t){return"string"==typeof e?e:t}function oa(e,t=!1){const i=function(e){const t={};for(const i of e)t[i]=!0;return t}(e=t?e.map((function(e){return e.toLowerCase()})):e);return t?function(e){return void 0!==i[e.toLowerCase()]&&i.hasOwnProperty(e.toLowerCase())}:function(e){return void 0!==i[e]&&i.hasOwnProperty(e)}}function ra(e,t){t=t.replace(/@@/g,"");let i,n=0;for(;i=!1,t=t.replace(/@(\w+)/g,(function(n,o){i=!0;let r="";if("string"==typeof e[o])r=e[o];else{if(!(e[o]&&e[o]instanceof RegExp))throw void 0===e[o]?Rt(e,"language definition does not contain attribute '"+o+"', used at: "+t):Rt(e,"attribute reference '"+o+"' must be a string, used at: "+t);r=e[o].source}return r?"(?:"+r+")":""})),n++,i&&n<5;);t=t.replace(/\x01/g,"@");var o=(e.ignoreCase?"i":"")+(e.unicode?"u":"");return new RegExp(t,o)}function sa(e,t,i,n){let o=-1,r=i,s=i.match(/^\$(([sS]?)(\d\d?)|#)(.*)$/);s&&(s[3]&&(o=parseInt(s[3]),s[2]&&(o+=100)),r=s[4]);let a,l="~",c=r;if(r&&0!==r.length?/^\w*$/.test(c)?l="==":(s=r.match(/^(@|!@|~|!~|==|!=)(.*)$/),s&&(l=s[1],c=s[2])):(l="!=",c=""),"~"!==l&&"!~"!==l||!/^(\w|\|)*$/.test(c))if("@"===l||"!@"===l){var d=e[c];if(!d)throw Rt(e,"the @ match target '"+c+"' is not defined, in rule: "+t);if(!function(e,t){if(t&&Array.isArray(t)){for(const i of t)if(!e(i))return;return 1}}((function(e){return"string"==typeof e}),d))throw Rt(e,"the @ match target '"+c+"' must be an array of strings, in rule: "+t);let i=oa(d,e.ignoreCase);a=function(e){return"@"===l?i(e):!i(e)}}else if("~"===l||"!~"===l)if(c.indexOf("$")<0){let t=ra(e,"^"+c+"$");a=function(e){return"~"===l?t.test(e):!t.test(e)}}else a=function(t,i,n,o){return ra(e,"^"+Ft(e,c,i,n,o)+"$").test(t)};else if(c.indexOf("$")<0){let t=At(e,c);a=function(e){return"=="===l?e===t:e!==t}}else{let t=At(e,c);a=function(i,n,o,r,s){return r=Ft(e,t,n,o,r),"=="===l?i===r:i!==r}}else{let t=oa(c.split("|"),e.ignoreCase);a=function(e){return"~"===l?t(e):!t(e)}}return-1===o?{name:i,value:n,test:function(e,t,i,n){return a(e,e,t,i,n)}}:{name:i,value:n,test:function(e,t,i,n){var r=function(e,t,i,n){if(n<0)return e;if(n<t.length)return t[n];if(100<=n){n-=100;let e=i.split(".");if(e.unshift(i),n<e.length)return e[n]}return null}(e,t,i,o);return a(r||"",e,t,i,n)}}}class aa{constructor(e){this.regex=new RegExp(""),this.action={token:""},this.matchOnlyAtLineStart=!1,this.name="",this.name=e}setRegex(e,t){let i;if("string"==typeof t)i=t;else{if(!(t instanceof RegExp))throw Rt(e,"rules must start with a match string or regular expression: "+this.name);i=t.source}this.matchOnlyAtLineStart=0<i.length&&"^"===i[0],this.name=this.name+": "+i,this.regex=ra(e,"^(?:"+(this.matchOnlyAtLineStart?i.substr(1):i)+")")}setAction(e,t){this.action=function e(t,i,n){if(n){if("string"==typeof n)return n;if(n.token||""===n.token){if("string"!=typeof n.token)throw Rt(t,"a 'token' attribute must be of type string, in rule: "+i);{let e={token:n.token};if(0<=n.token.indexOf("$")&&(e.tokenSubst=!0),"string"==typeof n.bracket)if("@open"===n.bracket)e.bracket=1;else{if("@close"!==n.bracket)throw Rt(t,"a 'bracket' attribute must be either '@open' or '@close', in rule: "+i);e.bracket=-1}if(n.next){if("string"!=typeof n.next)throw Rt(t,"the next state must be a string value in rule: "+i);{let o=n.next;if(!/^(@pop|@push|@popall)$/.test(o)&&("@"===o[0]&&(o=o.substr(1)),o.indexOf("$")<0&&!function(e,t){let i=t;for(;i&&0<i.length;){if(e.stateNames[i])return 1;var n=i.lastIndexOf(".");i=n<0?null:i.substr(0,n)}}(t,Ft(t,o,"",[],""))))throw Rt(t,"the next state '"+n.next+"' is not defined in rule: "+i);e.next=o}}return"number"==typeof n.goBack&&(e.goBack=n.goBack),"string"==typeof n.switchTo&&(e.switchTo=n.switchTo),"string"==typeof n.log&&(e.log=n.log),"string"==typeof n.nextEmbedded&&(e.nextEmbedded=n.nextEmbedded,t.usesEmbedded=!0),e}}if(Array.isArray(n)){let o=[];for(let r=0,s=n.length;r<s;r++)o[r]=e(t,i,n[r]);return{group:o}}if(n.cases){let s=[];for(var o in n.cases){var r;n.cases.hasOwnProperty(o)&&(r=e(t,i,n.cases[o]),"@default"===o||"@"===o||""===o?s.push({test:void 0,value:r,name:o}):"@eos"===o?s.push({test:function(e,t,i,n){return n},value:r,name:o}):s.push(sa(t,i,o,r)))}const a=t.defaultToken;return{test:function(e,t,i,n){for(const o of s)if(!o.test||o.test(e,t,i,n))return o.value;return a}}}throw Rt(t,"an action must be a string, an object with a 'token' or 'cases' attribute, or an array of actions; in rule: "+i)}return{token:""}}(e,this.name,t)}}class la{constructor(e,t){this._languageId=e,this._actual=t}getInitialState(){return this._actual.getInitialState()}tokenize(e,t,i,n){if("function"==typeof this._actual.tokenize)return ca.adaptTokenize(this._languageId,this._actual,e,i,n);throw new Error("Not supported!")}tokenize2(e,t,i){return i=this._actual.tokenizeEncoded(e,i),new K.c(i.tokens,i.endState)}}class ca{constructor(e,t,i,n){this._languageId=e,this._actual=t,this._modeService=i,this._standaloneThemeService=n}getInitialState(){return this._actual.getInitialState()}static _toClassicTokens(e,t,i){let n=[],o=0;for(let s=0,a=e.length;s<a;s++){var r=e[s];let a=r.startIndex;0===s?a=0:a<o&&(a=o),n[s]=new K.a(a+i,r.scopes,t),o=a}return n}static adaptTokenize(e,t,i,n,o){let r,s=t.tokenize(i,n);return o=ca._toClassicTokens(s.tokens,e,o),r=s.endState.equals(n)?n:s.endState,new K.b(o,r)}tokenize(e,t,i,n){return ca.adaptTokenize(this._languageId,this._actual,e,i,n)}_toBinaryTokens(e,t,i){var n=e.encodeLanguageId(this._languageId);const o=this._standaloneThemeService.getColorTheme().tokenTheme;let r=[],s=0,a=0;for(let e=0,d=t.length;e<d;e++){var l=t[e],c=o.match(n,l.scopes);if(!(0<s&&r[s-1]===c)){let t=l.startIndex;0===e?t=0:t<a&&(t=a),r[s++]=t+i,r[s++]=c,a=t}}let d=new Uint32Array(s);for(let e=0;e<s;e++)d[e]=r[e];return d}tokenize2(e,t,i,n){let o,r=this._actual.tokenize(e,i);return n=this._toBinaryTokens(this._modeService.languageIdCodec,r.tokens,n),o=r.endState.equals(i)?i:r.endState,new K.c(n,o)}}function da(e){return e&&"function"==typeof e.then}re=i(201),j.g.wrappingIndent.defaultValue=0,j.g.glyphMargin.defaultValue=!1,j.g.autoIndent.defaultValue=3,j.g.overviewRulerLanes.defaultValue=2,re.a.setFormatterSelector((e,t,i)=>Promise.resolve(e[0]));const ha=G();ha.editor={create:function(e,t,i){return ta(e,i||{},i=>new go(e,t,i,i.get(wn.a),i.get(Z.a),i.get(ne.b),i.get(pi.b),i.get(Xn.a),i.get(yn.b),i.get(Yn.a),i.get(Si.a),i.get(oi.a),i.get(Qn.b),i.get(ut.a),i.get(Ce.a)))},onDidCreateEditor:function(e){return Ys.codeEditorService.get().onCodeEditorAdd(t=>{e(t)})},createDiffEditor:function(e,t,i){return ta(e,i||{},i=>new po(e,t,i,i.get(wn.a),i.get(pi.b),i.get(Xn.a),i.get(yn.b),i.get(we.a),i.get(Z.a),i.get(Yn.a),i.get(Si.a),i.get(oi.a),i.get(yn.a),i.get(Dn.a),i.get(kn.a)))},createDiffNavigator:function(e,t){return new pe(e,t)},createModel:function(e,t,i){return fo(Ys.modelService.get(),Ys.modeService.get(),e,t,i)},setModelLanguage:function(e,t){Ys.modelService.get().setMode(e,Ys.modeService.get().create(t))},setModelMarkers:function(e,t,i){e&&Ys.markerService.get().changeOne(t,e.uri,i)},getModelMarkers:function(e){return Ys.markerService.get().read(e)},onDidChangeMarkers:function(e){return Ys.markerService.get().onMarkerChanged(e)},getModels:function(){return Ys.modelService.get().getModels()},getModel:function(e){return Ys.modelService.get().getModel(e)},onDidCreateModel:function(e){return Ys.modelService.get().onModelAdded(e)},onWillDisposeModel:function(e){return Ys.modelService.get().onModelRemoved(e)},onDidChangeModelLanguage:function(e){return Ys.modelService.get().onModelModeChanged(t=>{e({model:t.model,oldLanguage:t.oldModeId})})},createWebWorker:function(e){return t=Ys.modelService.get(),new Lt(t,e=e);var t},colorizeElement:function(e,t){const i=Ys.standaloneThemeService.get();return i.registerEditorContainer(e),Gt.colorizeElement(i,Ys.modeService.get(),e,t)},colorize:function(e,t,i){return Ys.standaloneThemeService.get().registerEditorContainer(document.body),Gt.colorize(Ys.modeService.get(),e,t,i)},colorizeModelLine:function(e,t,i=4){return Ys.standaloneThemeService.get().registerEditorContainer(document.body),Gt.colorizeModelLine(e,t,i)},tokenize:function(e,t){Ys.modeService.get().triggerMode(t);let i=(n=t,be.F.get(n)||{getInitialState:()=>_e.b,tokenize:(e,t,i,o)=>Object(_e.c)(n,e,i,o)});var n,o=Object(Le.Q)(e);let r=[],s=i.getInitialState();for(let e=0,t=o.length;e<t;e++){var a=o[e];a=i.tokenize(a,!0,s,0);r[e]=a.tokens,s=a.endState}return r},defineTheme:function(e,t){Ys.standaloneThemeService.get().defineTheme(e,t)},setTheme:function(e){Ys.standaloneThemeService.get().setTheme(e)},remeasureFonts:function(){Object(Zi.b)()},registerCommand:function(e,t){return ne.a.registerCommand({id:e,handler:t})},AccessibilitySupport:n,ContentWidgetPositionPreference:l,CursorChangeReason:c,DefaultEndOfLine:d,EditorAutoIndentStrategy:u,EditorOption:g,EndOfLinePreference:p,EndOfLineSequence:f,MinimapPosition:y,MouseTargetType:x,OverlayWidgetPositionPreference:S,OverviewRulerLane:k,RenderLineNumbersType:D,RenderMinimap:L,ScrollbarVisibility:E,ScrollType:O,TextEditorCursorBlinkingStyle:A,TextEditorCursorStyle:P,TrackedRangeStickiness:R,WrappingIndent:F,ConfigurationChangedEvent:j.b,BareFontInfo:fe.a,FontInfo:fe.b,TextModelResolvedOptions:ve.h,FindMatch:ve.b,EditorType:me.a,EditorOptions:j.g},ha.languages={register:function(e){vo.a.registerLanguage(e)},getLanguages:function(){let e=[];return e=e.concat(vo.a.getLanguages()),e},onLanguage:function(e,t){let i=Ys.modeService.get().onDidEncounterLanguage(n=>{n===e&&(i.dispose(),t())});return i},getEncodedLanguageId:function(e){return Ys.modeService.get().languageIdCodec.encodeLanguageId(e)},setLanguageConfiguration:function(e,t){var i=Ys.modeService.get().validateLanguageId(e);if(!i)throw new Error("Cannot set configuration for unknown language "+e);return ze.b.register(i,t,100)},setColorMap:function(e){if(e){const t=[null];for(let i=1,n=e.length;i<n;i++)t[i]=ko.a.fromHex(e[i]);Ys.standaloneThemeService.get().setColorMapOverride(t)}else Ys.standaloneThemeService.get().setColorMapOverride(null)},setTokensProvider:function(e,t){const i=Ys.modeService.get().validateLanguageId(e);if(!i)throw new Error("Cannot set tokens provider for unknown language "+e);const n=e=>"tokenizeEncoded"in e?new la(i,e):new ca(i,e,Ys.modeService.get(),Ys.standaloneThemeService.get());return da(t)?be.F.registerPromise(e,t.then(e=>n(e))):be.F.register(e,n(t))},setMonarchTokensProvider:function(e,t){const i=t=>{return i=Ys.modeService.get(),n=Ys.standaloneThemeService.get(),o=e,t=function(e,t){if(!t||"object"!=typeof t)throw new Error("Monarch: expecting a language definition object");let i={};i.languageId=e,i.includeLF=ia(t.includeLF,!1),i.noThrow=!1,i.maxStack=100,i.start="string"==typeof t.start?t.start:null,i.ignoreCase=ia(t.ignoreCase,!1),i.unicode=ia(t.unicode,!1),i.tokenPostfix=na(t.tokenPostfix,"."+i.languageId),i.defaultToken=na(t.defaultToken,"source"),i.usesEmbedded=!1;let n=t;if(n.languageId=e,n.includeLF=i.includeLF,n.ignoreCase=i.ignoreCase,n.unicode=i.unicode,n.noThrow=i.noThrow,n.usesEmbedded=i.usesEmbedded,n.stateNames=t.tokenizer,n.defaultToken=i.defaultToken,!t.tokenizer||"object"!=typeof t.tokenizer)throw Rt(i,"a language definition must define the 'tokenizer' attribute as an object");for(var o in i.tokenizer=[],t.tokenizer){var r;t.tokenizer.hasOwnProperty(o)&&(i.start||(i.start=o),r=t.tokenizer[o],i.tokenizer[o]=new Array,function e(o,r,s){for(const a of s){let s=a.include;if(s){if("string"!=typeof s)throw Rt(i,"an 'include' attribute must be a string at: "+o);if("@"===s[0]&&(s=s.substr(1)),!t.tokenizer[s])throw Rt(i,"include target '"+s+"' is not defined at: "+o);e(o+"."+s,r,t.tokenizer[s])}else{const e=new aa(o);if(Array.isArray(a)&&1<=a.length&&a.length<=3)if(e.setRegex(n,a[0]),3<=a.length)if("string"==typeof a[1])e.setAction(n,{token:a[1],next:a[2]});else{if("object"!=typeof a[1])throw Rt(i,"a next state as the last element of a rule can only be given if the action is either an object or a string, at: "+o);{const t=a[1];t.next=a[2],e.setAction(n,t)}}else e.setAction(n,a[1]);else{if(!a.regex)throw Rt(i,"a rule must either be an array, or an object with a 'regex' or 'include' field at: "+o);a.name&&"string"==typeof a.name&&(e.name=a.name),a.matchOnlyAtStart&&(e.matchOnlyAtLineStart=ia(a.matchOnlyAtLineStart,!1)),e.setRegex(n,a.regex),e.setAction(n,a.action)}r.push(e)}}}("tokenizer."+o,i.tokenizer[o],r))}if(i.usesEmbedded=n.usesEmbedded,t.brackets){if(!Array.isArray(t.brackets))throw Rt(i,"the 'brackets' attribute must be defined as an array")}else t.brackets=[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.square"},{open:"(",close:")",token:"delimiter.parenthesis"},{open:"<",close:">",token:"delimiter.angle"}];let s=[];for(var a of t.brackets){let e=a;if(e&&Array.isArray(e)&&3===e.length&&(e={token:e[2],open:e[0],close:e[1]}),e.open===e.close)throw Rt(i,"open and close brackets in a 'brackets' attribute must be different: "+e.open+"\n hint: use the 'bracket' attribute if matching on equal brackets is required.");if("string"!=typeof e.open||"string"!=typeof e.token||"string"!=typeof e.close)throw Rt(i,"every element in the 'brackets' array must be a '{open,close,token}' object or array");s.push({token:e.token+i.tokenPostfix,open:At(i,e.open),close:At(i,e.close)})}return i.brackets=s,i.noThrow=!0,i}(e,t),new Kt(i,n,o,t);var i,n,o};return da(t)?be.F.registerPromise(e,t.then(e=>i(e))):be.F.register(e,i(t))},registerReferenceProvider:function(e,t){return be.y.register(e,t)},registerRenameProvider:function(e,t){return be.z.register(e,t)},registerCompletionItemProvider:function(e,t){return be.d.register(e,t)},registerSignatureHelpProvider:function(e,t){return be.B.register(e,t)},registerHoverProvider:function(e,t){return be.p.register(e,{provideHover:(e,i,n)=>{let o=e.getWordAtPosition(i);return Promise.resolve(t.provideHover(e,i,n)).then(e=>{if(e)return!e.range&&o&&(e.range=new U.a(i.lineNumber,o.startColumn,i.lineNumber,o.endColumn)),e.range||(e.range=new U.a(i.lineNumber,i.column,i.lineNumber,i.column)),e})}})},registerDocumentSymbolProvider:function(e,t){return be.m.register(e,t)},registerDocumentHighlightProvider:function(e,t){return be.i.register(e,t)},registerLinkedEditingRangeProvider:function(e,t){return be.w.register(e,t)},registerDefinitionProvider:function(e,t){return be.f.register(e,t)},registerImplementationProvider:function(e,t){return be.q.register(e,t)},registerTypeDefinitionProvider:function(e,t){return be.G.register(e,t)},registerCodeLensProvider:function(e,t){return be.b.register(e,t)},registerCodeActionProvider:function(e,t,i){return be.a.register(e,{providedCodeActionKinds:null==i?void 0:i.providedCodeActionKinds,provideCodeActions:(e,i,n,o)=>{var r=Ys.markerService.get().read({resource:e.uri}).filter(e=>U.a.areIntersectingOrTouching(e,i));return t.provideCodeActions(e,i,{markers:r,only:n.only},o)},resolveCodeAction:t.resolveCodeAction})},registerDocumentFormattingEditProvider:function(e,t){return be.g.register(e,t)},registerDocumentRangeFormattingEditProvider:function(e,t){return be.j.register(e,t)},registerOnTypeFormattingEditProvider:function(e,t){return be.x.register(e,t)},registerLinkProvider:function(e,t){return be.v.register(e,t)},registerColorProvider:function(e,t){return be.c.register(e,t)},registerFoldingRangeProvider:function(e,t){return be.o.register(e,t)},registerDeclarationProvider:function(e,t){return be.e.register(e,t)},registerSelectionRangeProvider:function(e,t){return be.A.register(e,t)},registerDocumentSemanticTokensProvider:function(e,t){return be.l.register(e,t)},registerDocumentRangeSemanticTokensProvider:function(e,t){return be.k.register(e,t)},registerInlineCompletionsProvider:function(e,t){return be.u.register(e,t)},registerInlayHintsProvider:function(e,t){return be.s.register(e,t)},DocumentHighlightKind:h,CompletionItemKind:r,CompletionItemTag:s,CompletionItemInsertTextRule:o,SymbolKind:T,SymbolTag:M,IndentAction:m,CompletionTriggerKind:a,SignatureHelpTriggerKind:I,InlayHintKind:v,InlineCompletionTriggerKind:b,FoldingRangeKind:be.n};const ua=ha.CancellationTokenSource,ga=ha.Emitter,pa=ha.KeyCode,fa=ha.KeyMod,ma=ha.Position,va=ha.Range,ba=ha.Selection,_a=ha.SelectionDirection,wa=ha.MarkerSeverity,Ca=ha.MarkerTag,ya=ha.Uri,xa=ha.Token,Sa=ha.editor,ka=ha.languages;(null!==(re=ke.b.MonacoEnvironment)&&void 0!==re&&re.globalAPI||"function"==typeof define&&i(552))&&(self.monaco=ha),void 0!==self.require&&"function"==typeof self.require.config&&self.require.config({ignoreDuplicateModules:["vscode-languageserver-types","vscode-languageserver-types/main","vscode-languageserver-textdocument","vscode-languageserver-textdocument/main","vscode-nls","vscode-nls/vscode-nls","jsonc-parser","jsonc-parser/main","vscode-uri","vscode-uri/index","vs/basic-languages/typescript/typescript"]})},function(e,t,i){"use strict";i.r(t);var n=i(43),o=i.n(n),r=i(57),s=i.n(r),a=i(13),l=i.n(a),c=i(31),d=i.n(c),h=i(7),u=i.n(h),g=(i(40),i(53)),p=(i(86),i(30)),f=i(33);function m(e,t){var i,n=Object.keys(e);return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(e),t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)),n}var v={name:"setting-section",props:{title:String},data:function(){return{}},computed:function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?m(Object(i),!0).forEach((function(t){d()(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):m(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},Object(f.mapState)({}))},b=(i(635),i(37)),_=Object(b.a)(v,(function(){var e=this.$createElement;return(e=this._self._c||e)("div",{staticClass:"main-setting-section"},[e("div",{staticClass:"title"},[this._v(this._s(this.title))]),this._v(" "),e("div",{staticClass:"content"},[this._t("default")],2)])}),[],!1,null,"d75f030e",null).exports,w=i(219);function C(e,t){var i,n=Object.keys(e);return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(e),t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)),n}function y(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?C(Object(i),!0).forEach((function(t){d()(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):C(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var x={name:"key-capture",props:{value:{type:String,default:""},placeholder:String},model:{prop:"value",event:"change"},data:function(){return{isRecording:!1,keyChain:[]}},watch:{isRecording:function(e){e||this.$emit("change",this.shortcut)}},computed:y(y({},Object(f.mapState)({})),{},{shortcut:function(){return this.keyChain.join("+")},hint:function(){return this.isRecording?"记录中...":this.placeholder}}),methods:{handleKeyDown:function(e){var t;this.isRecording&&(t=e.key,13!==e.keyCode?t&&this.keyChain.push(t):this.isRecording=!1)},handleClick:function(){this.keyChain=[],this.isRecording=!0,this.$emit("change","")},handleBlur:function(){this.isRecording=!1},mounted:function(){}},mounted:function(){this.keyChain=this.value.split("+")}},S=(i(637),Object(b.a)(x,(function(){var e=this,t=e.$createElement;return(t=e._self._c||t)("div",{staticClass:"main-key-capture"},[t("input",{class:[e.isRecording?"recording":""],style:{padding:"10px"},attrs:{placeholder:e.hint,readonly:""},domProps:{value:e.shortcut},on:{click:e.handleClick,keydown:e.handleKeyDown,blur:e.handleBlur}}),e._v(" "),t("div",{staticClass:"hint",class:[e.isRecording?"":"hint-hide"]},[e._v("\n    按 Enter 停止\n  ")])])}),[],!1,null,"2ddf36e7",null).exports);n=i(137),r=i(194);function k(e,t){var i,n=Object.keys(e);return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(e),t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)),n}function D(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"code --wait";return new Promise((function(n,o){P=o,I.ipcRenderer.invoke("app","getPath","temp").then((function(r){var s=Object(T.join)(r,"close-to-save.".concat(e));Object(p.writeFileSync)(s,t),Object(A.exec)("".concat(i," ").concat(s),{windowsHide:!0},(function(e,t,i){e&&o(e)})).on("exit",(function(){n(Object(p.readFileSync)(s).toString())}))})).catch(o)}))}a={name:"more-hint",props:{text:String,clickable:{type:Boolean,default:!0}},computed:function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?k(Object(i),!0).forEach((function(t){d()(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):k(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},Object(f.mapState)({}))},i(639),c=Object(b.a)(a,(function(){var e=this,t=e.$createElement;return(t=e._self._c||t)("div",{class:["main-more-hint",e.clickable?"clickable":""],on:{click:function(t){return e.$emit("click")}}},[t("div",{staticClass:"text"},[e._v(e._s(e.text))]),e._v(" "),e.clickable?t("div",{staticClass:"tirangle"}):e._e()])}),[],!1,null,"6a8f4af4",null).exports,h={name:"separator"},i(641),v=Object(b.a)(h,(function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"main-settings-separator"})}),[],!1,null,"26bdfd95",null).exports,x=i(190),a={name:"TrayOrder",components:{draggable:i.n(x).a},props:{arr:{type:Array,default:function(){return[[],[]]}}},model:{prop:"arr",event:"drag"},watch:{arr:{handler:function(e){this.array=e},deep:!0}},data:function(){return{array:this.arr}},methods:{handleDrag:function(e){this.$emit("drag",this.array)}},mounted:function(){}},i(643),h=Object(b.a)(a,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"tray-order-main"},[i("div",{staticClass:"title"},[e._v("显示:")]),e._v(" "),i("draggable",{staticClass:"list left-list",attrs:{group:"tray",list:e.array[0]},on:{change:e.handleDrag}},e._l(e.array[0],(function(e){return i("img",{key:e,staticClass:"cursor-move",attrs:{src:"static/imgs/tray-"+e+".png",alt:""}})})),0),e._v(" "),i("div",{staticClass:"title"},[e._v("隐藏:")]),e._v(" "),i("draggable",{staticClass:"list",attrs:{group:"tray",list:e.array[1]},on:{change:e.handleDrag}},e._l(e.array[1],(function(e){return i("img",{key:e,staticClass:"cursor-move",attrs:{src:"static/imgs/tray-"+e+".png",alt:""}})})),0)],1)}),[],!1,null,"40749f51",null).exports;var L=i(208),O=(x=i(126),i(262)),E=i(248),N=i(191),I=i(24),T=i(20),M=i.n(T),A=i(96),P=null,R=i(251),F=i(25),j=(a=i(66),i.n(a)),B=i(39);a=i(263);function W(e,t){var i,n=Object.keys(e);return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(e),t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)),n}function V(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?W(Object(i),!0).forEach((function(t){d()(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):W(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}f={components:{Section:_,SimpleInput:w.a,KeyCapture:S,MoreHint:c,SelectView:n.a,SwitchView:r.a,Separator:v,TrayOrder:h,Navigator:L.a,Hint:x.a,Info:a.a},data:function(){return L.a,{scrollTop:0,fontFamilyPlaceholder:Object(F.k)()?"PingFang SC":Object(F.l)()?"Microsoft Yahei":"system-ui",isEditingExternal:!1,sections:[]}},computed:V(V({},Object(f.mapState)({detectedInterfaceName:function(e){return e.app.detectedInterfaceName},clashPath:function(e){return e.app.clashPath},confData:function(e){return e.app.confData}})),Object(f.mapGetters)(["clashAxiosClient","secret"])),watch:{"sts.profilePath":function(){this.refreshCore()}},methods:V(V(V({},Object(f.mapMutations)({saveSettingsObject:"SAVE_SETTINGS_OBJECT",setConfData:"SET_CONF_DATA"})),Object(f.mapActions)(["getParserLogPath","getScriptLogPath"])),{},{refreshCore:function(){var e=this;return l()(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$parent.handlerRestartClash();case 2:case"end":return t.stop()}}),t)})))()},handleNavigatToGroup:function(e){var t=this.$refs["mixin-scroll-content"],i=t.children[e];this.$nextTick((function(){t.scrollTop=i.offsetTop-110}))},cancelExternalEdit:function(){P&&P()},edit:function(e){var t=arguments,i=this;return l()(u.a.mark((function n(){var o,r,s,a,l,c;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a=1<t.length&&void 0!==t[1]?t[1]:"",o=2<t.length&&void 0!==t[2]?t[2]:"yaml",r=!1,n.prev=3,l=i.settings,s=l[e],l=l.editor,s=s||a,0===(a=void 0===l?0:l))return n.next=9,i.$code({code:s,language:o,fontSize:i.settings.editorFontSize});n.next=16;break;case 9:l=void 0===(l=(l=n.sent).code)?"":l,i.settings[e]=l,r=l!==s,n.next=32;break;case 16:if(1===a)return i.isEditingExternal=!0,n.next=20,D(o,s);n.next=25;break;case 20:c=n.sent,i.settings[e]=c,r=c!==s,n.next=32;break;case 25:if(2===a)return i.isEditingExternal=!0,n.next=29,D(o,s,i.settings.editorCustomCommand||"subl --wait");n.next=32;break;case 29:c=n.sent,i.settings[e]=c,r=c!==s;case 32:n.next=36;break;case 34:n.prev=34,n.t0=n.catch(3);case 36:return i.isEditingExternal=!1,n.abrupt("return",r);case 38:case"end":return n.stop()}}),n,null,[[3,34]])})))()},handleEditBypass:function(){var e=this;return l()(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.edit("bypassText",g.stringify({bypass:O.a}));case 2:case"end":return t.stop()}}),t)})))()},handleEditPACContent:function(){var e=this;return l()(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.edit("pacContentText",E.a,"javascript");case 2:case"end":return t.stop()}}),t)})))()},handleEditMixinYAML:function(){var e=this;return l()(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.edit("mixinText","mixin: # object\n");case 2:case"end":return t.stop()}}),t)})))()},handleEditMixinJS:function(){var e=this;return l()(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=3,e.edit("mixinCode","module.exports.parse = ({ content, name, url }, { yaml, axios, notify }) => {\n  return content\n}","javascript");case 3:case"end":return t.stop()}}),t)})))()},handleEditUnsafeURLs:function(){var e=this;return l()(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.edit("unsafeURLsText","urls: # array\n");case 2:case"end":return t.stop()}}),t)})))()},handleEditHeaders:function(){var e=this;return l()(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.edit("headersText","headers: # object\n");case 2:case"end":return t.stop()}}),t)})))()},handleEditChildProcess:function(){var e=this;return l()(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.edit("childProcessText","processes: # array\n");case 2:if(!t.sent){t.next=4;break}e.refreshCore();case 4:case"end":return t.stop()}}),t)})))()},handleSelectInterface:function(){var e=this;return l()(u.a.mark((function t(){var i,n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,i=Object(N.b)().map((function(e){return e.name})),t.next=4,e.$select({title:"选择出接口",message:"仅在启用TAP模式时有效",items:[].concat(o()(i),["[ 重启 ]"])});case 4:n=t.sent,(n=(n=s()(n,1))[0])===i.length?e.settings.interfaceName="":e.settings.interfaceName=i[n],t.next=12;break;case 10:t.prev=10,t.t0=t.catch(0);case 12:case"end":return t.stop()}}),t,null,[[0,10]])})))()},handleEditActionScripts:function(){var e=this;return l()(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.edit("scriptsText",g.stringify({scripts:{proxy:{},profile:{}}}));case 2:case"end":return t.stop()}}),t)})))()},handleEditSSIDStrategy:function(){var e=this;return l()(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.edit("ssidStrategyText","strategy: # object\n");case 2:case"end":return t.stop()}}),t)})))()},handleOpenActionScriptsConsoleFile:function(){var e=this;return l()(u.a.mark((function t(){var i;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getScriptLogPath();case 2:i=t.sent,Object(p.existsSync)(i)||Object(p.writeFileSync)(i,""),I.shell.openPath(i);case 5:case"end":return t.stop()}}),t)})))()},handleEditProfileParsers:function(){var e=this;return l()(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.edit("profileParsersText","parsers: # array\n");case 2:case"end":return t.stop()}}),t)})))()},handleOpenConsoleFile:function(){var e=this;return l()(u.a.mark((function t(){var i;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getParserLogPath();case 2:i=t.sent,Object(p.existsSync)(i)||Object(p.writeFileSync)(i,""),I.shell.openPath(i);case 5:case"end":return t.stop()}}),t)})))()},handleChooseDefaultIcon:function(){var e=this;return l()(u.a.mark((function t(){var i;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.chooseFileOrPath();case 2:(i=t.sent)&&(e.settings.iconDefault=i);case 4:case"end":return t.stop()}}),t)})))()},handleChooseSystemProxytOnIcon:function(){var e=this;return l()(u.a.mark((function t(){var i;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.chooseFileOrPath();case 2:(i=t.sent)&&(e.settings.iconSystemProxy=i);case 4:case"end":return t.stop()}}),t)})))()},handleChooseProfilePath:function(){var e=this;return l()(u.a.mark((function t(){var i;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.chooseFileOrPath(!1);case 2:(i=t.sent)&&(e.settings.profilePath=i);case 4:case"end":return t.stop()}}),t)})))()},handleSelectTrayScriptPath:function(){var e=this;return l()(u.a.mark((function t(){var i;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.chooseFileOrPath();case 2:(i=t.sent)&&(e.settings.trayScriptPath=i);case 4:case"end":return t.stop()}}),t)})))()},handleTrayScriptManualRun:function(){this.settings.trayScriptManualRunTime=(new Date).getTime()},chooseFileOrPath:function(){var e=arguments;return l()(u.a.mark((function t(){var i;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=!(0<e.length&&void 0!==e[0])||e[0],t.next=3,I.ipcRenderer.invoke("dialog","showOpenDialogSync",{properties:[i?"openFile":"openDirectory"]});case 3:if((i=t.sent)&&0<i.length)return t.abrupt("return",i[0]);t.next=6;break;case 6:return t.abrupt("return",void 0);case 7:case"end":return t.stop()}}),t)})))()},handleReset:function(){var e=this;return l()(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$alert({title:"警告",content:"您确定要重设所有设置吗?",isShowErrorBtn:!0});case 3:e.saveSettingsObject({obj:{}}),e.loadSettings(),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})))()},handleOpenGUILog:function(){I.shell.openPath(Object(T.dirname)(j.a.transports.file.getFile().path))},handleOpenGUIDataFolder:function(){return l()(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.ipcRenderer.invoke("app","getPath","userData");case 2:t=e.sent,I.shell.showItemInFolder(t);case 4:case"end":return e.stop()}}),e)})))()},handleQuit:function(){var e=arguments,t=this;return l()(u.a.mark((function i(){var n;return u.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return n=0<e.length&&void 0!==e[0]&&e[0],i.next=3,Object(B.i)({type:"warning",message:"你确定要退出吗?",buttons:["是","否"]});case 3:if(1===i.sent.response)return i.abrupt("return");i.next=7;break;case 7:n?I.ipcRenderer.send("cleanup-done"):t.$parent.quit();case 8:case"end":return i.stop()}}),i)})))()},handlerClearFakeIPCache:function(){var e=this;return l()(u.a.mark((function t(){var i,n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.clashAxiosClient.post("/cache/fakeip/flush",{},{validateStatus:function(e){return!0}});case 2:n=t.sent,i=n.status,n=void 0===(n=(n=void 0===(n=n.data)?{}:n).message)?"":n,Object(B.i)({message:204===i?"Fake IP cache cleared":"Failed with reason: ".concat(n)});case 8:case"end":return t.stop()}}),t)})))()},handleGenerateUUIDSecret:function(){var e=this;return l()(u.a.mark((function t(){var i;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(B.i)({type:"warning",message:"是否要在 Home Directory/config.yaml 中设置新的uuidv4 secret并重启 APP?",buttons:["是","否"]});case 2:if(0===(i=t.sent).response)return i=Object(R.v4)(),t.next=8,Object(B.l)(M.a.join(e.clashPath,"config.yaml"),"secret",i);t.next=9;break;case 8:e.reloadElectron();case 9:case"end":return t.stop()}}),t)})))()}}),beforeMount:function(){},beforeRouteEnter:function(e,t,i){i((function(e){}))},mounted:function(){var e=this.$refs["mixin-scroll-content"].children;this.sections=o()(e).map((function(e){return e.children[0].innerText}))},beforeRouteLeave:function(e,t,i){i()}},i(645),i(647),f=Object(b.a)(f,(function(){var e=this,t=e.$createElement;return(t=e._self._c||t)("div",{staticClass:"main-setting-view"},[t("div",{class:["title",e.isEditingExternal?"blur":""]},[t("div",[e._v("设置")]),e._v(" "),t("div",{staticClass:"btns"},[t("div",{staticClass:"btn",on:{click:e.handleReset}},[e._v("重置所有设置")]),e._v(" "),t("div",{staticClass:"btn clickable btn-force-quit",on:{click:function(t){return e.handleQuit(!0)}}},[e._v("\n        强制退出\n      ")]),e._v(" "),t("div",{staticClass:"btn clickable btn-quit",on:{click:function(t){return e.handleQuit()}}},[e._v("退出")])])]),e._v(" "),e.settings?t("div",{ref:"mixin-scroll-content",class:["content",,e.isEditingExternal?"blur":""]},[t("Section",{attrs:{title:"安全"}},[t("div",{staticClass:"item"},[t("div",{staticClass:"relative flex items-center"},[t("div",[e._v("核心Secret")]),e._v(" "),t("Info",[e._v("\n            将 Clash Core 的 "),t("span",{staticClass:"quote"},[e._v("secret")]),e._v(" 设置为随机的 RFC\n            4122 版本 4 UUID，这样 Clash REST API 就不能被任意访问。\n             "),t("br"),t("br"),e._v("该值存储在于\n            "),t("span",{staticClass:"quote"},[e._v("Home Directory/config.yaml")]),e._v(".\n            "),t("br"),t("br"),e._v("有关详细信息，请参阅Clash文档:\n            "),t("ul",[t("li",[t("a",{attrs:{href:"https://github.com/Dreamacro/clash/wiki/Configuration"}},[e._v("配置")])]),e._v(" "),t("li",[t("a",{attrs:{href:"https://github.com/Dreamacro/clash/wiki/External-controller-API-Reference"}},[e._v("REST API Authentication")])])])]),e._v(" "),t("Hint",{staticClass:"gird ml-1 items-center",attrs:{position:"right",hint:"secret 当前为空，我们强烈建议生成一个"}},[""===e.secret?t("span",{staticClass:"icon h-fit text-base text-[#FFAD00]"},[e._v("warning")]):e._e()])],1),e._v(" "),t("MoreHint",{staticClass:"hint",attrs:{text:""===e.secret?"生成更新":"更新"},on:{click:e.handleGenerateUUIDSecret}})],1),e._v(" "),t("div",{staticClass:"item"},[t("div",{staticClass:"relative flex items-center"},[t("div",[e._v("允许不安全的 URL")]),e._v(" "),t("Info",[e._v("\n            设置请求时不验证证书的URL"),t("br"),t("br"),e._v("\n\n             "),t("strong",[e._v("不要更改它")]),e._v(" , 除非你知道它是什么\n          ")])],1),e._v(" "),t("MoreHint",{staticClass:"hint",attrs:{text:"编辑"},on:{click:e.handleEditUnsafeURLs}})],1)]),e._v(" "),t("Section",{attrs:{title:"主页"}},[t("div",{staticClass:"item"},[t("div",{staticClass:"flex items-center"},[t("div",[e._v("配置编辑器")]),e._v(" "),t("Info",[e._v("设置使用的文本编辑器"),t("br"),t("br"),e._v("对于\n            "),t("strong",[e._v("自定义")]),e._v(", 该命令只应在编辑文件关闭后返回控制权。\n            例如:"),t("br"),e._v(" "),t("span",{staticClass:"quote"},[e._v("code --wait")]),t("br"),e._v(" "),t("span",{staticClass:"quote"},[e._v("subl --wait")])])],1),e._v(" "),t("SelectView",{attrs:{items:["CFW","Visual Studio Code","自定义"]},model:{value:e.settings.editor,callback:function(t){e.$set(e.settings,"editor",t)},expression:"settings.editor"}})],1),e._v(" "),2===e.settings.editor?t("div",{staticClass:"item"},[t("div",[e._v("自定义编辑器命令")]),e._v(" "),t("SimpleInput",{staticClass:"input",attrs:{placeholder:"subl --wait"},model:{value:e.settings.editorCustomCommand,callback:function(t){e.$set(e.settings,"editorCustomCommand",t)},expression:"settings.editorCustomCommand"}})],1):e._e(),e._v(" "),t("div",{staticClass:"item"},[t("div",{staticClass:"flex items-center"},[t("div",[e._v("向系统通知栏发送相关信息")]),e._v(" "),t("Info",[e._v("设置是否允许弹出系统级通知")])],1),e._v(" "),t("SwitchView",{model:{value:e.settings.showNotifications,callback:function(t){e.$set(e.settings,"showNotifications",t)},expression:"settings.showNotifications"}})],1),e._v(" "),t("div",{staticClass:"item"},[t("div",{staticClass:"flex items-center"},[t("div",[e._v("开启Clash时默认缩小到任务栏")]),e._v(" "),t("Info",[e._v("设置是否在启动时显示仪表板")])],1),e._v(" "),t("SwitchView",{model:{value:e.settings.hideAfterStartup,callback:function(t){e.$set(e.settings,"hideAfterStartup",t)},expression:"settings.hideAfterStartup"}})],1),e._v(" "),t("div",{staticClass:"item"},[t("div",{staticClass:"flex items-center"},[t("div",[e._v("随机占用端口")]),e._v(" "),t("Info",[e._v("设置是否使用随机端口作为核心控制器端口 (\n            Home Directory/config.yaml中external-controller\n            的端口部分)")])],1),e._v(" "),t("SwitchView",{model:{value:e.settings.randomControllerPort,callback:function(t){e.$set(e.settings,"randomControllerPort",t)},expression:"settings.randomControllerPort"}})],1),e._v(" "),t("div",{staticClass:"item"},[t("div",{staticClass:"flex items-center"},[t("div",[e._v("随机混合端口")]),e._v(" "),t("Info",[e._v("打开应用程序启动时生成新的代理服务器端口号。\n            "),t("br"),t("br"),e._v("该值在 General 中显示为 Port，\n            并存储为\n            "),t("a",{attrs:{href:"https://github.com/Dreamacro/clash/wiki/Configuration"}},[e._v("mixed-port")]),e._v("\n            在\n            "),t("span",{staticClass:"quote"},[e._v("Home Directory/config.yaml")]),e._v("内")])],1),e._v(" "),t("SwitchView",{model:{value:e.settings.randomMixedPort,callback:function(t){e.$set(e.settings,"randomMixedPort",t)},expression:"settings.randomMixedPort"}})],1),e._v(" "),t("div",{staticClass:"item"},[t("div",{staticClass:"flex items-center"},[t("div",[e._v("轻量模式")]),e._v(" "),t("Info",[e._v("关闭仪表板后打开以终止应用程序进程,\n            但保持 Clash Core 在后台运行。\n            届时，CFW 提供的大部分功能将不可用\n            "),t("br"),t("br"),e._v("依赖"),t("strong",[e._v("服务模式")]),e._v(".\n            "),t("br"),t("br"),e._v("有关详细信息，请参阅\n            "),t("a",{attrs:{href:"https://docs.cfw.lbyczf.com/contents/lightweight.html"}},[e._v("帮助文档")]),e._v("内")])],1),e._v(" "),t("SwitchView",{model:{value:e.settings.lightweightMode,callback:function(t){e.$set(e.settings,"lightweightMode",t)},expression:"settings.lightweightMode"}})],1),e._v(" "),t("div",{staticClass:"item"},[t("div",[e._v("运行时间格式")]),e._v(" "),t("SimpleInput",{staticClass:"input",attrs:{placeholder:"hh : mm : ss"},model:{value:e.settings.runTimeFormat,callback:function(t){e.$set(e.settings,"runTimeFormat",t)},expression:"settings.runTimeFormat"}})],1),e._v(" "),t("div",{staticClass:"item"},[t("div",[e._v("GUI日志文件夹")]),e._v(" "),t("MoreHint",{staticClass:"hint",attrs:{text:"打开"},on:{click:e.handleOpenGUILog}})],1),e._v(" "),t("div",{staticClass:"item"},[t("div",[e._v("GUI 数据文件夹")]),e._v(" "),t("MoreHint",{staticClass:"hint",attrs:{text:"打开"},on:{click:e.handleOpenGUIDataFolder}})],1),e._v(" "),t("div",{staticClass:"item"},[t("div",[e._v("有新版本时提醒")]),e._v(" "),t("SwitchView",{model:{value:e.settings.showNewVersionIcon,callback:function(t){e.$set(e.settings,"showNewVersionIcon",t)},expression:"settings.showNewVersionIcon"}})],1),e._v(" "),e.isMacOS?t("div",{staticClass:"item"},[t("div",{staticClass:"flex items-center"},[t("div",[e._v("自动升级")]),e._v(" "),t("Info",[e._v("设置是否自动更新，\n            开启新版本后后台更新，\n            下次启动为最新版本\n          ")])],1),e._v(" "),t("SwitchView",{model:{value:e.settings.silentUpdate,callback:function(t){e.$set(e.settings,"silentUpdate",t)},expression:"settings.silentUpdate"}})],1):e._e()]),e._v(" "),t("Section",{attrs:{title:"外观"}},[e.settings.systemTheme?e._e():t("div",{staticClass:"item"},[t("div",[e._v("主题")]),e._v(" "),t("SelectView",{attrs:{items:["明亮","深色","国庆中秋","赛博朋克"]},model:{value:e.settings.theme,callback:function(t){e.$set(e.settings,"theme",t)},expression:"settings.theme"}})],1),e._v(" "),t("div",{staticClass:"item"},[t("div",[e._v("遵循系统主题")]),e._v(" "),t("SwitchView",{model:{value:e.settings.systemTheme,callback:function(t){e.$set(e.settings,"systemTheme",t)},expression:"settings.systemTheme"}})],1),e._v(" "),t("div",{staticClass:"item"},[t("div",[e._v("字体系列")]),e._v(" "),t("SimpleInput",{attrs:{placeholder:e.fontFamilyPlaceholder},model:{value:e.settings.fontFamily,callback:function(t){e.$set(e.settings,"fontFamily",t)},expression:"settings.fontFamily"}})],1),e._v(" "),t("div",{staticClass:"item"},[t("div",[e._v("使用系统表情符号")]),e._v(" "),t("SwitchView",{model:{value:e.settings.useSystemEmoji,callback:function(t){e.$set(e.settings,"useSystemEmoji",t)},expression:"settings.useSystemEmoji"}})],1),e._v(" "),e.isWindows?t("div",{staticClass:"item"},[t("div",{staticClass:"flex items-center"},[t("div",[e._v("使用连接模式图标")]),e._v(" "),t("Info",[e._v("使用当前选择的模式作为托盘图标")])],1),e._v(" "),t("SwitchView",{model:{value:e.settings.useModeIcons,callback:function(t){e.$set(e.settings,"useModeIcons",t)},expression:"settings.useModeIcons"}})],1):e._e(),e._v(" "),e.isWindows&&!e.settings.useModeIcons?t("div",{staticClass:"item"},[t("div",{staticClass:"flex items-center"},[t("div",[e._v("自定义状态栏图标")]),e._v(" "),t("Info",[e._v("将任务栏图标设置为默认状态")])],1),e._v(" "),t("div",{staticClass:"item"},[t("SimpleInput",{staticClass:"short-input",attrs:{placeholder:"ICO(.ico) 路径"},model:{value:e.settings.iconDefault,callback:function(t){e.$set(e.settings,"iconDefault",t)},expression:"settings.iconDefault"}}),e._v(" "),t("MoreHint",{staticClass:"hint",attrs:{text:"选择"},on:{click:e.handleChooseDefaultIcon}})],1)]):e._e(),e._v(" "),e.isWindows&&!e.settings.useModeIcons?t("div",{staticClass:"item"},[t("div",{staticClass:"flex items-center"},[t("div",[e._v("状态栏图标上的系统代理")]),e._v(" "),t("Info",[e._v("设置系统代理开启时的任务栏图标")])],1),e._v(" "),t("div",{staticClass:"item"},[t("SimpleInput",{staticClass:"short-input",attrs:{placeholder:"ICO(.ico) 路径"},model:{value:e.settings.iconSystemProxy,callback:function(t){e.$set(e.settings,"iconSystemProxy",t)},expression:"settings.iconSystemProxy"}}),e._v(" "),t("MoreHint",{staticClass:"hint",attrs:{text:"选择"},on:{click:e.handleChooseSystemProxytOnIcon}})],1)]):e._e(),e._v(" "),t("div",{staticClass:"item"},[t("div",{staticClass:"flex items-center"},[t("div",[e._v("隐藏托盘图标")]),e._v(" "),t("Info",[e._v("设置是否隐藏任务栏图标")])],1),e._v(" "),t("SwitchView",{model:{value:e.settings.hideTrayIcon,callback:function(t){e.$set(e.settings,"hideTrayIcon",t)},expression:"settings.hideTrayIcon"}})],1),e._v(" "),e.isLinux?e._e():t("div",{staticClass:"item"},[t("div",{staticClass:"flex items-center"},[t("div",[e._v("托盘代理组样式")]),e._v(" "),t("Info",[t("div",[e._v("在任务栏菜单中设置代理组样式:")]),e._v(" "),t("li",[t("b",[e._v("默认")]),e._v(" - 扁平化所有代理组")]),e._v(" "),t("li",[t("b",[e._v("折叠")]),e._v(" - 在折叠中显示代理组")]),e._v(" "),t("li",[t("b",[e._v("隐藏")]),e._v(" - 隐藏代理组")])])],1),e._v(" "),t("SelectView",{attrs:{items:["默认","折叠","隐蔽"]},model:{value:e.settings.trayProxiesStyle,callback:function(t){e.$set(e.settings,"trayProxiesStyle",t)},expression:"settings.trayProxiesStyle"}})],1),e._v(" "),!e.isLinux&&[0,1].includes(e.settings.trayProxiesStyle)?t("div",{staticClass:"item"},[t("div",{staticClass:"flex items-center"},[t("div",[e._v("在托盘代理中显示节点可用性")]),e._v(" "),t("Info",[e._v("设置是否在任务栏菜单的代理中\n            显示延迟指示器"),t("br"),e._v(" "),t("br"),e._v("\n            颜色:\n            "),t("li",[t("div",{staticClass:"bg-green-400 w-2 h-2 rounded-full inline-block"}),e._v("\n              - 可用的\n            ")]),e._v(" "),t("li",[t("div",{staticClass:"bg-red-400 w-2 h-2 rounded-full inline-block"}),e._v("\n              - 超时\n            ")]),e._v(" "),t("li",[t("div",{staticClass:"bg-gray-400 w-2 h-2 rounded-full inline-block"}),e._v("\n              - 未知\n            ")])])],1),e._v(" "),t("SwitchView",{model:{value:e.settings.showTrayProxyDelayIndicator,callback:function(t){e.$set(e.settings,"showTrayProxyDelayIndicator",t)},expression:"settings.showTrayProxyDelayIndicator"}})],1):e._e(),e._v(" "),e.isLinux?e._e():t("separator"),e._v(" "),e.isLinux?e._e():t("div",{staticClass:"item"},[t("div",{staticClass:"flex items-center"},[t("div",[e._v("悬浮窗")]),e._v(" "),t("Info",[e._v("设置是否启用自定义任务栏 (macOS) / 悬停窗口\n            (Windows)"),t("br"),t("br"),t("b",[e._v("")]),e._v(' 在“显示”和“隐藏”之间拖动图标来控制"\n           \n            '),t("a",{attrs:{href:"https://docs.cfw.lbyczf.com/contents/tray.html"}},[e._v("在线文档")])])],1),e._v(" "),t("TrayOrder",{model:{value:e.settings.trayOrders,callback:function(t){e.$set(e.settings,"trayOrders",t)},expression:"settings.trayOrders"}})],1),e._v(" "),e.isLinux?e._e():t("div",{staticClass:"item"},[t("div",[e._v("文本")]),e._v(" "),t("div",{staticClass:"item"},[t("SimpleInput",{attrs:{placeholder:"要显示在悬浮窗中的文本"},model:{value:e.settings.trayText,callback:function(t){e.$set(e.settings,"trayText",t)},expression:"settings.trayText"}})],1)]),e._v(" "),e.settings.trayText?e._e():t("div",{staticClass:"item"},[t("div",[e._v("脚本")]),e._v(" "),t("div",{staticClass:"item"},[t("SimpleInput",{staticClass:"short-input",attrs:{placeholder:"要运行的脚本"},model:{value:e.settings.trayScriptPath,callback:function(t){e.$set(e.settings,"trayScriptPath",t)},expression:"settings.trayScriptPath"}}),e._v(" "),t("MoreHint",{staticClass:"hint",attrs:{text:"选择"},on:{click:e.handleSelectTrayScriptPath}})],1)]),e._v(" "),!e.settings.trayText&&e.settings.trayScriptPath?t("div",{staticClass:"item"},[t("div",[e._v("脚本间隔")]),e._v(" "),t("div",{staticClass:"item"},[t("SimpleInput",{staticClass:"shorter-input",attrs:{placeholder:"seconds",suffix:"s",type:"number"},model:{value:e.settings.trayScriptInterval,callback:function(t){e.$set(e.settings,"trayScriptInterval",t)},expression:"settings.trayScriptInterval"}}),e._v(" "),t("MoreHint",{staticClass:"hint",attrs:{text:"Manual Run"},on:{click:e.handleTrayScriptManualRun}})],1)]):e._e(),e._v(" "),e.isWindows?t("div",{staticClass:"item"},[t("div",[e._v("透明")]),e._v(" "),t("div",{staticClass:"item"},[t("SimpleInput",{staticClass:"shorter-input",staticStyle:{"margin-right":"10px"},attrs:{placeholder:"前景色"},model:{value:e.settings.trayColorForeground,callback:function(t){e.$set(e.settings,"trayColorForeground",t)},expression:"settings.trayColorForeground"}}),e._v(" "),t("SwitchView",{model:{value:e.settings.trayColorTransparent,callback:function(t){e.$set(e.settings,"trayColorTransparent",t)},expression:"settings.trayColorTransparent"}})],1)]):e._e()],1),e._v(" "),e.isLinux?e._e():t("Section",{attrs:{title:"系统代理"}},[e.isWindows?t("div",{staticClass:"item"},[t("div",{staticClass:"flex items-center"},[t("div",[e._v("类型")]),e._v(" "),t("Info",[e._v("Windows 接受 HTTP 端点或 PAC\n            （代理自动配置）脚本。\n            HTTP 模式通常就足够了。"),t("br"),t("br"),e._v("\n            有关详细信息，请参阅:"),t("br"),e._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"https://support.microsoft.com/en-us/windows/use-a-proxy-server-in-windows-03096c53-0554-4ffe-b6ab-8b1deee8dae1"}},[e._v("在 Windows 中使用代理服务器")])])])])],1),e._v(" "),t("SelectView",{attrs:{items:["HTTP","PAC"]},model:{value:e.settings.systemProxyTypeIndex,callback:function(t){e.$set(e.settings,"systemProxyTypeIndex",t)},expression:"settings.systemProxyTypeIndex"}})],1):e._e(),e._v(" "),e.isWindows&&1===e.settings.systemProxyTypeIndex?t("div",{staticClass:"item"},[t("div",{staticClass:"flex items-center"},[t("div",[e._v("PAC内容")]),e._v(" "),t("Info",[t("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Proxy_servers_and_tunneling/Proxy_Auto-Configuration_PAC_file"}},[e._v("Learn PAC")]),e._v(" "),t("br"),t("br"),e._v(" "),t("span",{staticClass:"quote"},[e._v("%mixed-port%")]),e._v(" is the placeholder of the\n            "),t("strong",[e._v("端口")]),e._v(" in "),t("strong",[e._v("主页")])])],1),e._v(" "),t("MoreHint",{staticClass:"hint",attrs:{text:"编辑"},on:{click:e.handleEditPACContent}})],1):e._e(),e._v(" "),e.isWindows&&1===e.settings.systemProxyTypeIndex?t("div",{staticClass:"item"},[t("div",{staticClass:"flex items-center"},[t("div",[e._v("PAC Server Port")]),e._v(" "),t("Info",[e._v("\n            Leave it empty to use a random port."),t("br"),t("br"),e._v(" "),t("strong",[e._v("Restart the APP")]),e._v(" to take effect.\n          ")])],1),e._v(" "),t("div",{staticClass:"item"},[t("SimpleInput",{attrs:{placeholder:"random",type:"number"},model:{value:e.settings.innerServerPort,callback:function(t){e.$set(e.settings,"innerServerPort",t)},expression:"settings.innerServerPort"}})],1)]):e._e(),e._v(" "),1!==e.settings.systemProxyTypeIndex||e.isMacOS?t("div",{staticClass:"item"},[t("div",{staticClass:"flex items-center"},[t("div",[e._v("绕过域/网络")]),e._v(" "),t("Info",[e._v("访问某些地址时绕过（不使用）代理服务器。"),t("br"),t("br"),e._v("\n            此列表的解释取决于操作系统和应用程序. 换句话说，您的操作系统和应用程序可能会以不同的方式评估规则"),t("br"),t("br"),e._v("\n            有关详细信息，请参阅:"),t("br"),e._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"https://docs.cfw.lbyczf.com/contents/bypass.html"}},[e._v("在线文档")])]),e._v(" "),t("li",[t("a",{attrs:{href:"https://support.microsoft.com/en-us/windows/use-a-proxy-server-in-windows-03096c53-0554-4ffe-b6ab-8b1deee8dae1"}},[e._v("在 Windows 中使用代理服务器\n                ")])]),e._v(" "),t("li",[t("a",{attrs:{href:"https://support.apple.com/guide/mac-help/enter-proxy-server-settings-on-mac-mchlp25912/mac"}},[e._v("在 Mac 上输入代理服务器设置")])]),e._v(" "),t("li",[t("a",{attrs:{href:"https://source.chromium.org/chromium/chromium/src/+/main:net/proxy_resolution/"}},[e._v("Chromium\n                ")])])])])],1),e._v(" "),t("MoreHint",{staticClass:"hint",attrs:{text:"编辑"},on:{click:e.handleEditBypass}})],1):e._e(),e._v(" "),e.isWindows&&1!==e.settings.systemProxyTypeIndex?t("div",{staticClass:"item"},[t("div",{staticClass:"flex items-center"},[t("div",[e._v("指定协议")]),e._v(" "),t("Info",[e._v("打开以强制将方案添加到系统代理设置"),t("br"),t("br"),e._v("\n            这不是通用用途,\n            并且确实违反了当前的 Windows 规范.\n            仅在使用旧的 Python 时才考虑它."),t("br"),t("br"),e._v("\n            有关详细信息，请参阅:"),t("br"),e._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"https://github.com/python/cpython/pull/26307"}},[e._v("python/cpython#26307")])])])])],1),e._v(" "),t("SwitchView",{model:{value:e.settings.specifyHttpProxyProtocol,callback:function(t){e.$set(e.settings,"specifyHttpProxyProtocol",t)},expression:"settings.specifyHttpProxyProtocol"}})],1):e._e(),e._v(" "),t("div",{staticClass:"item"},[t("div",{staticClass:"flex items-center"},[t("div",[e._v("静态主机")]),e._v(" "),t("Info",[e._v("将系统代理主机部分设置为静态内容, 如果没有设置,\n            主机默认为 127.0.0.1")])],1),e._v(" "),t("div",{staticClass:"item"},[t("SimpleInput",{attrs:{placeholder:"127.0.0.1"},model:{value:e.settings.staticSystemProxyHost,callback:function(t){e.$set(e.settings,"staticSystemProxyHost",t)},expression:"settings.staticSystemProxyHost"}})],1)])]),e._v(" "),t("Section",{attrs:{title:"混合配置"}},[t("div",{staticClass:"item"},[t("div",{staticClass:"flex items-center"},[t("div",[e._v("类型")]),e._v(" "),t("Info",[t("a",{attrs:{href:"https://docs.cfw.lbyczf.com/contents/mixin.html"}},[e._v("在线文档")])])],1),e._v(" "),t("SelectView",{attrs:{items:["YAML","JavaScript"]},model:{value:e.settings.mixinType,callback:function(t){e.$set(e.settings,"mixinType",t)},expression:"settings.mixinType"}})],1),e._v(" "),t("div",{staticClass:"item"},[t("div",[e._v("YAML")]),e._v(" "),t("MoreHint",{staticClass:"hint",attrs:{text:"编辑"},on:{click:e.handleEditMixinYAML}})],1),e._v(" "),t("div",{staticClass:"item"},[t("div",[e._v("JavaScript")]),e._v(" "),t("MoreHint",{staticClass:"hint",attrs:{text:"编辑"},on:{click:e.handleEditMixinJS}})],1)]),e._v(" "),t("Section",{attrs:{title:"代理"}},[t("div",{staticClass:"item"},[t("div",{staticClass:"flex items-center"},[t("div",[e._v("代理项目宽度")]),e._v(" "),t("Info",[e._v("在代理界面中设置每个节点的显示宽度")])],1),e._v(" "),t("SimpleInput",{attrs:{placeholder:"290",suffix:"px"},model:{value:e.settings.proxyItemWidth,callback:function(t){e.$set(e.settings,"proxyItemWidth",t)},expression:"settings.proxyItemWidth"}})],1),e._v(" "),t("div",{staticClass:"item"},[t("div",{staticClass:"flex items-center"},[t("div",[e._v("策略组导航器宽度")]),e._v(" "),t("Info",[e._v("设置代理界面导航栏宽度")])],1),e._v(" "),t("SimpleInput",{attrs:{placeholder:"100(0=隐藏)",suffix:"px"},model:{value:e.settings.proxyMiniListWidth,callback:function(t){e.$set(e.settings,"proxyMiniListWidth",t)},expression:"settings.proxyMiniListWidth"}})],1),e._v(" "),t("div",{staticClass:"item"},[t("div",[e._v("自定义节点排序")]),e._v(" "),t("SelectView",{attrs:{items:["默认","延迟","字母"]},model:{value:e.settings.proxyOrder,callback:function(t){e.$set(e.settings,"proxyOrder",t)},expression:"settings.proxyOrder"}})],1),e._v(" "),t("div",{staticClass:"item"},[t("div",{staticClass:"flex items-center"},[t("div",[e._v("延迟类型")]),e._v(" "),t("Info",[t("li",[t("b",[e._v("默认")]),e._v(" - 延迟测试的延迟")]),e._v(" "),t("li",[t("b",[e._v("平均延迟")]),e._v(" - 两次延迟测试的平均延迟")])])],1),e._v(" "),t("SelectView",{attrs:{items:["默认","平均延迟"]},model:{value:e.settings.proxyDelayType,callback:function(t){e.$set(e.settings,"proxyDelayType",t)},expression:"settings.proxyDelayType"}})],1),e._v(" "),t("div",{staticClass:"item"},[t("div",{staticClass:"flex items-center"},[t("div",[e._v("延迟测试网址")]),e._v(" "),t("Info",[e._v("设置在代理模块中单击延迟测试按钮时使用的 URL\n           ")])],1),e._v(" "),t("SimpleInput",{attrs:{placeholder:"http://www.gstatic.com/generate_204"},model:{value:e.settings.latencyUrl,callback:function(t){e.$set(e.settings,"latencyUrl",t)},expression:"settings.latencyUrl"}})],1),e._v(" "),t("div",{staticClass:"item"},[t("div",[e._v("延迟测试超时")]),e._v(" "),t("SimpleInput",{attrs:{type:"number",placeholder:"3000",suffix:"ms"},model:{value:e.settings.latencyTimeout,callback:function(t){e.$set(e.settings,"latencyTimeout",t)},expression:"settings.latencyTimeout"}})],1),e._v(" "),t("div",{staticClass:"item"},[t("div",{staticClass:"flex items-center"},[t("div",[e._v("显示筛选过滤器")]),e._v(" "),t("Info",[e._v("设置代理模块是否显示关键字过滤器图标\n           ")])],1),e._v(" "),t("SwitchView",{model:{value:e.settings.showProxyFilter,callback:function(t){e.$set(e.settings,"showProxyFilter",t)},expression:"settings.showProxyFilter"}})],1),e._v(" "),t("div",{staticClass:"item"},[t("div",{staticClass:"flex items-center"},[t("div",[e._v("隐藏无法选择的代理组")]),e._v(" "),t("Info",[e._v("设置是否隐藏代理模块中不可选择的代理组\n            ")])],1),e._v(" "),t("SwitchView",{model:{value:e.settings.hideUnselectableGroup,callback:function(t){e.$set(e.settings,"hideUnselectableGroup",t)},expression:"settings.hideUnselectableGroup"}})],1)]),e._v(" "),t("Section",{attrs:{title:"连接"}},[t("div",{staticClass:"item"},[t("div",{staticClass:"flex items-center"},[t("div",[e._v("代理更改时中断连接")]),e._v(" "),t("Info",[t("div",[e._v("\n              在代理模块中设置切换代理时关闭连接的策略:\n            ")]),e._v(" "),t("li",[t("b",[e._v("不中断")]),e._v(" - 不关闭任何链接")]),e._v(" "),t("li",[t("b",[e._v("旧链接")]),e._v(" - 中断通过该代理组的连接")]),e._v(" "),t("li",[t("b",[e._v("全部")]),e._v(" - 关闭所有连接")])])],1),e._v(" "),t("SelectView",{attrs:{items:["不中断","旧链接","所有"]},model:{value:e.settings.connProxy,callback:function(t){e.$set(e.settings,"connProxy",t)},expression:"settings.connProxy"}})],1),e._v(" "),t("div",{staticClass:"item"},[t("div",{staticClass:"flex items-center"},[t("div",[e._v("配置文件更改时中断连接")]),e._v(" "),t("Info",[e._v("设置配置文件改变时是否关闭所有连接\n            ")])],1),e._v(" "),t("SwitchView",{model:{value:e.settings.connProfile,callback:function(t){e.$set(e.settings,"connProfile",t)},expression:"settings.connProfile"}})],1),e._v(" "),t("div",{staticClass:"item"},[t("div",{staticClass:"flex items-center"},[t("div",[e._v("模式更改时中断连接")]),e._v(" "),t("Info",[e._v("设置切换模式时是否关闭所有连接")])],1),e._v(" "),t("SwitchView",{model:{value:e.settings.connMode,callback:function(t){e.$set(e.settings,"connMode",t)},expression:"settings.connMode"}})],1),e._v(" "),t("div",{staticClass:"item"},[t("div",{staticClass:"flex items-center"},[t("div",[e._v("显示进程（如果存在）")]),e._v(" "),t("Info",[e._v("设置是否显示连接中的进程名称（如果存在） \n            ")])],1),e._v(" "),t("SwitchView",{model:{value:e.settings.connShowProcess,callback:function(t){e.$set(e.settings,"connShowProcess",t)},expression:"settings.connShowProcess"}})],1),e._v(" "),t("div",{staticClass:"item"},[t("div",{staticClass:"flex items-center"},[t("div",[e._v("显示链接类型")]),e._v(" "),t("Info",[t("div",[e._v("\n              设置连接模块中显示的链类型:\n            ")]),e._v(" "),t("li",[t("b",[e._v("节点名")]),e._v("")]),e._v(" "),t("li",[t("b",[e._v("分组名")]),e._v("")]),e._v(" "),t("li",[t("b",[e._v("全部")]),e._v(" - 节点名和分组名")])])],1),e._v(" "),t("SelectView",{attrs:{items:["节点名","分组名","全部"]},model:{value:e.settings.connChainType,callback:function(t){e.$set(e.settings,"connChainType",t)},expression:"settings.connChainType"}})],1)]),e._v(" "),t("Section",{attrs:{title:"提供"}},[t("div",{staticClass:"item"},[t("div",[e._v("使用 CFW 编辑器")]),e._v(" "),t("SwitchView",{model:{value:e.settings.editProfileWithCFWEditor,callback:function(t){e.$set(e.settings,"editProfileWithCFWEditor",t)},expression:"settings.editProfileWithCFWEditor"}})],1)]),e._v(" "),t("Section",{attrs:{title:"选择流量出接口"}},[t("div",{staticClass:"item"},[t("div",{staticClass:"flex items-center"},[t("div",[e._v("接口名称")]),e._v(" "),t("Info",[e._v("像 Mixin 一样设置接口名覆盖，以后会移除\n           ")])],1),e._v(" "),t("div",{staticClass:"item"},[e.detectedInterfaceName?t("MoreHint",{staticClass:"interface-hint",attrs:{text:"侦测到: "+e.detectedInterfaceName,clickable:!1}}):e._e(),e._v(" "),t("MoreHint",{staticClass:"hint",attrs:{text:e.settings.interfaceName||"选择"},on:{click:e.handleSelectInterface}})],1)])]),e._v(" "),t("Section",{attrs:{title:"子进程"}},[t("div",{staticClass:"item"},[t("div",{staticClass:"flex items-center"},[t("div",[e._v("启动其他应用")]),e._v(" "),t("Info",[e._v("设置要使用仪表板生成的子进程,\n            "),t("a",{attrs:{href:"https://docs.cfw.lbyczf.com/contents/childprocess.html"}},[e._v("在线文档")])])],1),e._v(" "),t("MoreHint",{staticClass:"hint",attrs:{text:"编辑"},on:{click:e.handleEditChildProcess}})],1)]),e._v(" "),t("Section",{attrs:{title:"配置"}},[t("div",{staticClass:"item"},[t("div",{staticClass:"flex items-center"},[t("div",[e._v("配置文件预处理")]),e._v(" "),t("Info",[e._v("在下载后修改和自定义你的配置，在\n            "),t("a",{attrs:{href:"https://docs.cfw.lbyczf.com/contents/diff.html"}},[e._v("Diff")]),e._v("开始之前\n            "),t("ul",[t("li",[t("a",{attrs:{href:"https://docs.cfw.lbyczf.com/contents/parser.html"}},[e._v("在线文档")])])])])],1),e._v(" "),t("MoreHint",{staticClass:"hint",attrs:{text:"编辑"},on:{click:e.handleEditProfileParsers}})],1),e._v(" "),t("div",{staticClass:"item"},[t("div",[e._v("控制台输出")]),e._v(" "),t("MoreHint",{staticClass:"hint",attrs:{text:"打开文件"},on:{click:e.handleOpenConsoleFile}})],1),e._v(" "),t("separator"),e._v(" "),t("div",{staticClass:"item"},[t("div",{staticClass:"flex items-center"},[t("div",[e._v("资料夹路径")]),e._v(" "),t("Info",[e._v("设置配置文件文件夹的路径，如果在CFW软件根目录下创建名为 data 的文件夹则会开启便携模式，默认路径: Home\n            Directory/profiles")])],1),e._v(" "),t("div",{staticClass:"item"},[t("SimpleInput",{staticClass:"short-input",attrs:{placeholder:"配置文件文件夹路径"},model:{value:e.settings.profilePath,callback:function(t){e.$set(e.settings,"profilePath",t)},expression:"settings.profilePath"}}),e._v(" "),t("MoreHint",{staticClass:"hint",attrs:{text:"选择"},on:{click:e.handleChooseProfilePath}})],1)]),e._v(" "),t("div",{staticClass:"item"},[t("div",{staticClass:"flex items-center"},[t("div",[e._v("自定义请求头")]),e._v(" "),t("Info",[e._v("更新配置文件时设置请求标头内容"),t("br"),t("br"),e._v("\n            在 Profiles 模块中设置单独的配置文件请求头内容\n            ")])],1),e._v(" "),t("MoreHint",{staticClass:"hint",attrs:{text:"编辑"},on:{click:e.handleEditHeaders}})],1),e._v(" "),t("div",{staticClass:"item"},[t("div",{staticClass:"flex items-center"},[t("div",[e._v("更新后选择")]),e._v(" "),t("Info",[e._v("设置是否在更新后选择已更新的配置文件")])],1),e._v(" "),t("SwitchView",{model:{value:e.settings.selectAfterUpdated,callback:function(t){e.$set(e.settings,"selectAfterUpdated",t)},expression:"settings.selectAfterUpdated"}})],1)],1),e._v(" "),t("Section",{attrs:{title:"日志"}},[t("div",{staticClass:"item"},[t("div",{staticClass:"flex items-center"},[t("div",[e._v("预载")]),e._v(" "),t("Info",[e._v("在 Logs 模块中设置要预加载的日志行数,\n            设置为 0 不预加载")])],1),e._v(" "),t("SimpleInput",{attrs:{type:"number",placeholder:"30",suffix:"线程"},model:{value:e.settings.logPreloadLineCount,callback:function(t){e.$set(e.settings,"logPreloadLineCount",t)},expression:"settings.logPreloadLineCount"}})],1)]),e._v(" "),t("Section",{attrs:{title:"操作(Actions)"}},[t("div",{staticClass:"item"},[t("div",{staticClass:"flex items-center"},[t("div",[e._v("脚本")]),e._v(" "),t("Info",[e._v("设置执行Action时要调用的代码,\n            "),t("a",{attrs:{href:"https://docs.cfw.lbyczf.com/contents/actions.html"}},[e._v("在线文档")])])],1),e._v(" "),t("MoreHint",{staticClass:"hint",attrs:{text:"编辑"},on:{click:e.handleEditActionScripts}})],1),e._v(" "),t("div",{staticClass:"item"},[t("div",[e._v("控制台输出")]),e._v(" "),t("MoreHint",{staticClass:"hint",attrs:{text:"打开文件"},on:{click:e.handleOpenActionScriptsConsoleFile}})],1)]),e._v(" "),t("Section",{attrs:{title:"快捷键"}},[e.isLinux?e._e():t("div",{staticClass:"item"},[t("div",[e._v("系统代理")]),e._v(" "),t("div",{staticClass:"item"},[t("KeyCapture",{staticClass:"input",attrs:{placeholder:"点击以录制热键"},model:{value:e.settings.shortcutSystemProxy,callback:function(t){e.$set(e.settings,"shortcutSystemProxy",t)},expression:"settings.shortcutSystemProxy"}})],1)]),e._v(" "),t("div",{staticClass:"item"},[t("div",[e._v("TUN 模式")]),e._v(" "),t("div",{staticClass:"item"},[t("KeyCapture",{staticClass:"input",attrs:{placeholder:"点击以录制热键"},model:{value:e.settings.shortcutTun,callback:function(t){e.$set(e.settings,"shortcutTun",t)},expression:"settings.shortcutTun"}})],1)]),e._v(" "),t("div",{staticClass:"item"},[t("div",[e._v("混合配置")]),e._v(" "),t("div",{staticClass:"item"},[t("KeyCapture",{staticClass:"input",attrs:{placeholder:"点击以录制热键"},model:{value:e.settings.shortcutMixin,callback:function(t){e.$set(e.settings,"shortcutMixin",t)},expression:"settings.shortcutMixin"}})],1)]),e._v(" "),t("separator"),e._v(" "),t("div",{staticClass:"item"},[t("div",[e._v("全局模式")]),e._v(" "),t("div",{staticClass:"item"},[t("KeyCapture",{staticClass:"input",attrs:{placeholder:"点击以录制热键"},model:{value:e.settings.shortcutGlobalMode,callback:function(t){e.$set(e.settings,"shortcutGlobalMode",t)},expression:"settings.shortcutGlobalMode"}})],1)]),e._v(" "),t("div",{staticClass:"item"},[t("div",[e._v("规则模式")]),e._v(" "),t("div",{staticClass:"item"},[t("KeyCapture",{staticClass:"input",attrs:{placeholder:"点击以录制热键"},model:{value:e.settings.shortcutRuleMode,callback:function(t){e.$set(e.settings,"shortcutRuleMode",t)},expression:"settings.shortcutRuleMode"}})],1)]),e._v(" "),t("div",{staticClass:"item"},[t("div",[e._v("直连模式")]),e._v(" "),t("div",{staticClass:"item"},[t("KeyCapture",{staticClass:"input",attrs:{placeholder:"点击以录制热键"},model:{value:e.settings.shortcutDirectMode,callback:function(t){e.$set(e.settings,"shortcutDirectMode",t)},expression:"settings.shortcutDirectMode"}})],1)]),e._v(" "),t("div",{staticClass:"item"},[t("div",[e._v("脚本模式")]),e._v(" "),t("div",{staticClass:"item"},[t("KeyCapture",{staticClass:"input",attrs:{placeholder:"点击以录制热键"},model:{value:e.settings.shortcutScriptMode,callback:function(t){e.$set(e.settings,"shortcutScriptMode",t)},expression:"settings.shortcutScriptMode"}})],1)]),e._v(" "),t("separator"),e._v(" "),t("div",{staticClass:"item"},[t("div",[e._v("显示/隐藏仪表板")]),e._v(" "),t("div",{staticClass:"item"},[t("KeyCapture",{staticClass:"input",attrs:{placeholder:"点击以录制热键"},model:{value:e.settings.shortcutShowHideDashboard,callback:function(t){e.$set(e.settings,"shortcutShowHideDashboard",t)},expression:"settings.shortcutShowHideDashboard"}})],1)]),e._v(" "),e.isLinux?e._e():t("div",{staticClass:"item"},[t("div",[e._v("运行纸盘脚本")]),e._v(" "),t("div",{staticClass:"item"},[t("KeyCapture",{staticClass:"input",attrs:{placeholder:"点击以录制热键"},model:{value:e.settings.shortcutRunTrayScript,callback:function(t){e.$set(e.settings,"shortcutRunTrayScript",t)},expression:"settings.shortcutRunTrayScript"}})],1)])],1),e._v(" "),t("Section",{attrs:{title:"配置编辑器"}},[t("div",{staticClass:"item"},[t("div",[e._v("字体大小")]),e._v(" "),t("SimpleInput",{attrs:{type:"number",placeholder:"13",suffix:"px"},model:{value:e.settings.editorFontSize,callback:function(t){e.$set(e.settings,"editorFontSize",t)},expression:"settings.editorFontSize"}})],1)]),e._v(" "),t("Section",{attrs:{title:"缓存"}},[t("div",{staticClass:"item"},[t("div",[e._v("Fake IP 缓存")]),e._v(" "),t("MoreHint",{staticClass:"hint",attrs:{text:"清除"},on:{click:e.handlerClearFakeIPCache}})],1)]),e._v(" "),t("Section",{attrs:{title:"实验功能"}},[e.isMacOS?t("div",{staticClass:"item"},[t("div",[e._v("DHCP 服务器")]),e._v(" "),t("SwitchView",{model:{value:e.settings.enableDHCPServer,callback:function(t){e.$set(e.settings,"enableDHCPServer",t)},expression:"settings.enableDHCPServer"}})],1):e._e(),e._v(" "),t("div",{staticClass:"item"},[t("div",{staticClass:"relative flex items-center"},[t("div",[e._v("SSID策略")]),e._v(" "),t("Info",[t("div",[e._v("\n              设置SSID匹配策略，第一个匹配的策略\n              将被使用,\n              "),t("a",{attrs:{href:"https://docs.cfw.lbyczf.com/contents/ssid.html"}},[e._v("在线文档")])])])],1),e._v(" "),t("MoreHint",{staticClass:"hint",attrs:{text:"编辑"},on:{click:e.handleEditSSIDStrategy}})],1)])],1):e._e(),e._v(" "),t("navigator",{attrs:{list:e.sections},on:{select:e.handleNavigatToGroup}}),e._v(" "),e.isEditingExternal?t("div",{staticClass:"edit-hint"},[t("div",[e._v("\n      "+e._s(["","Visual Studio Code","Sublime Text"][e.settings.editor])+" is\n      launching for editing.\n    ")]),e._v(" "),t("div",[e._v("关闭编辑文件以保存.")]),e._v(" "),t("div",{staticClass:"btn",on:{click:e.cancelExternalEdit}},[e._v("取消")])]):e._e()],1)}),[],!1,null,"0e5fa962",null),t.default=f.exports},function(e,t,i){"use strict";i.r(t);var n=i(57),o=i.n(n),r=i(13),s=i.n(r),a=i(31),l=i.n(a),c=i(7),d=i.n(c),h=i(33),u=i(20),g=i.n(u),p=i(30),f=i.n(p),m=i(88),v=i.n(m),b=i(212),_=i.n(b),w=i(250),C=i(66),y=i.n(C),x=i(362),S=i.n(x),k=i(363),D=i.n(k),L=i(96),O=i(61),E=i(41),N=i(40),I=i(191),T=(n=i(53),i.n(n)),M=i(25),A=i(24),P=i(39),R=i(157);function F(e,t){var i,n=Object.keys(e);return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(e),t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)),n}r={props:[],data:function(){return{retries:0,logs:"",intervalID:null}},computed:function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?F(Object(i),!0).forEach((function(t){l()(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):F(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},Object(h.mapState)({clashPath:function(e){return e.app.clashPath},logFilePath:function(e){return e.app.logFilePath},errors:function(e){return e.app.errors}})),methods:{openLogsFolder:function(e){this.$parent.$parent.showLogsFolder(!0)},openHomeDir:function(){this.clashPath&&A.shell.openPath(this.clashPath)},autoFix:function(e){var t=this;return s()(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(P.i)({title:"Clash for Windows",type:"warning",message:"请确认",detail:"config.yaml 和 country.mmdb 将被删除.",buttons:["是","否"]});case 2:0===e.sent.response&&t.$parent.autoFix();case 5:case"end":return e.stop()}}),e)})))()}},mounted:function(){function e(){if(t.retries+=1,t.clashPath&&t.logFilePath)try{var e=Object(p.readFileSync)(t.logFilePath).toString().split("\n").filter((function(e){return/level=fatal/.test(e)})).join("\n\n");e?t.logs=e:0<t.errors.length&&(t.logs=t.errors.join("\n"))}catch(e){}3<t.retries&&""===t.logs&&(t.logs="无法连接到 Clash core 核心，日志不可用")}var t=this;this.intervalID=R.a.add(e,2e3),e()},beforeDestroy:function(){this.intervalID&&(R.a.stop(this.intervalID),this.intervalID=null)}},i(563),i(565),a=i(37),c=Object(a.a)(r,(function(){var e=this,t=e.$createElement;return(t=e._self._c||t)("div",{attrs:{id:"error-view-main"}},[e.logs?t("div",{staticClass:"error-hints"},[t("div",{attrs:{id:"error-title"}},[e._v("错误")]),e._v(" "),t("div",{staticClass:"error-content"},[e._v(e._s(e.logs))]),e._v(" "),t("div",{staticClass:"error-btns"},[t("div",{staticClass:"error-hint",on:{click:e.openHomeDir}},[e._v("主目录")]),e._v(" "),t("div",{staticClass:"error-hint",on:{click:e.openLogsFolder}},[e._v("日志文件夹")]),e._v(" "),t("div",{staticClass:"error-hint",on:{click:e.autoFix}},[e._v("尝试修复")])])]):t("div",{staticClass:"loading-hint"},[e._v("正在加载...")])])}),[],!1,null,"9ba71ad8",null).exports,u=i(43);var j=i.n(u);m=i(137),b=i(194),C=i(219),x={name:"EditListView",model:{prop:"list",event:"changed"},props:{list:{type:Array,default:function(){return[]}},disabled:{type:Boolean,default:!1}},data:function(){return{}},methods:{handleAddItem:function(){this.$emit("changed",[].concat(j()(this.list),[""]))},handleRemoveItem:function(e){this.$emit("changed",[].concat(j()(this.list.slice(0,e)),j()(this.list.slice(e+1))))},handleChangeItem:function(e,t){this.$emit("changed",[].concat(j()(this.list.slice(0,t)),[e.target.value],j()(this.list.slice(t+1))))}}},i(573),k=Object(a.a)(x,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"main-edit-list-view"},[e._l(e.list,(function(t,n){return i("div",{key:n,staticClass:"item"},[i("input",{staticClass:"rounded-br-none rounded-tr-none",attrs:{type:"text",disabled:e.disabled},domProps:{value:t},on:{input:function(t){return e.handleChangeItem(t,n)}}}),e._v(" "),e.disabled?e._e():i("div",{staticClass:"btn btn-remove clickable",on:{click:function(t){return e.handleRemoveItem(n)}}},[i("span",{staticClass:"icon text-white"},[e._v("remove")])])])})),e._v(" "),e.disabled?e._e():i("div",{staticClass:"btn btn-add clickable",on:{click:e.handleAddItem}},[i("span",{staticClass:"icon text-[#41b883]"},[e._v("add")])])],2)}),[],!1,null,"38c11d63",null).exports,n=i(109);function B(e,t){var i,n=Object.keys(e);return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(e),t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)),n}function W(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?B(Object(i),!0).forEach((function(t){l()(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):B(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function V(e,t){var i,n=Object.keys(e);return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(e),t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)),n}function z(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?V(Object(i),!0).forEach((function(t){l()(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):V(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}r={name:"TunSettingsView",components:{SelectView:m.a,SwitchView:b.a,SimpleInput:C.a,EditList:k,EscCapture:n.a},data:function(){return{stackType:0,nameServers:[],fallbackServers:[],fakeIPFilters:[],isAutoDetectInterface:!0,interfaceName:"",dnsHijacks:[],isAutoRedir:!1,isAutoRedirAutoRoute:!1}},computed:W(W({},Object(h.mapState)({tunSettings:function(e){return e.app.tunSettings}})),{},{obj:function(){return Object(P.g)(this.$data)},text:function(){return T.a.stringify(this.obj)}}),watch:{},methods:W(W({},Object(h.mapMutations)({setTunSettings:"SET_TUN_SETTINGS"})),{},{handleSave:function(){this.setTunSettings({settings:this.$data}),this.$emit("close")},handleReset:function(){var e=this;return s()(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setupComponent({});case 1:case"end":return t.stop()}}),t)})))()},setupComponent:function(){var e=(l=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).nameServers,t=l.fallbackServers,i=l.fakeIPFilters,n=l.stackType,o=l.isAutoDetectInterface,r=l.interfaceName,s=l.dnsHijacks,a=l.isAutoRedir,l=l.isAutoRedirAutoRoute;this.stackType=[0,1].includes(n)?n:0,this.nameServers=e||["114.114.114.114","223.5.5.5","8.8.8.8"],this.fallbackServers=t||[],this.fakeIPFilters=i||["+.stun.*.*","+.stun.*.*.*","+.stun.*.*.*.*","+.stun.*.*.*.*.*","*.n.n.srv.nintendo.net","+.stun.playstation.net","xbox.*.*.microsoft.com","*.*.xboxlive.com"].concat(j()(Object(M.l)()?["*.msftncsi.com","*.msftconnecttest.com","WORKGROUP"]:Object(M.k)()?["apps.apple.com"]:[])),this.isAutoDetectInterface=void 0===o||o,this.interfaceName=r||"",this.dnsHijacks=s||["any:53"],this.isAutoRedir=void 0!==a&&a,this.isAutoRedirAutoRoute=void 0!==l&&l}}),mounted:function(){this.setupComponent(this.tunSettings||{})},beforeDestroy:function(){}},i(575),u=Object(a.a)(r,(function(){var e=this,t=e.$createElement;return(t=e._self._c||t)("EscCapture",{staticClass:"main-tun-settings-view bg-[color:var(--mask-c)]",on:{esc:function(t){return e.$emit("close")},mousedown:function(t){return e.$emit("close")}}},[t("div",{staticClass:"content bg-[color:var(--bgc)] text-[color:var(--fgc)]",on:{mousedown:function(e){e.stopPropagation()}}},[t("div",{staticClass:"title"},[e._v("TUN 模式设置")]),e._v(" "),t("div",{staticClass:"pannel"},[t("div",{staticClass:"left border-[1px] border-[color:var(--bc)]"},[t("div",[t("div",[e._v("DNS 服务器")]),e._v(" "),t("EditList",{model:{value:e.nameServers,callback:function(t){e.nameServers=t},expression:"nameServers"}})],1),e._v(" "),t("div",[t("div",[e._v("后备 DNS 服务器")]),e._v(" "),t("EditList",{model:{value:e.fallbackServers,callback:function(t){e.fallbackServers=t},expression:"fallbackServers"}})],1),e._v(" "),t("div",[t("div",[e._v("Fake IP过滤器")]),e._v(" "),t("EditList",{model:{value:e.fakeIPFilters,callback:function(t){e.fakeIPFilters=t},expression:"fakeIPFilters"}})],1),e._v(" "),t("div",[t("div",[e._v("DNS 劫持")]),e._v(" "),t("EditList",{model:{value:e.dnsHijacks,callback:function(t){e.dnsHijacks=t},expression:"dnsHijacks"}})],1),e._v(" "),t("div",{staticClass:"flex"},[t("div",[e._v("TUN 码(TUN Stack)")]),e._v(" "),t("SelectView",{attrs:{items:["gvisor","system"]},model:{value:e.stackType,callback:function(t){e.stackType=t},expression:"stackType"}})],1),e._v(" "),t("div",{staticClass:"flex"},[t("div",[e._v("自动检测接口")]),e._v(" "),t("SwitchView",{model:{value:e.isAutoDetectInterface,callback:function(t){e.isAutoDetectInterface=t},expression:"isAutoDetectInterface"}})],1),e._v(" "),e.isAutoDetectInterface?e._e():t("div",{staticClass:"flex"},[t("div",[e._v("接口名称")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.interfaceName,expression:"interfaceName"}],attrs:{type:"text"},domProps:{value:e.interfaceName},on:{input:function(t){t.target.composing||(e.interfaceName=t.target.value)}}})]),e._v(" "),e.isLinux?t("div",{staticClass:"flex"},[t("div",[e._v("Auto Redir")]),e._v(" "),t("SwitchView",{model:{value:e.isAutoRedir,callback:function(t){e.isAutoRedir=t},expression:"isAutoRedir"}})],1):e._e(),e._v(" "),e.isLinux&&e.isAutoRedir?t("div",{staticClass:"flex"},[t("div",[e._v("Auto Route(Auto Redir)")]),e._v(" "),t("SwitchView",{model:{value:e.isAutoRedirAutoRoute,callback:function(t){e.isAutoRedirAutoRoute=t},expression:"isAutoRedirAutoRoute"}})],1):e._e()]),e._v(" "),t("div",{staticClass:"right border-[1px] border-[color:var(--bc)]"},[t("pre",[e._v(e._s(e.text))])])]),e._v(" "),t("div",{staticClass:"btns"},[t("div",{staticClass:"btn clickable",on:{click:e.handleReset}},[e._v("重置")]),e._v(" "),t("div"),e._v(" "),t("div",{staticClass:"btn clickable",on:{click:e.handleSave}},[e._v("保存")])])])])}),[],!1,null,"2847ffbe",null).exports;x={name:"ResetDNSSettingsView",components:{SelectView:m.a,SwitchView:b.a,SimpleInput:C.a,EditList:k,EscCapture:n.a},data:function(){return{servers:[],isUsingCustom:!1}},computed:z({},Object(h.mapState)({userDNS:function(e){return e.app.userDNS}})),watch:{},methods:z(z({},Object(h.mapMutations)({})),{},{handleSave:function(){this.settings.isUsingResetDNSServers=this.isUsingCustom,this.settings.resetDNSServers=this.servers,this.$emit("close")},setupComponent:function(){var e=(t=this.settings).isUsingResetDNSServers,t=t.resetDNSServers;this.isUsingCustom=e,this.servers=t}}),mounted:function(){this.setupComponent()},beforeDestroy:function(){}},i(577),r=Object(a.a)(x,(function(){var e=this,t=e.$createElement;return(t=e._self._c||t)("EscCapture",{staticClass:"main-tun-settings-view bg-[color:var(--mask-c)]",on:{esc:function(t){return e.$emit("close")},mousedown:function(t){return e.$emit("close")}}},[t("div",{staticClass:"content bg-[color:var(--bgc)] text-[color:var(--fgc)]",on:{mousedown:function(e){e.stopPropagation()}}},[t("div",{staticClass:"title"},[e._v("重置 DNS 设置")]),e._v(" "),t("div",{staticClass:"font-normal mb-1 text-sm hint"},[e._v("\n      If "),t("span",[e._v("Enabled")]),e._v(", "),t("span",[e._v("自定义服务器")]),e._v(" will be used to\n      reset the system DNS after TUN mode is disabled. Otherwise,\n      "),t("span",[e._v("Detected Servers")]),e._v("\n      will be used.\n    ")]),e._v(" "),t("div",{staticClass:"pannel"},[t("div",{staticClass:"left border-[1px] border-[color:var(--bc)]"},[t("div",{staticClass:"flex"},[t("div",[e._v("Enable")]),e._v(" "),t("SwitchView",{model:{value:e.isUsingCustom,callback:function(t){e.isUsingCustom=t},expression:"isUsingCustom"}})],1),e._v(" "),t("div",[t("div",[e._v("Custom Servers:")]),e._v(" "),t("EditList",{model:{value:e.servers,callback:function(t){e.servers=t},expression:"servers"}})],1)]),e._v(" "),t("div",{staticClass:"right border-[1px] border-[color:var(--bc)]"},[t("div",[t("div",[e._v("Detected Servers:")]),e._v(" "),t("EditList",{attrs:{disabled:!0},model:{value:e.userDNS,callback:function(t){e.userDNS=t},expression:"userDNS"}})],1)])]),e._v(" "),t("div",{staticClass:"btns"},[t("div"),e._v(" "),t("div",{staticClass:"btn clickable",on:{click:e.handleSave}},[e._v("保存")])])])])}),[],!1,null,"47896be6",null).exports;var H=i(182),U=(C={name:"InterfacesView",components:{EscCapture:n.a,SelectView:m.a},data:function(){return{interfaces:[],ipvIndex:0}},computed:{ifs:function(){var e=this;return this.interfaces.reduce((function(t,i){var n=i.name;return 0<(i=i.addrs.filter((function(t){return t.family===["IPv4","IPv6"][e.ipvIndex]}))).length&&t.push({name:n,addrs:i}),t}),[])}},mounted:function(){this.interfaces=Object.entries(Object(H.networkInterfaces)()).map((function(e){return{name:(e=o()(e,2))[0],addrs:e[1]}}))}},k=(i(579),Object(a.a)(C,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("EscCapture",{staticClass:"w-[calc(100%_-_170px)] h-[calc(100%_-_25px)] absolute top-[25px] left-[170px] bg-[color:var(--mask-c)] flex flex-col justify-center items-center",on:{esc:function(t){return e.$emit("close")},mousedown:function(t){return e.$emit("close")}}},[i("div",{staticClass:"w-[500px] max-h-[500px] rounded bg-[color:var(--bgc)] text-[color:var(--fgc)] overflow-auto flex flex-col items-center",on:{mousedown:function(e){e.stopPropagation()}}},[i("div",{staticClass:"flex justify-between w-full bg-[color:var(--bgc)] px-5 py-3 border-[color:var(--bc)] border-b"},[i("span",[e._v("网络端口")]),e._v(" "),i("SelectView",{attrs:{items:["IPv4","IPv6"]},model:{value:e.ipvIndex,callback:function(t){e.ipvIndex=t},expression:"ipvIndex"}})],1),e._v(" "),i("div",{staticClass:"list w-full flex-grow flex flex-col gap-2 px-5 py-4"},e._l(e.ifs,(function(t){return i("div",{key:t.name,staticClass:"if-list rounded w-full"},[i("span",{staticClass:"text-base w-full text-center"},[e._v(e._s(t.name))]),e._v(" "),e._l(t.addrs,(function(t){return i("div",{key:t.address,staticClass:"text-sm flex flex-col",style:{color:t.internal?"#D44545":"#13AF42"}},[i("div",{staticClass:"flex"},[i("span",{staticClass:"w-[80px]"},[e._v("Address:")]),e._v(" "),i("span",[e._v(e._s(t.address))])]),e._v(" "),i("div",{staticClass:"flex"},[i("span",{staticClass:"w-[80px]"},[e._v("Netmask:")]),e._v(" "),i("span",[e._v(e._s(t.netmask)+"\n              "),t.cidr?i("span",[e._v("("+e._s(t.cidr.split("/")[1])+")")]):e._e()])]),e._v(" "),i("div",{staticClass:"flex"},[i("span",{staticClass:"w-[80px]"},[e._v("MAC:")]),e._v(" "),i("span",[e._v(e._s(t.mac))])])])}))],2)})),0)])])}),[],!1,null,"d9b850ea",null).exports),x=i(263),n=i(126),i(227));function $(e,t){var i,n=Object.keys(e);return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(e),t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)),n}function K(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?$(Object(i),!0).forEach((function(t){l()(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):$(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var q=((C=i(293)("./service_".concat(process.platform))).status,C.statusService,C.needUpdate),G=C.updateService,Y=C.installService,Z=C.uninstallService;h={components:{ErrorView:c,TunSettingsView:u,ResetDNSSettingsView:r,InterfacesView:k,SwitchView:b.a,SelectView:m.a,InfoIcon:x.a,Hint:n.a},props:[],data:function(){return{iconPath:"static/imgs/logo2.png",title:"Clash for Windows",isAllowLan:!1,port:0,logLevel:"unknow",isIPV6:!1,geoipUpdateTime:"",systemProxyLoading:!0,autoLaunch:N.a.get(E.a.AUTO_LAUNCH)||!1,autoLaunchLoading:!0,protableMode:!1,version:"",clashCoreVersion:"",serviceNeedUpdate:!1,isTunSettingsVisible:!1,isInterfacesVisible:!1,isFetchingFirewallRule:!1,isResetDNSSettingsVisible:!1}},watch:{status:function(){this.setupSwitches()},isWindowShow:function(e){e&&(this.setupComponent(),this.setupSwitches())},isLaunching:function(e){e||this.setupComponent()},clashStatus:function(e){e===O.a.CONNECTED&&this.setupComponent()},clashPath:function(){this.serviceNeedUpdate=q()}},computed:K(K(K({},Object(h.mapState)({devMode:function(e){return e.app.isDevMode},clashPath:function(e){return e.app.clashPath},clashStatus:function(e){return e.app.clashStatus},confData:function(e){return e.app.confData},isMixinEnable:function(e){return e.app.isMixinEnable},isTunEnable:function(e){return e.app.isTunEnable},status:function(e){return e.app.status},isWindowShow:function(e){return e.app.isWindowShow},isLocalMode:function(e){return e.app.isLocalMode},isLaunching:function(e){return e.app.isLaunching},isSystemProxyOn:function(e){return e.app.isSystemProxyOn},isSilentUpgraded:function(e){return e.app.isSilentUpgraded},updateDownloadProgress:function(e){return e.app.updateDownloadProgress},isFirewallRuleExist:function(e){return e.app.isFirewallRuleExist},currentProfilePayload:function(e){return e.app.currentProfilePayload},matchedSSID:function(e){return e.app.matchedSSID}})),Object(h.mapGetters)(["resourcesPath","filesPath","mixedPort","clashAxiosClient","controllerPort","secret"])),{},{autoLaunchHint:function(){return Object(M.k)()?"开机自启动":Object(M.l)()?"开机自启动":Object(M.j)()?"开机自启动":void 0},isShowNewIcon:function(){var e=this.settings.showNewVersionIcon,t=this.$parent.newVersionInfo.url;return(void 0===e||e)&&t}}),methods:K(K({},Object(h.mapMutations)({changeIsMixinEnable:"CHANGE_IS_MIXIN_ENABLE",changeIsTunEnable:"CHANGE_IS_TUN_ENABLE",setIsLocalMode:"SET_IS_LOCAL_MODE",setConfData:"SET_CONF_DATA",setIsSystemProxyOn:"SET_IS_SYSTEM_PROXY_ON",setIsFirewallRuleExist:"SET_IS_FIREWALL_RULE_EXIST"})),{},{handleShowDNSQueryDialog:function(){this.$dns().catch((function(e){}))},handleShowScriptTestDialog:function(){this.$script({}).catch((function(e){}))},handlePreviewCurrentPayload:function(){this.$code({code:T.a.stringify(this.currentProfilePayload),readOnly:!0}).catch((function(e){}))},handleAddFirewallRules:function(){var e=this;return s()(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.isFetchingFirewallRule)return t.abrupt("return");t.next=2;break;case 2:if(e.isFetchingFirewallRule=!0,t.prev=3,e.isFirewallRuleExist)return t.next=7,Object(U.c)();t.next=9;break;case 7:t.next=11;break;case 9:return t.next=11,Object(U.a)();case 11:t.next=15;break;case 13:t.prev=13,t.t0=t.catch(3);case 15:return t.t1=e,t.next=18,Object(U.b)();case 18:t.t2=t.sent,t.t3={isExist:t.t2},t.t1.setIsFirewallRuleExist.call(t.t1,t.t3),e.isFetchingFirewallRule=!1;case 22:case"end":return t.stop()}}),t,null,[[3,13]])})))()},handleEditMixin:function(){var e=this;return s()(d.a.mark((function t(){var i,n,o,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=e.settings,n=o.mixinText,i=void 0===n?"mixin: # object\n":n,r=o.mixinType,n=void 0===r?0:r,r=o.mixinCode,o=void 0===r?"module.exports.parse = ({ content, name, url }, { yaml, axios, notify }) => {\n  return content\n}":r,t.prev=1,t.next=4,e.$code({code:0===n?i:o,language:0===n?"yaml":"javascript",fontSize:e.settings.editorFontSize});case 4:(r=void 0===(r=(r=t.sent).code)?"":r)!==(0===n?i:o)&&(0===n?e.settings.mixinText=r:e.settings.mixinCode=r),t.next=12;break;case 10:t.prev=10,t.t0=t.catch(1);case 12:case"end":return t.stop()}}),t,null,[[1,10]])})))()},handleEditSSIDStrategyText:function(){var e=this;return s()(d.a.mark((function t(){var i,n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=e.settings.ssidStrategyText,t.prev=1,t.next=4,e.$code({code:i,language:"yaml",fontSize:e.settings.editorFontSize});case 4:(n=void 0===(n=(n=t.sent).code)?"":n)!==i&&(e.settings.ssidStrategyText=n,e.$parent.setSSIDOptions()),t.next=12;break;case 10:t.prev=10,t.t0=t.catch(1);case 12:case"end":return t.stop()}}),t,null,[[1,10]])})))()},installService:function(){var e=this;return s()(d.a.mark((function t(){var i,n,r,s;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=["安装","卸载"],e.serviceNeedUpdate&&i.push("更新"),t.next=4,e.$select({title:"服务管理",message:"这可能需要一段时间.\n该APP将自动重新启动.\n\n当前状态: ".concat(e.isLocalMode?"未安装":"已安装"),items:i,subSelectItems:Object(M.l)()?["schtasks(推荐)","winsw"]:[],subSelectTitle:"安装方法:"});case 4:if(r=t.sent,s=o()(r,2),n=s[0],r=s[1],t.prev=8,0!==n){t.next=17;break}if(e.isLocalMode){t.next=14;break}return t.next=13,Object(P.i)({type:"error",message:"The service is already installed."});case 13:return t.abrupt("return");case 14:return t.next=16,Y(r);case 16:e.devMode||e.reloadElectron();case 17:if(1===n)return t.next=20,Z();t.next=21;break;case 20:e.devMode||e.reloadElectron();case 21:if(2===n)return t.next=24,G();t.next=25;break;case 24:e.devMode||e.reloadElectron();case 25:t.next=35;break;case 27:return t.prev=27,t.t0=t.catch(8),t.next=31,e.$select({title:"未能".concat(i[n].toLowerCase(),"服务模式"),message:t.t0.message,items:["重新加载APP","取消"]});case 31:s=t.sent,0===(s=o()(s,1))[0]&&e.reloadElectron();case 35:case"end":return t.stop()}}),t,null,[[8,27]])})))()},handleAllowLANChange:function(){var e=this;return s()(d.a.mark((function t(){var i;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=!e.isAllowLan,t.next=3,e.clashAxiosClient.patch("/configs",{"allow-lan":i});case 3:if(204===t.sent.status)return e.isAllowLan=i,t.next=8,Object(P.l)(g.a.join(e.clashPath,"config.yaml"),"allow-lan",i);t.next=9;break;case 8:e.setConfData({data:K(K({},e.confData),{},{"allow-lan":i})});case 9:case"end":return t.stop()}}),t)})))()},handleIPV6Change:function(){var e=this;return s()(d.a.mark((function t(){var i;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=!e.isIPV6,t.next=3,e.clashAxiosClient.patch("/configs",{ipv6:i});case 3:if(204===t.sent.status)return e.isIPV6=i,t.next=9,Object(P.l)(g.a.join(e.clashPath,"config.yaml"),"ipv6",i);t.next=10;break;case 9:e.setConfData({data:K(K({},e.confData),{},{ipv6:i})});case 10:case"end":return t.stop()}}),t)})))()},handleEditLogLevel:function(){var e=this;return s()(d.a.mark((function t(){var i,n,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,i=["silent","error","warning","info","debug"],t.next=4,e.$select({title:"更改日志收集级别",message:"静默将阻止 .log 文件在下次启动时生成, 而调试将收集所有运行信息至 .log 文件",items:["静默","错误","警告","信息","调试"],});case 4:return r=t.sent,n=o()(r,1),r=n[0],n=i[r],t.next=10,e.clashAxiosClient.patch("/configs",{"log-level":n});case 10:if(204===(r=t.sent).status)return e.logLevel=n,t.next=16,Object(P.l)(g.a.join(e.clashPath,"config.yaml"),"log-level",n);t.next=17;break;case 16:e.setConfData({data:K(K({},e.confData),{},{"log-level":n})});case 17:t.next=21;break;case 19:t.prev=19,t.t0=t.catch(0);case 21:case"end":return t.stop()}}),t,null,[[0,19]])})))()},handleMixinSwitchClick:function(e){var t=this;return s()(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.changeIsMixinEnable({isMixin:!t.isMixinEnable});case 1:case"end":return e.stop()}}),e)})))()},handleTunSwitchClick:function(e){var t=this;return s()(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.changeIsTunEnable({isTun:!t.isTunEnable});case 1:case"end":return e.stop()}}),e)})))()},handleSystemProxySwitchClick:function(){var e=this;return s()(d.a.mark((function t(){var i,n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.systemProxyLoading)return t.abrupt("return");t.next=2;break;case 2:return e.systemProxyLoading=!0,i=!e.isSystemProxyOn,t.next=6,e.$setSystemProxy(i,e.confData);case 6:if(!t.sent){t.next=11;break}e.setIsSystemProxyOn({isOn:i}),t.next=37;break;case 11:if(Object(M.k)()&&e.isLocalMode)return t.next=14,Object(P.i)({type:"error",message:"Make sure you have ".concat(e.serviceNeedUpdate?"已更新":"已安装"," 用于控制系统代理的服务模式."),buttons:["".concat(e.serviceNeedUpdate?"更新":"安装"," 现在"),"Later"]});t.next=37;break;case 14:if(n=(n=t.sent).response,t.prev=16,0!==n){t.next=27;break}if(e.serviceNeedUpdate)return t.next=21,G();t.next=24;break;case 21:e.$parent.devMode||e.reloadElectron(),t.next=27;break;case 24:return t.next=26,Y();case 26:e.$parent.devMode||e.reloadElectron();case 27:t.next=37;break;case 29:return t.prev=29,t.t0=t.catch(16),t.next=33,e.$select({title:"未能".concat(e.serviceNeedUpdate?"update":"install"," service"),message:t.t0.message,items:["重新加载APP","取消"]});case 33:n=t.sent,0===(n=o()(n,1))[0]&&e.reloadElectron();case 37:e.systemProxyLoading=!1;case 38:case"end":return t.stop()}}),t,null,[[16,29]])})))()},handleAutoLaunchSwitchClick:function(){var e=this;return s()(d.a.mark((function t(){var i;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=!e.autoLaunch,e.autoLaunchLoading)return t.abrupt("return");t.next=3;break;case 3:e.autoLaunchLoading=!0,e.$setAutoLaunch(i),e.autoLaunch=i,N.a.put(E.a.AUTO_LAUNCH,i),e.autoLaunchLoading=!1;case 8:case"end":return t.stop()}}),t)})))()},installTapDevice:function(e){var t=this;return s()(d.a.mark((function e(){var i,n,r,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Object(M.l)())return e.prev=1,e.next=4,t.$select({title:"虚拟网卡设置管理",message:'名为 "cfw-tap" 的适配器会将您的数据路由到Clash中.\n\n如果弹出安装框, 请继续单击"下一步",  直到安装完成.',items:["安装","卸载","定制"]});e.next=49;break;case 4:if(r=e.sent,n=o()(r,1),0===(i=n[0]))return e.prev=8,e.next=11,t.$parent.setupTapDevice(!0);e.next=20;break;case 11:Object(P.j)("成功","cfw-tap 已安装",!0),(t.isMixinEnable||t.isTunEnable)&&t.$parent.refreshProfile(),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(8),Object(P.j)("失败","无法安装 cfw-tap.",!0);case 18:e.next=45;break;case 20:if(1===i)return e.prev=21,e.next=24,t.$parent.setupTapDevice(!1);e.next=32;break;case 24:Object(P.j)("成功","cfw-tap 已被移除",!0),e.next=30;break;case 27:e.prev=27,e.t1=e.catch(21),Object(P.j)("失败", "无法移除 cfw-tap.",!0);case 30:e.next=45;break;case 32:if(2===i)return s=null!==(r=N.a.get(E.a.TAP_INFO))&&void 0!==r?r:{},n=s.ip,r=s.subnet,s=s.gateway,s=[{name:"IP地址",key:"ip",placeholder:"10.0.0.1",value:null!=n?n:""},{name:"子网掩码",key:"subnet",placeholder:"255.255.255.0",value:null!=r?r:""},{name:"默认网关",key:"gateway",placeholder:"10.0.0.0",value:null!=s?s:""}],e.prev=35,e.next=38,t.$input({title:"虚拟网卡安装（TAP 模式）",data:s,hint:"更改这些字段后，您需要重新安装虚拟网卡!"});e.next=45;break;case 38:s=e.sent,N.a.put(E.a.TAP_INFO,s),e.next=44;break;case 42:e.prev=42,e.t2=e.catch(35);case 44:t.installTapDevice();case 45:e.next=49;break;case 47:e.prev=47,e.t3=e.catch(1);case 49:case"end":return e.stop()}}),e,null,[[1,47],[8,15],[21,27],[35,42]])})))()},openCmdWithProxy:function(){var e=this;return s()(d.a.mark((function t(){var n,r,s;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!Object(M.k)()&&!Object(M.j)()){t.next=5;break}e.handlePortClick(),t.next=13;break;case 5:if(Object(M.l)())return t.next=8,e.$select({title:"打开终端并设置代理",message:"选择一个终端",items:["CMD","Powershell","Windows Terminal","仅复制命令"],checkList:[{key:"以管理员身份运行",value:!1}]});t.next=13;break;case 8:r=t.sent,s=o()(r,2),n=s[0],r=s[1],3===n?e.handlePortClick():(s=["cmd","powershell","wt"],(0,(r[0].value?i(168):L).exec)("start ".concat(s[n]),{cwd:e.$parent.userPath,windowsHide:!0,env:{http_proxy:"http://127.0.0.1:".concat(e.port),https_proxy:"http://127.0.0.1:".concat(e.port)}}));case 13:t.next=17;break;case 15:t.prev=15,t.t0=t.catch(0);case 17:case"end":return t.stop()}}),t,null,[[0,15]])})))()},handleEditMixedPort:function(){var e=this;return s()(d.a.mark((function t(){var i,n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=[{name:"新端口",key:"port",placeholder:e.port,value:"",validate:function(e){return/^\d+$/.test(e)&&0<=+e&&+e<=65353?"":"Port must be an integer between 0 to 65353"}}],t.prev=1,t.next=4,e.$input({title:"更改混合端口",data:i,hint:"mixed = http + socks"});case 4:if(n=(n=t.sent).port)return t.next=9,e.clashAxiosClient.patch("/configs",{"mixed-port":+n});t.next=15;break;case 9:if(204===t.sent.status)return e.port=+n,t.next=14,Object(P.l)(g.a.join(e.clashPath,"config.yaml"),"mixed-port",+n);t.next=15;break;case 14:e.setConfData({data:K(K({},e.confData),{},{"mixed-port":+n})});case 15:t.next=19;break;case 17:t.prev=17,t.t0=t.catch(1);case 19:e.setupComponent();case 20:case"end":return t.stop()}}),t,null,[[1,17]])})))()},handleCopyControllerURL:function(){A.shell.openExternal("https://clash.razord.top/#/?host=127.0.0.1&port=".concat(this.controllerPort,"&secret=").concat(encodeURIComponent(this.secret)))},spawnLoopback:function(e){var t;Object(M.l)()&&(t=g.a.join(this.filesPath,"win","common"),A.shell.openPath(g.a.join(t,"EnableLoopback.exe")))},openGithubRelease:function(){var e=this;return s()(d.a.mark((function t(){var n,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(Object(M.k)()&&e.isSilentUpgraded)return t.next=3,e.$select({title:"自动升级 completed!",message:"是否要重启APP?",items:["重新启动","取消"]});t.next=10;break;case 3:if(n=t.sent,0===(n=o()(n,1))[0])return t.next=9,e.reloadElectron();t.next=9;break;case 9:return t.abrupt("return");case 10:return r=function(){var t=s()(d.a.mark((function t(n){var r,s,a,l,c,h,u,g,p,f;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return h=e.$parent.newVersionInfo,r=h.url,s=h.version,a=h.log,c=h.isPortable,l=void 0!==c&&c,c=h.reactions,h=h.reactionClick,t.next=3,A.ipcRenderer.invoke("app","getAppPath");case 3:if(u=t.sent.startsWith(process.env.ProgramFiles),r)return t.next=7,e.$select({title:"".concat(s," 已发布"),html:a,reactions:c,reactionClick:h,items:[l||Object(M.j)()?"":"更新(原版)","下载(原版)","复制URL(原版)","取消"]});t.next=36;break;case 7:if(g=t.sent,0!==(g=(g=o()(g,1))[0])){t.next=33;break}if(null!==e.updateDownloadProgress)return t.abrupt("return");t.next=13;break;case 13:return t.next=15,Object(w.a)(r,s).catch((function(e){y.a.info("升级应用程序失败并出现错误: ".concat(e))}));case 15:if(p=t.sent,y.a.info("upgrade asset path: ".concat(p)),Object(M.k)())return t.next=20,Object(P.i)({type:"info",message:"更新安装成功，要重启APP吗?",buttons:["是","否"]});t.next=25;break;case 20:if(0===(f=t.sent).response)return t.next=25,e.reloadElectron();t.next=25;break;case 25:if(Object(M.l)())return t.next=28,Object(P.i)({type:"info",message:"原版包下载成功，要执行吗?",buttons:["是","否"]});t.next=31;break;case 28:0===(f=t.sent).response&&(u?i(168).exec("".concat(p," /S")):((f=function(){try{Object(L.spawnSync)(p,["/S"],{detached:!0,windowsHide:!0})}catch(e){}})(),setInterval(f,2e3)));case 31:t.next=34;break;case 33:1===g?A.shell.openExternal(r):2===g&&A.clipboard.writeText(r);case 34:t.next=37;break;case 36:e.$alert({title:"当前版本是最新的",content:"当前汉化版本也是最新的."});case 37:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),t.next=13,e.$parent.checkForUpdate();case 13:return t.next=15,r();case 15:case"end":return t.stop()}}),t)})))()},handleHomeDirectoryOpen:function(){A.shell.openPath(g.a.resolve(this.clashPath))},handleGeoipDatabaseUpdate:function(){this.updateGeoipDB()},handlePortClick:function(){var e=this;return s()(d.a.mark((function t(){var i,n,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=function(){var t=s()(d.a.mark((function t(i){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=[{name:"",key:"command",placeholder:"",value:(n=N.a.get(E.a.SYSTEM_PROXY_COMMAND))||i}],t.next=4,e.$input({title:"复制命令",data:n,hint:"",confirmText:"Copy"}).catch((function(e){}));case 4:return n=(n=t.sent).command,N.a.put(E.a.SYSTEM_PROXY_COMMAND,n||""),t.abrupt("return",(n||"").replace(/%mixedPort%/g,e.port).replace(/%(.+?)%/g,(function(e){console.log(e.slice(1,-1));var t=(Object(I.b)().find((function(t){return t.name===e.slice(1,-1)}))||{}).address;return void 0===t?"":t})));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Object(M.k)()||Object(M.j)())return t.next=4,n("export https_proxy=http://127.0.0.1:%mixedPort%;export http_proxy=http://127.0.0.1:%mixedPort%;export all_proxy=socks5://127.0.0.1:%mixedPort%");t.next=7;break;case 4:i=t.sent,t.next=29;break;case 7:if(Object(M.l)())return t.prev=8,t.next=11,e.$select({title:"复制代理设置命令",message:"选择一个终端",items:["CMD","Powershell","自定义"]});t.next=29;break;case 11:if(r=t.sent,0!==(r=(r=o()(r,1))[0])){t.next=18;break}i="set http_proxy=http://127.0.0.1:".concat(e.port," & set https_proxy=http://127.0.0.1:").concat(e.port),t.next=25;break;case 18:if(1!==r){t.next=22;break}i='$Env:http_proxy="http://127.0.0.1:'.concat(e.port,'";$Env:https_proxy="http://127.0.0.1:').concat(e.port,'"'),t.next=25;break;case 22:return t.next=24,n("export https_proxy=http://127.0.0.1:%mixedPort%;export http_proxy=http://127.0.0.1:%mixedPort%;export all_proxy=socks5://127.0.0.1:%mixedPort%");case 24:i=t.sent;case 25:t.next=29;break;case 27:t.prev=27,t.t0=t.catch(8);case 29:i&&(A.clipboard.writeText(i),Object(P.j)("命令已复制到剪贴板!",i,!0));case 30:case"end":return t.stop()}}),t,null,[[8,27]])})))()},autoFix:function(){var e=this;return s()(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{f.a.unlinkSync(g.a.join(e.clashPath,"config.yaml"))}catch(t){}try{f.a.unlinkSync(g.a.join(e.clashPath,"country.mmdb"))}catch(t){}return t.next=4,e.reloadElectron();case 4:case"end":return t.stop()}}),t)})))()},updateGeoipDB:function(){var e=this;return s()(d.a.mark((function t(){var i,n,o,r,s,a,l,c,h,u,p;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(Object(M.l)())return e.$alert({content:"CFW 不允许更新 GeoIP 数据库，请手动进行.",title:"Note"}),t.abrupt("return");t.next=3;break;case 3:if(i=e.geoipUpdateTime,/^Updating/.test(e.geoipUpdateTime))return t.abrupt("return");t.next=6;break;case 6:return n=[{name:"MaxMind User License Key",key:"token",placeholder:"",value:N.a.get(E.a.GEOIP_TOKEN)||""},{name:"URL",key:"url",placeholder:"",value:N.a.get(E.a.GEOIP_URL)||"https://github.com/Dreamacro/maxmind-geoip/releases/latest/download/Country.mmdb"}],t.prev=7,t.next=10,e.$input({title:"更新 GeoIP 数据库",data:n,hint:"输入字段是替代的"});case 10:if(r=t.sent,o=void 0===(o=r.url)?"":o,r=void 0===(r=r.token)?"":r,N.a.put(E.a.GEOIP_TOKEN,r),N.a.put(E.a.GEOIP_URL,o),e.clashPath){t.next=19;break}return t.abrupt("return");case 19:if(s=function(t,i){f.a.ftruncateSync(f.a.openSync(t,"r+"),i),e.$parent.handlerRestartClash()},r)return e.geoipUpdateTime="更新中... (0%)",t.t0=g.a,t.next=25,A.ipcRenderer.invoke("app","getPath","temp");t.next=39;break;case 25:t.t1=t.sent,p=t.t0.join.call(t.t0,t.t1),g.a.join(p,"cfw_geoip.tag.gz"),(c=_.a.stream("https://download.maxmind.com/app/geoip_download?edition_id=GeoLite2-Country&license_key=".concat(r,"&suffix=tar.gz"))).on("downloadProgress",(function(t){var i=1===t.percent?"重新启动核心...":"更新中... (".concat(Math.round(100*t.percent),"%)");e.geoipUpdateTime=i})),c.on("error",(function(t){e.$alert({content:"下载 GeoIP 数据库失败并出现错误: ".concat(t.name)}),e.geoipUpdateTime=i})),a=g.a.join(e.clashPath,"Country.mmdb"),p=D.a.extract(),l=0,p.on("entry",(function(e,t,i){t.on("end",(function(){i()})),/GeoLite2-Country\.mmdb$/.test(e.name)?(l=e.size,t.pipe(f.a.createWriteStream(a,{flags:"r+"}))):t.resume()})),p.on("finish",(function(){s(a,l)})),c.pipe(S.a.createGunzip()).pipe(p),t.next=40;break;case 39:o&&(e.geoipUpdateTime="更新中... (0%)",c=_.a.stream(o),h=0,c.on("downloadProgress",(function(t){var i=t.percent,n=t.total,o=1===i?(h=n,"重新启动核心..."):"Updating... (".concat(Math.round(100*t.percent),"%)");e.geoipUpdateTime=o})),c.on("error",(function(t){e.$alert({content:"下载 GeoIP 数据库失败并出现错误: ".concat(t.name)}),e.geoipUpdateTime=i})),u=g.a.join(e.clashPath,"Country.mmdb"),(p=f.a.createWriteStream(u,{flags:"r+"})).on("finish",(function(){s(u,h)})),c.pipe(p));case 40:t.next=44;break;case 42:t.prev=42,t.t2=t.catch(7);case 44:case"end":return t.stop()}}),t,null,[[7,42]])})))()},setupSwitches:function(){this.autoLaunchLoading=!1,this.systemProxyLoading=!1},setupComponent:function(){var e=this;return s()(d.a.mark((function t(){var i,n,r,s;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.clashAxiosClient)return t.prev=1,t.next=4,Promise.all([e.clashAxiosClient.get("/configs"),e.fetchCoreVersion()]);t.next=17;break;case 4:s=t.sent,i=o()(s,1),n=i[0],r=n.status,s=n.data,200===r&&(i=s["mixed-port"],n=s["allow-lan"],r=s["log-level"],s=s.ipv6,e.port=i,e.isAllowLan=n,e.logLevel=r,e.isIPV6=s,e.geoipUpdateTime=v()(f.a.statSync(g.a.join(e.clashPath,"Country.mmdb")).mtimeMs).format("YYYY-MM-DD HH:mm")),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(1),console.error(t.t0.stack);case 15:t.next=17;break;case 17:case"end":return t.stop()}}),t,null,[[1,12]])})))()},fetchCoreVersion:function(){var e=this;return s()(d.a.mark((function t(){var i,n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.clashAxiosClient)return t.next=3,e.clashAxiosClient.get("/version");t.next=6;break;case 3:i=t.sent,(n=i.data)?(i=n.premium,n=n.version,e.clashCoreVersion=void 0!==i&&void 0!==n?"".concat(n," ").concat(i?"Premium":""):"Unknown"):e.clashCoreVersion="Unknown";case 6:case"end":return t.stop()}}),t)})))()}}),mounted:function(){return s()(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},beforeRouteEnter:function(e,t,i){var n;i((n=s()(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0="v",e.next=3,A.ipcRenderer.invoke("app","getVersion");case 3:e.t1=e.sent,t.version=e.t0.concat.call(e.t0,e.t1),t.serviceNeedUpdate=q(),t.setupComponent(),setTimeout(t.setupSwitches,1);case 8:case"end":return e.stop()}}),e)}))),function(e){return n.apply(this,arguments)}))},beforeRouteLeave:function(e,t,i){i()}},i(585),i(587),h=Object(a.a)(h,(function(){var e=this,t=e.$createElement;return(t=e._self._c||t)("div",{staticClass:"main-general-view"},[t("div",{staticClass:"header"},[t("img",{staticClass:"w-[90px] h-[90px] mr-[20px]",attrs:{src:e.iconPath}}),e._v(" "),t("div",{staticClass:"title"},[t("div",{staticClass:"title-name",on:{click:e.reloadElectron}},[e._v("Clash for Windows")]),e._v(" "),t("div",{staticClass:"version",on:{click:e.openGithubRelease}},[e._v("\n        "+e._s(e.version)+"\n        "),e.isShowNewIcon?t("div",{staticClass:"new-version-tag"},[e._v("New")]):e._e()])])]),e._v(" "),e.isLaunching?e._e():t("div",{staticClass:"content"},[t("div",{staticClass:"item"},[t("div",{staticClass:"item-left"},[e._v("端口")]),e._v(" "),t("div",{staticClass:"item-right"},[t("Hint",{staticClass:"mr-2",attrs:{hint:"终端"}},[t("span",{staticClass:"icon control-icon",on:{click:function(t){return t.stopPropagation(),e.openCmdWithProxy()}}},[e._v("terminal")])]),e._v(" "),t("Hint",{attrs:{hint:"随机混合端口"}},[t("span",{staticClass:"icon control-icon cursor-pointer",style:{color:e.settings.randomMixedPort?"#41b883":"#b3b3b3"},on:{click:function(t){e.settings.randomMixedPort=!e.settings.randomMixedPort}}},[e._v("sync"+e._s(e.settings.randomMixedPort?"":"_disabled"))])]),e._v(" "),t("div",{staticClass:"clickable",on:{click:e.handleEditMixedPort}},[e._v("\n          "+e._s(e.port)+"\n        ")])],1)]),e._v(" "),t("div",{staticClass:"item"},[t("div",{staticClass:"item-left"},[t("div",[e._v("允许同一个星球的喵")]),e._v(" "),t("Hint",{staticClass:"tun-settings-icon",attrs:{hint:"网络端口",position:"right"},on:{click:function(t){t.stopPropagation(),e.isInterfacesVisible=!0}}},[t("span",{staticClass:"icon text-[color:var(--general-settings-icon-c)]"},[e._v("device_hub")])])],1),e._v(" "),t("div",{staticClass:"item-right"},[t("switch-view",{attrs:{on:e.isAllowLan},on:{change:function(t){return e.handleAllowLANChange(e.isAllowLan)}}})],1)]),e._v(" "),t("div",{staticClass:"item"},[t("div",{staticClass:"item-left"},[e._v("日志级别")]),e._v(" "),t("div",{staticClass:"item-right"},[t("div",{staticClass:"clickable",on:{click:e.handleEditLogLevel}},[e._v("\n          "+("silent"==e._s(e.logLevel)?"静默":"error"==e._s(e.logLevel)?"错误":"warn"== e._s(e.logLevel)?"警告":"warning"== e._s(e.logLevel)?"警告":"info"== e._s(e.logLevel)?"信息":"debug"==e._s(e.logLevel)?"调试":e._s(e.logLevel))+"\n        ")])])]),e._v(" "),t("div",{staticClass:"item"},[t("div",{staticClass:"item-left"},[e._v("IPv6")]),e._v(" "),t("div",{staticClass:"item-right"},[t("switch-view",{attrs:{on:e.isIPV6},on:{change:function(t){return e.handleIPV6Change(e.isIPV6)}}})],1)]),e._v(" "),t("div",{staticClass:"item"},[t("div",{staticClass:"item-left"},[t("div",[e._v("Clash 内核")]),e._v(" "),e.isWindows?t("Hint",{staticClass:"tun-settings-icon",attrs:{hint:"添加防火墙规则(允许 LAN 和系统堆栈)",position:"right"},on:{click:function(t){return t.stopPropagation(),e.handleAddFirewallRules.apply(null,arguments)}}},[e.isFetchingFirewallRule?t("span",{staticClass:"icon text-[color:var(--general-settings-icon-c)] animate-bounce"},[e._v("\n            edit\n          ")]):t("span",{staticClass:"icon text-[color:var(--general-settings-icon-c)]",style:{color:e.isFirewallRuleExist?"#41b883":"#b3b3b3"}},[e._v(e._s(e.isFirewallRuleExist?"verified_user":"gpp_maybe"))])]):e._e(),e._v(" "),t("Hint",{staticClass:"tun-settings-icon",attrs:{hint:"预览提交给 Clash Core 的最终配置文件",position:"right"},on:{click:function(t){return t.stopPropagation(),e.handlePreviewCurrentPayload.apply(null,arguments)}}},[t("span",{staticClass:"icon text-[color:var(--general-settings-icon-c)]"},[e._v("memory")])]),e._v(" "),t("Hint",{staticClass:"tun-settings-icon",attrs:{hint:"使用 Clash core 解析 Host",position:"right"},on:{click:function(t){return t.stopPropagation(),e.handleShowDNSQueryDialog.apply(null,arguments)}}},[t("span",{staticClass:"icon text-[color:var(--general-settings-icon-c)]"},[e._v("dns")])]),e._v(" "),t("Hint",{staticClass:"tun-settings-icon",attrs:{hint:"使用脚本模式测试脚本",position:"right"},on:{click:function(t){return t.stopPropagation(),e.handleShowScriptTestDialog.apply(null,arguments)}}},[t("span",{staticClass:"icon text-[color:var(--general-settings-icon-c)]"},[e._v("play_arrow")])])],1),e._v(" "),t("div",{staticClass:"item-right"},[t("div",{staticClass:"clickable",on:{click:e.handleCopyControllerURL}},[e._v("\n          "+e._s(e.clashCoreVersion)+" ("+e._s(e.controllerPort)+")\n        ")])])]),e._v(" "),t("div",{staticClass:"item"},[t("div",{staticClass:"item-left"},[e._v("主目录")]),e._v(" "),t("div",{staticClass:"item-right clickable",on:{click:e.handleHomeDirectoryOpen}},[e._v("\n        打开文件夹\n      ")])]),e._v(" "),e.isWindows?e._e():t("div",{staticClass:"item"},[t("div",{staticClass:"item-left"},[e._v("GeoIP 数据库更新")]),e._v(" "),t("div",{staticClass:"item-right clickable",on:{click:e.handleGeoipDatabaseUpdate}},[e._v("\n        "+e._s(e.geoipUpdateTime)+"\n      ")])]),e._v(" "),e.isWindows?t("div",{staticClass:"item"},[t("div",{staticClass:"item-left"},[e._v("UWP 应用联网限制解除工具")]),e._v(" "),t("div",{staticClass:"item-right clickable",on:{click:function(t){return e.spawnLoopback(t)}}},[e._v("\n        启动助手\n      ")])]):e._e(),e._v(" "),e.isWindows?t("div",{staticClass:"item"},[t("div",{staticClass:"item-left"},[e._v("虚拟网卡安装（TAP 模式）")]),e._v(" "),t("div",{staticClass:"item-right clickable",on:{click:function(t){return e.installTapDevice(t)}}},[e._v("\n        管理\n      ")])]):e._e(),e._v(" "),t("div",{staticClass:"item"},[t("div",{staticClass:"item-left"},[e._v("服务模式")]),e._v(" "),t("span",{staticClass:"icon mt-[2px] ml-[5px]",style:{color:e.isLocalMode?"#b3b3b3":e.serviceNeedUpdate?"#DE5034":"#41b883"}},[e._v("public")]),e._v(" "),t("div",{staticStyle:{"flex-grow":"1"}}),e._v(" "),t("div",{staticClass:"item-right clickable",on:{click:e.installService}},[e._v("管理")])]),e._v(" "),t("div",{staticClass:"item"},[t("div",{staticClass:"item-left"},[t("div",[e._v("TUN 模式")]),e._v(" "),t("info-icon",[e._v("\n          类似于虚拟网卡，启用后可代理所有应用。要启用此模式，请先安装服务模式!\n        ")]),e._v(" "),t("Hint",{staticClass:"tun-settings-icon",attrs:{hint:"设置",position:"right"},on:{click:function(t){t.stopPropagation(),e.isTunSettingsVisible=!e.isTunSettingsVisible}}},[t("span",{staticClass:"icon text-[color:var(--general-settings-icon-c)]"},[e._v("settings")])]),e._v(" "),e.isMacOS?t("Hint",{staticClass:"tun-settings-icon",attrs:{hint:"System DNS servers that will be set after TUN Mode is disabled",position:"right"},on:{click:function(t){t.stopPropagation(),e.isResetDNSSettingsVisible=!e.isResetDNSSettingsVisible}}},[t("span",{staticClass:"icon text-[color:var(--general-settings-icon-c)]"},[e._v("manage_history")])]):e._e()],1),e._v(" "),t("switch-view",{attrs:{on:e.isTunEnable},on:{change:e.handleTunSwitchClick}})],1),e._v(" "),t("div",{staticClass:"item"},[t("div",{staticClass:"item-left"},[t("div",[e._v("混合配置")]),e._v(" "),t("info-icon",[e._v("\n          Mixin允许您覆盖原始配置文件.\n          "),t("a",{attrs:{href:"https://docs.cfw.lbyczf.com/contents/mixin.html"}},[e._v("在线文档")])]),e._v(" "),t("Hint",{staticClass:"tun-settings-icon",attrs:{hint:"编辑 Mixin 内容",position:"right"},on:{click:function(t){return t.stopPropagation(),e.handleEditMixin.apply(null,arguments)}}},[t("span",{staticClass:"icon text-[color:var(--general-settings-icon-c)]"},[e._v("settings")])])],1),e._v(" "),t("switch-view",{attrs:{on:e.isMixinEnable},on:{change:e.handleMixinSwitchClick}})],1),e._v(" "),e.isLinux?e._e():t("div",{staticClass:"item"},[t("div",{staticClass:"item-left"},[e._v("系统代理")]),e._v(" "),t("switch-view",{attrs:{on:e.isSystemProxyOn},on:{change:e.handleSystemProxySwitchClick}})],1),e._v(" "),t("div",{staticClass:"item"},[t("div",{staticClass:"item-left"},[e._v(e._s(e.autoLaunchHint))]),e._v(" "),t("switch-view",{attrs:{on:e.autoLaunch},on:{change:e.handleAutoLaunchSwitchClick}})],1)]),e._v(" "),e.matchedSSID?t("div",{staticClass:"font-normal text-xs flex items-center justify-center absolute bottom-3 left-[calc(50%+85px)] -translate-x-1/2 gap-x-1 rounded-md bg-[color:var(--proxy-item-bgc)] border-opacity-50 px-3 py-1 clickable !border-b-0",on:{click:e.handleEditSSIDStrategyText}},[t("span",[e._v("SSID Strategy:")]),e._v(" "),t("span",[e._v(e._s(e.matchedSSID))])]):e._e(),e._v(" "),e.isLaunching?t("error-view"):e._e(),e._v(" "),e.isResetDNSSettingsVisible?t("ResetDNSSettingsView",{on:{close:function(t){e.isResetDNSSettingsVisible=!1}}}):e._e(),e._v(" "),e.isTunSettingsVisible?t("tun-settings-view",{on:{close:function(t){e.isTunSettingsVisible=!1}}}):e._e(),e._v(" "),e.isInterfacesVisible?t("interfaces-view",{on:{close:function(t){e.isInterfacesVisible=!1}}}):e._e(),e._v(" "),t("div",{staticClass:"empty-div"})],1)}),[],!1,null,"68c5303c",null);t.default=h.exports},function(e,t,i){"use strict";i.r(t);var n=i(43),o=i.n(n),r=i(57),s=i.n(r),a=i(13),l=i.n(a),c=i(31),d=i.n(c),h=i(7),u=i.n(h),g=i(88),p=i.n(g),f=i(53),m=i.n(f),v=i(246),b=i(39),_=i(33);n=i(190),r=i.n(n);function w(e,t){var i,n=Object.keys(e);return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(e),t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)),n}function C(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?w(Object(i),!0).forEach((function(t){d()(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):w(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}a={props:["type","data"],data:function(){return{ssCipher:["aes-128-gcm","aes-192-gcm","aes-256-gcm","chacha20-ietf-poly1305","aes-128-ctr","aes-192-ctr","aes-256-ctr","aes-128-cfb","aes-192-cfb","aes-256-cfb","chacha20-ietf","xchacha20","rc4-md5","xchacha20-ietf-poly1305"],vmessCipher:["none","auto","aes-128-gcm","chacha20-poly1305"],pType:["ss","vmess","socks5","http"],gType:["url-test","fallback","select","load-balance"],vmessType:["tcp","ws"],groupName:"",groupType:"select",groupUrl:"http://www.gstatic.com/generate_204",groupInterval:600,proxyType:"ss",proxyName:"",proxyServer:"",proxyPort:"",proxyChipher:"",proxyPassword:"",proxyUuid:"",proxyAlterid:"",proxyObfs:"",proxyObfshost:"",proxyTls:!1,proxyUsername:"",alterIdx:-1,proxySkipCertVerify:!1,proxyNetwork:"tcp",proxyWsPath:"",proxyWsHeaders:""}},computed:C({},Object(_.mapState)({})),methods:{confirmInput:function(){if(0===this.type){var e={name:this.groupName,proxies:[],type:this.groupType};"url-test"!==this.groupType&&"fallback"!==this.groupType&&"load-balance"!==this.groupType||(e.url=this.groupUrl,e.interval=this.groupInterval),this.$emit("inputDone",{type:0,content:e,index:this.alterIdx})}else if(1===this.type){var t={name:this.proxyName,type:this.proxyType,server:this.proxyServer,port:this.proxyPort};if("ss"===this.proxyType)t.cipher=this.proxyChipher,t.password=this.proxyPassword,this.proxyObfs&&(t.plugin="obfs",t["plugin-opts"]={mode:this.proxyObfs,host:this.proxyObfshost||"bing.com"});else if("vmess"===this.proxyType){if(t.uuid=this.proxyUuid,t.alterId=this.proxyAlterid,t.cipher=this.proxyChipher,this.proxyTls&&(t.tls=!0),this.proxySkipCertVerify&&(t["skip-cert-verify"]=!0),"ws"===this.proxyNetwork){t.network="ws",e={path:this.proxyWsPath};try{e=C(C({},e),{},{headers:JSON.parse(this.proxyWsHeaders)})}catch(e){}t["ws-opts"]=e}}else"socks5"!==this.proxyType&&"http"!==this.proxyType||(this.proxyUsername&&this.proxyPassword&&(t.username=this.proxyUsername,t.password=this.proxyPassword),this.proxyTls&&(t.tls=!0),this.proxySkipCertVerify&&(t["skip-cert-verify"]=!0));this.$emit("inputDone",{type:1,content:t,index:this.alterIdx})}}},mounted:function(){if(this.data){if(0===this.type)this.groupName=this.data.name,this.groupType=this.data.type,"url"in this.data&&(this.groupUrl=this.data.url),"interval"in this.data&&(this.groupInterval=this.data.interval);else if(1===this.type){var e;this.proxyName=this.data.name,this.proxyPort=this.data.port,this.proxyServer=this.data.server,this.proxyType=this.data.type,"password"in this.data&&(this.proxyPassword=this.data.password),"plugin"in this.data&&(e=(t=void 0===(e=this.data["plugin-opts"])?{}:e).mode,t=t.host,this.proxyObfs=e,this.proxyObfshost=t),"obfs-host"in this.data&&(this.proxyObfshost=this.data["obfs-host"]),"tls"in this.data&&(this.proxyTls=this.data.tls),"cipher"in this.data&&(this.proxyChipher=this.data.cipher),"uuid"in this.data&&(this.proxyUuid=this.data.uuid),"alterId"in this.data&&(this.proxyAlterid=this.data.alterId),"skip-cert-verify"in this.data&&(this.proxySkipCertVerify=this.data["skip-cert-verify"]),"network"in this.data&&(this.proxyNetwork=this.data.network);var t=this.data["ws-opts"];if(t){"path"in t&&(this.proxyWsPath=t.path);try{"headers"in t&&(this.proxyWsHeaders=JSON.stringify(t.headers))}catch(e){}}"username"in this.data&&(this.proxyUsername=this.data.username)}this.alterIdx=this.data._index}}},i(605),i(607),c=i(37),h=Object(c.a)(a,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"main",attrs:{id:"main-append-proxy-view"}},[0===e.type?i("div",{staticClass:"input-view"},[i("div",{staticClass:"title"},[e._v(e._s(e.data?"Edit":"New")+" Proxy Group")]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.groupName,expression:"groupName"}],attrs:{type:"text",placeholder:"Group Name"},domProps:{value:e.groupName},on:{input:function(t){t.target.composing||(e.groupName=t.target.value)}}}),e._v(" "),i("div",{staticClass:"group-type-list"},e._l(e.gType,(function(t,n){return i("div",{key:n},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.groupType,expression:"groupType"}],attrs:{type:"radio",id:t},domProps:{value:t,checked:e._q(e.groupType,t)},on:{change:function(i){e.groupType=t}}}),e._v(" "),i("label",{attrs:{for:t}},[e._v(e._s(t))])])})),0),e._v(" "),"select"!==e.groupType?i("input",{directives:[{name:"model",rawName:"v-model",value:e.groupUrl,expression:"groupUrl"}],attrs:{type:"text",placeholder:"URL"},domProps:{value:e.groupUrl},on:{input:function(t){t.target.composing||(e.groupUrl=t.target.value)}}}):e._e(),e._v(" "),"select"!==e.groupType?i("input",{directives:[{name:"model",rawName:"v-model",value:e.groupInterval,expression:"groupInterval"}],attrs:{type:"text",placeholder:"Interval ( Second )"},domProps:{value:e.groupInterval},on:{input:function(t){t.target.composing||(e.groupInterval=t.target.value)}}}):e._e()]):1===e.type?i("div",{staticClass:"input-view"},[i("div",{staticClass:"title"},[e._v(e._s(e.data?"Edit":"New")+" Proxy")]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.proxyName,expression:"proxyName"}],attrs:{type:"text",placeholder:"代理名称"},domProps:{value:e.proxyName},on:{input:function(t){t.target.composing||(e.proxyName=t.target.value)}}}),e._v(" "),i("div",{staticClass:"proxy-type-list"},e._l(e.pType,(function(t,n){return i("div",{key:n},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.proxyType,expression:"proxyType"}],attrs:{type:"radio",id:t},domProps:{value:t,checked:e._q(e.proxyType,t)},on:{change:function(i){e.proxyType=t}}}),e._v(" "),i("label",{attrs:{for:t}},[e._v(e._s(t))])])})),0),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.proxyServer,expression:"proxyServer"}],attrs:{type:"text",placeholder:"服务器"},domProps:{value:e.proxyServer},on:{input:function(t){t.target.composing||(e.proxyServer=t.target.value)}}}),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.proxyPort,expression:"proxyPort"}],attrs:{type:"text",placeholder:"端口"},domProps:{value:e.proxyPort},on:{input:function(t){t.target.composing||(e.proxyPort=t.target.value)}}}),e._v(" "),"ss"===e.proxyType?i("input",{directives:[{name:"model",rawName:"v-model",value:e.proxyPassword,expression:"proxyPassword"}],attrs:{type:"text",placeholder:"Password"},domProps:{value:e.proxyPassword},on:{input:function(t){t.target.composing||(e.proxyPassword=t.target.value)}}}):e._e(),e._v(" "),"vmess"===e.proxyType?i("div",{staticClass:"cipher-list"},e._l(e.vmessCipher,(function(t,n){return i("div",{key:n},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.proxyChipher,expression:"proxyChipher"}],attrs:{type:"radio",id:t},domProps:{value:t,checked:e._q(e.proxyChipher,t)},on:{change:function(i){e.proxyChipher=t}}}),e._v(" "),i("label",{attrs:{for:t}},[e._v(e._s(t))])])})),0):"ss"===e.proxyType?i("div",{staticClass:"cipher-list"},e._l(e.ssCipher,(function(t,n){return i("div",{key:n},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.proxyChipher,expression:"proxyChipher"}],attrs:{type:"radio",id:t},domProps:{value:t,checked:e._q(e.proxyChipher,t)},on:{change:function(i){e.proxyChipher=t}}}),e._v(" "),i("label",{attrs:{for:t}},[e._v(e._s(t))])])})),0):e._e(),e._v(" "),"ss"===e.proxyType?i("div",{staticClass:"ss-list"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.proxyObfs,expression:"proxyObfs"}],attrs:{type:"text",placeholder:"Obfs (Optional, tls or http)"},domProps:{value:e.proxyObfs},on:{input:function(t){t.target.composing||(e.proxyObfs=t.target.value)}}}),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.proxyObfshost,expression:"proxyObfshost"}],attrs:{type:"text",placeholder:"Obfs-host (Optional)"},domProps:{value:e.proxyObfshost},on:{input:function(t){t.target.composing||(e.proxyObfshost=t.target.value)}}})]):e._e(),e._v(" "),"vmess"===e.proxyType?i("div",{staticClass:"vmess-list"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.proxyUuid,expression:"proxyUuid"}],attrs:{type:"text",placeholder:"UUID"},domProps:{value:e.proxyUuid},on:{input:function(t){t.target.composing||(e.proxyUuid=t.target.value)}}}),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.proxyAlterid,expression:"proxyAlterid"}],attrs:{type:"text",placeholder:"AlterId"},domProps:{value:e.proxyAlterid},on:{input:function(t){t.target.composing||(e.proxyAlterid=t.target.value)}}}),e._v(" "),"vmess"===e.proxyType?i("div",{staticClass:"cipher-list"},e._l(e.vmessType,(function(t,n){return i("div",{key:n},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.proxyNetwork,expression:"proxyNetwork"}],attrs:{type:"radio",id:t},domProps:{value:t,checked:e._q(e.proxyNetwork,t)},on:{change:function(i){e.proxyNetwork=t}}}),e._v(" "),i("label",{attrs:{for:t}},[e._v(e._s(t))])])})),0):e._e()]):e._e(),e._v(" "),"http"===e.proxyType||"socks5"===e.proxyType?i("div",{staticClass:"input-view"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.proxyUsername,expression:"proxyUsername"}],attrs:{type:"text",placeholder:"User Name (Optional)"},domProps:{value:e.proxyUsername},on:{input:function(t){t.target.composing||(e.proxyUsername=t.target.value)}}}),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.proxyPassword,expression:"proxyPassword"}],attrs:{type:"text",placeholder:"Password (Optional)"},domProps:{value:e.proxyPassword},on:{input:function(t){t.target.composing||(e.proxyPassword=t.target.value)}}})]):e._e(),e._v(" "),"vmess"===e.proxyType&&"ws"===e.proxyNetwork?i("input",{directives:[{name:"model",rawName:"v-model",value:e.proxyWsPath,expression:"proxyWsPath"}],attrs:{type:"text",placeholder:"ws path"},domProps:{value:e.proxyWsPath},on:{input:function(t){t.target.composing||(e.proxyWsPath=t.target.value)}}}):e._e(),e._v(" "),"vmess"===e.proxyType&&"ws"===e.proxyNetwork?i("input",{directives:[{name:"model",rawName:"v-model",value:e.proxyWsHeaders,expression:"proxyWsHeaders"}],attrs:{type:"text",placeholder:"ws headers (JSON)"},domProps:{value:e.proxyWsHeaders},on:{input:function(t){t.target.composing||(e.proxyWsHeaders=t.target.value)}}}):e._e(),e._v(" "),"vmess"===e.proxyType||"socks5"===e.proxyType||"http"===e.proxyType?i("div",[i("div",[i("input",{directives:[{name:"model",rawName:"v-model",value:e.proxyTls,expression:"proxyTls"}],attrs:{type:"checkbox",id:"vmess-tls"},domProps:{checked:Array.isArray(e.proxyTls)?-1<e._i(e.proxyTls,null):e.proxyTls},on:{change:function(t){var i=e.proxyTls,n=t.target,o=!!n.checked;Array.isArray(i)?(t=e._i(i,null),n.checked?t<0&&(e.proxyTls=i.concat([null])):-1<t&&(e.proxyTls=i.slice(0,t).concat(i.slice(t+1)))):e.proxyTls=o}}}),e._v(" "),i("label",{attrs:{for:"vmess-tls"}},[e._v("TLS")])]),e._v(" "),i("div",[i("input",{directives:[{name:"model",rawName:"v-model",value:e.proxySkipCertVerify,expression:"proxySkipCertVerify"}],attrs:{type:"checkbox",id:"vmess-skip-cert-verify"},domProps:{checked:Array.isArray(e.proxySkipCertVerify)?-1<e._i(e.proxySkipCertVerify,null):e.proxySkipCertVerify},on:{change:function(t){var i=e.proxySkipCertVerify,n=t.target,o=!!n.checked;Array.isArray(i)?(t=e._i(i,null),n.checked?t<0&&(e.proxySkipCertVerify=i.concat([null])):-1<t&&(e.proxySkipCertVerify=i.slice(0,t).concat(i.slice(t+1)))):e.proxySkipCertVerify=o}}}),e._v(" "),i("label",{attrs:{for:"vmess-skip-cert-verify"}},[e._v("跳过证书验证")])])]):e._e()]):e._e(),e._v(" "),i("div",{staticClass:"btns"},[i("div",{staticClass:"btn cancel",on:{click:function(t){return e.$emit("inputCancel")}}},[e._v("取消")]),e._v(" "),i("div",{staticClass:"btn confirm",on:{click:e.confirmInput}},[e._v("确定")])])])}),[],!1,null,"f638b328",null).exports,g=i(30);var y=i.n(g),x=(f=i(20),i.n(f));function S(e,t){var i,n=Object.keys(e);return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(e),t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)),n}var k="proxy-groups",D="proxies";n={props:["profileName"],components:{draggable:r.a,AppendProxyView:h},data:function(){return{conf:null,specialProxies:[{name:"DIRECT"},{name:"REJECT"}],addType:-1,addData:null,saveBtn:"保存"}},computed:function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?S(Object(i),!0).forEach((function(t){d()(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):S(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},Object(_.mapState)({clashPath:function(e){return e.app.clashPath},profilesPath:function(e){return e.app.profilesPath}})),methods:{proxy2group:function(e){return e.name},removeFromGroup:function(e,t){this.conf[k][e].proxies.splice(t,1)},removeFromProxies:function(e,t){e.stopPropagation();var i=this.conf[D][t].name;this.conf[D].splice(t,1),this.conf[k].forEach((function(e){e.proxies=e.proxies.filter((function(e){return e!==i}))}))},removeGroup:function(e,t){e.stopPropagation();var i=this.conf[k][t].name;this.conf[k].splice(t,1),this.conf[k].forEach((function(e){e.proxies=e.proxies.filter((function(e){return e!==i}))}))},renameGroup:function(e,t){this.conf[k].forEach((function(i){i.proxies=i.proxies.map((function(i){return i===e?t:i}))}))},renameRule:function(e,t){this.conf.rules=this.conf.rules.map((function(i){if(/\s*MATCH\s*,([^,]*)($|,*|\/\/|#)/.test(i)){if(RegExp.$1.trim()===e.trim())return"MATCH,".concat(t).concat(RegExp.$2)}else if(/([^,]*?),([^,]*?),([^,]*)($|,*|\/\/|#)/.test(i)&&RegExp.$3.trim()===e.trim())return"".concat(RegExp.$1,",").concat(RegExp.$2,",").concat(t).concat(RegExp.$4);return i}))},handleInputDone:function(e){var t,i,n,o;this.addType=-1,0===e.type?-1===e.index?this.conf[k].push(e.content):(t=this.conf[k][e.index].proxies,i=e.content,n=this.conf[k][e.index].name,o=e.content.name,i.proxies=t,this.conf[k][e.index]=i,this.renameGroup(n,o),this.renameRule(n,o)):1===e.type&&(-1===e.index?this.conf[D].push(e.content):(n=e.content.name,o=this.conf[D][e.index].name,this.conf[D][e.index]=e.content,this.renameGroup(o,n),this.renameRule(o,n)))},newGroup:function(){this.addType=0,this.addData=null},editGroup:function(e,t){var i=e.type;["url-test","fallback","select","load-balance"].includes(i)?(this.addType=0,e._index=t,this.addData=e):this.$alert({content:"无法编辑代理组类型 [".concat(i,"].")})},newProxy:function(){this.addType=1,this.addData=null},editProxy:function(e,t){var i=e.type;["ss","vmess","http","socks"].includes(i)?(this.addType=1,e._index=t,this.addData=e):this.$alert({content:"无法编辑代理类型 [".concat(i,"].")})},loadData:function(){var e=x.a.join(this.profilesPath,this.profileName);e=y.a.readFileSync(e,"utf8");try{this.conf=m.a.parse(e)}catch(e){}},saveData:function(){if("保存"===this.saveBtn)try{var e=x.a.join(this.profilesPath,this.profileName);y.a.writeFileSync(e,m.a.stringify(this.conf)),this.$emit("done")}catch(e){this.$emit("error")}}},mounted:function(){this.loadData()}},i(609),i(611),a=Object(c.a)(n,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"main-config-view"},[i("div",{staticClass:"floating"},[i("div",{staticClass:"hint"},[e._v("拖动以排序或添加到右侧列表中.")]),e._v(" "),i("div",{staticClass:"floating-right"},[i("div",{staticClass:"main-btn save",on:{click:e.saveData}},[e._v(e._s(e.saveBtn))]),e._v(" "),i("div",{staticClass:"main-btn reload",on:{click:function(t){return e.$emit("cancel")}}},[e._v("取消")])])]),e._v(" "),e.conf?i("div",{staticClass:"drag"},[i("div",{staticClass:"proxy"},[e._m(0),e._v(" "),i("draggable",{staticClass:"dragArea",attrs:{group:{name:"people",pull:"clone",put:!1,revertClone:!0},clone:e.proxy2group,delay:300,animation:200,"delay-on-touch-only":!0},model:{value:e.specialProxies,callback:function(t){e.specialProxies=t},expression:"specialProxies"}},e._l(e.specialProxies,(function(t,n){return i("div",{key:n,staticClass:"proxy-item left-item"},[e._v("\n          "+e._s(t.name)+"\n        ")])})),0),e._v(" "),i("div",{staticClass:"section-title"},[i("h2",[e._v("代理组")]),e._v(" "),i("div",{staticClass:"add-icon",on:{click:e.newGroup}},[e._v("添加")])]),e._v(" "),i("draggable",{staticClass:"dragArea",attrs:{group:{name:"people",pull:"clone",put:!1,revertClone:!0},clone:e.proxy2group,delay:300,animation:200,"delay-on-touch-only":!0},model:{value:e.conf["proxy-groups"],callback:function(t){e.$set(e.conf,"proxy-groups",t)},expression:"conf['proxy-groups']"}},e._l(e.conf["proxy-groups"],(function(t,n){return i("div",{key:n,staticClass:"proxy-item left-item",on:{click:function(i){return e.editGroup(t,n)}}},[i("div",[e._v(e._s(t.name))]),e._v(" "),i("span",{staticClass:"icon text-white",on:{click:function(t){return e.removeGroup(t,n)}}},[e._v("delete")])])})),0),e._v(" "),i("div",{staticClass:"section-title"},[i("h2",[e._v("代理")]),e._v(" "),i("div",{staticClass:"add-icon",on:{click:e.newProxy}},[e._v("添加")])]),e._v(" "),i("draggable",{staticClass:"dragArea",attrs:{group:{name:"people",pull:"clone",put:!1,revertClone:!0},clone:e.proxy2group,delay:300,animation:200,"delay-on-touch-only":!0},model:{value:e.conf.proxies,callback:function(t){e.$set(e.conf,"proxies",t)},expression:"conf['proxies']"}},e._l(e.conf.proxies,(function(t,n){return i("div",{key:n,staticClass:"proxy-item left-item",on:{click:function(i){return e.editProxy(t,n)}}},[i("div",[e._v(e._s(t.name))]),e._v(" "),i("span",{staticClass:"icon text-white",on:{click:function(t){return e.removeFromProxies(t,n)}}},[e._v("delete")])])})),0)],1),e._v(" "),i("div",{staticClass:"proxy-group"},e._l(e.conf["proxy-groups"],(function(t,n){return i("div",{key:n},[i("div",{staticClass:"section-title"},[i("h2",[e._v(e._s(t.name))]),e._v(" "),i("div",{staticClass:"type-icon"},[e._v("( "+e._s(t.type)+" )")])]),e._v(" "),i("draggable",{staticClass:"dragArea",attrs:{group:{name:"people"},scroll:!0,scrollSensitivity:100,scrollSpeed:50,delay:300,animation:200,"delay-on-touch-only":!0},model:{value:t.proxies,callback:function(i){e.$set(t,"proxies",i)},expression:"group.proxies"}},e._l(t.proxies,(function(t,o){return i("div",{key:o,staticClass:"proxy-item right-item"},[i("div",[e._v(e._s(t))]),e._v(" "),i("span",{staticClass:"icon text-white",on:{click:function(t){return e.removeFromGroup(n,o)}}},[e._v("delete")])])})),0)],1)})),0)]):e._e(),e._v(" "),-1!==e.addType?i("append-proxy-view",{attrs:{data:e.addData,type:e.addType},on:{inputDone:e.handleInputDone,inputCancel:function(t){e.addType=-1}}}):e._e()],1)}),[function(){var e=this.$createElement;return(e=this._self._c||e)("div",{staticClass:"section-title"},[e("h2",[this._v("特殊代理")])])}],!1,null,"9e0b3cf4",null).exports;function L(e,t){var i,n=Object.keys(e);return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(e),t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)),n}function O(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?L(Object(i),!0).forEach((function(t){d()(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):L(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function E(e,t){var i,n=Object.keys(e);return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(e),t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)),n}function N(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?E(Object(i),!0).forEach((function(t){d()(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):E(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}g={props:["profileName"],data:function(){return{ruleTypes:["DOMAIN-SUFFIX","DOMAIN","DOMAIN-KEYWORD","IP-CIDR","SRC-IP-CIDR","GEOIP","PROCESS-NAME","DST-PORT","SRC-PORT","MATCH"],selectedType:"",proxyGroups:[],selectedGroup:"",content:""}},computed:O(O({},Object(_.mapState)({profilesPath:function(e){return e.app.profilesPath}})),Object(_.mapGetters)(["clashAxiosClient"])),methods:{inputDone:function(){var e=null;"MATCH"===this.selectedType&&this.selectedGroup?e={type:this.selectedType,payload:"",proxy:this.selectedGroup}:this.content&&this.selectedType&&this.selectedGroup&&(e={type:this.selectedType,payload:this.content,proxy:this.selectedGroup}),this.$emit("done",e)},handleMaskClick:function(e){this.$emit("close")}},mounted:function(){try{var e=m.a.parse(y.a.readFileSync(x.a.join(this.profilesPath,this.profileName)).toString()),t=e.proxies,i=void 0===t?[]:t,n=e["proxy-groups"],r=void 0===n?[]:n,s=i.map((function(e){return e.name})),a=r.map((function(e){return e.name}));this.proxyGroups=["DIRECT","REJECT"].concat(o()(a),o()(s))}catch(e){}}},i(613),i(615),f=Object(c.a)(g,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{type:"text/x-template",id:"modal-template"}},[i("transition",{attrs:{name:"modal"}},[i("div",{staticClass:"modal-mask",on:{mousedown:e.handleMaskClick}},[i("div",{staticClass:"modal-wrapper"},[i("div",{staticClass:"modal-container",on:{mousedown:function(e){e.stopPropagation()}}},[i("div",{staticClass:"model-title"},[i("div",[e._v("创建新规则")]),e._v(" "),i("div",{staticClass:"rule-floating-btns"},[i("div",{staticClass:"rule-floating-ok",on:{click:e.inputDone}},[e._v("添加")]),e._v(" "),i("div",{staticClass:"rule-floating-cancel",on:{click:function(t){return e.$emit("close")}}},[e._v("\n                取消\n              ")])])]),e._v(" "),i("div",{staticClass:"scroll-view"},["MATCH"!==e.selectedType?i("div",{staticClass:"rule-section-title"},[e._v("\n              内容\n            ")]):e._e(),e._v(" "),i("div",["MATCH"!==e.selectedType?i("input",{directives:[{name:"model",rawName:"v-model",value:e.content,expression:"content"}],attrs:{placeholder:"eg: google.com",id:"rule-content",type:"text"},domProps:{value:e.content},on:{input:function(t){t.target.composing||(e.content=t.target.value)}}}):e._e()]),e._v(" "),i("div",{staticClass:"rule-section-title"},[e._v("类型")]),e._v(" "),i("div",{staticClass:"rule-type-group"},e._l(e.ruleTypes,(function(t,n){return i("div",{key:n,class:{"rule-type-item":!0,"rule-type-selected":t===e.selectedType},on:{click:function(i){e.selectedType=t}}},[e._v("\n                "+e._s(t)+"\n              ")])})),0),e._v(" "),i("div",{staticClass:"rule-section-title"},[e._v("代理或策略")]),e._v(" "),i("div",{staticClass:"rule-proxy-group"},e._l(e.proxyGroups,(function(t,n){return i("div",{key:n,class:{"rule-proxy-item":!0,"rule-proxy-selected":t===e.selectedGroup},on:{click:function(i){e.selectedGroup=t}}},[e._v("\n                "+e._s(t)+"\n              ")])})),0)])])])])])],1)}),[],!1,null,"eea841c4",null).exports;h=i(86);var I=[],T=(n={props:["profileName"],data:function(){return{listData:[],memoryData:[],showAlterModel:!1,saveBtnText:"保存",axiosSource:null,filterKeywords:"",providers:{}}},components:{RuleAlterView:f},watch:{},computed:N(N({},Object(_.mapState)({clashPath:function(e){return e.app.clashPath},profiles:function(e){return e.app.profiles},profilesPath:function(e){return e.app.profilesPath}})),Object(_.mapGetters)(["clashAxiosClient"])),methods:{handleRuleClick:function(e){var t=this;return l()(u.a.mark((function i(){var n,o;return u.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(o=e.type,n=e.payload,"RULE-SET"===o)return i.prev=2,i.next=5,t.clashAxiosClient.put("/providers/rules/".concat(encodeURIComponent(n)));i.next=13;break;case 5:204===(o=i.sent).status?(t.loadData(),Object(b.j)("Success","RULE-SET [".concat(n,"] has been updated!"))):Object(b.j)("Failed","RULE-SET [".concat(n,"] update failed(Server Error)!")),i.next=13;break;case 10:i.prev=10,i.t0=i.catch(2),Object(b.j)("Failed","RULE-SET [".concat(n,"] 更新失败(网络错误)!"));case 13:case"end":return i.stop()}}),i,null,[[2,10]])})))()},fromNow:function(e){return p()(e).locale('zh-cn').fromNow()},providerOfPayload:function(e){return(e=this.providers[e])||null},moveItem:function(e,t,i){this.removeItem(t,i),e?this.memoryData.unshift(t):this.memoryData.push(t),this.listData=this.memoryData.slice(0,100)},randomBGC:function(e){if(n=I.find((function(t){return t.type===e})))return{"background-color":"rgb(".concat(n.r,",").concat(n.g,",").concat(n.b,")")};var t=Math.floor(100*Math.random()+10),i=Math.floor(100*Math.random()+10),n=Math.floor(100*Math.random()+10);return I.push({type:e,r:t,g:i,b:n}),{"background-color":"rgb(".concat(t,",").concat(i,",").concat(n,")")}},inputDone:function(e){this.showAlterModel=!1,e&&(this.memoryData.unshift(e),this.listData.unshift(e))},handleFilterKeywordInput:h.debounce((function(e){(e=e.target)&&(e=e.value,this.filterKeywords=e,this.loadData())}),500),applyRules:function(){var e=this;return l()(u.a.mark((function t(){var i,n,o,r,s;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{i=Object(b.e)(e.memoryData),n=i.map((function(e){var t=e.type,i=e.payload,n=e.proxy;e=void 0===(e=e.params)?"":e;return i?"".concat(t,",").concat(i,",").concat(n).concat(e):"".concat(t,",").concat(n)})),o=x.a.join(e.profilesPath,e.profileName),r=y.a.readFileSync(o,"utf8"),(s=m.a.parse(r)).rules=n,y.a.writeFileSync(o,m.a.stringify(s)),e.$emit("done"),e.saveBtnText="Done"}catch(t){e.$emit("error"),e.saveBtnText="Fail"}setTimeout((function(){e.saveBtnText="保存"}),3e3);case 2:case"end":return t.stop()}}),t)})))()},removeItem:function(e,t){var i=this.memoryData.findIndex((function(t){return t.payload===e.payload&&t.proxy===e.proxy&&t.type===e.type}));-1<i&&(this.memoryData.splice(i,1),this.listData.splice(t,1))},loadData:function(){var e=this;return l()(u.a.mark((function t(){var i,n,o,r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=x.a.join(e.profilesPath,e.profileName),i=y.a.readFileSync(n,"utf8"),t.prev=2,t.next=5,Promise.all([e.clashAxiosClient.get("/rules"),e.clashAxiosClient.get("/providers/rules")]);case 5:o=t.sent,n=s()(o,2),o=void 0===(o=n[0].data)?{}:o,n=(n=void 0===(n=n[1].data)?{}:n).providers,e.providers=n,o=o.rules,o=m.a.parse(i),e.memoryData=o.rules.map((function(e){return 2===(e=e.split(",")).length?{type:e[0].trim(),payload:"",proxy:e[1].trim(),params:""}:3===e.length?{payload:e[1].trim(),proxy:e[2].trim(),type:e[0].trim(),params:""}:4===e.length?{payload:e[1].trim(),proxy:e[2].trim(),type:e[0].trim(),params:",".concat(e[3])}:null})).filter((function(e){return e})),""!==e.filterKeywords?(o=e.filterKeywords.trim().split(/\s+/).join("|"),r=new RegExp(o,"i"),e.listData=e.memoryData.filter((function(e){return r.test(e.proxy)||r.test(e.payload)||r.test(e.type)})).slice(0,100)):e.listData=e.memoryData.slice(0,100),t.next=21;break;case 19:t.prev=19,t.t0=t.catch(2);case 21:case"end":return t.stop()}}),t,null,[[2,19]])})))()}},mounted:function(){this.loadData()},destroyed:function(){}},g=(i(617),i(619),Object(c.a)(n,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"main-log-view"}},[i("div",{staticClass:"header"},[i("div",{staticClass:"title"},[e._v("前100个匹配规则("+e._s(e.memoryData.length)+").")]),e._v(" "),i("div",{staticClass:"header-btns"},[i("div",{staticClass:"btn btn-add md-button",on:{click:function(t){e.showAlterModel=!0}}},[e._v("\n        添加\n      ")]),e._v(" "),i("div",{staticClass:"btn btn-save md-button",on:{click:e.applyRules}},[e._v("\n        "+e._s(e.saveBtnText)+"\n      ")]),e._v(" "),i("div",{staticClass:"btn btn-back md-button",on:{click:function(t){return e.$emit("cancel")}}},[e._v("\n        取消\n      ")])])]),e._v(" "),i("div",{staticClass:"filter-view"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.filterKeywords,expression:"filterKeywords"}],attrs:{type:"text",placeholder:"按关键字过滤"},domProps:{value:e.filterKeywords},on:{input:[function(t){t.target.composing||(e.filterKeywords=t.target.value)},function(t){return e.handleFilterKeywordInput(t)}]}})]),e._v(" "),i("div",{staticClass:"log-list"},e._l(e.listData,(function(t,n){return i("div",{key:n,staticClass:"log-item",attrs:{title:t.payload},on:{click:function(i){return e.handleRuleClick(t)}}},[i("div",{staticClass:"left"},[i("div",{class:["url",e.providerOfPayload(t.payload)?"rule-set":""]},[e._v("\n          "+e._s(t.payload)+"\n        ")]),e._v(" "),i("div",{staticClass:"rule"},[e._v("\n          "+e._s(t.type)+"\n          "),e.providerOfPayload(t.payload)?i("div",[e._v("\n            Rules: "+e._s(e.providerOfPayload(t.payload).ruleCount)+"\n          ")]):e._e(),e._v(" "),e.providerOfPayload(t.payload)?i("div",[e._v("\n            Last Updated:\n            "+e._s(e.fromNow(e.providerOfPayload(t.payload).updatedAt))+"\n          ")]):e._e(),e._v(" "),e.providerOfPayload(t.payload)?i("div",[e._v("\n            "+e._s(e.providerOfPayload(t.payload).vehicleType)+"\n            "+e._s(e.providerOfPayload(t.payload).behavior)+"\n          ")]):e._e()])]),e._v(" "),i("div",{staticClass:"right-main"},[i("div",{staticClass:"right",style:e.randomBGC(t.proxy)},[e._v("\n          "+e._s(t.proxy)+"\n        ")]),e._v(" "),i("span",{staticClass:"icon ctl-icon",on:{click:function(i){return i.stopPropagation(),e.moveItem(!0,t,n)}}},[e._v("north")]),e._v(" "),i("span",{staticClass:"icon ctl-icon",on:{click:function(i){return i.stopPropagation(),e.moveItem(!1,t,n)}}},[e._v("south")]),e._v(" "),i("span",{staticClass:"icon ctl-icon",on:{click:function(i){return i.stopPropagation(),e.removeItem(t,n)}}},[e._v("delete")])])])})),0),e._v(" "),e.showAlterModel?i("rule-alter-view",{attrs:{"profile-name":e.profileName},on:{close:function(t){e.showAlterModel=!1},done:e.inputDone}}):e._e()],1)}),[],!1,null,"459dde1e",null).exports),f=i(365),i.n(f)),M=i(24),A=(h={name:"QRCodeView",components:{},props:{url:String},data:function(){return{src:"",isWithSheme:!0}},watch:{isWithSheme:function(){this.updateQrcode()}},computed:{finalURL:function(){return this.isWithSheme?"clash://install-config?url=".concat(encodeURIComponent(this.url)):this.url},shorternFinalURL:function(){return this.finalURL?Object(b.h)(this.finalURL,120):""}},methods:{handleGoToURL:function(){M.shell.openExternal(this.url)},updateQrcode:function(){var e=this;return l()(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,T.a.toDataURL(e.finalURL);case 3:e.src=t.sent,t.next=8;break;case 6:t.prev=6,t.t0=t.catch(0);case 8:case"end":return t.stop()}}),t,null,[[0,6]])})))()}},mounted:function(){this.updateQrcode()}},n=(i(621),Object(c.a)(h,(function(){var e=this,t=e.$createElement;return(t=e._self._c||t)("div",{staticClass:"qrcode-view-main",on:{click:function(t){return e.$emit("hide")}}},[t("div",{staticClass:"content",on:{click:function(e){e.stopPropagation()}}},[t("img",{attrs:{src:e.src,alt:""}}),e._v(" "),t("div",{staticClass:"url",on:{click:e.handleGoToURL}},[e._v("\n      "+e._s(e.shorternFinalURL)+"\n    ")]),e._v(" "),t("div",{staticClass:"btn",on:{click:function(t){e.isWithSheme=!e.isWithSheme}}},[e._v("\n      "+e._s(e.isWithSheme?"删除":"包括")+" 跳转方案\n    ")])])])}),[],!1,null,"64e66e1e",null).exports),f=i(126),i(228)),P=i(157);function R(e,t){var i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!i){if(Array.isArray(e)||(i=function(e,t){if(e){if("string"==typeof e)return F(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(i="Object"===i&&e.constructor?e.constructor.name:i)||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?F(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){i&&(e=i);var n=0;return{s:t=function(){},n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,r=!0,s=!1;return{s:function(){i=i.call(e)},n:function(){var e=i.next();return r=e.done,e},e:function(e){s=!0,o=e},f:function(){try{r||null==i.return||i.return()}finally{if(s)throw o}}}}function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function j(e,t){var i,n=Object.keys(e);return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(e),t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)),n}function B(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?j(Object(i),!0).forEach((function(t){d()(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):j(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var W=i(30),V=i(20),z=(h=i(87),i(86)),H=h.CancelToken,U="manual-stop";_={data:function(){return{btnType:0,resultHint:"从URL下载",editProfileName:"",editProfileType:-1,fileWatcher:null,inputFocus:!1,subUrl:"",downlodingUrls:{},dragSelectedName:"",qrcodeURL:"",intervalID:null,now:p()(),loadingProfileIndex:[]}},components:{draggable:r.a,ConfigView:a,RuleView:g,QRCodeView:n,Hint:f.a},directives:{focus:{update:function(e,t){t.value&&e.focus()}}},computed:B(B(B({},Object(_.mapState)({clashPath:function(e){return e.app.clashPath},pfs:function(e){return e.app.profiles},confData:function(e){return e.app.confData},profilesPath:function(e){return e.app.profilesPath}})),Object(_.mapGetters)(["clashAxiosClient"])),{},{profiles:{get:function(){var e=this.pfs.files;return void 0===e?[]:e},set:function(e){this.changeProfiles({profiles:e})}},getBtnText:function(){return 3===this.btnType?"下载中":1===this.btnType?"错误!":2===this.btnType?"成功!":"下载"},getRightBtnText:function(){return"直连模式"},getRightBtnClass:function(){return{confirm:!0,"confirm-right":!0,"btn-error":1===this.btnType,"btn-success":2===this.btnType,"btn-loading":3===this.btnType}},getBtnClass:function(){return{confirm:!0,"confirm-left":!0,"btn-error":1===this.btnType,"btn-success":2===this.btnType,"btn-loading":3===this.btnType}}}),methods:B(B({},Object(_.mapMutations)({changeProfiles:"CHANGE_PROFILES",changeProfilesIndex:"CHANGE_PROFILES_INDEX",changeProfile:"CHANGE_PROFILE",appendProfile:"APPEND_PROFILE",deleteProfile:"DELETE_PROFILE"})),{},{handleOpenHomeWeb:function(e){M.shell.openExternal(e)},isProifleExpired:function(e){var t=e.time;if(0<(e=e.interval)&&t)try{var i=W.statSync(V.join(this.profilesPath,t)).mtime;if(i)return p()(i).isBefore(p()().subtract(e,"hours"))}catch(e){}return!1},parserHint:function(e){var t=e.url;e=e.reg;return t?"url (".concat(t.slice(0,8),"...").concat(t.slice(-20),")"):e?"reg (".concat(e,")"):""},matchingParserCount:function(e){var t=this.settings.profileParsersText,i=[];if(t)try{var n=m.a.parse(t).parsers;i=(void 0===n?[]:n)||[]}catch(e){}var o=e.url;return o?i.filter((function(e){var t=e.url;e=e.reg;return t?t===o:e?new RegExp(e).test(o):void 0})):[]},handleProfileRightClick:function(e,t,i){var n=this;return l()(u.a.mark((function o(){var r;return u.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:3===e.which&&(r=""===(r=t.url),n.$menu([{icon:"home",text:"打开配置网站",hide:!(null!=t&&t.homeWeb),click:function(){n.handleOpenHomeWeb(t.homeWeb)}},{icon:"edit",text:"编辑",click:function(){n.openProfile(t)}},{icon:"edit",text:"在系统中编辑",click:function(){n.openProfile(t,!0)}},{icon:"refresh",text:"更新",hide:r,click:function(){n.refreshProfile(t)}},{text:"打开文件所在位置",icon:"folder",click:function(){n.openProfileInFolder(t)}},{icon:"merge_type",text:"Diff",hide:r,click:function(){n.makeDiff(t)}},{icon:"send",text:"代理",click:function(){n.editProfile(t)}},{icon:"rule",text:"规则",click:function(){n.editProfileRule(t)}},{icon:"content_copy",text:"复制",click:function(){n.handleCopyProfile(t)}},{icon:"qr_code",text:"二维码",hide:r,click:function(){n.handleQrcodeOpen(t)}},{icon:"account_tree",text:"配置文件预处理",hide:r,click:function(){n.handleParserInfoShow(t)}},{icon:"code",text:"运行脚本",click:function(){n.handleRunScirpt(t)}},{icon:"settings",text:"设置",click:function(){n.handleEditItem(i)}},{icon:"delete",text:"删除",click:function(){n.handleDeleteProfile(i)}}],e));case 1:case"end":return o.stop()}}),o)})))()},openProfileInFolder:function(e){M.shell.showItemInFolder(V.join(this.profilesPath,e.time))},handleUpdateAllProfiles:function(){var e,t=R(this.profiles);try{for(t.s();!(e=t.n()).done;){var i=e.value;this.refreshProfile(i,{ignoreSelectAfterUpdated:!0})}}catch(e){t.e(e)}finally{t.f()}},handleParserInfoShow:function(e){var t=this;return l()(u.a.mark((function i(){var n,o,r,a;return u.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return n=t.matchingParserCount(e),o=n.map((function(e,i){return"".concat(i+1,". ").concat(t.parserHint(e))})).join("\n"),i.next=4,t.$select({title:"找到 ".concat(n.length," 个匹配解析器"),message:"".concat(o),items:["编辑解析器","确认"]});case 4:if(o=i.sent,0===(o=s()(o,1))[0])return r="profileParsersText",a=(a=t.settings[r])||"parsers: # array\n",i.next=13,t.$code({code:a,language:"yaml",fontSize:t.settings.editorFontSize});i.next=17;break;case 13:a=void 0===(a=(a=i.sent).code)?"":a,t.settings[r]=a;case 17:case"end":return i.stop()}}),i)})))()},handleRunScirpt:function(e){return l()(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Object(A.c)(Object(b.e)(e),A.a);case 1:case"end":return t.stop()}}),t)})))()},handleQrcodeOpen:function(e){(e=e.url)&&(this.qrcodeURL=e)},handleDragStart:function(){var e=this.pfs.index;(void 0===e?-1:e)<0||(this.dragSelectedName=this.pfs.files[this.pfs.index].time)},handleDragEnd:function(){var e,t=this;""!==this.dragSelectedName&&(e=this.pfs.files.findIndex((function(e){return e.time===t.dragSelectedName})),this.changeProfilesIndex({index:e}))},handleCopyProfile:function(e){var t=this;return l()(u.a.mark((function i(){var n;return u.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return n=[{name:"名字",key:"filename",placeholder:"输入一个新的文件名",required:!0}],i.prev=1,i.next=4,t.$input({title:"复制配置文件",data:n});case 4:n=void 0===(n=(n=i.sent).filename)?"":n,t.localCopy(n,V.join(t.profilesPath,e.time)),i.next=12;break;case 10:i.prev=10,i.t0=i.catch(1);case 12:case"end":return i.stop()}}),i,null,[[1,10]])})))()},handleEditItem:function(e){var t=this;return l()(u.a.mark((function i(){var n,o,r,s,a,l;return u.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return n=B({},t.pfs.files[e]),l=n.interval,o=void 0===l?0:l,a=n.cron,s=void 0===a?"":a,r=[{key:"name",name:"名字",required:!0,value:n.name},{key:"url",name:"URL",value:n.url},{key:"headers",name:"标头",value:n.headers,placeholder:"key1:value1\nkey2:value2"},{key:"interval",name:"更新间隔(小时)",validate:function(e){return/^\d+$/.test(e)?"":"更新间隔必须是整数"},value:o},{key:"cron",name:"更新定时程序Cron (UNIX)",value:s,placeholder:"0 0 * * *"}],i.prev=4,i.next=7,t.$input({title:"编辑配置信息",data:r});case 7:l=i.sent,a=l.name,o=void 0===a?"":a,s=l.url,r=void 0===s?"":s,a=l.interval,s=void 0===a?0:a,a=void 0===(a=l.cron)?"":a,l=void 0===(l=l.headers)?"":l,n.name=o,n.url=r,n.interval=+s,n.cron=a,n.headers=l,t.changeProfile({index:e,profile:n}),i.next=28;break;case 26:i.prev=26,i.t0=i.catch(4);case 28:case"end":return i.stop()}}),i,null,[[4,26]])})))()},listItemClassNames:function(e){var t=["list-item"];""===this.pfs.files[e].url&&t.push("item-local");var i=this.pfs.index;return e===(void 0===i?-1:i)&&t.push("item-cur"),t},handleURLConfirm:function(e){var t=this;return l()(u.a.mark((function i(){return u.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(13===e.keyCode)return i.next=3,t.handleDownload();i.next=3;break;case 3:case"end":return i.stop()}}),i)})))()},handleDownload:function(){var e=this;return l()(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""===e.subUrl)return t.abrupt("return");t.next=2;break;case 2:if(3===e.btnType)return t.abrupt("return");t.next=4;break;case 4:return t.prev=4,e.btnType=3,t.next=8,e.updateConfig({url:e.subUrl,selectAfterUpdated:!0});case 8:t.sent?(e.subUrl="",e.btnType=2):e.btnType=1,t.next=15;break;case 12:t.prev=12,t.t0=t.catch(4),e.btnType=1;case 15:setTimeout((function(){e.btnType=0}),3e3);case 16:case"end":return t.stop()}}),t,null,[[4,12]])})))()},handleImport:function(){var e=this;return l()(u.a.mark((function t(){var i;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,M.ipcRenderer.invoke("dialog","showOpenDialogSync",{properties:["openFile"]});case 2:(i=t.sent)&&0<i.length&&(i=i[0],e.localCopy(V.basename(i),V.resolve(i)));case 4:case"end":return t.stop()}}),t)})))()},dropProfile:function(e){e.preventDefault(),e.stopPropagation();var t,i=R(e.dataTransfer.files);try{for(i.s();!(t=i.n()).done;){var n=t.value;this.localCopy(V.basename(n.path),V.resolve(n.path))}}catch(e){i.e(e)}finally{i.f()}},dragOverProfile:function(e){e.preventDefault(),e.stopPropagation()},editDone:function(){var e=this,t=this.pfs.files.findIndex((function(t){return t.time===e.editProfileName}));t===this.pfs.index&&this.switchProfile(t),this.editProfileName="",this.editProfileType=-1},localCopy:function(e){var t,i,n,o,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";""!==e&&(t=(new Date).getTime()+".yml",-1<(n=(o=B({},this.pfs)).files.findIndex((function(t){return t.name===e&&""===t.url})))&&n<o.files.length?this.$alert({content:"本地文件已存在.",title:"错误"}):(this.appendProfile({profile:{url:"",time:t,name:e,selected:[]}}),i=V.join(this.clashPath,"config.yaml"),n=o.files,0<=(o=void 0===(o=o.index)?-1:o)&&o<n.length&&(o=V.join(this.profilesPath,n[o].time),W.existsSync(o)&&(i=o)),W.copyFileSync(i=""!==r?r:i,V.join(this.profilesPath,t))))},handleDeleteProfile:function(e){var t=this;return l()(u.a.mark((function i(){var n,o,r,s,a,l,c,d,h,g;return u.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return n=t.pfs.files[e],g=n.name,n.url,i.next=3,Object(b.i)({type:"warning",message:'您确定要删除 "'.concat(g,'"?'),buttons:["是","否"]});case 3:if(0===(g=i.sent).response){try{for(o=t.pfs.files,r=(void 0===o?[]:o)[e].time,s=r.slice(0,-4)+".base.yml",a=r.slice(0,-4)+".change.yml",l=0,c=[r,s,a];l<c.length;l++)d=c[l],h=V.join(t.profilesPath,d),W.existsSync(h)&&W.unlinkSync(h)}catch(i){}t.deleteProfile({index:e}),g=t.pfs.index,e===(g=void 0===g?-1:g)?t.changeProfilesIndex({index:-1}):e<g&&t.changeProfilesIndex({index:g-1})}case 6:case"end":return i.stop()}}),i)})))()},openProfile:function(e){var t=arguments,i=this;return l()(u.a.mark((function n(){var o,r;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=1<t.length&&void 0!==t[1]&&t[1],o=V.join(i.profilesPath,e.time),r){n.next=11;break}return n.next=5,i.$code({code:W.readFileSync(o).toString(),fontSize:i.settings.editorFontSize});case 5:r=void 0===(r=(r=n.sent).code)?"":r,W.writeFileSync(o,r),n.next=12;break;case 11:M.shell.openPath(o);case 12:case"end":return n.stop()}}),n)})))()},handleProfileClick:function(e){var t=this;return l()(u.a.mark((function i(){return u.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return t.loadingProfileIndex=[].concat(o()(t.loadingProfileIndex),[e]),i.prev=1,i.next=4,t.switchProfile(e);case 4:i.next=8;break;case 6:i.prev=6,i.t0=i.catch(1);case 8:t.loadingProfileIndex=t.loadingProfileIndex.filter((function(t){return t!==e}));case 9:case"end":return i.stop()}}),i,null,[[1,6]])})))()},switchProfile:function(e){var t=this;return l()(u.a.mark((function i(){var n,o,r;return u.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(-1===e)return i.abrupt("return");i.next=2;break;case 2:return t.changeProfilesIndex({index:e}),i.next=5,t.$parent.refreshProfile();case 5:if(o=i.sent,n=o.success,o=o.message,n){i.next=17;break}return i.next=11,Object(b.i)({type:"error",message:"无法切换到此配置文件!",detail:o||"",buttons:["好的","在文本模式下编辑"]});case 11:1===(r=i.sent).response&&t.openProfile(t.pfs.files[e]),t.changeProfilesIndex({index:-1}),i.next=21;break;case 17:if(void 0!==(r=t.settings.connProfile)&&r)return i.next=21,t.clashAxiosClient.delete("connections");i.next=21;break;case 21:case"end":return i.stop()}}),i)})))()},refreshProfile:function(e){var t=arguments,i=this;return l()(u.a.mark((function n(){var o,r,s,a,l;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a=(1<t.length&&void 0!==t[1]?t[1]:{}).ignoreSelectAfterUpdated,o=void 0!==a&&a,s=e.url,r=void 0===s?"":s,a=e.headers,s=void 0===a?"":a,""===r)return n.abrupt("return");n.next=4;break;case 4:if(l=i.downlodingUrls[r])return l(U),i.$delete(i.downlodingUrls,r),n.abrupt("return");n.next=9;break;case 9:return n.prev=9,a=new H((function(e){i.downlodingUrls=B(B({},i.downlodingUrls),{},d()({},r,e))})),l=void 0!==(l=i.settings.selectAfterUpdated)&&l,n.next=14,i.updateConfig({url:r,cancelToken:a,selectAfterUpdated:!o&&l,headers:s});case 14:n.next=18;break;case 16:n.prev=16,n.t0=n.catch(9);case 18:return n.prev=18,i.$delete(i.downlodingUrls,r),n.finish(18);case 21:case"end":return n.stop()}}),n,null,[[9,16,18,21]])})))()},editProfile:function(e){this.editProfileName=e.time,this.editProfileType=0},editProfileRule:function(e){this.editProfileName=e.time,this.editProfileType=1},parseDomain:function(e){var t="local file";try{var i=new URL(e),n=i.host;return"file:"===i.protocol?t:n||"empty host"}catch(e){}return t},parseTime:function(e){e=e.time;try{var t=W.statSync(V.join(this.profilesPath,e)).mtime;return p()(t).locale('zh-cn').from(this.now)}catch(e){return"missing file"}},updateConfig:function(e){var t=this;return l()(u.a.mark((function i(){var n,o,r,s,a,l;return u.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return n=e.url,o=e.headers,l=void 0===o?"":o,r=e.cancelToken,o=void 0===r?null:r,r=void 0!==(r=e.selectAfterUpdated)&&r,i.next=3,Object(v.a)({url:n,cancelToken:o,headersString:l}).catch((function(e){}));case 3:if(l=i.sent,s=l.success,a=l.message,l=l.targetIndex,!s){i.next=13;break}if(r)return i.next=11,t.switchProfile(l).catch((function(e){}));i.next=11;break;case 11:i.next=14;break;case 13:a.endsWith(U)||t.$alert({content:a});case 14:return i.abrupt("return",s);case 15:case"end":return i.stop()}}),i)})))()},subInfoArr:function(e){var t=void 0===(i=e.upload)?0:i,i=void 0===(n=e.download)?0:n,n=void 0===(n=e.total)?0:n;e=void 0===(e=e.expire)?0:e;return 0<=t&&0<=i&&0<n?(n=[Object(b.k)(t+i,1,!1),Object(b.k)(n,1,!1)],e?[].concat(n,[p()(1e3*e).format("YYYY-MM-DD")]):n):""},subInfoPercent:function(e){var t=void 0===(i=e.upload)?0:i,i=void 0===(i=e.download)?0:i;e=void 0===(e=e.total)?0:e;return 0<=t&&0<=i&&0<e?{"clip-path":"inset(0 ".concat((e=(t+i)/e*100)<=100?100-e:0,"% 0 0)")}:{"clip-path":"inset(0 100% 0 0)"}},pasteURL:function(){this.inputFocus=!1,this.subUrl=M.clipboard.readText(),this.inputFocus=!0},makeDiff:function(e){var t=this;return l()(u.a.mark((function i(){var n,o,r,a,c,d,h,g,p;return u.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return d=e.time,n=W.readFileSync(V.join(t.profilesPath,d),"utf8").toString(),o=V.join(t.profilesPath,d.slice(0,-4)+".base.yml"),r=V.join(t.profilesPath,d.slice(0,-4)+".change.yml"),a=W.existsSync(o)&&W.existsSync(r),c=a?["修改文件","删除 diff 文件"]:["初始化 diff 文件"],d=a?[{},{color:"red"}]:[],i.next=9,t.$select({title:"Diff",html:'对配置文件进行更改，然后在更新时合并它们. <a href="https://docs.cfw.lbyczf.com/contents/diff.html">文档</a>',items:c,itemStyles:d});case 9:if(g=i.sent,p=s()(g,1),h=p[0],g=function(){var e=l()(u.a.mark((function e(){var i,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=W.readFileSync(o,"utf8").toString(),n=W.readFileSync(r,"utf8").toString(),e.next=4,t.$diff({base:i,change:n});case 4:n=e.sent,W.writeFileSync(r,n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),!a){i.next=26;break}if(0!==h){i.next=18;break}g(),i.next=24;break;case 18:if(1===h)return i.next=21,Object(b.i)({type:"warning",message:"您确定要删除 diff 文件?",buttons:["是","否"]});i.next=24;break;case 21:0===(p=i.sent).response&&(W.unlinkSync(o),W.unlinkSync(r));case 24:i.next=29;break;case 26:W.writeFileSync(o,n),W.writeFileSync(r,n),g();case 29:case"end":return i.stop()}}),i)})))()},setupWatcher:function(){var e=this,t=z.debounce((function(t,i){var n;!/^\d+(?:\.yml)$/.test(i)||-1<(n=e.pfs.files.findIndex((function(e){return e.time===i})))&&n===e.pfs.index&&e.switchProfile(n)}),0);this.fileWatcher=W.watch(V.join(this.profilesPath),{},t)},removeWatcher:function(){this.fileWatcher&&this.fileWatcher.close()}}),beforeRouteEnter:function(e,t,i){var n;i((n=l()(u.a.mark((function e(t){var i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.now=p()(),t.intervalID=P.a.add((function(){t.now=p()()}),6e4),t.setupWatcher(),0===(null===(i=t.pfs.files)||void 0===i?void 0:i.length))return t.localCopy("config.yaml"),e.next=7,t.switchProfile(0);e.next=7;break;case 7:case"end":return e.stop()}}),e)}))),function(e){return n.apply(this,arguments)}))},beforeRouteLeave:function(e,t,i){for(var n in this.intervalID&&P.a.stop(this.intervalID),this.removeWatcher(),this.downlodingUrls)(0,this.downlodingUrls[n])(U);i()}},i(623),i(625),_=Object(c.a)(_,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"main-server-view"},on:{drop:e.dropProfile,dragover:e.dragOverProfile}},[e.editProfileName&&0===e.editProfileType?i("config-view",{attrs:{"clash-path":e.clashPath,"profile-name":e.editProfileName},on:{cancel:function(t){e.editProfileName="",e.editProfileType=-1},done:e.editDone,error:function(t){e.editProfileName="",e.editProfileType=-1}}}):e.editProfileName&&1===e.editProfileType?i("rule-view",{attrs:{"clash-path":e.clashPath,"profile-name":e.editProfileName},on:{cancel:function(t){e.editProfileName="",e.editProfileType=-1},done:e.editDone,error:function(t){e.editProfileName="",e.editProfileType=-1}}}):i("div",{staticClass:"main"},[i("div",{class:["card","remote-view"]},[i("div",{staticClass:"input-container"},[i("input",{directives:[{name:"focus",rawName:"v-focus",value:e.inputFocus,expression:"inputFocus"},{name:"model",rawName:"v-model",value:e.subUrl,expression:"subUrl"}],attrs:{spellcheck:"false",type:"text",placeholder:"从URL下载"},domProps:{value:e.subUrl},on:{keydown:e.handleURLConfirm,input:function(t){t.target.composing||(e.subUrl=t.target.value)}}}),e._v(" "),""!==e.subUrl?i("span",{staticClass:"icon text-[color:var(--fgc)] opacity-50 clear-icon clickable",on:{click:function(t){e.subUrl=""}}},[e._v("backspace")]):i("span",{staticClass:"icon clear-icon clickable text-[color:var(--fgc)] opacity-50",on:{click:e.pasteURL}},[e._v("content_copy")])]),e._v(" "),i("div",{staticClass:"btns-container"},[i("div",{class:e.getBtnClass,on:{click:e.handleDownload}},[e._v("\n          "+e._s(e.getBtnText)+"\n        ")]),e._v(" "),i("div",{staticClass:"confirm confirm-right update-all-btn",on:{click:e.handleUpdateAllProfiles}},[e._v("\n          更新全部\n        ")]),e._v(" "),i("div",{staticClass:"confirm confirm-right",on:{click:e.handleImport}},[e._v("导入")])])]),e._v(" "),i("draggable",{ref:"mixin-scroll-content",staticClass:"list-view",attrs:{delay:300,animation:200,"delay-on-touch-only":!0},on:{start:e.handleDragStart,end:e.handleDragEnd},model:{value:e.profiles,callback:function(t){e.profiles=t},expression:"profiles"}},[e._l(e.profiles,(function(t,n){return i("div",{key:n,class:["list-item",n===e.pfs.index?"item-cur":""],on:{click:function(t){return e.handleProfileClick(n)},contextmenu:function(i){return e.handleProfileRightClick(i,t,n)}}},[i("div",{staticClass:"indicator relative overflow-clip"},[n===e.pfs.index?[i("transition",{attrs:{name:"expand"}},[e.loadingProfileIndex.includes(n)?e._e():i("div",{staticClass:"absolute bg-[color:var(--proxy-item-selected-border-c)] w-full h-full"})]),e._v(" "),i("div",{staticClass:"bg-[color:var(--proxy-item-selected-border-c)] absolute w-full h-3/5 rounded-[10px] animate-cycle"})]:e._e()],2),e._v(" "),i("div",{staticClass:"item-info"},[i("div",{staticClass:"item-name"},[i("div",{staticClass:"item-name-top"},[i("div",{attrs:{title:t.name}},[e._v(e._s(t.name))])]),e._v(" "),i("div",{staticClass:"item-name-bottom flex gap-1 w-full",attrs:{title:t.url}},[i("span",{staticClass:"overflow-hidden text-ellipsis"},[e._v(e._s(e.parseDomain(t.url)))]),e._v(" "),i("span",{staticClass:"flex-shrink",class:{"item-time":!0,"item-expired":e.isProifleExpired(t)}},[e._v("\n                ("+e._s(e.parseTime(t))+")\n              ")])]),e._v(" "),e.subInfoArr(t.subInfo||{})?i("div",{staticClass:"item-subinfo"},[i("div",{staticClass:"item-subinfo-texts"},e._l(e.subInfoArr(t.subInfo||{}),(function(t,n){return i("div",{key:n},[e._v("\n                  "+e._s(t)+"\n                ")])})),0),e._v(" "),i("div",{staticClass:"progress"},[i("div",{staticClass:"percent",style:e.subInfoPercent(t.subInfo||{})})])]):e._e()]),e._v(" "),i("div",{staticClass:"h-full flex flex-col justify-center"},[""!==t.url?i("Hint",{staticClass:"item-icon",attrs:{hint:"更新"},on:{click:function(i){return i.stopPropagation(),e.refreshProfile(t)}}},[i("span",{staticClass:"icon",class:{rotating:t.url in e.downlodingUrls}},[e._v("refresh")])]):i("Hint",{staticClass:"item-icon",attrs:{hint:"编辑"},on:{click:function(i){return i.stopPropagation(),e.openProfile(t)}}},[i("span",{staticClass:"icon"},[e._v("code")])])],1)])])})),e._v(" "),e._l(new Array(20),(function(e,t){return i("i",{key:"hidden"+t})}))],2)],1),e._v(" "),e.qrcodeURL?i("QRCodeView",{attrs:{url:e.qrcodeURL},on:{hide:function(t){e.qrcodeURL=""}}}):e._e()],1)}),[],!1,null,"e638077e",null);t.default=_.exports},function(e,t,i){"use strict";i.r(t);var n=i(57),o=i.n(n),r=i(31),s=i.n(r),a=i(43),l=i.n(a),c=i(13),d=i.n(c),h=i(7),u=i.n(h),g=(n=i(33),r=(i(86),i(190)),a=i.n(r),i(40)),p=i(61),f=i(25),m=i(24);function v(e,t){var i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!i){if(Array.isArray(e)||(i=function(e,t){if(e){if("string"==typeof e)return b(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(i="Object"===i&&e.constructor?e.constructor.name:i)||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?b(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){i&&(e=i);var n=0;return{s:t=function(){},n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,r=!0,s=!1;return{s:function(){i=i.call(e)},n:function(){var e=i.next();return r=e.done,e},e:function(e){s=!0,o=e},f:function(){try{r||null==i.return||i.return()}finally{if(s)throw o}}}}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function _(e,t){var i,n=Object.keys(e);return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(e),t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)),n}function w(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?_(Object(i),!0).forEach((function(t){s()(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):_(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var C=i(211),y=i(20),x=i(30),S=i(86),k=(c={props:[],data:function(){return{speed:{up:0,down:0},client:null,scriptResult:"",intervalID:null,trayIconImg:null,canvas:null,renderedData:null}},watch:{clashStatus:function(e){e===p.a.CONNECTED&&(this.setupRequest(),this.updateInterval())},isWindowShow:function(e){this.setupRequest()},isAppSuspend:function(e){e||this.setupRequest()},"settings.trayText":function(){this.updateInterval()},"settings.trayScriptPath":function(){this.updateInterval()},"settings.trayScriptInterval":function(){this.updateInterval()},"settings.trayScriptManualRunTime":function(){this.updateInterval()},"settings.trayOrders":{deep:!0,handler:function(e,t){S.isEqual(e,t)||this.updateInterval()}}},computed:w(w(w({},Object(n.mapState)(s()({confData:function(e){return e.app.confData},clashStatus:function(e){return e.app.clashStatus},status:function(e){return e.app.status},shouldUseDarkTheme:function(e){return e.app.shouldUseDarkTheme},isWindowShow:function(e){return e.app.isWindowShow},isAppSuspend:function(e){return e.app.isAppSuspend},isSystemProxyOn:function(e){return e.app.isSystemProxyOn},mode:function(e){return e.app.mode}},"clashStatus",(function(e){return e.app.clashStatus})))),Object(n.mapGetters)(["resourcesPath","clashWSClient"])),{},{trayDisabled:function(){var e=this.settings.trayOrders||[[],[]];return 0===e[0].length||1===e[0].length&&"icon"===e[0][0]},finalText:function(){var e=this.settings.trayText;return(void 0===e?"":e)||this.scriptResult},colors:function(){return{light:["#fff","#000"],dark:["#2c2a38","rgb(255, 255, 255)"],red:["#f8b74f","#d33928"],2077:["#136377","#fcec0c"]}[this.theme]}}),methods:{iconImage:function(e){var t=new Image(69,69);return t.src=e,t},withUnit:function(e){for(var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:2,i=2<arguments.length&&void 0!==arguments[2]&&arguments[2],n=["B/s","KB/s","MB/s","GB/s","TB/s"],o=0;~~(e/1024)&&o<n.length;)e/=1024,o++;return i&&999<e&&(o++,e/=1024),{speed:0===o?e:e.toFixed(t),unit:n[o]}},stopRequest:function(){this.client&&this.client.readyState!==WebSocket.CLOSED&&this.client.readyState!==WebSocket.CONNECTING&&(this.client.terminate(),this.client=null),this.trayIconImg&&(this.trayIconImg=null)},setupRequest:function(){var e,t,i,n,o=this;this.stopRequest(),!this.isWindowShow&&this.trayDisabled||(e=this.clashWSClient("traffic"),this.trayIconImg||(this.trayIconImg=this.iconImage(y.join(this.resourcesPath,"static/imgs/logo_64_eyes.png"))),e?(t=this.canvas.getContext("2d"),i=function(e,t,i){var n,r={trayColorTransparent:t,trayColorForeground:i},s=v(e[0]);try{for(s.s();!(n=s.n()).done;){var a=n.value;"icon"===a?r.icon=o.trayIconImg:"traffic"===a?r.speed=o.speed:"status"===a?(r.mode=o.mode[0].toUpperCase(),r.isSystemProxyOn=o.isSystemProxyOn):"text"===a&&(r.text=o.finalText)}}catch(e){s.e(e)}finally{s.f()}return r},e.on("message",(n=d()(u.a.mark((function e(n){var r,s,a,l,c,d,h,g,p,f,b,_,w,C,y,x;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o.speed=JSON.parse(n),l=o.settings,a=l.trayOrders,r=void 0===a?[[],[]]:a,s=l.trayColorTransparent,g=l.trayColorForeground,a=void 0===g?"#fff":g,l=o.trayDisabled,g=i(r,s,a),S.isEqual(o.renderedData,g))return e.abrupt("return");e.next=6;break;case 6:if(l)m.ipcRenderer.send("speed-update","",60,"");else{c=0,d=o.withUnit(o.speed.up,0,!0),h=o.withUnit(o.speed.down,0,!0),g=s?a:o.colors[1],p=g,f=function(e){t.drawImage(o.trayIconImg,e,0,69,69),c+=69},b=function(e){t.textAlign="right",t.fillStyle=p,t.font="26px sans-serif",t.lineWidth=2,t.strokeStyle=p,t.fillText("".concat(d.speed," ").concat(d.unit),e+145,30),t.fillText("".concat(h.speed," ").concat(h.unit),e+145,58),t.textAlign="left",t.beginPath(),t.moveTo(e+5,31),t.lineTo(e+12,22),t.lineTo(e+19,31),o.speed.up>o.speed.down&&t.fill(),t.stroke(),t.beginPath(),t.moveTo(e+19,38),t.lineTo(e+12,47),t.lineTo(e+5,38),o.speed.up<o.speed.down&&t.fill(),t.stroke(),c+=150},_=function(e){t.font="26px sans-serif",t.fillStyle=p,t.fillText(o.mode[0].toUpperCase(),e+5,58),o.isSystemProxyOn&&t.fillText("S",e+5,30),c+=30},w=function(e){t.fillStyle=p;var i,n=e+10,r=o.finalText,s=0;Array.isArray(r)&&2<=r.length?(t.font="26px sans-serif",i=t.measureText(r[0]).width,s=(e=t.measureText(r[1]).width)<i?i:e,t.fillText(r[0],n,30),t.fillText(r[1],n,58)):(t.font="40px sans-serif",s=t.measureText(r).width,t.fillText(r,n,50)),c+=parseInt(s)+20},C=v(r[0]);try{for(C.s();!(y=C.n()).done;)"icon"===(x=y.value)?f(c):"traffic"===x?b(c):"status"===x?_(c):"text"===x&&w(c)}catch(e){C.e(e)}finally{C.f()}0===r[0].length&&f(c),m.ipcRenderer.send("speed-update",o.canvas.toDataURL(),l?60:c,s?"":o.colors[0]),o.renderedData=i(r,s,a),t.clearRect(0,0,o.canvas.width,o.canvas.height)}case 7:case"end":return e.stop()}}),e)}))),function(e){return n.apply(this,arguments)})),this.client=e):setTimeout((function(){o.setupRequest()}),2e3))},updateInterval:function(){var e=this;this.intervalID&&(clearInterval(this.intervalID),this.intervalID=null,this.scriptResult="");var t,i=(r=this.settings).trayText,n=r.trayScriptInterval,o=r.trayScriptPath,r=r.trayOrders;return""===(void 0===i?"":i)&&o&&r[0].includes("text")&&(t=d()(u.a.mark((function t(){var i;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=x.readFileSync(o,"utf8"),i=C("'use strict';\n".concat(i),o),t.next=4,i.run();case 4:e.scriptResult=t.sent;case 5:case"end":return t.stop()}}),t)}))),(r=function(){return t.apply(this,arguments)})(),0<n&&(this.intervalID=setInterval(r,1e3*n))),null}},mounted:function(){this.canvas=document.createElement("canvas"),this.canvas.width=1e4,this.setupRequest(),this.updateInterval()}},h=(i(380),i(382),i(37)),r=Object(h.a)(c,(function(){var e=this,t=e.$createElement;return(t=e._self._c||t)("div",{staticClass:"main-clash-traffic-view"},[t("div",{staticClass:"grid"},[t("div",[t("span",{staticClass:"bold-icon"},[e._v("↑")]),e._v("\n      "+e._s(e.withUnit(e.speed.up).speed)+"\n      "),t("span",{staticClass:"bold-icon"},[e._v(e._s(e.withUnit(e.speed.up).unit))])])]),e._v(" "),t("div",{staticClass:"grid"},[t("div",[t("span",{staticClass:"bold-icon"},[e._v("↓")]),e._v("\n      "+e._s(e.withUnit(e.speed.down).speed)+"\n      "),t("span",{staticClass:"bold-icon"},[e._v("\n        "+e._s(e.withUnit(e.speed.down).unit)+"\n      ")])])])])}),[],!1,null,"4f5120b9",null).exports,c=i(88),i.n(c)),D=i(157);function L(e,t){var i,n=Object.keys(e);return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(e),t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)),n}c={props:["startTime"],data:function(){return{runningTime:"00 : 00 : 00",intervalId:null}},watch:{},computed:function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?L(Object(i),!0).forEach((function(t){s()(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):L(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},Object(n.mapState)({})),methods:{calcRunTime:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"hh : mm : ss",t=e.includes("hh"),i=e.includes("mm"),n=(new Date).getTime(),o=Math.floor((n-this.startTime)/1e3);n=t||i?o%60:o,i=t?Math.floor(o/60)%60:Math.floor(o/60),t=Math.floor(o/3600),o=function(e){return(e<10?"0":"").concat(e)};return e.replace("hh",o(t)).replace("mm",o(i)).replace("ss",o(n))},refreshTimeTicking:function(){var e=this;this.intervalId=D.a.add((function(){var t=e.settings.runTimeFormat;e.runningTime=e.calcRunTime(void 0===t?"hh : mm : ss":t)}),1e3)}},mounted:function(){this.refreshTimeTicking(!0)}},i(385),c=Object(h.a)(c,(function(){var e=this.$createElement;return(e=this._self._c||e)("div",{attrs:{id:"main-run-time-view"}},[e("div",{staticClass:"timer-text"},[this._v(this._s(this.runningTime))])])}),[],!1,null,"05e7144a",null).exports;var O=i(41);function E(e,t){var i,n=Object.keys(e);return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(e),t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)),n}function N(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?E(Object(i),!0).forEach((function(t){s()(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):E(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function I(e,t){var i,n=Object.keys(e);return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(e),t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)),n}function T(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?I(Object(i),!0).forEach((function(t){s()(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):I(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}r={props:["startTime"],data:function(){return{isAllowSort:!1}},components:{ClashTrafficView:r,RunTimeView:c,draggable:a.a},watch:{},computed:N(N({},Object(n.mapGetters)(["menuItemsWithOrder","clashGotClient"])),{},{selectedIdx:function(){var e=this;return this.tabs.findIndex((function(t){return t.path===e.$route.path}))},tabs:{get:function(){return this.menuItemsWithOrder},set:function(e){g.a.put(O.a.MENU_ITEM_ORDER,e.map((function(e){return e.title}))),this.setMenuItems({items:e})}}}),methods:N(N({},Object(n.mapMutations)({setMenuItems:"SET_MENU_ITEMS"})),{},{handleRightClick:function(e){var t=this;return d()(u.a.mark((function i(){return u.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:t.$menu([{text:"重新排序",icon:"reorder",click:function(){t.isAllowSort=!0}}],e);case 1:case"end":return i.stop()}}),i)})))()},itemStyle:function(e){var t=[];return this.isAllowSort&&t.push("shaking".concat(e%3+1)),this.selectedIdx===e&&t.push("selected"),this.selectedIdx!==e&&(t.push("selected-none"),t.push("item-none")),this.selectedIdx===e+1&&t.push("selected-top"),this.selectedIdx===e-1&&t.push("selected-bottom"),t},itemClick:function(e){e=e.path,this.$router.replace({path:e}).catch((function(){}))}}),mounted:function(){}},i(387),c=Object(h.a)(r,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:["main-main-menu","item-none",e.isAllowSort?"item-draggable":""],on:{contextmenu:function(t){return e.handleRightClick.apply(null,arguments)}}},[i("clash-traffic-view",{staticClass:"traffic"}),e._v(" "),i("draggable",{ref:"list",staticClass:"menu",attrs:{animation:200,"delay-on-touch-only":!0,disabled:!e.isAllowSort,"drag-class":"drag-item","ghost-class":"ghost-item"},model:{value:e.tabs,callback:function(t){e.tabs=t},expression:"tabs"}},e._l(e.tabs,(function(t,n){return i("li",{key:n,staticClass:"item",class:e.itemStyle(n),on:{click:function(i){return e.itemClick(t)}}},[i("div",{staticClass:"clickable"},[e._v(e._s(t.title))])])})),0),e._v(" "),i("run-time-view",{staticClass:"running-time",attrs:{"start-time":e.startTime}}),e._v(" "),e.isAllowSort?i("div",{staticClass:"stop-btn",on:{click:function(t){e.isAllowSort=!1}}},[e._v("\n    停止排序\n  ")]):e._e()],1)}),[],!1,null,"cdc2bece",null).exports;a={props:[],data:function(){return{isWinMax:!1,isPinned:!1,isFullScreen:!1}},computed:T(T({},Object(n.mapState)({updateDownloadProgress:function(e){return e.app.updateDownloadProgress}})),{},{percent:function(){return this.updateDownloadProgress?100*this.updateDownloadProgress:0}}),methods:{closeApp:function(){m.ipcRenderer.invoke("app","quit")},miniApp:function(){m.ipcRenderer.invoke("window","minimize")},maxApp:function(){var e;this.isFullScreen?m.ipcRenderer.invoke("window","setFullScreen",!1):(e=this.isWinMax?"unmaximize":"maximize",m.ipcRenderer.invoke("window",e))},pinApp:function(){this.isPinned=!this.isPinned,m.ipcRenderer.invoke("window","setAlwaysOnTop",this.isPinned),g.a.put(O.a.IS_PIN_ENABLED,this.isPinned)}},mounted:function(){var e=this;return d()(u.a.mark((function t(){var i;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=function(){var t=d()(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.ipcRenderer.invoke("window","isMaximized");case 2:e.isWinMax=t.sent;case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),m.ipcRenderer.on("window-event",function(){var t=d()(u.a.mark((function t(n,o){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("maximize"===o?e.isWinMax=!0:"unmaximize"===o?e.isWinMax=!1:"enter-full-screen"===o?e.isFullScreen=!0:"leave-full-screen"===o&&(e.isFullScreen=!1),"show"===o)return t.next=4,i();t.next=4;break;case 4:case"end":return t.stop()}}),t)})));return function(e,i){return t.apply(this,arguments)}}()),e.isPinned=g.a.get(O.a.IS_PIN_ENABLED)||!1,m.ipcRenderer.invoke("window","setAlwaysOnTop",e.isPinned),t.next=6,i();case 6:case"end":return t.stop()}}),t)})))()}},i(389),r=Object(h.a)(a,(function(){var e=this,t=e.$createElement;return(t=e._self._c||t)("div",{staticClass:"main relative",style:{color:["dark"].includes(e.theme)?"white":"black"}},[t("div",{staticClass:"empty"},[t("div",{staticClass:"top"},[t("div",{staticClass:"left",style:{width:e.percent+"%"}}),e._v(" "),t("div",{staticClass:"right"})]),e._v(" "),t("div",{staticClass:"bottom"})]),e._v(" "),!e.isWindows&&!e.isLinux||e.isFullScreen?e._e():t("div",{staticClass:"clickable close hover:bg-[color:var(--status-close-hover)]",style:{color:e.isPinned?"#0C7D9D":""},on:{click:e.pinApp}},[t("span",{staticClass:"icon text-sm"},[e._v("push_pin")])]),e._v(" "),!e.isWindows&&!e.isLinux||e.isFullScreen?e._e():t("div",{staticClass:"clickable close hover:bg-[color:var(--status-close-hover)]",on:{click:e.miniApp}},[t("span",{staticClass:"icon text-sm -translate-y-1"},[e._v("minimize")])]),e._v(" "),e.isWindows||e.isLinux?t("div",{staticClass:"clickable close hover:bg-[color:var(--status-close-hover)]",on:{click:e.maxApp}},[e.isWinMax||e.isFullScreen?t("span",{staticClass:"icon text-sm"},[e._v("close_fullscreen")]):t("span",{staticClass:"icon text-sm"},[e._v("check_box_outline_blank")])]):e._e(),e._v(" "),!e.isWindows&&!e.isLinux||e.isFullScreen?e._e():t("div",{staticClass:"clickable close hover:bg-[#ff5050d7]",on:{click:e.closeApp}},[t("span",{staticClass:"icon text-sm"},[e._v("close")])])])}),[],!1,null,"4d45ac4e",null).exports;var M=i(96),A=i.n(M),P=i(66),R=(a=(i(182),i(30)),i.n(a)),F=i(20),j=i.n(F),B=(a=i(87),i.n(a)),W=(a=(i(212),i(53)),i.n(a)),V=i(274),z=(i(391),i(168)),H=i(39),U=i(191),$=i(51),K=i(248),q=i(392),G=i(287);function Y(){return(Y=d()(u.a.mark((function e(){var t,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=$.a.state.app.settings.innerServerPort,!Object(H.c)(i)){e.next=5;break}t=i,e.next=8;break;case 5:return e.next=7,G();case 7:t=e.sent;case 8:(i=new q).use(function(){var e=d()(u.a.mark((function e(t){var i,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=$.a.state.app.settings.pacContentText,i=void 0===n?K.a:n,/\/pac$/.test(t.path)?(n=$.a.getters.mixedPort)&&(t.set("content-type","application/x-ns-proxy-autoconfig"),t.body=i.replace(/%mixed-port%/g,n)):t.res.statusCode=404;case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),i.listen(t,"127.0.0.1"),$.a.commit("SET_INNER_SERVER_PORT",{port:t});case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Z,X,Q=i(246),J=(a=i(234),i.n(a)),ee=i(223),te=(Z=d()(u.a.mark((function e(t){var i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=["-dns",0<t.length?t.join(","):"reset"],e.next=3,Object(ee.a)(i);case 3:return i=(i=e.sent).success,e.abrupt("return",i);case 6:case"end":return e.stop()}}),e)}))),function(e){return Z.apply(this,arguments)}),ie=(X=d()(u.a.mark((function e(){var t,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=["-dns","query"],e.next=3,Object(ee.a)(t);case 3:if(i=e.sent,t=i.success,i=i.output,!t){e.next=9;break}if(/.+?=(.+?);/.test(i))return e.abrupt("return",RegExp.$1.split(",").filter((function(e){return J.a.isIP(e)})));e.next=9;break;case 9:return e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e)}))),function(){return X.apply(this,arguments)}),ne=i(250),oe=i(251),re=(i(231),i(227));function se(e,t){var i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!i){if(Array.isArray(e)||(i=function(e,t){if(e){if("string"==typeof e)return ae(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(i="Object"===i&&e.constructor?e.constructor.name:i)||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?ae(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){i&&(e=i);var n=0;return{s:t=function(){},n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,r=!0,s=!1;return{s:function(){i=i.call(e)},n:function(){var e=i.next();return r=e.done,e},e:function(e){s=!0,o=e},f:function(){try{r||null==i.return||i.return()}finally{if(s)throw o}}}}function ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function le(e,t){var i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!i){if(Array.isArray(e)||(i=function(e,t){if(e){if("string"==typeof e)return ce(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(i="Object"===i&&e.constructor?e.constructor.name:i)||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?ce(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){i&&(e=i);var n=0;return{s:t=function(){},n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,r=!0,s=!1;return{s:function(){i=i.call(e)},n:function(){var e=i.next();return r=e.done,e},e:function(e){s=!0,o=e},f:function(){try{r||null==i.return||i.return()}finally{if(s)throw o}}}}function ce(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function de(e,t){var i,n=Object.keys(e);return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(e),t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)),n}function he(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?de(Object(i),!0).forEach((function(t){s()(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):de(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var ue=i(86),ge=(i(268),i(211)),pe=i(393),fe=i(287),me=i(394),ve=(a=i(293)("./service_".concat(process.platform))).statusService,be=a.status;P.transports.console.format=function(e){return e.data},P.transports.file.format=function(e){return'time="'.concat(e.date,'" level=').concat(e.level,' msg="').concat(e.data,'"')},V.marked.use({renderer:{text:function(e){return/#(\d+)/.test(e)?e.replace(/#(\d+)/g,'<a href="https://github.com/Fndroid/clash_for_windows_pkg/issues/'.concat(RegExp.$1,'">#').concat(RegExp.$1,"</a>")):e}}});var _e,we;n={name:"landing-page",components:{MainMenu:c,StatusBar:r},data:function(){return{clash:null,userPath:"",clashRestfulPort:null,clashRestfulSecret:"",newVersionInfo:{},shwoError:!1,showStartup:!1,portableMode:!1,startTime:null,tun2socks:null,pkgDownloadProgress:0,networkInterfaces:[],configFileWatcher:null,profileUpdateFailed:{},shortcuts:{},clashMixedPort:-1}},watch:{$route:function(e){void 0!==(e=e.path)&&this.setCurrentRoutePath({path:e})},isWindowShow:{immediate:!0,handler:function(e){e?D.a.resumeAll():D.a.pauseAll()}},clashMixedPort:function(e){return d()(u.a.mark((function t(){var i;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0===e)return t.next=3,m.ipcRenderer.invoke("window","isVisible");t.next=5;break;case 3:i=t.sent,Object(H.i)({type:"error",message:"It seems that Port is not listening, you might need to set a new port.",buttons:[i?"OK":"Open dashboard","取消"]}).then((function(e){e=e.response,i||0!==e||m.ipcRenderer.invoke("window-control","show")}));case 5:case"end":return t.stop()}}),t)})))()},mixedPort:function(){P.info("mixed-port changed"),this.resetSystemProxySettings()},controllerPort:function(){P.info("external controller port changed")},finalInterfaceName:function(e){P.info("new outbound interface: ".concat(e)),this.refreshProfile()},clashStatus:(we=d()(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(P.info("clash status change to [".concat(t===p.a.CONNECTED?"已连接":"断开连接","]")),m.ipcRenderer.send("clash-core-status-change",t===p.a.CONNECTED?0:1),t===p.a.CONNECTED)return this.setIsLaunching({isLaunching:!1}),e.next=6,this.refreshProfile().catch((function(e){}));e.next=7;break;case 6:this.addProfileRefreshTimes({times:1});case 7:case"end":return e.stop()}}),e,this)}))),function(e){return we.apply(this,arguments)}),clashAxiosClient:function(e){var t=this;P.info("clash axios client changed"),m.ipcRenderer.send("clash-core-info",{port:this.controllerPort,secret:this.secret}),e&&(e.interceptors.request.use((function(e){return t.addClashAxiosFlyingRequestCount({count:1}),e}),(function(e){return Promise.reject(e)})),e.interceptors.response.use((function(e){return t.addClashAxiosFlyingRequestCount({count:-1}),e}),(function(e){return t.addClashAxiosFlyingRequestCount({count:-1}),Promise.reject(e)})))},status:{immediate:!0,handler:function(e){this.updateTrayIcon(),m.ipcRenderer.send("system-proxy-changed",e===p.b.SYSTEM_PROXY)}},"settings.hideTrayIcon":{immediate:!0,handler:function(e){var t=this;return d()(u.a.mark((function i(){return u.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,m.ipcRenderer.invoke("tray-create-destroy",e?"destroy":"create");case 2:t.updateTrayIcon();case 3:case"end":return i.stop()}}),i)})))()}},"settings.trayProxiesStyle":{immediate:!0,handler:function(e){return d()(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.ipcRenderer.invoke("tray-proxies-style",e||0);case 2:case"end":return t.stop()}}),t)})))()}},"settings.showTrayProxyDelayIndicator":{immediate:!0,handler:function(e){return d()(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.ipcRenderer.invoke("tray-proxies-icon",e||!1);case 2:case"end":return t.stop()}}),t)})))()}},"settings.useModeIcons":function(e){this.updateTrayIcon()},"settings.iconDefault":function(e){this.updateTrayIcon()},"settings.iconSystemProxy":function(e){this.updateTrayIcon()},fontFamily:{immediate:!0,handler:function(e){document.body.style.fontFamily=e}},"settings.shortcutSystemProxy":function(e,t){var i=this;this.rebindShortcut(e,t,d()(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!i.isSystemProxyOn,e.next=3,i.$setSystemProxy(t,i.confData);case 3:if(!e.sent){e.next=5;break}i.setIsSystemProxyOn({isOn:t});case 5:case"end":return e.stop()}}),e)}))))},"settings.shortcutTun":function(e,t){var i=this;this.rebindShortcut(e,t,d()(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=!i.isTunEnable,i.chagneIsTunEnable({isTun:t}),i.refreshProfile(),Object(H.j)("Shortcut","TUN Mode: ".concat(t?"On":"Off"));case 4:case"end":return e.stop()}}),e)}))))},"settings.shortcutMixin":function(e,t){var i=this;this.rebindShortcut(e,t,(function(){var e=!i.isMixinEnable;i.changeIsMixinEnable({isMixin:e}),i.refreshProfile(),Object(H.j)("Shortcut","Mixin: ".concat(e?"On":"Off"))}))},"settings.shortcutGlobalMode":function(e,t){var i=this;this.rebindShortcut(e,t,d()(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.switchMode("global");case 2:case"end":return e.stop()}}),e)}))))},"settings.shortcutRuleMode":function(e,t){var i=this;this.rebindShortcut(e,t,d()(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.switchMode("rule");case 2:case"end":return e.stop()}}),e)}))))},"settings.shortcutDirectMode":function(e,t){var i=this;this.rebindShortcut(e,t,d()(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.switchMode("direct");case 2:case"end":return e.stop()}}),e)}))))},"settings.shortcutScriptMode":function(e,t){var i=this;this.rebindShortcut(e,t,d()(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.switchMode("script");case 2:case"end":return e.stop()}}),e)}))))},"settings.shortcutRunTrayScript":function(e,t){this.rebindShortcut(e,t,this.runTrayScript)},"settings.shortcutShowHideDashboard":function(e,t){this.rebindShortcut(e,t,(function(){m.ipcRenderer.invoke("window-control","show-or-hide")}))},"settings.systemProxyTypeIndex":function(){this.resetSystemProxySettings()},"settings.pacContentText":function(){this.resetSystemProxySettings()},"settings.bypassText":function(){this.resetSystemProxySettings()},"settings.specifyHttpProxyProtocol":function(){this.resetSystemProxySettings()},"settings.staticSystemProxyHost":function(){this.resetSystemProxySettings()},"settings.enableDHCPServer":function(e){e?this.setMenuItems({items:[].concat(l()(this.menuItems),[{title:"路由器",path:"/home/router"}])}):this.setMenuItems({items:this.menuItems.filter((function(e){return"Router"!==e.title}))})},isMixinEnable:function(e){this.refreshProfile(),m.ipcRenderer.send("mixin-changed",e)},"settings.mixinText":function(){var e=this.settings.mixinType;this.isMixinEnable&&0===e&&this.refreshProfile()},"settings.mixinCode":function(){var e=this.settings.mixinType;this.isMixinEnable&&1===e&&this.refreshProfile()},"settings.mixinType":function(){this.refreshProfile()},"settings.unsafeURLsText":{immediate:!0,handler:function(e){var t=[];try{var i=W.a.parse(e);t=(null==i?void 0:i.urls)||[]}catch(e){}m.ipcRenderer.send("set-allow-unsafe-urls",t)}},"settings.clashAuthentication":function(){this.refreshProfile()},isTunEnable:function(e){this.refreshProfile(),m.ipcRenderer.send("tun-changed",e)},tunSettings:function(e){this.isTunEnable&&this.refreshProfile()},isAppSuspend:function(e){e||(this.tun2socks&&(P.info("system resume, restart tun2socks"),this.killSpawned(this.tun2socks),this.tun2socks=null,this.spawnTun2socks()),this.refreshProfile().then((function(e){})).catch((function(e){})))},innerServerPort:function(e){console.log("inner port:",e),this.resetSystemProxySettings()},mode:{handler:(_e=d()(u.a.mark((function e(t){var i,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.updateTrayIcon(),m.ipcRenderer.send("mode-changed",t),void 0!==(i=this.settings.connMode)&&i)return e.next=6,this.clashAxiosClient.delete("connections");e.next=6;break;case 6:n=this.profiles,i=void 0===(i=n.files)?[]:i,0<=(n=void 0===(n=n.index)?-1:n)&&i.length>n&&this.changeProfile({index:n,profile:he(he({},i[n]),{},{mode:t})});case 8:case"end":return e.stop()}}),e,this)}))),function(e){return _e.apply(this,arguments)}),immediate:!0}},computed:he(he(he({},Object(n.mapState)({pfs:function(e){return e.app.profiles},devMode:function(e){return e.app.isDevMode},profiles:function(e){return e.app.profiles},clashPath:function(e){return e.app.clashPath},clashStatus:function(e){return e.app.clashStatus},confData:function(e){return e.app.confData},profilesPath:function(e){return e.app.profilesPath},isMixinEnable:function(e){return e.app.isMixinEnable},isTunEnable:function(e){return e.app.isTunEnable},status:function(e){return e.app.status},clashAxiosFlyingRequestCount:function(e){return e.app.clashAxiosFlyingRequestCount},logFilePath:function(e){return e.app.logFilePath},shouldUseDarkTheme:function(e){return e.app.shouldUseDarkTheme},detectedInterfaceName:function(e){return e.app.detectedInterfaceName},isAppSuspend:function(e){return e.app.isAppSuspend},innerServerPort:function(e){return e.app.innerServerPort},isLocalMode:function(e){return e.app.isLocalMode},isWindowShow:function(e){return e.app.isWindowShow},menuItems:function(e){return e.app.menuItems},isSystemProxyOn:function(e){return e.app.isSystemProxyOn},isSubViewShow:function(e){return e.app.isSubViewShow},currentRoutePath:function(e){return e.app.currentRoutePath},mode:function(e){return e.app.mode},isSilentUpgraded:function(e){return e.app.isSilentUpgraded},tunSettings:function(e){return e.app.tunSettings},userDNS:function(e){return e.app.userDNS}})),Object(n.mapGetters)(["resourcesPath","filesPath","mixedPort","controllerPort","secret","clashAxiosClient","clashGotClient","fontFamily","clashBinaryPath"])),{},{finalInterfaceName:function(){var e=this.settings.interfaceName;return(void 0===e?"":e)||this.detectedInterfaceName},statusHint:function(){return 0<this.pkgDownloadProgress&&this.pkgDownloadProgress<1?"Download progress: ".concat((100*this.pkgDownloadProgress).toFixed(2),"%"):this.clashStatus===p.a.CONNECTED?"已连接":this.clashStatus===p.a.DISCONNECTED?"未连接":void 0},statusIcon:function(){return{"clash-status-icon":!0,"clash-running":this.clashStatus===p.a.CONNECTED,"clash-stopped":this.clashStatus===p.a.DISCONNECTED}}}),methods:he(he(he({},Object(n.mapMutations)({setIsDevMode:"SET_IS_DEV_MODE",setConfData:"SET_CONF_DATA",changeProfile:"CHANGE_PROFILE",changeProfileIndex:"CHANGE_PROFILES_INDEX",setClashPath:"SET_CLASH_PATH",setClashStatus:"SET_CLASH_STATUS",loadProfiles:"LOAD_PROFILES",setProfilesPath:"SET_PROFILES_PATH",setLogFilePath:"SET_LOG_FILE_PATH",changeIsMixinEnable:"CHANGE_IS_MIXIN_ENABLE",chagneIsTunEnable:"CHANGE_IS_TUN_ENABLE",setExePath:"SET_EXE_PATH",appendError:"APPEND_ERROR",addClashAxiosFlyingRequestCount:"ADD_AXIOS_FLYING_REQUEST_COUNT",setShouldUseDarkTheme:"SET_SHOULD_USE_DARK_THEME",setDetectedInterfaceName:"SET_DETECTED_INTERFACE_NAME",setIsWindowShow:"SET_IS_WINDOW_SHOW",setIsAppSuspend:"SET_IS_APP_SUSPEND",setIsLocalMode:"SET_IS_LOCAL_MODE",setIsLaunching:"SET_IS_LAUNCHING",setMenuItems:"SET_MENU_ITEMS",setIsSystemProxyOn:"SET_IS_SYSTEM_PROXY_ON",setCurrentRoutePath:"SET_CURRENT_ROUTE_PATH",addProfileRefreshTimes:"ADD_PROFILE_REFRESH_TIMES",setCurrentProfilePayload:"SET_CURRENT_PROFILE_PAYLOAD",setIsSilentUpgraded:"SET_IS_SILENT_UPGRADED",setIsFirewallRuleExist:"SET_IS_FIREWALL_RULE_EXIST",setUserDNS:"SET_USER_DNS",setMatchedSSID:"SET_MATCHED_SSID"})),Object(n.mapActions)(["setMode"])),{},{setSSIDOptions:function(){var e=this;return d()(u.a.mark((function t(){var i,n,r,s,a,l;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=function(){var t=d()(u.a.mark((function t(){var i,n,o;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=g.a.get(O.a.IS_MIXIN)||!1,n=g.a.get(O.a.IS_TUN)||!1,o=g.a.get(O.a.SYSTEM_PROXY)||!1,e.changeIsMixinEnable({isMixin:i}),e.chagneIsTunEnable({isTun:n}),t.next=7,e.$setSystemProxy(o,e.confData);case 7:if(!t.sent){t.next=9;break}e.setIsSystemProxyOn({isOn:o});case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),t.prev=1,e.setMatchedSSID({ssid:""}),a=function(){if(Object(f.l)()||Object(f.k)()){var e,t=Object(f.l)()?"netsh wlan show interfaces":"/System/Library/PrivateFrameworks/Apple80211.framework/Versions/Current/Resources/airport --getinfo",i=Object(M.execSync)(t).toString().split("\n"),n=[],r={},s=se(i.entries());try{for(s.s();!(e=s.n()).done;){var a=o()(e.value,2),l=a[0],c=a[1].split(": "),d=o()(c,2),h=d[0],u=d[1];if(h&&u){var g=h.trim(),p=u.trim();if(!g||!p)continue;g in r&&(n.push(r),r={}),r[g]=p}l===i.length-1&&(n.push(r),r={})}}catch(e){s.e(e)}finally{s.f()}return n}return[]}()||[],l=e.settings.ssidStrategyText,n=W.a.parse(l).strategy,P.info(JSON.stringify({conns:a,ssidStrategy:n},null,2)),!(l=a.find((function(e){return e.SSID in n})))){t.next=24;break}if(e.setMatchedSSID({ssid:l.SSID}),!(r=n[l.SSID])){t.next=22;break}if(s=r.system,a=r.tun,"boolean"==typeof(l=r.mixin)&&e.changeIsMixinEnable({isMixin:l}),"boolean"==typeof a&&e.chagneIsTunEnable({isTun:a}),t.t0="boolean"==typeof s,t.t0)return t.next=19,e.$setSystemProxy(s,e.confData);t.next=20;break;case 19:t.t0=t.sent;case 20:if(!t.t0){t.next=22;break}e.setIsSystemProxyOn({isOn:s});case 22:t.next=25;break;case 24:i();case 25:t.next=30;break;case 27:t.prev=27,t.t1=t.catch(1),P.error("failed to set ssid options: ".concat(t.t1));case 30:return t.prev=30,t.finish(30);case 32:case"end":return t.stop()}}),t,null,[[1,27,30,32]])})))()},resetDNS:function(){if(Object(f.k)())try{var e=this.settings,t=e.isUsingResetDNSServers,i=void 0!==t&&t,n=e.resetDNSServers;i?te(void 0===n?[]:n):null!==this.userDNS&&te(this.userDNS)}catch(e){P.info("failed to reset dns with error: ".concat(e))}},breakConnections:function(e){var t=this;return d()(u.a.mark((function i(){var n,o,r,s,a;return u.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(o=t.settings.connProxy,1===(n=void 0===o?0:o))return i.next=4,t.clashAxiosClient.get("connections");i.next=29;break;case 4:if(a=i.sent,o=a.status,a=a.data,200!==o){i.next=27;break}s=a.connections,r=le(void 0===s?[]:s),i.prev=10,r.s();case 12:if((a=r.n()).done){i.next=19;break}if(s=a.value,a=s.id,s.chains.includes(e))return i.next=17,t.clashAxiosClient.delete("connections/".concat(a));i.next=17;break;case 17:i.next=12;break;case 19:i.next=24;break;case 21:i.prev=21,i.t0=i.catch(10),r.e(i.t0);case 24:return i.prev=24,r.f(),i.finish(24);case 27:i.next=32;break;case 29:if(2===n)return i.next=32,t.clashAxiosClient.delete("connections");i.next=32;break;case 32:case"end":return i.stop()}}),i,null,[[10,21,24,27]])})))()},persistSelectedProxy:function(){var e=this;return d()(u.a.mark((function t(){var i,n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(-1<e.pfs.index)){t.next=14;break}if(i=null===(n=e.pfs.files)||void 0===n?void 0:n[e.pfs.index])return t.prev=3,t.next=6,e.clashAxiosClient.get("/proxies");t.next=14;break;case 6:n=void 0===(n=(n=t.sent).data.proxies)?{}:n,n=Object.entries(n).reduce((function(e,t){return(t=o()(t,2))[0],"Selector"===(t=t[1]).type&&e.push({name:t.name,now:t.now}),e}),[]),e.changeProfile({index:e.pfs.index,profile:he(he({},i),{},{selected:n})}),t.next=14;break;case 12:t.prev=12,t.t0=t.catch(3);case 14:case"end":return t.stop()}}),t,null,[[3,12]])})))()},runTrayScript:function(){this.settings.trayScriptManualRunTime=(new Date).getTime()},resetSystemProxySettings:ue.debounce(d()(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isSystemProxyOn)return e.next=3,this.$setSystemProxy(!0,this.confData);e.next=3;break;case 3:case"end":return e.stop()}}),e,this)}))),500),updateTrayIcon:function(){Object(f.l)()&&(console.log("updateTrayIcon",this.$getTrayIcon(this.status===p.b.SYSTEM_PROXY,this.mode)),m.ipcRenderer.send("status-changed",this.$getTrayIcon(this.status===p.b.SYSTEM_PROXY,this.mode)))},setFont:function(e){document.body.style.fontFamily=e||'"Microsoft Yahei", "PingFang SC", "system-ui", 微软雅黑, "TwemojiMozilla"'},refreshProfile:function(){var e=this;return d()(u.a.mark((function t(){var n,r,s,a,c,h,g,p,m,v,b,_,w,C,y,x,S,k,D,L,O,E,N,I,T,M,F,B,V,z,U,$,K,q,G,Y,Z,X,Q,J,ee,ie,ne,oe,re,se,ae,le,ce;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=!1,r=null,a=e.profiles.index,c=!1,!(-1<(a=void 0===a?-1:a))){t.next=91;break}if(P.info("restore at index: ".concat(a)),h=e.profiles.files[a],s=j.a.join(e.profilesPath,h.time),t.prev=9,null===(g=W.a.parse(R.a.readFileSync(s,"utf8"),{prettyErrors:!0,strict:!1})))throw new Error("this profile could not be parsed!");t.next=13;break;case 13:if(y=e.settings,w=y.mixinType,C=void 0===w?0:w,p=y.mixinText,m=y.mixinCode,v=g,e.isTunEnable&&(v=he(he({},v),Object(H.g)(e.tunSettings))),!e.isMixinEnable){t.next=29;break}t.t0=C,t.next=0===t.t0?20:1===t.t0?22:29;break;case 20:if(p)try{b=W.a.parse(p),_=b.mixin,v=he(he({},v),_)}catch(t){}return t.abrupt("break",29);case 22:if(m)return w=ge(m),y=h.url,C=void 0===y?"":y,y=h.name,t.next=27,w.parse({content:v,url:C,name:y},{axios:i(87),yaml:i(53),notify:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",i=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];Object(H.j)(e,t,{silent:i})}});t.next=28;break;case 27:v=t.sent;case 28:return t.abrupt("break",29);case 29:if(E=(L=v).dns,x=void 0===E?{}:E,S=L["interface-name"],O=L.tun,N=void 0===O?{}:O,I=x.enable,k=void 0!==I&&I,D=x.listen,E=N.enable,L=void 0!==E&&E,O=N["macOS-auto-detect-interface"],I=void 0!==O&&O,E=N["auto-detect-interface"],O=void 0!==E&&E,E=void 0===(E=N["dns-hijack"])?[]:E,N=N.stack,Object(f.j)()||!L||O||I){t.next=40;break}if(S){t.next=40;break}if(e.detectInterfaceName(),""===e.finalInterfaceName){t.next=39;break}v=he(he({},v),{},{"interface-name":e.finalInterfaceName}),t.next=40;break;case 39:return t.abrupt("return",{success:!1,message:"启用 TUN 模式但此 YAML 中没有接口名称"});case 40:if(!Object(f.l)()){t.next=57;break}if(L){t.next=57;break}I=!0;try{I=A.a.execSync("netsh 界面 显示界面",{windowsHide:!0}).toString().includes("cfw-tap")}catch(t){}if(!(I&&x&&k&&D)){t.next=57;break}if(ee=D.split(":")[0].trim(),J=D.split(":")[1].trim(),!["","0.0.0.0"].includes(ee)||"53"!==J){t.next=57;break}if(c=!0,S||O){t.next=57;break}if(e.detectInterfaceName(),""===e.finalInterfaceName){t.next=56;break}v=he(he({},v),{},{"interface-name":e.finalInterfaceName}),t.next=57;break;case 56:return t.abrupt("return",{success:!1,message:"TAP 模式启用, 但此 YAML 中没有接口名称"});case 57:for(ee=(T=v)["proxy-providers"],J=T["rule-providers"],T=0<Object.keys(null!=ee?ee:{}).length||0<Object.keys(null!=J?J:{}).length,M=[],F=0,B=Object.entries(null!=ee?ee:{});F<B.length;F++)(U=o()(B[F],2))[0],V=U[1],z=he(he({},(null==V?void 0:V["<<"])||{}),V),U=z.type,z=z.url,"http"===U&&(U="./providers/proxy/".concat(Object(H.d)(z),".yaml"),M.push({url:z,path:V.path,securePath:U}),V.path=U);for($=0,K=Object.entries(null!=J?J:{});$<K.length;$++)(Y=o()(K[$],2))[0],q=Y[1],G=he(he({},(null==q?void 0:q["<<"])||{}),q),Y=G.type,G=G.url,"http"===Y&&(Y="./providers/rule/".concat(Object(H.d)(G),".yaml"),M.push({url:G,path:q.path,securePath:Y}),q.path=Y);for(Z=function(){var e=((i=o()(Q[X],2))[0],i[1]),t=he(he({},(null==e?void 0:e["<<"])||{}),e),i=t.type;t.url,"file"!==i||(i=M.find((function(t){return t.path===e.path})))&&(e.path=i.securePath)},X=0,Q=[].concat(l()(Object.entries(null!=ee?ee:{})),l()(Object.entries(null!=J?J:{})));X<Q.length;X++)Z();return ee=e.confData,J=ee["log-level"],ee=ee.ipv6,t.next=67,e.clashAxiosClient.put("/configs",{payload:W.a.stringify(he(he({},v),{},{ipv6:ee,"log-level":J}))},{validateStatus:function(){return!0},timeout:T?0:1e4});case 67:if(oe=t.sent,ae=oe.status,oe=oe.data,n=204===ae,oe=oe.message,r=oe||"Switching profile failed with status: ".concat(ae),n?(e.setCurrentProfilePayload({payload:v}),T?e.menuItems.find((function(e){return"提供"===e.title}))||e.setMenuItems({items:[].concat(l()(e.menuItems),[{title:"提供",path:"/home/provider"}])}):e.setMenuItems({items:e.menuItems.filter((function(e){return"提供"!==e.title}))})):e.setCurrentProfilePayload({payload:{}}),n)if(L){if(0<(se=E.reduce((function(e,t){var i=t.split(":");i=(t=o()(i,2))[0];return"53"!==(t=t[1])&&void 0!==t||("any"===i?e=[].concat(l()(e),["8.8.8.8"]):/\d+\.\d+\.\d+\.\d+/.test(i)&&(e=[].concat(l()(e),[i]))),e}),[])).length)try{te(se)}catch(t){}Object(f.l)()&&"system"===N&&(ie=0,ne=setInterval(d()(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe({port:7777});case 2:7777!==e.sent&&A.a.exec("ipconfig /renew",{windowsHide:!0}),4===ie&&clearInterval(ne),ie+=1;case 6:case"end":return e.stop()}}),e)}))),2e3))}else e.resetDNS();t.next=84;break;case 77:t.prev=77,t.t1=t.catch(9),P.warn("无法恢复最后一个配置文件并出现错误: ".concat(t.t1)),oe="",(ae=t.t1.linePos)&&(re=ae.start)&&(se=re.line,ae=re.col,oe=", on line: ".concat(se,", at column: ").concat(ae)),r="Error: ".concat(t.t1.message).concat(oe);case 84:if(le=h.selected,ce=h.mode,n&&le)return P.info("restore proxy settings"),t.next=89,Promise.allSettled(le.map((function(t){var i=t.name;t=t.now;return e.clashAxiosClient.put("/proxies/"+encodeURIComponent(i),{name:t})})));t.next=90;break;case 89:t.sent.forEach((function(e,t){var i=e.status;e=e.reason;"rejected"===i&&P.info("恢复代理组 ".concat(le[t].name," to ").concat(le[t].now," failed with reason: ").concat(e))}));case 90:n&&ce&&e.switchMode(ce,!1);case 91:return c?e.spawnTun2socks():(e.killSpawned(e.tun2socks),e.tun2socks=null),t.abrupt("return",{success:n,message:r});case 93:case"end":return t.stop()}}),t,null,[[9,77]])})))()},switchMode:function(e){var t=this;return d()(u.a.mark((function i(){return u.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,t.setMode({mode:e});case 2:case"end":return i.stop()}}),i)})))()},showLogsFolder:function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];this.clashPath&&/\.log$/.test(this.logFilePath)&&(e?m.shell.openPath(j.a.join(this.logFilePath,"..")):m.shell.showItemInFolder(this.logFilePath))},open:function(e){m.shell.openExternal(e)},killClashCore:function(){var e=this;return d()(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.killSpawned(e.clash),e.clash=null,g.a.get(O.a.IS_LIGHTWEIGHT_MODE_CLOSE)){t.next=6;break}return t.next=6,B.a.get("http://127.0.0.1:53000/stop",{timeout:1e3}).catch((function(e){}));case 6:case"end":return t.stop()}}),t)})))()},handlerRestartClash:function(){var e=this;return d()(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.killClashCore().catch((function(e){}));case 2:return e.setClashStatus({status:p.a.DISCONNECTED}),e.shwoError=!1,t.next=6,e.spawnClash().catch((function(e){}));case 6:case"end":return t.stop()}}),t)})))()},spawnClash:function(){var e=this;return d()(u.a.mark((function t(){var i,n,o,r,s,a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(P.info("restarting clash core..."),i=j.a.join(e.clashPath,"logs","".concat(k()().format("YYYY-MM-DD-HHmmss"),".log")),R.a.readdir(j.a.join(e.clashPath,"logs"),(function(t,i){!t&&0<i.length&&i.forEach((function(t){/^(.*?)\.log$/.test(t)&&k()(RegExp.$1,"YYYY-MM-DD-HHmmss").isBefore(k()().subtract(7,"days"))&&R.a.unlink(j.a.join(e.clashPath,"logs",t),(function(e){}))}))})),n=g.a.get(O.a.IS_LIGHTWEIGHT_MODE_CLOSE)||!1,t.t0=n,t.t0)return t.next=8,e.getClashStatus();t.next=11;break;case 8:t.t1=t.sent,t.t2=p.a.CONNECTED,t.t0=t.t1===t.t2;case 11:if(t.t0)return t.abrupt("return");t.next=13;break;case 13:if(o=e.clashBinaryPath,j.a.dirname(o),j.a.basename(o),r=e.confData["log-level"],e.isLocalMode){t.next=26;break}return t.next=20,B.a.post("http://127.0.0.1:53000/start",{path:e.devMode?Object(F.join)(process.cwd(),o):o,cwd:e.clashPath,silent:"silent"===r},{validateStatus:function(e){return!0}});case 20:a=t.sent,s=a.data,200===a.status?e.setLogFilePath({path:s}):(P.info("fail to spawn in service mode, fallback to local mode"),e.setIsLocalMode({isLocal:!0}),e.spawnClash()),t.next=34;break;case 26:a=[],e.portableMode&&(a=["-d",e.clashPath]),s=A.a.spawn(o,a,{windowsHide:!0}),e.clash=s,g.a.put(O.a.LAST_CLASH_PID,e.clash.pid),s.stdout.on("data",function(){var t=d()(u.a.mark((function t(i){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(/INF \[API\] listening addr=/.test(i.toString()))return P.info("clash core startup success!"),t.t0=e,t.next=5,e.getClashStatus();t.next=8;break;case 5:t.t1=t.sent,t.t2={status:t.t1},t.t0.setClashStatus.call(t.t0,t.t2);case 8:/ERR/.test(i.toString())&&P.error("clash核心启动失败!!!");case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),s.on("exit",(function(){})),"silent"!==r&&(a=R.a.createWriteStream(i,{flags:"a"}),s.stdout.pipe(a),s.stderr.pipe(a),e.setLogFilePath({path:i}));case 34:return t.abrupt("return");case 35:case"end":return t.stop()}}),t)})))()},sudoRunBAT:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;return new Promise((function(i,n){!function(){try{return A.a.execSync("net session",{windowsHide:!0}),!0}catch(e){}return!1}()?Object(z.exec)(e,{name:"Clash for Windows"},(function(e,n,o){t&&t(void 0===e),i(void 0===e)})):A.a.exec(e,{windowsHide:!0},(function(e,n,o){t&&t(void 0===e),i(void 0===e)}))}))},setupTapDevice:function(){var e=!(0<arguments.length&&void 0!==arguments[0])||arguments[0],t=j.a.join(this.filesPath,"win","common","tun2socks"),i=(o={},s()(o,f.g,"amd64"),s()(o,f.f,"i386"),s()(o,f.e,"i386"),o[Object(f.h)()]),n=void 0===(o=(r=null!==(n=g.a.get(O.a.TAP_INFO))&&void 0!==n?n:{}).ip)?"10.0.0.1":o,o=void 0===(o=r.subnet)?"255.255.255.0":o,r=void 0===(r=r.gateway)?"10.0.0.0":r;e=j.a.join(t,"".concat(e?"add":"remove","_tap_device.bat")),r='"'.concat(e,'" ').concat(i," ").concat(n," ").concat(o," ").concat(r);return this.sudoRunBAT(r)},spawnTun2socks:function(){var e=this;return d()(u.a.mark((function t(){var i,n,o,r,a,l,c;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(Object(f.k)()||Object(f.j)())return t.abrupt("return");t.next=2;break;case 2:if(P.info("Spawn go-tun2socks"),e.tun2socks&&(e.killSpawned(e.tun2socks),e.tun2socks=null),i=e.mixedPort){t.next=7;break}return t.abrupt("return");case 7:a=null!==(c=g.a.get(O.a.TAP_INFO))&&void 0!==c?c:{},r=a.ip,n=void 0===r?"10.0.0.1":r,l=a.subnet,o=void 0===l?"255.255.255.0":l,c=a.gateway,l=["-tunName","cfw-tap","-tunDns",n,"-tunAddr",n,"-tunMask",o,"-tunGw",r=void 0===c?"10.0.0.0":c,"-proxyServer","127.0.0.1:"+i,"-loglevel","none"],a={},s()(a,f.g,j.a.join(e.filesPath,"win","x64")),s()(a,f.f,j.a.join(e.filesPath,"win","ia32")),s()(a,f.e,j.a.join(e.filesPath,"win","ia32")),c=a[Object(f.h)()],e.tun2socks=A.a.spawn("go-tun2socks.exe",l,{cwd:c,windowsHide:!0}),a=10;case 12:if(!a--){t.next=27;break}if(t.prev=13,l=A.a.execSync("route print ".concat(r," mask ").concat(o),{windowsHide:!0}).toString(),c=function(e){return e.replace(/\./g,"\\.")},new RegExp("".concat(c(r),"\\s+?").concat(c(o),"[\\s\\S]+").concat(c(n))).test(l))return A.a.execSync("route add 0.0.0.0 mask 0.0.0.0 ".concat(r," metric 1"),{windowsHide:!0}),t.abrupt("break",27);t.next=19;break;case 19:t.next=23;break;case 21:t.prev=21,t.t0=t.catch(13);case 23:return t.next=25,Object(H.m)(1e3);case 25:t.next=12;break;case 27:case"end":return t.stop()}}),t,null,[[13,21]])})))()},killSpawned:function(e){if(e&&(e=e.pid))try{A.a.execSync((Object(f.k)()||Object(f.j)()?"kill -9 ":"taskkill /F /PID ").concat(e),{windowsHide:!0})}catch(e){}},setRoutes:function(){var e=this;return d()(u.a.mark((function t(){var i;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=j.a.join(e.filesPath,"tun2socks"),i=j.a.join(i,"set_routes.bat"),t.abrupt("return",e.sudoRunBAT('"'.concat(i,'"')));case 3:case"end":return t.stop()}}),t)})))()},getClashStatus:function(){var e=this;return d()(u.a.mark((function t(){var i,n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.clashAxiosClient.get("/configs",{validateStatus:function(e){return!0},timeout:1e3});case 3:return n=t.sent,i=n.status,n=n.data,e.clashMixedPort=(null==n?void 0:n["mixed-port"])||-1,t.abrupt("return",200===i?p.a.CONNECTED:p.a.DISCONNECTED);case 10:return t.prev=10,t.t0=t.catch(0),e.clashMixedPort=-1,t.abrupt("return",p.a.DISCONNECTED);case 14:case"end":return t.stop()}}),t,null,[[0,10]])})))()},checkForUpdate:function(){var e=this;return d()(u.a.mark((function t(){var i,n,o,r,a,l,c,d,h,g,p,v,b,_;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.isSilentUpgraded)return P.info("silent upgrade done, stop checking"),t.abrupt("return");t.next=3;break;case 3:return t.next=5,m.ipcRenderer.invoke("app","getVersion");case 5:return i=t.sent,P.info("check for app update, current: ".concat(i)),t.next=9,B.a.get("https://api.github.com/repos/Fndroid/clash_for_windows_pkg/releases/latest");case 9:if(200===(n=t.sent).status&&(o=n.data.tag_name,(_=function(e){var t=1;return e.split(".").reverse().reduce((function(e,i){return i=+e+i*t,t*=1e3,i}),0)})(o)>_(i))){a=Symbol(),l=Symbol(),c=Symbol(),d=Symbol(),_={},s()(_,a,{}),s()(_,l,{}),s()(_,c,{}),s()(_,d,{}),h=_,g=le(n.data.assets);try{for(g.s();!(p=g.n()).done;)v=p.value,(b=v.name)&&(/\d+?\.\d+?\.\d+?-win\.7z/.test(b)?h[a][f.g]=v:/\d+?\.\d+?\.\d+?-ia32\-win\.7z/.test(b)?h[a][f.f]=v:/\d+?\.\d+?\.\d+?-arm64\-win\.7z/.test(b)?h[a][f.e]=v:/\d+?\.\d+?\.\d+?-arm64-mac\.7z/.test(b)?h[a][f.c]=v:/\d+?\.\d+?\.\d+?-mac\.7z/.test(b)?h[a][f.d]=v:/\d+?\.\d+?\.\d+?\.ia32\.exe/.test(b)?h[l][f.f]=v:/\d+?\.\d+?\.\d+?\.arm64\.exe/.test(b)?h[l][f.e]=v:/\d+?\.\d+?\.\d+?\.exe/.test(b)?h[l][f.g]=v:/arm64\.dmg/.test(b)?h[c][f.c]=v:/\.dmg/.test(b)?h[c][f.d]=v:/x64\-linux\.tar\.gz/.test(b)&&(h[d][f.b]=v))}catch(t){g.e(t)}finally{g.f()}_=function(e){var t,i;return null==h||null===(t=h[e])||void 0===t||null===(i=t[Object(f.h)()])||void 0===i?void 0:i.browser_download_url},e.portableMode?r=_(a):(Object(f.k)()&&(r=_(c)),Object(f.l)()&&(r=_(l)),Object(f.j)()&&(r=_(d))),e.newVersionInfo={version:o,log:V.marked.parse(n.data.body),url:r||"https://github.com/Fndroid/clash_for_windows_pkg/releases",isPortable:e.portableMode,reactions:(null===(_=n.data)||void 0===_?void 0:_.reactions)||null,reactionClick:function(){var e;m.shell.openExternal(null===(e=n.data)||void 0===e?void 0:e.html_url)}},Object(f.k)()&&e.settings.silentUpdate&&r&&Object(ne.a)(r,o).then((function(t){P.info("upgrade to ".concat(o," 成功, 路径: ").concat(t)),e.setIsSilentUpgraded({isUpgraded:!0}),e.newVersionInfo={}})).catch((function(e){P.info("auto upgrade 失败，错误: ".concat(e))}))}case 11:case"end":return t.stop()}}),t)})))()},loadConfData:function(){P.info("从一般加载数据 config.yaml");var e=j.a.join(this.clashPath,"config.yaml");try{var t=R.a.readFileSync(e,"utf8").toString(),i=W.a.parse(t,{prettyErrors:!0,strict:!1});this.setConfData({data:i})}catch(n){e="",!(t=n.linePos)||(i=t.start)&&(t=i.line,i=i.col,e=", on line: ".concat(t,", at column: ").concat(i)),this.appendError({error:"Error: ".concat(n).concat(e)}),P.warn("无法加载常规 config.yaml 并出现错误: ".concat(n))}},mkdirPathSync:function(e){return e!==j.a.dirname(e)&&(!!R.a.existsSync(e)||(this.mkdirPathSync(j.a.dirname(e))?(R.a.mkdirSync(e),!0):void 0))},initConfigFolder:function(){var e=this;return d()(u.a.mark((function t(){var i,n,o,r,a,l,c,d,h;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.mkdirPathSync(e.clashPath),l=j.a.join(e.clashPath,"config.yaml"),a=j.a.join(e.clashPath,"config.yml"),R.a.existsSync(a)){try{R.a.unlinkSync(l)}catch(t){}R.a.renameSync(a,l)}if(R.a.existsSync(l)&&""!==R.a.readFileSync(l,{encoding:"utf8"}))try{void 0===(i=W.a.parseDocument(R.a.readFileSync(l,"utf8"))).get("mixed-port")&&(n=i.get("port"),o=i.get("socks-port"),r=n||o||7890,i.delete("port"),i.delete("socks-port"),R.a.writeFileSync(l,"mixed-port: ".concat(r,"\n").concat(i.toString())))}catch(t){}else P.info("首次发布, 创建 config.yaml..."),R.a.writeFileSync(l,W.a.stringify({"mixed-port":7890,"allow-lan":!1,"external-controller":"127.0.0.1:9090",secret:Object(oe.v4)()}));if(a=j.a.join(e.filesPath,"default/Country.mmdb"),l=j.a.join(e.clashPath,"Country.mmdb"),R.a.existsSync(l)||R.a.copyFileSync(a,l),Object(f.l)())return d={},s()(d,f.f,"ia32"),s()(d,f.g,"x64"),s()(d,f.e,"arm64"),h=d[Object(f.h)()],c=j.a.join(e.filesPath,"win/".concat(h,"/wintun.dll")),d=j.a.join(e.clashPath,"wintun.dll"),t.next=14,Object(H.b)();t.next=20;break;case 14:if(t.t0=t.sent,!t.t0){t.next=17;break}t.t0=R.a.existsSync(d);case 17:if(!t.t0){t.next=19;break}R.a.unlinkSync(d);case 19:R.a.existsSync(d)||R.a.copyFileSync(c,d);case 20:h=j.a.join(e.clashPath,"logs"),R.a.existsSync(h)||R.a.mkdirSync(h);case 22:case"end":return t.stop()}}),t)})))()},initProfilesFolder:function(){var e=this.profilesPath;R.a.existsSync(e)||R.a.mkdirSync(e),e=j.a.join(this.profilesPath,"list.yml"),R.a.existsSync(e)||R.a.writeFileSync(e,"files: []\nindex: -1",{flag:"ax"})},startChild:function(e){if(!e||!e.hasOwnProperty("command"))return null;var t=e.args,i=e.options;return A.a.spawn(e.command,void 0===t?[]:t,he(he({},void 0===i?{}:i),{},{windowsHide:!0}))},spawnUserDefindExes:function(){if(this.confData){var e=[],t=void 0===(t=this.settings.childProcessText)?"":t;try{e=W.a.parse(t).processes||[]}catch(e){}var i,n=[];for(i in e){var o=(s=e[i]).log,r=(a=void 0===(a=s.options)?{}:a).cwd,s=(l=this.startChild(e[i])).pid,a=l.stderr,l=l.stdout;o&&r&&(a&&a.pipe(R.a.createWriteStream(j.a.join(r,"cfw-child-process-err.log"),{flags:"a"})),l&&l.pipe(R.a.createWriteStream(j.a.join(r,"cfw-child-process-out.log"),{flags:"a"}))),n.push(s)}g.a.put(O.a.LAST_USER_EXE_PIDS,n)}},preDownloadAds:function(){return d()(u.a.mark((function e(){var t,i,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.a.get("https://raw.githubusercontent.com/Fndroid/ads/master/ads_v2.json?t="+(new Date).getTime());case 2:i=e.sent,t=i.status,i=i.data,200===t&&(n=i.feedback)&&g.a.put(O.a.AD_IMAGES,n);case 5:case"end":return e.stop()}}),e)})))()},profileUpdater:function(){var e=this;return d()(u.a.mark((function t(){var i,n,o,r,s,a,l,c,d;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.profiles||e.isAppSuspend)return t.abrupt("return");t.next=2;break;case 2:return i=function(){return(new Date).getTime()},s=e.profiles.files,n=(void 0===s?[]:s).filter((function(t){var i=t.interval,n=t.url,o=t.time;t=void 0===(t=t.cron)?"":t;if(!n)return!1;try{var r=k()();if(t&&new me(t).isMatchDate(r))return!0;if(0<i){var s=R.a.statSync(j.a.join(e.profilesPath,o)).mtime;if(s){var a=e.profileUpdateFailed[n];if(void 0!==a){if(!k()(a).add(i,"hours").isBefore(r))return!1;delete e.profileUpdateFailed[n]}return k()(s).add(i,"hours").isBefore(r)}}}catch(t){}return!1})),t.next=7,Promise.allSettled(n.map((function(e){var t=e.url;e=e.headers;return Object(Q.a)({url:t,headersString:e})})));case 7:o=t.sent,r=0;case 9:if(!(r<o.length)){t.next=19;break}if(l=o[r].value,s=l.success,a=l.message,c=l.targetIndex,l=n[r].url,s&&c===e.profiles.index)return t.next=15,e.refreshProfile();t.next=15;break;case 15:a&&(P.warn("无法使用 url 更新配置资料: ".concat(l)),Object(H.j)("配置资料更新失败",l),e.profileUpdateFailed.hasOwnProperty(l)||(e.profileUpdateFailed[l]=i()));case 16:r++,t.next=9;break;case 19:c=e.profiles.files,d=(void 0===c?[]:c).map((function(e){return e.time})),R.a.readdir(j.a.join(e.profilesPath),(function(t,i){!t&&0<i.length&&i.forEach((function(t){var i,n;/^\d+\.yml$/.test(t)&&(i=!1,(i=(n=R.a.statSync(j.a.join(e.profilesPath,t)).mtimeMs)?k()(n).isBefore(k()().subtract(1,"month")):i)&&!d.includes(t)&&R.a.unlinkSync(j.a.join(e.profilesPath,t)))}))}));case 22:case"end":return t.stop()}}),t)})))()},rebindShortcut:function(e,t,i){var n=this;return d()(u.a.mark((function o(){var r;return u.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(t)return o.prev=1,o.next=4,m.ipcRenderer.invoke("globalShortcut","unregister",t);o.next=9;break;case 4:delete n.shortcuts[t],o.next=9;break;case 7:o.prev=7,o.t0=o.catch(1);case 9:if(e)return o.prev=10,o.next=13,m.ipcRenderer.invoke("globalShortcut","register",e);o.next=23;break;case 13:return o.next=15,m.ipcRenderer.invoke("globalShortcut","isRegistered",e);case 15:return(r=o.sent)&&(n.shortcuts[e]=i),o.abrupt("return",r);case 20:o.prev=20,o.t1=o.catch(10),console.error(o.t1);case 23:return o.abrupt("return",!1);case 24:case"end":return o.stop()}}),o,null,[[1,7],[10,20]])})))()},detectInterfaceName:function(){var e=Object(U.a)();e&&e!==this.detectedInterfaceName&&this.setDetectedInterfaceName({interfaceName:e})},quit:function(){var e=this;return d()(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return P.info("应用退出, 关闭系统代理"),t.next=3,e.killClashCore();case 3:if(e.resetDNS(),t.prev=4,e.isSystemProxyOn)return t.next=8,e.$setSystemProxy(!1);t.next=8;break;case 8:t.next=12;break;case 10:t.prev=10,t.t0=t.catch(4);case 12:return t.prev=12,m.ipcRenderer.send("cleanup-done"),t.finish(12);case 15:case"end":return t.stop()}}),t,null,[[4,10,12,15]])})))()}}),mounted:function(){var e=this;window.addEventListener("online",(function(){P.info("network online"),e.detectInterfaceName()})),m.ipcRenderer.on("wlan-status-changed",ue.debounce((function(t,i){["ssidDidChangeForWiFiInterfaceWithName","wlan_notification_acm_connection_complete"].includes(null==i?void 0:i.code)&&(P.info("wlan-status-changed: ".concat(JSON.stringify(i))),e.setSSIDOptions())}),200)),m.ipcRenderer.on("wlan-status-listen-error",(function(t,i){P.error("failed to listen network change nativly: ".concat(i)),window.addEventListener("online",(function(){e.setSSIDOptions()}))})),m.ipcRenderer.invoke("wlan-status-wanted")},beforeDestroy:function(){},beforeMount:function(){var e=this;return d()(u.a.mark((function t(){var n,o,r,a,c,h,v,b,_,w,C,y,x,S,k,D;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.ipcRenderer.invoke("window","isVisible");case 2:return n=t.sent,e.setIsWindowShow({isShow:n}),e.startTime=(new Date).getTime(),t.t0=e,t.next=8,m.ipcRenderer.invoke("app","isPackaged");case 8:if(t.t1=!t.sent,t.t2={isDevMode:t.t1},t.t0.setIsDevMode.call(t.t0,t.t2),P.info("应用程序以模式开始: ".concat(e.devMode?"dev":"production")),e.$router.replace({path:e.currentRoutePath}).catch((function(e){})),!e.devMode){t.next=17;break}t.t3="",t.next=20;break;case 17:return t.next=19,m.ipcRenderer.invoke("app","getPath","exe");case 19:t.t3=t.sent;case 20:o=t.t3,e.setExePath({path:o}),(h=g.a.get(O.a.LAST_CLASH_PID))&&e.killSpawned({pid:h}),v=g.a.get(O.a.LAST_USER_EXE_PIDS)||[],r=le(v);try{for(r.s();!(a=r.n()).done;)c=a.value,e.killSpawned({pid:c})}catch(t){r.e(t)}finally{r.f()}return t.t4=e,t.next=30,m.ipcRenderer.invoke("nativeTheme","shouldUseDarkColors");case 30:return t.t5=t.sent,t.t6={shouldUseDarkTheme:t.t5},t.t4.setShouldUseDarkTheme.call(t.t4,t.t6),m.ipcRenderer.on("native-theme-updated",(function(t,i){e.setShouldUseDarkTheme({shouldUseDarkTheme:i})})),m.ipcRenderer.on("shortcut-pressed",function(){var t=d()(u.a.mark((function t(i,n){var o;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=e.shortcuts[n],t.next=3,o();case 3:case"end":return t.stop()}}),t)})));return function(e,i){return t.apply(this,arguments)}}()),m.ipcRenderer.send("clash-core-status-change",0),m.ipcRenderer.on("break-connections",(function(t,i){e.breakConnections(i)})),m.ipcRenderer.on("persist-selected-proxy",(function(){e.persistSelectedProxy()})),m.ipcRenderer.on("app-exit",e.quit),m.ipcRenderer.on("power-event",(function(t,i){e.setIsAppSuspend({isSuspend:"suspend"===i})})),m.ipcRenderer.on("system-proxy-changed",function(){var t=d()(u.a.mark((function t(i,n){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$setSystemProxy(n,e.confData);case 2:if(!t.sent){t.next=4;break}e.setIsSystemProxyOn({isOn:n});case 4:case"end":return t.stop()}}),t)})));return function(e,i){return t.apply(this,arguments)}}()),m.ipcRenderer.send("mixin-changed",e.isMixinEnable),m.ipcRenderer.on("mixin-changed",(function(t,i){e.changeIsMixinEnable({isMixin:i}),e.refreshProfile()})),m.ipcRenderer.send("tun-changed",e.isTunEnable),m.ipcRenderer.on("tun-changed",(function(t,i){e.chagneIsTunEnable({isTun:i}),e.refreshProfile()})),m.ipcRenderer.on("run-tray-script",e.runTrayScript),m.ipcRenderer.on("mode-changed",(function(t,i){e.switchMode(i)})),m.ipcRenderer.on("app-open",function(){var t=d()(u.a.mark((function t(i,n){var o,r,s;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n.find((function(e){return/clash:\/\/install-config\/?\?url=(.+?)(?=$|&)/.test(e)}))){t.next=11;break}if(r=decodeURIComponent(RegExp.$1.trim()),/^https?:\/\//.test(r))return t.next=5,Object(Q.a)({url:r});t.next=11;break;case 5:s=t.sent,o=s.success,r=s.message,s=s.targetIndex,Object(H.j)("Profile",o?"配置资料已成功下载.":r),o&&(e.changeProfileIndex({index:s}),e.refreshProfile());case 11:if(n.find((function(e){return/clash:\/\/quit/.test(e)})))return t.next=14,e.quit();t.next=14;break;case 14:case"end":return t.stop()}}),t)})));return function(e,i){return t.apply(this,arguments)}}()),m.ipcRenderer.on("menu-item-change",(function(t,i){e.$router.replace({path:"/home/".concat(i)})})),m.ipcRenderer.on("window-event",(function(t,i){["show","hide"].includes(i)?e.setIsWindowShow({isShow:"show"===i}):"close"!==i||void 0!==(i=e.settings.lightweightMode)&&i&&!e.isLocalMode&&(g.a.put(O.a.IS_LIGHTWEIGHT_MODE_CLOSE,!0),m.ipcRenderer.send("cleanup-done"))})),t.next=52,m.ipcRenderer.invoke("app","getPath","home");case 52:return h=t.sent,v=j.a.join(o,"../data"),b=j.a.join(h,"/.config/clash"),R.a.existsSync(v)&&(b=v,e.portableMode=!0),e.userPath=h,e.setClashPath({path:b}),t.next=60,e.initConfigFolder();case 60:if(e.loadConfData(),Object(f.k)()&&ie().then((function(t){e.setUserDNS({dns:t})})).catch((function(e){P.info("faile to get user dns setting with error: ".concat(e))})),e.loadSettings(),Object(f.l)())return t.prev=64,t.next=67,function(){return Y.apply(this,arguments)}();t.next=73;break;case 67:P.info("http服务器开始于: ".concat(e.innerServerPort)),t.next=73;break;case 70:t.prev=70,t.t7=t.catch(64),P.info("http 服务器因错误而无法启动: ".concat(t.t7));case 73:if(b=g.a.get(O.a.IS_LIGHTWEIGHT_MODE_CLOSE)||!1,_=e.settings,S=_.hideTrayIcon,_=_.hideAfterStartup,!S&&!b&&_||m.ipcRenderer.invoke("window-control","show"),e.settings.fontFamily,S=e.settings.profilePath,e.setProfilesPath({path:S||j.a.join(e.clashPath,"profiles")}),e.initProfilesFolder(),e.loadProfiles(),_=e.settings,S=void 0===(S=_.randomControllerPort)||S,_=_.randomMixedPort,e.devMode||b){t.next=106;break}if(t.prev=83,S)return w="external-controller",t.t8="127.0.0.1:",t.next=89,fe();t.next=94;break;case 89:return t.t9=t.sent,C=t.t8.concat.call(t.t8,t.t9),t.next=93,Object(H.l)(j.a.join(e.clashPath,"config.yaml"),w,C);case 93:e.setConfData({data:he(he({},e.confData),{},s()({},w,C))});case 94:if(_)return y="mixed-port",t.next=98,fe();t.next=102;break;case 98:return x=t.sent,t.next=101,Object(H.l)(j.a.join(e.clashPath,"config.yaml"),y,x);case 101:e.setConfData({data:he(he({},e.confData),{},s()({},y,x))});case 102:t.next=106;break;case 104:t.prev=104,t.t10=t.catch(83);case 106:return t.next=108,ve();case 108:return S=t.sent,e.setIsLocalMode({isLocal:S!==be.Active}),k=0,(D=function(){var t=d()(u.a.mark((function t(){var i;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((e.clashStatus!==p.a.CONNECTED||e.isWindowShow)&&e.clashAxiosFlyingRequestCount<5)return t.next=3,e.getClashStatus();t.next=12;break;case 3:i=t.sent,t.t0=i,t.next=t.t0===p.a.CONNECTED?7:t.t0===p.a.DISCONNECTED?9:11;break;case 7:return k=0,t.abrupt("break",11);case 9:return k+=1,t.abrupt("break",11);case 11:k>=(i===p.a.CONNECTED?0:5)&&(k=0,e.setClashStatus({status:i}));case 12:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}())(),l()(Array(5)).forEach((function(e,t){setTimeout(D,500+500*t)})),setInterval(D,3e3),t.next=117,e.handlerRestartClash();case 117:if(g.a.put(O.a.IS_LIGHTWEIGHT_MODE_CLOSE,!1),e.showStartup||(e.showStartup=!0,Object(f.l)()&&i(182).release().startsWith("6.")?Object(H.j)("Attention","The support for Windows 7 will be dropped soon in 2023 due to upstream changes. Click to learn more.",{hideWindowOnClick:!0},(function(){m.shell.openExternal("https://cloud.google.com/blog/products/chrome-enterprise/extending-chrome-on-windows-7-to-support-enterprise-customers")})):Object(H.j)("Clash 正在后台运行","享受您的自由时间!")),e.detectInterfaceName(),e.setSSIDOptions(),e.spawnUserDefindExes(),e.checkForUpdate().then((function(e){})).catch((function(e){return console.error(e)})),setInterval(e.checkForUpdate,216e5),e.preDownloadAds().then((function(e){})).catch((function(e){return console.error(e)})),setInterval(e.profileUpdater,6e4),e.profileUpdater(),Object(f.l)())return t.t11=e,t.next=131,Object(re.b)();t.next=134;break;case 131:t.t12=t.sent,t.t13={isExist:t.t12},t.t11.setIsFirewallRuleExist.call(t.t11,t.t13);case 134:pe.bind(["command+f12","ctrl+f12"],(function(){return m.ipcRenderer.invoke("webContent","toggleDevTools"),!1})),pe.bind(["command+w","ctrl+w"],(function(e){if(!e.target.className.split(" ").includes("no-esc"))return m.ipcRenderer.invoke("window","close"),!1})),pe.bind("esc",(function(e){if(!e.target.className.split(" ").includes("no-esc"))return m.ipcRenderer.invoke("window","close"),!1}),"keydown");case 137:case"end":return t.stop()}}),t,null,[[64,70],[83,104]])})))()}},i(557),i(559),i(561),n=Object(h.a)(n,(function(){var e=this,t=e.$createElement;return(t=e._self._c||t)("div",{staticClass:"wrapper bg-[color:var(--bgc)] text-[color:var(--fgc)]"},["2077"===e.theme?t("img",{staticClass:"cloud opacicy",attrs:{src:"static/imgs/2077.png"}}):e._e(),e._v(" "),"red"===e.theme?t("img",{staticClass:"cloud opacicy",attrs:{src:"static/imgs/national_day.png"}}):e._e(),e._v(" "),t("StatusBar"),e._v(" "),t("main",[t("div",{staticClass:"left-side"},[t("main-menu",{attrs:{"download-progress":e.pkgDownloadProgress,"start-time":e.startTime}})],1),e._v(" "),t("div",{staticClass:"right-side"},[t("keep-alive",[e.$route.meta.keepAlive?t("router-view",{on:{refreshProfile:e.refreshProfile}}):e._e()],1),e._v(" "),e.$route.meta.keepAlive?e._e():t("router-view",{on:{refreshProfile:e.refreshProfile}})],1),e._v(" "),t("div",{staticClass:"clash-status-main"},[t("div",{class:e.statusIcon}),e._v(" "),t("div",{staticClass:"clash-status-hint",on:{click:function(){return e.showLogsFolder()}}},[e._v("\n        "+e._s(e.statusHint)+"\n      ")])])])],1)}),[],!1,null,"37ef8bd3",null);t.default=n.exports},function(e,t,i){"use strict";i.r(t);var n={};i.r(n),i.d(n,"install",(function(){return v}));var o={};i.r(o),i.d(o,"install",(function(){return O}));var r={};i.r(r),i.d(r,"install",(function(){return F}));var s=i(13),a=i.n(s),l=i(31),c=i.n(l),d=i(7),h=i.n(d),u=i(166),g=(i(368),i(24)),p=i(25),f={name:"Clash",watch:{theme:{immediate:!0,handler:function(e){document.body.className="theme-".concat(e)}}}};i(371),t=i(37),s=Object(t.a)(f,(function(){var e=this.$createElement;return(e=this._self._c||e)("div",{attrs:{id:"app"}},[e("router-view")],1)}),[],!1,null,null,null).exports,l=i(273),d=i.n(l);u.a.use(d.a);t=new d.a({routes:[{path:"/home",name:"landing-page",component:i(685).default,children:[{path:"general",component:i(683).default,meta:{keepAlive:!0}},{path:"proxy",component:i(688).default,meta:{keepAlive:!0}},{path:"provider",component:i(689).default,meta:{keepAlive:!0}},{path:"log",component:i(696).default},{path:"server",component:i(684).default,meta:{keepAlive:!0}},{path:"connection",component:i(690).default,meta:{keepAlive:!0}},{path:"router",component:i(687).default,meta:{keepAlive:!0}},{path:"setting",component:i(682).default,meta:{keepAlive:!0}},{path:"about",component:i(691).default,meta:{keepAlive:!0}}]},{path:"*",redirect:"/home/general"}],saveScrollPosition:!0}),f=i(51);var m=/(?:\ud83d\udc68\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffc-\udfff]|\ud83d\udc68\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffd-\udfff]|\ud83d\udc68\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc68\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffd\udfff]|\ud83d\udc68\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffe]|\ud83d\udc69\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffc-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffc-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffd-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb\udffd-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc69\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc69\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffd\udfff]|\ud83d\udc69\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb-\udffd\udfff]|\ud83d\udc69\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffe]|\ud83d\udc69\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb-\udffe]|\ud83e\uddd1\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\u200d\ud83e\udd1d\u200d\ud83e\uddd1|\ud83d\udc6b\ud83c[\udffb-\udfff]|\ud83d\udc6c\ud83c[\udffb-\udfff]|\ud83d\udc6d\ud83c[\udffb-\udfff]|\ud83d[\udc6b-\udc6d])|(?:\ud83d[\udc68\udc69]|\ud83e\uddd1)(?:\ud83c[\udffb-\udfff])?\u200d(?:\u2695\ufe0f|\u2696\ufe0f|\u2708\ufe0f|\ud83c[\udf3e\udf73\udf93\udfa4\udfa8\udfeb\udfed]|\ud83d[\udcbb\udcbc\udd27\udd2c\ude80\ude92]|\ud83e[\uddaf-\uddb3\uddbc\uddbd])|(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75]|\u26f9)((?:\ud83c[\udffb-\udfff]|\ufe0f)\u200d[\u2640\u2642]\ufe0f)|(?:\ud83c[\udfc3\udfc4\udfca]|\ud83d[\udc6e\udc71\udc73\udc77\udc81\udc82\udc86\udc87\ude45-\ude47\ude4b\ude4d\ude4e\udea3\udeb4-\udeb6]|\ud83e[\udd26\udd35\udd37-\udd39\udd3d\udd3e\uddb8\uddb9\uddcd-\uddcf\uddd6-\udddd])(?:\ud83c[\udffb-\udfff])?\u200d[\u2640\u2642]\ufe0f|(?:\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d[\udc68\udc69]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc68|\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d[\udc68\udc69]|\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83c\udff3\ufe0f\u200d\u26a7\ufe0f|\ud83c\udff3\ufe0f\u200d\ud83c\udf08|\ud83c\udff4\u200d\u2620\ufe0f|\ud83d\udc15\u200d\ud83e\uddba|\ud83d\udc41\u200d\ud83d\udde8|\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc6f\u200d\u2640\ufe0f|\ud83d\udc6f\u200d\u2642\ufe0f|\ud83e\udd3c\u200d\u2640\ufe0f|\ud83e\udd3c\u200d\u2642\ufe0f|\ud83e\uddde\u200d\u2640\ufe0f|\ud83e\uddde\u200d\u2642\ufe0f|\ud83e\udddf\u200d\u2640\ufe0f|\ud83e\udddf\u200d\u2642\ufe0f)|[#*0-9]\ufe0f?\u20e3|(?:[©®\u2122\u265f]\ufe0f)|(?:\ud83c[\udc04\udd70\udd71\udd7e\udd7f\ude02\ude1a\ude2f\ude37\udf21\udf24-\udf2c\udf36\udf7d\udf96\udf97\udf99-\udf9b\udf9e\udf9f\udfcd\udfce\udfd4-\udfdf\udff3\udff5\udff7]|\ud83d[\udc3f\udc41\udcfd\udd49\udd4a\udd6f\udd70\udd73\udd76-\udd79\udd87\udd8a-\udd8d\udda5\udda8\uddb1\uddb2\uddbc\uddc2-\uddc4\uddd1-\uddd3\udddc-\uddde\udde1\udde3\udde8\uddef\uddf3\uddfa\udecb\udecd-\udecf\udee0-\udee5\udee9\udef0\udef3]|[\u203c\u2049\u2139\u2194-\u2199\u21a9\u21aa\u231a\u231b\u2328\u23cf\u23ed-\u23ef\u23f1\u23f2\u23f8-\u23fa\u24c2\u25aa\u25ab\u25b6\u25c0\u25fb-\u25fe\u2600-\u2604\u260e\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262a\u262e\u262f\u2638-\u263a\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267b\u267f\u2692-\u2697\u2699\u269b\u269c\u26a0\u26a1\u26a7\u26aa\u26ab\u26b0\u26b1\u26bd\u26be\u26c4\u26c5\u26c8\u26cf\u26d1\u26d3\u26d4\u26e9\u26ea\u26f0-\u26f5\u26f8\u26fa\u26fd\u2702\u2708\u2709\u270f\u2712\u2714\u2716\u271d\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u2764\u27a1\u2934\u2935\u2b05-\u2b07\u2b1b\u2b1c\u2b50\u2b55\u3030\u303d\u3297\u3299])(?:\ufe0f|(?!\ufe0e))|(?:(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75\udd90]|[\u261d\u26f7\u26f9\u270c\u270d])(?:\ufe0f|(?!\ufe0e))|(?:\ud83c[\udf85\udfc2-\udfc4\udfc7\udfca]|\ud83d[\udc42\udc43\udc46-\udc50\udc66-\udc69\udc6e\udc70-\udc78\udc7c\udc81-\udc83\udc85-\udc87\udcaa\udd7a\udd95\udd96\ude45-\ude47\ude4b-\ude4f\udea3\udeb4-\udeb6\udec0\udecc]|\ud83e[\udd0f\udd18-\udd1c\udd1e\udd1f\udd26\udd30-\udd39\udd3d\udd3e\uddb5\uddb6\uddb8\uddb9\uddbb\uddcd-\uddcf\uddd1-\udddd]|[\u270a\u270b]))(?:\ud83c[\udffb-\udfff])?|(?:\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc65\udb40\udc6e\udb40\udc67\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc73\udb40\udc63\udb40\udc74\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc77\udb40\udc6c\udb40\udc73\udb40\udc7f|\ud83c\udde6\ud83c[\udde8-\uddec\uddee\uddf1\uddf2\uddf4\uddf6-\uddfa\uddfc\uddfd\uddff]|\ud83c\udde7\ud83c[\udde6\udde7\udde9-\uddef\uddf1-\uddf4\uddf6-\uddf9\uddfb\uddfc\uddfe\uddff]|\ud83c\udde8\ud83c[\udde6\udde8\udde9\uddeb-\uddee\uddf0-\uddf5\uddf7\uddfa-\uddff]|\ud83c\udde9\ud83c[\uddea\uddec\uddef\uddf0\uddf2\uddf4\uddff]|\ud83c\uddea\ud83c[\udde6\udde8\uddea\uddec\udded\uddf7-\uddfa]|\ud83c\uddeb\ud83c[\uddee-\uddf0\uddf2\uddf4\uddf7]|\ud83c\uddec\ud83c[\udde6\udde7\udde9-\uddee\uddf1-\uddf3\uddf5-\uddfa\uddfc\uddfe]|\ud83c\udded\ud83c[\uddf0\uddf2\uddf3\uddf7\uddf9\uddfa]|\ud83c\uddee\ud83c[\udde8-\uddea\uddf1-\uddf4\uddf6-\uddf9]|\ud83c\uddef\ud83c[\uddea\uddf2\uddf4\uddf5]|\ud83c\uddf0\ud83c[\uddea\uddec-\uddee\uddf2\uddf3\uddf5\uddf7\uddfc\uddfe\uddff]|\ud83c\uddf1\ud83c[\udde6-\udde8\uddee\uddf0\uddf7-\uddfb\uddfe]|\ud83c\uddf2\ud83c[\udde6\udde8-\udded\uddf0-\uddff]|\ud83c\uddf3\ud83c[\udde6\udde8\uddea-\uddec\uddee\uddf1\uddf4\uddf5\uddf7\uddfa\uddff]|\ud83c\uddf4\ud83c\uddf2|\ud83c\uddf5\ud83c[\udde6\uddea-\udded\uddf0-\uddf3\uddf7-\uddf9\uddfc\uddfe]|\ud83c\uddf6\ud83c\udde6|\ud83c\uddf7\ud83c[\uddea\uddf4\uddf8\uddfa\uddfc]|\ud83c\uddf8\ud83c[\udde6-\uddea\uddec-\uddf4\uddf7-\uddf9\uddfb\uddfd-\uddff]|\ud83c\uddf9\ud83c[\udde6\udde8\udde9\uddeb-\udded\uddef-\uddf4\uddf7\uddf9\uddfb\uddfc\uddff]|\ud83c\uddfa\ud83c[\udde6\uddec\uddf2\uddf3\uddf8\uddfe\uddff]|\ud83c\uddfb\ud83c[\udde6\udde8\uddea\uddec\uddee\uddf3\uddfa]|\ud83c\uddfc\ud83c[\uddeb\uddf8]|\ud83c\uddfd\ud83c\uddf0|\ud83c\uddfe\ud83c[\uddea\uddf9]|\ud83c\uddff\ud83c[\udde6\uddf2\uddfc]|\ud83c[\udccf\udd8e\udd91-\udd9a\udde6-\uddff\ude01\ude32-\ude36\ude38-\ude3a\ude50\ude51\udf00-\udf20\udf2d-\udf35\udf37-\udf7c\udf7e-\udf84\udf86-\udf93\udfa0-\udfc1\udfc5\udfc6\udfc8\udfc9\udfcf-\udfd3\udfe0-\udff0\udff4\udff8-\udfff]|\ud83d[\udc00-\udc3e\udc40\udc44\udc45\udc51-\udc65\udc6a\udc6f\udc79-\udc7b\udc7d-\udc80\udc84\udc88-\udca9\udcab-\udcfc\udcff-\udd3d\udd4b-\udd4e\udd50-\udd67\udda4\uddfb-\ude44\ude48-\ude4a\ude80-\udea2\udea4-\udeb3\udeb7-\udebf\udec1-\udec5\uded0-\uded2\uded5\udeeb\udeec\udef4-\udefa\udfe0-\udfeb]|\ud83e[\udd0d\udd0e\udd10-\udd17\udd1d\udd20-\udd25\udd27-\udd2f\udd3a\udd3c\udd3f-\udd45\udd47-\udd71\udd73-\udd76\udd7a-\udda2\udda5-\uddaa\uddae-\uddb4\uddb7\uddba\uddbc-\uddca\uddd0\uddde-\uddff\ude70-\ude73\ude78-\ude7a\ude80-\ude82\ude90-\ude95]|[\u23e9-\u23ec\u23f0\u23f3\u267e\u26ce\u2705\u2728\u274c\u274e\u2753-\u2755\u2795-\u2797\u27b0\u27bf\ue50a])|\ufe0f/g;function v(e,t){t.store,e.prototype.$removeEmoji=function(e){return e.replace(m,"")}}var b=i(61),_=(i(87),i(53)),w=i.n(_),C=(l=i(66),i.n(l)),y=i(262),x=i(223),S=(i(39),i(86)),k=i(96),D=i(20),L="127.0.0.1";function O(e,t){var i,n=t.store;e.prototype.$setSystemProxy=(i=a()(h.a.mark((function e(t){var i,o,r,s,a,l,c,d,u,g,f,m,v;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(C.a.info("set system proxy to",t),o=n.state.app.settings,c=o.bypassText,a=o.staticSystemProxyHost,i=void 0===a?L:a,o=[],c)try{r=_.parse(c),s=r.bypass,o=(void 0===s?[]:s)||[]}catch(e){}else o=y.a;if(e.prev=5,0===(a=n.getters.mixedPort))return e.abrupt("return",!1);e.next=9;break;case 9:if(l=!1,Object(p.k)())return c=t?["-http","".concat(i||L,":").concat(a),"-https","".concat(i||L,":").concat(a),"-socks","".concat(i||L,":").concat(a)]:["-stop"],e.next=14,Object(x.a)(c);e.next=24;break;case 14:if(e.sent.success)return e.next=19,Object(x.a)(["-bypass",o.join(",")]);e.next=22;break;case 19:e.sent.success&&(l=!0,n.commit("CHANGE_STATUS",{status:t?b.b.SYSTEM_PROXY:b.b.DEFAULT}));case 22:e.next=46;break;case 24:if(!Object(p.l)()){e.next=46;break}if(g=n.state.app.settings,u=g.systemProxyTypeIndex,d=void 0===u?0:u,f=g.specifyHttpProxyProtocol,u=void 0!==f&&f,g=D.join(n.getters.filesPath,"win","common"),f=["set","1"],!t){e.next=44;break}if(m=i||L,0!==d){e.next=36;break}v="".concat(m,":").concat(a),(f=["global",u?"http=http://".concat(v,";https=http://").concat(v):v]).push(o.join(";")),e.next=44;break;case 36:e.prev=36,v="http://".concat(m,":").concat(n.state.app.innerServerPort,"/pac?t=").concat((new Date).getTime()),f=["pac",v],e.next=44;break;case 41:return e.prev=41,e.t0=e.catch(36),e.abrupt("return",!1);case 44:0===k.spawnSync("sysproxy.exe",f,{cwd:g,windowsHide:!0}).status&&(l=!0,n.commit("CHANGE_STATUS",{status:t?b.b.SYSTEM_PROXY:b.b.DEFAULT}));case 46:return e.abrupt("return",l);case 49:e.prev=49,e.t1=e.catch(5),console.error(e.t1.stack);case 52:return e.abrupt("return",!1);case 53:case"end":return e.stop()}}),e,null,[[5,49],[36,41]])}))),function(e){return i.apply(this,arguments)}),e.prototype.$getSystemProxyStatus=function(){var e=!1;if(Object(p.k)()){var t=n.state.app.clashPath,i=(t=(i=k.spawnSync("./sysproxy",["-show"],{cwd:t,windowsHide:!0})).error,i.output);return!t&&(i&&(o=i.toString(),/socks=/.test(o)&&(e=!0)),n.commit("CHANGE_STATUS",{status:e?b.b.SYSTEM_PROXY:b.b.DEFAULT}),e)}var o=D.join(n.getters.filesPath,"win","common");return(o=k.spawnSync("sysproxy.exe",["query"],{cwd:o,windowsHide:!0})).error&&(e=!1),0===o.status&&o.stdout&&(e=51===o.stdout[0]||53===o.stdout[0]),n.commit("CHANGE_STATUS",{status:e?b.b.SYSTEM_PROXY:b.b.DEFAULT}),e},e.prototype.$getTrayIcon=function(e){var t,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"rule",o=void 0===(t=(r=n.state.app).clashPath)?"":t,r=(t=void 0===(s=r.settings)?{}:s).iconSystemProxy,s=t.iconDefault;return void 0!==(t=t.useModeIcons)&&t?D.join(__static,"tray","win","".concat(e?"on":"off","_").concat(i,".png")):e?r?D.isAbsolute(r)?r:D.join(o,r):D.join(__static,"tray","win","tray_reverse.ico"):s?D.isAbsolute(s)?s:D.join(o,s):D.join(__static,"tray","win","tray_normal.ico")}}d=i(43);var E=i.n(d),N=(l=i(57),i.n(l)),I=i(20),T=i.n(I),M=i(30),A=i.n(M);function P(e){return R.apply(this,arguments)}function R(){return(R=a()(h.a.mark((function e(t){var i,n,o,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Object(p.j)())return e.next=3,Promise.all([["getVersion"],["getPath","exe"],["getPath","home"]].map((function(e){return g.ipcRenderer.invoke.apply(g.ipcRenderer,["app"].concat(E()(e)))})));e.next=14;break;case 3:o=e.sent,n=N()(o,3),i=n[0],r=n[1],o=n[2],n=Object(I.join)(o,".config","autostart"),o=Object(I.join)(n,"cfw.desktop"),r="[Desktop Entry]\n    Type=Application\n    Version=".concat(i,'\n    Name=Clash for Windows\n    Comment=Clash for Windows startup script\n    Exec="').concat(r,'"\n    StartupNotify=false\n    Terminal=false'),t?(Object(M.existsSync)(n)||Object(M.mkdirSync)(n),Object(M.writeFileSync)(o,r)):Object(M.existsSync)(o)&&Object(M.unlinkSync)(o),e.next=16;break;case 14:return e.next=16,g.ipcRenderer.invoke("app","setLoginItemSettings",{openAtLogin:t});case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(e){e.prototype.$setAutoLaunch=P}function j(e,t){var i,n=Object.keys(e);return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(e),t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)),n}function B(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?j(Object(i),!0).forEach((function(t){c()(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):j(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}i(97);var W=i(657);d={install:function(e,t){var i=t.store;W.keys().forEach((function(t){var n=t.replace(/(\.\/|\.vue)/g,""),o=new(e.extend(B(B({},W(t).default),{},{store:i})));t=o.$mount().$el;document.body.appendChild(t),e.prototype["$".concat(n)]=o.show}))}},l=i(33);function V(e,t){var i,n=Object.keys(e);return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(e),t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)),n}function z(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?V(Object(i),!0).forEach((function(t){c()(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):V(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}u.a.use(d,{store:f.a}),process.env.IS_WEB||u.a.use(i(680)),u.a.use(n,{store:f.a}),u.a.use(o,{store:f.a}),u.a.use(r),u.a.config.productionTip=!1,u.a.mixin({data:function(){return{mixinScrollTop:0}},computed:z(z(z(z({},Object(l.mapState)({clashPath:function(e){return e.app.clashPath}})),{},{isWindows:function(){return Object(p.l)()},isMacOS:function(){return Object(p.k)()},isLinux:function(){return Object(p.j)()}},Object(l.mapState)({sts:function(e){return e.app.settings}})),Object(l.mapGetters)({theme:"theme"})),{},{settings:function(){var e=this;if(this.sts)return new Proxy(S.cloneDeep(this.sts),{get:function(e,t){return e[t]},set:function(t,i,n){return t[i]=n,e.saveSettingsObject({obj:S.cloneDeep(t)}),!0}})}}),methods:z(z({},Object(l.mapMutations)({saveSettingsObject:"SAVE_SETTINGS_OBJECT",setSettingsObject:"SET_SETTINGS_OBJECT"})),{},{reloadElectron:function(){return a()(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.ipcRenderer.invoke("app","relaunch");case 2:return e.next=4,g.ipcRenderer.invoke("app","exit",0);case 4:case"end":return e.stop()}}),e)})))()},loadSettings:function(){var e={};try{var t=A.a.readFileSync(T.a.join(this.clashPath,"cfw-settings.yaml")).toString();e=w.a.parse(t)}catch(e){}var i=void 0===(r=(l=e).showNewVersionIcon)||r,n=void 0!==(a=l.hideAfterStartup)&&a,o=void 0===(s=l.randomControllerPort)||s,r=void 0===(t=l.runTimeFormat)?"hh : mm : ss":t,s=void 0===(a=l.trayOrders)?[["icon"],["status","traffic","text"]]:a,a=void 0!==(t=l.hideTrayIcon)&&t,l=(t=void 0===(t=l.connShowProcess)||t,void 0===(l=l.showTrayProxyDelayIndicator)||l);this.setSettingsObject({obj:z(z({},e),{},{showNewVersionIcon:i,hideAfterStartup:n,randomControllerPort:o,runTimeFormat:r,trayOrders:s,hideTrayIcon:a,connShowProcess:t,showTrayProxyDelayIndicator:l})})}}),beforeRouteEnter:function(e,t,i){i((function(e){var t,i=e.$refs["mixin-scroll-content"];i&&((t="$el"in i?i.$el:i).style.scrollBehavior="auto",setTimeout((function(){t.style.scrollBehavior="smooth"}),1),e.$nextTick((function(){t.scrollTop=e.mixinScrollTop})))}))},beforeRouteLeave:function(e,t,i){var n=this.$refs["mixin-scroll-content"];n&&(this.mixinScrollTop="$el"in n?n.$el.scrollTop:n.scrollTop),i()}}),new u.a({components:{App:s},router:t,store:f.a,template:"<App/>"}).$mount("#app")},function(e,t,i){"use strict";i.r(t);var n=i(13),o=i.n(n),r=i(43),s=i.n(r),a=i(31),l=i.n(a),c=(n=i(7),i.n(n)),d=i(24),h=(r=i(33),i(40)),u=(a=i(366),i.n(a)),g=i(51),p=i(41),f=(n=i(57),i.n(n)),m=i(191);a={name:"RouterConfigView",data:function(){return{interfaces:[],selectedName:"",localAddress:"",rangeFrom:"",rangeTo:"",netmask:"255.255.255.0",defaultRouter:"",primaryDns:"223.5.5.5",secondlyDns:"114.114.114.114",broadAddress:""}},computed:{selectedInterface:function(){var e=this;return this.interfaces.find((function(t){return t.name===e.selectedName}))}},watch:{selectedInterface:function(e){e=e.address,this.localAddress=e,this.computeFromLocalAddress(e)}},methods:{computeFromLocalAddress:function(e){4===(e=e.split(".")).length&&(this.rangeFrom=[].concat(s()(e.slice(0,3)),["100"]).join("."),this.rangeTo=[].concat(s()(e.slice(0,3)),["200"]).join("."),this.defaultRouter=[].concat(s()(e.slice(0,3)),["1"]).join("."),this.broadAddress=[].concat(s()(e.slice(0,3)),["255"]).join("."))},handleInterfaceSelect:function(){var e=this;return o()(c.a.mark((function t(){var i,n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=e.interfaces.map((function(e){return e.name})),t.next=3,e.$select({title:"选择一个接口",message:"",items:i});case 3:n=t.sent,n=(n=f()(n,1))[0],e.selectedName=i[n];case 7:case"end":return t.stop()}}),t)})))()},handleContinueClick:function(){this.$emit("confirm",{localAddress:this.localAddress,rangeFrom:this.rangeFrom,rangeTo:this.rangeTo,netmask:this.netmask,defaultRouter:this.defaultRouter,primaryDns:this.primaryDns,secondlyDns:this.secondlyDns,broadAddress:this.broadAddress})}},mounted:function(){this.interfaces=Object(m.b)()||[],0<this.interfaces.length&&(this.selectedName=this.interfaces[0].name)}},i(631),n=i(37);function v(e,t){var i,n=Object.keys(e);return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(e),t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)),n}function b(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?v(Object(i),!0).forEach((function(t){l()(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):v(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}r={name:"RouterView",components:{ConfigView:Object(n.a)(a,(function(){var e=this,t=e.$createElement;return(t=e._self._c||t)("div",{staticClass:"main-router-config-view bg-[color:var(--mask-c)]",on:{click:function(t){return e.$emit("close")}}},[t("div",{staticClass:"content bg-[color:var(--bgc)] text-[color:var(--fgc)]",on:{click:function(e){e.stopPropagation()}}},[t("div",{staticClass:"title"},[e._v("配置")]),e._v(" "),t("div",{staticClass:"sec"},[t("span",[e._v("Interface")]),e._v(" "),t("input",{staticClass:"clickable",attrs:{readonly:""},domProps:{value:e.selectedName},on:{click:e.handleInterfaceSelect}})]),e._v(" "),t("div",{staticClass:"sec"},[t("span",[e._v("本地 IP 地址")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.localAddress,expression:"localAddress"}],attrs:{type:"text"},domProps:{value:e.localAddress},on:{input:function(t){t.target.composing||(e.localAddress=t.target.value)}}})]),e._v(" "),t("div",{staticClass:"sec"},[t("span",[e._v("DHCP IP Range")]),e._v(" "),t("div",{staticClass:"flex"},[t("div",[t("span",[e._v("From")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.rangeFrom,expression:"rangeFrom"}],attrs:{type:"text"},domProps:{value:e.rangeFrom},on:{input:function(t){t.target.composing||(e.rangeFrom=t.target.value)}}})]),e._v(" "),t("div",[t("span",[e._v("To")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.rangeTo,expression:"rangeTo"}],attrs:{type:"text"},domProps:{value:e.rangeTo},on:{input:function(t){t.target.composing||(e.rangeTo=t.target.value)}}})])])]),e._v(" "),t("div",{staticClass:"sec"},[t("span",[e._v("Netmask")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.netmask,expression:"netmask"}],attrs:{type:"text"},domProps:{value:e.netmask},on:{input:function(t){t.target.composing||(e.netmask=t.target.value)}}})]),e._v(" "),t("div",{staticClass:"sec"},[t("span",[e._v("Default Router")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.defaultRouter,expression:"defaultRouter"}],attrs:{type:"text"},domProps:{value:e.defaultRouter},on:{input:function(t){t.target.composing||(e.defaultRouter=t.target.value)}}})]),e._v(" "),t("div",{staticClass:"sec"},[t("span",[e._v("DNS 服务器")]),e._v(" "),t("div",{staticClass:"flex"},[t("div",[t("span",[e._v("Primary")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.primaryDns,expression:"primaryDns"}],attrs:{type:"text"},domProps:{value:e.primaryDns},on:{input:function(t){t.target.composing||(e.primaryDns=t.target.value)}}})]),e._v(" "),t("div",[t("span",[e._v("Alternative")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.secondlyDns,expression:"secondlyDns"}],attrs:{type:"text"},domProps:{value:e.secondlyDns},on:{input:function(t){t.target.composing||(e.secondlyDns=t.target.value)}}})])])]),e._v(" "),t("div",{staticClass:"btn clickable",on:{click:e.handleContinueClick}},[e._v("Continue")])])])}),[],!1,null,"0ffa25f2",null).exports},data:function(){return{server:null,clients:[],boundState:{},isShowConfigView:!1,powersaveBlockerID:0,clientAlias:h.a.get(p.a.DHCP_MAC_ALIAS)||{}}},computed:b(b({},Object(r.mapState)({routerHijackMacAddresses:function(e){return e.app.routerHijackMacAddresses},currentProfilePayload:function(e){return e.app.currentProfilePayload}})),{},{serverRunning:function(){return null!==this.server},buttonText:function(){return this.serverRunning?"暂停":"开始"}}),methods:b(b({},Object(r.mapMutations)({setRouterHijackMacAddresses:"SET_ROUTER_HIJACK_MAC_ADDRESSES"})),{},{clientName:function(e){return this.clientAlias[e.chaddr]||e.options[12]||"Unknown"},handleClientRename:function(e,t){this.clientAlias=b(b({},this.clientAlias),{},l()({},t,e.target.value)),h.a.put(p.a.DHCP_MAC_ALIAS,this.clientAlias)},handleGotoConnections:function(e){(e=this.addressFromBound(e))&&this.$router.replace({path:"/home/connection",query:{searchText:e}}).catch((function(){}))},handleStartDHCPServer:function(){this.serverRunning?(this.server&&this.server.close(),this.server=null,this.clients=[],this.boundState={},d.ipcRenderer.invoke("powerSaveBlocker","stop",this.powersaveBlockerID)):this.isShowConfigView=!0},handleConfigConfirm:function(e){var t=this;this.isShowConfigView=!1;var i,n,r,a,l,h,p,f,m,v=null===(n=this.currentProfilePayload)||void 0===n||null===(r=n.tun)||void 0===r?void 0:r["dns-hijack"],_=(n=(i=b(b({},e),{},{hijackDns:v})).rangeFrom,r=i.rangeTo,e=i.netmask,a=i.defaultRouter,v=i.broadcast,l=i.localAddress,h=i.primaryDns,p=i.secondlyDns,i=i.hijackDns,f=void 0===i?[]:i,(v=u.a.createServer({range:[n,r],forceOptions:["hostname"],randomIP:!0,static:{},netmask:e,router:function(e){var t=g.a.state.app.routerHijackMacAddresses;return(void 0===t?[]:t).includes(e.clientId)?[l]:[a]},dns:function(e){var t=g.a.state.app.routerHijackMacAddresses;return(void 0===t?[]:t).includes(e.clientId)?f.slice(0,2):""!==p?[h,p]:[h]},broadcast:v,server:l,maxMessageSize:1500,leaseTime:86400,renewalTime:60,rebindingTime:120,bootFile:"",hostname:"cfw"})).on("error",(function(e,t){console.log(e,t)})),v.listen(),v);_.on("message",(function(e){var i=e.chaddr;void 0!==t.clients.find((function(e){return e.chaddr===i}))||(t.clients=[].concat(s()(t.clients),[e]))})),_.on("bound",(function(e){t.boundState=e})),_.on("listening",(m=o()(c.a.mark((function e(i){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.address(),console.log("dhcp server listen at ".concat(n.address,":").concat(n.port)),t.server=_,e.next=5,d.ipcRenderer.invoke("powerSaveBlocker","start","prevent-app-suspension");case 5:t.powersaveBlockerID=e.sent;case 6:case"end":return e.stop()}}),e)}))),function(e){return m.apply(this,arguments)}))},handleMacToHijack:function(e){this.routerHijackMacAddresses.includes(e)?this.setRouterHijackMacAddresses({addresses:this.routerHijackMacAddresses.filter((function(t){return t!==e}))}):this.setRouterHijackMacAddresses({addresses:[].concat(s()(this.routerHijackMacAddresses),[e])})},addressFromBound:function(e){return(e=this.boundState[e])?e.address:""}})},i(633),r=Object(n.a)(r,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"main-router-view"},[i("div",{staticClass:"header"},[i("div",[e._v("DHCP 服务器")]),e._v(" "),i("div",{staticClass:"btn",class:[e.serverRunning?"btn-stop":"btn-start"],on:{click:e.handleStartDHCPServer}},[e._v("\n      "+e._s(e.buttonText)+"\n    ")])]),e._v(" "),i("div",{staticClass:"list"},e._l(e.clients,(function(t){return i("div",{key:t.chaddr,staticClass:"item",attrs:{title:t.chaddr}},[i("div",{staticClass:"left"},[i("div",{staticClass:"name clickable"},[i("input",{attrs:{type:"text"},domProps:{value:e.clientName(t)},on:{change:function(i){return e.handleClientRename(i,t.chaddr)}}})]),e._v(" "),i("div",{staticClass:"ip"},[e._v(e._s(e.addressFromBound(t.chaddr)||"--"))])]),e._v(" "),i("div",{staticClass:"right"},[e.routerHijackMacAddresses.includes(t.options[61])?i("div",{staticClass:"btn",on:{click:function(i){return e.handleGotoConnections(t.chaddr)}}},[e._v("\n         连接\n        ")]):e._e(),e._v(" "),i("div",{staticClass:"btn hijack-button",on:{click:function(i){return e.handleMacToHijack(t.options[61])}}},[e._v("\n          "+e._s(e.routerHijackMacAddresses.includes(t.options[61])?"Clash TUN":"默认网关")+"\n        ")])])])})),0),e._v(" "),e.isShowConfigView?i("config-view",{on:{close:function(t){e.isShowConfigView=!1},confirm:e.handleConfigConfirm}}):e._e()],1)}),[],!1,null,"74ff0369",null),t.default=r.exports},function(e,t,i){"use strict";i.r(t);var n=i(57),o=i.n(n),r=i(13),s=i.n(r),a=i(43),l=i.n(a),c=i(31),d=i.n(c),h=i(7),u=i.n(h),g=i(33);function p(e,t){var i,n=Object.keys(e);return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(e),t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)),n}var f={props:["mode"],data:function(){return{modes:["全局","规则","直连","脚本"]}},computed:function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?p(Object(i),!0).forEach((function(t){d()(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):p(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},Object(g.mapState)({})),methods:{upperCaseFirstLetter:function(e){return e[0].toUpperCase()+e.slice(1)},btnTheme:function(e){var t=["btn"];"全局"==e?e="global":"规则"==e?e="rule":"直连"==e?e="direct":"脚本"==e&&(e="script");return this.mode===e.toLowerCase()?t.push("selected"):t.push("normal"),t},switchMode:function(e){"全局"==e?e="global":"规则"==e?e="rule":"直连"==e?e="direct":"脚本"==e&&(e="script");var t=this;return s()(u.a.mark((function i(){return u.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:t.$parent.cancelLatencyTest(),t.$emit("switch",e);case 2:case"end":return i.stop()}}),i)})))()}}},m=(i(589),i(37)),v=(n=Object(m.a)(f,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"main",attrs:{id:"main-mode-switcher"}},[i("div",{staticClass:"btns"},e._l(e.modes,(function(t,n){return i("div",{key:n,class:e.btnTheme(t),on:{click:function(i){return e.switchMode(t)}}},[e._v("\n      "+e._s(e.upperCaseFirstLetter(t))+"\n    ")])})),0)])}),[],!1,null,"29c1e160",null).exports,r=i(208),a=i(126),c=i(87),h=i.n(c),i(40)),b=i(41),_=(f=i(86),c=i.n(f),i(228)),w=i(39),C=i(61),y=(f=i(278),i.n(f)),x=i(157);function S(e,t){var i,n=Object.keys(e);return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(e),t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)),n}function k(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?S(Object(i),!0).forEach((function(t){d()(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):S(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var D=h.a.CancelToken;c={props:[],data:function(){return{proxies:[],axiosCancelTokens:[],showSecIdxs:[],hideTimeoutSecNames:[],infoItemName:"",intervalID:null,filterKeyword:"",filterKeywordReg:/.*/,isShowFilter:!1,isScrolling:!1,topItemIndex:-1,topProxyIndex:-1,proxyBlinkIndex:-1,groupBlinkIndex:-1,testingProxyNames:[]}},components:{ProxyModeSwitcher:n,Navigator:r.a,Hint:a.a},watch:{clashStatus:function(e){e===C.a.CONNECTED&&this.fetchData()},filterKeyword:{handler:c.a.debounce((function(e){v.a.put(b.a.PROXY_FILTER_KEYWORD,e),this.filterKeywordReg=e?new RegExp(e,"i"):/.*/}),500)},profileRefreshTimes:function(){this.fetchData()},proxyBlinkIndex:function(){var e=this;setTimeout((function(){e.proxyBlinkIndex=-1}),300)},groupBlinkIndex:function(){var e=this;setTimeout((function(){e.groupBlinkIndex=-1}),300)},hideTimeoutSecNames:function(e){v.a.put(b.a.PROXY_HIDE_TIMEOUT_SEC_NAMES,e)}},computed:k(k(k({},Object(g.mapState)({clashPath:function(e){return e.app.clashPath},pfs:function(e){return e.app.profiles},clashStatus:function(e){return e.app.clashStatus},confData:function(e){return e.app.confData},clashAxiosFlyingRequestCount:function(e){return e.app.clashAxiosFlyingRequestCount},profileRefreshTimes:function(e){return e.app.profileRefreshTimes},currentMode:function(e){return e.app.mode},currentProfilePayload:function(e){return e.app.currentProfilePayload}})),Object(g.mapGetters)(["clashAxiosClient"])),{},{delayKeyName:function(){var e;return(null===(e=["delay","meanDelay"])?void 0:e[this.settings.proxyDelayType])||"delay"},navigatorWidth:function(){return this.settings.proxyMiniListWidth},proxyItemWidth:function(){var e=this.settings.proxyItemWidth;return 150<=parseInt(e)?"".concat(e,"px"):"290px"},errorIndexes:function(){return this.proxyInMode.reduce((function(e,t,i){var n=t.data;return t.name,null!=n&&n.now&&!n.all.find((function(e){return e.name===n.now})).alive&&e.push(i),e}),[])},proxyInMode:function(){if("global"===(e=this.currentMode))return this.proxies.filter((function(e){return"GLOBAL"===e.name}));if("direct"===e)return[];var e,t=void 0!==(e=this.settings.hideUnselectableGroup)&&e?["Selector"]:["Selector","Fallback","URLTest","LoadBalance","Relay"];return this.proxies.filter((function(e){return"GLOBAL"!==e.name&&t.includes(e.data.type)}))},isShowNavigator:function(){return 0!==parseInt(this.settings.proxyMiniListWidth)}}),methods:k(k(k({},Object(g.mapMutations)({changeProfile:"CHANGE_PROFILE"})),Object(g.mapActions)(["getMode","setMode"])),{},{debounceScroll:c.a.debounce((function(){this.isScrolling=!1}),1e3),handleListScroll:function(){this.isScrolling=!0;var e=this.$refs["mixin-scroll-content"],t=this.$refs.list;return this.topItemIndex=[].concat(l()(t),[{offsetTop:1/0}]).findIndex((function(t){return t.offsetTop-120>e.scrollTop}))-1,this.topProxyIndex=l()(t[this.topItemIndex].querySelectorAll(".proxy-item")).findIndex((function(t){return t.offsetTop-100>e.scrollTop})),this.debounceScroll()},handleProxyRightClick:function(e,t){var i=this;return s()(u.a.mark((function n(){var o,r;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:o=i.proxyInMode.map((function(e){return e.name})).findIndex((function(e){return e===t})),r=[{text:"显示连接",icon:"list",click:function(){i.$router.replace({path:"/home/connection",query:{searchText:t}}).catch((function(){}))}},{text:"运行脚本",icon:"code",click:function(){var e=(void 0===(e=i.currentProfilePayload.proxies)?[]:e).find((function(e){return e.name===t}))||{name:t};Object(_.c)(Object(w.e)(e),_.b)}}],-1<o&&r.unshift({text:"移动至组",icon:"travel_explore",click:function(){i.handleNavigatToGroup(o)}}),i.$menu(r,e);case 4:case"end":return n.stop()}}),n)})))()},handleFilterIconClick:function(){var e=this;this.isShowFilter=!this.isShowFilter,this.isShowFilter||(this.filterKeyword=""),this.$nextTick((function(){var t=e.$refs.filterKeyword;t&&t.focus()}))},checkBtnText:function(e){return e.provider,-1===(e=e.latency)?"-- ms":e||"测试"},handleSingleSpeedtest:function(e,t){var i=this;return s()(u.a.mark((function n(){var o,r,s,a,c,d,h;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=e.name,r=t.name,s=t.provider,a=function(e){var t=i.proxyInMode.find((function(e){return e.name===o}));!t||(t=t.data.all.find((function(e){return e.name===r})))&&(t.latency=-1===e?-1:e+(/\d/.test(e)?" ms":"超时"))},i.cancelLatencyTest(),i.testingProxyNames=[].concat(l()(i.testingProxyNames),[r]),a(-1),c="",n.prev=7,h=i.settings,d=h.latencyTimeout,h=h.latencyUrl,n.next=11,i.speedtest(r,d||3e3,h||"http://www.gstatic.com/generate_204",s);case 11:c=n.sent,n.next=16;break;case 14:n.prev=14,n.t0=n.catch(7);case 16:i.testingProxyNames=i.testingProxyNames.filter((function(e){return e!==r})),a(c);case 18:case"end":return n.stop()}}),n,null,[[7,14]])})))()},proxyItemsBeforeAnimate:function(e){e.style.opacity=0},animateDone:function(e){},proxyItemsShowAnimate:function(e,t){y()(e,{opacity:1},{duration:150,easing:"ease-in",complete:t})},proxyItemsHideAnimate:function(e,t){y()(e,{opacity:0,height:0},{complete:t,easing:"ease-out",duration:100})},saveShowSecIdxs:function(){v.a.put(b.a.PROXY_SHOW_SEC_IDXS,this.showSecIdxs)},handleNavigatToGroup:function(e){this.showSecIdxs.includes(e)||this.showSecIdxs.push(e),this.groupBlinkIndex=e;var t=this.$refs["mixin-scroll-content"],i=this.$refs.list;this.$nextTick((function(){t.scrollTop=i[e].offsetTop-120}))},scrollToSelected:function(e){this.proxyBlinkIndex=e;var t=this.$refs["selected".concat(e)][0],i=this.$refs["mixin-scroll-content"];((e=t.offsetTop-160)<i.scrollTop||e>i.scrollTop+i.clientHeight-200)&&this.$nextTick((function(){i.scrollTop=t.offsetTop-160}))},switchHideTimeout:function(e){var t=this;return s()(u.a.mark((function i(){return u.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:t.hideTimeoutSecNames.includes(e)?t.hideTimeoutSecNames=t.hideTimeoutSecNames.filter((function(t){return t!==e})):t.hideTimeoutSecNames.push(e);case 1:case"end":return i.stop()}}),i)})))()},switchVisiable:function(e){var t=this;return s()(u.a.mark((function i(){var n,o,r,s,a;return u.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:n=t.$refs.list,o=t.$refs["mixin-scroll-content"],r=null===(n=n[e])||void 0===n?void 0:n.childNodes[0],s=null==r?void 0:r.childNodes[0],a=null==r?void 0:r.childNodes[2],t.showSecIdxs.includes(e)?(t.showSecIdxs=t.showSecIdxs.filter((function(t){return t!==e})),t.$nextTick((function(){s.offsetTop>a.offsetTop&&(o.scrollTop=r.offsetTop-112)}))):t.showSecIdxs.push(e),t.saveShowSecIdxs();case 7:case"end":return i.stop()}}),i)})))()},nodeHint:function(e){var t=this.proxies.find((function(t){return t.name===e.name}));if(!t)return"";var i=t.data.type;return"Selector"===i||"Fallback"===i||"URLTest"===i?"".concat(i," - ").concat(t.data.now):"LoadBalance"===i?"".concat(i," - ").concat(t.data.all.length," server").concat(1<t.data.all.length?"s":""):i},cancelLatencyTest:function(){0<this.axiosCancelTokens.length&&(this.axiosCancelTokens.forEach((function(e){e()})),this.axiosCancelTokens=[])},switchProxy:function(e,t){var i=arguments,n=this;return s()(u.a.mark((function o(){var r;return u.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(2<i.length&&void 0!==i[2]&&i[2])return o.abrupt("return");o.next=3;break;case 3:return n.cancelLatencyTest(),o.next=6,n.clashAxiosClient.put("/proxies/".concat(encodeURIComponent(e)),{name:t});case 6:204===o.sent.status&&((r=l()(n.proxies)).find((function(t){return t.name===e})).data.now=t,n.proxies=500<r.length?Object.freeze(r):r,n.$parent.persistSelectedProxy(),n.$parent.breakConnections(e));case 8:case"end":return o.stop()}}),o)})))()},startLatencyTest:function(e,t){var i=this;return s()(u.a.mark((function n(){var o,r,a,c;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:i.cancelLatencyTest(),i.showSecIdxs.find((function(e){return e===t}))||i.showSecIdxs.push(t),c=i.proxies.find((function(t){return t.name===e})),o=i.settings,r=o.latencyTimeout,a=o.latencyUrl,c=c.data.all,(c=t===i.topItemIndex?[].concat(l()(c.slice(i.topProxyIndex)),l()(c.slice(0,i.topProxyIndex).reverse())):c).forEach((function(e){e.latency=-1})),c.forEach(function(){var e=s()(u.a.mark((function e(t,n){var o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.speedtest(t.name,r||3e3,a||"http://www.gstatic.com/generate_204",t.provider);case 3:o=e.sent,t.latency=0<o?o+" ms":"超时",e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t.latency="超时";case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,i){return e.apply(this,arguments)}}());case 8:case"end":return n.stop()}}),n)})))()},speedtest:function(e){var t=arguments,i=this;return s()(u.a.mark((function n(){var o,r,s,a;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=1<t.length&&void 0!==t[1]?t[1]:1e3,a=2<t.length&&void 0!==t[2]?t[2]:"http://www.gstatic.com/generate_204",r=3<t.length?t[3]:void 0,s=encodeURIComponent(e),s=r?"/providers/proxies/".concat(encodeURIComponent(r.name),"/").concat(s,"/healthcheck"):"/proxies/".concat(s,"/delay"),n.next=7,i.clashAxiosClient(s+"?timeout=".concat(o,"&url=").concat(encodeURIComponent(a)),{cancelToken:new D((function(e){i.axiosCancelTokens.push(e)})),timeout:0});case 7:if(a=(a=n.sent).data)return a=a[i.delayKeyName],n.abrupt("return",a||0);n.next=12;break;case 12:return n.abrupt("return",0);case 13:case"end":return n.stop()}}),n)})))()},handleModeSwitch:function(e){var t=this;return s()(u.a.mark((function i(){return u.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,t.setMode({mode:e});case 2:case"end":return i.stop()}}),i)})))()},findProvider:function(e,t){for(var i in e){var n=e[i];if(i=(void 0===(i=n.proxies)?[]:i).find((function(e){return e.name===t})))return[n,i]}return[null,{}]},fetchData:function(){var e=this;return s()(u.a.mark((function t(){var i,n,r,s,a,l;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=Number.MAX_SAFE_INTEGER,e.clashAxiosClient){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,Promise.all([e.clashAxiosClient.get("/proxies"),e.clashAxiosClient.get("/providers/proxies",{validateStatus:function(e){return!0}})]);case 5:l=t.sent,n=o()(l,2),l=n[0],n=(void 0===(n=(n=n[1]).data)?{}:n).providers,r=void 0===n?{}:n,s=l.data.proxies,a=s.GLOBAL.all,e.viewData=s,l=Object.keys(s).map((function(t){return s[t].hasOwnProperty("all")||(s[t].all=[s[t].now]),s[t].all=s[t].all.map((function(t){var n=null,a=s[t];if(void 0===a){var l=e.findProvider(r,t),c=(h=o()(l,2))[0],d=0,h=void 0===(l=(u=h[1]).history)?[]:l,u=(l=void 0!==(l=u.udp)&&l,u.alive);return{name:t,provider:c,latency:n=0<h.length?0===(d=h[h.length-1][e.delayKeyName])?"超时":"".concat(d," ms"):"",delay:d||i,udp:l,alive:void 0===u||u}}return u=0,a&&0<a.history.length&&(n=0===(u=a.history[a.history.length-1][e.delayKeyName])?"超时":"".concat(u," ms")),{name:t,provider:null,latency:n=e.testingProxyNames.includes(t)?-1:n,delay:u||i,udp:(null==a?void 0:a.udp)||!1,alive:void 0===(null==a?void 0:a.alive)||(null==a?void 0:a.alive)}})).sort((function(n,o){var r,a,l=void 0===(r=e.settings.proxyOrder)?0:r;return 1===l&&"Fallback"!==s[t].type?(r=void 0===(a=n.delay)?i:a)-(void 0===(a=o.delay)?i:a):2!==l||(n=n.name,o=o.name,n.localeCompare(o))})),{name:t,data:s[t]}})).sort((function(e,t){return a.indexOf(e.name)-a.indexOf(t.name)})),e.proxies=500<l.length?Object.freeze(l):l;case 16:case"end":return t.stop()}}),t)})))()}}),beforeRouteEnter:function(e,t,i){var n;i((n=s()(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.getMode(),t.showSecIdxs=v.a.get(b.a.PROXY_SHOW_SEC_IDXS)||[],t.hideTimeoutSecNames=v.a.get(b.a.PROXY_HIDE_TIMEOUT_SEC_NAMES)||[],t.filterKeyword=v.a.get(b.a.PROXY_FILTER_KEYWORD)||"",t.isShowFilter=""!==t.filterKeyword,t.intervalID=x.a.add(s()(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.isScrolling&&t.clashAxiosFlyingRequestCount<5)return e.next=3,Promise.allSettled([t.getMode(),t.fetchData()]).catch((function(e){}));e.next=3;break;case 3:case"end":return e.stop()}}),e)}))),5e3),e.next=8,t.fetchData().catch((function(e){}));case 8:case"end":return e.stop()}}),e)}))),function(e){return n.apply(this,arguments)}))},beforeRouteLeave:function(e,t,i){this.intervalID&&x.a.stop(this.intervalID),this.cancelLatencyTest(),i()}},i(593),i(595),c=Object(m.a)(c,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"main-proxy-view"}},[i("proxy-mode-switcher",{attrs:{mode:e.currentMode},on:{switch:e.handleModeSwitch}}),e._v(" "),i("div",{ref:"mixin-scroll-content",staticClass:"scroll-view",on:{scroll:function(t){return e.handleListScroll()}}},[e._l(e.proxyInMode,(function(t,n){return i("div",{key:t.name,ref:"list",refInFor:!0},[i("div",{staticClass:"proxy-list"},[i("div",{class:["proxy-section",e.groupBlinkIndex===n?"flick":""],on:{click:function(t){return e.switchVisiable(n)}}},[i("div",{staticClass:"proxy-section-name"},[i("div",{staticClass:"proxy-section-name-left"},[e._v(e._s(t.name))]),e._v(" "),i("div",{staticClass:"proxy-hint-type",class:["Selector"===t.data.type?"proxy-hint-type-selector":""]},[e._v("\n              "+e._s(t.data.type[0])+"\n            ")]),e._v(" "),t.data.now?i("div",{staticClass:"proxy-hint-line"}):e._e(),e._v(" "),t.data.now?i("div",{staticClass:"proxy-hint"},[e._v("\n              "+e._s(t.data.now)+"\n            ")]):e._e()]),e._v(" "),i("div",{staticClass:"proxy-section-right"},[e.showSecIdxs.includes(n)?i("Hint",{staticClass:"sec-icon clickable",attrs:{hint:"移动到选定的代理",position:"top"},on:{click:function(t){return t.stopPropagation(),e.scrollToSelected(n)}}},[i("span",{staticClass:"icon"},[e._v("travel_explore")])]):e._e(),e._v(" "),i("Hint",{staticClass:"sec-icon clickable",attrs:{hint:"显示/隐藏超时节点",position:"top"},on:{click:function(i){return i.stopPropagation(),e.switchHideTimeout(t.name)}}},[i("span",{staticClass:"icon"},[e._v("report"+e._s(e.hideTimeoutSecNames.includes(t.name)?"_off":""))])]),e._v(" "),i("Hint",{staticClass:"sec-icon clickable",attrs:{hint:"测试延迟",position:"top"},on:{click:function(i){return i.stopPropagation(),e.startLatencyTest(t.name,n)}}},[i("span",{staticClass:"icon"},[e._v("network_check")])]),e._v(" "),["rule","script"].includes(e.currentMode)?i("Hint",{staticClass:"sec-icon clickable",attrs:{hint:"Show/hide proxies",position:"left"},on:{click:function(t){return t.stopPropagation(),e.switchVisiable(n)}}},[i("span",{staticClass:"icon"},[e._v("visibility"+e._s(e.showSecIdxs.includes(n)?"":"_off"))])]):e._e()],1)]),e._v(" "),i("transition",{attrs:{name:"fall-fade"}},[!["rule","script"].includes(e.currentMode)||e.showSecIdxs.includes(n)?i("div",{staticClass:"proxy-items"},[e._l(t.data.all,(function(o,r){return i("div",{directives:[{name:"show",rawName:"v-show",value:(!e.hideTimeoutSecNames.includes(t.name)||"超时"!==o.latency)&&e.filterKeywordReg.test(o.name),expression:"\n                (!hideTimeoutSecNames.includes(proxy.name) ||\n                  node.latency !== 'Timeout') &&\n                filterKeywordReg.test(node.name)\n              "}],key:o.name+t.name+r,ref:o.name===t.data.now?"selected"+n:"",refInFor:!0,staticClass:"proxy-item",class:{selected:o.name===t.data.now,clickable:"Selector"===t.data.type,flick:o.name===t.data.now&&n===e.proxyBlinkIndex},style:[{width:e.proxyItemWidth}],on:{click:function(i){return e.switchProxy(t.name,o.name,"Selector"!==t.data.type)},contextmenu:function(t){return e.handleProxyRightClick(t,o.name)}}},[i("div",{staticClass:"indicator"}),e._v(" "),i("div",{staticClass:"info"},[i("div",{staticClass:"left"},[i("div",{staticClass:"item-name",class:{offline:!o.alive}},[e._v("\n                    "+e._s(o.name)+"\n                  ")]),e._v(" "),i("div",{staticClass:"item-bottom"},[i("div",{staticClass:"item-hint"},[e._v("\n                      "+e._s(o.provider?"Provider: "+o.provider.name:e.nodeHint(o))+"\n                    ")]),e._v(" "),o.udp?i("div",{staticClass:"item-udp"},[e._v("UDP")]):e._e()])]),e._v(" "),-1===o.latency?i("div",{staticClass:"time"},[e._v("- ms")]):i("div",{class:{offline:"超时"===o.latency,online:!["超时",-1,null,void 0,""].includes(o.latency),time:!0},on:{click:[function(i){return e.handleSingleSpeedtest(t,o)},function(e){e.stopPropagation()}]}},[e._v("\n                  "+e._s(e.checkBtnText(o))+"\n                ")])])])})),e._v(" "),e._l(new Array(20),(function(t,n){return i("i",{key:n,style:{width:e.proxyItemWidth}})}))],2):e._e()])],1)])})),e._v(" "),e.isShowNavigator?i("navigator",{attrs:{list:e.proxyInMode.map((function(e){return e.name})),"error-indexes":e.errorIndexes,index:e.topItemIndex,width:e.navigatorWidth},on:{select:e.handleNavigatToGroup}}):e._e(),e._v(" "),null===e.proxyInMode&&"direct"!==this.currentMode?i("div",[i("div",{staticClass:"fake-section"}),e._v(" "),i("div",{staticClass:"proxy-items proxy-list"},e._l(new Array(12),(function(e,t){return i("div",{key:t,staticClass:"fake-item"},[i("div")])})),0)]):e._e(),e._v(" "),0===e.proxyInMode.length&&"direct"!==this.currentMode?i("div",{staticClass:"empty-hint"},[i("div",[e._v("此配置文件中没有代理组")]),e._v(" "),i("div",[e._v("\n        前往\n        "),i("span",{on:{click:function(t){return e.$router.replace({path:"/home/server"})}}},[e._v("配置")]),e._v("\n        导入/切换配置文件\n      ")])]):e._e()],2),e._v(" "),e.settings.showProxyFilter?i("div",{staticClass:"filter-keyword"},[i("transition",{attrs:{name:"move-right"}},[e.isShowFilter?i("input",{directives:[{name:"model",rawName:"v-model",value:e.filterKeyword,expression:"filterKeyword"}],ref:"filterKeyword",attrs:{spellcheck:"false",type:"text"},domProps:{value:e.filterKeyword},on:{input:function(t){t.target.composing||(e.filterKeyword=t.target.value)}}}):e._e()]),e._v(" "),i("div",{on:{click:e.handleFilterIconClick}},[e.isShowFilter?i("span",{staticClass:"icon text-white"},[e._v("close")]):i("span",{staticClass:"icon text-white"},[e._v("filter_list")])])],1):e._e()],1)}),[],!1,null,"3b9a87eb",null);t.default=c.exports},function(e,t,i){"use strict";i.r(t);var n=i(57),o=i.n(n),r=i(13),s=i.n(r),a=i(43),l=i.n(a),c=i(31),d=i.n(c),h=(n=i(7),i.n(n)),u=(r=i(33),a=i(88),i.n(a)),g=i(61),p=i(20),f=(c={props:{text:String,size:String,isLoading:Boolean},methods:{handleClick:function(){this.isLoading||this.$emit("click")}}},n=(i(597),i(37)),a=Object(n.a)(c,(function(){var e=this,t=e.$createElement;return(t=e._self._c||t)("div",{staticClass:"main-button-view",on:{click:e.handleClick}},[e.isLoading?t("div",{staticClass:"line"},[t("div",{class:["box","animation-delay1","large"===e.size?"large":"small"]}),e._v(" "),t("div",{class:["box","animation-delay2","large"===e.size?"large":"small"]}),e._v(" "),t("div",{class:["box","animation-delay3","large"===e.size?"large":"small"]}),e._v(" "),t("div",{class:["box","animation-delay4","large"===e.size?"large":"small"]}),e._v(" "),t("div",{class:["box","animation-delay5","large"===e.size?"large":"small"]})]):t("div",[e._v(e._s(e.text))])])}),[],!1,null,"f3b3ccf8",null).exports,i(24)),m=(c=i(30),i.n(c));function v(e,t){var i,n=Object.keys(e);return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(e),t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)),n}function b(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?v(Object(i),!0).forEach((function(t){d()(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):v(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}r={components:{Button:a,Hint:i(126).a},props:[],data:function(){return{providers:[],ruleProviders:[],updateAbortCtl:new AbortController,healthCheckAbortCtl:new AbortController,errorProviderIndexes:[]}},watch:{clashStatus:function(e){e===g.a.CONNECTED&&this.fetchData()},profileRefreshTimes:function(){this.fetchData()},allProviders:function(e){this.errorProviderIndexes=e.reduce((function(e,t,i){return""!==t.message&&e.push(i),e}),[])}},computed:b(b(b({},Object(r.mapState)({clashPath:function(e){return e.app.clashPath},clashStatus:function(e){return e.app.clashStatus},profileRefreshTimes:function(e){return e.app.profileRefreshTimes},currentProfilePayload:function(e){return e.app.currentProfilePayload},settings:function(e){return e.app.settings}})),Object(r.mapGetters)(["clashAxiosClient"])),{},{updatingProvidersCount:function(){return this.providers.filter((function(e){return e.isUpdating})).length+this.ruleProviders.filter((function(e){return e.isUpdating})).length},failedProvidersCount:function(){return this.allProviders.filter((function(e){return""!==e.message})).length},checkingProvidersCount:function(){return this.providers.filter((function(e){return e.isChecking})).length},allProviders:function(){return[].concat(l()(this.providers),l()(this.ruleProviders))}}),methods:{fromNowString:function(e){return u()(e).locale('zh-cn').fromNow()},handleLocateFailedProvider:function(){var e,t;0<this.errorProviderIndexes.length&&0===this.updatingProvidersCount&&(t=this.errorProviderIndexes[0],null!==(e=this.$refs["provider-".concat(t)])&&void 0!==e&&e[0].scrollIntoView(),this.errorProviderIndexes=[].concat(l()(this.errorProviderIndexes.slice(1)),[t]))},handleAllProvidersUpdate:function(){if(0<this.updatingProvidersCount)return this.updateAbortCtl.abort(),void(this.updateAbortCtl=new AbortController);for(var e in this.providers)this.handleProviderUpdate(e);for(var t in this.ruleProviders)this.handleRuleProviderUpdate(t)},handleAllProvidersHealthCheck:function(){if(0<this.checkingProvidersCount)return this.healthCheckAbortCtl.abort(),void(this.healthCheckAbortCtl=new AbortController);for(var e in this.providers)this.handleHealthCheck(e)},handleHealthCheck:function(e){var t=this;return s()(h.a.mark((function i(){var n,o;return h.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(n=t.providers[e],o=n.name)return t.$set(t.providers,e,b(b({},n),{},{isChecking:!0})),i.prev=4,i.next=7,t.clashAxiosClient.get("/providers/proxies/".concat(encodeURIComponent(o),"/healthcheck"),{timeout:0,signal:t.healthCheckAbortCtl.signal});i.next=12;break;case 7:i.next=11;break;case 9:i.prev=9,i.t0=i.catch(4);case 11:t.$set(t.providers,e,b(b({},n),{},{isChecking:!1}));case 12:case"end":return i.stop()}}),i,null,[[4,9]])})))()},handleProviderUpdate:function(e){var t=this;return s()(h.a.mark((function i(){var n,o,r,s,a,l,c;return h.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(n=t.providers[e],o=n.name,r=n.vehicleType,s=n.isUpdating,["File","HTTP"].includes(r)&&o&&!s)return t.$set(t.providers,e,b(b({},n),{},{isUpdating:!0,message:""})),i.prev=4,i.next=7,t.clashAxiosClient.put("/providers/proxies/".concat(encodeURIComponent(o)),{},{validateStatus:function(e){return!0},timeout:0,signal:t.updateAbortCtl.signal});i.next=33;break;case 7:if(a=i.sent,s=a.status,a=a.data,204===s)return i.next=13,t.fetchSingleData("proxies",o);i.next=26;break;case 13:if(i.t1=l=i.sent,i.t0=null!==i.t1,!i.t0){i.next=17;break}i.t0=void 0!==l;case 17:if(!i.t0){i.next=21;break}i.t2=l,i.next=22;break;case 21:i.t2=n;case 22:c=i.t2,t.$set(t.providers,e,b(b({},c),{},{isUpdating:!1,message:""})),i.next=28;break;case 26:c=void 0===(c=a.message)?"无法更新提供者":c,t.$set(t.providers,e,b(b({},n),{},{isUpdating:!1,message:c}));case 28:i.next=33;break;case 30:i.prev=30,i.t3=i.catch(4),t.$set(t.providers,e,b(b({},n),{},{isUpdating:!1,message:i.t3}));case 33:case"end":return i.stop()}}),i,null,[[4,30]])})))()},handleRuleProviderUpdate:function(e){var t=this;return s()(h.a.mark((function i(){var n,o,r,s,a,l,c;return h.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(n=t.ruleProviders[e],o=n.name,r=n.vehicleType,s=n.isUpdating,["File","HTTP"].includes(r)&&o&&!s)return t.$set(t.ruleProviders,e,b(b({},n),{},{isUpdating:!0,message:""})),i.prev=4,i.next=7,t.clashAxiosClient.put("/providers/rules/".concat(encodeURIComponent(o)),{},{validateStatus:function(e){return!0},timeout:0,signal:t.updateAbortCtl.signal});i.next=33;break;case 7:if(a=i.sent,s=a.status,a=a.data,204===s)return i.next=13,t.fetchSingleData("rules",o);i.next=26;break;case 13:if(i.t1=l=i.sent,i.t0=null!==i.t1,!i.t0){i.next=17;break}i.t0=void 0!==l;case 17:if(!i.t0){i.next=21;break}i.t2=l,i.next=22;break;case 21:i.t2=n;case 22:c=i.t2,t.$set(t.ruleProviders,e,b(b({},c),{},{isUpdating:!1,message:""})),i.next=28;break;case 26:c=void 0===(c=a.message)?"无法更新提供者":c,t.$set(t.ruleProviders,e,b(b({},n),{},{isUpdating:!1,message:c}));case 28:i.next=33;break;case 30:i.prev=30,i.t3=i.catch(4),t.$set(t.ruleProviders,e,b(b({},n),{},{isUpdating:!1,message:i.t3}));case 33:case"end":return i.stop()}}),i,null,[[4,30]])})))()},handleEditProviderFile:function(e,t){var i,n,o=this,r=t.name,a=void 0!==(n=this.settings.editProfileWithCFWEditor)&&n;r=(e=void 0===(e={rule:void 0===(n=(t=this.currentProfilePayload)["rule-providers"])?{}:n,proxy:void 0===(t=t["proxy-providers"])?{}:t}[e][r])?{}:e).path,i=s()(h.a.mark((function e(t){var i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a)return e.next=3,o.$code({code:m.a.readFileSync(t).toString(),fontSize:o.settings.editorFontSize});e.next=9;break;case 3:i=void 0===(i=(i=e.sent).code)?"":i,m.a.writeFileSync(t,i),e.next=10;break;case 9:f.shell.openPath(t);case 10:case"end":return e.stop()}}),e)}))),e=function(e){return i.apply(this,arguments)};r&&(Object(p.isAbsolute)(r)?e(r):e(Object(p.join)(this.clashPath,r)))},fetchSingleData:function(e,t){var i=this;return s()(h.a.mark((function n(){var o,r;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o="/providers/".concat(e,"/").concat(encodeURIComponent(t)),n.next=3,i.clashAxiosClient.get(o,{validateStatus:function(){return!0},timeout:0,signal:i.updateAbortCtl.signal});case 3:return r=n.sent,o=r.status,r=r.data,n.abrupt("return",200===o?r:null);case 7:case"end":return n.stop()}}),n)})))()},fetchData:function(){var e=this;return s()(h.a.mark((function t(){var i,n,r,s,a,l,c,d,u,g,p,f;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([e.clashAxiosClient.get("/providers/proxies"),e.clashAxiosClient.get("/providers/rules")]);case 2:if(d=t.sent,n=o()(d,2),r=n[0],i=r.status,d=r.data,r=void 0===d?{}:d,d=n[1],n=d.status,d=d.data,200===i){for(r=void 0===(r=r.providers)?{}:r,s=[],a=0,l=Object.entries(r);a<l.length;a++)(c=o()(l[a],2))[0],c=c[1],s.push(b(b({},c),{},{isChecking:!1,isUpdating:!1,message:""}));e.providers=s.filter((function(e){return["HTTP","File"].includes(e.vehicleType)}))}else e.providers=[];if(200===n){for(d=void 0===(d=d.providers)?{}:d,u=[],g=0,p=Object.entries(d);g<p.length;g++)(f=o()(p[g],2))[0],f=f[1],u.push(b(b({},f),{},{isUpdating:!1,message:""}));e.ruleProviders=u.filter((function(e){return["HTTP","File"].includes(e.vehicleType)}))}else e.ruleProviders=[];case 13:case"end":return t.stop()}}),t)})))()}},beforeRouteEnter:function(e,t,i){i((function(e){e.fetchData(),e.updateAbortCtl=new AbortController,e.healthCheckAbortCtl=new AbortController}))},beforeRouteLeave:function(e,t,i){this.updateAbortCtl.abort(),this.healthCheckAbortCtl.abort(),i()}},i(599),r=Object(n.a)(r,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"main-provider-view"},[i("div",{class:["card"]},[i("div",{staticClass:"header"},[i("div",{staticClass:"buttons"},[i("Button",{staticClass:"btn",style:{backgroundColor:0<e.updatingProvidersCount?"#FF5F57":""},attrs:{text:0<e.updatingProvidersCount?"Cancel "+e.updatingProvidersCount+" Update"+(1===e.updatingProvidersCount?"":"s"):"更新全部",isLoading:!1},on:{click:e.handleAllProvidersUpdate}}),e._v(" "),0<e.providers.length?i("Button",{staticClass:"btn",style:{backgroundColor:0<e.checkingProvidersCount?"#FF5F57":""},attrs:{text:0<e.checkingProvidersCount?"Cancel "+e.checkingProvidersCount+" Check"+(1===e.checkingProvidersCount?"":"s"):"检查全部连接",isLoading:!1},on:{click:e.handleAllProvidersHealthCheck}}):e._e()],1)]),e._v(" "),i("div",{ref:"mixin-scroll-content",staticClass:"content"},[0<e.providers.length?[i("div",{staticClass:"title"},[e._v("代理提供者")]),e._v(" "),i("div",{staticClass:"items"},e._l(e.providers,(function(t,n){return i("div",{key:t.name,ref:"provider-"+n,refInFor:!0,staticClass:"provider-item"},[i("div",{staticClass:"provider-item-main"},[i("div",[i("div",{staticClass:"name-type"},[i("div",{staticClass:"name"},[e._v(e._s(t.name))])]),e._v(" "),i("div",{staticClass:"update-hint"},[i("div",{staticClass:"type"},[e._v("\n                    "+e._s(t.vehicleType)+" ("+e._s(t.proxies.length)+"\n                    Proxies) ("+e._s(e.fromNowString(t.updatedAt))+")\n                  ")])]),e._v(" "),i("div",{staticClass:"error-hint"},[e._v(e._s(t.message))])]),e._v(" "),i("div",{staticClass:"empty"}),e._v(" "),i("Hint",{staticClass:"icon-btn",attrs:{hint:"Health check"},on:{click:function(t){return e.handleHealthCheck(n)}}},[i("span",{staticClass:"icon"},[e._v("network_check")])]),e._v(" "),i("Hint",{staticClass:"icon-btn",attrs:{hint:"Edit file"},on:{click:function(i){return e.handleEditProviderFile("proxy",t)}}},[i("span",{staticClass:"icon"},[e._v("code")])]),e._v(" "),"HTTP"===t.vehicleType?i("Hint",{staticClass:"icon-btn",attrs:{hint:"更新提供者"},on:{click:function(t){return e.handleProviderUpdate(n)}}},[i("span",{staticClass:"icon",class:{rotating:t.isUpdating}},[e._v("refresh")])]):e._e()],1)])})),0)]:e._e(),e._v(" "),0<e.ruleProviders.length?[i("div",{staticClass:"title"},[e._v("Rule Providers")]),e._v(" "),i("div",{staticClass:"items"},e._l(e.ruleProviders,(function(t,n){return i("div",{key:t.name,ref:"provider-"+(n+e.providers.length),refInFor:!0,staticClass:"provider-item"},[i("div",{staticClass:"provider-item-main"},[i("div",[i("div",{staticClass:"name-type"},[i("div",{staticClass:"name"},[e._v("\n                    "+e._s(t.name)+"\n                  ")])]),e._v(" "),i("div",{staticClass:"update-hint"},[i("div",{staticClass:"type"},[e._v("\n                    "+e._s(t.vehicleType)+"\n                    "+e._s(t.behavior)+" ("+e._s(t.ruleCount)+" Rules)\n                    ("+e._s(e.fromNowString(t.updatedAt))+")\n                  ")])]),e._v(" "),i("div",{staticClass:"error-hint"},[e._v(e._s(t.message))])]),e._v(" "),i("div",{staticClass:"empty"}),e._v(" "),i("Hint",{staticClass:"icon-btn",attrs:{hint:"Edit file"},on:{click:function(i){return e.handleEditProviderFile("rule",t)}}},[i("span",{staticClass:"icon"},[e._v("code")])]),e._v(" "),i("Hint",{staticClass:"icon-btn",attrs:{hint:"更新提供者"},on:{click:function(t){return e.handleRuleProviderUpdate(n)}}},[i("span",{staticClass:"icon",class:{rotating:t.isUpdating}},[e._v("refresh")])])],1)])})),0)]:e._e()],2),e._v(" "),0<e.failedProvidersCount?i("div",{staticClass:"fixed top-8 bg-opacity-80 right-2 bg-black px-3 py-1 text-white flex items-center gap-2 rounded text-sm clickable",on:{click:e.handleLocateFailedProvider}},[i("span",{staticClass:"icon text-sm text-red-500"},[e._v("error")]),e._v("\n      "+e._s(e.failedProvidersCount)+" error"+e._s(1===e.failedProvidersCount?"":"s")+"\n    ")]):e._e()])])}),[],!1,null,"e458ce5e",null),t.default=r.exports},function(e,t,i){"use strict";i.r(t);var n=i(13),o=i.n(n),r=i(43),s=i.n(r),a=i(31),l=i.n(a),c=i(7),d=i.n(c),h=i(126),u=i(40),g=i(41),p=(n=i(88),i.n(n)),f=(r=i(33),i(61)),m=(a=i(20),i.n(a)),v=i(39),b=i(24);function _(e,t){var i,n=Object.keys(e);return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(e),t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)),n}function w(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?_(Object(i),!0).forEach((function(t){l()(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):_(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function C(e,t){var i,n=Object.keys(e);return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(e),t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)),n}function y(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?C(Object(i),!0).forEach((function(t){l()(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):C(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}c={name:"ConnectionInfoView",props:["connection"],data:function(){return{data:{speedStr:""}}},watch:{infoData:{immediate:!0,handler:function(e){Object.keys(e).length&&(this.data=e)}},connection:{handler:function(e,t){e&&t?(t={upload:e.upload-t.upload,download:e.download-t.download},this.speedStr=this.$parent.calcSpeedText({speed:t})):this.speedStr=""},immediate:!0}},computed:w(w({},Object(r.mapGetters)(["theme"])),{},{isConnectionClosed:function(){return 0===Object.keys(this.infoData).length},infoData:function(){var e=this.connection;if(!e)return{};var t=e.metadata,i="DIRECT"===e.chains[0];return{主机:t.host,网络:e.metadata.network.toUpperCase(),流量:"↑".concat(Object(v.k)(e.upload)," ↓").concat(Object(v.k)(e.download)),来源:"".concat(t.sourceIP,":").concat(t.sourcePort," (").concat(e.metadata.type,")"),目的地:(!i&&t.host||t.destinationIP)+":"+t.destinationPort,规则:"".concat(e.rule," (").concat(e.rulePayload,")"),"进程路径":e.metadata.processPath,模式:e.chains.slice().reverse().join(" - "),"DNS 模式":e.metadata.dnsMode,"开始时间":p()(e.start).format("MM-DD HH:mm:ss")}}}),methods:{handleCopyVal:function(e){b.clipboard.writeText(e),Object(v.j)("Copied to Clipboad!",e,!0)}},mounted:function(){}},i(627),n=i(37),a=Object(n.a)(c,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"main bg-[color:var(--mask-c)]",class:["theme-"+e.theme],on:{mousedown:function(t){return e.$emit("close")}}},[i("div",{staticClass:"card-main bg-[color:var(--bgc)] text-[color:var(--fgc)]",on:{mousedown:function(e){e.stopPropagation()}}},[i("div",{staticClass:"card-content"},[i("div",{staticClass:"content-title px-4 flex justify-between items-baseline gap-3"},[i("span",[e._v("连接信息")]),e._v(" "),i("div",{staticClass:"flex-grow"}),e._v(" "),e.speedStr?i("div",{staticClass:"text-xs"},[e._v(e._s(e.speedStr))]):e._e(),e._v(" "),i("div",[e.isConnectionClosed?i("span",{staticClass:"text-sm text-[#D44545]"},[e._v("关闭")]):i("span",{staticClass:"text-sm text-[#13AF42]"},[e._v("活动")])])]),e._v(" "),i("div",{staticClass:"w-full h-[1px] bg-gray-300"}),e._v(" "),i("div",{staticClass:"content-list"},e._l(Object.keys(e.data),(function(t,n){return i("div",{key:n,staticClass:"content-item pl-4 pr-4 pt-2 pb-2"},[i("div",{staticClass:"item-key"},[e._v(e._s(t))]),e._v(" "),e.data[t]?i("div",{staticClass:"item-value flex flex-wrap gap-2 opacity-80 font-normal items-center"},[e._v("\n            "+e._s(e.data[t])+"\n            "),i("div",{staticClass:"bg-[color:#64646480] text-white rounded-lg px-2 py-[2px] text-xs h-fit",on:{click:function(i){return e.handleCopyVal(e.data[t])}}},[e._v("\n              复制\n            ")])]):i("div",[e._v("--")])])})),0)])])])}),[],!1,null,"ccee0be2",null).exports,c=i(109),r={components:{Hint:h.a,ConnectionInfoView:a,EscCapture:c.a},props:[],data:function(){return{isPause:!1,searchText:"",client:null,lastData:{uploadTotal:0,downloadTotal:0,connections:[]},data:{uploadTotal:0,downloadTotal:0,connections:[]},labels:['<span class="icon">upload</span><span class="icon">speed</span>','<span class="icon">download</span><span class="icon">speed</span>','<span class="icon">upload</span><span class="icon">signal_cellular_alt</span>','<span class="icon">download</span><span class="icon">signal_cellular_alt</span>','<span class="icon">schedule</span>','<span class="icon">map</span>'],labelSelected:4,reverseTags:[],detailConnectionId:"",filterTypes:[{title:"源IP",key:"sourceIP"},{title:"目的地IP",key:"destinationIP"},{title:"域名",key:"host"},{title:"进程路径",key:"processPath"},{title:"网络",key:"network"},{title:"类型",key:"type"},{title:"源端口",key:"sourcePort"},{title:"目的地端口",key:"destinationPort"},{title:"DNS模式",key:"dnsMode"}],filterTypeIndex:0,isShowTypeFilter:!1}},watch:{searchText:function(e){u.a.put(g.a.CONNECTION_MODULE_SEARCH_TEXT,e)},clashStatus:function(e){this.client&&this.client.terminate(),e===f.a.CONNECTED&&this.setupComponent()}},computed:y(y(y({},Object(r.mapState)({clashStatus:function(e){return e.app.clashStatus}})),Object(r.mapGetters)(["clashAxiosClient","clashWSClient"])),{},{detailConnection:function(){var e=this;return this.detailConnectionId&&this.data.connections.find((function(t){return t.id===e.detailConnectionId}))||null},searchTextReg:function(){try{return new RegExp(this.searchText,"i")}catch(e){}return null},orderedConnections:function(){var e,t=this;if(!this.data)return[];function i(e){return new Date(e).getTime()}var n=s()(this.data.connections).map((function(e){var i=e.id,n=t.lastData.connections.find((function(e){return e.id===i}));return e.speed=n?{upload:e.upload-n.upload,download:e.download-n.download}:{upload:0,download:0},e})).sort((function(e,n){return 4===t.labelSelected?i(e.start)-i(n.start):3===t.labelSelected?n.download-e.download:2===t.labelSelected?n.upload-e.upload:1===t.labelSelected?n.speed.download-e.speed.download:0===t.labelSelected?n.speed.upload-e.speed.upload:5===t.labelSelected?(n.metadata.host||n.metadata.destinationIP||"").localeCompare(e.metadata.host||e.metadata.destinationIP||""):0}));n=null!=this&&null!==(e=this.reverseTags)&&void 0!==e&&e[this.labelSelected]?n.reverse():n;return""===this.searchText?n:n.filter((function(e){if(/^(.+?)\=(.+)$/.test(t.searchText)){var i=RegExp.$1,n=RegExp.$2;return!!(i=((null==e?void 0:e.metadata)||{})[i])&&i===n}return!t.searchTextReg||t.searchTextReg.test(Object(v.f)(e))}))},connTypeLabels:function(){var e=this.filterTypes[this.filterTypeIndex].key,t=[];return this.data.connections.forEach((function(i){i=((null==i?void 0:i.metadata)||{})[e],t.includes(i)||t.push(i)})),t.filter((function(e){return e})).sort()}}),methods:{itemStyle:function(e){var t=[];return this.filterTypeIndex===e&&t.push("selected"),this.filterTypeIndex!==e&&t.push("item-none"),this.filterTypeIndex===e+1&&t.push("selected-top"),this.filterTypeIndex===e-1&&t.push("selected-bottom"),t},connectionEndpoint:function(e){var t=void 0===(i=e.chains)?[]:i,i=(e=this.settings.connChainType,t.length);return[0,2].includes(void 0===e?0:e)&&1<=i?t[0]:""},connectionProcess:function(e){e=void 0===(e=(e=void 0===(e=e.metadata)?{}:e).processPath)?"":e;try{if(e)return m.a.basename(e)}catch(e){}return""},connectionGroup:function(e){var t=void 0===(i=e.chains)?[]:i,i=void 0===(e=this.settings.connChainType)?0:e;e=t.length;return(2!==i||1!==e)&&[1,2].includes(i)&&1<=e?t[e-1]:""},handleLableSelect:function(e){var t;this.labelSelected===e?this.reverseTags[e]=!(null!=this&&null!==(t=this.reverseTags)&&void 0!==t&&t[e]):this.labelSelected=e,u.a.put(g.a.CONNECTION_ORDER_INDEX,e),u.a.put(g.a.CONNECTION_ORDER_REVERSE_TAGS,this.reverseTags)},calcLabelClasses:function(e){var t=["label"];return this.labelSelected===e&&(this.reverseTags[e]?t.push("label-selected-reverse"):t.push("label-selected")),t},calcSpeedText:function(e){var t=[];if(!e.speed)return"";e=void 0===(e=(i=e.speed).upload)?0:e;var i=void 0===(i=i.download)?0:i;return 0!==e&&t.push("↑".concat(this.traffic(e),"/s")),0!==i&&t.push("↓".concat(this.traffic(i),"/s")),t.join(" ")},fromNow:function(e){return p()(e).locale('zh-cn').fromNow()},traffic:function(e){for(var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:2,i=["B","KB","MB","GB","TB"],n=0;~~(e/1024)&&n<i.length;)e/=1024,n++;return"".concat(0===n?e:e.toFixed(t)," ").concat(i[n])},upperCaseFirst:function(e){return e.charAt(0).toUpperCase()+e.slice(1)},handleCloseConnection:function(e){var t=this;return o()(d.a.mark((function i(){return d.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,t.clashAxiosClient.delete("connections/".concat(e));case 2:case"end":return i.stop()}}),i)})))()},handleCloseAllConnections:function(){var e=this;return o()(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.allSettled(e.orderedConnections.map((function(t){return t=t.id,e.clashAxiosClient.delete("connections/".concat(t))})));case 2:case"end":return t.stop()}}),t)})))()},handleItemSelected:function(e){e=e.id,this.detailConnectionId=e},handleSwitchPauseStatus:function(){this.isPause=!this.isPause,this.isPause?this.closeStream():this.openStream()},closeStream:function(){this.client&&this.client.terminate(),this.client=null},openStream:function(){var e=this,t=this.clashWSClient("connections");t&&(t.on("message",(function(t){t=JSON.parse(t),e.lastData=e.data,e.data=t})),this.client=t)},setupComponent:function(){var e;this.labelSelected=null!==(e=u.a.get(g.a.CONNECTION_ORDER_INDEX))&&void 0!==e?e:4,this.reverseTags=null!==(e=u.a.get(g.a.CONNECTION_ORDER_REVERSE_TAGS))&&void 0!==e?e:[],this.isPause||this.openStream()}},beforeRouteEnter:function(e,t,i){var n;i((n=o()(d.a.mark((function t(i){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i.setupComponent(),n=void 0===(n=e.query.searchText)?"":n,i.searchText=n?n.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"):null!==(n=u.a.get(g.a.CONNECTION_MODULE_SEARCH_TEXT))&&void 0!==n?n:"";case 3:case"end":return t.stop()}}),t)}))),function(e){return n.apply(this,arguments)}))},beforeRouteLeave:function(e,t,i){this.closeStream(),i()}},i(629),r=Object(n.a)(r,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"main-connection-view",on:{click:function(t){e.isShowTypeFilter=!1}}},[i("div",{staticClass:"header"},[e._m(0),e._v(" "),i("div",{staticClass:"search-area relative"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.searchText,expression:"searchText"}],ref:"search-text-input",staticClass:"search-box",attrs:{type:"文本",placeholder:"搜索"},domProps:{value:e.searchText},on:{click:function(t){t.stopPropagation(),e.isShowTypeFilter=!0},change:function(t){e.isShowTypeFilter=!1},input:function(t){t.target.composing||(e.searchText=t.target.value)}}}),e._v(" "),e.searchText?i("span",{staticClass:"icon text-sm absolute right-2 h-full flex top-0 items-center clickable",on:{click:function(t){t.stopPropagation(),e.searchText="",e.$refs["search-text-input"].focus(),e.isShowTypeFilter=!0}}},[e._v("close")]):e._e(),e._v(" "),e.isShowTypeFilter?i("EscCapture",{staticClass:"translate-y-[2px] flex w-[500px] h-[400px] absolute rounded overflow-hidden z-10 shadow-md text-sm border border-[color:var(--mbgc)]",on:{click:function(e){e.stopPropagation()},esc:function(t){e.isShowTypeFilter=!1}}},[i("div",{staticClass:"bg-[color:var(--bgc)] w-[120px] flex flex-col flex-shrink-0 items-center"},[e._l(e.filterTypes,(function(t,n){return i("div",{key:t.key,staticClass:"h-[40px] flex items-center justify-center w-full clickable",class:e.itemStyle(n),on:{click:function(t){e.filterTypeIndex=n}}},[e._v("\n            "+e._s(t.title)+"\n          ")])})),e._v(" "),i("div",{staticClass:"flex-grow bg-[color:var(--mbgc)] w-full",class:e.itemStyle(e.filterTypes.length)})],2),e._v(" "),i("div",{staticClass:"bg-[color:var(--bgc)] flex-1 flex flex-col overflow-y-auto scrolly"},e._l(e.connTypeLabels,(function(t){return i("div",{key:t,staticClass:"hover:bg-[color:var(--proxy-item-bgc)] h-fit flex items-center break-all py-1 font-normal px-2 clickable gap-x-1",on:{click:function(i){e.searchText=e.filterTypes[e.filterTypeIndex].key+"="+t,e.isShowTypeFilter=!1}}},[i("div",{staticClass:"icon text-sm"},[e._v("search")]),e._v(" "),i("div",[e._v(e._s(t))])])})),0)]):e._e()],1),e._v(" "),i("div",{staticClass:"header-right"},[i("div",{staticClass:"total-hint"},[e._v("\n        "+e._s("总共: ↑"+e.traffic(e.data.uploadTotal,1)+" ↓"+e.traffic(e.data.downloadTotal,1))+"\n      ")])])]),e._v(" "),i("div",{staticClass:"control-view border-b border-b-[color:var(--bc)]"},[i("div",{staticClass:"labels overflow-clip justify-between w-full"},[i("Hint",{class:e.calcLabelClasses(0),attrs:{hint:"上传速度"},on:{click:function(t){return e.handleLableSelect(0)}}},[i("div",{staticClass:"flex gap-1"},[i("span",{staticClass:"icon"},[e._v("upload")]),i("span",{staticClass:"icon"},[e._v("speed")])])]),e._v(" "),i("Hint",{class:e.calcLabelClasses(1),attrs:{hint:"下载速度"},on:{click:function(t){return e.handleLableSelect(1)}}},[i("div",{staticClass:"flex gap-1"},[i("span",{staticClass:"icon"},[e._v("download")]),i("span",{staticClass:"icon"},[e._v("speed")])])]),e._v(" "),i("Hint",{class:e.calcLabelClasses(2),attrs:{hint:"上传流量"},on:{click:function(t){return e.handleLableSelect(2)}}},[i("div",{staticClass:"flex gap-1"},[i("span",{staticClass:"icon"},[e._v("upload")]),i("span",{staticClass:"icon"},[e._v("signal_cellular_alt")])])]),e._v(" "),i("Hint",{class:e.calcLabelClasses(3),attrs:{hint:"下载流量"},on:{click:function(t){return e.handleLableSelect(3)}}},[i("div",{staticClass:"flex gap-1"},[i("span",{staticClass:"icon"},[e._v("download")]),i("span",{staticClass:"icon"},[e._v("signal_cellular_alt")])])]),e._v(" "),i("Hint",{class:e.calcLabelClasses(4),attrs:{hint:"开始时间"},on:{click:function(t){return e.handleLableSelect(4)}}},[i("span",{staticClass:"icon"},[e._v("schedule")])]),e._v(" "),i("Hint",{class:e.calcLabelClasses(5),attrs:{hint:"目的地"},on:{click:function(t){return e.handleLableSelect(5)}}},[i("span",{staticClass:"icon"},[e._v("computer")])]),e._v(" "),i("div",{staticClass:"flex-grow"}),e._v(" "),i("div",{class:["close-all-btn",e.isPause?"button-resume":"button-pause"],on:{click:e.handleSwitchPauseStatus}},[e._v("\n        "+e._s(e.isPause?"恢复":"暂停")+"\n      ")]),e._v(" "),i("div",{staticClass:"close-all-btn",on:{click:e.handleCloseAllConnections}},[e._v("\n        全部关闭\n        "),i("span",[e._v("("+e._s(e.orderedConnections.length)+")")])])],1)]),e._v(" "),i("div",{staticClass:"scroll-view"},e._l(e.orderedConnections,(function(t){return i("div",{key:t.id,class:["conn-item",t.closed?"conn-item-closed":""],on:{click:function(i){return e.handleItemSelected(t)}}},[i("div",[i("div",{staticClass:"conn-item-top"},[i("div",{staticClass:"conn-host"},[e._v("\n            "+e._s(t.metadata.host||t.metadata.destinationIP)+":"+e._s(t.metadata.destinationPort)+"\n          ")])]),e._v(" "),i("div",{staticClass:"conn-labels"},[i("div",{staticClass:"conn1"},[e._v("\n            "+e._s(t.metadata.network.toUpperCase())+"\n          ")]),e._v(" "),i("div",{staticClass:"conn2"},[e._v(e._s(t.metadata.type))]),e._v(" "),e.settings.connShowProcess&&e.connectionProcess(t)?i("div",{staticClass:"conn7"},[e._v("\n            "+e._s(e.connectionProcess(t))+"\n          ")]):e._e(),e._v(" "),e.connectionGroup(t)?i("div",{staticClass:"conn3"},[e._v("\n            "+e._s(e.connectionGroup(t))+"\n          ")]):e._e(),e._v(" "),e.connectionEndpoint(t)?i("div",{staticClass:"conn4"},[e._v("\n            "+e._s(e.connectionEndpoint(t))+"\n          ")]):e._e(),e._v(" "),i("div",{staticClass:"conn5"},[e._v("\n            "+e._s(e.upperCaseFirst(e.fromNow(t.start)))+"\n          ")]),e._v(" "),t.speed.upload||t.speed.download?i("div",{staticClass:"conn6"},[e._v("\n            "+e._s(e.calcSpeedText(t))+"\n          ")]):e._e()])]),e._v(" "),t.closed||e.isPause?e._e():i("div",{staticClass:"close-btn",on:{click:function(i){return i.stopPropagation(),e.handleCloseConnection(t.id)}}},[i("span",{staticClass:"icon text flex justify-center items-center w-full h-full"},[e._v("block")])])])})),0),e._v(" "),e.detailConnectionId?i("ConnectionInfoView",{attrs:{connection:e.detailConnection},on:{close:function(t){e.detailConnectionId=""}}}):e._e()],1)}),[function(){var e=this.$createElement;return(e=this._self._c||e)("div",{staticClass:"title"},[e("div",[this._v("连接")])])}],!1,null,"1058080a",null),t.default=r.exports},function(e,t,i){"use strict";i.r(t);var n=i(13),o=i.n(n),r=i(31),s=i.n(r),a=i(7),l=i.n(a),c=i(40),d=i(41),h=(n=i(87),i.n(n)),u=Symbol(),g=Symbol(),p=Symbol(),f=(r={props:["src","clickalbe"],data:function(){return{status:u}},computed:{isDefault:function(){return this.status===u},isLoaded:function(){return this.status===g},isFailed:function(){return this.status===p}},methods:{imgLoaded:function(){this.status=g},imgFailed:function(){this.status=p}}},a=(i(649),i(37)),n=Object(a.a)(r,(function(){var e=this,t=e.$createElement;return(t=e._self._c||t)("div",{attrs:{id:"lazy-image-view clickable"}},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.isDefault,expression:"isDefault"}],staticClass:"placeholder ad-img twinkling"},[t("div",[e._v("图片正在加载")])]),e._v(" "),t("img",{directives:[{name:"show",rawName:"v-show",value:e.isLoaded,expression:"isLoaded"}],staticClass:"ad-img clickable",attrs:{src:e.src},on:{load:e.imgLoaded,error:e.imgFailed,click:function(t){return e.$emit("click")}}}),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:e.isFailed,expression:"isFailed"}],staticClass:"ad-img error-img clickable",on:{click:function(t){return e.$emit("click")}}},[t("div",[e._v("The image failed to load, click to redirect to the website.")])])])}),[],!1,null,"34599eb0",null).exports,r=i(33),i(24));function m(e,t){var i,n=Object.keys(e);return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(e),t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)),n}r={props:[],components:{LazyImageView:n},data:function(){return{adImages:[],isShowDisclaimerStatement:!1}},computed:function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?m(Object(i),!0).forEach((function(t){s()(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):m(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},Object(r.mapState)({})),methods:{select:function(e){f.shell.openExternal(["https://t.me/Rules_lhie1","https://t.me/Fndroids","https://github.com/Z-Siqi/Clash-for-Windows_Chinese-Attached","https://github.com/Dreamacro/clash","https://github.com/yichengchen/clashX","https://docs.cfw.lbyczf.com/","https://fndroid.github.io/clash-config-builder/","https://github.com/tiagonmas/Windows-Loopback-Exemption-Manager","https://github.com/Noisyfox/sysproxy","https://github.com/eycorsican/go-tun2socks","https://dev.maxmind.com/geoip/geoip2/geolite2/","https://github.com/twitter/twemoji","https://github.com/Jigsaw-Code/outline-client","https://github.com/microsoft/terminal/","https://www.wintun.net/","https://github.com/winsw/winsw","https://apps.apple.com/us/app-bundle/quantumult-x-upgrade/id1482985563","https://github.com/Kr328/clash-premium-installer","https://github.com/microsoft/monaco-editor","https://fonts.google.com/icons"][e])},adClick:function(e){f.shell.openExternal(this.adImages[e].click)}},beforeRouteEnter:function(e,t,i){var n;i((n=o()(l.a.mark((function e(t){var i,n,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.adImages=c.a.get(d.a.AD_IMAGES)||[],e.next=3,h.a.get("https://raw.githubusercontent.com/Fndroid/ads/master/ads_v2.json?t="+(new Date).getTime());case 3:o=e.sent,i=o.status,o=o.data,200===i&&(n=o.feedback)&&(o=n,c.a.put(d.a.AD_IMAGES,o),t.adImages=o);case 6:case"end":return e.stop()}}),e)}))),function(e){return n.apply(this,arguments)}))}},i(651),i(653),i(655),r=Object(a.a)(r,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"relative",attrs:{id:"main-about-view"}},[e._m(0),e._v(" "),i("div",{staticClass:"section"},[i("div",{staticClass:"title"},[e._v("关于")]),e._v(" "),i("div",{staticClass:"chat-list gap-[20px]"},[i("div",{staticClass:"text-[color:var(--feedback-link-c)] cursor-pointer",on:{click:function(t){return e.select(2)}}},[e._v("\n          Github\n        ")]),e._v(" "),i("div",{staticClass:"text-[color:var(--feedback-link-c)] cursor-pointer",on:{click:function(t){return e.select(5)}}},[e._v("\n          帮助文档\n        ")]),e._v(" "),i("div",{staticClass:"text-[color:var(--feedback-link-c)] cursor-pointer",on:{click:function(t){e.isShowDisclaimerStatement=!0}}},[e._v("\n          免责声明\n        ")])])]),e._v(" "),i("div",{staticClass:"section"},[i("div",{staticClass:"title"},[e._v("鸣谢")]),e._v(" "),i("div",{staticClass:"flex flex-wrap gap-x-[20px]"},[i("div",{staticClass:"text-[color:var(--feedback-link-c)] cursor-pointer",on:{click:function(t){return e.select(3)}}},[e._v("\n          Clash\n        ")]),e._v(" "),i("div",{staticClass:"text-[color:var(--feedback-link-c)] cursor-pointer",on:{click:function(t){return e.select(4)}}},[e._v("\n          ClashX\n        ")]),e._v(" "),i("div",{staticClass:"text-[color:var(--feedback-link-c)] cursor-pointer",on:{click:function(t){return e.select(16)}}},[e._v("\n          Quantumult(X)\n        ")]),e._v(" "),i("div",{staticClass:"text-[color:var(--feedback-link-c)] cursor-pointer",on:{click:function(t){return e.select(10)}}},[e._v("\n          GeoLite2\n        ")]),e._v(" "),i("div",{staticClass:"text-[color:var(--feedback-link-c)] cursor-pointer",on:{click:function(t){return e.select(11)}}},[e._v("\n          twemoji\n        ")]),e._v(" "),i("div",{staticClass:"text-[color:var(--feedback-link-c)] cursor-pointer",on:{click:function(t){return e.select(7)}}},[e._v("\n          EnableLoopback\n        ")]),e._v(" "),i("div",{staticClass:"text-[color:var(--feedback-link-c)] cursor-pointer",on:{click:function(t){return e.select(8)}}},[e._v("\n          sysproxy\n        ")]),e._v(" "),i("div",{staticClass:"text-[color:var(--feedback-link-c)] cursor-pointer",on:{click:function(t){return e.select(9)}}},[e._v("\n          go-tun2socks\n        ")]),e._v(" "),i("div",{staticClass:"text-[color:var(--feedback-link-c)] cursor-pointer",on:{click:function(t){return e.select(12)}}},[e._v("\n          outline-client\n        ")]),e._v(" "),i("div",{staticClass:"text-[color:var(--feedback-link-c)] cursor-pointer",on:{click:function(t){return e.select(13)}}},[e._v("\n          terminal\n        ")]),e._v(" "),i("div",{staticClass:"text-[color:var(--feedback-link-c)] cursor-pointer",on:{click:function(t){return e.select(14)}}},[e._v("\n          Wintun\n        ")]),e._v(" "),i("div",{staticClass:"text-[color:var(--feedback-link-c)] cursor-pointer",on:{click:function(t){return e.select(15)}}},[e._v("\n          winsw\n        ")]),e._v(" "),i("div",{staticClass:"text-[color:var(--feedback-link-c)] cursor-pointer",on:{click:function(t){return e.select(17)}}},[e._v("\n          clash-premium-installer\n        ")]),e._v(" "),i("div",{staticClass:"text-[color:var(--feedback-link-c)] cursor-pointer",on:{click:function(t){return e.select(18)}}},[e._v("\n          monaco-editor\n        ")]),e._v(" "),i("div",{staticClass:"text-[color:var(--feedback-link-c)] cursor-pointer",on:{click:function(t){return e.select(19)}}},[e._v("\n          Material Icons\n        ")])])]),e._v(" "),i("div",{staticClass:"section ad-section"},[i("div",{staticClass:"title"},[e._v("广告")]),e._v(" "),i("div",{staticClass:"ad-img-list"},e._l(e.adImages,(function(t,n){return i("div",{key:n,staticClass:"ad-img"},[i("lazy-image-view",{attrs:{clickalbe:t.click,src:t.img},on:{click:function(t){return e.adClick(n)}}})],1)})),0)]),e._v(" "),i("div",{staticClass:"absolute mt-[1000px]"},[e._v("\n      "+e._s(decodeURIComponent("%E7%8B%AC%E7%AB%8B%E6%80%9D%E8%80%83%EF%BC%8C%E6%98%8E%E8%BE%A8%E6%98%AF%E9%9D%9E%E3%80%82"))+"\n    ")]),e._v(" "),e.isShowDisclaimerStatement?i("div",{staticClass:"w-full h-full absolute bg-[color:var(--mask-c)] top-0 left-0",on:{mousedown:function(t){if(t.target!==t.currentTarget)return null;e.isShowDisclaimerStatement=!1}}},[i("pre",{staticClass:"left-1/2 top-1/2 w-3/5 break-words whitespace-pre-wrap text-sm absolute bg-[color:var(--bgc)] px-4 py-3 h-4/5 scrolly -translate-x-1/2 -translate-y-1/2 rounded-md shadow-2xl font-sans select-text"},[e._v("1. 本软件仅供学习和研究网络技术之用，用户必须遵守所在地区的法律法规，不得用于非法用途，本软件不对任何人的行为负责。 \n\n2. 用户在使用本软件时必须严格遵守所在国家/地区的法律、法规和政策。 因违反有关法律、法规和政策而导致的任何后果或责任由用户自行承担。\n\n3. 本软件不负责传输内容。 因此，如因使用本软件而产生任何问题或后果，由用户自行承担全部责任。\n\n4. 如本软件违反用户所在国家/地区的任何法律法规，用户必须立即停止使用并承担相应的法律责任。\n\n5. 用户在使用本软件时，即承认并同意本软件不能保证网络的稳定性、准确性、及时性和安全性。 因网络拥塞、防火墙限制、DNS污染、运营商干扰等原因造成的连接问题或无法连接，本软件不承担任何责任。\n\n6. 本软件不提供技术支持，对因用户使用本软件而造成的任何直接或间接损失，包括但不限于财产损失、数据丢失及其他形式的损失不承担任何责任。\n\n7. 本软件已尽力确保软件的稳定性和安全性，但对用户因使用本软件而遭受的任何直接或间接损失不承担任何责任。\n\n8. 软件保留随时更改条款和条件的权利。 一旦条款和条件发生变化，将在软件页面上发布公告。 用户需关注并遵守最新版本的条款和条件。\n    ")])]):e._e()])}),[function(){var e=this.$createElement;return(e=this._self._c||e)("div",{staticClass:"section"},[e("div",{staticClass:"title"},[this._v("作者")]),this._v(" "),e("div",{staticClass:"content"},[this._v("404 Frror(原作者) TheSmallHanCar(美化)")])])}],!1,null,"440c4ef6",null),t.default=r.exports},function(e,t,i){"use strict";i.r(t);var n=i(31),o=i.n(n),r=i(33),s=i(24),a=i(109),l={name:"CheckBox",model:{prop:"checked",event:"change"},props:{checked:{type:Boolean,default:!1},size:{type:Number,default:20}},data:function(){return{}}},c=(i(676),i(37));n=Object(c.a)(l,(function(){var e=this,t=e.$createElement;return(t=e._self._c||t)("div",{staticClass:"main-check-box",on:{click:function(t){return e.$emit("change",!e.checked)}}},[[t("span",{staticClass:"icon text-[color:var(--fgc)] text-[20px]"},[e._v("check_box"+e._s(e.checked?"":"_outline_blank"))])],e._v(" "),t("div",{staticClass:"slot"},[e._t("default")],2)],2)}),[],!1,null,"1c767bad",null).exports,l=i(137);function d(e,t){var i,n=Object.keys(e);return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(e),t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)),n}function h(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?d(Object(i),!0).forEach((function(t){o()(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):d(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}r={components:{EscCapture:a.a,CheckBox:n,SelectView:l.a},name:"SelectPlugin",props:[],data:function(){return{isShow:!1,title:"",message:"",html:"",items:[],resolve:null,reject:null,checkList:[],itemStyles:[],reactions:null,reactionClick:function(){},subSelectItems:[],subSelectIndex:0,subSelectTitle:""}},computed:h(h({},Object(r.mapGetters)(["theme"])),{},{reactionList:function(){var e=this,t=["👍","😄","🎉","❤️","🚀","👀"];return["+1","laugh","hooray","heart","rocket","eyes"].reduce((function(i,n,o){return e.reactions[n]&&i.push({key:t[o],value:e.reactions[n]}),i}),[])}}),methods:{show:function(e){var t=this,i=void 0===(s=e.items)?[]:s,n=void 0===(d=e.title)?"Select":d,o=void 0===(a=e.message)?"":a,r=void 0===(c=e.checkList)?[]:c,s=void 0===(l=e.itemStyles)?[]:l,a=void 0===(d=e.html)?"":d,l=void 0===(c=e.reactions)?null:c,c=void 0===(d=e.reactionClick)?function(){}:d,d=void 0===(d=e.subSelectItems)?[]:d;e=void 0===(e=e.subSelectTitle)?"":e;return this.isShow=!0,this.title=n,this.items=i,this.message=o,this.checkList=r,this.itemStyles=s,this.html=a,this.reactions=l,this.reactionClick=c,this.subSelectItems=d,this.subSelectTitle=e,new Promise((function(e,i){t.resolve=e,t.reject=i}))},handleCancel:function(){this.isShow=!1,this.reject()},handleDone:function(){this.isShow=!1,this.resolve({})},handleItemSelect:function(e){var t;this.isShow=!1,0<this.subSelectItems.length?this.resolve([e,this.subSelectIndex]):0<(null===(t=this.checkList)||void 0===t?void 0:t.length)?this.resolve([e,this.checkList]):this.resolve([e])},handleHTMLClick:function(e){"A"===e.target.tagName&&(e.preventDefault(),(e=e.target.getAttribute("href"))&&s.shell.openExternal(e))}}},i(678),r=Object(c.a)(r,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.isShow?i("EscCapture",{staticClass:"main-select-view-plugin bg-[color:var(--mask-c)]",class:["theme-"+e.theme],on:{esc:e.handleCancel,mousedown:e.handleCancel}},[i("div",{staticClass:"card-main bg-[color:var(--bgc)] text-[color:var(--fgc)]",on:{mousedown:function(e){e.stopPropagation()}}},[i("div",{staticClass:"card-content"},[i("div",{staticClass:"content-title"},[e._v(e._s(e.title))]),e._v(" "),e.message?i("div",{staticClass:"content-message"},e._l(e.message.split("\n"),(function(t){return i("p",{key:t},[e._v("\n          "+e._s(t)+"\n        ")])})),0):i("div",{staticClass:"html-list",domProps:{innerHTML:e._s(e.html)},on:{click:e.handleHTMLClick}}),e._v(" "),e.reactions?i("div",{staticClass:"flex gap-3 mb-[10px]",on:{click:e.reactionClick}},e._l(e.reactionList,(function(t){return i("div",{key:t.key,staticClass:"flex justify-center items-center gap-1 border-[1px] rounded-lg border-[color:var(--bc)] px-2"},[i("div",[e._v(e._s(t.key))]),e._v(" "),i("div",{staticClass:"text-sm font-normal"},[e._v(e._s(t.value))])])})),0):e._e(),e._v(" "),e.checkList&&0<e.checkList.length?i("div",{staticClass:"check-list"},e._l(e.checkList,(function(t){return i("div",{key:t,staticClass:"check-item"},[i("check-box",{model:{value:t.value,callback:function(i){e.$set(t,"value",i)},expression:"item.value"}},[e._v(e._s(t.key))])],1)})),0):e._e(),e._v(" "),0<e.subSelectItems.length?i("div",{staticClass:"mb-[10px] flex items-center gap-2"},[i("div",[e._v(e._s(e.subSelectTitle))]),e._v(" "),i("SelectView",{attrs:{items:e.subSelectItems},model:{value:e.subSelectIndex,callback:function(t){e.subSelectIndex=t},expression:"subSelectIndex"}})],1):e._e(),e._v(" "),i("div",{staticClass:"btns"},e._l(e.items,(function(t,n){return i("div",{key:n,staticClass:"btn",style:e.itemStyles[n],on:{click:function(t){return e.handleItemSelect(n)}}},[t?i("span",[e._v(e._s(t))]):e._e()])})),0)])])]):e._e()}),[],!1,null,"1c49338c",null),t.default=r.exports},function(e,t,i){"use strict";i.r(t),i.d(t,"FoldingController",(function(){return U})),i.d(t,"foldBackgroundBackground",(function(){return G})),i.d(t,"editorFoldForeground",(function(){return Y}));var n=i(18),o=i(17),r=i(71),s=i(2),a=i(9),l=i(19),c=(i(506),i(103)),d=i(5),h=i(8),u=i(11),g=i(49),p=i(6);const f=16777215;class m{constructor(e,t,i){if(e.length!==t.length||65535<e.length)throw new Error("invalid startIndexes or endIndexes size");this._startIndexes=e,this._endIndexes=t,this._collapseStates=new Uint32Array(Math.ceil(e.length/32)),this._types=i,this._parentsComputed=!1}ensureParentIndices(){if(!this._parentsComputed){this._parentsComputed=!0;let o=[];var e=(e,t)=>{var i=o[o.length-1];return this.getStartLineNumber(i)<=e&&this.getEndLineNumber(i)>=t};for(let r=0,s=this._startIndexes.length;r<s;r++){var t=this._startIndexes[r],i=this._endIndexes[r];if(t>f||i>f)throw new Error("startLineNumber or endLineNumber must not exceed "+f);for(;0<o.length&&!e(t,i);)o.pop();var n=0<o.length?o[o.length-1]:-1;o.push(r),this._startIndexes[r]=t+((255&n)<<24),this._endIndexes[r]=i+((65280&n)<<16)}}}get length(){return this._startIndexes.length}getStartLineNumber(e){return this._startIndexes[e]&f}getEndLineNumber(e){return this._endIndexes[e]&f}getType(e){return this._types?this._types[e]:void 0}hasTypes(){return!!this._types}isCollapsed(e){return 0!=(this._collapseStates[e/32|0]&1<<e%32)}setCollapsed(e,t){var i=e/32|0,n=e%32;e=this._collapseStates[i];this._collapseStates[i]=t?e|1<<n:e&~(1<<n)}setCollapsedAllOfType(e,t){let i=!1;if(this._types)for(let n=0;n<this._types.length;n++)this._types[n]===e&&(this.setCollapsed(n,t),i=!0);return i}toRegion(e){return new v(this,e)}getParentIndex(e){return this.ensureParentIndices(),65535==(e=((4278190080&this._startIndexes[e])>>>24)+((4278190080&this._endIndexes[e])>>>16))?-1:e}contains(e,t){return this.getStartLineNumber(e)<=t&&this.getEndLineNumber(e)>=t}findIndex(e){let t=0,i=this._startIndexes.length;if(0===i)return-1;for(;t<i;){var n=Math.floor((t+i)/2);e<this.getStartLineNumber(n)?i=n:t=n+1}return t-1}findRange(e){let t=this.findIndex(e);if(0<=t){if(e<=this.getEndLineNumber(t))return t;for(t=this.getParentIndex(t);-1!==t;){if(this.contains(t,e))return t;t=this.getParentIndex(t)}}return-1}toString(){let e=[];for(let t=0;t<this.length;t++)e[t]=`[${this.isCollapsed(t)?"+":"-"}] ${this.getStartLineNumber(t)}/${this.getEndLineNumber(t)}`;return e.join(", ")}}class v{constructor(e,t){this.ranges=e,this.index=t}get startLineNumber(){return this.ranges.getStartLineNumber(this.index)}get endLineNumber(){return this.ranges.getEndLineNumber(this.index)}get regionIndex(){return this.index}get parentIndex(){return this.ranges.getParentIndex(this.index)}get isCollapsed(){return this.ranges.isCollapsed(this.index)}containedBy(e){return e.startLineNumber<=this.startLineNumber&&e.endLineNumber>=this.endLineNumber}containsLine(e){return this.startLineNumber<=e&&e<=this.endLineNumber}}class b{constructor(e,t){this._updateEventEmitter=new p.b,this.onDidChange=this._updateEventEmitter.event,this._textModel=e,this._decorationProvider=t,this._regions=new m(new Uint32Array(0),new Uint32Array(0)),this._editorDecorationIds=[],this._isInitialized=!1}get regions(){return this._regions}get textModel(){return this._textModel}get isInitialized(){return this._isInitialized}toggleCollapseState(e){if(e.length){e=e.sort((e,t)=>e.regionIndex-t.regionIndex);const t={};this._decorationProvider.changeDecorations(i=>{let n=0,o=-1,r=-1;var s,a=e=>{for(;n<e;){var t=this._regions.getEndLineNumber(n),s=this._regions.isCollapsed(n);t<=o&&i.changeDecorationOptions(this._editorDecorationIds[n],this._decorationProvider.getDecorationOption(s,t<=r)),s&&t>r&&(r=t),n++}};for(s of e){var l=s.regionIndex,c=this._editorDecorationIds[l];c&&!t[c]&&(t[c]=!0,a(l),c=!this._regions.isCollapsed(l),this._regions.setCollapsed(l,c),o=Math.max(o,this._regions.getEndLineNumber(l)))}a(this._regions.length)}),this._updateEventEmitter.fire({model:this,collapseStateChanged:e})}}update(e,t=[]){let i=[],n=-1;var o=(o,r)=>{var s=e.getStartLineNumber(o),a=e.getEndLineNumber(o);(r=r||e.isCollapsed(o))&&((e,i)=>{for(var n of t)if(e<n&&n<=i)return!0;return!1})(s,a)&&(r=!1),e.setCollapsed(o,r),o=this._textModel.getLineMaxColumn(s),o={startLineNumber:s,startColumn:Math.max(o-1,1),endLineNumber:s,endColumn:o},i.push({range:o,options:this._decorationProvider.getDecorationOption(r,a<=n)}),r&&a>n&&(n=a)};let r=0;var s=()=>{for(;r<this._regions.length;){var e=this._regions.isCollapsed(r);if(r++,e)return r-1}return-1};let a=0,l=s();for(;-1!==l&&a<e.length;){var c=this._textModel.getDecorationRange(this._editorDecorationIds[l]);if(c){var d=c.startLineNumber;if(c.startColumn===Math.max(c.endColumn-1,1)&&this._textModel.getLineMaxColumn(d)===c.endColumn)for(;a<e.length;){var h=e.getStartLineNumber(a);if(!(h<=d))break;o(a,d===h),a++}}l=s()}for(;a<e.length;)o(a,!1),a++;this._editorDecorationIds=this._decorationProvider.deltaDecorations(this._editorDecorationIds,i),this._regions=e,this._isInitialized=!0,this._updateEventEmitter.fire({model:this})}getMemento(){let e=[];for(let n=0;n<this._regions.length;n++){var t,i;!this._regions.isCollapsed(n)||(i=this._textModel.getDecorationRange(this._editorDecorationIds[n]))&&(t=i.startLineNumber,i=i.endLineNumber+this._regions.getEndLineNumber(n)-this._regions.getStartLineNumber(n),e.push({startLineNumber:t,endLineNumber:i}))}if(0<e.length)return e}applyMemento(e){if(Array.isArray(e)){let i=[];for(var t of e)(t=this.getRegionAtLine(t.startLineNumber))&&!t.isCollapsed&&i.push(t);this.toggleCollapseState(i)}}dispose(){this._decorationProvider.deltaDecorations(this._editorDecorationIds,[])}getAllRegionsAtLine(e,t){let i=[];if(this._regions){let o=this._regions.findRange(e),r=1;for(;0<=o;){var n=this._regions.toRegion(o);t&&!t(n,r)||i.push(n),r++,o=n.parentIndex}}return i}getRegionAtLine(e){return this._regions&&0<=(e=this._regions.findRange(e))?this._regions.toRegion(e):null}getRegionsInside(e,t){let i=[];var n=e?e.regionIndex+1:0,o=e?e.endLineNumber:Number.MAX_VALUE;if(t&&2===t.length){const e=[];for(let r=n,s=this._regions.length;r<s;r++){let n=this._regions.toRegion(r);if(!(this._regions.getStartLineNumber(r)<o))break;for(;0<e.length&&!n.containedBy(e[e.length-1]);)e.pop();e.push(n),t(n,e.length)&&i.push(n)}}else for(let e=n,s=this._regions.length;e<s;e++){var r=this._regions.toRegion(e);if(!(this._regions.getStartLineNumber(e)<o))break;t&&!t(r)||i.push(r)}return i}}function _(e,t,i=Number.MAX_VALUE,n){let o=[];if(n&&0<n.length)for(var r of n)(r=e.getRegionAtLine(r))&&(r.isCollapsed!==t&&o.push(r),1<i&&(r=e.getRegionsInside(r,(e,n)=>e.isCollapsed!==t&&n<i),o.push(...r)));else n=e.getRegionsInside(null,(e,n)=>e.isCollapsed!==t&&n<i),o.push(...n);e.toggleCollapseState(o)}function w(e,t,i,n){let o=[];for(var r of n)r=e.getAllRegionsAtLine(r,(e,n)=>e.isCollapsed!==t&&n<=i),o.push(...r);e.toggleCollapseState(o)}function C(e,t,i){let n=[];for(var o of i)n.push(e.getAllRegionsAtLine(o,void 0)[0]);i=e.getRegionsInside(null,e=>n.every(t=>!t.containedBy(e)&&!e.containedBy(t))&&e.isCollapsed!==t),e.toggleCollapseState(i)}function y(e,t,i){let n=e.textModel,o=e.regions,r=[];for(let e=o.length-1;0<=e;e--){var s;i!==o.isCollapsed(e)&&(s=o.getStartLineNumber(e),t.test(n.getLineContent(s))&&r.push(o.toRegion(e)))}e.toggleCollapseState(r)}function x(e,t,i){let n=e.regions,o=[];for(let e=n.length-1;0<=e;e--)i!==n.isCollapsed(e)&&t===n.getType(e)&&o.push(n.toRegion(e));e.toggleCollapseState(o)}var S=i(22),k=i(3);class D{constructor(e){this._updateEventEmitter=new p.b,this._foldingModel=e,this._foldingModelListener=e.onDidChange(e=>this.updateHiddenRanges()),this._hiddenRanges=[],e.regions.length&&this.updateHiddenRanges()}get onDidChange(){return this._updateEventEmitter.event}get hiddenRanges(){return this._hiddenRanges}updateHiddenRanges(){let e=!1,t=[],i=0,n=0,o=Number.MAX_VALUE,r=-1,s=this._foldingModel.regions;for(;i<s.length;i++){var a,l;s.isCollapsed(i)&&(a=s.getStartLineNumber(i)+1,l=s.getEndLineNumber(i),o<=a&&l<=r||(!e&&n<this._hiddenRanges.length&&this._hiddenRanges[n].startLineNumber===a&&this._hiddenRanges[n].endLineNumber===l?(t.push(this._hiddenRanges[n]),n++):(e=!0,t.push(new k.a(a,1,l,1))),o=a,r=l))}(e||n<this._hiddenRanges.length)&&this.applyHiddenRanges(t)}applyMemento(e){if(!Array.isArray(e)||0===e.length)return!1;let t=[];for(var i of e){if(!i.startLineNumber||!i.endLineNumber)return!1;t.push(new k.a(i.startLineNumber+1,1,i.endLineNumber,1))}return this.applyHiddenRanges(t),!0}getMemento(){return this._hiddenRanges.map(e=>({startLineNumber:e.startLineNumber-1,endLineNumber:e.endLineNumber}))}applyHiddenRanges(e){this._hiddenRanges=e,this._updateEventEmitter.fire(e)}hasRanges(){return 0<this._hiddenRanges.length}isHidden(e){return null!==L(this._hiddenRanges,e)}adjustSelections(e){let t=!1,i=this._foldingModel.textModel,n=null;var o=e=>{var t,i;return n&&((t=e)>=(i=n).startLineNumber&&t<=i.endLineNumber)||(n=L(this._hiddenRanges,e)),n?n.startLineNumber-1:null};for(let n=0,s=e.length;n<s;n++){let s=e[n];var r=o(s.startLineNumber);r&&(s=s.setStartPosition(r,i.getLineMaxColumn(r)),t=!0),(r=o(s.endLineNumber))&&(s=s.setEndPosition(r,i.getLineMaxColumn(r)),t=!0),e[n]=s}return t}dispose(){0<this.hiddenRanges.length&&(this._hiddenRanges=[],this._updateEventEmitter.fire(this._hiddenRanges)),this._foldingModelListener&&(this._foldingModelListener.dispose(),this._foldingModelListener=null)}}function L(e,t){var i=Object(S.h)(e,e=>t<e.startLineNumber)-1;return 0<=i&&e[i].endLineNumber>=t?e[i]:null}var O=i(42);class E{constructor(e){this.editorModel=e,this.id="indent"}dispose(){}compute(e){var t=(i=g.b.getFoldingRules(this.editorModel.getLanguageId()))&&!!i.offSide,i=i&&i.markers;return Promise.resolve(function(e,t,i,n=5e3){var o=e.getOptions().tabSize;let r=new N(n),s=void 0;i&&(s=new RegExp(`(${i.start.source})|(?:${i.end.source})`));let a=[],l=e.getLineCount()+1;a.push({indent:-1,endAbove:l,line:l});for(let i=e.getLineCount();0<i;i--){let n=e.getLineContent(i);var c=O.c.computeIndentLevel(n,o);let l=a[a.length-1];if(-1!==c){let e;if(s&&(e=n.match(s))){if(!e[1]){a.push({indent:-2,endAbove:i,line:i});continue}{let e=a.length-1;for(;0<e&&-2!==a[e].indent;)e--;if(0<e){a.length=e+1,l=a[e],r.insertFirst(i,l.line,c),l.line=i,l.indent=c,l.endAbove=i;continue}}}if(l.indent>c){for(;a.pop(),l=a[a.length-1],l.indent>c;);var d=l.endAbove-1;1<=d-i&&r.insertFirst(i,d,c)}l.indent===c?l.endAbove=i:a.push({indent:c,endAbove:i,line:i})}else t&&(l.endAbove=i)}return r.toIndentRanges(e)}(this.editorModel,t,i))}}class N{constructor(e){this._startIndexes=[],this._endIndexes=[],this._indentOccurrences=[],this._length=0,this._foldingRangesLimit=e}insertFirst(e,t,i){var n;e>f||t>f||(n=this._length,this._startIndexes[n]=e,this._endIndexes[n]=t,this._length++,i<1e3&&(this._indentOccurrences[i]=(this._indentOccurrences[i]||0)+1))}toIndentRanges(e){if(this._length<=this._foldingRangesLimit){let e=new Uint32Array(this._length),t=new Uint32Array(this._length);for(let i=this._length-1,n=0;0<=i;i--,n++)e[n]=this._startIndexes[i],t[n]=this._endIndexes[i];return new m(e,t)}{let r=0,s=this._indentOccurrences.length;for(let e=0;e<this._indentOccurrences.length;e++){var t=this._indentOccurrences[e];if(t){if(t+r>this._foldingRangesLimit){s=e;break}r+=t}}var i=e.getOptions().tabSize;let a=new Uint32Array(this._foldingRangesLimit),l=new Uint32Array(this._foldingRangesLimit);for(let t=this._length-1,c=0;0<=t;t--){var n=this._startIndexes[t],o=e.getLineContent(n);((o=O.c.computeIndentLevel(o,i))<s||o===s&&r++<this._foldingRangesLimit)&&(a[c]=n,l[c]=this._endIndexes[t],c++)}return new m(a,l)}}}const I={};class T{constructor(e,t,i,n=5e3){this.editorModel=e,this.providers=t,this.limit=n,this.id="syntax";for(const e of t)"function"==typeof e.onDidChange&&(this.disposables||(this.disposables=new s.b),this.disposables.add(e.onDidChange(i)))}compute(e){return function(e,t,i){let n=null,r=e.map((e,r)=>Promise.resolve(e.provideFoldingRanges(t,I,i)).then(e=>{if(!i.isCancellationRequested&&Array.isArray(e)){Array.isArray(n)||(n=[]);var o,s=t.getLineCount();for(o of e)0<o.start&&o.end>o.start&&o.end<=s&&n.push({start:o.start,end:o.end,rank:r,kind:o.kind})}},o.g));return Promise.all(r).then(e=>n)}(this.providers,this.editorModel,e).then(e=>e?A(e,this.limit):null)}dispose(){var e;null!==(e=this.disposables)&&void 0!==e&&e.dispose()}}class M{constructor(e){this._startIndexes=[],this._endIndexes=[],this._nestingLevels=[],this._nestingLevelCounts=[],this._types=[],this._length=0,this._foldingRangesLimit=e}add(e,t,i,n){var o;e>f||t>f||(o=this._length,this._startIndexes[o]=e,this._endIndexes[o]=t,this._nestingLevels[o]=n,this._types[o]=i,this._length++,n<30&&(this._nestingLevelCounts[n]=(this._nestingLevelCounts[n]||0)+1))}toIndentRanges(){if(this._length<=this._foldingRangesLimit){let e=new Uint32Array(this._length),t=new Uint32Array(this._length);for(let i=0;i<this._length;i++)e[i]=this._startIndexes[i],t[i]=this._endIndexes[i];return new m(e,t,this._types)}{let i=0,n=this._nestingLevelCounts.length;for(let t=0;t<this._nestingLevelCounts.length;t++){var e=this._nestingLevelCounts[t];if(e){if(e+i>this._foldingRangesLimit){n=t;break}i+=e}}let o=new Uint32Array(this._foldingRangesLimit),r=new Uint32Array(this._foldingRangesLimit),s=[];for(let e=0,a=0;e<this._length;e++){var t=this._nestingLevels[e];(t<n||t===n&&i++<this._foldingRangesLimit)&&(o[a]=this._startIndexes[e],r[a]=this._endIndexes[e],s[a]=this._types[e],a++)}return new m(o,r,s)}}}function A(e,t){var i;e=e.sort((e,t)=>{let i=e.start-t.start;return 0===i&&(i=e.rank-t.rank),i});let n=new M(t),o=void 0,r=[];for(i of e)if(o){if(i.start>o.start)if(i.end<=o.end)r.push(o),o=i,n.add(i.start,i.end,i.kind&&i.kind.value,r.length);else{if(i.start>o.end){for(;o=r.pop(),o&&i.start>o.end;);o&&r.push(o),o=i}n.add(i.start,i.end,i.kind&&i.kind.value,r.length)}}else o=i,n.add(i.start,i.end,i.kind&&i.kind.value,r.length);return n.toIndentRanges()}class P{constructor(e,t,i,n){this.editorModel=e,this.id="init",t.length&&(this.decorationIds=e.deltaDecorations([],t.map(t=>({range:{startLineNumber:t.startLineNumber,startColumn:0,endLineNumber:t.endLineNumber,endColumn:e.getLineLength(t.endLineNumber)},options:{description:"folding-initializing-range-provider",stickiness:1}}))),this.timeout=setTimeout(i,n))}dispose(){this.decorationIds&&(this.editorModel.deltaDecorations(this.decorationIds,[]),this.decorationIds=void 0),"number"==typeof this.timeout&&(clearTimeout(this.timeout),this.timeout=void 0)}compute(e){let t=[];if(this.decorationIds)for(var i of this.decorationIds)(i=this.editorModel.getDecorationRange(i))&&t.push({start:i.startLineNumber,end:i.endLineNumber,rank:1});return Promise.resolve(A(t,Number.MAX_VALUE))}}var R=i(0),F=i(10),j=i(4),B=i(16);t=i(23),i=i(95);const W=Object(i.b)("folding-expanded",t.b.chevronDown,Object(R.a)("foldingExpandedIcon","Icon for expanded ranges in the editor glyph margin.")),V=Object(i.b)("folding-collapsed",t.b.chevronRight,Object(R.a)("foldingCollapsedIcon","Icon for collapsed ranges in the editor glyph margin."));class z{constructor(e){this.editor=e,this.autoHideFoldingControls=!0,this.showFoldingHighlights=!0}getDecorationOption(e,t){return t?z.HIDDEN_RANGE_DECORATION:e?this.showFoldingHighlights?z.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:z.COLLAPSED_VISUAL_DECORATION:this.autoHideFoldingControls?z.EXPANDED_AUTO_HIDE_VISUAL_DECORATION:z.EXPANDED_VISUAL_DECORATION}deltaDecorations(e,t){return this.editor.deltaDecorations(e,t)}changeDecorations(e){return this.editor.changeDecorations(e)}}z.COLLAPSED_VISUAL_DECORATION=O.b.register({description:"folding-collapsed-visual-decoration",stickiness:1,afterContentClassName:"inline-folded",isWholeLine:!0,firstLineDecorationClassName:B.d.asClassName(V)}),z.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=O.b.register({description:"folding-collapsed-highlighted-visual-decoration",stickiness:1,afterContentClassName:"inline-folded",className:"folded-background",isWholeLine:!0,firstLineDecorationClassName:B.d.asClassName(V)}),z.EXPANDED_AUTO_HIDE_VISUAL_DECORATION=O.b.register({description:"folding-expanded-auto-hide-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:B.d.asClassName(W)}),z.EXPANDED_VISUAL_DECORATION=O.b.register({description:"folding-expanded-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+B.d.asClassName(W)}),z.HIDDEN_RANGE_DECORATION=O.b.register({description:"folding-hidden-range-decoration",stickiness:1}),i=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;0<=a;a--)(o=e[a])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s},t=function(e,t){return function(i,n){t(i,n,e)}};const H=new F.c("foldingEnabled",!1);let U=class e extends s.a{constructor(e,t){super(),this.contextKeyService=t,this.localToDispose=this._register(new s.b),this.editor=e;const i=this.editor.getOptions();this._isEnabled=i.get(37),this._useFoldingProviders="indentation"!==i.get(38),this._unfoldOnClickAfterEndOfLine=i.get(41),this._restoringViewState=!1,this._currentModelHasFoldedImports=!1,this._foldingImportsByDefault=i.get(40),this.foldingModel=null,this.hiddenRangeModel=null,this.rangeProvider=null,this.foldingRegionPromise=null,this.foldingStateMemento=null,this.foldingModelPromise=null,this.updateScheduler=null,this.cursorChangedScheduler=null,this.mouseDownInfo=null,this.foldingDecorationProvider=new z(e),this.foldingDecorationProvider.autoHideFoldingControls="mouseover"===i.get(98),this.foldingDecorationProvider.showFoldingHighlights=i.get(39),this.foldingEnabled=H.bindTo(this.contextKeyService),this.foldingEnabled.set(this._isEnabled),this._register(this.editor.onDidChangeModel(()=>this.onModelChanged())),this._register(this.editor.onDidChangeConfiguration(e=>{if(e.hasChanged(37)&&(this._isEnabled=this.editor.getOptions().get(37),this.foldingEnabled.set(this._isEnabled),this.onModelChanged()),e.hasChanged(98)||e.hasChanged(39)){const e=this.editor.getOptions();this.foldingDecorationProvider.autoHideFoldingControls="mouseover"===e.get(98),this.foldingDecorationProvider.showFoldingHighlights=e.get(39),this.onModelContentChanged()}e.hasChanged(38)&&(this._useFoldingProviders="indentation"!==this.editor.getOptions().get(38),this.onFoldingStrategyChanged()),e.hasChanged(41)&&(this._unfoldOnClickAfterEndOfLine=this.editor.getOptions().get(41)),e.hasChanged(40)&&(this._foldingImportsByDefault=this.editor.getOptions().get(40))})),this.onModelChanged()}static get(t){return t.getContribution(e.ID)}saveViewState(){let e=this.editor.getModel();if(!e||!this._isEnabled||e.isTooLargeForTokenization())return{};if(this.foldingModel){var t=(this.foldingModel.isInitialized?this.foldingModel:this.hiddenRangeModel).getMemento(),i=this.rangeProvider?this.rangeProvider.id:void 0;return{collapsedRegions:t,lineCount:e.getLineCount(),provider:i,foldedImports:this._currentModelHasFoldedImports}}}restoreViewState(e){let t=this.editor.getModel();if(t&&this._isEnabled&&!t.isTooLargeForTokenization()&&this.hiddenRangeModel&&e&&e.lineCount===t.getLineCount()&&(this._currentModelHasFoldedImports=!!e.foldedImports,e.collapsedRegions)){"syntax"!==e.provider&&"init"!==e.provider||(this.foldingStateMemento=e);const t=e.collapsedRegions;if(this.hiddenRangeModel.applyMemento(t)){const e=this.getFoldingModel();e&&e.then(e=>{if(e){this._restoringViewState=!0;try{e.applyMemento(t)}finally{this._restoringViewState=!1}}}).then(void 0,o.f)}}}onModelChanged(){this.localToDispose.clear();let e=this.editor.getModel();this._isEnabled&&e&&!e.isTooLargeForTokenization()&&(this._currentModelHasFoldedImports=!1,this.foldingModel=new b(e,this.foldingDecorationProvider),this.localToDispose.add(this.foldingModel),this.hiddenRangeModel=new D(this.foldingModel),this.localToDispose.add(this.hiddenRangeModel),this.localToDispose.add(this.hiddenRangeModel.onDidChange(e=>this.onHiddenRangesChanges(e))),this.updateScheduler=new n.a(200),this.cursorChangedScheduler=new n.e(()=>this.revealCursor(),200),this.localToDispose.add(this.cursorChangedScheduler),this.localToDispose.add(u.o.onDidChange(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelLanguageConfiguration(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelContent(()=>this.onModelContentChanged())),this.localToDispose.add(this.editor.onDidChangeCursorPosition(()=>this.onCursorPositionChanged())),this.localToDispose.add(this.editor.onMouseDown(e=>this.onEditorMouseDown(e))),this.localToDispose.add(this.editor.onMouseUp(e=>this.onEditorMouseUp(e))),this.localToDispose.add({dispose:()=>{this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.updateScheduler&&this.updateScheduler.cancel(),this.updateScheduler=null,this.foldingModel=null,this.foldingModelPromise=null,this.hiddenRangeModel=null,this.cursorChangedScheduler=null,this.foldingStateMemento=null,this.rangeProvider&&this.rangeProvider.dispose(),this.rangeProvider=null}}),this.onModelContentChanged())}onFoldingStrategyChanged(){this.rangeProvider&&this.rangeProvider.dispose(),this.rangeProvider=null,this.onModelContentChanged()}getRangeProvider(e){if(this.rangeProvider)return this.rangeProvider;if(this.rangeProvider=new E(e),this._useFoldingProviders&&this.foldingModel){var t=u.o.ordered(this.foldingModel.textModel);if(0===t.length&&this.foldingStateMemento&&this.foldingStateMemento.collapsedRegions)return this.rangeProvider=new P(e,this.foldingStateMemento.collapsedRegions,()=>{this.foldingStateMemento=null,this.onFoldingStrategyChanged()},3e4);0<t.length&&(this.rangeProvider=new T(e,t,()=>this.onModelContentChanged()))}return this.foldingStateMemento=null,this.rangeProvider}getFoldingModel(){return this.foldingModelPromise}onModelContentChanged(){this.updateScheduler&&(this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.foldingModelPromise=this.updateScheduler.trigger(()=>{const e=this.foldingModel;if(!e)return null;const t=this.getRangeProvider(e.textModel);let i=this.foldingRegionPromise=Object(n.h)(e=>t.compute(e));return i.then(t=>{if(t&&i===this.foldingRegionPromise){let i;!this._foldingImportsByDefault||this._currentModelHasFoldedImports||(n=t.setCollapsedAllOfType(u.n.Imports.value,!0))&&(i=c.c.capture(this.editor),this._currentModelHasFoldedImports=n);let o=this.editor.getSelections();var n=o?o.map(e=>e.startLineNumber):[];e.update(t,n),i&&i.restore(this.editor)}return e})}).then(void 0,e=>(Object(o.f)(e),null)))}onHiddenRangesChanges(e){var t;!this.hiddenRangeModel||!e.length||this._restoringViewState||(t=this.editor.getSelections())&&this.hiddenRangeModel.adjustSelections(t)&&this.editor.setSelections(t),this.editor.setHiddenAreas(e)}onCursorPositionChanged(){this.hiddenRangeModel&&this.hiddenRangeModel.hasRanges()&&this.cursorChangedScheduler.schedule()}revealCursor(){const e=this.getFoldingModel();e&&e.then(e=>{if(e){let i=this.editor.getSelections();if(i&&0<i.length){let n=[];for(var t of i){let i=t.selectionStartLineNumber;this.hiddenRangeModel&&this.hiddenRangeModel.isHidden(i)&&n.push(...e.getAllRegionsAtLine(i,e=>e.isCollapsed&&i>e.startLineNumber))}n.length&&(e.toggleCollapseState(n),this.reveal(i[0].getPosition()))}}}).then(void 0,o.f)}onEditorMouseDown(e){if(this.mouseDownInfo=null,this.hiddenRangeModel&&e.target&&e.target.range&&(e.event.leftButton||e.event.middleButton)){var t=e.target.range;let o=!1;switch(e.target.type){case 4:var i=e.target.detail,n=e.target.element.offsetLeft;if(i.offsetX-n<5)return;o=!0;break;case 7:if(this._unfoldOnClickAfterEndOfLine&&this.hiddenRangeModel.hasRanges()&&!e.target.detail.isAfterLines)break;return;case 6:if(this.hiddenRangeModel.hasRanges()){let e=this.editor.getModel();if(e&&t.startColumn===e.getLineMaxColumn(t.startLineNumber))break}return;default:return}this.mouseDownInfo={lineNumber:t.startLineNumber,iconClicked:o}}}onEditorMouseUp(e){const t=this.getFoldingModel();if(t&&this.mouseDownInfo&&e.target){let n=this.mouseDownInfo.lineNumber,r=this.mouseDownInfo.iconClicked;var i=e.target.range;if(i&&i.startLineNumber===n){if(r){if(4!==e.target.type)return}else{let e=this.editor.getModel();if(!e||i.startColumn!==e.getLineMaxColumn(n))return}t.then(t=>{if(t){let s=t.getRegionAtLine(n);if(s&&s.startLineNumber===n){var i=s.isCollapsed;if(r||i){let r=[];if(e.event.altKey){var o=t.getRegionsInside(null,e=>!e.containedBy(s)&&!s.containedBy(e));for(const e of o)e.isCollapsed&&r.push(e);0===r.length&&(r=o)}else{if(o=e.event.middleButton||e.event.shiftKey)for(const e of t.getRegionsInside(s))e.isCollapsed===i&&r.push(e);!i&&o&&0!==r.length||r.push(s)}t.toggleCollapseState(r),this.reveal({lineNumber:n,column:1})}}}}).then(void 0,o.f)}}}reveal(e){this.editor.revealPositionInCenterIfOutsideViewport(e,0)}};U.ID="editor.contrib.folding",U=i([t(1,F.b)],U);class $ extends d.b{runEditorCommand(e,t,i){let n=U.get(t);if(n){let o=n.getFoldingModel();return o?(this.reportTelemetry(e,t),o.then(e=>{if(e){this.invoke(n,e,t,i);const o=t.getSelection();o&&n.reveal(o.getStartPosition())}})):void 0}}getSelectedLines(e){let t=e.getSelections();return t?t.map(e=>e.startLineNumber):[]}getLineNumbers(e,t){return e&&e.selectionLines?e.selectionLines.map(e=>e+1):this.getSelectedLines(t)}run(e,t){}}function K(e){if(!l.m(e)){if(!l.k(e))return!1;const t=e;if(!l.m(t.levels)&&!l.j(t.levels))return!1;if(!l.m(t.direction)&&!l.l(t.direction))return!1;if(!(l.m(t.selectionLines)||l.f(t.selectionLines)&&t.selectionLines.every(l.j)))return!1}return!0}class q extends ${getFoldingLevel(){return parseInt(this.id.substr(q.ID_PREFIX.length))}invoke(e,t,i){var n,o;t=t,n=this.getFoldingLevel(),o=this.getSelectedLines(i),i=t.getRegionsInside(null,(e,t)=>t===n&&!0!==e.isCollapsed&&!o.some(t=>e.containsLine(t))),t.toggleCollapseState(i)}}q.ID_PREFIX="editor.foldLevel",q.ID=e=>q.ID_PREFIX+e;Object(d.l)(U.ID,U),Object(d.j)(class extends ${constructor(){super({id:"editor.unfold",label:R.a("unfoldAction.label","Unfold"),alias:"Unfold",precondition:H,kbOpts:{kbExpr:h.a.editorTextFocus,primary:3161,mac:{primary:2649},weight:100},description:{description:"Unfold the content in the editor",args:[{name:"Unfold editor argument",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t\t* 'levels': Number of levels to unfold. If not set, defaults to 1.\n\t\t\t\t\t\t* 'direction': If 'up', unfold given number of levels up otherwise unfolds down.\n\t\t\t\t\t\t* 'selectionLines': The start lines (0-based) of the editor selections to apply the unfold action to. If not set, the active selection(s) will be used.\n\t\t\t\t\t\t",constraint:K,schema:{type:"object",properties:{levels:{type:"number",default:1},direction:{type:"string",enum:["up","down"],default:"down"},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(e,t,i,n){var o=n&&n.levels||1;i=this.getLineNumbers(n,i);(n&&"up"===n.direction?w:_)(t,!1,o,i)}}),Object(d.j)(class extends ${constructor(){super({id:"editor.unfoldRecursively",label:R.a("unFoldRecursivelyAction.label","Unfold Recursively"),alias:"Unfold Recursively",precondition:H,kbOpts:{kbExpr:h.a.editorTextFocus,primary:Object(r.c)(2089,2137),weight:100}})}invoke(e,t,i,n){_(t,!1,Number.MAX_VALUE,this.getSelectedLines(i))}}),Object(d.j)(class extends ${constructor(){super({id:"editor.fold",label:R.a("foldAction.label","Fold"),alias:"Fold",precondition:H,kbOpts:{kbExpr:h.a.editorTextFocus,primary:3159,mac:{primary:2647},weight:100},description:{description:"Fold the content in the editor",args:[{name:"Fold editor argument",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t\t\t* 'levels': Number of levels to fold.\n\t\t\t\t\t\t\t* 'direction': If 'up', folds given number of levels up otherwise folds down.\n\t\t\t\t\t\t\t* 'selectionLines': The start lines (0-based) of the editor selections to apply the fold action to. If not set, the active selection(s) will be used.\n\t\t\t\t\t\t\tIf no levels or direction is set, folds the region at the locations or if already collapsed, the first uncollapsed parent instead.\n\t\t\t\t\t\t",constraint:K,schema:{type:"object",properties:{levels:{type:"number"},direction:{type:"string",enum:["up","down"]},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(e,t,i,n){var o=this.getLineNumbers(n,i);i=n&&n.levels,n=n&&n.direction;"number"!=typeof i&&"string"!=typeof n?function(e,t,i){let n=[];for(var o of i)0<(o=e.getAllRegionsAtLine(o,e=>!0!==e.isCollapsed)).length&&n.push(o[0]);e.toggleCollapseState(n)}(t,0,o):("up"===n?w:_)(t,!0,i||1,o)}}),Object(d.j)(class extends ${constructor(){super({id:"editor.foldRecursively",label:R.a("foldRecursivelyAction.label","Fold Recursively"),alias:"Fold Recursively",precondition:H,kbOpts:{kbExpr:h.a.editorTextFocus,primary:Object(r.c)(2089,2135),weight:100}})}invoke(e,t,i){i=this.getSelectedLines(i),_(t,!0,Number.MAX_VALUE,i)}}),Object(d.j)(class extends ${constructor(){super({id:"editor.foldAll",label:R.a("foldAllAction.label","Fold All"),alias:"Fold All",precondition:H,kbOpts:{kbExpr:h.a.editorTextFocus,primary:Object(r.c)(2089,2069),weight:100}})}invoke(e,t,i){_(t,!0)}}),Object(d.j)(class extends ${constructor(){super({id:"editor.unfoldAll",label:R.a("unfoldAllAction.label","Unfold All"),alias:"Unfold All",precondition:H,kbOpts:{kbExpr:h.a.editorTextFocus,primary:Object(r.c)(2089,2088),weight:100}})}invoke(e,t,i){_(t,!1)}}),Object(d.j)(class extends ${constructor(){super({id:"editor.foldAllBlockComments",label:R.a("foldAllBlockComments.label","Fold All Block Comments"),alias:"Fold All Block Comments",precondition:H,kbOpts:{kbExpr:h.a.editorTextFocus,primary:Object(r.c)(2089,2133),weight:100}})}invoke(e,t,i){if(t.regions.hasTypes())x(t,u.n.Comment.value,!0);else{const e=i.getModel();e&&(i=g.b.getComments(e.getLanguageId()))&&i.blockCommentStartToken&&y(t,new RegExp("^\\s*"+Object(a.t)(i.blockCommentStartToken)),!0)}}}),Object(d.j)(class extends ${constructor(){super({id:"editor.foldAllMarkerRegions",label:R.a("foldAllMarkerRegions.label","Fold All Regions"),alias:"Fold All Regions",precondition:H,kbOpts:{kbExpr:h.a.editorTextFocus,primary:Object(r.c)(2089,2077),weight:100}})}invoke(e,t,i){if(t.regions.hasTypes())x(t,u.n.Region.value,!0);else{const e=i.getModel();e&&(i=g.b.getFoldingRules(e.getLanguageId()))&&i.markers&&i.markers.start&&y(t,new RegExp(i.markers.start),!0)}}}),Object(d.j)(class extends ${constructor(){super({id:"editor.unfoldAllMarkerRegions",label:R.a("unfoldAllMarkerRegions.label","Unfold All Regions"),alias:"Unfold All Regions",precondition:H,kbOpts:{kbExpr:h.a.editorTextFocus,primary:Object(r.c)(2089,2078),weight:100}})}invoke(e,t,i){if(t.regions.hasTypes())x(t,u.n.Region.value,!1);else{const e=i.getModel();e&&(i=g.b.getFoldingRules(e.getLanguageId()))&&i.markers&&i.markers.start&&y(t,new RegExp(i.markers.start),!1)}}}),Object(d.j)(class extends ${constructor(){super({id:"editor.foldAllExcept",label:R.a("foldAllExcept.label","Fold All Regions Except Selected"),alias:"Fold All Regions Except Selected",precondition:H,kbOpts:{kbExpr:h.a.editorTextFocus,primary:Object(r.c)(2089,2131),weight:100}})}invoke(e,t,i){C(t,!0,this.getSelectedLines(i))}}),Object(d.j)(class extends ${constructor(){super({id:"editor.unfoldAllExcept",label:R.a("unfoldAllExcept.label","Unfold All Regions Except Selected"),alias:"Unfold All Regions Except Selected",precondition:H,kbOpts:{kbExpr:h.a.editorTextFocus,primary:Object(r.c)(2089,2129),weight:100}})}invoke(e,t,i){C(t,!1,this.getSelectedLines(i))}}),Object(d.j)(class extends ${constructor(){super({id:"editor.toggleFold",label:R.a("toggleFoldAction.label","Toggle Fold"),alias:"Toggle Fold",precondition:H,kbOpts:{kbExpr:h.a.editorTextFocus,primary:Object(r.c)(2089,2090),weight:100}})}invoke(e,t,i){!function(e,t,i){let n=[];for(var o of i)if(o=e.getRegionAtLine(o)){o.isCollapsed;n.push(o)}e.toggleCollapseState(n)}(t,0,this.getSelectedLines(i))}}),Object(d.j)(class extends ${constructor(){super({id:"editor.gotoParentFold",label:R.a("gotoParentFold.label","Go to Parent Fold"),alias:"Go to Parent Fold",precondition:H,kbOpts:{kbExpr:h.a.editorTextFocus,weight:100}})}invoke(e,t,i){var n=this.getSelectedLines(i);0<n.length&&null!==(t=function(e,t){let i=null;var n=t.getRegionAtLine(e);return null!==n&&(i=n.startLineNumber,e===i&&(i=-1!==(n=n.parentIndex)?t.regions.getStartLineNumber(n):null)),i}(n[0],t))&&i.setSelection({startLineNumber:t,startColumn:1,endLineNumber:t,endColumn:1})}}),Object(d.j)(class extends ${constructor(){super({id:"editor.gotoPreviousFold",label:R.a("gotoPreviousFold.label","Go to Previous Folding Range"),alias:"Go to Previous Folding Range",precondition:H,kbOpts:{kbExpr:h.a.editorTextFocus,weight:100}})}invoke(e,t,i){var n=this.getSelectedLines(i);0<n.length&&null!==(t=function(e,t){let i=t.getRegionAtLine(e);if(null!==i&&i.startLineNumber===e){if(e!==i.startLineNumber)return i.startLineNumber;{var n=i.parentIndex;let e=0;for(-1!==n&&(e=t.regions.getStartLineNumber(i.parentIndex));null!==i;){if(!(0<i.regionIndex))return null;if(i=t.regions.toRegion(i.regionIndex-1),i.startLineNumber<=e)return null;if(i.parentIndex===n)return i.startLineNumber}}}else if(0<t.regions.length)for(i=t.regions.toRegion(t.regions.length-1);null!==i;){if(i.startLineNumber<e)return i.startLineNumber;i=0<i.regionIndex?t.regions.toRegion(i.regionIndex-1):null}return null}(n[0],t))&&i.setSelection({startLineNumber:t,startColumn:1,endLineNumber:t,endColumn:1})}}),Object(d.j)(class extends ${constructor(){super({id:"editor.gotoNextFold",label:R.a("gotoNextFold.label","Go to Next Folding Range"),alias:"Go to Next Folding Range",precondition:H,kbOpts:{kbExpr:h.a.editorTextFocus,weight:100}})}invoke(e,t,i){var n=this.getSelectedLines(i);0<n.length&&null!==(t=function(e,t){let i=t.getRegionAtLine(e);if(null!==i&&i.startLineNumber===e){var n=i.parentIndex;let e=0;if(-1!==n)e=t.regions.getEndLineNumber(i.parentIndex);else{if(0===t.regions.length)return null;e=t.regions.getEndLineNumber(t.regions.length-1)}for(;null!==i;){if(!(i.regionIndex<t.regions.length))return null;if(i=t.regions.toRegion(i.regionIndex+1),i.startLineNumber>=e)return null;if(i.parentIndex===n)return i.startLineNumber}}else if(0<t.regions.length)for(i=t.regions.toRegion(0);null!==i;){if(i.startLineNumber>e)return i.startLineNumber;i=i.regionIndex<t.regions.length?t.regions.toRegion(i.regionIndex+1):null}return null}(n[0],t))&&i.setSelection({startLineNumber:t,startColumn:1,endLineNumber:t,endColumn:1})}});for(let e=1;e<=7;e++)Object(d.m)(new q({id:q.ID(e),label:R.a("foldLevelAction.label","Fold Level {0}",e),alias:"Fold Level "+e,precondition:H,kbOpts:{kbExpr:h.a.editorTextFocus,primary:Object(r.c)(2089,2048|21+e),weight:100}}));const G=Object(j.Cc)("editor.foldBackground",{light:Object(j.Rc)(j.V,.3),dark:Object(j.Rc)(j.V,.3),hc:null},R.a("foldBackgroundBackground","Background color behind folded ranges. The color must not be opaque so as not to hide underlying decorations."),!0),Y=Object(j.Cc)("editorGutter.foldingControlForeground",{dark:j.jb,light:j.jb,hc:j.jb},R.a("editorGutter.foldingControlForeground","Color of the folding control in the editor gutter."));Object(B.f)((e,t)=>{var i=e.getColor(G);i&&t.addRule(`.monaco-editor .folded-background { background-color: ${i}; }`),(e=e.getColor(Y))&&t.addRule(`\n\t\t.monaco-editor .cldr${B.d.asCSSSelector(W)},\n\t\t.monaco-editor .cldr${B.d.asCSSSelector(V)} {\n\t\t\tcolor: ${e} !important;\n\t\t}\n\t\t`)})},function(e,t,i){"use strict";i.r(t),i.d(t,"DuplicateSelectionAction",(function(){return k})),i.d(t,"AbstractSortLinesAction",(function(){return L})),i.d(t,"SortLinesAscendingAction",(function(){return O})),i.d(t,"SortLinesDescendingAction",(function(){return E})),i.d(t,"DeleteDuplicateLinesAction",(function(){return N})),i.d(t,"TrimTrailingWhitespaceAction",(function(){return I})),i.d(t,"DeleteLinesAction",(function(){return T})),i.d(t,"IndentLinesAction",(function(){return M})),i.d(t,"InsertLineBeforeAction",(function(){return P})),i.d(t,"InsertLineAfterAction",(function(){return R})),i.d(t,"AbstractDeleteAllToBoundaryAction",(function(){return F})),i.d(t,"DeleteAllLeftAction",(function(){return j})),i.d(t,"DeleteAllRightAction",(function(){return B})),i.d(t,"JoinLinesAction",(function(){return W})),i.d(t,"TransposeAction",(function(){return V})),i.d(t,"AbstractCaseAction",(function(){return z})),i.d(t,"UpperCaseAction",(function(){return H})),i.d(t,"LowerCaseAction",(function(){return U})),i.d(t,"TitleCaseAction",(function(){return K})),i.d(t,"SnakeCaseAction",(function(){return q}));var n=i(71),o=i(116),r=(t=i(5),i(77)),s=i(9),a=i(75),l=i(3);class c{constructor(e,t){this._selection=e,this._cursors=t,this._selectionId=null}getEditOperations(e,t){var i=function(e,t){t.sort((e,t)=>e.lineNumber===t.lineNumber?e.column-t.column:e.lineNumber-t.lineNumber);for(let e=t.length-2;0<=e;e--)t[e].lineNumber===t[e+1].lineNumber&&t.splice(e,1);let i=[],n=0,o=0,r=t.length;for(let u=1,g=e.getLineCount();u<=g;u++){var c=e.getLineContent(u),d=c.length+1;let g=0;if(!(o<r&&t[o].lineNumber===u&&(g=t[o].column,o++,g===d))&&0!==c.length){var h=s.I(c);let e=0;if(-1===h)e=1;else{if(h===c.length-1)continue;e=h+2}e=Math.max(g,e),i[n++]=a.a.delete(new l.a(u,e,u,d))}}return i}(e,this._cursors);for(let e=0,o=i.length;e<o;e++){var n=i[e];t.addEditOperation(n.range,n.text)}this._selectionId=t.trackSelection(this._selection)}computeCursorState(e,t){return t.getTrackedSelection(this._selectionId)}}var d=i(154),h=i(12),u=i(29),g=i(8);class p{constructor(e,t,i){this._selection=e,this._isCopyingDown=t,this._noop=i||!1,this._selectionDirection=0,this._selectionId=null,this._startLineNumberDelta=0,this._endLineNumberDelta=0}getEditOperations(e,t){let i=this._selection;this._startLineNumberDelta=0,this._endLineNumberDelta=0,i.startLineNumber<i.endLineNumber&&1===i.endColumn&&(this._endLineNumberDelta=1,i=i.setEndPosition(i.endLineNumber-1,e.getLineMaxColumn(i.endLineNumber-1)));let n=[];for(let t=i.startLineNumber;t<=i.endLineNumber;t++)n.push(e.getLineContent(t));var o=n.join("\n");""===o&&this._isCopyingDown&&(this._startLineNumberDelta++,this._endLineNumberDelta++),this._noop?t.addEditOperation(new l.a(i.endLineNumber,e.getLineMaxColumn(i.endLineNumber),i.endLineNumber+1,1),i.endLineNumber===e.getLineCount()?"":"\n"):this._isCopyingDown?t.addEditOperation(new l.a(i.startLineNumber,1,i.startLineNumber,1),o+"\n"):t.addEditOperation(new l.a(i.endLineNumber,e.getLineMaxColumn(i.endLineNumber),i.endLineNumber,e.getLineMaxColumn(i.endLineNumber)),"\n"+o),this._selectionId=t.trackSelection(i),this._selectionDirection=this._selection.getDirection()}computeCursorState(e,t){let i=t.getTrackedSelection(this._selectionId);if(0!==this._startLineNumberDelta||0!==this._endLineNumberDelta){let e=i.startLineNumber,t=i.startColumn,n=i.endLineNumber,o=i.endColumn;0!==this._startLineNumberDelta&&(e+=this._startLineNumberDelta,t=1),0!==this._endLineNumberDelta&&(n+=this._endLineNumberDelta,o=1),i=u.a.createWithDirection(e,t,n,o,this._selectionDirection)}return i}}var f=i(161),m=i(84),v=i(49),b=i(117);class _{constructor(e,t,i){this._selection=e,this._isMovingDown=t,this._autoIndent=i,this._selectionId=null,this._moveEndLineSelectionShrink=!1}getEditOperations(e,t){var i=e.getLineCount();if(this._isMovingDown&&this._selection.endLineNumber===i)this._selectionId=t.trackSelection(this._selection);else if(this._isMovingDown||1!==this._selection.startLineNumber){this._moveEndPositionDown=!1;let p=this._selection;p.startLineNumber<p.endLineNumber&&1===p.endColumn&&(this._moveEndPositionDown=!0,p=p.setEndPosition(p.endLineNumber-1,e.getLineMaxColumn(p.endLineNumber-1)));var n,o,r,a,{tabSize:c,indentSize:d,insertSpaces:h}=e.getOptions();i=this.buildIndentConverter(c,d,h);let f={getLineTokens:t=>e.getLineTokens(t),getLanguageId:()=>e.getLanguageId(),getLanguageIdAtPosition:(t,i)=>e.getLanguageIdAtPosition(t,i),getLineContent:null};if(p.startLineNumber===p.endLineNumber&&1===e.getLineMaxColumn(p.startLineNumber)){var d=p.startLineNumber,g=this._isMovingDown?d+1:d-1;1===e.getLineMaxColumn(g)?t.addEditOperation(new l.a(1,1,1,1),null):(t.addEditOperation(new l.a(d,1,d,1),e.getLineContent(g)),t.addEditOperation(new l.a(g,1,g,e.getLineMaxColumn(g)),null)),p=new u.a(g,1,g,1)}else{let d,u;if(this._isMovingDown){d=p.endLineNumber+1,u=e.getLineContent(d),t.addEditOperation(new l.a(d-1,e.getLineMaxColumn(d-1),d,e.getLineMaxColumn(d)),null);let m=u;this.shouldAutoIndent(e,p)?(null!==(g=this.matchEnterRule(e,i,c,d,p.startLineNumber-1))?(n=s.x(e.getLineContent(d)),o=g+b.b(n,c),n=b.a(o,c,h),m=n+this.trimLeft(u)):(f.getLineContent=t=>t===p.startLineNumber?e.getLineContent(d):e.getLineContent(t),null!==(o=v.b.getGoodIndentForLine(this._autoIndent,f,e.getLanguageIdAtPosition(d,1),p.startLineNumber,i))&&(n=s.x(e.getLineContent(d)),(o=b.b(o,c))!==b.b(n,c)&&(r=b.a(o,c,h),m=r+this.trimLeft(u)))),t.addEditOperation(new l.a(p.startLineNumber,1,p.startLineNumber,1),m+"\n"),null!==(r=this.matchEnterRuleMovingDown(e,i,c,p.startLineNumber,d,m))?0!==r&&this.getIndentEditsOfMovingBlock(e,t,p,c,h,r):(f.getLineContent=t=>t===p.startLineNumber?m:t>=p.startLineNumber+1&&t<=p.endLineNumber+1?e.getLineContent(t-1):e.getLineContent(t),null!==(r=v.b.getGoodIndentForLine(this._autoIndent,f,e.getLanguageIdAtPosition(d,1),p.startLineNumber+1,i))&&(a=s.x(e.getLineContent(p.startLineNumber)),(r=b.b(r,c))!==(a=b.b(a,c))&&this.getIndentEditsOfMovingBlock(e,t,p,c,h,r-a)))):t.addEditOperation(new l.a(p.startLineNumber,1,p.startLineNumber,1),m+"\n")}else d=p.startLineNumber-1,u=e.getLineContent(d),t.addEditOperation(new l.a(d,1,d+1,1),null),t.addEditOperation(new l.a(p.endLineNumber,e.getLineMaxColumn(p.endLineNumber),p.endLineNumber,e.getLineMaxColumn(p.endLineNumber)),"\n"+u),this.shouldAutoIndent(e,p)&&(f.getLineContent=t=>t===d?e.getLineContent(p.startLineNumber):e.getLineContent(t),null!==(a=this.matchEnterRule(e,i,c,p.startLineNumber,p.startLineNumber-2))?0!==a&&this.getIndentEditsOfMovingBlock(e,t,p,c,h,a):null!==(a=v.b.getGoodIndentForLine(this._autoIndent,f,e.getLanguageIdAtPosition(p.startLineNumber,1),d,i))&&(i=s.x(e.getLineContent(p.startLineNumber)),(a=b.b(a,c))!==(i=b.b(i,c))&&this.getIndentEditsOfMovingBlock(e,t,p,c,h,a-i)))}this._selectionId=t.trackSelection(p)}else this._selectionId=t.trackSelection(this._selection)}buildIndentConverter(e,t,i){return{shiftIndent:n=>f.a.shiftIndent(n,n.length+1,e,t,i),unshiftIndent:n=>f.a.unshiftIndent(n,n.length+1,e,t,i)}}parseEnterResult(e,t,i,n,o){if(o){let r=o.indentation;if(o.indentAction===m.b.None||o.indentAction===m.b.Indent?r=o.indentation+o.appendText:o.indentAction===m.b.IndentOutdent?r=o.indentation:o.indentAction===m.b.Outdent&&(r=t.unshiftIndent(o.indentation)+o.appendText),o=e.getLineContent(n),0<=this.trimLeft(o).indexOf(this.trimLeft(r))){o=s.x(e.getLineContent(n));let a=s.x(r);return null!==(n=v.b.getIndentMetadata(e,n))&&2&n&&(a=t.unshiftIndent(a)),b.b(a,i)-b.b(o,i)}}return null}matchEnterRuleMovingDown(e,t,i,n,o,r){if(0<=s.I(r)){var a=e.getLineMaxColumn(o);a=v.b.getEnterAction(this._autoIndent,e,new l.a(o,a,o,a));return this.parseEnterResult(e,t,i,n,a)}{let o=n-1;for(;1<=o;){var c=e.getLineContent(o);if(0<=s.I(c))break;o--}return o<1||n>e.getLineCount()?null:(a=e.getLineMaxColumn(o),a=v.b.getEnterAction(this._autoIndent,e,new l.a(o,a,o,a)),this.parseEnterResult(e,t,i,n,a))}}matchEnterRule(e,t,i,n,o,r){let a=o;for(;1<=a;){let t;if(t=a===o&&void 0!==r?r:e.getLineContent(a),0<=s.I(t))break;a--}if(a<1||n>e.getLineCount())return null;var c=e.getLineMaxColumn(a);c=v.b.getEnterAction(this._autoIndent,e,new l.a(a,c,a,c));return this.parseEnterResult(e,t,i,n,c)}trimLeft(e){return e.replace(/^\s+/,"")}shouldAutoIndent(e,t){if(this._autoIndent<4)return!1;if(!e.isCheapToTokenize(t.startLineNumber))return!1;var i=e.getLanguageIdAtPosition(t.startLineNumber,1);return i===e.getLanguageIdAtPosition(t.endLineNumber,1)&&null!==v.b.getIndentRulesSupport(i)}getIndentEditsOfMovingBlock(e,t,i,n,o,r){for(let d=i.startLineNumber;d<=i.endLineNumber;d++){var a=e.getLineContent(d),c=s.x(a);a=b.b(c,n);(a=b.a(a+r,n,o))!==c&&(t.addEditOperation(new l.a(d,1,d,c.length+1),a),d===i.endLineNumber&&i.endColumn<=c.length+1&&""===a&&(this._moveEndLineSelectionShrink=!0))}}computeCursorState(e,t){let i=t.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(i=i.setEndPosition(i.endLineNumber+1,1)),this._moveEndLineSelectionShrink&&i.startLineNumber<i.endLineNumber&&(i=i.setEndPosition(i.endLineNumber,2)),i}}class w{constructor(e,t){this.selection=e,this.descending=t,this.selectionId=null}static getCollator(){return w._COLLATOR||(w._COLLATOR=new Intl.Collator),w._COLLATOR}getEditOperations(e,t){(e=function(e,t,i){let n=C(e,t,i);return n?a.a.replace(new l.a(n.startLineNumber,1,n.endLineNumber,e.getLineMaxColumn(n.endLineNumber)),n.after.join("\n")):null}(e,this.selection,this.descending))&&t.addEditOperation(e.range,e.text),this.selectionId=t.trackSelection(this.selection)}computeCursorState(e,t){return t.getTrackedSelection(this.selectionId)}static canRun(e,t,i){if(null===e)return!1;var n=C(e,t,i);if(!n)return!1;for(let e=0,t=n.before.length;e<t;e++)if(n.before[e]!==n.after[e])return!0;return!1}}function C(e,t,i){var n=t.startLineNumber;let o=t.endLineNumber;if(1===t.endColumn&&o--,n>=o)return null;let r=[];for(let t=n;t<=o;t++)r.push(e.getLineContent(t));let s=r.slice(0);return s.sort(w.getCollator().compare),!0===i&&(s=s.reverse()),{startLineNumber:n,endLineNumber:o,before:r,after:s}}w._COLLATOR=null;var y=i(0),x=i(32);class S extends t.b{constructor(e,t){super(t),this.down=e}run(e,t){if(t.hasModel()){const e=t.getSelections().map((e,t)=>({selection:e,index:t,ignore:!1}));e.sort((e,t)=>l.a.compareRangesUsingStarts(e.selection,t.selection));let i=e[0];for(let t=1;t<e.length;t++){const n=e[t];i.selection.endLineNumber===n.selection.startLineNumber&&(i.index<n.index?n.ignore=!0:(i.ignore=!0,i=n))}const n=[];for(const t of e)n.push(new p(t.selection,this.down,t.ignore));t.pushUndoStop(),t.executeCommands(this.id,n),t.pushUndoStop()}}}class k extends t.b{constructor(){super({id:"editor.action.duplicateSelection",label:y.a("duplicateSelection","Duplicate Selection"),alias:"Duplicate Selection",precondition:g.a.writable,menuOpts:{menuId:x.b.MenubarSelectionMenu,group:"2_line",title:y.a({key:"miDuplicateSelection",comment:["&& denotes a mnemonic"]},"&&Duplicate Selection"),order:5}})}run(e,t,i){if(t.hasModel()){const e=[];var n,o=t.getSelections();const i=t.getModel();for(const t of o)t.isEmpty()?e.push(new p(t,!0)):(n=new u.a(t.endLineNumber,t.endColumn,t.endLineNumber,t.endColumn),e.push(new r.c(n,i.getValueInRange(t))));t.pushUndoStop(),t.executeCommands(this.id,e),t.pushUndoStop()}}}class D extends t.b{constructor(e,t){super(t),this.down=e}run(e,t){let i=[];var n=t.getSelections()||[],o=t.getOption(9);for(const e of n)i.push(new _(e,this.down,o));t.pushUndoStop(),t.executeCommands(this.id,i),t.pushUndoStop()}}class L extends t.b{constructor(e,t){super(t),this.descending=e}run(e,t){var i=t.getSelections()||[];for(const e of i)if(!w.canRun(t.getModel(),e,this.descending))return;let n=[];for(let e=0,t=i.length;e<t;e++)n[e]=new w(i[e],this.descending);t.pushUndoStop(),t.executeCommands(this.id,n),t.pushUndoStop()}}class O extends L{constructor(){super(!1,{id:"editor.action.sortLinesAscending",label:y.a("lines.sortAscending","Sort Lines Ascending"),alias:"Sort Lines Ascending",precondition:g.a.writable})}}class E extends L{constructor(){super(!0,{id:"editor.action.sortLinesDescending",label:y.a("lines.sortDescending","Sort Lines Descending"),alias:"Sort Lines Descending",precondition:g.a.writable})}}class N extends t.b{constructor(){super({id:"editor.action.removeDuplicateLines",label:y.a("lines.deleteDuplicates","Delete Duplicate Lines"),alias:"Delete Duplicate Lines",precondition:g.a.writable})}run(e,t){if(t.hasModel()){let e=t.getModel();if(1!==e.getLineCount()||1!==e.getLineMaxColumn(1)){let s=[],l=[],c=0;for(var i of t.getSelections()){let t=new Set,d=[];for(let o=i.startLineNumber;o<=i.endLineNumber;o++){var n=e.getLineContent(o);t.has(n)||(d.push(n),t.add(n))}var o=new u.a(i.startLineNumber,1,i.endLineNumber,e.getLineMaxColumn(i.endLineNumber)),r=i.startLineNumber-c;r=new u.a(r,1,r+d.length-1,d[d.length-1].length);s.push(a.a.replace(o,d.join("\n"))),l.push(r),c+=i.endLineNumber-i.startLineNumber+1-d.length}t.pushUndoStop(),t.executeEdits(this.id,s,l),t.pushUndoStop()}}}}class I extends t.b{constructor(){super({id:I.ID,label:y.a("lines.trimTrailingWhitespace","Trim Trailing Whitespace"),alias:"Trim Trailing Whitespace",precondition:g.a.writable,kbOpts:{kbExpr:g.a.editorTextFocus,primary:Object(n.c)(2089,2102),weight:100}})}run(e,t,i){let n=[];"auto-save"===i.reason&&(n=(t.getSelections()||[]).map(e=>new h.a(e.positionLineNumber,e.positionColumn))),null!==(i=t.getSelection())&&(i=new c(i,n),t.pushUndoStop(),t.executeCommands(this.id,[i]),t.pushUndoStop())}}I.ID="editor.action.trimTrailingWhitespace";class T extends t.b{constructor(){super({id:"editor.action.deleteLines",label:y.a("lines.delete","Delete Line"),alias:"Delete Line",precondition:g.a.writable,kbOpts:{kbExpr:g.a.textInputFocus,primary:3113,weight:100}})}run(e,t){if(t.hasModel()){var i=this._getLinesToRemove(t);let e=t.getModel();if(1!==e.getLineCount()||1!==e.getLineMaxColumn(1)){let o=0,r=[],s=[];for(let t=0,l=i.length;t<l;t++){var n=i[t];let l=n.startLineNumber,c=n.endLineNumber,d=1,h=e.getLineMaxColumn(c);c<e.getLineCount()?(c+=1,h=1):1<l&&(--l,d=e.getLineMaxColumn(l)),r.push(a.a.replace(new u.a(l,d,c,h),"")),s.push(new u.a(l-o,n.positionColumn,l-o,n.positionColumn)),o+=n.endLineNumber-n.startLineNumber+1}t.pushUndoStop(),t.executeEdits(this.id,r,s),t.pushUndoStop()}}}_getLinesToRemove(e){let t=e.getSelections().map(e=>{let t=e.endLineNumber;return e.startLineNumber<e.endLineNumber&&1===e.endColumn&&--t,{startLineNumber:e.startLineNumber,selectionStartColumn:e.selectionStartColumn,endLineNumber:t,positionColumn:e.positionColumn}});t.sort((e,t)=>e.startLineNumber===t.startLineNumber?e.endLineNumber-t.endLineNumber:e.startLineNumber-t.startLineNumber);let i=[],n=t[0];for(let e=1;e<t.length;e++)n.endLineNumber+1>=t[e].startLineNumber?n.endLineNumber=t[e].endLineNumber:(i.push(n),n=t[e]);return i.push(n),i}}class M extends t.b{constructor(){super({id:"editor.action.indentLines",label:y.a("lines.indent","Indent Line"),alias:"Indent Line",precondition:g.a.writable,kbOpts:{kbExpr:g.a.editorTextFocus,primary:2137,weight:100}})}run(e,t){var i=t._getViewModel();i&&(t.pushUndoStop(),t.executeCommands(this.id,d.a.indent(i.cursorConfig,t.getModel(),t.getSelections())),t.pushUndoStop())}}class A extends t.b{constructor(){super({id:"editor.action.outdentLines",label:y.a("lines.outdent","Outdent Line"),alias:"Outdent Line",precondition:g.a.writable,kbOpts:{kbExpr:g.a.editorTextFocus,primary:2135,weight:100}})}run(e,t){o.CoreEditingCommands.Outdent.runEditorCommand(e,t,null)}}class P extends t.b{constructor(){super({id:"editor.action.insertLineBefore",label:y.a("lines.insertBefore","Insert Line Above"),alias:"Insert Line Above",precondition:g.a.writable,kbOpts:{kbExpr:g.a.editorTextFocus,primary:3075,weight:100}})}run(e,t){var i=t._getViewModel();i&&(t.pushUndoStop(),t.executeCommands(this.id,d.a.lineInsertBefore(i.cursorConfig,t.getModel(),t.getSelections())))}}class R extends t.b{constructor(){super({id:"editor.action.insertLineAfter",label:y.a("lines.insertAfter","Insert Line Below"),alias:"Insert Line Below",precondition:g.a.writable,kbOpts:{kbExpr:g.a.editorTextFocus,primary:2051,weight:100}})}run(e,t){var i=t._getViewModel();i&&(t.pushUndoStop(),t.executeCommands(this.id,d.a.lineInsertAfter(i.cursorConfig,t.getModel(),t.getSelections())))}}class F extends t.b{run(e,t){if(t.hasModel()){var i=t.getSelection();let e=this._getRangesToDelete(t),s=[];for(let t=0,i=e.length-1;t<i;t++){var n=e[t],o=e[t+1];null===l.a.intersectRanges(n,o)?s.push(n):e[t+1]=l.a.plusRange(n,o)}s.push(e[e.length-1]);var r=this._getEndCursorState(i,s);i=s.map(e=>a.a.replace(e,""));t.pushUndoStop(),t.executeEdits(this.id,i,r),t.pushUndoStop()}}}class j extends F{constructor(){super({id:"deleteAllLeft",label:y.a("lines.deleteAllLeft","Delete All Left"),alias:"Delete All Left",precondition:g.a.writable,kbOpts:{kbExpr:g.a.textInputFocus,primary:0,mac:{primary:2049},weight:100}})}_getEndCursorState(e,t){let i=null,n=[],o=0;return t.forEach(t=>{let r;var s;r=1===t.endColumn&&0<o?(s=t.startLineNumber-o,new u.a(s,t.startColumn,s,t.startColumn)):new u.a(t.startLineNumber,t.startColumn,t.startLineNumber,t.startColumn),o+=t.endLineNumber-t.startLineNumber,t.intersectRanges(e)?i=r:n.push(r)}),i&&n.unshift(i),n}_getRangesToDelete(e){var t=e.getSelections();if(null===t)return[];let i=t,n=e.getModel();return null===n?[]:(i.sort(l.a.compareRangesUsingStarts),i=i.map(e=>{if(e.isEmpty()){if(1!==e.startColumn)return new l.a(e.startLineNumber,1,e.startLineNumber,e.startColumn);var t=Math.max(1,e.startLineNumber-1),i=1===e.startLineNumber?1:n.getLineContent(t).length+1;return new l.a(t,i,e.startLineNumber,1)}return new l.a(e.startLineNumber,1,e.endLineNumber,e.endColumn)}),i)}}class B extends F{constructor(){super({id:"deleteAllRight",label:y.a("lines.deleteAllRight","Delete All Right"),alias:"Delete All Right",precondition:g.a.writable,kbOpts:{kbExpr:g.a.textInputFocus,primary:0,mac:{primary:297,secondary:[2068]},weight:100}})}_getEndCursorState(e,t){let i=null,n=[];for(let r=0,s=t.length;r<s;r++){let s=t[r];var o=new u.a(+s.startLineNumber,s.startColumn,+s.startLineNumber,s.startColumn);s.intersectRanges(e)?i=o:n.push(o)}return i&&n.unshift(i),n}_getRangesToDelete(e){let t=e.getModel();if(null===t)return[];let i=e.getSelections();if(null===i)return[];let n=i.map(e=>{if(e.isEmpty()){var i=t.getLineMaxColumn(e.startLineNumber);return e.startColumn===i?new l.a(e.startLineNumber,e.startColumn,e.startLineNumber+1,1):new l.a(e.startLineNumber,e.startColumn,e.startLineNumber,i)}return e});return n.sort(l.a.compareRangesUsingStarts),n}}class W extends t.b{constructor(){super({id:"editor.action.joinLines",label:y.a("lines.joinLines","Join Lines"),alias:"Join Lines",precondition:g.a.writable,kbOpts:{kbExpr:g.a.editorTextFocus,primary:0,mac:{primary:296},weight:100}})}run(e,t){let i=t.getSelections();if(null!==i){let e=t.getSelection();if(null!==e){i.sort(l.a.compareRangesUsingStarts);let d=[];var n=i.reduce((t,i)=>t.isEmpty()?t.endLineNumber===i.startLineNumber?(e.equalsSelection(t)&&(e=i),i):i.startLineNumber>t.endLineNumber+1?(d.push(t),i):new u.a(t.startLineNumber,t.startColumn,i.endLineNumber,i.endColumn):i.startLineNumber>t.endLineNumber?(d.push(t),i):new u.a(t.startLineNumber,t.startColumn,i.endLineNumber,i.endColumn));d.push(n);let h=t.getModel();if(null!==h){let i=[],n=[],g=e,p=0;for(let t=0,f=d.length;t<f;t++){let f=d[t];var o=f.startLineNumber;let m,v,b=0;var r,s=h.getLineContent(f.endLineNumber).length-f.endColumn;v=f.isEmpty()||f.startLineNumber===f.endLineNumber?(r=f.getStartPosition()).lineNumber<h.getLineCount()?(m=o+1,h.getLineMaxColumn(m)):(m=r.lineNumber,h.getLineMaxColumn(r.lineNumber)):(m=f.endLineNumber,h.getLineMaxColumn(m));let _=h.getLineContent(o);for(let e=o+1;e<=m;e++){let t=h.getLineContent(e);var c=h.getLineFirstNonWhitespaceColumn(e);if(1<=c){let e=!0;""===_&&(e=!1),!e||" "!==_.charAt(_.length-1)&&"\t"!==_.charAt(_.length-1)||(e=!1,_=_.replace(/[\s\uFEFF\xA0]+$/g," ")),_+=(e?" ":"")+(c=t.substr(c-1)),b=e?c.length+1:c.length}else b=0}let w=new l.a(o,1,m,v);if(!w.isEmpty()){let t;t=f.isEmpty()?(i.push(a.a.replace(w,_)),new u.a(w.startLineNumber-p,_.length-b+1,o-p,_.length-b+1)):f.startLineNumber===f.endLineNumber?(i.push(a.a.replace(w,_)),new u.a(f.startLineNumber-p,f.startColumn,f.endLineNumber-p,f.endColumn)):(i.push(a.a.replace(w,_)),new u.a(f.startLineNumber-p,f.startColumn,f.startLineNumber-p,_.length-s)),null!==l.a.intersectRanges(w,e)?g=t:n.push(t)}p+=w.endLineNumber-w.startLineNumber}n.unshift(g),t.pushUndoStop(),t.executeEdits(this.id,i,n),t.pushUndoStop()}}}}}class V extends t.b{constructor(){super({id:"editor.action.transpose",label:y.a("editor.transpose","Transpose characters around the cursor"),alias:"Transpose characters around the cursor",precondition:g.a.writable})}run(e,t){var i,n,o,s,a=t.getSelections();if(null!==a){let e=t.getModel();if(null!==e){let c=[];for(let t=0,d=a.length;t<d;t++){let d=a[t];d.isEmpty()&&(i=d.getStartPosition(),n=e.getLineMaxColumn(i.lineNumber),i.column>=n?i.lineNumber!==e.getLineCount()&&(o=new l.a(i.lineNumber,Math.max(1,i.column-1),i.lineNumber+1,1),s=e.getValueInRange(o).split("").reverse().join(""),c.push(new r.a(new u.a(i.lineNumber,Math.max(1,i.column-1),i.lineNumber+1,1),s))):(o=new l.a(i.lineNumber,Math.max(1,i.column-1),i.lineNumber,i.column+1),s=e.getValueInRange(o).split("").reverse().join(""),c.push(new r.b(o,s,new u.a(i.lineNumber,i.column+1,i.lineNumber,i.column+1)))))}t.pushUndoStop(),t.executeCommands(this.id,c),t.pushUndoStop()}}}}class z extends t.b{run(e,t){var i=t.getSelections();if(null!==i){const e=t.getModel();if(null!==e){var n,o,r,s=t.getOption(115);const c=[];for(const d of i)d.isEmpty()?(n=d.getStartPosition(),(o=t.getConfiguredWordAtPosition(n))&&(o=new l.a(n.lineNumber,o.startColumn,n.lineNumber,o.endColumn),r=e.getValueInRange(o),c.push(a.a.replace(o,this._modifyText(r,s))))):(r=e.getValueInRange(d),c.push(a.a.replace(d,this._modifyText(r,s))));t.pushUndoStop(),t.executeEdits(this.id,c),t.pushUndoStop()}}}}class H extends z{constructor(){super({id:"editor.action.transformToUppercase",label:y.a("editor.transformToUppercase","Transform to Uppercase"),alias:"Transform to Uppercase",precondition:g.a.writable})}_modifyText(e,t){return e.toLocaleUpperCase()}}class U extends z{constructor(){super({id:"editor.action.transformToLowercase",label:y.a("editor.transformToLowercase","Transform to Lowercase"),alias:"Transform to Lowercase",precondition:g.a.writable})}_modifyText(e,t){return e.toLocaleLowerCase()}}class ${constructor(e,t){this._pattern=e,this._flags=t,this._actual=null,this._evaluated=!1}get(){if(!this._evaluated){this._evaluated=!0;try{this._actual=new RegExp(this._pattern,this._flags)}catch(e){}}return this._actual}isSupported(){return null!==this.get()}}class K extends z{constructor(){super({id:"editor.action.transformToTitlecase",label:y.a("editor.transformToTitlecase","Transform to Title Case"),alias:"Transform to Title Case",precondition:g.a.writable})}_modifyText(e,t){var i=K.titleBoundary.get();return i?e.toLocaleLowerCase().replace(i,e=>e.toLocaleUpperCase()):e}}K.titleBoundary=new $("(^|[^\\p{L}\\p{N}']|((^|\\P{L})'))\\p{L}","gmu");class q extends z{constructor(){super({id:"editor.action.transformToSnakecase",label:y.a("editor.transformToSnakecase","Transform to Snake Case"),alias:"Transform to Snake Case",precondition:g.a.writable})}_modifyText(e,t){var i=q.caseBoundary.get(),n=q.singleLetters.get();return i&&n?e.replace(i,"$1_$2").replace(n,"$1_$2$3").toLocaleLowerCase():e}}q.caseBoundary=new $("(\\p{Ll})(\\p{Lu})","gmu"),q.singleLetters=new $("(\\p{Lu}|\\p{N})(\\p{Lu})(\\p{Ll})","gmu"),Object(t.j)(class extends S{constructor(){super(!1,{id:"editor.action.copyLinesUpAction",label:y.a("lines.copyUp","Copy Line Up"),alias:"Copy Line Up",precondition:g.a.writable,kbOpts:{kbExpr:g.a.editorTextFocus,primary:1552,linux:{primary:3600},weight:100},menuOpts:{menuId:x.b.MenubarSelectionMenu,group:"2_line",title:y.a({key:"miCopyLinesUp",comment:["&& denotes a mnemonic"]},"&&Copy Line Up"),order:1}})}}),Object(t.j)(class extends S{constructor(){super(!0,{id:"editor.action.copyLinesDownAction",label:y.a("lines.copyDown","Copy Line Down"),alias:"Copy Line Down",precondition:g.a.writable,kbOpts:{kbExpr:g.a.editorTextFocus,primary:1554,linux:{primary:3602},weight:100},menuOpts:{menuId:x.b.MenubarSelectionMenu,group:"2_line",title:y.a({key:"miCopyLinesDown",comment:["&& denotes a mnemonic"]},"Co&&py Line Down"),order:2}})}}),Object(t.j)(k),Object(t.j)(class extends D{constructor(){super(!1,{id:"editor.action.moveLinesUpAction",label:y.a("lines.moveUp","Move Line Up"),alias:"Move Line Up",precondition:g.a.writable,kbOpts:{kbExpr:g.a.editorTextFocus,primary:528,linux:{primary:528},weight:100},menuOpts:{menuId:x.b.MenubarSelectionMenu,group:"2_line",title:y.a({key:"miMoveLinesUp",comment:["&& denotes a mnemonic"]},"Mo&&ve Line Up"),order:3}})}}),Object(t.j)(class extends D{constructor(){super(!0,{id:"editor.action.moveLinesDownAction",label:y.a("lines.moveDown","Move Line Down"),alias:"Move Line Down",precondition:g.a.writable,kbOpts:{kbExpr:g.a.editorTextFocus,primary:530,linux:{primary:530},weight:100},menuOpts:{menuId:x.b.MenubarSelectionMenu,group:"2_line",title:y.a({key:"miMoveLinesDown",comment:["&& denotes a mnemonic"]},"Move &&Line Down"),order:4}})}}),Object(t.j)(O),Object(t.j)(E),Object(t.j)(N),Object(t.j)(I),Object(t.j)(T),Object(t.j)(M),Object(t.j)(A),Object(t.j)(P),Object(t.j)(R),Object(t.j)(j),Object(t.j)(B),Object(t.j)(W),Object(t.j)(V),Object(t.j)(H),Object(t.j)(U),q.caseBoundary.isSupported()&&q.singleLetters.isSupported()&&Object(t.j)(q),K.titleBoundary.isSupported()&&Object(t.j)(K)},function(e,t,i){"use strict";i.r(t),i.d(t,"StandaloneCommandsQuickAccessProvider",(function(){return B})),i.d(t,"GotoLineAction",(function(){return W}));var n=i(59),o=i(162),r=i(63),s=i(46),a=i(134),l=i(22),c=i(19),d=i(0);function h(e,t){return t&&(e.stack||e.stacktrace)?d.a("stackTrace.format","{0}: {1}",g(e),u(e.stack)||u(e.stacktrace)):g(e)}function u(e){return Array.isArray(e)?e.join("\n"):e}function g(e){return"string"==typeof e.code&&"number"==typeof e.errno&&"string"==typeof e.syscall?d.a("nodeExceptionMessage","A system error occurred ({0})",e.message):e.message||d.a("error.defaultMessage","An unknown error occurred. Please consult the log for more details.")}var p,f=i(17),m=i(83),v=i(2),b=i(74),_=i(79),w=i(36),C=i(56),y=i(175),x=i(21),S=i(58),k=i(18),D=i(38),L=function(e,t,i,n){return new(i=i||Promise)((function(o,r){function s(e){try{l(n.next(e))}catch(e){r(e)}}function a(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):((t=e.value)instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};function O(e){return Array.isArray(e.items)}(R=p=p||{})[R.NO_ACTION=0]="NO_ACTION",R[R.CLOSE_PICKER=1]="CLOSE_PICKER",R[R.REFRESH_PICKER=2]="REFRESH_PICKER",R[R.REMOVE_ITEM=3]="REMOVE_ITEM";class E extends v.a{constructor(e,t){super(),this.prefix=e,this.options=t}provide(e,t){var i;const n=new v.b;e.canAcceptInBackground=!(null===(i=this.options)||void 0===i||!i.canAcceptInBackground),e.matchOnLabel=e.matchOnDescription=e.matchOnDetail=e.sortByLabel=!1;let o=void 0;const r=n.add(new v.d),s=()=>L(this,void 0,void 0,(function*(){var i=r.value=new v.b;null!=o&&o.dispose(!0),e.busy=!1,o=new D.b(t);const n=o.token,s=e.value.substr(this.prefix.length).trim(),a=this._getPicks(s,i,n),l=(t,i)=>{var n;let o,r=void 0;if(O(t)?(o=t.items,r=t.active):o=t,0===o.length){if(i)return!1;0<s.length&&null!==(n=this.options)&&void 0!==n&&n.noResultsPick&&(o=[this.options.noResultsPick])}return e.items=o,r&&(e.activeItems=[r]),!0};if(null!==a)if((i=a).picks&&i.additionalPicks instanceof Promise){let t=!1,i=!1;yield Promise.all([L(this,void 0,void 0,(function*(){yield Object(k.n)(E.FAST_PICKS_RACE_DELAY),n.isCancellationRequested||i||(t=l(a.picks,!0))})),L(this,void 0,void 0,(function*(){e.busy=!0;try{var i,o=yield a.additionalPicks;if(n.isCancellationRequested)return;let r,s=void 0;O(a.picks)?(r=a.picks.items,s=a.picks.active):r=a.picks;let c,d=void 0;if(O(o)?(c=o.items,d=o.active):c=o,0<c.length||!t){let t=void 0;s||d||(i=e.activeItems[0])&&-1!==r.indexOf(i)&&(t=i),l({items:[...r,...c],active:s||d||t})}}finally{n.isCancellationRequested||(e.busy=!1),r=!0}}))])}else if(a instanceof Promise){e.busy=!0;try{var c=yield a;if(n.isCancellationRequested)return;l(c)}finally{n.isCancellationRequested||(e.busy=!1)}}else l(a)}));return n.add(e.onDidChangeValue(()=>s())),s(),n.add(e.onDidAccept(t=>{const[i]=e.selectedItems;"function"==typeof(null==i?void 0:i.accept)&&(t.inBackground||e.hide(),i.accept(e.keyMods,t))})),n.add(e.onDidTriggerItemButton(({button:i,item:n})=>L(this,void 0,void 0,(function*(){if("function"==typeof n.trigger){var o=null!==(o=null===(o=n.buttons)||void 0===o?void 0:o.indexOf(i))&&void 0!==o?o:-1;if(0<=o&&(o="number"==typeof(o=n.trigger(o,e.keyMods))?o:yield o,!t.isCancellationRequested))switch(o){case p.NO_ACTION:break;case p.CLOSE_PICKER:e.hide();break;case p.REFRESH_PICKER:s();break;case p.REMOVE_ITEM:if(-1!==(a=e.items.indexOf(n))){const t=e.items.slice(),i=t.splice(a,1);var r=e.activeItems.filter(e=>e!==i[0]),a=e.keepScrollPosition;e.keepScrollPosition=!0,e.items=t,r&&(e.activeItems=r),e.keepScrollPosition=a}}}})))),n}}E.FAST_PICKS_RACE_DELAY=200;var N=i(113),I=i(146),T=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;0<=a;a--)(o=e[a])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s},M=(t=function(e,t){return function(i,n){t(i,n,e)}},function(e,t,i,n){return new(i=i||Promise)((function(o,r){function s(e){try{l(n.next(e))}catch(e){r(e)}}function a(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):((t=e.value)instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))});(R=class e extends E{constructor(t,i,n,o,r,s){super(e.PREFIX,t),this.instantiationService=i,this.keybindingService=n,this.commandService=o,this.telemetryService=r,this.dialogService=s,this.commandsHistory=this._register(this.instantiationService.createInstance(A)),this.options=t}_getPicks(t,i,n){return M(this,void 0,void 0,(function*(){var o=yield this.getCommandPicks(i,n);if(n.isCancellationRequested)return[];const r=[];for(const i of o){var s=Object(c.p)(e.WORD_FILTER(t,i.label)),a=i.commandAlias?Object(c.p)(e.WORD_FILTER(t,i.commandAlias)):void 0;s||a?(i.highlights={label:s,detail:this.options.showAlias?a:void 0},r.push(i)):t===i.commandId&&r.push(i)}const u=new Map;for(const e of r){const t=u.get(e.label);t?(e.description=e.commandId,t.description=t.commandId):u.set(e.label,e)}r.sort((e,t)=>{var i=this.commandsHistory.peek(e.commandId),n=this.commandsHistory.peek(t.commandId);return i&&n?n<i?-1:1:i?-1:n?1:e.label.localeCompare(t.label)});const g=[];let p=!1;for(let e=0;e<r.length;e++){const t=r[e],i=this.keybindingService.lookupKeybinding(t.commandId);var m=i?Object(d.a)("commandPickAriaLabelWithKeybinding","{0}, {1}",t.label,i.getAriaLabel()):t.label;0===e&&this.commandsHistory.peek(t.commandId)&&(g.push({type:"separator",label:Object(d.a)("recentlyUsed","recently used")}),p=!0),0!==e&&p&&!this.commandsHistory.peek(t.commandId)&&(g.push({type:"separator",label:Object(d.a)("morecCommands","other commands")}),p=!1),g.push(Object.assign(Object.assign({},t),{ariaLabel:m,detail:this.options.showAlias&&t.commandAlias!==t.label?t.commandAlias:void 0,keybinding:i,accept:()=>M(this,void 0,void 0,(function*(){this.commandsHistory.push(t.commandId),this.telemetryService.publicLog2("workbenchActionExecuted",{id:t.commandId,from:"quick open"});try{yield this.commandService.executeCommand(t.commandId)}catch(e){Object(f.e)(e)||this.dialogService.show(_.a.Error,Object(d.a)("canNotRun","Command '{0}' resulted in an error ({1})",t.label,function e(t=null,i=!1){if(!t)return d.a("error.defaultMessage","An unknown error occurred. Please consult the log for more details.");if(Array.isArray(t)){var n=l.e(t),o=e(n[0],i);return 1<n.length?d.a("error.moreErrors","{0} ({1} errors in total)",o,n.length):o}if(c.l(t))return t;if(t.detail){if((o=t.detail).error)return h(o.error,i);if(o.exception)return h(o.exception,i)}return t.stack?h(t,i):t.message||d.a("error.defaultMessage","An unknown error occurred. Please consult the log for more details.")}(e)))}}))}))}return g}))}}).PREFIX=">",R.WORD_FILTER=Object(m.j)(m.h,m.i,m.f),R=T([t(1,x.a),t(2,S.a),t(3,w.b),t(4,I.a),t(5,y.a)],R);let A=class e extends v.a{constructor(e,t){super(),this.storageService=e,this.configurationService=t,this.configuredCommandsHistoryLength=0,this.updateConfiguration(),this.load(),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(()=>this.updateConfiguration()))}updateConfiguration(){this.configuredCommandsHistoryLength=e.getConfiguredCommandHistoryLength(this.configurationService),e.cache&&e.cache.limit!==this.configuredCommandsHistoryLength&&(e.cache.limit=this.configuredCommandsHistoryLength,e.saveState(this.storageService))}load(){var t=this.storageService.get(e.PREF_KEY_CACHE,0);let i;if(t)try{i=JSON.parse(t)}catch(t){}const n=e.cache=new b.a(this.configuredCommandsHistoryLength,1);if(i){let e;e=i.usesLRU?i.entries:i.entries.sort((e,t)=>e.value-t.value),e.forEach(e=>n.set(e.key,e.value))}e.counter=this.storageService.getNumber(e.PREF_KEY_COUNTER,0,e.counter)}push(t){e.cache&&(e.cache.set(t,e.counter++),e.saveState(this.storageService))}peek(t){var i;return null===(i=e.cache)||void 0===i?void 0:i.peek(t)}static saveState(t){if(e.cache){const i={usesLRU:!0,entries:[]};e.cache.forEach((e,t)=>i.entries.push({key:t,value:e})),t.store(e.PREF_KEY_CACHE,JSON.stringify(i),0,0),t.store(e.PREF_KEY_COUNTER,e.counter,0,0)}}static getConfiguredCommandHistoryLength(t){return"number"==typeof(t=null===(t=null===(t=t.getValue().workbench)||void 0===t?void 0:t.commandPalette)||void 0===t?void 0:t.history)?t:e.DEFAULT_COMMANDS_HISTORY_LENGTH}};A.DEFAULT_COMMANDS_HISTORY_LENGTH=50,A.PREF_KEY_CACHE="commandPalette.mru.cache",A.PREF_KEY_COUNTER="commandPalette.mru.counter",A.counter=1,A=T([t(0,N.a),t(1,C.a)],A);class P extends R{constructor(e,t,i,n,o,r){super(e,t,i,n,o,r)}getCodeEditorCommandPicks(){const e=this.activeTextEditorControl;if(!e)return[];const t=[];for(const i of e.getSupportedActions())t.push({commandId:i.id,commandAlias:i.alias,label:Object(a.e)(i.label)||i.id});return t}}var R=i(5),F=i(8),j=i(132);i=function(e,t){return function(i,n){t(i,n,e)}};let B=class extends P{constructor(e,t,i,n,o,r){super({showAlias:!1},e,i,n,o,r),this.codeEditorService=t}get activeTextEditorControl(){return Object(c.p)(this.codeEditorService.getFocusedCodeEditor())}getCommandPicks(){return function(e,t,i,n){return new(i=i||Promise)((function(o,r){function s(e){try{l(n.next(e))}catch(e){r(e)}}function a(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):((t=e.value)instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))}(this,void 0,void 0,(function*(){return this.getCodeEditorCommandPicks()}))}};B=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;0<=a;a--)(o=e[a])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s}([i(0,x.a),i(1,s.a),i(2,S.a),i(3,w.b),i(4,I.a),i(5,y.a)],B),n.a.as(o.b.Quickaccess).registerQuickAccessProvider({ctor:B,prefix:B.PREFIX,helpEntries:[{description:r.d.quickCommandHelp,needsEditor:!0}]});class W extends R.b{constructor(){super({id:"editor.action.quickCommand",label:r.d.quickCommandActionLabel,alias:"Command Palette",precondition:void 0,kbOpts:{kbExpr:F.a.focus,primary:59,weight:100},contextMenuOpts:{group:"z_commands",order:1}})}run(e){e.get(j.a).quickAccess.show(B.PREFIX)}}Object(R.j)(W)},function(e,t,i){"use strict";i.r(t);var n=i(13),o=i.n(n),r=i(57),s=i.n(r),a=(n=i(43),i.n(n)),l=(r=i(31),i.n(r)),c=(n=i(7),i.n(n)),d=(r=i(88),i.n(r)),h=i(39),u=(n=i(33),i(86)),g=i(61),p=i(24),f=(i(53),i(364)),m=(r=i(137),i(40)),v=i(41);function b(e,t){var i,n=Object.keys(e);return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(e),t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)),n}function _(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?b(Object(i),!0).forEach((function(t){l()(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):b(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}r={props:[],data:function(){return{listData:[],randomColor:[],client:null,isAutoScroll:!0,dnsRecords:{},logLevel:parseInt(m.a.get(v.a.LOG_MOUDLE_LEVEL))||0,logTypeEmoji:{info:"✅",debug:"🪲",warn:"‼️",error:"❌"},searchText:"",showDetailItemIDs:[],logStyle:parseInt(m.a.get(v.a.LOG_MODULE_STYLE))||0}},watch:{searchText:function(e){m.a.put(v.a.LOG_MODULE_SEARCH_TEXT,e)},isWindowShow:function(e){this.handleWindwEvent(e)},clashStatus:function(e){this.closeLogStream(),e===g.a.CONNECTED&&this.openLogStream()},logStyle:function(e){m.a.put(v.a.LOG_MODULE_STYLE,e)},logLevel:function(e){this.closeLogStream(),this.openLogStream(),m.a.put(v.a.LOG_MOUDLE_LEVEL,e)}},computed:_(_(_({},Object(n.mapState)({isWindowShow:function(e){return e.app.isWindowShow},clashStatus:function(e){return e.app.clashStatus},mode:function(e){return e.app.mode},logFilePath:function(e){return e.app.logFilePath},settings:function(e){return e.app.settings}})),Object(n.mapGetters)(["clashWSClient"])),{},{logList:function(){var e=this;return(this.searchText&&this.searchTextReg?this.listData.filter((function(t){return e.searchTextReg.test(Object(h.f)(t))})):this.listData).slice(-200)},searchTextReg:function(){try{return new RegExp(this.searchText,"i")}catch(e){}return null},buttonText:function(){return this.client&&1===this.client.readyState?"暂停":"开始"},buttonStyle:function(){var e=["button"];return this.client&&1===this.client.readyState?e.push("button-off"):e.push("button-on"),e}}),filters:{msgFilter:function(e){return/(TCP|UDP)/.test(e)?RegExp.$1.trim().toUpperCase():e}},methods:_(_({},Object(n.mapActions)(["getMode"])),{},{isShowDetails:function(e){return e=e.id,1===this.logStyle||""!==this.searchText||this.showDetailItemIDs.includes(e)},addrFieldStr:function(e){return(e=(void 0===(e=(e||{}).fields)?[]:e).find((function(e){return"rAddr"===e.key})))?"".concat(e.value):""},copyPayload:function(e){(e=e.fields.find((function(e){return"rAddr"===e.key})))&&(p.clipboard.writeText(e.value),Object(h.j)("Copied to Clipboad!",e.value))},logItemClasses:function(e){var t=["dark","2077"].includes(this.theme);return{debugdark:"debug"===e.type&&!t,debug:"debug"===e.type&&t,info:"info"===e.type,warn:"warn"===e.type,error:"error"===e.type}},randomBGC:function(e){if("light"===this.theme){if(n=this.randomColor.find((function(t){return t.type===e})))return{color:"rgb(".concat(n.r,",").concat(n.g,",").concat(n.b,")")};var t=Math.floor(150*Math.random()+10),i=Math.floor(150*Math.random()+10),n=Math.floor(150*Math.random()+10);return this.randomColor.push({type:e,r:t,g:i,b:n}),{color:"rgb(".concat(t,",").concat(i,",").concat(n,")")}}},parseLog:function(e){var t=this,i=e.level,n=e.message,o=e.time;e=e.fields;this.listData=[].concat(a()(this.listData),[{type:i,msg:n,time:o||d()().format("HH:mm:ss"),fields:e.filter((function(e){var i=e.key;e=e.value;return"mode"!==i&&e!==t.mode})),id:Object(u.uniqueId)()}])},openLogStream:function(){var e=this,t=this.clashWSClient("logs",["level=".concat(["info","debug"][this.logLevel]),"format=structured"]);t&&(t.on("message",(function(t){try{e.parseLog(JSON.parse(t))}catch(e){console.error("failed to parse log",t)}})),this.client=t)},closeLogStream:function(){this.client&&this.client.terminate(),this.client=null},handleItemClick:function(e){var t=e.id;-1<(e=this.showDetailItemIDs.findIndex((function(e){return e===t})))?this.showDetailItemIDs.splice(e,1):this.showDetailItemIDs.push(t)},handleItemRightClick:function(e,t){var i=this;this.isAutoScroll=!1;var n=t.fields.find((function(e){return"rAddr"===e.key}));this.$menu([{text:(null==n?void 0:n.value)||"Unknown",disabled:!0,icon:"title"},{text:"复制",icon:"content_copy",click:function(){i.copyPayload(t)}}],e)},handleBtnClick:function(){this.client?this.closeLogStream():this.openLogStream()},handleClear:function(){this.listData=[]},handleWindwEvent:function(e){e?this.openLogStream():this.closeLogStream()},handleScroll:function(e){var t,i=e.target;i&&(t=i.scrollTop,e=i.scrollHeight,i=i.clientHeight,this.isAutoScroll=Math.abs(e-t-i)<1)},parseStringLog:function(e){var t=this,i=e.payload,n=e.type,o=e.time;e="";return new RegExp("^([^=]+)( .+=|$)").test(i)&&(e=RegExp.$1.trim()),i=a()(i.matchAll(/([^\s]+?)=([^=]+)(?= .+=|$)/g)).reduce((function(e,i){i=(n=s()(i,3))[1];var n=n[2];return"mode"===i&&n===t.mode?e:[].concat(a()(e),[{key:i.trim(),value:n.trim().replace(/^"|"$/g,"")}])}),[]),{msg:e,id:Object(u.uniqueId)(),type:n,fields:i,time:o||d()().format("HH:mm:ss")}}}),beforeRouteEnter:function(e,t,i){var n;i((n=o()(c.a.mark((function e(t){var i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.searchText=m.a.get(v.a.LOG_MODULE_SEARCH_TEXT)||"",0<(i=0<=(i=t.settings.logPreloadLineCount)?i:30))return e.prev=4,e.next=7,f.read(t.logFilePath,i);e.next=13;break;case 7:e.sent.split("\n").forEach((function(e){/^(.*?) (.*?) (.+)$/.test(e)&&(t.listData=[].concat(a()(t.listData),[t.parseStringLog({payload:RegExp.$3.trim(),type:{ERR:"error",WRN:"warn",INF:"info",DBG:"debug",TRC:"trace",FTL:"fatal"}[RegExp.$2.trim()],time:RegExp.$1.trim()})]))})),e.next=13;break;case 11:e.prev=11,e.t0=e.catch(4);case 13:t.getMode(),t.openLogStream(),t.$refs.list.addEventListener("scroll",t.handleScroll);case 16:case"end":return e.stop()}}),e,null,[[4,11]])}))),function(e){return n.apply(this,arguments)}))},beforeRouteLeave:function(e,t,i){this.closeLogStream(),this.$refs.list.removeEventListener("scroll",this.handleScroll),i()},updated:function(){this.$nextTick((function(){var e=this.$refs.list;e&&this.isAutoScroll&&(e.scrollTop=e.scrollHeight)}))},components:{SelectView:r.a}},i(601),i(603),i=i(37),r=Object(i.a)(r,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"main-log-view w-full"},[i("div",{staticClass:"title"},[i("div",{staticClass:"text flex-shrink-0"},[i("div",[e._v("请求日志")]),e._v(" "),i("div",{staticClass:"hint"},[e._v("模式: "+("global"==e._s(e.mode)?"全局":"rule"==e._s(e.mode)?"规则":"direct"==e._s(e.mode)?"直连":"script"==e._s(e.mode)?"脚本":e._s(e.mode)))])]),e._v(" "),i("div",{staticClass:"relative w-full mx-4",attrs:{title:e.searchTextReg}},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.searchText,expression:"searchText"}],ref:"search-text-input",staticClass:"outline-none text-base w-full h-[35px] pl-3 pr-6",attrs:{type:"文本",placeholder:"搜索"},domProps:{value:e.searchText},on:{input:function(t){t.target.composing||(e.searchText=t.target.value)}}}),e._v(" "),e.searchText?i("span",{staticClass:"icon text-sm absolute right-2 h-full flex top-0 items-center clickable",on:{click:function(t){e.searchText="",e.$refs["search-text-input"].focus()}}},[e._v("close")]):e._e()]),e._v(" "),i("div",{staticClass:"btns"},[i("div",{staticClass:"flex gap-y-1 flex-col text-base"},[i("SelectView",{staticClass:"mr-4",attrs:{items:["简略","详细"]},model:{value:e.logStyle,callback:function(t){e.logStyle=t},expression:"logStyle"}}),e._v(" "),i("SelectView",{staticClass:"mr-4",attrs:{items:["信息","调试"]},model:{value:e.logLevel,callback:function(t){e.logLevel=t},expression:"logLevel"}})],1),e._v(" "),i("div",{staticClass:"button button-clear mr-2",on:{click:e.handleClear}},[e._v("清除")]),e._v(" "),i("div",{class:e.buttonStyle,on:{click:e.handleBtnClick}},[e._v(e._s(e.buttonText))])])]),e._v(" "),i("div",{ref:"list",staticClass:"log-list w-full"},[0===e.listData.length?i("div",{staticClass:"empty-list"},[i("div",[e._v("空日志列表")]),e._v(" "),i("div",[e._v("刷新浏览器以发出请求.")])]):e._e(),e._v(" "),e._l(e.logList,(function(t){return i("div",{key:t.id,staticClass:"clickable log-item w-full",on:{click:function(i){return e.handleItemClick(t)},contextmenu:function(i){return e.handleItemRightClick(i,t)}}},[i("div",{staticClass:"text-sm w-full"},[i("div",{staticClass:"flex justify-between"},[i("div",{staticClass:"text-xs",class:e.logItemClasses(t)},[e._v("\n            "+e._s(e.logTypeEmoji[t.type])+"\n            "+e._s(t.msg)+"\n          ")]),e._v(" "),i("div",{staticClass:"text-xs opacity-60"},[e._v(e._s(t.time))])]),e._v(" "),e.addrFieldStr(t)?i("div",{staticClass:"text-[14px] flex items-center gap-x-1"},[i("span",{staticClass:"opacity-40 text-[10px] rotate-90 inline-block transition-all duration-200 ease-in-out",style:{transform:e.isShowDetails(t)?"rotate(180deg)":""}},[e._v("▲")]),e._v("\n          "+e._s(e.addrFieldStr(t))+"\n        ")]):e._e(),e._v(" "),e.isShowDetails(t)?i("div",{staticClass:"flex text-xs flex-wrap gap-x-3"},[e._l(t.fields,(function(t){return[["rAddr"].includes(t.key)?e._e():i("div",{key:t.key,staticClass:"flex gap-x-[2px] items-baseline w-fit"},[i("div",{staticClass:"text-xs items-baseline text-[color:var(--log-item-payload-c)] flex-shrink-0"},[e._v("\n                "+e._s("lAddr"===t.key?"FROM":t.key.toUpperCase())+"\n              ")]),e._v(" "),i("span",[e._v("⇢")]),e._v(" "),i("div",{staticClass:"break-all max-w-full opacity-80"},[e._v("\n                "+e._s(t.value)+"\n              ")])])]}))],2):e._e()])])}))],2)])}),[],!1,null,"6acd51f2",null),t.default=r.exports},function(e,t,i){"use strict";i.r(t);var n=i(31),o=i.n(n);n=i(33);function r(e,t){var i,n=Object.keys(e);return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(e),t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)),n}function s(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?r(Object(i),!0).forEach((function(t){o()(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}n={components:{EscCapture:i(109).a},name:"AlertView",props:[],data:function(){return{isShow:!1,content:"",title:"错误",isShowErrorBtn:!1,resolve:null,reject:null}},computed:s(s({},Object(n.mapState)({})),Object(n.mapGetters)(["theme"])),methods:{show:function(e){var t=this,i=void 0===(n=e.title)?"错误":n,n=void 0===(n=e.content)?"":n;e=void 0!==(e=e.isShowErrorBtn)&&e;return this.isShow=!0,this.title=i,this.content=n,this.isShowErrorBtn=e,new Promise((function(e,i){t.resolve=e,t.reject=i}))},handleKeyDown:function(e){13===e.keyCode&&this.handleDone()},handleCancel:function(){this.isShow=!1,this.reject()},handleDone:function(){this.isShow=!1,this.resolve({})}}},i(658),i=i(37),n=Object(i.a)(n,(function(){var e=this,t=e.$createElement;t=e._self._c||t;return e.isShow?t("EscCapture",{staticClass:"main-alert-view-plugin bg-[color:var(--mask-c)]",class:["theme-"+e.theme],on:{esc:e.handleCancel,mousedown:e.handleCancel}},[t("div",{staticClass:"card-main bg-[color:var(--bgc)] text-[color:var(--fgc)]",on:{mousedown:function(e){e.stopPropagation()}}},[t("div",{staticClass:"card-content"},[t("div",{staticClass:"content-title"},[e._v(e._s(e.title))]),e._v(" "),t("div",{staticClass:"content-content"},[e._v(e._s(e.content))]),e._v(" "),t("div",{staticClass:"card-btns"},[e.isShowErrorBtn?t("div",{staticClass:"btn btn-cancel",on:{click:e.handleCancel}},[e._v("\n          取消\n        ")]):e._e(),e._v(" "),t("div",{staticClass:"btn btn-ok",on:{click:e.handleDone}},[e._v("确定")])])])])]):e._e()}),[],!1,null,"bfeddf0a",null),t.default=n.exports},function(e,t,i){"use strict";i.r(t);var n=i(13),o=i.n(n),r=i(43),s=i.n(r),a=i(57),l=i.n(a),c=i(31),d=i.n(c),h=(n=i(7),i.n(n)),u=i(53),g=i(97),p=(r=i(33),a=i(126),i(25)),f=i(39),m=(c=i(109),n=i(208),i(231)),v=(i(41),i(40),i(24));function b(e,t){var i,n=Object.keys(e);return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(e),t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)),n}function _(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?b(Object(i),!0).forEach((function(t){d()(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):b(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}r={name:"CodeView",props:[],components:{Hint:a.a,EscCapture:c.a,Navigator:n.a},data:function(){return{editor:null,isShow:!1,resolve:null,reject:null,language:"",code:"",originCode:"",error:null,readOnly:!1,fontSize:13,isSelecting:!1}},watch:{isShow:function(e){e||(this.editor&&this.editor.dispose(),this.editor=null)}},computed:_(_(_({},Object(r.mapState)({})),Object(r.mapGetters)(["theme"])),{},{saveHint:function(){return Object(p.k)()?"Command+S":"保存(Ctrl+S)"},topKeys:function(){return this.code.split("\n").reduce((function(e,t,i){return t=t.match(/^(?!\s|-)(.+):(\s|$)/)||[],(t=l()(t,2))[0],(t=t[1])?[].concat(s()(e),[{key:t,index:i}]):e}),[])},topKeyNames:function(){return this.topKeys.map((function(e){return e.key}))}}),methods:{show:function(e){var t,i=this,n=e.code,o=void 0===(t=e.language)?"yaml":t,r=void 0!==(t=e.readOnly)&&t;e=void 0===(e=e.fontSize)?13:e;return this.isShow=!0,this.language=o,this.readOnly=r,this.error="",this.code=n,this.originCode=n,this.fontSize=e||13,this.$nextTick((function(){i.editor=g.editor.create(i.$refs.editor,{value:n,language:o,theme:"vs-dark",fontFamily:"Consolas, Monaco, Lucida Console, Liberation Mono,\n        DejaVu Sans Mono, Bitstream Vera Sans Mono, Courier New, monospace",fontSize:i.fontSize,automaticLayout:!0,readOnly:r,minimap:{enabled:!1},contextmenu:!1,scrollbar:{verticalScrollbarSize:12,horizontalScrollbarSize:12},quickSuggestions:{other:!0,strings:!0},smoothScrolling:!0}),i.editor.onDidChangeModelContent((function(){i.code=i.editor.getValue()})),i.editor.addAction({id:"save",label:"保存",run:function(){i.save()},keybindings:[g.KeyMod.CtrlCmd|g.KeyCode.KeyS]}),i.editor.setSelection(new g.Selection(1,1,1,1)),i.editor.setScrollTop(Object(m.b)(Object(f.d)(i.code))),i.editor.onDidChangeCursorSelection((function(){i.isSelecting=!i.editor.getSelection().isEmpty()})),i.editor.getContribution("editor.linkDetector").openerService._defaultExternalOpener.openExternal=v.shell.openExternal,i.editor.focus()})),new Promise((function(e,t){i.resolve=e,i.reject=t}))},handleSaveClick:function(){this.save()},handleAbortClick:function(){var e=this;return o()(h.a.mark((function t(){var i;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.code!==e.originCode)return t.next=3,Object(f.i)({type:"warning",message:"是否要保存更改?",buttons:["保存","不保存","取消"]});t.next=9;break;case 3:0===(i=(i=t.sent).response)&&e.save(),1===i&&e.cancel(),t.next=10;break;case 9:e.cancel();case 10:case"end":return t.stop()}}),t)})))()},saveScrollTop:function(){Object(m.a)(Object(f.d)(this.code),this.editor.getScrollTop())},save:function(){if(this.resolve)try{"yaml"===this.language&&u.parse(this.code,{prettyErrors:!0,strict:!1}),this.resolve({code:this.code}),this.saveScrollTop(),this.isShow=!1}catch(e){this.error="Error: ".concat(e.message)}},cancel:function(){this.reject(),this.saveScrollTop(),this.isShow=!1},handleNavigate:function(e){e=this.topKeys[e].index,this.editor.setScrollPosition({scrollTop:this.editor.getTopForLineNumber(e+1)},0)}},mounted:function(){},beforeDestroy:function(){}},i(660),i(662),i=i(37),r=Object(i.a)(r,(function(){var e=this,t=e.$createElement;t=e._self._c||t;return e.isShow?t("EscCapture",{staticClass:"main-code-view line-numbers bg-[color:var(--mask-c)]",on:{esc:e.handleAbortClick,mousedown:function(t){return t.target!==t.currentTarget?null:e.handleAbortClick.apply(null,arguments)}}},[t("div",{staticClass:"card"},[t("div",{ref:"editor",staticClass:"editor"}),e._v(" "),e.isSelecting?e._e():t("navigator",{staticClass:"navigator",attrs:{list:e.topKeyNames},on:{select:e.handleNavigate}}),e._v(" "),e.error?t("div",{staticClass:"error"},[t("div",[e._v(e._s(e.error))]),e._v(" "),t("div",{staticClass:"clickable",on:{click:function(t){e.error=""}}},[t("span",{staticClass:"icon text-[20px] text-white"},[e._v("close")])])]):e._e(),e._v(" "),t("div",{staticClass:"btns"},[t("Hint",{staticClass:"abort-btn clickable",attrs:{hint:"退出"},on:{click:e.handleAbortClick}},[t("span",{staticClass:"icon text-[20px] text-white"},[e._v("close")])]),e._v(" "),e.readOnly?e._e():t("Hint",{staticClass:"save-btn clickable",attrs:{hint:e.saveHint},on:{click:e.handleSaveClick}},[t("span",{staticClass:"icon text-[20px] text-white"},[e._v("save")])])],1)],1)]):e._e()}),[],!1,null,"4c3005d1",null),t.default=r.exports},function(e,t,i){"use strict";i.r(t);var n=i(13),o=i.n(n),r=i(7),s=i.n(r),a=i(97),l=(n=i(109),r=i(126),i(25)),c=i(39),d=i(24),h=i(41),u=i(40);n={components:{Hint:r.a,EscCapture:n.a},name:"DiffView",props:{},data:function(){return{isShow:!1,editor:null,resolve:null,reject:null,changeModel:null,baseModel:null,originalChangeCode:"",renderSideBySide:!1}},watch:{isShow:function(e){e||(this.editor&&this.editor.dispose(),this.editor=null)},renderSideBySide:function(e){this.editor&&this.editor.updateOptions({renderSideBySide:e}),u.a.put(h.a.IS_DIFF_EIDTOR_SEPARATED,e)}},computed:{saveHint:function(){return Object(l.k)()?"Command+S":"保存(Ctrl+S)"}},methods:{show:function(e){var t=this,i=e.base;e=e.change;return this.isShow=!0,this.renderSideBySide=u.a.get(h.a.IS_DIFF_EIDTOR_SEPARATED),this.originalChangeCode=e,this.baseModel=a.editor.createModel(i,"yaml"),this.changeModel=a.editor.createModel(e,"yaml"),this.$nextTick((function(){t.editor=a.editor.createDiffEditor(t.$refs.editor,{language:"yaml",theme:"vs-dark",fontFamily:"Consolas, Monaco, Lucida Console, Liberation Mono,\n        DejaVu Sans Mono, Bitstream Vera Sans Mono, Courier New, monospace",fontSize:12,automaticLayout:!0,renderSideBySide:t.renderSideBySide,minimap:{enabled:!1},contextmenu:!1,scrollbar:{verticalScrollbarSize:12,horizontalScrollbarSize:12},quickSuggestions:{other:!0,strings:!0}}),t.editor.addAction({id:"save",label:"保存",run:t.handleSave,keybindings:[a.KeyMod.CtrlCmd|a.KeyCode.KeyS]}),t.editor.setModel({original:t.baseModel,modified:t.changeModel}),t.editor.getModifiedEditor().getContribution("editor.linkDetector").openerService._defaultExternalOpener.openExternal=d.shell.openExternal})),new Promise((function(e,i){t.resolve=e,t.reject=i}))},handleCancel:function(){var e=this;return o()(s.a.mark((function t(){var i;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.changeModel.getValue()!==e.originalChangeCode)return t.next=3,Object(c.i)({type:"warning",message:"是否要保存更改?",buttons:["保存","不保存","取消"]});t.next=9;break;case 3:0===(i=(i=t.sent).response)&&e.handleSave(),1===i&&(e.reject(),e.isShow=!1),t.next=11;break;case 9:e.reject(),e.isShow=!1;case 11:case"end":return t.stop()}}),t)})))()},handleSave:function(){this.resolve(this.changeModel.getValue()),this.isShow=!1},handleChangeStyle:function(){this.renderSideBySide=!this.renderSideBySide}},mounted:function(){}},i(664),i=i(37),n=Object(i.a)(n,(function(){var e=this,t=e.$createElement;t=e._self._c||t;return e.isShow?t("esc-capture",{staticClass:"main-diff-view bg-[color:var(--mask-c)]",on:{esc:e.handleCancel,mousedown:function(t){return t.target!==t.currentTarget?null:e.handleCancel.apply(null,arguments)}}},[t("div",{staticClass:"card"},[t("div",{ref:"editor",staticClass:"editor"}),e._v(" "),t("div",{staticClass:"btns"},[t("Hint",{staticClass:"change-btn-off clickable",class:{"change-btn-on":e.renderSideBySide},attrs:{hint:"并排模式"},on:{click:e.handleChangeStyle}},[t("span",{staticClass:"icon text-[20px] text-white"},[e._v("compare")])]),e._v(" "),t("Hint",{staticClass:"abort-btn clickable",attrs:{hint:"退出(ESC)"},on:{click:e.handleCancel}},[t("span",{staticClass:"icon text-[20px] text-white"},[e._v("close")])]),e._v(" "),t("Hint",{staticClass:"save-btn clickable",attrs:{hint:e.saveHint},on:{click:e.handleSave}},[t("span",{staticClass:"icon text-[20px] text-white"},[e._v("save")])])],1)])]):e._e()}),[],!1,null,"70d62c5e",null);t.default=n.exports},function(e,t,i){"use strict";i.r(t);var n=i(13),o=i.n(n),r=(n=i(43),i.n(n)),s=(n=i(31),i.n(n)),a=(n=i(7),i.n(n));n=i(33);function l(e,t){var i,n=Object.keys(e);return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(e),t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)),n}function c(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?l(Object(i),!0).forEach((function(t){s()(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):l(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}n={components:{EscCapture:i(109).a},name:"DNSView",props:[],data:function(){return{data:[],isShow:!1,searchHost:"",searchType:"A",error:"",flags:[],status:"",answers:[],authorities:[],additionals:[],questions:[],resolve:null,reject:null,server:"",rttypes:{1:"A",28:"AAAA",5:"CNAME",15:"MX",2:"NS",12:"PTR",6:"SOA",33:"SRV",16:"TXT"}}},watch:{},computed:c(c({},Object(n.mapGetters)(["theme","clashAxiosClient"])),{},{questionMixed:function(){var e=this;return this.questions.reduce((function(t,i){return[].concat(r()(t),[i.Name,e.rttypes[i.Qtype]])}),[])},answerMixed:function(){var e=this;return this.answers.reduce((function(t,i){return[].concat(r()(t),[i.name,i.TTL,e.rttypes[i.type],i.data])}),[])},authorityMixed:function(){var e=this;return this.authorities.reduce((function(t,i){return[].concat(r()(t),[i.name,i.TTL,e.rttypes[i.type],i.data])}),[])},additionalMixed:function(){var e=this;return this.additionals.reduce((function(t,i){return[].concat(r()(t),[i.name,i.TTL,e.rttypes[i.type],i.data])}),[])}}),methods:{show:function(){var e=this;return this.isShow=!0,this.$nextTick((function(){e.$refs["search-input"].focus()})),new Promise((function(t,i){e.resolve=t,e.reject=i}))},parseDoHData:function(e){var t=e.Status,i=e.TC,n=e.RD,o=e.RA,r=e.AD,s=e.CD,a=void 0===(d=e.Server)?"":d,l=void 0===(c=e.Question)?[]:c,c=void 0===(d=e.Answer)?[]:d,d=void 0===(d=e.Authority)?[]:d;e=void 0===(e=e.Additional)?[]:e;this.status={0:"NOERROR",1:"FORMERR",2:"SERVFAIL",3:"NXDOMAIN",4:"NOTIMP",5:"REFUSED",6:"YXDOMAIN",7:"YXRRSET",8:"NXRRSET",9:"NOTAUTH",10:"NOTZONE",11:"DSOTYPENI",16:"BADVERS",17:"BADKEY",18:"BADTIME",19:"BADMODE",20:"BADNAME",21:"BADALG",22:"BADTRUNC"}[t],this.flags=[i?"tc":"",n?"rd":"",o?"ra":"",r?"ad":"",s?"cd":""].filter((function(e){return e})).map((function(e){return e.toUpperCase()})),this.answers=c,this.authorities=d,this.additionals=e,this.questions=l,this.server=a},handleSearch:function(){var e=this;return o()(a.a.mark((function t(){var i,n,o;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.error="",i=function(){e.additionals=[],e.authorities=[],e.answers=[],e.questions=[],e.status="",e.flags=[],e.server=""},e.searchHost)return t.prev=3,t.next=6,e.clashAxiosClient.get("/dns/query",{params:{name:e.searchHost,type:e.searchType}});t.next=18;break;case 6:o=null==(o=t.sent)?void 0:o.data,e.parseDoHData(o),t.next=16;break;case 11:t.prev=11,t.t0=t.catch(3),o=t.t0.response,e.error=(null==o||null===(n=o.data)||void 0===n?void 0:n.message)||t.t0.message,i();case 16:t.next=20;break;case 18:e.error="请输入域名",i();case 20:case"end":return t.stop()}}),t,null,[[3,11]])})))()},handleKeyDown:function(e){},handleCancel:function(){this.isShow=!1,this.reject()}}},i(666),i=i(37),n=Object(i.a)(n,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.isShow?i("EscCapture",{staticClass:"main-dns-view bg-[color:var(--mask-c)]",class:["theme-"+e.theme],on:{esc:e.handleCancel,keydown:e.handleKeyDown,mousedown:e.handleCancel}},[i("div",{staticClass:"card-main bg-[color:var(--bgc)] text-[color:var(--fgc)]",on:{mousedown:function(e){e.stopPropagation()}}},[i("div",{staticClass:"card-content p-4"},[i("div",{staticClass:"px-2 text-lg"},[e._v("DNS查询")]),e._v(" "),i("div",{staticClass:"px-2 py-2 flex items-center gap-2"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.searchHost,expression:"searchHost"}],ref:"search-input",staticClass:"p-2 py-1 outline-none flex-grow",attrs:{placeholder:"主机（Host）"},domProps:{value:e.searchHost},on:{change:e.handleSearch,input:function(t){t.target.composing||(e.searchHost=t.target.value)}}}),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.searchType,expression:"searchType"}],staticClass:"p-2 py-1 w-[80px] outline-none",attrs:{placeholder:"类型"},domProps:{value:e.searchType},on:{change:e.handleSearch,input:function(t){t.target.composing||(e.searchType=t.target.value)}}}),e._v(" "),i("button",{staticClass:"bg-[color:#14A53A] rounded-full text-sm px-4 py-1 text-white",on:{click:e.handleSearch}},[e._v("\n          检索\n        ")])]),e._v(" "),""!==e.status?i("div",{staticClass:"px-2 content-items"},[i("div",{staticClass:"flex justify-between gap-2"},[i("div",{staticClass:"p flex-grow"},[i("span",[e._v("服务器")]),e._v(" "),i("div",{staticClass:"c"},[e._v(e._s(e.server))])]),e._v(" "),i("div",{staticClass:"p"},[i("span",[e._v("状态")]),e._v(" "),i("div",{staticClass:"c"},[e._v(e._s(e.status))])]),e._v(" "),i("div",{staticClass:"p"},[i("span",[e._v("标签")]),e._v(" "),i("div",{staticClass:"text-sm c flex gap-x-3"},e._l(e.flags,(function(t){return i("div",{key:t},[e._v("\n                "+e._s(t)+"\n              ")])})),0)])]),e._v(" "),0<e.answers.length?i("div",{staticClass:"p"},[i("span",[e._v("Answer")]),e._v(" "),i("div",{staticClass:"text-sm c grid grid-cols-4 gap-x-4",staticStyle:{"grid-template-columns":"repeat(4, auto)"}},e._l(e.answerMixed,(function(t,n){return i("div",{key:n,staticClass:"whitespace-pre-wrap break-all"},[i("div",[e._v(e._s(t))])])})),0)]):e._e(),e._v(" "),0<e.authorities.length?i("div",{staticClass:"p"},[i("span",[e._v("Authority")]),e._v(" "),i("div",{staticClass:"text-sm c grid grid-cols-4 gap-x-4",staticStyle:{"grid-template-columns":"repeat(4, auto)"}},e._l(e.authorityMixed,(function(t,n){return i("div",{key:n,staticClass:"whitespace-pre-wrap break-all"},[i("div",[e._v(e._s(t))])])})),0)]):e._e(),e._v(" "),0<e.additionals.length?i("div",{staticClass:"p"},[i("span",[e._v("Additional")]),e._v(" "),i("div",{staticClass:"text-sm c grid grid-cols-4 gap-x-4",staticStyle:{"grid-template-columns":"repeat(4, auto)"}},e._l(e.additionalMixed,(function(t,n){return i("div",{key:n,staticClass:"whitespace-pre-wrap break-all"},[i("div",[e._v(e._s(t))])])})),0)]):e._e()]):e._e(),e._v(" "),""===e.status&&""!==e.error?i("div",{staticClass:"error-hint"},[e._v("\n        "+e._s(e.error)+"\n      ")]):e._e()])])]):e._e()}),[],!1,null,"6e0989c7",null),t.default=n.exports},function(e,t,i){"use strict";i.r(t);var n=i(31),o=i.n(n);n=i(33);function r(e,t){var i,n=Object.keys(e);return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(e),t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)),n}n={components:{EscCapture:i(109).a},name:"InputView",props:[],data:function(){return{data:[],isShow:!1,error:"",title:"",hint:"",resolve:null,reject:null,confirmText:"OK"}},watch:{},computed:function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?r(Object(i),!0).forEach((function(t){o()(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},Object(n.mapGetters)(["theme"])),methods:{show:function(e){var t=this,i=void 0===(n=e.data)?[]:n,n=void 0===(o=e.title)?"":o,o=void 0===(o=e.hint)?"":o;e=void 0===(e=e.confirmText)?"OK":e;return this.error="",this.isShow=!0,this.data=i,this.title=n,this.hint=o,this.confirmText=e,this.$nextTick((function(){for(var e in i)(e=t.$refs["ta".concat(e)][0]).style.height=e.scrollHeight+2+"px"})),new Promise((function(e,i){t.resolve=e,t.reject=i}))},handleTextareaInput:function(e){(e=e.target)&&(e.style.height="",e.style.height=e.scrollHeight+2+"px")},handleKeyDown:function(e){},handleCancel:function(){this.isShow=!1,this.reject()},handleDone:function(){var e,t;0<this.data.filter((function(e){return e.required&&""===e.value})).length?this.error="required key(*) must have a value":(e=this.data.find((function(e){return e.hasOwnProperty("validate")&&""!==e.validate(e.value)})))?this.error=e.validate(e.value):(this.isShow=!1,t={},this.data.forEach((function(e){var i=e.value;""!==i&&(t[e.key]=i)})),this.resolve(t))}}},i(668),i=i(37),n=Object(i.a)(n,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.isShow?i("EscCapture",{staticClass:"main-input-view-plugin bg-[color:var(--mask-c)]",class:["theme-"+e.theme],on:{esc:e.handleCancel,keydown:e.handleKeyDown,mousedown:e.handleCancel}},[i("div",{staticClass:"card-main bg-[color:var(--bgc)] text-[color:var(--fgc)]",on:{mousedown:function(e){e.stopPropagation()}}},[i("div",{staticClass:"card-content"},[i("div",{staticClass:"content-title"},[e._v(e._s(e.title))]),e._v(" "),e.hint?i("div",{staticClass:"content-hint"},[e._v(e._s(e.hint))]):e._e(),e._v(" "),i("div",{staticClass:"content-items"},e._l(e.data,(function(t,n){return i("div",{key:n,staticClass:"content-item"},[i("div",{staticClass:"item-key"},[e._v("\n            "+e._s(t.name)+"\n            "),t.required?i("span",[e._v("*")]):e._e()]),e._v(" "),i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"item.value"}],ref:"ta"+n,refInFor:!0,staticClass:"border-[1px] border-[color:var(--bc)]",attrs:{type:"text",rows:"1",spellcheck:"false",placeholder:t.placeholder},domProps:{value:t.value},on:{input:[function(i){i.target.composing||e.$set(t,"value",i.target.value)},e.handleTextareaInput]}})])})),0),e._v(" "),e.error?i("div",{staticClass:"error-hint"},[e._v(e._s(e.error))]):e._e(),e._v(" "),i("div",{staticClass:"card-btns"},[i("div",{staticClass:"btn btn-cancel",on:{click:e.handleCancel}},[e._v("取消")]),e._v(" "),i("div",{staticClass:"btn btn-ok",on:{click:e.handleDone}},[e._v(e._s(e.confirmText))])])])])]):e._e()}),[],!1,null,"15034054",null),t.default=n.exports},function(e,t,i){"use strict";i.r(t);var n=i(31),o=i.n(n);n=i(33);function r(e,t){var i,n=Object.keys(e);return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(e),t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)),n}n={name:"MenuView",props:[],components:{EscCapture:i(109).a},data:function(){return{isShow:!1,options:{},items:[],contentStyles:{},isScrollBottom:!0}},watch:{isShow:function(e){var t=this;this.$nextTick((function(){var i,n,o,r,s,a,l;e&&t.$refs.menu&&t.$refs.window.$el&&(i=(s=t.$refs.menu).clientHeight,n=s.clientWidth,r=(l=t.$refs.window.$el).clientHeight,o=l.clientWidth,s=(a=t.options).clientX,l={},(a=a.clientY)+i<=(r+=25)-10?l.top=a+"px":10<=a-i?l.top=a-i+"px":(l.top=a+"px",l.height=r-a-10+"px",t.isScrollBottom=!1),l.left=s+n<=o?s+"px":s-n+"px",t.contentStyles=l)}))}},computed:function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?r(Object(i),!0).forEach((function(t){o()(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},Object(n.mapState)({})),methods:{show:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};this.items=e,this.options=t,this.isShow=!0,this.contentStyles={},this.isScrollBottom=!0},handleCancel:function(){this.isShow=!1},handleItemSelect:function(e){this.isShow=!1,null!=e&&e.click()},handleMenuScroll:function(e){e=e.target,this.isScrollBottom=e.scrollTop+e.clientHeight>=e.scrollHeight-20}}},i(670),i=i(37),n=Object(i.a)(n,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.isShow?i("EscCapture",{ref:"window",staticClass:"main-menu-view-plugin",on:{esc:e.handleCancel,mousedown:e.handleCancel}},[i("div",{staticClass:"card-main",on:{mousedown:function(e){e.stopPropagation()}}},[i("div",{ref:"menu",staticClass:"card-content",style:e.contentStyles,on:{scroll:e.handleMenuScroll}},[e._l(e.items,(function(t){return[t.disabled?i("div",{key:t.text,staticClass:"item-disabled"},[i("div",[e._v(e._s(t.text))])]):t.hide?e._e():i("div",{key:t.text,staticClass:"item clickable",on:{click:function(i){return e.handleItemSelect(t)}}},[i("span",{staticClass:"icon text-white mr-[15px] text-sm"},[e._v(e._s(t.icon))]),e._v(" "),i("div",[e._v(e._s(t.text))])])]})),e._v(" "),e.isScrollBottom?e._e():i("div",{staticClass:"indicator bg-[#6f6f6f] text-white"},[i("span",{staticClass:"text-xs"},[e._v("滑动鼠标以查看更多")]),i("span",{staticClass:"icon text-white"},[e._v("arrow_drop_down")])])],2)])]):e._e()}),[],!1,null,"00ec68dc",null),t.default=n.exports},function(e,t,i){"use strict";i.r(t);var n=i(13),o=i.n(n),r=i(31),s=i.n(r),a=i(7),l=i.n(a),c=(i(53),i(97)),d=i(33),h=(n=i(126),i(25)),u=i(39),g=(r=i(109),i(231),i(41)),p=i(40),f=(a=i(137),i(24));function m(e,t){var i,n=Object.keys(e);return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(e),t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)),n}function v(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?m(Object(i),!0).forEach((function(t){s()(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):m(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}d={name:"ScriptView",props:[],components:{Hint:n.a,EscCapture:r.a,Navigator:Navigator,SelectView:a.a},data:function(){return{editorCode:null,isShow:!1,resolve:null,reject:null,metadata:{type:2,network:0,host:"example.com",sourceIP:"",sourcePort:"",destinationIP:"",destinationPort:"",dnsMode:"normal",processPath:"",specialProxy:""},isLoading:!1}},watch:{isShow:function(e){e||(this.editorCode&&this.editorCode.dispose(),this.editorCode=null)}},computed:v(v(v({},Object(d.mapState)({})),Object(d.mapGetters)(["theme","clashAxiosClient"])),{},{saveHint:function(){return Object(h.k)()?"Command+S":"保存(Ctrl+S)"},mdt:{get:function(){return this.metadata.type-2},set:function(e){this.metadata.type=e+2}},mdd:{get:function(){return["normal","fake-ip","redir-host"].indexOf(this.metadata.dnsMode)},set:function(e){this.metadata.dnsMode=["normal","fake-ip","redir-host"][e]}}}),methods:{show:function(){var e=this,t={theme:"vs-dark",fontFamily:"Consolas, Monaco, Lucida Console, Liberation Mono,\n        DejaVu Sans Mono, Bitstream Vera Sans Mono, Courier New, monospace",automaticLayout:this.isShow=!0,fontSize:14,minimap:{enabled:!1},contextmenu:!1,scrollbar:{verticalScrollbarSize:12,horizontalScrollbarSize:12},quickSuggestions:{other:!0,strings:!0},smoothScrolling:!0},i=p.a.get(g.a.TEST_SCRIPT_CONTENT)||'def main(ctx, metadata):\n  ip = ctx.resolve_ip(metadata["host"])\n  if ip == "":\n    return "DIRECT"\n  region = ctx.geoip(ip)\n  if region == \'CN\':\n    return "DIRECT"\n  return "Proxy"';return this.$nextTick((function(){e.editorCode=c.editor.create(e.$refs["editor-code"],v({value:i,language:"python"},t)),e.editorCode.addAction({id:"test",label:"Test",run:function(){e.test()},keybindings:[c.KeyMod.CtrlCmd|c.KeyCode.KeyS]}),e.editorCode.setSelection(new c.Selection(1,1,1,1)),e.editorCode.getContribution("editor.linkDetector").openerService._defaultExternalOpener.openExternal=f.shell.openExternal,e.editorCode.focus()})),new Promise((function(t,i){e.resolve=t,e.reject=i}))},handleSaveClick:function(){this.test()},handleAbortClick:function(){var e=this;return o()(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.cancel();case 1:case"end":return t.stop()}}),t)})))()},handleDocumentClick:function(){return o()(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f.shell.openExternal("https://github.com/Dreamacro/clash/wiki/Clash-Premium-Features#script");case 1:case"end":return e.stop()}}),e)})))()},test:function(){var e=this;return o()(l.a.mark((function t(){var i,n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=e.editorCode.getValue(),p.a.put(g.a.TEST_SCRIPT_CONTENT,i),e.resolve)return t.prev=3,e.isLoading=!0,t.next=7,e.clashAxiosClient.post("/script",{metadata:e.metadata,script:i});t.next=19;break;case 7:n=(n=t.sent).data,Object(u.i)({type:"none",message:"成功, 结果: ".concat(n.result)}),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(3),n=t.t0.response,Object(u.i)({type:"error",message:"失败, 错误: ".concat((null==n?void 0:n.data)||t.t0.message)});case 16:return t.prev=16,e.isLoading=!1,t.finish(16);case 19:case"end":return t.stop()}}),t,null,[[3,12,16,19]])})))()},cancel:function(){this.reject(),this.isShow=!1}},mounted:function(){},beforeDestroy:function(){}},i(672),i(674),i=i(37),d=Object(i.a)(d,(function(){var e=this,t=e.$createElement;t=e._self._c||t;return e.isShow?t("EscCapture",{staticClass:"main-script-view line-numbers bg-[color:var(--mask-c)]",on:{esc:e.handleAbortClick,mousedown:function(t){return t.target!==t.currentTarget?null:e.handleAbortClick.apply(null,arguments)}}},[t("div",{staticClass:"card flex flex-col bg-[color:#1C1C1C] text-white"},[t("div",{staticClass:"px-6 pt-3 text-lg"},[e._v("脚本测试")]),e._v(" "),t("div",{staticClass:"metadata pb-3 pt-2 px-6 flex-grow-0 h-fit gap-x-5 grid grid-cols-2 gap-1 text-sm"},[t("div",{staticStyle:{"grid-column":"1 / -1"}},[t("span",[e._v("类型")]),e._v(" "),t("SelectView",{staticClass:"theme-dark",attrs:{items:["HTTP","HTTP Connect","Socks4","Socks5","Redir","TProxy","TUN","Tunnel"]},model:{value:e.mdt,callback:function(t){e.mdt=t},expression:"mdt"}}),e._v(" "),t("div",{staticClass:"flex-grow"})],1),e._v(" "),t("div",[t("span",[e._v("网络")]),e._v(" "),t("SelectView",{staticClass:"theme-dark",attrs:{items:["TCP","UDP"]},model:{value:e.metadata.network,callback:function(t){e.$set(e.metadata,"network",t)},expression:"metadata.network"}})],1),e._v(" "),t("div",[t("span",[e._v("DNS模式")]),e._v(" "),t("SelectView",{staticClass:"theme-dark",attrs:{items:["normal","fake-ip","redir-host"]},model:{value:e.mdd,callback:function(t){e.mdd=t},expression:"mdd"}})],1),e._v(" "),t("div",[t("span",[e._v("主机")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.metadata.host,expression:"metadata.host"}],attrs:{type:"text"},domProps:{value:e.metadata.host},on:{input:function(t){t.target.composing||e.$set(e.metadata,"host",t.target.value)}}})]),e._v(" "),t("div",[t("span",[e._v("源IP")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.metadata.sourceIP,expression:"metadata.sourceIP"}],attrs:{type:"text"},domProps:{value:e.metadata.sourceIP},on:{input:function(t){t.target.composing||e.$set(e.metadata,"sourceIP",t.target.value)}}})]),e._v(" "),t("div",[t("span",[e._v("源端口")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.metadata.sourcePort,expression:"metadata.sourcePort"}],attrs:{type:"text"},domProps:{value:e.metadata.sourcePort},on:{input:function(t){t.target.composing||e.$set(e.metadata,"sourcePort",t.target.value)}}})]),e._v(" "),t("div",[t("span",[e._v("目的地IP")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.metadata.destinationIP,expression:"metadata.destinationIP"}],attrs:{type:"text"},domProps:{value:e.metadata.destinationIP},on:{input:function(t){t.target.composing||e.$set(e.metadata,"destinationIP",t.target.value)}}})]),e._v(" "),t("div",[t("span",[e._v("目的地端口")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.metadata.destinationPort,expression:"metadata.destinationPort"}],attrs:{type:"text"},domProps:{value:e.metadata.destinationPort},on:{input:function(t){t.target.composing||e.$set(e.metadata,"destinationPort",t.target.value)}}})]),e._v(" "),t("div",[t("span",[e._v("进程路径")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.metadata.processPath,expression:"metadata.processPath"}],attrs:{type:"text"},domProps:{value:e.metadata.processPath},on:{input:function(t){t.target.composing||e.$set(e.metadata,"processPath",t.target.value)}}})])]),e._v(" "),t("div",{ref:"editor-code",staticClass:"editor-code flex-grow-1"}),e._v(" "),t("div",{staticClass:"btns"},[t("Hint",{staticClass:"abort-btn clickable",attrs:{hint:"退出"},on:{click:e.handleAbortClick}},[t("span",{staticClass:"icon text-[20px] text-white"},[e._v("close")])]),e._v(" "),t("Hint",{staticClass:"bg-cyan-500 clickable",attrs:{hint:"帮助文档"},on:{click:e.handleDocumentClick}},[t("span",{staticClass:"icon text-[20px] text-white"},[e._v("article")])]),e._v(" "),e.isLoading?t("Hint",{staticClass:"bg-gray-500 clickable",attrs:{hint:"Please wait"}},[t("span",{staticClass:"icon text-[20px] text-white"},[e._v("pending")])]):t("Hint",{staticClass:"save-btn clickable",attrs:{hint:e.saveHint},on:{click:e.handleSaveClick}},[t("span",{staticClass:"icon text-[20px] text-white"},[e._v("play_arrow")])])],1)])]):e._e()}),[],!1,null,"524f4b7a",null),t.default=d.exports},function(e,t,i){"use strict";i.r(t),i.d(t,"CodeLensContribution",(function(){return W}));var n=i(1),o=i(18),r=i(17),s=i(169),a=i(2),l=i(103),c=i(5),d=i(34),h=i(8),u=i(11),g=i(85),p=i(38),f=i(19),m=i(35),v=i(70),b=i(36),_=function(e,t,i,n){return new(i=i||Promise)((function(o,r){function s(e){try{l(n.next(e))}catch(e){r(e)}}function a(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):((t=e.value)instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};class w{constructor(){this.lenses=[],this._disposables=new a.b}dispose(){this._disposables.dispose()}add(e,t){this._disposables.add(e);for(const i of e.lenses)this.lenses.push({symbol:i,provider:t})}}function C(e,t){return _(this,void 0,void 0,(function*(){const i=u.b.ordered(e),n=new Map,o=new w;var s=i.map((i,s)=>_(this,void 0,void 0,(function*(){n.set(i,s);try{var a=yield Promise.resolve(i.provideCodeLenses(e,t));a&&o.add(a,i)}catch(a){Object(r.g)(a)}})));return yield Promise.all(s),o.lenses=o.lenses.sort((e,t)=>e.symbol.range.startLineNumber<t.symbol.range.startLineNumber?-1:e.symbol.range.startLineNumber>t.symbol.range.startLineNumber?1:n.get(e.provider)<n.get(t.provider)?-1:n.get(e.provider)>n.get(t.provider)?1:e.symbol.range.startColumn<t.symbol.range.startColumn?-1:e.symbol.range.startColumn>t.symbol.range.startColumn?1:0),o}))}b.a.registerCommand("_executeCodeLensProvider",(function(e,...t){let[i,n]=t;Object(f.c)(m.a.isUri(i)),Object(f.c)("number"==typeof n||!n);const o=e.get(v.a).getModel(i);if(!o)throw Object(r.c)();const s=[],l=new a.b;return C(o,p.a.None).then(e=>{l.add(e);let t=[];for(const i of e.lenses)null==n||Boolean(i.symbol.command)?s.push(i.symbol):0<n--&&i.provider.resolveCodeLens&&t.push(Promise.resolve(i.provider.resolveCodeLens(o,i.symbol,p.a.None)).then(e=>s.push(e||i.symbol)));return Promise.all(t)}).then(()=>s).finally(()=>{setTimeout(()=>l.dispose(),100)})}));var y=i(138),x=i(74),S=i(3),k=i(125),D=i(21),L=i(113);t=Object(D.c)("ICodeLensCache");class O{constructor(e,t){this.lineCount=e,this.data=t}}D=class{constructor(e){this._fakeProvider=new class{provideCodeLenses(){throw new Error("not supported")}},this._cache=new x.a(20,.75),Object(o.m)(()=>e.remove("codelens/cache",1));const t="codelens/cache2";var i=e.get(t,1,"{}");this._deserialize(i),Object(y.a)(e.onWillSaveState)(i=>{i.reason===L.c.SHUTDOWN&&e.store(t,this._serialize(),1,1)})}put(e,t){t=t.lenses.map(e=>({range:e.symbol.range,command:e.symbol.command&&{id:"",title:null===(e=e.symbol.command)||void 0===e?void 0:e.title}}));const i=new w;i.add({lenses:t,dispose:()=>{}},this._fakeProvider),t=new O(e.getLineCount(),i),this._cache.set(e.uri.toString(),t)}get(e){var t=this._cache.get(e.uri.toString());return t&&t.lineCount===e.getLineCount()?t.data:void 0}delete(e){this._cache.delete(e.uri.toString())}_serialize(){const e=Object.create(null);for(var[t,i]of this._cache){const n=new Set;for(const e of i.data.lenses)n.add(e.symbol.range.startLineNumber);e[t]={lineCount:i.lineCount,lines:[...n.values()]}}return JSON.stringify(e)}_deserialize(e){try{var t=JSON.parse(e);for(const e in t){var i=t[e];const n=[];for(const e of i.lines)n.push({range:new S.a(e,1,e,11)});const o=new w;o.add({lenses:n,dispose(){}},this._fakeProvider),this._cache.set(e,new O(i.lineCount,o))}}catch(e){}}},D=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;0<=a;a--)(o=e[a])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s}([function(e,t){return function(i,n){t(i,n,e)}}(0,L.a)],D),Object(k.b)(t,D);var E=i(170),N=(i(412),i(42)),I=i(45),T=i(4);D=i(16);class M{constructor(e,t,i){this.afterLineNumber=e,this.heightInPx=t,this._onHeight=i,this.suppressMouseDown=!0,this.domNode=document.createElement("div")}onComputedHeight(e){void 0===this._lastHeight?this._lastHeight=e:this._lastHeight!==e&&(this._lastHeight=e,this._onHeight())}isVisible(){return 0!==this._lastHeight&&this.domNode.hasAttribute("monaco-visible-view-zone")}}class A{constructor(e,t,i){this.allowEditorOverflow=!1,this.suppressMouseDown=!0,this._commands=new Map,this._isEmpty=!0,this._editor=e,this._id="codelens.widget-"+A._idPool++,this.updatePosition(i),this._domNode=document.createElement("span"),this._domNode.className="codelens-decoration "+t}withCommands(e,t){this._commands.clear();let i=[],o=!1;for(let t=0;t<e.length;t++){const s=e[t];var r;s&&(o=!0,s.command&&(r=Object(E.a)(s.command.title.trim()),s.command.id?(i.push(n.a("a",{id:String(t),title:s.command.tooltip},...r)),this._commands.set(String(t),s.command)):i.push(n.a("span",{title:s.command.tooltip},...r)),t+1<e.length&&i.push(n.a("span",void 0," | "))))}o?(n.R(this._domNode,...i),this._isEmpty&&t&&this._domNode.classList.add("fadein"),this._isEmpty=!1):n.R(this._domNode,n.a("span",void 0,"no commands"))}getCommand(e){return e.parentElement===this._domNode?this._commands.get(e.id):void 0}getId(){return this._id}getDomNode(){return this._domNode}updatePosition(e){var t=this._editor.getModel().getLineFirstNonWhitespaceColumn(e);this._widgetPosition={position:{lineNumber:e,column:t},preference:[1]}}getPosition(){return this._widgetPosition||null}}A._idPool=0;class P{constructor(){this._removeDecorations=[],this._addDecorations=[],this._addDecorationsCallbacks=[]}addDecoration(e,t){this._addDecorations.push(e),this._addDecorationsCallbacks.push(t)}removeDecoration(e){this._removeDecorations.push(e)}commit(e){var t=e.deltaDecorations(this._removeDecorations,this._addDecorations);for(let e=0,i=t.length;e<i;e++)this._addDecorationsCallbacks[e](t[e])}}class R{constructor(e,t,i,n,o,r,s){this._isDisposed=!1,this._editor=t,this._className=i,this._data=e,this._decorationIds=[];let a,l=[];this._data.forEach((e,t)=>{e.symbol.command&&l.push(e.symbol),n.addDecoration({range:e.symbol.range,options:N.b.EMPTY},e=>this._decorationIds[t]=e),a=a?S.a.plusRange(a,e.symbol.range):S.a.lift(e.symbol.range)}),this._viewZone=new M(a.startLineNumber-1,r,s),this._viewZoneId=o.addZone(this._viewZone),0<l.length&&(this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(l,!1))}_createContentWidgetIfNecessary(){this._contentWidget?this._editor.layoutContentWidget(this._contentWidget):(this._contentWidget=new A(this._editor,this._className,this._viewZone.afterLineNumber+1),this._editor.addContentWidget(this._contentWidget))}dispose(e,t){this._decorationIds.forEach(e.removeDecoration,e),this._decorationIds=[],t&&t.removeZone(this._viewZoneId),this._contentWidget&&(this._editor.removeContentWidget(this._contentWidget),this._contentWidget=void 0),this._isDisposed=!0}isDisposed(){return this._isDisposed}isValid(){return this._decorationIds.some((e,t)=>{const i=this._editor.getModel().getDecorationRange(e);return t=this._data[t].symbol,!(!i||S.a.isEmpty(t.range)!==i.isEmpty())})}updateCodeLensSymbols(e,t){this._decorationIds.forEach(t.removeDecoration,t),this._decorationIds=[],this._data=e,this._data.forEach((e,i)=>{t.addDecoration({range:e.symbol.range,options:N.b.EMPTY},e=>this._decorationIds[i]=e)})}updateHeight(e,t){this._viewZone.heightInPx=e,t.layoutZone(this._viewZoneId),this._contentWidget&&this._editor.layoutContentWidget(this._contentWidget)}computeIfNecessary(e){if(!this._viewZone.isVisible())return null;for(let i=0;i<this._decorationIds.length;i++){var t=e.getDecorationRange(this._decorationIds[i]);t&&(this._data[i].symbol.range=t)}return this._data}updateCommands(e){this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(e,!0);for(let i=0;i<this._data.length;i++){var t=e[i];if(t){const{symbol:e}=this._data[i];e.command=t.command||e.command}}}getCommand(e){var t;return null===(t=this._contentWidget)||void 0===t?void 0:t.getCommand(e)}getLineNumber(){var e=this._editor.getModel().getDecorationRange(this._decorationIds[0]);return e?e.startLineNumber:-1}update(e){var t;!this.isValid()||(t=this._editor.getModel().getDecorationRange(this._decorationIds[0]))&&(this._viewZone.afterLineNumber=t.startLineNumber-1,e.layoutZone(this._viewZoneId),this._contentWidget&&(this._contentWidget.updatePosition(t.startLineNumber),this._editor.layoutContentWidget(this._contentWidget)))}getItems(){return this._data}}Object(D.f)((e,t)=>{var i=e.getColor(I.x);i&&(t.addRule(`.monaco-editor .codelens-decoration { color: ${i}; }`),t.addRule(`.monaco-editor .codelens-decoration .codicon { color: ${i}; }`)),(e=e.getColor(T.q))&&(t.addRule(`.monaco-editor .codelens-decoration > a:hover { color: ${e} !important; }`),t.addRule(`.monaco-editor .codelens-decoration > a:hover .codicon { color: ${e} !important; }`))});var F=i(0),j=i(64),B=i(132);D=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;0<=a;a--)(o=e[a])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s},i=function(e,t){return function(i,n){t(i,n,e)}};let W=class{constructor(e,t,i,r){this._editor=e,this._commandService=t,this._notificationService=i,this._codeLensCache=r,this._disposables=new a.b,this._localToDispose=new a.b,this._lenses=[],this._getCodeLensModelDelays=new g.b(u.b,250,2500),this._oldCodeLensModels=new a.b,this._resolveCodeLensesDelays=new g.b(u.b,250,2500),this._resolveCodeLensesScheduler=new o.e(()=>this._resolveCodeLensesInViewport(),this._resolveCodeLensesDelays.min),this._disposables.add(this._editor.onDidChangeModel(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeConfiguration(e=>{(e.hasChanged(43)||e.hasChanged(16)||e.hasChanged(15))&&this._updateLensStyle(),e.hasChanged(14)&&this._onModelChange()})),this._disposables.add(u.b.onDidChange(this._onModelChange,this)),this._onModelChange(),this._styleClassName="_"+Object(s.c)(this._editor.getId()).toString(16),this._styleElement=n.w(n.O(this._editor.getContainerDomNode())?this._editor.getContainerDomNode():void 0),this._updateLensStyle()}dispose(){var e;this._localDispose(),this._disposables.dispose(),this._oldCodeLensModels.dispose(),null!==(e=this._currentCodeLensModel)&&void 0!==e&&e.dispose(),this._styleElement.remove()}_getLayoutInfo(){let e,t=this._editor.getOption(16);return e=!t||t<5?(t=.9*this._editor.getOption(45)|0,this._editor.getOption(58)):t*Math.max(1.3,this._editor.getOption(58)/this._editor.getOption(45))|0,{codeLensHeight:e,fontSize:t}}_updateLensStyle(){const{codeLensHeight:e,fontSize:t}=this._getLayoutInfo();var i=this._editor.getOption(15),n=this._editor.getOption(43),o="--codelens-font-family"+this._styleClassName,r="--codelens-font-features"+this._styleClassName;let s=`\n\t\t.monaco-editor .codelens-decoration.${this._styleClassName} { line-height: ${e}px; font-size: ${t}px; padding-right: ${Math.round(.5*t)}px; font-feature-settings: var(${r}) }\n\t\t.monaco-editor .codelens-decoration.${this._styleClassName} span.codicon { line-height: ${e}px; font-size: ${t}px; }\n\t\t`;i&&(s+=`.monaco-editor .codelens-decoration.${this._styleClassName} { font-family: var(${o}), ${d.c.fontFamily}}`),this._styleElement.textContent=s,this._editor.getContainerDomNode().style.setProperty(o,null!=i?i:"inherit"),this._editor.getContainerDomNode().style.setProperty(r,n.fontFeatureSettings),this._editor.changeViewZones(t=>{for(var i of this._lenses)i.updateHeight(e,t)})}_localDispose(){var e;null!==(e=this._getCodeLensModelPromise)&&void 0!==e&&e.cancel(),this._getCodeLensModelPromise=void 0,null!==(e=this._resolveCodeLensesPromise)&&void 0!==e&&e.cancel(),this._resolveCodeLensesPromise=void 0,this._localToDispose.clear(),this._oldCodeLensModels.clear(),null!==(e=this._currentCodeLensModel)&&void 0!==e&&e.dispose()}_onModelChange(){this._localDispose();const e=this._editor.getModel();if(!e)return;if(!this._editor.getOption(14))return;const t=this._codeLensCache.get(e);if(t&&this._renderCodeLensSymbols(t),!u.b.has(e))return void(t&&this._localToDispose.add(Object(o.i)(()=>{var i=this._codeLensCache.get(e);t===i&&(this._codeLensCache.delete(e),this._onModelChange())},3e4)));for(const t of u.b.all(e)){var i;"function"==typeof t.onDidChange&&(i=t.onDidChange(()=>n.schedule()),this._localToDispose.add(i))}const n=new o.e(()=>{var t;const i=Date.now();null!==(t=this._getCodeLensModelPromise)&&void 0!==t&&t.cancel(),this._getCodeLensModelPromise=Object(o.h)(t=>C(e,t)),this._getCodeLensModelPromise.then(t=>{this._currentCodeLensModel&&this._oldCodeLensModels.add(this._currentCodeLensModel),this._currentCodeLensModel=t,this._codeLensCache.put(e,t);var o=this._getCodeLensModelDelays.update(e,Date.now()-i);n.delay=o,this._renderCodeLensSymbols(t),this._resolveCodeLensesInViewportSoon()},r.f)},this._getCodeLensModelDelays.get(e));this._localToDispose.add(n),this._localToDispose.add(Object(a.i)(()=>this._resolveCodeLensesScheduler.cancel())),this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{this._editor.changeDecorations(e=>{this._editor.changeViewZones(t=>{let i=[],n=-1;this._lenses.forEach(e=>{e.isValid()&&n!==e.getLineNumber()?(e.update(t),n=e.getLineNumber()):i.push(e)});let o=new P;i.forEach(e=>{e.dispose(o,t),this._lenses.splice(this._lenses.indexOf(e),1)}),o.commit(e)})}),n.schedule()})),this._localToDispose.add(this._editor.onDidFocusEditorWidget(()=>{n.schedule()})),this._localToDispose.add(this._editor.onDidScrollChange(e=>{e.scrollTopChanged&&0<this._lenses.length&&this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add(this._editor.onDidLayoutChange(()=>{this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add(Object(a.i)(()=>{if(this._editor.getModel()){const e=l.c.capture(this._editor);this._editor.changeDecorations(e=>{this._editor.changeViewZones(t=>{this._disposeAllLenses(e,t)})}),e.restore(this._editor)}else this._disposeAllLenses(void 0,void 0)})),this._localToDispose.add(this._editor.onMouseDown(e=>{if(9===e.target.type){let i=e.target.element;if("SPAN"===(null==i?void 0:i.tagName)&&(i=i.parentElement),"A"===(null==i?void 0:i.tagName))for(const e of this._lenses){var t=e.getCommand(i);if(t){this._commandService.executeCommand(t.id,...t.arguments||[]).catch(e=>this._notificationService.error(e));break}}}})),n.schedule()}_disposeAllLenses(e,t){const i=new P;for(const e of this._lenses)e.dispose(i,t);e&&i.commit(e),this._lenses.length=0}_renderCodeLensSymbols(e){if(this._editor.hasModel()){var t,i=this._editor.getModel().getLineCount();let o,r=[];for(t of e.lenses){var n=t.symbol.range.startLineNumber;n<1||i<n||(o&&o[o.length-1].symbol.range.startLineNumber===n?o.push(t):(o=[t],r.push(o)))}const s=l.c.capture(this._editor),a=this._getLayoutInfo();this._editor.changeDecorations(e=>{this._editor.changeViewZones(t=>{const i=new P;let n=0,o=0;for(;o<r.length&&n<this._lenses.length;){var s=r[o][0].symbol.range.startLineNumber,l=this._lenses[n].getLineNumber();l<s?(this._lenses[n].dispose(i,t),this._lenses.splice(n,1)):l===s?(this._lenses[n].updateCodeLensSymbols(r[o],i),o++,n++):(this._lenses.splice(n,0,new R(r[o],this._editor,this._styleClassName,i,t,a.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),n++,o++)}for(;n<this._lenses.length;)this._lenses[n].dispose(i,t),this._lenses.splice(n,1);for(;o<r.length;)this._lenses.push(new R(r[o],this._editor,this._styleClassName,i,t,a.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),o++;i.commit(e)})}),s.restore(this._editor)}}_resolveCodeLensesInViewportSoon(){this._editor.getModel()&&this._resolveCodeLensesScheduler.schedule()}_resolveCodeLensesInViewport(){var e;null!==(e=this._resolveCodeLensesPromise)&&void 0!==e&&e.cancel(),this._resolveCodeLensesPromise=void 0;const t=this._editor.getModel();if(t){const e=[],i=[];if(this._lenses.forEach(n=>{var o=n.computeIfNecessary(t);o&&(e.push(o),i.push(n))}),0!==e.length){const n=Date.now(),s=Object(o.h)(n=>{var o=e.map((e,o)=>{const s=new Array(e.length);return e=e.map((e,i)=>e.symbol.command||"function"!=typeof e.provider.resolveCodeLens?(s[i]=e.symbol,Promise.resolve(void 0)):Promise.resolve(e.provider.resolveCodeLens(t,e.symbol,n)).then(e=>{s[i]=e},r.g)),Promise.all(e).then(()=>{n.isCancellationRequested||i[o].isDisposed()||i[o].updateCommands(s)})});return Promise.all(o)});this._resolveCodeLensesPromise=s,this._resolveCodeLensesPromise.then(()=>{var e=this._resolveCodeLensesDelays.update(t,Date.now()-n);this._resolveCodeLensesScheduler.delay=e,this._currentCodeLensModel&&this._codeLensCache.put(t,this._currentCodeLensModel),this._oldCodeLensModels.clear(),s===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)},e=>{Object(r.f)(e),s===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)})}}}getLenses(){return this._lenses}};W.ID="css.editor.codeLens",W=D([i(1,b.b),i(2,j.a),i(3,t)],W),Object(c.l)(W.ID,W),Object(c.j)(class extends c.b{constructor(){super({id:"codelens.showLensesInCurrentLine",precondition:h.a.hasCodeLensProvider,label:Object(F.a)("showLensOnLine","Show CodeLens Commands For Current Line"),alias:"Show CodeLens Commands For Current Line"})}run(e,t){return function(e,t,i,n){return new(i=i||Promise)((function(o,r){function s(e){try{l(n.next(e))}catch(e){r(e)}}function a(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):((t=e.value)instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))}(this,void 0,void 0,(function*(){if(t.hasModel()){const s=e.get(B.a),a=e.get(b.b),l=e.get(j.a);var i,n=t.getSelection().positionLineNumber;const c=t.getContribution(W.ID),d=[];for(i of c.getLenses())if(i.getLineNumber()===n)for(var o of i.getItems()){var{command:o}=o.symbol;o&&d.push({label:o.title,command:o})}if(0!==d.length){var r=yield s.pick(d,{canPickMany:!1});if(r)try{yield a.executeCommand(r.command.id,...r.command.arguments||[])}catch(i){l.error(i)}}}}))}})},function(e,t,i){"use strict";i.r(t),i.d(t,"TriggerParameterHintsAction",(function(){return H}));var n=i(2),o=i(5),r=i(8),s=i(11),a=i(38),l=i(17),c=i(19),d=i(35),h=i(12),u=i(110),g=i(36),p=i(10),f=function(e,t,i,n){return new(i=i||Promise)((function(o,r){function s(e){try{l(n.next(e))}catch(e){r(e)}}function a(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):((t=e.value)instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};const m={Visible:new p.c("parameterHintsVisible",!1),MultipleSignatures:new p.c("parameterHintsMultipleSignatures",!1)};function v(e,t,i,n){return f(this,void 0,void 0,(function*(){for(const r of s.B.ordered(e))try{var o=yield r.provideSignatureHelp(e,t,n,i);if(o)return o}catch(o){Object(l.g)(o)}}))}g.a.registerCommand("_executeSignatureHelpProvider",(e,...t)=>f(void 0,void 0,void 0,(function*(){var[i,n,o]=t;Object(c.c)(d.a.isUri(i)),Object(c.c)(h.a.isIPosition(n)),Object(c.c)("string"==typeof o||!o);const r=yield e.get(u.a).createModelReference(i);try{const e=yield v(r.object.textEditorModel,h.a.lift(n),{triggerKind:s.C.Invoke,isRetrigger:!1,triggerCharacter:o},a.a.None);return e?(setTimeout(()=>e.dispose(),0),e.value):void 0}finally{r.dispose()}})));var b,_=i(0),w=i(21),C=i(1),y=i(73),x=i(120),S=i(23),k=i(6),D=i(9),L=(i(522),i(176)),O=i(80),E=i(18),N=i(149);!function(e){e.Default={type:0},e.Pending=class{constructor(e,t){this.request=e,this.previouslyActiveHints=t,this.type=2}},e.Active=class{constructor(e){this.hints=e,this.type=1}}}(b=b||{});class I extends n.a{constructor(e,t=I.DEFAULT_DELAY){super(),this._onChangedHints=this._register(new k.b),this.onChangedHints=this._onChangedHints.event,this.triggerOnType=!1,this._state=b.Default,this._pendingTriggers=[],this._lastSignatureHelpResult=this._register(new n.d),this.triggerChars=new N.b,this.retriggerChars=new N.b,this.triggerId=0,this.editor=e,this.throttledDelayer=new E.a(t),this._register(this.editor.onDidBlurEditorWidget(()=>this.cancel())),this._register(this.editor.onDidChangeConfiguration(()=>this.onEditorConfigurationChange())),this._register(this.editor.onDidChangeModel(e=>this.onModelChanged())),this._register(this.editor.onDidChangeModelLanguage(e=>this.onModelChanged())),this._register(this.editor.onDidChangeCursorSelection(e=>this.onCursorChange(e))),this._register(this.editor.onDidChangeModelContent(e=>this.onModelContentChange())),this._register(s.B.onDidChange(this.onModelChanged,this)),this._register(this.editor.onDidType(e=>this.onDidType(e))),this.onEditorConfigurationChange(),this.onModelChanged()}get state(){return this._state}set state(e){2===this._state.type&&this._state.request.cancel(),this._state=e}cancel(e=!1){this.state=b.Default,this.throttledDelayer.cancel(),e||this._onChangedHints.fire(void 0)}trigger(e,t){var i=this.editor.getModel();if(i&&s.B.has(i)){const i=++this.triggerId;this._pendingTriggers.push(e),this.throttledDelayer.trigger(()=>this.doTrigger(i),t).catch(l.f)}}next(){var e,t,i,n;1===this.state.type&&(e=this.state.hints.signatures.length,i=(t=this.state.hints.activeSignature)%e==e-1,n=this.editor.getOption(75).cycle,!(e<2||i)||n?this.updateActiveSignature(i&&n?0:t+1):this.cancel())}previous(){var e,t,i,n;1===this.state.type&&(e=this.state.hints.signatures.length,i=0===(t=this.state.hints.activeSignature),n=this.editor.getOption(75).cycle,!(e<2||i)||n?this.updateActiveSignature(i&&n?e-1:t-1):this.cancel())}updateActiveSignature(e){1===this.state.type&&(this.state=new b.Active(Object.assign(Object.assign({},this.state.hints),{activeSignature:e})),this._onChangedHints.fire(this.state.hints))}doTrigger(e){return function(e,t,i,n){return new(i=i||Promise)((function(o,r){function s(e){try{l(n.next(e))}catch(e){r(e)}}function a(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):((t=e.value)instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))}(this,void 0,void 0,(function*(){var t=1===this.state.type||2===this.state.type,i=this.getLastActiveHints();if(this.cancel(!0),0===this._pendingTriggers.length)return!1;var n=this._pendingTriggers.reduce(T);this._pendingTriggers=[];const o={triggerKind:n.triggerKind,triggerCharacter:n.triggerCharacter,isRetrigger:t,activeSignatureHelp:i};if(!this.editor.hasModel())return!1;const r=this.editor.getModel(),s=this.editor.getPosition();this.state=new b.Pending(Object(E.h)(e=>v(r,s,o,e)),i);try{const t=yield this.state.request;return e!==this.triggerId?(null!=t&&t.dispose(),!1):t&&t.value.signatures&&0!==t.value.signatures.length?(this.state=new b.Active(t.value),this._lastSignatureHelpResult.value=t,this._onChangedHints.fire(this.state.hints),!0):(null!=t&&t.dispose(),this._lastSignatureHelpResult.clear(),this.cancel(),!1)}catch(t){return e===this.triggerId&&(this.state=b.Default),Object(l.f)(t),!1}}))}getLastActiveHints(){switch(this.state.type){case 1:return this.state.hints;case 2:return this.state.previouslyActiveHints;default:return}}get isTriggered(){return 1===this.state.type||2===this.state.type||this.throttledDelayer.isTriggered()}onModelChanged(){this.cancel(),this.triggerChars=new N.b,this.retriggerChars=new N.b;var e=this.editor.getModel();if(e)for(const t of s.B.ordered(e)){for(const e of t.signatureHelpTriggerCharacters||[])this.triggerChars.add(e.charCodeAt(0)),this.retriggerChars.add(e.charCodeAt(0));for(const e of t.signatureHelpRetriggerCharacters||[])this.retriggerChars.add(e.charCodeAt(0))}}onDidType(e){var t,i;this.triggerOnType&&(t=e.length-1,i=e.charCodeAt(t),(this.triggerChars.has(i)||this.isTriggered&&this.retriggerChars.has(i))&&this.trigger({triggerKind:s.C.TriggerCharacter,triggerCharacter:e.charAt(t)}))}onCursorChange(e){"mouse"===e.source?this.cancel():this.isTriggered&&this.trigger({triggerKind:s.C.ContentChange})}onModelContentChange(){this.isTriggered&&this.trigger({triggerKind:s.C.ContentChange})}onEditorConfigurationChange(){this.triggerOnType=this.editor.getOption(75).enabled,this.triggerOnType||this.cancel()}dispose(){this.cancel(!0),super.dispose()}}function T(e,t){switch(t.triggerKind){case s.C.Invoke:return t;case s.C.ContentChange:return e;default:return s.C.TriggerCharacter,t}}I.DEFAULT_DELAY=120;var M=i(91),A=i(4),P=(t=i(95),i(133)),R=i(16);g=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;0<=a;a--)(o=e[a])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s},i=function(e,t){return function(i,n){t(i,n,e)}};const F=C.a,j=Object(t.b)("parameter-hints-next",S.b.chevronDown,_.a("parameterHintsNextIcon","Icon for show next parameter hint.")),B=Object(t.b)("parameter-hints-previous",S.b.chevronUp,_.a("parameterHintsPreviousIcon","Icon for show previous parameter hint."));let W=class e extends n.a{constructor(e,t,i,o){super(),this.editor=e,this.renderDisposeables=this._register(new n.b),this.visible=!1,this.announcedLabel=null,this.allowEditorOverflow=!0,this.markdownRenderer=this._register(new L.a({editor:e},o,i)),this.model=this._register(new I(e)),this.keyVisible=m.Visible.bindTo(t),this.keyMultipleSignatures=m.MultipleSignatures.bindTo(t),this._register(this.model.onChangedHints(e=>{e?(this.show(),this.render(e)):this.hide()}))}createParameterHintDOMNodes(){const e=F(".editor-widget.parameter-hints-widget"),t=C.q(e,F(".phwrapper"));t.tabIndex=-1;var i=C.q(t,F(".controls")),n=C.q(i,F(".button"+R.d.asCSSSelector(B))),o=C.q(i,F(".overloads"));i=C.q(i,F(".button"+R.d.asCSSSelector(j)));this._register(C.i(n,"click",e=>{C.c.stop(e),this.previous()})),this._register(C.i(i,"click",e=>{C.c.stop(e),this.next()})),n=F(".body");const r=new x.a(n,{});this._register(r),t.appendChild(r.getDomNode()),i=C.q(n,F(".signature")),n=C.q(n,F(".docs")),e.style.userSelect="text",this.domNodes={element:e,signature:i,overloads:o,docs:n,scrollbar:r},this.editor.addContentWidget(this),this.hide(),this._register(this.editor.onDidChangeCursorSelection(e=>{this.visible&&this.editor.layoutContentWidget(this)})),(n=()=>{var e;this.domNodes&&(e=this.editor.getOption(43),this.domNodes.element.style.fontSize=e.fontSize+"px",this.domNodes.element.style.lineHeight=""+e.lineHeight/e.fontSize)})(),this._register(k.c.chain(this.editor.onDidChangeConfiguration.bind(this.editor)).filter(e=>e.hasChanged(43)).on(n,null)),this._register(this.editor.onDidLayoutChange(e=>this.updateMaxHeight())),this.updateMaxHeight()}show(){this.visible||(this.domNodes||this.createParameterHintDOMNodes(),this.keyVisible.set(!0),this.visible=!0,setTimeout(()=>{this.domNodes&&this.domNodes.element.classList.add("visible")},100),this.editor.layoutContentWidget(this))}hide(){this.renderDisposeables.clear(),this.visible&&(this.keyVisible.reset(),this.visible=!1,this.announcedLabel=null,this.domNodes&&this.domNodes.element.classList.remove("visible"),this.editor.layoutContentWidget(this))}getPosition(){return this.visible?{position:this.editor.getPosition(),preference:[1,2]}:null}render(e){if(this.renderDisposeables.clear(),this.domNodes){var t=1<e.signatures.length;this.domNodes.element.classList.toggle("multiple",t),this.keyMultipleSignatures.set(t),this.domNodes.signature.innerText="",this.domNodes.docs.innerText="";const r=e.signatures[e.activeSignature];if(r){const s=C.q(this.domNodes.signature,F(".code"));var i=this.editor.getOption(43);s.style.fontSize=i.fontSize+"px",s.style.fontFamily=i.fontFamily;var n=0<r.parameters.length;i=null!==(t=r.activeParameter)&&void 0!==t?t:e.activeParameter;if(n)this.renderParameters(s,r,i);else{C.q(s,F("span")).textContent=r.label}if(null!=(t=r.parameters[i])&&t.documentation){const e=F("span.documentation");"string"==typeof t.documentation?e.textContent=t.documentation:(n=this.renderMarkdownDocs(t.documentation),e.appendChild(n.element)),C.q(this.domNodes.docs,F("p",{},e))}void 0===r.documentation||("string"==typeof r.documentation?C.q(this.domNodes.docs,F("p",{},r.documentation)):(o=this.renderMarkdownDocs(r.documentation),C.q(this.domNodes.docs,o.element)));var o=this.hasDocs(r,t);if(this.domNodes.signature.classList.toggle("has-docs",o),this.domNodes.docs.classList.toggle("empty",!o),this.domNodes.overloads.textContent=String(e.activeSignature+1).padStart(e.signatures.length.toString().length,"0")+"/"+e.signatures.length,t){let e="";i=r.parameters[i],e=Array.isArray(i.label)?r.label.substring(i.label[0],i.label[1]):i.label,i.documentation&&(e+="string"==typeof i.documentation?", "+i.documentation:", "+i.documentation.value),r.documentation&&(e+="string"==typeof r.documentation?", "+r.documentation:", "+r.documentation.value),this.announcedLabel!==e&&(y.a(_.a("hint","{0}, hint",e)),this.announcedLabel=e)}this.editor.layoutContentWidget(this),this.domNodes.scrollbar.scanDomNode()}}}renderMarkdownDocs(e){const t=this.renderDisposeables.add(this.markdownRenderer.render(e,{asyncRenderCallback:()=>{var e;null!==(e=this.domNodes)&&void 0!==e&&e.scrollbar.scanDomNode()}}));return t.element.classList.add("markdown-docs"),t}hasDocs(e,t){return!!(t&&"string"==typeof t.documentation&&0<Object(c.a)(t.documentation).length||t&&"object"==typeof t.documentation&&0<Object(c.a)(t.documentation).value.length||e.documentation&&"string"==typeof e.documentation&&0<Object(c.a)(e.documentation).length||e.documentation&&"object"==typeof e.documentation&&0<Object(c.a)(e.documentation.value).length)}renderParameters(e,t,i){var[n,i]=this.getParameterLabelOffsets(t,i);const o=document.createElement("span");o.textContent=t.label.substring(0,n);const r=document.createElement("span");r.textContent=t.label.substring(n,i),r.className="parameter active";const s=document.createElement("span");s.textContent=t.label.substring(i),C.q(e,o,r,s)}getParameterLabelOffsets(e,t){if(t=e.parameters[t]){if(Array.isArray(t.label))return t.label;if(t.label.length){const i=new RegExp(`(\\W|^)${Object(D.t)(t.label)}(?=\\W|$)`,"g");return i.test(e.label),0<=(t=i.lastIndex-t.label.length)?[t,i.lastIndex]:[0,0]}return[0,0]}return[0,0]}next(){this.editor.focus(),this.model.next()}previous(){this.editor.focus(),this.model.previous()}cancel(){this.model.cancel()}getDomNode(){return this.domNodes||this.createParameterHintDOMNodes(),this.domNodes.element}getId(){return e.ID}trigger(e){this.model.trigger(e,0)}updateMaxHeight(){if(this.domNodes){var e=Math.max(this.editor.getLayoutInfo().height/4,250)+"px";this.domNodes.element.style.maxHeight=e;const t=this.domNodes.element.getElementsByClassName("phwrapper");t.length&&(t[0].style.maxHeight=e)}}};W.ID="editor.widget.parameterHintsWidget",W=g([i(1,p.b),i(2,M.a),i(3,O.a)],W);const V=Object(A.Cc)("editorHoverWidget.highlightForeground",{dark:A.Ob,light:A.Ob,hc:A.Ob},_.a("editorHoverWidgetHighlightForeground","Foreground color of the active item in the parameter hint."));Object(R.f)((e,t)=>{const i=e.getColor(A.F);i&&(n=e.type===P.a.HIGH_CONTRAST?2:1,t.addRule(`.monaco-editor .parameter-hints-widget { border: ${n}px solid ${i}; }`),t.addRule(`.monaco-editor .parameter-hints-widget.multiple .body { border-left: 1px solid ${i.transparent(.5)}; }`),t.addRule(`.monaco-editor .parameter-hints-widget .signature.has-docs { border-bottom: 1px solid ${i.transparent(.5)}; }`));var n=e.getColor(A.E);n&&t.addRule(`.monaco-editor .parameter-hints-widget { background-color: ${n}; }`),(n=e.getColor(A.Pc))&&t.addRule(`.monaco-editor .parameter-hints-widget a { color: ${n}; }`),(n=e.getColor(A.Oc))&&t.addRule(`.monaco-editor .parameter-hints-widget a:hover { color: ${n}; }`),(n=e.getColor(A.G))&&t.addRule(`.monaco-editor .parameter-hints-widget { color: ${n}; }`),(n=e.getColor(A.Nc))&&t.addRule(`.monaco-editor .parameter-hints-widget code { background-color: ${n}; }`),(e=e.getColor(V))&&t.addRule(`.monaco-editor .parameter-hints-widget .parameter.active { color: ${e}}`)}),i=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;0<=a;a--)(o=e[a])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s},O=function(e,t){return function(i,n){t(i,n,e)}};let z=class e extends n.a{constructor(e,t){super(),this.editor=e,this.widget=this._register(t.createInstance(W,this.editor))}static get(t){return t.getContribution(e.ID)}cancel(){this.widget.cancel()}previous(){this.widget.previous()}next(){this.widget.next()}trigger(e){this.widget.trigger(e)}};z.ID="editor.controller.parameterHints",z=i([O(1,w.a)],z);class H extends o.b{constructor(){super({id:"editor.action.triggerParameterHints",label:_.a("parameterHints.trigger.label","Trigger Parameter Hints"),alias:"Trigger Parameter Hints",precondition:r.a.hasSignatureHelpProvider,kbOpts:{kbExpr:r.a.editorTextFocus,primary:3082,weight:100}})}run(e,t){const i=z.get(t);i&&i.trigger({triggerKind:s.C.Invoke})}}Object(o.l)(z.ID,z),Object(o.j)(H);const U=o.c.bindToContribution(z.get);Object(o.k)(new U({id:"closeParameterHints",precondition:m.Visible,handler:e=>e.cancel(),kbOpts:{weight:175,kbExpr:r.a.focus,primary:9,secondary:[1033]}})),Object(o.k)(new U({id:"showPrevParameterHint",precondition:p.a.and(m.Visible,m.MultipleSignatures),handler:e=>e.previous(),kbOpts:{weight:175,kbExpr:r.a.focus,primary:16,secondary:[528],mac:{primary:16,secondary:[528,302]}}})),Object(o.k)(new U({id:"showNextParameterHint",precondition:p.a.and(m.Visible,m.MultipleSignatures),handler:e=>e.next(),kbOpts:{weight:175,kbExpr:r.a.focus,primary:18,secondary:[530],mac:{primary:18,secondary:[530,300]}}}))},function(e,t,i){"use strict";i.r(t);var n=i(71),o=(t=i(5),i(3)),r=i(8),s=i(75),a=i(12),l=i(29),c=i(49);class d{constructor(e,t){this._selection=e,this._insertSpace=t,this._usedEndToken=null}static _haystackHasNeedleAtOffset(e,t,i){if(i<0)return!1;var n=t.length;if(e.length<i+n)return!1;for(let s=0;s<n;s++){var o=e.charCodeAt(i+s),r=t.charCodeAt(s);if(o!==r&&!(65<=o&&o<=90&&o+32===r||65<=r&&r<=90&&r+32===o))return!1}return!0}_createOperationsForBlockComment(e,t,i,n,r,s){var a=e.startLineNumber,l=e.startColumn,c=e.endLineNumber,h=e.endColumn;const u=r.getLineContent(a),g=r.getLineContent(c);let p,f=u.lastIndexOf(t,l-1+t.length),m=g.indexOf(i,h-1-i.length);if(-1!==f&&-1!==m)if(a===c){0<=u.substring(f+t.length,m).indexOf(i)&&(f=-1,m=-1)}else{const e=u.substring(f+t.length),n=g.substring(0,m);(0<=e.indexOf(i)||0<=n.indexOf(i))&&(f=-1,m=-1)}-1!==f&&-1!==m?(n&&f+t.length<u.length&&32===u.charCodeAt(f+t.length)&&(t+=" "),n&&0<m&&32===g.charCodeAt(m-1)&&(i=" "+i,--m),p=d._createRemoveBlockCommentOperations(new o.a(a,f+t.length+1,c,m+1),t,i)):(p=d._createAddBlockCommentOperations(e,t,i,this._insertSpace),this._usedEndToken=1===p.length?i:null);for(const e of p)s.addTrackedEditOperation(e.range,e.text)}static _createRemoveBlockCommentOperations(e,t,i){let n=[];return o.a.isEmpty(e)?n.push(s.a.delete(new o.a(e.startLineNumber,e.startColumn-t.length,e.endLineNumber,e.endColumn+i.length))):(n.push(s.a.delete(new o.a(e.startLineNumber,e.startColumn-t.length,e.startLineNumber,e.startColumn))),n.push(s.a.delete(new o.a(e.endLineNumber,e.endColumn,e.endLineNumber,e.endColumn+i.length)))),n}static _createAddBlockCommentOperations(e,t,i,n){let r=[];return o.a.isEmpty(e)?r.push(s.a.replace(new o.a(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn),t+"  "+i)):(r.push(s.a.insert(new a.a(e.startLineNumber,e.startColumn),t+(n?" ":""))),r.push(s.a.insert(new a.a(e.endLineNumber,e.endColumn),(n?" ":"")+i))),r}getEditOperations(e,t){var i=this._selection.startLineNumber,n=this._selection.startColumn;e.tokenizeIfCheap(i),n=e.getLanguageIdAtPosition(i,n),(n=c.b.getComments(n))&&n.blockCommentStartToken&&n.blockCommentEndToken&&this._createOperationsForBlockComment(this._selection,n.blockCommentStartToken,n.blockCommentEndToken,this._insertSpace,e,t)}computeCursorState(e,t){var i=t.getInverseEditOperations();if(2===i.length){t=i[0];var n=i[1];return new l.a(t.range.endLineNumber,t.range.endColumn,n.range.startLineNumber,n.range.startColumn)}return n=i[0].range,i=this._usedEndToken?-this._usedEndToken.length-1:0,new l.a(n.endLineNumber,n.endColumn+i,n.endLineNumber,n.endColumn+i)}}var h=i(9);class u{constructor(e,t,i,n,o,r){this._selection=e,this._tabSize=t,this._type=i,this._insertSpace=n,this._selectionId=null,this._deltaColumn=0,this._moveEndPositionDown=!1,this._ignoreEmptyLines=o,this._ignoreFirstLine=r||!1}static _gatherPreflightCommentStrings(e,t,i){e.tokenizeIfCheap(t);e=e.getLanguageIdAtPosition(t,1);var n=(e=c.b.getComments(e))?e.lineCommentToken:null;if(!n)return null;let o=[];for(let e=0,r=i-t+1;e<r;e++)o[e]={ignore:!1,commentStr:n,commentStrOffset:0,commentStrLength:n.length};return o}static _analyzeLines(e,t,i,n,o,r,s){let a,l=!0;a=0===e||1!==e;for(let u=0,g=n.length;u<g;u++){const g=n[u];var c=o+u;if(c===o&&s)g.ignore=!0;else{const n=i.getLineContent(c);-1!==(c=h.u(n))?(l=!1,g.ignore=!1,g.commentStrOffset=c,a&&!d._haystackHasNeedleAtOffset(n,g.commentStr,c)&&(0===e?a=!1:1===e||(g.ignore=!0)),a&&t&&(c+=g.commentStrLength)<n.length&&32===n.charCodeAt(c)&&(g.commentStrLength+=1)):(g.ignore=r,g.commentStrOffset=n.length)}}if(0===e&&l){a=!1;for(let e=0,t=n.length;e<t;e++)n[e].ignore=!1}return{supported:!0,shouldRemoveComments:a,lines:n}}static _gatherPreflightData(e,t,i,n,o,r,s){return null===(o=u._gatherPreflightCommentStrings(i,n,o))?{supported:!1}:u._analyzeLines(e,t,i,o,n,r,s)}_executeLineComments(e,t,i,n){let r;r=i.shouldRemoveComments?u._createRemoveLineCommentsOperations(i.lines,n.startLineNumber):(u._normalizeInsertionPoint(e,i.lines,n.startLineNumber,this._tabSize),this._createAddLineCommentsOperations(i.lines,n.startLineNumber));var s=new a.a(n.positionLineNumber,n.positionColumn);for(let i=0,n=r.length;i<n;i++)t.addEditOperation(r[i].range,r[i].text),o.a.isEmpty(r[i].range)&&o.a.getStartPosition(r[i].range).equals(s)&&e.getLineContent(s.lineNumber).length+1===s.column&&(this._deltaColumn=(r[i].text||"").length);this._selectionId=t.trackSelection(n)}_attemptRemoveBlockComment(e,t,i,n){let r=t.startLineNumber,s=t.endLineNumber;var a=n.length+Math.max(e.getLineFirstNonWhitespaceColumn(t.startLineNumber),t.startColumn);let l=e.getLineContent(r).lastIndexOf(i,a-1),c=e.getLineContent(s).indexOf(n,t.endColumn-1-i.length);return-1!==l&&-1===c&&(c=e.getLineContent(r).indexOf(n,l+i.length),s=r),-1===l&&-1!==c&&(l=e.getLineContent(s).lastIndexOf(i,c),r=s),!t.isEmpty()||-1!==l&&-1!==c||(l=e.getLineContent(r).indexOf(i),-1!==l&&(c=e.getLineContent(r).indexOf(n,l+i.length))),-1!==l&&32===e.getLineContent(r).charCodeAt(l+i.length)&&(i+=" "),-1!==c&&32===e.getLineContent(s).charCodeAt(c-1)&&(n=" "+n,--c),-1!==l&&-1!==c?d._createRemoveBlockCommentOperations(new o.a(r,l+i.length+1,s,c+1),i,n):null}_executeBlockComment(e,t,i){e.tokenizeIfCheap(i.startLineNumber);var n=e.getLanguageIdAtPosition(i.startLineNumber,1),r=c.b.getComments(n);if(r&&r.blockCommentStartToken&&r.blockCommentEndToken){var s=r.blockCommentStartToken;n=r.blockCommentEndToken;let a=this._attemptRemoveBlockComment(e,i,s,n);if(!a){if(i.isEmpty()){r=e.getLineContent(i.startLineNumber);let t=h.u(r);-1===t&&(t=r.length),a=d._createAddBlockCommentOperations(new o.a(i.startLineNumber,t+1,i.startLineNumber,r.length+1),s,n,this._insertSpace)}else a=d._createAddBlockCommentOperations(new o.a(i.startLineNumber,e.getLineFirstNonWhitespaceColumn(i.startLineNumber),i.endLineNumber,e.getLineMaxColumn(i.endLineNumber)),s,n,this._insertSpace);1===a.length&&(this._deltaColumn=s.length+1)}this._selectionId=t.trackSelection(i);for(const e of a)t.addEditOperation(e.range,e.text)}}getEditOperations(e,t){let i=this._selection;if(this._moveEndPositionDown=!1,i.startLineNumber===i.endLineNumber&&this._ignoreFirstLine)return t.addEditOperation(new o.a(i.startLineNumber,e.getLineMaxColumn(i.startLineNumber),i.startLineNumber+1,1),i.startLineNumber===e.getLineCount()?"":"\n"),void(this._selectionId=t.trackSelection(i));i.startLineNumber<i.endLineNumber&&1===i.endColumn&&(this._moveEndPositionDown=!0,i=i.setEndPosition(i.endLineNumber-1,e.getLineMaxColumn(i.endLineNumber-1)));var n=u._gatherPreflightData(this._type,this._insertSpace,e,i.startLineNumber,i.endLineNumber,this._ignoreEmptyLines,this._ignoreFirstLine);return n.supported?this._executeLineComments(e,t,n,i):this._executeBlockComment(e,t,i)}computeCursorState(e,t){let i=t.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(i=i.setEndPosition(i.endLineNumber+1,1)),new l.a(i.selectionStartLineNumber,i.selectionStartColumn+this._deltaColumn,i.positionLineNumber,i.positionColumn+this._deltaColumn)}static _createRemoveLineCommentsOperations(e,t){let i=[];for(let r=0,a=e.length;r<a;r++){var n=e[r];n.ignore||i.push(s.a.delete(new o.a(t+r,n.commentStrOffset+1,t+r,n.commentStrOffset+n.commentStrLength+1)))}return i}_createAddLineCommentsOperations(e,t){let i=[];var n=this._insertSpace?" ":"";for(let r=0,l=e.length;r<l;r++){var o=e[r];o.ignore||i.push(s.a.insert(new a.a(t+r,o.commentStrOffset+1),o.commentStr+n))}return i}static nextVisibleColumn(e,t,i,n){return i?e+(t-e%t):e+n}static _normalizeInsertionPoint(e,t,i,n){let o,r=1073741824;var s;for(let o=0,s=t.length;o<s;o++)if(!t[o].ignore){const s=e.getLineContent(i+o);let a=0;for(let e=0,i=t[o].commentStrOffset;a<r&&e<i;e++)a=u.nextVisibleColumn(a,n,9===s.charCodeAt(e),1);a<r&&(r=a)}r=Math.floor(r/n)*n;for(let a=0,l=t.length;a<l;a++)if(!t[a].ignore){const l=e.getLineContent(i+a);let c=0;for(o=0,s=t[a].commentStrOffset;c<r&&o<s;o++)c=u.nextVisibleColumn(c,n,9===l.charCodeAt(o),1);t[a].commentStrOffset=c>r?o-1:o}}}var g=i(0),p=i(32);class f extends t.b{constructor(e,t){super(t),this._type=e}run(e,t){if(t.hasModel()){const e=[];var i=t.getModel().getOptions(),n=t.getOption(19);const r=t.getSelections().map((e,t)=>({selection:e,index:t,ignoreFirstLine:!1}));r.sort((e,t)=>o.a.compareRangesUsingStarts(e.selection,t.selection));let s=r[0];for(let e=1;e<r.length;e++){const t=r[e];s.selection.endLineNumber===t.selection.startLineNumber&&(s.index<t.index?t.ignoreFirstLine=!0:(s.ignoreFirstLine=!0,s=t))}for(const t of r)e.push(new u(t.selection,i.tabSize,this._type,n.insertSpace,n.ignoreEmptyLines,t.ignoreFirstLine));t.pushUndoStop(),t.executeCommands(this.id,e),t.pushUndoStop()}}}class m extends t.b{constructor(){super({id:"editor.action.blockComment",label:g.a("comment.block","Toggle Block Comment"),alias:"Toggle Block Comment",precondition:r.a.writable,kbOpts:{kbExpr:r.a.editorTextFocus,primary:1567,linux:{primary:3103},weight:100},menuOpts:{menuId:p.b.MenubarEditMenu,group:"5_insert",title:g.a({key:"miToggleBlockComment",comment:["&& denotes a mnemonic"]},"Toggle &&Block Comment"),order:2}})}run(e,t){if(t.hasModel()){var i=t.getOption(19);const e=[];for(const n of t.getSelections())e.push(new d(n,i.insertSpace));t.pushUndoStop(),t.executeCommands(this.id,e),t.pushUndoStop()}}}Object(t.j)(class extends f{constructor(){super(0,{id:"editor.action.commentLine",label:g.a("comment.line","Toggle Line Comment"),alias:"Toggle Line Comment",precondition:r.a.writable,kbOpts:{kbExpr:r.a.editorTextFocus,primary:2133,weight:100},menuOpts:{menuId:p.b.MenubarEditMenu,group:"5_insert",title:g.a({key:"miToggleLineComment",comment:["&& denotes a mnemonic"]},"&&Toggle Line Comment"),order:1}})}}),Object(t.j)(class extends f{constructor(){super(1,{id:"editor.action.addCommentLine",label:g.a("comment.line.add","Add Line Comment"),alias:"Add Line Comment",precondition:r.a.writable,kbOpts:{kbExpr:r.a.editorTextFocus,primary:Object(n.c)(2089,2081),weight:100}})}}),Object(t.j)(class extends f{constructor(){super(2,{id:"editor.action.removeCommentLine",label:g.a("comment.line.remove","Remove Line Comment"),alias:"Remove Line Comment",precondition:r.a.writable,kbOpts:{kbExpr:r.a.editorTextFocus,primary:Object(n.c)(2089,2099),weight:100}})}}),Object(t.j)(m)},function(e,t,i){"use strict";i.r(t),i.d(t,"StandaloneGotoSymbolQuickAccessProvider",(function(){return M})),i.d(t,"GotoLineAction",(function(){return A})),i(232),i(291);var n=i(38),o=i(23),r=i(83),s=i(72),a=i(15),l=i(9);const c=[void 0,[]];function d(e,t,i=0,n=0){return t.values&&1<t.values.length?function(e,t,i,n){let o=0;const r=[];for(const l of t){var[s,a]=h(e,l,i,n);if("number"!=typeof s)return c;o+=s,r.push(...a)}return[o,function(e){const t=e.sort((e,t)=>e.start-t.start),i=[];let n=void 0;for(const e of t)n&&function(e,t){return!(e.end<t.start)&&!(t.end<e.start)}(n,e)?(n.start=Math.min(n.start,e.start),n.end=Math.max(n.end,e.end)):(n=e,i.push(e));return i}(r)]}(e,t.values,i,n):h(e,t,i,n)}function h(e,t,i,n){return(n=Object(r.d)(t.original,t.originalLowercase,i,e,e.toLowerCase(),n,!0))?[n[0],Object(r.c)(n)]:c}function u(e){return e.startsWith('"')&&e.endsWith('"')}function g(e){var t=(e="string"!=typeof e?"":e).toLowerCase();const{pathNormalized:i,normalized:n,normalizedLowercase:o}=p(e);var r=0<=i.indexOf(s.h),a=u(e);let l=void 0;var c=e.split(" ");if(1<c.length)for(const e of c){var d=u(e),{pathNormalized:h,normalized:g,normalizedLowercase:f}=p(e);g&&(l=l||[],l.push({original:e,originalLowercase:e.toLowerCase(),pathNormalized:h,normalized:g,normalizedLowercase:f,expectContiguousMatch:d}))}return{original:e,originalLowercase:t,pathNormalized:i,normalized:n,normalizedLowercase:o,values:l,containsPathSeparator:r,expectContiguousMatch:a}}function p(e){let t;t=a.i?e.replace(/\//g,s.h):e.replace(/\\/g,s.h);const i=Object(l.T)(t).replace(/\s|"/g,"");return{pathNormalized:t,normalized:i,normalizedLowercase:i.toLowerCase()}}function f(e){return Array.isArray(e)?g(e.map(e=>e.original).join(" ")):g(e.original)}var m=i(2),v=i(3),b=i(11),_=i(260),w=i(261),C=i(0),y=function(e,t,i,n){return new(i=i||Promise)((function(o,r){function s(e){try{l(n.next(e))}catch(e){r(e)}}function a(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):((t=e.value)instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};class x extends w.a{constructor(e=Object.create(null)){super(e),this.options=e,this.options.canAcceptInBackground=!0}provideWithoutTextEditor(e){return this.provideLabelPick(e,Object(C.a)("cannotRunGotoSymbolWithoutEditor","To go to a symbol, first open a text editor with symbol information.")),m.a.None}provideWithTextEditor(e,t,i){var n=e.editor;return(n=this.getModel(n))?b.m.has(n)?this.doProvideWithEditorSymbols(e,n,t,i):this.doProvideWithoutEditorSymbols(e,n,t,i):m.a.None}doProvideWithoutEditorSymbols(e,t,i,n){const o=new m.b;return this.provideLabelPick(i,Object(C.a)("cannotRunGotoSymbolWithoutSymbolProvider","The active text editor does not provide symbol information.")),y(this,void 0,void 0,(function*(){(yield this.waitForLanguageSymbolRegistry(t,o))&&!n.isCancellationRequested&&o.add(this.doProvideWithEditorSymbols(e,t,i,n))})),o}provideLabelPick(e,t){e.items=[{label:t,index:0,kind:14}],e.ariaLabel=t}waitForLanguageSymbolRegistry(e,t){return y(this,void 0,void 0,(function*(){if(b.m.has(e))return!0;let i;var n=new Promise(e=>i=e);const o=t.add(b.m.onDidChange(()=>{b.m.has(e)&&(o.dispose(),i(!0))}));return t.add(Object(m.i)(()=>i(!1))),n}))}doProvideWithEditorSymbols(e,t,i,o){const r=e.editor,s=new m.b;s.add(i.onDidAccept(t=>{var[n]=i.selectedItems;n&&n.range&&(this.gotoLocation(e,{range:n.range.selection,keyMods:i.keyMods,preserveFocus:t.inBackground}),t.inBackground||i.hide())})),s.add(i.onDidTriggerItemButton(({item:t})=>{t&&t.range&&(this.gotoLocation(e,{range:t.range.selection,keyMods:i.keyMods,forceSideBySide:!0}),i.hide())}));const a=this.getDocumentSymbols(t,o);let l=void 0;const c=()=>y(this,void 0,void 0,(function*(){null!=l&&l.dispose(!0),i.busy=!1,l=new n.b(o),i.busy=!0;try{var e=g(i.value.substr(x.PREFIX.length).trim()),t=yield this.doGetSymbolPicks(a,e,void 0,l.token);if(o.isCancellationRequested)return;0<t.length?i.items=t:0<e.original.length?this.provideLabelPick(i,Object(C.a)("noMatchingSymbolResults","No matching editor symbols")):this.provideLabelPick(i,Object(C.a)("noSymbolResults","No editor symbols"))}finally{o.isCancellationRequested||(i.busy=!1)}}));s.add(i.onDidChangeValue(()=>c())),c();let d=!0;return s.add(i.onDidChangeActive(()=>{var[e]=i.activeItems;e&&e.range&&(d?d=!1:(r.revealRangeInCenter(e.range.selection,0),this.addDecorations(r,e.range.decoration)))})),s}doGetSymbolPicks(e,t,i,n){return y(this,void 0,void 0,(function*(){var r=yield e;if(n.isCancellationRequested)return[];const s=0===t.original.indexOf(x.SCOPE_PREFIX);var a=s?1:0;let c,h;t.values&&1<t.values.length?(c=f(t.values[0]),h=f(t.values.slice(1))):c=t;const u=[];for(let e=0;e<r.length;e++){const n=r[e];var g=Object(l.U)(n.name),p=`$(symbol-${b.D.toString(n.kind)||"property"}) ${g}`,m=p.length-g.length;let s=n.containerName;null!=i&&i.extraContainerLabel&&(s=s?`${i.extraContainerLabel} • ${s}`:i.extraContainerLabel);let f=void 0,_=void 0,w=void 0,y=void 0;if(t.original.length>a){let e=!1;if(c!==t&&([f,_]=d(p,Object.assign(Object.assign({},t),{values:void 0}),a,m),"number"==typeof f&&(e=!0)),"number"!=typeof f&&([f,_]=d(p,c,a,m),"number"!=typeof f))continue;if(!e&&h){if(s&&0<h.original.length&&([w,y]=d(s,h)),"number"!=typeof w)continue;"number"==typeof f&&(f+=w)}}m=n.tags&&0<=n.tags.indexOf(1),u.push({index:e,kind:n.kind,score:f,label:p,ariaLabel:g,description:s,highlights:m?void 0:{label:_,description:y},range:{selection:v.a.collapseToStart(n.selectionRange),decoration:n.range},strikethrough:m,buttons:(()=>{var e,t=null!==(e=this.options)&&void 0!==e&&e.openSideBySideDirection&&null!==(t=this.options)&&void 0!==t?t.openSideBySideDirection():void 0;if(t)return[{iconClass:("right"===t?o.b.splitHorizontal:o.b.splitVertical).classNames,tooltip:"right"===t?Object(C.a)("openToSide","Open to the Side"):Object(C.a)("openToBottom","Open to the Bottom")}]})()})}var _=u.sort((e,t)=>s?this.compareByKindAndScore(e,t):this.compareByScore(e,t));let w=[];if(s){let e=void 0,t=void 0,i=0;function y(){t&&"number"==typeof e&&0<i&&(t.label=Object(l.v)(k[e]||S,i))}for(const n of _)e!==n.kind?(y(),e=n.kind,i=1,t={type:"separator"},w.push(t)):i++,w.push(n);y()}else 0<_.length&&(w=[{label:Object(C.a)("symbols","symbols ({0})",u.length),type:"separator"},..._]);return w}))}compareByScore(e,t){if("number"!=typeof e.score&&"number"==typeof t.score)return 1;if("number"==typeof e.score&&"number"!=typeof t.score)return-1;if("number"==typeof e.score&&"number"==typeof t.score){if(e.score>t.score)return-1;if(e.score<t.score)return 1}return e.index<t.index?-1:e.index>t.index?1:0}compareByKindAndScore(e,t){const i=k[e.kind]||S;var n=k[t.kind]||S;return 0===(n=i.localeCompare(n))?this.compareByScore(e,t):n}getDocumentSymbols(e,t){return y(this,void 0,void 0,(function*(){const i=yield _.a.create(e,t);return t.isCancellationRequested?[]:i.asListOfDocumentSymbols()}))}}x.PREFIX="@",x.SCOPE_PREFIX=":",x.PREFIX_BY_CATEGORY=`${x.PREFIX}${x.SCOPE_PREFIX}`;const S=Object(C.a)("property","properties ({0})"),k={5:Object(C.a)("method","methods ({0})"),11:Object(C.a)("function","functions ({0})"),8:Object(C.a)("_constructor","constructors ({0})"),12:Object(C.a)("variable","variables ({0})"),4:Object(C.a)("class","classes ({0})"),22:Object(C.a)("struct","structs ({0})"),23:Object(C.a)("event","events ({0})"),24:Object(C.a)("operator","operators ({0})"),10:Object(C.a)("interface","interfaces ({0})"),2:Object(C.a)("namespace","namespaces ({0})"),3:Object(C.a)("package","packages ({0})"),25:Object(C.a)("typeParameter","type parameters ({0})"),1:Object(C.a)("modules","modules ({0})"),6:Object(C.a)("property","properties ({0})"),9:Object(C.a)("enum","enumerations ({0})"),21:Object(C.a)("enumMember","enumeration members ({0})"),14:Object(C.a)("string","strings ({0})"),0:Object(C.a)("file","files ({0})"),17:Object(C.a)("array","arrays ({0})"),15:Object(C.a)("number","numbers ({0})"),16:Object(C.a)("boolean","booleans ({0})"),18:Object(C.a)("object","objects ({0})"),19:Object(C.a)("key","keys ({0})"),7:Object(C.a)("field","fields ({0})"),13:Object(C.a)("constant","constants ({0})")};var D=i(59),L=i(162),O=(t=i(46),i(19)),E=i(63),N=i(6),I=(w=i(5),i(8)),T=i(132);let M=class extends x{constructor(e){super(),this.editorService=e,this.onDidActiveTextEditorControlChange=N.c.None}get activeTextEditorControl(){return Object(O.p)(this.editorService.getFocusedCodeEditor())}};M=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;0<=a;a--)(o=e[a])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s}([function(e,t){return function(e,i){t(e,i,0)}}(0,t.a)],M),D.a.as(L.b.Quickaccess).registerQuickAccessProvider({ctor:M,prefix:x.PREFIX,helpEntries:[{description:E.f.quickOutlineActionLabel,prefix:x.PREFIX,needsEditor:!0},{description:E.f.quickOutlineByCategoryActionLabel,prefix:x.PREFIX_BY_CATEGORY,needsEditor:!0}]});class A extends w.b{constructor(){super({id:"editor.action.quickOutline",label:E.f.quickOutlineActionLabel,alias:"Go to Symbol...",precondition:I.a.hasDocumentSymbolProvider,kbOpts:{kbExpr:I.a.focus,primary:3117,weight:100},contextMenuOpts:{group:"navigation",order:3}})}run(e){e.get(T.a).quickAccess.show(x.PREFIX)}}Object(w.j)(A)},function(e,t,i){"use strict";i.r(t);t=i(5);var n=i(8),o=i(3),r=i(29);class s{constructor(e,t){this._selection=e,this._isMovingLeft=t}getEditOperations(e,t){var i,n,r,s,a;this._selection.startLineNumber!==this._selection.endLineNumber||this._selection.isEmpty()||(i=this._selection.startLineNumber,n=this._selection.startColumn,a=this._selection.endColumn,this._isMovingLeft&&1===n||!this._isMovingLeft&&a===e.getLineMaxColumn(i)||(this._isMovingLeft?(r=new o.a(i,n-1,i,n),s=e.getValueInRange(r),t.addEditOperation(r,null),t.addEditOperation(new o.a(i,a,i,a),s)):(a=new o.a(i,a,i,a+1),e=e.getValueInRange(a),t.addEditOperation(a,null),t.addEditOperation(new o.a(i,n,i,n),e))))}computeCursorState(e,t){return this._isMovingLeft?new r.a(this._selection.startLineNumber,this._selection.startColumn-1,this._selection.endLineNumber,this._selection.endColumn-1):new r.a(this._selection.startLineNumber,this._selection.startColumn+1,this._selection.endLineNumber,this._selection.endColumn+1)}}var a=i(0);class l extends t.b{constructor(e,t){super(t),this.left=e}run(e,t){if(t.hasModel()){let e=[];for(const i of t.getSelections())e.push(new s(i,this.left));t.pushUndoStop(),t.executeCommands(this.id,e),t.pushUndoStop()}}}Object(t.j)(class extends l{constructor(){super(!0,{id:"editor.action.moveCarretLeftAction",label:a.a("caret.moveLeft","Move Selected Text Left"),alias:"Move Selected Text Left",precondition:n.a.writable})}}),Object(t.j)(class extends l{constructor(){super(!1,{id:"editor.action.moveCarretRightAction",label:a.a("caret.moveRight","Move Selected Text Right"),alias:"Move Selected Text Right",precondition:n.a.writable})}})},function(e,t,i){"use strict";i.r(t),i.d(t,"DragAndDropController",(function(){return d}));var n=i(2),o=i(15),r=(t=(i(496),i(5)),i(12)),s=i(3),a=i(29);i=i(42);class l{constructor(e,t,i){this.selection=e,this.targetPosition=t,this.copy=i,this.targetSelection=null}getEditOperations(e,t){e=e.getValueInRange(this.selection),this.copy||t.addEditOperation(this.selection,null),t.addEditOperation(new s.a(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column),e),!this.selection.containsPosition(this.targetPosition)||this.copy&&(this.selection.getEndPosition().equals(this.targetPosition)||this.selection.getStartPosition().equals(this.targetPosition))?this.copy?this.targetSelection=new a.a(this.targetPosition.lineNumber,this.targetPosition.column,this.selection.endLineNumber-this.selection.startLineNumber+this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn):this.targetPosition.lineNumber>this.selection.endLineNumber?this.targetSelection=new a.a(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn):this.targetPosition.lineNumber<this.selection.endLineNumber?this.targetSelection=new a.a(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber+this.selection.endLineNumber-this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn):this.selection.endColumn<=this.targetPosition.column?this.targetSelection=new a.a(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,(this.selection.startLineNumber,this.selection.endLineNumber,this.targetPosition.column-this.selection.endColumn+this.selection.startColumn),this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column:this.selection.endColumn):this.targetSelection=new a.a(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column+this.selection.endColumn-this.selection.startColumn):this.targetSelection=this.selection}computeCursorState(e,t){return this.targetSelection}}function c(e){return o.f?e.altKey:e.ctrlKey}class d extends n.a{constructor(e){super(),this._editor=e,this._register(this._editor.onMouseDown(e=>this._onEditorMouseDown(e))),this._register(this._editor.onMouseUp(e=>this._onEditorMouseUp(e))),this._register(this._editor.onMouseDrag(e=>this._onEditorMouseDrag(e))),this._register(this._editor.onMouseDrop(e=>this._onEditorMouseDrop(e))),this._register(this._editor.onMouseDropCanceled(()=>this._onEditorMouseDropCanceled())),this._register(this._editor.onKeyDown(e=>this.onEditorKeyDown(e))),this._register(this._editor.onKeyUp(e=>this.onEditorKeyUp(e))),this._register(this._editor.onDidBlurEditorWidget(()=>this.onEditorBlur())),this._register(this._editor.onDidBlurEditorText(()=>this.onEditorBlur())),this._dndDecorationIds=[],this._mouseDown=!1,this._modifierPressed=!1,this._dragSelection=null}onEditorBlur(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1}onEditorKeyDown(e){this._editor.getOption(31)&&!this._editor.getOption(18)&&(c(e)&&(this._modifierPressed=!0),this._mouseDown&&c(e)&&this._editor.updateOptions({mouseStyle:"copy"}))}onEditorKeyUp(e){this._editor.getOption(31)&&!this._editor.getOption(18)&&(c(e)&&(this._modifierPressed=!1),this._mouseDown&&e.keyCode===d.TRIGGER_KEY_VALUE&&this._editor.updateOptions({mouseStyle:"default"}))}_onEditorMouseDown(e){this._mouseDown=!0}_onEditorMouseUp(e){this._mouseDown=!1,this._editor.updateOptions({mouseStyle:"text"})}_onEditorMouseDrag(e){let t=e.target;if(null===this._dragSelection){var i=(this._editor.getSelections()||[]).filter(e=>t.position&&e.containsPosition(t.position));if(1!==i.length)return;this._dragSelection=i[0]}c(e.event)?this._editor.updateOptions({mouseStyle:"copy"}):this._editor.updateOptions({mouseStyle:"default"}),t.position&&(this._dragSelection.containsPosition(t.position)?this._removeDecoration():this.showAt(t.position))}_onEditorMouseDropCanceled(){this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}_onEditorMouseDrop(e){if(e.target&&(this._hitContent(e.target)||this._hitMargin(e.target))&&e.target.position){let n=new r.a(e.target.position.lineNumber,e.target.position.column);if(null===this._dragSelection){let o=null;var t,i;e.event.shiftKey?(i=this._editor.getSelection())&&(({selectionStartLineNumber:t,selectionStartColumn:i}=i),o=[new a.a(t,i,n.lineNumber,n.column)]):o=(this._editor.getSelections()||[]).map(e=>e.containsPosition(n)?new a.a(n.lineNumber,n.column,n.lineNumber,n.column):e),this._editor.setSelections(o||[],"mouse",3)}else this._dragSelection.containsPosition(n)&&(!c(e.event)&&!this._modifierPressed||!this._dragSelection.getEndPosition().equals(n)&&!this._dragSelection.getStartPosition().equals(n))||(this._editor.pushUndoStop(),this._editor.executeCommand(d.ID,new l(this._dragSelection,n,c(e.event)||this._modifierPressed)),this._editor.pushUndoStop())}this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}showAt(e){var t=[{range:new s.a(e.lineNumber,e.column,e.lineNumber,e.column),options:d._DECORATION_OPTIONS}];this._dndDecorationIds=this._editor.deltaDecorations(this._dndDecorationIds,t),this._editor.revealPosition(e,1)}_removeDecoration(){this._dndDecorationIds=this._editor.deltaDecorations(this._dndDecorationIds,[])}_hitContent(e){return 6===e.type||7===e.type}_hitMargin(e){return 2===e.type||3===e.type||4===e.type}dispose(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1,super.dispose()}}d.ID="editor.contrib.dragAndDrop",d.TRIGGER_KEY_VALUE=o.f?6:5,d._DECORATION_OPTIONS=i.b.register({description:"dnd-target",className:"dnd-target"}),Object(t.l)(d.ID,d)},function(e,t,i){"use strict";i.r(t),i.d(t,"StandaloneGotoLineQuickAccessProvider",(function(){return f})),i.d(t,"GotoLineAction",(function(){return m}));var n=i(2),o=i(135),r=i(261),s=i(0);class a extends r.a{constructor(){super({canAcceptInBackground:!0})}provideWithoutTextEditor(e){var t=Object(s.a)("cannotRunGotoLine","Open a text editor first to go to a line.");return e.items=[{label:t}],e.ariaLabel=t,n.a.None}provideWithTextEditor(e,t,i){const r=e.editor,s=new n.b;s.add(t.onDidAccept(i=>{var[n]=t.selectedItems;n&&this.isValidLineNumber(r,n.lineNumber)&&(this.gotoLocation(e,{range:this.toRange(n.lineNumber,n.column),keyMods:t.keyMods,preserveFocus:i.inBackground}),i.inBackground||t.hide())}));const l=()=>{var e=this.parsePosition(r,t.value.trim().substr(a.PREFIX.length)),i=this.getPickLabel(r,e.lineNumber,e.column);t.items=[{lineNumber:e.lineNumber,column:e.column,label:i}],t.ariaLabel=i,this.isValidLineNumber(r,e.lineNumber)?(e=this.toRange(e.lineNumber,e.column),r.revealRangeInCenter(e,0),this.addDecorations(r,e)):this.clearDecorations(r)};l(),s.add(t.onDidChangeValue(()=>l()));const c=Object(o.a)(r);if(c){2===c.getOptions().get(59).renderType&&(c.updateOptions({lineNumbers:"on"}),s.add(Object(n.i)(()=>c.updateOptions({lineNumbers:"relative"}))))}return s}toRange(e=1,t=1){return{startLineNumber:e,startColumn:t,endLineNumber:e,endColumn:t}}parsePosition(e,t){return t=t.split(/,|:|#/).map(e=>parseInt(e,10)).filter(e=>!isNaN(e)),e=this.lineCount(e)+1,{lineNumber:0<t[0]?t[0]:e+t[0],column:t[1]}}getPickLabel(e,t,i){return this.isValidLineNumber(e,t)?this.isValidColumn(e,t,i)?Object(s.a)("gotoLineColumnLabel","Go to line {0} and character {1}.",t,i):Object(s.a)("gotoLineLabel","Go to line {0}.",t):(t=e.getPosition()||{lineNumber:1,column:1},1<(e=this.lineCount(e))?Object(s.a)("gotoLineLabelEmptyWithLimit","Current Line: {0}, Character: {1}. Type a line number between 1 and {2} to navigate to.",t.lineNumber,t.column,e):Object(s.a)("gotoLineLabelEmpty","Current Line: {0}, Character: {1}. Type a line number to navigate to.",t.lineNumber,t.column))}isValidLineNumber(e,t){return!(!t||"number"!=typeof t)&&0<t&&t<=this.lineCount(e)}isValidColumn(e,t,i){if(!i||"number"!=typeof i)return!1;const n=this.getModel(e);return!!n&&(i={lineNumber:t,column:i},n.validatePosition(i).equals(i))}lineCount(e){return null!==(e=null===(e=this.getModel(e))||void 0===e?void 0:e.getLineCount())&&void 0!==e?e:0}}a.PREFIX=":";var l=i(59),c=i(162),d=(t=i(46),i(19)),h=i(63),u=i(6),g=(r=i(5),i(8)),p=i(132);let f=class extends a{constructor(e){super(),this.editorService=e,this.onDidActiveTextEditorControlChange=u.c.None}get activeTextEditorControl(){return Object(d.p)(this.editorService.getFocusedCodeEditor())}};f=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;0<=a;a--)(o=e[a])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s}([function(e,t){return function(e,i){t(e,i,0)}}(0,t.a)],f),l.a.as(c.b.Quickaccess).registerQuickAccessProvider({ctor:f,prefix:f.PREFIX,helpEntries:[{description:h.b.gotoLineActionLabel,needsEditor:!0}]});class m extends r.b{constructor(){super({id:"editor.action.gotoLine",label:h.b.gotoLineActionLabel,alias:"Go to Line/Column...",precondition:void 0,kbOpts:{kbExpr:g.a.focus,primary:2085,mac:{primary:293},weight:100}})}run(e){e.get(p.a).quickAccess.show(f.PREFIX)}}Object(r.j)(m)},function(e,t,i){"use strict";i.r(t);var n=i(18),o=i(17),r=i(103),s=i(5),a=i(3),l=i(29),c=i(8),d=i(42),h=i(121),u=i(45),g=i(0),p=i(16);class f{constructor(e,t,i){this._editRange=e,this._originalSelection=t,this._text=i}getEditOperations(e,t){t.addTrackedEditOperation(this._editRange,this._text)}computeCursorState(e,t){return t=t.getInverseEditOperations()[0].range,this._originalSelection.isEmpty()?new l.a(t.endLineNumber,Math.min(this._originalSelection.positionColumn,t.endColumn),t.endLineNumber,Math.min(this._originalSelection.positionColumn,t.endColumn)):new l.a(t.endLineNumber,t.endColumn-this._text.length,t.endLineNumber,t.endColumn)}}t=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;0<=a;a--)(o=e[a])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s},i=function(e,t){return function(i,n){t(i,n,e)}};let m=class e{constructor(e,t){this.decorationIds=[],this.editor=e,this.editorWorkerService=t}static get(t){return t.getContribution(e.ID)}dispose(){}run(t,i){this.currentRequest&&this.currentRequest.cancel();var s=this.editor.getSelection(),c=this.editor.getModel();if(c&&s){let d=s;if(d.startLineNumber===d.endLineNumber){const s=new r.a(this.editor,5),h=c.uri;return this.editorWorkerService.canNavigateValueSet(h)?(this.currentRequest=Object(n.h)(e=>this.editorWorkerService.navigateValueSet(h,d,i)),this.currentRequest.then(i=>{var r,c,h;i&&i.range&&i.value&&s.validate(this.editor)&&(r=a.a.lift(i.range),h=i.range,c=i.value.length-(d.endColumn-d.startColumn),h={startLineNumber:h.startLineNumber,startColumn:h.startColumn,endLineNumber:h.endLineNumber,endColumn:h.startColumn+i.value.length},1<c&&(d=new l.a(d.startLineNumber,d.startColumn,d.endLineNumber,d.endColumn+c-1)),i=new f(r,d,i.value),this.editor.pushUndoStop(),this.editor.executeCommand(t,i),this.editor.pushUndoStop(),this.decorationIds=this.editor.deltaDecorations(this.decorationIds,[{range:h,options:e.DECORATION}]),this.decorationRemover&&this.decorationRemover.cancel(),this.decorationRemover=Object(n.n)(350),this.decorationRemover.then(()=>this.decorationIds=this.editor.deltaDecorations(this.decorationIds,[])).catch(o.f))}).catch(o.f)):Promise.resolve(void 0)}}}};m.ID="editor.contrib.inPlaceReplaceController",m.DECORATION=d.b.register({description:"in-place-replace",className:"valueSetReplacement"}),m=t([i(1,h.a)],m);class v extends s.b{constructor(){super({id:"editor.action.inPlaceReplace.up",label:g.a("InPlaceReplaceAction.previous.label","Replace with Previous Value"),alias:"Replace with Previous Value",precondition:c.a.writable,kbOpts:{kbExpr:c.a.editorTextFocus,primary:3154,weight:100}})}run(e,t){const i=m.get(t);return i?i.run(this.id,!0):Promise.resolve(void 0)}}class b extends s.b{constructor(){super({id:"editor.action.inPlaceReplace.down",label:g.a("InPlaceReplaceAction.next.label","Replace with Next Value"),alias:"Replace with Next Value",precondition:c.a.writable,kbOpts:{kbExpr:c.a.editorTextFocus,primary:3156,weight:100}})}run(e,t){const i=m.get(t);return i?i.run(this.id,!1):Promise.resolve(void 0)}}Object(s.l)(m.ID,m),Object(s.j)(v),Object(s.j)(b),Object(p.f)((e,t)=>{(e=e.getColor(u.k))&&t.addRule(`.monaco-editor.vs .valueSetReplacement { outline: solid 2px ${e}; }`)})},function(e,t,i){"use strict";i.r(t),i.d(t,"LinkDetector",(function(){return I}));var n=i(18),o=i(38),r=i(17),s=i(104),a=i(2),l=i(52),c=i(15),d=i(60),h=i(35),u=(i(519),i(5)),g=i(42),p=i(11),f=i(255),m=i(22),v=i(19),b=i(3),_=i(70),w=i(36),C=function(e,t,i,n){return new(i=i||Promise)((function(o,r){function s(e){try{l(n.next(e))}catch(e){r(e)}}function a(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):((t=e.value)instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};class y{constructor(e,t){this._link=e,this._provider=t}toJSON(){return{range:this.range,url:this.url,tooltip:this.tooltip}}get range(){return this._link.range}get url(){return this._link.url}get tooltip(){return this._link.tooltip}resolve(e){return C(this,void 0,void 0,(function*(){return this._link.url||("function"==typeof this._provider.resolveLink?Promise.resolve(this._provider.resolveLink(this._link,e)).then(t=>(this._link=t||this._link,this._link.url?this.resolve(e):Promise.reject(new Error("missing")))):Promise.reject(new Error("missing")))}))}}class x{constructor(e){this._disposables=new a.b;let t=[];for(const[n,o]of e){var i=n.links.map(e=>new y(e,o));t=x._union(t,i),Object(a.g)(n)&&this._disposables.add(n)}this.links=t}dispose(){this._disposables.dispose(),this.links.length=0}static _union(e,t){let i,n=[];var o,r;let s;for(i=0,s=0,o=e.length,r=t.length;i<o&&s<r;){var a=e[i],l=t[s];b.a.areIntersectingOrTouching(a.range,l.range)?i++:b.a.compareRangesUsingStarts(a.range,l.range)<0?(n.push(a),i++):(n.push(l),s++)}for(;i<o;i++)n.push(e[i]);for(;s<r;s++)n.push(t[s]);return n}}function S(e,t){const i=[];var n=p.v.ordered(e).reverse().map((n,o)=>Promise.resolve(n.provideLinks(e,t)).then(e=>{e&&(i[o]=[e,n])},r.g));return Promise.all(n).then(()=>{const e=new x(Object(m.e)(i));return t.isCancellationRequested?(e.dispose(),new x([])):e})}w.a.registerCommand("_executeLinkProvider",(e,...t)=>C(void 0,void 0,void 0,(function*(){let[i,n]=t;Object(v.c)(i instanceof h.a),"number"!=typeof n&&(n=0);var r=e.get(_.a).getModel(i);if(!r)return[];const s=yield S(r,o.a.None);if(!s)return[];for(let e=0;e<Math.min(n,s.links.length);e++)yield s.links[e].resolve(o.a.None);return r=s.links.slice(0),s.dispose(),r})));var k=i(0),D=i(64),L=i(91),O=i(4);t=i(16),w=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;0<=a;a--)(o=e[a])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s},i=function(e,t){return function(i,n){t(i,n,e)}};const E={general:g.b.register({description:"detected-link",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link"}),active:g.b.register({description:"detected-link-active",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link-active"})};class N{constructor(e,t){this.link=e,this.decorationId=t}static decoration(e,t){return{range:e.range,options:N._getOptions(e,t,!1)}}static _getOptions(e,t,i){const n=Object.assign({},i?E.active:E.general);return n.hoverMessage=function(e,t){var i=e.url&&/^command:/i.test(e.url.toString()),n=e.tooltip||(i?k.a("links.navigate.executeCmd","执行命令"):k.a("links.navigate.follow","进入链接"));i=t?c.f?k.a("links.navigate.kb.meta.mac","cmd + click"):k.a("links.navigate.kb.meta","ctrl + click"):c.f?k.a("links.navigate.kb.alt.mac","option + click"):k.a("links.navigate.kb.alt","alt + click");if(e.url){let o="";return!/^command:/i.test(e.url.toString())||(t=e.url.toString().match(/^command:([^?#]+)/))&&(t=t[1],o=` "${t=k.a("tooltip.explanation","Execute command {0}",t)}"`),new s.a("",!0).appendMarkdown(`[${n}](${e.url.toString(!0).replace(/ /g,"%20")}${o}) (${i})`)}return(new s.a).appendText(`${n} (${i})`)}(e,t),n}activate(e,t){e.changeDecorationOptions(this.decorationId,N._getOptions(this.link,t,!0))}deactivate(e,t){e.changeDecorationOptions(this.decorationId,N._getOptions(this.link,t,!1))}}let I=class e{constructor(e,t,i){this.listenersToRemove=new a.b,this.editor=e,this.openerService=t,this.notificationService=i;let o=new f.a(e);this.listenersToRemove.add(o),this.listenersToRemove.add(o.onMouseMoveOrRelevantKeyDown(([e,t])=>{this._onEditorMouseMove(e,t)})),this.listenersToRemove.add(o.onExecute(e=>{this.onEditorMouseUp(e)})),this.listenersToRemove.add(o.onCancel(e=>{this.cleanUpActiveLinkDecoration()})),this.enabled=e.getOption(62),this.listenersToRemove.add(e.onDidChangeConfiguration(t=>{var i=e.getOption(62);this.enabled!==i&&(this.enabled=i,this.updateDecorations([]),this.stop(),this.beginCompute())})),this.listenersToRemove.add(e.onDidChangeModelContent(e=>this.onChange())),this.listenersToRemove.add(e.onDidChangeModel(e=>this.onModelChanged())),this.listenersToRemove.add(e.onDidChangeModelLanguage(e=>this.onModelModeChanged())),this.listenersToRemove.add(p.v.onDidChange(e=>this.onModelModeChanged())),this.timeout=new n.g,this.computePromise=null,this.activeLinksList=null,this.currentOccurrences={},this.activeLinkDecorationId=null,this.beginCompute()}static get(t){return t.getContribution(e.ID)}onModelChanged(){this.currentOccurrences={},this.activeLinkDecorationId=null,this.stop(),this.beginCompute()}onModelModeChanged(){this.stop(),this.beginCompute()}onChange(){this.timeout.setIfNotSet(()=>this.beginCompute(),e.RECOMPUTE_TIME)}beginCompute(){return function(e,t,i,n){return new(i=i||Promise)((function(o,r){function s(e){try{l(n.next(e))}catch(e){r(e)}}function a(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):((t=e.value)instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))}(this,void 0,void 0,(function*(){if(this.editor.hasModel()&&this.enabled){const e=this.editor.getModel();if(p.v.has(e)){this.activeLinksList&&(this.activeLinksList.dispose(),this.activeLinksList=null),this.computePromise=n.h(t=>S(e,t));try{this.activeLinksList=yield this.computePromise,this.updateDecorations(this.activeLinksList.links)}catch(e){Object(r.f)(e)}finally{this.computePromise=null}}}}))}updateDecorations(e){var t="altKey"===this.editor.getOption(69);let i=[];var n=Object.keys(this.currentOccurrences);for(let e=0,t=n.length;e<t;e++){var o=n[e];o=this.currentOccurrences[o];i.push(o.decorationId)}let r=[];if(e)for(const i of e)r.push(N.decoration(i,t));var s=this.editor.deltaDecorations(i,r);this.currentOccurrences={},this.activeLinkDecorationId=null;for(let t=0,i=s.length;t<i;t++){var a=new N(e[t],s[t]);this.currentOccurrences[a.decorationId]=a}}_onEditorMouseMove(e,t){const i="altKey"===this.editor.getOption(69);if(this.isEnabled(e,t)){this.cleanUpActiveLinkDecoration();const t=this.getLinkOccurrence(e.target.position);t&&this.editor.changeDecorations(e=>{t.activate(e,i),this.activeLinkDecorationId=t.decorationId})}else this.cleanUpActiveLinkDecoration()}cleanUpActiveLinkDecoration(){const e="altKey"===this.editor.getOption(69);if(this.activeLinkDecorationId){const t=this.currentOccurrences[this.activeLinkDecorationId];t&&this.editor.changeDecorations(i=>{t.deactivate(i,e)}),this.activeLinkDecorationId=null}}onEditorMouseUp(e){var t;!this.isEnabled(e)||(t=this.getLinkOccurrence(e.target.position))&&this.openLinkOccurrence(t,e.hasSideBySideModifier,!0)}openLinkOccurrence(e,t,i=!1){if(this.openerService){const{link:n}=e;n.resolve(o.a.None).then(e=>{if("string"==typeof e&&this.editor.hasModel()){var n=this.editor.getModel().uri;if(n.scheme===l.c.file&&e.startsWith(l.c.file+":")){var o=h.a.parse(e);if(o.scheme===l.c.file){const t=d.i(o);let i=null;t.startsWith("/./")?i="."+t.substr(1):t.startsWith("//./")&&(i="."+t.substr(2)),i&&(e=d.g(n,i))}}}return this.openerService.open(e,{openToSide:t,fromUserGesture:i,allowContributedOpeners:!0,allowCommands:!0})},e=>{var t=e instanceof Error?e.message:e;"invalid"===t?this.notificationService.warn(k.a("invalid.url","Failed to open this link because it is not well-formed: {0}",n.url.toString())):"missing"===t?this.notificationService.warn(k.a("missing.url","Failed to open this link because its target is missing.")):Object(r.f)(e)})}}getLinkOccurrence(e){if(!this.editor.hasModel()||!e)return null;for(const i of this.editor.getModel().getDecorationsInRange({startLineNumber:e.lineNumber,startColumn:e.column,endLineNumber:e.lineNumber,endColumn:e.column},0,!0)){var t=this.currentOccurrences[i.id];if(t)return t}return null}isEnabled(e,t){return Boolean(6===e.target.type&&(e.hasTriggerModifier||t&&t.keyCodeIsTriggerKey))}stop(){var e;this.timeout.cancel(),this.activeLinksList&&(null!==(e=this.activeLinksList)&&void 0!==e&&e.dispose(),this.activeLinksList=null),this.computePromise&&(this.computePromise.cancel(),this.computePromise=null)}dispose(){this.listenersToRemove.dispose(),this.stop(),this.timeout.dispose()}};I.ID="editor.linkDetector",I.RECOMPUTE_TIME=1e3,I=w([i(1,L.a),i(2,D.a)],I);class T extends u.b{constructor(){super({id:"editor.action.openLink",label:k.a("label","Open Link"),alias:"Open Link",precondition:void 0})}run(e,t){let i=I.get(t);var n;if(i&&t.hasModel())for(n of t.getSelections()){var o=i.getLinkOccurrence(n.getEndPosition());o&&i.openLinkOccurrence(o,!1)}}}Object(u.l)(I.ID,I),Object(u.j)(T),Object(t.f)((e,t)=>{(e=e.getColor(O.q))&&t.addRule(`.monaco-editor .detected-link-active { color: ${e} !important; }`)})},function(e,t,i){"use strict";i.r(t);var n=i(59),o=i(162),r=i(63),s=i(2),a=i(0),l=i(132);t=function(e,t){return function(i,n){t(i,n,e)}};(i=class e{constructor(e){this.quickInputService=e,this.registry=n.a.as(o.b.Quickaccess)}provide(t){const i=new s.b;i.add(t.onDidAccept(()=>{var[e]=t.selectedItems;e&&this.quickInputService.quickAccess.show(e.prefix,{preserveValue:!0})})),i.add(t.onDidChangeValue(t=>{(t=this.registry.getQuickAccessProvider(t.substr(e.PREFIX.length)))&&t.prefix&&t.prefix!==e.PREFIX&&this.quickInputService.quickAccess.show(t.prefix,{preserveValue:!0})}));var{editorProviders:n,globalProviders:o}=this.getQuickAccessProviders();return t.items=0===n.length||0===o.length?[...0===n.length?o:n]:[{label:Object(a.a)("globalCommands","global commands"),type:"separator"},...o,{label:Object(a.a)("editorCommands","editor commands"),type:"separator"},...n],i}getQuickAccessProviders(){const t=[],i=[];for(const r of this.registry.getQuickAccessProviders().sort((e,t)=>e.prefix.localeCompare(t.prefix)))if(r.prefix!==e.PREFIX)for(const e of r.helpEntries){var n=e.prefix||r.prefix,o=n||"…";(e.needsEditor?i:t).push({prefix:n,label:o,ariaLabel:Object(a.a)("helpPickAriaLabel","{0}, {1}",o,e.description),description:e.description})}return{editorProviders:i,globalProviders:t}}}).PREFIX="?",i=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;0<=a;a--)(o=e[a])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s}([t(0,l.a)],i),n.a.as(o.b.Quickaccess).registerQuickAccessProvider({ctor:i,prefix:"",helpEntries:[{description:r.e.helpQuickAccessActionLabel,needsEditor:!0}]})},function(e,t,i){"use strict";i.r(t),i.d(t,"rename",(function(){return P})),i.d(t,"RenameAction",(function(){return F}));var n=i(73),o=i(18),r=i(38),s=i(17),a=i(2),l=i(19),c=i(35),d=i(103),h=i(5),u=i(177),g=i(46),p=i(12),f=i(3),m=i(8),v=i(11),b=i(185),_=i(178),w=i(0),C=i(156),y=i(10),x=i(21),S=i(105),k=i(64),D=i(102),L=i(59),O=(i(525),i(58)),E=i(4),N=i(16);t=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;0<=a;a--)(o=e[a])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s},i=function(e,t){return function(i,n){t(i,n,e)}};const I=new y.c("renameInputVisible",!1,Object(w.a)("renameInputVisible","Whether the rename input widget is visible"));let T=class{constructor(e,t,i,n,o){this._editor=e,this._acceptKeybindings=t,this._themeService=i,this._keybindingService=n,this._disposables=new a.b,this.allowEditorOverflow=!0,this._visibleContextKey=I.bindTo(o),this._editor.addContentWidget(this),this._disposables.add(this._editor.onDidChangeConfiguration(e=>{e.hasChanged(43)&&this._updateFont()})),this._disposables.add(i.onDidColorThemeChange(this._updateStyles,this))}dispose(){this._disposables.dispose(),this._editor.removeContentWidget(this)}getId(){return"__renameInputWidget"}getDomNode(){var e;return this._domNode||(this._domNode=document.createElement("div"),this._domNode.className="monaco-editor rename-box",this._input=document.createElement("input"),this._input.className="rename-input",this._input.type="text",this._input.setAttribute("aria-label",Object(w.a)("renameAriaLabel","Rename input. Type new name and press Enter to commit.")),this._domNode.appendChild(this._input),this._label=document.createElement("div"),this._label.className="rename-label",this._domNode.appendChild(this._label),(e=()=>{var[e,t]=this._acceptKeybindings;this._keybindingService.lookupKeybinding(e),this._label.innerText=Object(w.a)({key:"label",comment:['placeholders are keybindings, e.g "F2 to Rename, Shift+F2 to Preview"']},"{0} to Rename, {1} to Preview",null===(e=this._keybindingService.lookupKeybinding(e))||void 0===e?void 0:e.getLabel(),null===(t=this._keybindingService.lookupKeybinding(t))||void 0===t?void 0:t.getLabel())})(),this._disposables.add(this._keybindingService.onDidUpdateKeybindings(e)),this._updateFont(),this._updateStyles(this._themeService.getColorTheme())),this._domNode}_updateStyles(e){var t;if(this._input&&this._domNode){var i=e.getColor(E.Tc);this._domNode.style.backgroundColor=String(null!==(t=e.getColor(E.cb))&&void 0!==t?t:""),this._domNode.style.boxShadow=i?" 0 0 8px 2px "+i:"",this._domNode.style.color=String(null!==(i=e.getColor(E.pb))&&void 0!==i?i:""),this._input.style.backgroundColor=String(null!==(i=e.getColor(E.nb))&&void 0!==i?i:"");const n=e.getColor(E.ob);this._input.style.borderWidth=n?"1px":"0px",this._input.style.borderStyle=n?"solid":"none",this._input.style.borderColor=null!==(e=null==n?void 0:n.toString())&&void 0!==e?e:"none"}}_updateFont(){var e;this._input&&this._label&&(e=this._editor.getOption(43),this._input.style.fontFamily=e.fontFamily,this._input.style.fontWeight=e.fontWeight,this._input.style.fontSize=e.fontSize+"px",this._label.style.fontSize=.8*e.fontSize+"px")}getPosition(){return this._visible?{position:this._position,preference:[2,1]}:null}afterRender(e){e||this.cancelInput(!0)}acceptInput(e){this._currentAcceptInput&&this._currentAcceptInput(e)}cancelInput(e){this._currentCancelInput&&this._currentCancelInput(e)}getInput(e,t,i,n,o,r){this._domNode.classList.toggle("preview",o),this._position=new p.a(e.startLineNumber,e.startColumn),this._input.value=t,this._input.setAttribute("selectionStart",i.toString()),this._input.setAttribute("selectionEnd",n.toString()),this._input.size=Math.max(1.1*(e.endColumn-e.startColumn),20);const s=new a.b;return new Promise(e=>{this._currentCancelInput=t=>(this._currentAcceptInput=void 0,this._currentCancelInput=void 0,e(t),!0),this._currentAcceptInput=i=>{0!==this._input.value.trim().length&&this._input.value!==t?(this._currentAcceptInput=void 0,this._currentCancelInput=void 0,e({newName:this._input.value,wantsPreview:o&&i})):this.cancelInput(!0)},r.onCancellationRequested(()=>this.cancelInput(!0)),s.add(this._editor.onDidBlurEditorWidget(()=>this.cancelInput(!1))),this._show()}).finally(()=>{s.dispose(),this._hide()})}_show(){this._editor.revealLineInCenterIfOutsideViewport(this._position.lineNumber,0),this._visible=!0,this._visibleContextKey.set(!0),this._editor.layoutContentWidget(this),setTimeout(()=>{this._input.focus(),this._input.setSelectionRange(parseInt(this._input.getAttribute("selectionStart")),parseInt(this._input.getAttribute("selectionEnd")))},100)}_hide(){this._visible=!1,this._visibleContextKey.reset(),this._editor.layoutContentWidget(this)}};T=t([i(2,N.b),i(3,O.a),i(4,y.b)],T);O=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;0<=a;a--)(o=e[a])&&(s=(r<3?o(s):3<r?o(t,i,s):o(t,i))||s);return 3<r&&s&&Object.defineProperty(t,i,s),s},i=function(e,t){return function(i,n){t(i,n,e)}};var M=function(e,t,i,n){return new(i=i||Promise)((function(o,r){function s(e){try{l(n.next(e))}catch(e){r(e)}}function a(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):((t=e.value)instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};class A{constructor(e,t){this.model=e,this.position=t,this._providerRenameIdx=0,this._providers=v.z.ordered(e)}hasProvider(){return 0<this._providers.length}resolveRenameLocation(e){return M(this,void 0,void 0,(function*(){const t=[];for(this._providerRenameIdx=0;this._providerRenameIdx<this._providers.length;this._providerRenameIdx++){const n=this._providers[this._providerRenameIdx];if(!n.resolveRenameLocation)break;var i=yield n.resolveRenameLocation(this.model,this.position,e);if(i){if(!i.rejectReason)return i;t.push(i.rejectReason)}}var n=this.model.getWordAtPosition(this.position);return n?{range:new f.a(this.position.lineNumber,n.startColumn,this.position.lineNumber,n.endColumn),text:n.word,rejectReason:0<t.length?t.join("\n"):void 0}:{range:f.a.fromPositions(this.position),text:"",rejectReason:0<t.length?t.join("\n"):void 0}}))}provideRenameEdits(e,t){return M(this,void 0,void 0,(function*(){return this._provideRenameEdits(e,this._providerRenameIdx,[],t)}))}_provideRenameEdits(e,t,i,n){return M(this,void 0,void 0,(function*(){const o=this._providers[t];if(!o)return{edits:[],rejectReason:i.join("\n")};var r=yield o.provideRenameEdits(this.model,this.position,e,n);return r?r.rejectReason?this._provideRenameEdits(e,t+1,i.concat(r.rejectReason),n):r:this._provideRenameEdits(e,t+1,i.concat(w.a("no result","No result.")),n)}))}}function P(e,t,i){return M(this,void 0,void 0,(function*(){const n=new A(e,t);var o=yield n.resolveRenameLocation(r.a.None);return null!=o&&o.rejectReason?{edits:[],rejectReason:o.rejectReason}:n.provideRenameEdits(i,r.a.None)}))}let R=class e{constructor(e,t,i,n,s,l,c){this.editor=e,this._instaService=t,this._notificationService=i,this._bulkEditService=n,this._progressService=s,this._logService=l,this._configService=c,this._dispoableStore=new a.b,this._cts=new r.b,this._renameInputField=this._dispoableStore.add(new o.b(()=>this._dispoableStore.add(this._instaService.createInstance(T,this.editor,["acceptRenameInput","acceptRenameInputWithPreview"]))))}static get(t){return t.getContribution(e.ID)}dispose(){this._dispoableStore.dispose(),this._cts.dispose(!0)}run(){return M(this,void 0,void 0,(function*(){if(this._cts.dispose(!0),this.editor.hasModel()){var e=this.editor.getPosition();const i=new A(this.editor.getModel(),e);if(i.hasProvider()){let r;this._cts=new d.b(this.editor,5);try{var t=i.resolveRenameLocation(this._cts.token);this._progressService.showWhile(t,250),r=yield t}catch(t){return void _.a.get(this.editor).showMessage(t||w.a("resolveRenameLocationFailed","An unknown error occurred while resolving rename location"),e)}if(r)if(r.rejectReason)_.a.get(this.editor).showMessage(r.rejectReason,e);else if(!this._cts.token.isCancellationRequested){this._cts.dispose(),this._cts=new d.b(this.editor,5,r.range),e=this.editor.getSelection();let t=0,s=r.text.length;f.a.isEmpty(e)||f.a.spansMultipleLines(e)||!f.a.containsRange(r.range,e)||(t=Math.max(0,e.startColumn-r.range.startColumn),s=Math.min(r.range.endColumn,e.endColumn)-r.range.startColumn),e=this._bulkEditService.hasPreviewHandler()&&this._configService.getValue(this.editor.getModel().uri,"editor.rename.enablePreview");const a=yield this._renameInputField.value.getInput(r.range,r.text,t,s,e,this._cts.token);if("boolean"!=typeof a)return this.editor.focus(),e=Object(o.l)(i.provideRenameEdits(a.newName,this._cts.token),this._cts.token).then(e=>M(this,void 0,void 0,(function*(){e&&this.editor.hasModel()&&(e.rejectReason?this._notificationService.info(e.rejectReason):(this.editor.setSelection(f.a.fromPositions(this.editor.getSelection().getPosition())),this._bulkEditService.apply(u.b.convert(e),{editor:this.editor,showPreview:a.wantsPreview,label:w.a("label","Renaming '{0}'",null==r?void 0:r.text),quotableLabel:w.a("quotableLabel","Renaming {0}",null==r?void 0:r.text)}).then(e=>{e.ariaSummary&&Object(n.a)(w.a("aria","Successfully renamed '{0}' to '{1}'. Summary: {2}",r.text,a.newName,e.ariaSummary))}).catch(e=>{this._notificationService.error(w.a("rename.failedApply","Rename failed to apply edits")),this._logService.error(e)})))})),e=>{this._notificationService.error(w.a("rename.failed","Rename failed to compute edits")),this._logService.error(e)}),this._progressService.showWhile(e,250),e;a&&this.editor.focus()}}}}))}acceptRenameInput(e){this._renameInputField.value.acceptInput(e)}cancelRenameInput(){this._renameInputField.value.cancelInput(!0)}};R.ID="editor.contrib.renameController",R=O([i(1,x.a),i(2,k.a),i(3,u.a),i(4,D.a),i(5,S.b),i(6,b.a)],R);class F extends h.b{constructor(){super({id:"editor.action.rename",label:w.a("rename.label","Rename Symbol"),alias:"Rename Symbol",precondition:y.a.and(m.a.writable,m.a.hasRenameProvider),kbOpts:{kbExpr:m.a.editorTextFocus,primary:60,weight:100},contextMenuOpts:{group:"1_modification",order:1.1}})}runCommand(e,t){const i=e.get(g.a),[n,o]=Array.isArray(t)&&t||[void 0,void 0];return c.a.isUri(n)&&p.a.isIPosition(o)?i.openCodeEditor({resource:n},i.getActiveCodeEditor()).then(e=>{e&&(e.setPosition(o),e.invokeWithinContext(t=>(this.reportTelemetry(t,e),this.run(t,e))))},s.f):super.runCommand(e,t)}run(e,t){const i=R.get(t);return i?i.run():Promise.resolve()}}Object(h.l)(R.ID,R),Object(h.j)(F);const j=h.c.bindToContribution(R.get);Object(h.k)(new j({id:"acceptRenameInput",precondition:I,handler:e=>e.acceptRenameInput(!1),kbOpts:{weight:199,kbExpr:m.a.focus,primary:3}})),Object(h.k)(new j({id:"acceptRenameInputWithPreview",precondition:y.a.and(I,y.a.has("config.editor.rename.enablePreview")),handler:e=>e.acceptRenameInput(!0),kbOpts:{weight:199,kbExpr:m.a.focus,primary:1027}})),Object(h.k)(new j({id:"cancelRenameInput",precondition:I,handler:e=>e.cancelRenameInput(),kbOpts:{weight:199,kbExpr:m.a.focus,primary:9,secondary:[1033]}})),Object(h.n)("_executeDocumentRenameProvider",(function(e,t,...i){var[i]=i;return Object(l.c)("string"==typeof i),P(e,t,i)})),Object(h.n)("_executePrepareRename",(function(e,t){return M(this,void 0,void 0,(function*(){const i=new A(e,t);var n=yield i.resolveRenameLocation(r.a.None);if(null!=n&&n.rejectReason)throw new Error(n.rejectReason);return n}))})),L.a.as(C.a.Configuration).registerConfiguration({id:"editor",properties:{"editor.rename.enablePreview":{scope:5,description:w.a("enablePreview","Enable/disable the ability to preview changes before renaming"),default:!0,type:"boolean"}}})},function(e,t,i){"use strict";i.r(t),i.d(t,"provideSelectionRanges",(function(){return _}));var n=i(22),o=i(38),r=i(17),s=(t=i(5),i(12)),a=i(3),l=i(29),c=i(8),d=i(11),h=i(259),u=i(9),g=i(0),p=i(32),f=(i=i(36),function(e,t,i,n){return new(i=i||Promise)((function(o,r){function s(e){try{l(n.next(e))}catch(e){r(e)}}function a(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):((t=e.value)instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))});class m{constructor(e,t){this.index=e,this.ranges=t}mov(e){var t=this.index+(e?1:-1);if(t<0||t>=this.ranges.length)return this;const i=new m(t,this.ranges);return i.ranges[t].equalsRange(this.ranges[this.index])?i.mov(e):i}}class v{constructor(e){this._editor=e,this._ignoreSelection=!1}static get(e){return e.getContribution(v.ID)}dispose(){var e;null!==(e=this._selectionListener)&&void 0!==e&&e.dispose()}run(e){return f(this,void 0,void 0,(function*(){if(this._editor.hasModel()){const i=this._editor.getSelections();var t=this._editor.getModel();if(d.A.has(t)&&(this._state||(yield _(t,i.map(e=>e.getPosition()),this._editor.getOption(101),o.a.None).then(e=>{var t;if(n.n(e)&&e.length===i.length&&this._editor.hasModel()&&n.g(this._editor.getSelections(),i,(e,t)=>e.equalsSelection(t))){for(let t=0;t<e.length;t++)e[t]=e[t].filter(e=>e.containsPosition(i[t].getStartPosition())&&e.containsPosition(i[t].getEndPosition())),e[t].unshift(i[t]);this._state=e.map(e=>new m(0,e)),null!==(t=this._selectionListener)&&void 0!==t&&t.dispose(),this._selectionListener=this._editor.onDidChangeCursorPosition(()=>{var e;this._ignoreSelection||(null!==(e=this._selectionListener)&&void 0!==e&&e.dispose(),this._state=void 0)})}})),this._state)){this._state=this._state.map(t=>t.mov(e)),t=this._state.map(e=>l.a.fromPositions(e.ranges[e.index].getStartPosition(),e.ranges[e.index].getEndPosition())),this._ignoreSelection=!0;try{this._editor.setSelections(t)}finally{this._ignoreSelection=!1}}}}))}}v.ID="editor.contrib.smartSelectController";class b extends t.b{constructor(e,t){super(t),this._forward=e}run(e,t){return f(this,void 0,void 0,(function*(){let e=v.get(t);e&&(yield e.run(this._forward))}))}}function _(e,t,i,o){return f(this,void 0,void 0,(function*(){const l=d.A.all(e);1===l.length&&l.unshift(new h.a);let c=[],u=[];for(const i of l)c.push(Promise.resolve(i.provideSelectionRanges(e,t,o)).then(e=>{if(n.n(e)&&e.length===t.length)for(let i=0;i<t.length;i++){u[i]||(u[i]=[]);for(const n of e[i])a.a.isIRange(n.range)&&a.a.containsPosition(n.range,t[i])&&u[i].push(a.a.lift(n.range))}},r.g));return yield Promise.all(c),u.map(t=>{if(0===t.length)return[];t.sort((e,t)=>s.a.isBefore(e.getStartPosition(),t.getStartPosition())?1:s.a.isBefore(t.getStartPosition(),e.getStartPosition())||s.a.isBefore(e.getEndPosition(),t.getEndPosition())?-1:s.a.isBefore(t.getEndPosition(),e.getEndPosition())?1:0);let n,o=[];for(const e of t)n&&(!a.a.containsRange(e,n)||a.a.equalsRange(e,n))||(o.push(e),n=e);if(!i.selectLeadingAndTrailingWhitespace)return o;let r=[o[0]];for(let t=1;t<o.length;t++){var l=o[t-1];const i=o[t];if(i.startLineNumber!==l.startLineNumber||i.endLineNumber!==l.endLineNumber){const t=new a.a(l.startLineNumber,e.getLineFirstNonWhitespaceColumn(l.startLineNumber),l.endLineNumber,e.getLineLastNonWhitespaceColumn(l.endLineNumber));t.containsRange(l)&&!t.equalsRange(l)&&i.containsRange(t)&&!i.equalsRange(t)&&r.push(t);const n=new a.a(l.startLineNumber,1,l.endLineNumber,e.getLineMaxColumn(l.endLineNumber));n.containsRange(l)&&!n.equalsRange(t)&&i.containsRange(n)&&!i.equalsRange(n)&&r.push(n)}r.push(i)}return r})}))}i.a.registerCommandAlias("editor.action.smartSelect.grow","editor.action.smartSelect.expand"),Object(t.l)(v.ID,v),Object(t.j)(class extends b{constructor(){super(!0,{id:"editor.action.smartSelect.expand",label:g.a("smartSelect.expand","Expand Selection"),alias:"Expand Selection",precondition:void 0,kbOpts:{kbExpr:c.a.editorTextFocus,primary:1553,mac:{primary:3345,secondary:[1297]},weight:100},menuOpts:{menuId:p.b.MenubarSelectionMenu,group:"1_basic",title:g.a({key:"miSmartSelectGrow",comment:["&& denotes a mnemonic"]},"&&Expand Selection"),order:2}})}}),Object(t.j)(class extends b{constructor(){super(!1,{id:"editor.action.smartSelect.shrink",label:g.a("smartSelect.shrink","Shrink Selection"),alias:"Shrink Selection",precondition:void 0,kbOpts:{kbExpr:c.a.editorTextFocus,primary:1551,mac:{primary:3343,secondary:[1295]},weight:100},menuOpts:{menuId:p.b.MenubarSelectionMenu,group:"1_basic",title:g.a({key:"miSmartSelectShrink",comment:["&& denotes a mnemonic"]},"&&Shrink Selection"),order:3}})}}),d.A.register("*",new class{provideSelectionRanges(e,t){const i=[];for(const n of t){const t=[];i.push(t),this._addInWordRanges(t,e,n),this._addWordRanges(t,e,n),this._addWhitespaceLine(t,e,n),t.push({range:e.getFullModelRange()})}return i}_addInWordRanges(e,t,i){if(t=t.getWordAtPosition(i)){let{word:s,startColumn:l}=t;var n=i.column-l;let c=n,d=n,h=0;for(;0<=c;c--){var o=s.charCodeAt(c);if(c!==n&&(95===o||45===o))break;if(Object(u.G)(o)&&Object(u.H)(h))break;h=o}for(c+=1;d<s.length;d++){var r=s.charCodeAt(d);if(Object(u.H)(r)&&Object(u.G)(h))break;if(95===r||45===r)break;h=r}c<d&&e.push({range:new a.a(i.lineNumber,l+c,i.lineNumber,l+d)})}}_addWordRanges(e,t,i){(t=t.getWordAtPosition(i))&&e.push({range:new a.a(i.lineNumber,t.startColumn,i.lineNumber,t.endColumn)})}_addWhitespaceLine(e,t,i){0<t.getLineLength(i.lineNumber)&&0===t.getLineFirstNonWhitespaceColumn(i.lineNumber)&&0===t.getLineLastNonWhitespaceColumn(i.lineNumber)&&e.push({range:new a.a(i.lineNumber,1,i.lineNumber,t.getLineMaxColumn(i.lineNumber))})}}),Object(t.o)("_executeSelectionRangeProvider",(function(e,...t){var[t]=t;return _(e,t,{selectLeadingAndTrailingWhitespace:!0},o.a.None)}))},function(e,t,i){"use strict";function n(e,t){var i=null!==(n=_.a.get(w.a.MENU_ITEM_ORDER))&&void 0!==n?n:[],n=i.findIndex((function(t){return t===e.title}));return-1===n?1:n-i.findIndex((function(e){return e===t.title}))}i.r(t);var o=i(13),r=i.n(o),s=i(43),a=i.n(s),l=(o=i(31),i.n(o)),c=(s=i(57),i.n(s)),d=(o=i(7),i.n(o)),h=(s=i(30),i.n(s)),u=(o=i(53),i.n(o)),g=(s=i(20),i.n(s)),p=(o=i(87),i.n(o)),f=(s=i(212),i.n(s)),m=(o=i(86),i.n(o)),v=i(268),b=i(61),_=i(40),w=i(41),C=i(25),y=i(24);function x(e,t){var i,n=Object.keys(e);return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(e),t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)),n}function S(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?x(Object(i),!0).forEach((function(t){l()(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):x(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}s={isDevMode:!1,clashPath:"",clashStatus:b.a.DISCONNECTED,profilesPath:"",profiles:{},confData:{},logFilePath:_.a.get(w.a.LAST_LOG_FILE_PATH)||"",isMixinEnable:_.a.get(w.a.IS_MIXIN)||!1,exePath:"",errors:[],status:b.b.INIT,clashAxiosFlyingRequestCount:0,settings:{},shouldUseDarkTheme:!1,detectedInterfaceName:_.a.get(w.a.DETECTED_INTERFACE_NAME)||"",isWindowShow:!1,isAppSuspend:!1,innerServerPort:0,isLocalMode:!0,isLaunching:!0,menuItems:[{title:"主页",path:"/home/general"},{title:"喵星中转站",path:"/home/proxy"},{title:"配置喵喵",path:"/home/server"},{title:"抓鱼记录",path:"/home/log"},{title:"抓鱼的喵",path:"/home/connection"},{title:"调教喵喵",path:"/home/setting"},{title:"关于憨版clash",path:"/home/about"}],updateDownloadProgress:null,isSystemProxyOn:_.a.get(w.a.SYSTEM_PROXY)||!1,isSubViewShow:!1,currentRoutePath:_.a.get(w.a.CURRENT_ROUTE_PATH)||"/home/general",profileRefreshTimes:0,mode:"rule",routerHijackMacAddresses:_.a.get(w.a.ROUTER_HIJACK_MAC_ADDRESSES)||[],currentProfilePayload:{},isSilentUpgraded:!1,tunSettings:_.a.get(w.a.TUN_SETTINGS),isTunEnable:_.a.get(w.a.IS_TUN)||!1,isFirewallRuleExist:!1,userDNS:null,matchedSSID:""},o={mixedPort:function(e){return e.confData["mixed-port"]||0},controllerPort:function(e){return(e=e.confData["external-controller"])?(e=e.split(":"),(e=c()(e,2))[0],e=e[1],parseInt(e.trim())||0):0},secret:function(e){return void 0===(e=e.confData.secret)?"":e},clashAxiosClient:function(e,t){var i=t.controllerPort;t=t.secret;return 0<i?p.a.create({baseURL:"http://127.0.0.1:".concat(i,"/"),timeout:5e3,headers:{Authorization:"Bearer ".concat(t)}}):null},clashGotClient:function(e,t){var i=t.controllerPort;t=t.secret;return 0<i?f.a.extend({baseUrl:"http://127.0.0.1:".concat(i),headers:{Authorization:"Bearer ".concat(t)}}):null},clashWSClient:function(e,t){return function(e){var i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],n=t.controllerPort,o=t.secret;return 0<n?(/^\//.test(e)||(e="/"+e),i="ws://127.0.0.1:".concat(n).concat(e,"?token=").concat(o).concat(0<i.length?"&".concat(i.join("&")):""),new v(i)):null}},resourcesPath:function(e){return e.isDevMode||""===e.exePath?"":g.a.join(g.a.dirname(e.exePath),Object(C.k)()?"../Resources":"./resources")},filesPath:function(e,t){return""!==t.resourcesPath?g.a.join(t.resourcesPath,"static/files"):"static/files"},clashBinaryPath:function(e,t){i={},l()(i,C.f,g.a.join(t.filesPath,"win","ia32")),l()(i,C.g,g.a.join(t.filesPath,"win","x64")),l()(i,C.e,g.a.join(t.filesPath,"win","arm64")),l()(i,C.d,g.a.join(t.filesPath,"darwin","x64")),l()(i,C.c,g.a.join(t.filesPath,"darwin","arm64")),l()(i,C.b,g.a.join(t.filesPath,"linux","x64")),l()(i,C.a,g.a.join(t.filesPath,"linux","arm64")),t=i[Object(C.h)()];var i=(i={},l()(i,C.f,"clash-win32.exe"),l()(i,C.g,"clash-win64.exe"),l()(i,C.e,"clash-win-arm64.exe"),l()(i,C.d,"./clash-darwin"),l()(i,C.c,"./clash-darwin"),l()(i,C.b,"./clash-linux"),l()(i,C.a,"./clash-linux"),i[Object(C.h)()]);return g.a.join(t,i)},theme:function(e){if(0===Object.keys(e.settings).length)return"unknown";if(e.settings){var t,i=(t=e.settings).theme;return void 0!==(t=t.systemTheme)&&t?e.shouldUseDarkTheme?"dark":"light":["light","dark","red","2077"][void 0===i?0:i]}return"light"},menuItemsWithOrder:function(e){return a()(e.menuItems).sort(n)},fontFamily:function(e){var t=void 0===(e=(i=e.settings).fontFamily)?"":e,i=void 0!==(e=i.useSystemEmoji)&&e;e=t.split(",").map((function(e){return'"'.concat(m.a.trim(e,' "'),'"')})),e="".concat(e.join(","),', "Microsoft Yahei", "PingFang SC", "system-ui", 微软雅黑');return i?e:"".concat(e,', "TwemojiMozilla"')}},i={getMode:function(e){return r()(d.a.mark((function t(){var i,n,o;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=e.commit,o=e.getters,n=o.clashAxiosClient)return t.next=5,n.get("/configs").catch((function(e){}));t.next=9;break;case 5:o=t.sent,n=o.status,o=o.data,200===n&&(o=o.mode,i("CHANGE_MODE",{mode:o}));case 9:case"end":return t.stop()}}),t)})))()},setMode:function(e,t){return r()(d.a.mark((function i(){var n,o,r;return d.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(n=e.commit,r=e.getters,o=t.mode,r=r.clashAxiosClient)return i.next=6,r.patch("/configs",{mode:o}).catch((function(e){}));i.next=9;break;case 6:204===(r=i.sent).status&&n("CHANGE_MODE",{mode:o});case 9:case"end":return i.stop()}}),i)})))()},getParserLogPath:function(){return r()(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.ipcRenderer.invoke("app","getPath","temp");case 2:return t=e.sent,e.abrupt("return",g.a.join(t,"cfw-parser.log"));case 4:case"end":return e.stop()}}),e)})))()},getScriptLogPath:function(){return r()(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.ipcRenderer.invoke("app","getPath","temp");case 2:return t=e.sent,e.abrupt("return",g.a.join(t,"cfw-script.log"));case 4:case"end":return e.stop()}}),e)})))()}},t.default={state:s,getters:o,mutations:{SET_IS_DEV_MODE:function(e,t){t=t.isDevMode,(e.isDevMode=t)&&(e.isWindowShow=!0)},CHANGE_IS_MIXIN_ENABLE:function(e,t){t=t.isMixin,e.isMixinEnable=t,""===e.matchedSSID&&_.a.put(w.a.IS_MIXIN,t)},SET_CLASH_PATH:function(e,t){t=t.path,e.clashPath=g.a.normalize(t)},SET_CLASH_STATUS:function(e,t){(t=t.status)!==b.a.CONNECTED&&t!==b.a.DISCONNECTED||(e.clashStatus=t)},SET_PROFILES_PATH:function(e,t){t=t.path,e.profilesPath=g.a.normalize(t)},SET_CONF_DATA:function(e,t){t=t.data,e.confData=t},LOAD_PROFILES:function(e){var t=h.a.readFileSync(g.a.join(e.profilesPath,"list.yml"),"utf8"),i=(t=(i=u.a.parse(t,{merge:!0,schema:"yaml-1.1"})).files,i.index);e.profiles={files:t,index:i}},SAVE_PROFILES:function(e){h.a.writeFileSync(g.a.join(e.profilesPath,"list.yml"),u.a.stringify(e.profiles))},CHANGE_PROFILES:function(e,t){t=t.profiles,e.profiles=S(S({},e.profiles),{},{files:t})},CHANGE_PROFILES_INDEX:function(e,t){t=t.index,e.profiles=S(S({},e.profiles),{},{index:t})},CHANGE_PROFILE:function(e,t){var i=t.index,n=t.profile;n&&((t=e.profiles.files.slice())[i]=n,e.profiles=S(S({},e.profiles),{},{files:t}))},DELETE_PROFILE:function(e,t){var i=t.index;(t=e.profiles.files.slice()).splice(i,1),e.profiles=S(S({},e.profiles),{},{files:t})},APPEND_PROFILE:function(e,t){var i=t.profile;t=void 0===(t=e.profiles.files)?[]:t;i&&(e.profiles=S(S({},e.profiles),{},{files:[].concat(a()(t),[i])}))},SET_LOG_FILE_PATH:function(e,t){t=t.path,t=g.a.normalize(t),e.logFilePath=t,_.a.put(w.a.LAST_LOG_FILE_PATH,t)},SET_EXE_PATH:function(e,t){t=t.path,e.exePath=g.a.normalize(t)},APPEND_ERROR:function(e,t){t=t.error,e.errors=[].concat(a()(e.errors),[t])},CHANGE_STATUS:function(e,t){t=t.status,e.status=t},ADD_AXIOS_FLYING_REQUEST_COUNT:function(e,t){t=t.count,e.clashAxiosFlyingRequestCount+=t},SET_SETTINGS_OBJECT:function(e,t){t=t.obj,e.settings=t},SAVE_SETTINGS_OBJECT:function(e,t){t=t.obj,e.settings=t,h.a.writeFileSync(g.a.join(e.clashPath,"cfw-settings.yaml"),u.a.stringify(t))},SET_SHOULD_USE_DARK_THEME:function(e,t){t=t.shouldUseDarkTheme,e.shouldUseDarkTheme=t},SET_DETECTED_INTERFACE_NAME:function(e,t){t=t.interfaceName,e.detectedInterfaceName=t,_.a.put(w.a.DETECTED_INTERFACE_NAME,t)},SET_IS_WINDOW_SHOW:function(e,t){t=t.isShow,e.isWindowShow=t},SET_IS_APP_SUSPEND:function(e,t){t=t.isSuspend,e.isAppSuspend=t},SET_INNER_SERVER_PORT:function(e,t){t=t.port,e.innerServerPort=t},SET_IS_LOCAL_MODE:function(e,t){t=t.isLocal,e.isLocalMode=t},SET_IS_LAUNCHING:function(e,t){t=t.isLaunching,e.isLaunching=t},SET_MENU_ITEMS:function(e,t){t=t.items,e.menuItems=t},SET_UPDATE_DOWNLOAD_PROGRESS:function(e,t){t=t.progress,e.updateDownloadProgress=t},SET_IS_SYSTEM_PROXY_ON:function(e,t){t=t.isOn,e.isSystemProxyOn=t,""===e.matchedSSID&&_.a.put(w.a.SYSTEM_PROXY,t)},SET_IS_SUB_VIEW_SHOW:function(e,t){t.isShow?e.isSubViewShow=!0:setTimeout((function(){e.isSubViewShow=!1}),50)},SET_CURRENT_ROUTE_PATH:function(e,t){t=t.path,e.currentRoutePath=t,_.a.put(w.a.CURRENT_ROUTE_PATH,t)},ADD_PROFILE_REFRESH_TIMES:function(e,t){t=t.times,e.profileRefreshTimes+=void 0===t?1:t},CHANGE_MODE:function(e,t){t=t.mode,["direct","rule","global","script"].includes(t)&&(e.mode=t)},SET_ROUTER_HIJACK_MAC_ADDRESSES:function(e,t){t=t.addresses,e.routerHijackMacAddresses=t,_.a.put(w.a.ROUTER_HIJACK_MAC_ADDRESSES,t)},SET_CURRENT_PROFILE_PAYLOAD:function(e,t){t=t.payload,e.currentProfilePayload=t},SET_IS_SILENT_UPGRADED:function(e,t){t=t.isUpgraded,e.isSilentUpgraded=t},SET_TUN_SETTINGS:function(e,t){t=t.settings,e.tunSettings=t,_.a.put(w.a.TUN_SETTINGS,t)},CHANGE_IS_TUN_ENABLE:function(e,t){t=t.isTun,e.isTunEnable=t,""===e.matchedSSID&&_.a.put(w.a.IS_TUN,t)},SET_IS_FIREWALL_RULE_EXIST:function(e,t){t=t.isExist,e.isFirewallRuleExist=t},SET_USER_DNS:function(e,t){t=t.dns,e.userDNS=t},SET_MATCHED_SSID:function(e,t){t=t.ssid,e.matchedSSID=t}},actions:i}}]);